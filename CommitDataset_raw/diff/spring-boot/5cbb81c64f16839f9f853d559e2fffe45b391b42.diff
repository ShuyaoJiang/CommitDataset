[+++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/ManagementWebSecurityAutoConfiguration.java, +				ignored.addAll(Arrays.asList(EndpointPaths.ALL, +						.getPaths(this.endpointHandlerMapping)));, +		protected final EndpointHandlerMapping getRequiredEndpointHandlerMapping() {, +			return this.endpointHandlerMapping;, +			return new EndpointPathRequestMatcher(EndpointPaths.ALL);, +					new EndpointPathRequestMatcher(EndpointPaths.NON_SENSITIVE)), +					.permitAll();, +			private final EndpointPaths endpointPaths;, +, +			EndpointPathRequestMatcher(EndpointPaths endpointPaths) {, +				this.endpointPaths = endpointPaths;, +				EndpointHandlerMapping endpointHandlerMapping = ManagementWebSecurityConfigurerAdapter.this, +						.getRequiredEndpointHandlerMapping();, +				for (String path : this.endpointPaths.getPaths(endpointHandlerMapping)) {, +	private enum EndpointPaths {, +		ALL,, +, +		NON_SENSITIVE {, +			@Override, +			protected boolean isIncluded(MvcEndpoint endpoint) {, +				return !endpoint.isSensitive();, +		};, +		public String[] getPaths(EndpointHandlerMapping endpointHandlerMapping) {, +				if (isIncluded(endpoint)) {, +						if (endpoint.isSensitive()) {, +		protected boolean isIncluded(MvcEndpoint endpoint) {, +			return true;, +		}, +]