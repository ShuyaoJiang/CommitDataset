[+++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/MetricFilterAutoConfiguration.java, +					suffix = fixSpecialCharacters(bestMatchingPattern.toString());, +		private String fixSpecialCharacters(String value) {, +			String result = value.replaceAll("[{}]", "-");, +			result = result.replace("**", "-star-star-");, +			result = result.replace("*", "-star-");, +			result = result.replace("/-", "/");, +			if (result.endsWith("-")) {, +				result = result.substring(0, result.length() - 1);, +			}, +			if (result.startsWith("-")) {, +				result = result.substring(1);, +			}, +			return result;, +		}, +, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/MetricFilterAutoConfiguration.java, +					suffix = fixSpecialCharacters(bestMatchingPattern.toString());, +		private String fixSpecialCharacters(String value) {, +			String result = value.replaceAll("[{}]", "-");, +			result = result.replace("**", "-star-star-");, +			result = result.replace("*", "-star-");, +			result = result.replace("/-", "/");, +			if (result.endsWith("-")) {, +				result = result.substring(0, result.length() - 1);, +			}, +			if (result.startsWith("-")) {, +				result = result.substring(1);, +			}, +			return result;, +		}, +, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/MetricFilterAutoConfigurationTests.java, +				"status.200.templateVarTest.someVariable");, +				eq("response.templateVarTest.someVariable"), anyDouble());, +				"status.404.knownPath.someVariable");, +				eq("response.knownPath.someVariable"), anyDouble());]