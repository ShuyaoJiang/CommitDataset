[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.java, +import org.springframework.beans.factory.ObjectProvider;, + * @author Stephane Nicoll, +@EnableConfigurationProperties(RedisProperties.class), +	/**, +	 * Redis connection configuration., +	 */, +	@Configuration, +	@ConditionalOnClass(GenericObjectPool.class), +	protected static class RedisConnectionConfiguration {, +, +		private final RedisProperties properties;, +, +		private final RedisSentinelConfiguration sentinelConfiguration;, +, +		private final RedisClusterConfiguration clusterConfiguration;, +, +		public RedisConnectionConfiguration(RedisProperties properties,, +				ObjectProvider<RedisSentinelConfiguration> sentinelConfigurationProvider,, +				ObjectProvider<RedisClusterConfiguration> clusterConfigurationProvider) {, +			this.properties = properties;, +			this.sentinelConfiguration = sentinelConfigurationProvider.getIfAvailable();, +			this.clusterConfiguration = clusterConfigurationProvider.getIfAvailable();, +		@Bean, +		@ConditionalOnMissingBean(RedisConnectionFactory.class), +		public JedisConnectionFactory redisConnectionFactory(), +				throws UnknownHostException {, +			return applyProperties(createJedisConnectionFactory());, +		}]