[+++ b/spring-boot-tools/spring-boot-gradle-plugin/src/main/groovy/org/springframework/boot/gradle/repackage/RepackageTask.java, +import java.util.HashSet;, +import java.util.Set;, +				if ("".equals(task.getClassifier())) {, +					Set<Object> tasksWithCustomRepackaging = new HashSet<Object>();, +					for (RepackageTask repackageTask : RepackageTask.this.getProject(), +							.getTasks().withType(RepackageTask.class)) {, +						if (repackageTask.getWithJarTask() != null) {, +							tasksWithCustomRepackaging, +									.add(repackageTask.getWithJarTask());, +						}, +					}, +					return !tasksWithCustomRepackaging.contains(task);, +				}, +				return false;]