[+++ b/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/maven/MavenSettings.java, +import java.io.BufferedReader;, +import java.io.IOException;, +import java.io.StringReader;, +import org.apache.maven.model.path.DefaultPathTranslator;, +			printer.println("    " + problem.getMessage() + (problem.getLocation() != null, +					? " at " + problem.getLocation() : ""));, +			if (problem.getException() != null) {, +				printer.println(indentStackTrace(problem.getException(), "        "));, +			}, +	private String indentStackTrace(Exception ex, String indent) {, +		return indentLines(printStackTrace(ex), indent);, +	}, +, +	private String printStackTrace(Exception ex) {, +		StringWriter stackTrace = new StringWriter();, +		PrintWriter printer = new PrintWriter(stackTrace);, +		ex.printStackTrace(printer);, +		return stackTrace.toString();, +	}, +, +	private String indentLines(String input, String indent) {, +		StringWriter indented = new StringWriter();, +		PrintWriter writer = new PrintWriter(indented);, +		String line;, +		BufferedReader reader = new BufferedReader(new StringReader(input));, +		try {, +			while ((line = reader.readLine()) != null) {, +				writer.println(indent + line);, +			}, +		}, +		catch (IOException ex) {, +			return input;, +		}, +		return indented.toString();, +	}, +, +, +		selector.addProfileActivator(new FileProfileActivator(), +				.setPathTranslator(new DefaultPathTranslator()));, +++ b/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/maven/MavenSettings.java, +import java.io.BufferedReader;, +import java.io.IOException;, +import java.io.StringReader;, +import org.apache.maven.model.path.DefaultPathTranslator;, +			printer.println("    " + problem.getMessage() + (problem.getLocation() != null, +					? " at " + problem.getLocation() : ""));, +			if (problem.getException() != null) {, +				printer.println(indentStackTrace(problem.getException(), "        "));, +			}, +	private String indentStackTrace(Exception ex, String indent) {, +		return indentLines(printStackTrace(ex), indent);, +	}, +, +	private String printStackTrace(Exception ex) {, +		StringWriter stackTrace = new StringWriter();, +		PrintWriter printer = new PrintWriter(stackTrace);, +		ex.printStackTrace(printer);, +		return stackTrace.toString();, +	}, +, +	private String indentLines(String input, String indent) {, +		StringWriter indented = new StringWriter();, +		PrintWriter writer = new PrintWriter(indented);, +		String line;, +		BufferedReader reader = new BufferedReader(new StringReader(input));, +		try {, +			while ((line = reader.readLine()) != null) {, +				writer.println(indent + line);, +			}, +		}, +		catch (IOException ex) {, +			return input;, +		}, +		return indented.toString();, +	}, +, +, +		selector.addProfileActivator(new FileProfileActivator(), +				.setPathTranslator(new DefaultPathTranslator()));, +++ b/spring-boot-cli/src/test/resources/maven-settings/basic/.m2/settings.xml, +	<profiles>, +		<profile>, +    		<id>test-profile</id>, +    		<activation>, +	        	<file>, +	            	<exists>${user.home}/.m2/some_file</exists>, +	        	</file>, +    		</activation>, +	    	<repositories>, +	        	<repository>, +	            	<id>example-repository</id>, +	            	<url>http://repo.example.com</url>, +	        	</repository>, +	    	</repositories>, +		</profile>, +	</profiles>, +]