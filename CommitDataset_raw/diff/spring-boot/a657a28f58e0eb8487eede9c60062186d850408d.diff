[+++ b/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/env/OriginTrackedPropertiesLoader.java, +				if (digit >= '0' && digit <= '9') {, +				else if (digit >= 'a' && digit <= 'f') {, +				else if (digit >= 'A' && digit <= 'F') {, +					throw new IllegalStateException("Malformed \\uxxxx encoding.");, +++ b/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/env/OriginTrackedPropertiesLoader.java, +				if (digit >= '0' && digit <= '9') {, +				else if (digit >= 'a' && digit <= 'f') {, +				else if (digit >= 'A' && digit <= 'F') {, +					throw new IllegalStateException("Malformed \\uxxxx encoding.");, +++ b/spring-boot-project/spring-boot/src/test/java/org/springframework/boot/env/OriginTrackedPropertiesLoaderTests.java, +import org.junit.Rule;, +import org.junit.rules.ExpectedException;, +	@Rule, +	public ExpectedException thrown = ExpectedException.none();, +, +	public void getMalformedUnicodeProperty() throws Exception {, +		// gh-2716, +		this.thrown.expect(IllegalStateException.class);, +		this.thrown.expectMessage("Malformed \\uxxxx encoding");, +		new OriginTrackedPropertiesLoader(new ClassPathResource(, +				"test-properties-malformed-unicode.properties", getClass())).load();, +	}, +, +	@Test, +++ b/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/env/OriginTrackedPropertiesLoader.java, +				if (digit >= '0' && digit <= '9') {, +				else if (digit >= 'a' && digit <= 'f') {, +				else if (digit >= 'A' && digit <= 'F') {, +					throw new IllegalStateException("Malformed \\uxxxx encoding.");, +++ b/spring-boot-project/spring-boot/src/test/java/org/springframework/boot/env/OriginTrackedPropertiesLoaderTests.java, +import org.junit.Rule;, +import org.junit.rules.ExpectedException;, +	@Rule, +	public ExpectedException thrown = ExpectedException.none();, +, +	public void getMalformedUnicodeProperty() throws Exception {, +		// gh-2716, +		this.thrown.expect(IllegalStateException.class);, +		this.thrown.expectMessage("Malformed \\uxxxx encoding");, +		new OriginTrackedPropertiesLoader(new ClassPathResource(, +				"test-properties-malformed-unicode.properties", getClass())).load();, +	}, +, +	@Test, +++ b/spring-boot-project/spring-boot/src/test/resources/org/springframework/boot/env/test-properties-malformed-unicode.properties, +test-malformed-unicode=properties\u(026test]