[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/ComponentScanDetector.java, +public class ComponentScanDetector implements ImportBeanDefinitionRegistrar,, +		BeanFactoryAware {, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/ComponentScanDetector.java, +public class ComponentScanDetector implements ImportBeanDefinitionRegistrar,, +		BeanFactoryAware {, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/JpaRepositoriesAutoConfiguration.java, +import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;, +import org.springframework.data.web.PageableHandlerMethodArgumentResolver;, +import org.springframework.data.web.config.EnableSpringDataWebSupport;, +	@Configuration, +	@EnableSpringDataWebSupport, +	@ConditionalOnWebApplication, +	@ConditionalOnMissingBean(PageableHandlerMethodArgumentResolver.class), +	protected static class JpaWebConfiguration {, +, +	}, +, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/ComponentScanDetector.java, +public class ComponentScanDetector implements ImportBeanDefinitionRegistrar,, +		BeanFactoryAware {, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/JpaRepositoriesAutoConfiguration.java, +import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;, +import org.springframework.data.web.PageableHandlerMethodArgumentResolver;, +import org.springframework.data.web.config.EnableSpringDataWebSupport;, +	@Configuration, +	@EnableSpringDataWebSupport, +	@ConditionalOnWebApplication, +	@ConditionalOnMissingBean(PageableHandlerMethodArgumentResolver.class), +	protected static class JpaWebConfiguration {, +, +	}, +, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/JpaWebAutoConfigurationTests.java, +import org.springframework.boot.autoconfigure.ComponentScanDetector;, +import org.springframework.context.annotation.Import;, +import org.springframework.data.web.PageableHandlerMethodArgumentResolver;, +import org.springframework.format.support.FormattingConversionService;, +import org.springframework.web.servlet.config.annotation.EnableWebMvc;, +import static org.junit.Assert.assertTrue;, +				EmbeddedDataSourceConfiguration.class,, +				HibernateJpaAutoConfiguration.class,, +		assertNotNull(this.context.getBean(PageableHandlerMethodArgumentResolver.class));, +		assertTrue(this.context.getBean(FormattingConversionService.class).canConvert(, +				Long.class, City.class));, +	// These is usually added by @EnableAutoConfiguration but have to be added as, +	// annotations if not using that feature, +	@Import(ComponentScanDetector.class), +	@EnableWebMvc]