[+++ b/spring-boot-project/spring-boot-cli/src/main/executablecontent/bin/spring, +cygwin=false, +darwin=false, +case "$(uname)" in, +if ${cygwin} ; then, +	[ -n "${JAVA_HOME}" ] && JAVA_HOME=$(cygpath --unix "${JAVA_HOME}"), +	if ${darwin} ; then, +		if [[ -z "${JAVA_HOME}" && -f "/usr/libexec/java_home" ]]; then, +			JAVA_HOME=$(/usr/libexec/java_home), +			export JAVA_HOME, +		fi, +		if [[ -z "${JAVA_HOME}" && -d "/Library/Java/Home" ]]; then , +			export JAVA_HOME="/Library/Java/Home", +		fi, +		if [[ -z "${JAVA_HOME}" && -d "/System/Library/Frameworks/JavaVM.framework/Home" ]]; then, +			export JAVA_HOME="/System/Library/Frameworks/JavaVM.framework/Home", +		fi, +		javaExecutable="$(which javac)", +		if [[ -z "$javaExecutable" || "$(expr "${javaExecutable}" : '\([^ ]*\)')" = "no" ]]; then, +			echo "JAVA_HOME not set and cannot find javac to deduce location, please set JAVA_HOME.", +			exit 1, +		fi, +		readLink=(which readlink), +		[ $(expr "$readLink" : '\([^ ]*\)') = "no" ] && {, +			echo "JAVA_HOME not set and readlink not available, please set JAVA_HOME.", +			exit 1, +		}, +		javaExecutable="$(readlink -f "${javaExecutable}")", +		javaHome="$(dirname "${javaExecutable}")", +		javaHome=$(expr "$javaHome" : '\(.*\)/bin'), +		JAVA_HOME="${javaHome}", +	cat <<-JAVA_HOME_NOT_SET_TXT, +	, +	======================================================================================================, +	 Please ensure that your JAVA_HOME points to a valid Java SDK., +	 You are currently pointing to:, +	, +	  ${JAVA_HOME}, +	, +	 This does not seem to be valid. Please rectify and restart., +	======================================================================================================, +	, +	JAVA_HOME_NOT_SET_TXT, +	    ls=$(ls -ld "$PRG"), +	    link=$(expr "$ls" : '.*-> \(.*\)$'), +		    PRG=$(dirname "$PRG")"/$link", +    SAVED="$(pwd)", +    cd "$(dirname "${PRG}")/../" >&-, +    SPRING_HOME="$(pwd -P)", +    export SPRING_HOME, +if [ -d "${SPRING_HOME}/ext" ]; then, +	SPRING_HOME=$(cygpath --path --mixed "$SPRING_HOME"), +	CLASSPATH=$(cygpath --path --mixed "$CLASSPATH")]