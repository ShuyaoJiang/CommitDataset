[+++ b/spring-boot/src/main/java/org/springframework/boot/web/client/RestTemplateBuilder.java, +			requestFactory = this.requestFactory;, +			ClientHttpRequestFactory unwrappedRequestFactory = unwrapRequestFactoryIfNecessary(, +					requestFactory);, +				customizer.customize(unwrappedRequestFactory);, +++ b/spring-boot/src/main/java/org/springframework/boot/web/client/RestTemplateBuilder.java, +			requestFactory = this.requestFactory;, +			ClientHttpRequestFactory unwrappedRequestFactory = unwrapRequestFactoryIfNecessary(, +					requestFactory);, +				customizer.customize(unwrappedRequestFactory);, +++ b/spring-boot/src/test/java/org/springframework/boot/web/client/RestTemplateBuilderTests.java, +	@Test, +	public void unwrappingDoesNotAffectRequestFactoryThatIsSetOnTheBuiltTemplate() {, +		SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();, +		RestTemplate template = this.builder, +				.requestFactory(new BufferingClientHttpRequestFactory(requestFactory)), +				.build();, +		assertThat(template.getRequestFactory()), +				.isInstanceOf(BufferingClientHttpRequestFactory.class);, +	}, +]