[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/AutoConfigurationPackages.java, +import org.apache.commons.logging.Log;, +import org.apache.commons.logging.LogFactory;, +import org.springframework.util.StringUtils;, +	private static Log logger = LogFactory.getLog(AutoConfigurationPackages.class);, +, +		private static final String NO_SUCH_PACKAGE = "not.scanning.root";, +, +			String packageName = ClassUtils.getPackageName(importingClassMetadata, +					.getClassName());, +			if (StringUtils.hasText(packageName)) {, +				set(registry, packageName);, +				logger.info("@EnableAutoConfiguration was declared on a class in the package '", +						+ packageName + "'. Automatic @Repository scanning is enabled.");, +			else {, +				set(registry, NO_SUCH_PACKAGE);, +				logger.warn("@EnableAutoConfiguration was declared on a class in the default package. ", +						+ "Automatic @Repository scanning is not enabled.");, +			}, +		}]