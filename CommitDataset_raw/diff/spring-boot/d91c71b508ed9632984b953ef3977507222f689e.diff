[+++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.java, +	 * @deprecated since 2.1.0 in favor of Spring Security's testing support, +	@Deprecated, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.java, +	 * @deprecated since 2.1.0 in favor of Spring Security's testing support, +	@Deprecated, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/MockMvcWebDriverAutoConfiguration.java, +import java.util.concurrent.Executors;, +, +import org.springframework.security.concurrent.DelegatingSecurityContextExecutor;, +import org.springframework.util.ClassUtils;, +	private static final String SECURITY_CONTEXT_EXECUTOR = "org.springframework.security.concurrent.DelegatingSecurityContextExecutor";, +, +		HtmlUnitDriver driver = builder.build();, +		if (ClassUtils.isPresent(SECURITY_CONTEXT_EXECUTOR,, +				getClass().getClassLoader())) {, +			driver.setExecutor(new DelegatingSecurityContextExecutor(, +					Executors.newSingleThreadExecutor()));, +		}, +		return driver;, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.java, +	 * @deprecated since 2.1.0 in favor of Spring Security's testing support, +	@Deprecated, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/MockMvcWebDriverAutoConfiguration.java, +import java.util.concurrent.Executors;, +, +import org.springframework.security.concurrent.DelegatingSecurityContextExecutor;, +import org.springframework.util.ClassUtils;, +	private static final String SECURITY_CONTEXT_EXECUTOR = "org.springframework.security.concurrent.DelegatingSecurityContextExecutor";, +, +		HtmlUnitDriver driver = builder.build();, +		if (ClassUtils.isPresent(SECURITY_CONTEXT_EXECUTOR,, +				getClass().getClassLoader())) {, +			driver.setExecutor(new DelegatingSecurityContextExecutor(, +					Executors.newSingleThreadExecutor()));, +		}, +		return driver;, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.java, +	 * @deprecated since 2.1.0 in favor of Spring Security's testing support, +	@Deprecated, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.java, +	 * @deprecated since 2.1.0 in favor of Spring Security's testing support, +	@Deprecated, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/MockMvcWebDriverAutoConfiguration.java, +import java.util.concurrent.Executors;, +, +import org.springframework.security.concurrent.DelegatingSecurityContextExecutor;, +import org.springframework.util.ClassUtils;, +	private static final String SECURITY_CONTEXT_EXECUTOR = "org.springframework.security.concurrent.DelegatingSecurityContextExecutor";, +, +		HtmlUnitDriver driver = builder.build();, +		if (ClassUtils.isPresent(SECURITY_CONTEXT_EXECUTOR,, +				getClass().getClassLoader())) {, +			driver.setExecutor(new DelegatingSecurityContextExecutor(, +					Executors.newSingleThreadExecutor()));, +		}, +		return driver;, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.java, +	 * @deprecated since 2.1.0 in favor of Spring Security's testing support, +	@Deprecated, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/test/java/org/springframework/boot/test/autoconfigure/restdocs/MockMvcRestDocsAutoConfigurationAdvancedConfigurationIntegrationTests.java, +@WebMvcTest(controllers = RestDocsTestController.class), +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.java, +	 * @deprecated since 2.1.0 in favor of Spring Security's testing support, +	@Deprecated, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/MockMvcWebDriverAutoConfiguration.java, +import java.util.concurrent.Executors;, +, +import org.springframework.security.concurrent.DelegatingSecurityContextExecutor;, +import org.springframework.util.ClassUtils;, +	private static final String SECURITY_CONTEXT_EXECUTOR = "org.springframework.security.concurrent.DelegatingSecurityContextExecutor";, +, +		HtmlUnitDriver driver = builder.build();, +		if (ClassUtils.isPresent(SECURITY_CONTEXT_EXECUTOR,, +				getClass().getClassLoader())) {, +			driver.setExecutor(new DelegatingSecurityContextExecutor(, +					Executors.newSingleThreadExecutor()));, +		}, +		return driver;, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.java, +	 * @deprecated since 2.1.0 in favor of Spring Security's testing support, +	@Deprecated, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/test/java/org/springframework/boot/test/autoconfigure/restdocs/MockMvcRestDocsAutoConfigurationAdvancedConfigurationIntegrationTests.java, +@WebMvcTest(controllers = RestDocsTestController.class), +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/test/java/org/springframework/boot/test/autoconfigure/web/servlet/mockmvc/WebMvcTestAllControllersIntegrationTests.java, +import org.springframework.security.test.context.support.WithMockUser;, +@WebMvcTest, +@WithMockUser, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.java, +	 * @deprecated since 2.1.0 in favor of Spring Security's testing support, +	@Deprecated, +++ b/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/servlet/MockMvcWebDriverAutoConfiguration.java, +import java.util.concurrent.Executors;, +, +import org.springframework.security.concurrent.DelegatingSecurityContextExecutor;, +import org.springframework.util.ClassUtils;, +	private static final String SECURITY_CONTEXT_EXECUTOR = "org.springframework.security.concurrent.DelegatingSecurityContextExecutor";, +, +		HtmlUnitDriver driver = builder.build();, +		if (ClassUtils.isPresent(SECURITY_CONTEXT_EXECUTOR,]