[+++ b/spring-boot-cli/samples/actuator.groovy, +@RestController, +++ b/spring-boot-cli/samples/actuator.groovy, +@RestController, +++ b/spring-boot-cli/samples/secure.groovy, +package org.test, +, +@Grab("spring-boot-starter-security"), +@Grab("spring-boot-starter-actuator"), +, +@RestController, +class SampleController {, +, +	@RequestMapping("/"), +	public def hello() {, +		[message: "Hello World!"], +	}, +}, +++ b/spring-boot-cli/samples/actuator.groovy, +@RestController, +++ b/spring-boot-cli/samples/secure.groovy, +package org.test, +, +@Grab("spring-boot-starter-security"), +@Grab("spring-boot-starter-actuator"), +, +@RestController, +class SampleController {, +, +	@RequestMapping("/"), +	public def hello() {, +		[message: "Hello World!"], +	}, +}, +++ b/spring-boot-cli/src/test/java/org/springframework/boot/cli/ReproIntegrationTests.java, +	// Security depends on old versions of Spring so if the dependencies aren't pinned, +	// this will fail, +	@Test, +	public void securityDependencies() throws Exception {, +		this.cli.run("secure.groovy");, +		assertThat(this.cli.getHttpOutput(),, +				containsString("{\"message\":\"Hello World\"}"));, +	}, +, +	@Test, +	public void shellDependencies() throws Exception {, +		this.cli.run("crsh.groovy");, +		assertThat(this.cli.getHttpOutput(),, +				containsString("{\"message\":\"Hello World\"}"));, +	}, +, +++ b/spring-boot-cli/samples/actuator.groovy, +@RestController, +++ b/spring-boot-cli/samples/secure.groovy, +package org.test, +, +@Grab("spring-boot-starter-security"), +@Grab("spring-boot-starter-actuator"), +, +@RestController, +class SampleController {, +, +	@RequestMapping("/"), +	public def hello() {, +		[message: "Hello World!"], +	}, +}, +++ b/spring-boot-cli/src/test/java/org/springframework/boot/cli/ReproIntegrationTests.java, +	// Security depends on old versions of Spring so if the dependencies aren't pinned, +	// this will fail, +	@Test, +	public void securityDependencies() throws Exception {, +		this.cli.run("secure.groovy");, +		assertThat(this.cli.getHttpOutput(),, +				containsString("{\"message\":\"Hello World\"}"));, +	}, +, +	@Test, +	public void shellDependencies() throws Exception {, +		this.cli.run("crsh.groovy");, +		assertThat(this.cli.getHttpOutput(),, +				containsString("{\"message\":\"Hello World\"}"));, +	}, +, +++ b/spring-boot-cli/src/test/resources/repro-samples/crsh.groovy, +package org.test, +, +@Grab("spring-boot-starter-shell-remote"), +, +@RestController, +class SampleController {, +, +	@RequestMapping("/"), +	public def hello() {, +		[message: "Hello World!"], +	}, +}, +, +, +++ b/spring-boot-cli/samples/actuator.groovy]