[+++ b/spring-boot/src/main/java/org/springframework/boot/env/SpringApplicationJsonEnvironmentPostProcessor.java, +import java.util.Collection;, +			extract(name, result, value);, +		}, +	}, +, +	private void extract(String name, Map<String, Object> result, Object value) {, +		if (value instanceof Collection) {, +			@SuppressWarnings("unchecked"), +			Collection<Object> nested = (Collection<Object>) value;, +			int index = 0;, +			for (Object object : nested) {, +				extract(name + "[" + index + "]", result, object);, +				index++;, +			}, +		}, +++ b/spring-boot/src/main/java/org/springframework/boot/env/SpringApplicationJsonEnvironmentPostProcessor.java, +import java.util.Collection;, +			extract(name, result, value);, +		}, +	}, +, +	private void extract(String name, Map<String, Object> result, Object value) {, +		if (value instanceof Collection) {, +			@SuppressWarnings("unchecked"), +			Collection<Object> nested = (Collection<Object>) value;, +			int index = 0;, +			for (Object object : nested) {, +				extract(name + "[" + index + "]", result, object);, +				index++;, +			}, +		}, +++ b/spring-boot/src/test/java/org/springframework/boot/env/SpringApplicationJsonEnvironmentPostProcessorTests.java, +	@Test, +	public void list() {, +		assertEquals("", this.environment.resolvePlaceholders("${foo[1]:}"));, +		EnvironmentTestUtils.addEnvironment(this.environment,, +				"SPRING_APPLICATION_JSON={\"foo\":[\"bar\",\"spam\"]}");, +		this.processor.postProcessEnvironment(this.environment, null);, +		assertEquals("spam", this.environment.resolvePlaceholders("${foo[1]:}"));, +	}, +, +	@Test, +	public void listOfObject() {, +		assertEquals("", this.environment.resolvePlaceholders("${foo[0].bar:}"));, +		EnvironmentTestUtils.addEnvironment(this.environment,, +				"SPRING_APPLICATION_JSON={\"foo\":[{\"bar\":\"spam\"}]}");, +		this.processor.postProcessEnvironment(this.environment, null);, +		assertEquals("spam", this.environment.resolvePlaceholders("${foo[0].bar:}"));, +	}, +]