[+++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		for (ApplicationContextInitializer<?> initializer : getInitializers()) {, +		for (ApplicationContextInitializer<?> initializer : getInitializers()) {, +		for (ApplicationContextInitializer initializer : getInitializers()) {, +	 * {@link ApplicationContext}. Any existing initializers will be replaced. The default, +	 * initializers (from <code>META-INF/spring.factories</code> are always appended at, +	 * runtime)., +		List<ApplicationContextInitializer<?>> initializers = new ArrayList<ApplicationContextInitializer<?>>(, +				this.initializers);, +		initializers.addAll(getSpringFactoriesApplicationContextInitializers());, +		return initializers;, +++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		for (ApplicationContextInitializer<?> initializer : getInitializers()) {, +		for (ApplicationContextInitializer<?> initializer : getInitializers()) {, +		for (ApplicationContextInitializer initializer : getInitializers()) {, +	 * {@link ApplicationContext}. Any existing initializers will be replaced. The default, +	 * initializers (from <code>META-INF/spring.factories</code> are always appended at, +	 * runtime)., +		List<ApplicationContextInitializer<?>> initializers = new ArrayList<ApplicationContextInitializer<?>>(, +				this.initializers);, +		initializers.addAll(getSpringFactoriesApplicationContextInitializers());, +		return initializers;, +++ b/spring-boot/src/main/java/org/springframework/boot/builder/SpringApplicationBuilder.java, +import org.springframework.boot.context.initializer.ServletContextApplicationContextInitializer;, +		for (ApplicationContextInitializer<?> initializer : initializers) {, +			boolean prepend = false;, +			if (initializer instanceof ParentContextApplicationContextInitializer, +					|| initializer instanceof ServletContextApplicationContextInitializer) {, +				prepend = true;, +			}, +			addInitializers(prepend, initializer);, +		}, +++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		for (ApplicationContextInitializer<?> initializer : getInitializers()) {, +		for (ApplicationContextInitializer<?> initializer : getInitializers()) {, +		for (ApplicationContextInitializer initializer : getInitializers()) {, +	 * {@link ApplicationContext}. Any existing initializers will be replaced. The default, +	 * initializers (from <code>META-INF/spring.factories</code> are always appended at, +	 * runtime)., +		List<ApplicationContextInitializer<?>> initializers = new ArrayList<ApplicationContextInitializer<?>>(, +				this.initializers);, +		initializers.addAll(getSpringFactoriesApplicationContextInitializers());, +		return initializers;, +++ b/spring-boot/src/main/java/org/springframework/boot/builder/SpringApplicationBuilder.java, +import org.springframework.boot.context.initializer.ServletContextApplicationContextInitializer;, +		for (ApplicationContextInitializer<?> initializer : initializers) {, +			boolean prepend = false;, +			if (initializer instanceof ParentContextApplicationContextInitializer, +					|| initializer instanceof ServletContextApplicationContextInitializer) {, +				prepend = true;, +			}, +			addInitializers(prepend, initializer);, +		}, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/EmbeddedWebApplicationContext.java, +		if (this.embeddedServletContainer == null && getServletContext() == null) {, +		else if (getServletContext() != null) {, +			try {, +				getSelfInitializer().onStartup(getServletContext());, +			}, +			catch (ServletException ex) {, +				throw new ApplicationContextException(, +						"Cannot initialize servlet context", ex);, +			}, +		}, +++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		for (ApplicationContextInitializer<?> initializer : getInitializers()) {, +		for (ApplicationContextInitializer<?> initializer : getInitializers()) {, +		for (ApplicationContextInitializer initializer : getInitializers()) {, +	 * {@link ApplicationContext}. Any existing initializers will be replaced. The default, +	 * initializers (from <code>META-INF/spring.factories</code> are always appended at, +	 * runtime)., +		List<ApplicationContextInitializer<?>> initializers = new ArrayList<ApplicationContextInitializer<?>>(, +				this.initializers);, +		initializers.addAll(getSpringFactoriesApplicationContextInitializers());, +		return initializers;, +++ b/spring-boot/src/main/java/org/springframework/boot/builder/SpringApplicationBuilder.java, +import org.springframework.boot.context.initializer.ServletContextApplicationContextInitializer;, +		for (ApplicationContextInitializer<?> initializer : initializers) {, +			boolean prepend = false;, +			if (initializer instanceof ParentContextApplicationContextInitializer, +					|| initializer instanceof ServletContextApplicationContextInitializer) {, +				prepend = true;, +			}, +			addInitializers(prepend, initializer);, +		}, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/EmbeddedWebApplicationContext.java, +		if (this.embeddedServletContainer == null && getServletContext() == null) {, +		else if (getServletContext() != null) {, +			try {, +				getSelfInitializer().onStartup(getServletContext());, +			}, +			catch (ServletException ex) {, +				throw new ApplicationContextException(, +						"Cannot initialize servlet context", ex);, +			}, +		}, +++ b/spring-boot/src/main/java/org/springframework/boot/web/SpringBootServletInitializer.java, +		if (parent != null) {, +			application.initializers(new ParentContextApplicationContextInitializer(, +					parent));]