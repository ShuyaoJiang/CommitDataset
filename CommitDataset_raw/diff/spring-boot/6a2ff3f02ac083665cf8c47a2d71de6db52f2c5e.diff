[+++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfigurationTests.java, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfigurationTests.java, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/ElasticsearchHealthIndicatorTests.java, +import org.elasticsearch.cluster.health.ClusterHealthStatus;, +					new ClusterState(null, 0, null, null, RoutingTable.builder().build(),, +							ClusterBlocks.builder().build(), null, false));, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfigurationTests.java, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/ElasticsearchHealthIndicatorTests.java, +import org.elasticsearch.cluster.health.ClusterHealthStatus;, +					new ClusterState(null, 0, null, null, RoutingTable.builder().build(),, +							ClusterBlocks.builder().build(), null, false));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.java, +import java.io.File;, +import org.elasticsearch.common.settings.Settings;, +		defaults.put("path.home", new File(System.getProperty("java.io.tmpdir"), "elastic-home").getAbsolutePath());, +		Settings.Builder settings = Settings.settingsBuilder();, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfigurationTests.java, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/ElasticsearchHealthIndicatorTests.java, +import org.elasticsearch.cluster.health.ClusterHealthStatus;, +					new ClusterState(null, 0, null, null, RoutingTable.builder().build(),, +							ClusterBlocks.builder().build(), null, false));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.java, +import java.io.File;, +import org.elasticsearch.common.settings.Settings;, +		defaults.put("path.home", new File(System.getProperty("java.io.tmpdir"), "elastic-home").getAbsolutePath());, +		Settings.Builder settings = Settings.settingsBuilder();, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfigurationTests.java, +				"spring.data.elasticsearch.properties.foo.bar:baz");, +				"spring.data.elasticsearch.cluster-nodes:localhost");, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfigurationTests.java, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/ElasticsearchHealthIndicatorTests.java, +import org.elasticsearch.cluster.health.ClusterHealthStatus;, +					new ClusterState(null, 0, null, null, RoutingTable.builder().build(),, +							ClusterBlocks.builder().build(), null, false));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.java, +import java.io.File;, +import org.elasticsearch.common.settings.Settings;, +		defaults.put("path.home", new File(System.getProperty("java.io.tmpdir"), "elastic-home").getAbsolutePath());, +		Settings.Builder settings = Settings.settingsBuilder();, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfigurationTests.java, +				"spring.data.elasticsearch.properties.foo.bar:baz");, +				"spring.data.elasticsearch.cluster-nodes:localhost");, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchRepositoriesAutoConfigurationTests.java, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfigurationTests.java, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/ElasticsearchHealthIndicatorTests.java, +import org.elasticsearch.cluster.health.ClusterHealthStatus;, +					new ClusterState(null, 0, null, null, RoutingTable.builder().build(),, +							ClusterBlocks.builder().build(), null, false));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.java, +import java.io.File;, +import org.elasticsearch.common.settings.Settings;, +		defaults.put("path.home", new File(System.getProperty("java.io.tmpdir"), "elastic-home").getAbsolutePath());, +		Settings.Builder settings = Settings.settingsBuilder();, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfigurationTests.java, +				"spring.data.elasticsearch.properties.foo.bar:baz");, +				"spring.data.elasticsearch.cluster-nodes:localhost");, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchRepositoriesAutoConfigurationTests.java, +++ b/spring-boot-dependencies/pom.xml, +		<elasticsearch.version>2.2.0</elasticsearch.version>, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfigurationTests.java, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/ElasticsearchHealthIndicatorTests.java, +import org.elasticsearch.cluster.health.ClusterHealthStatus;, +					new ClusterState(null, 0, null, null, RoutingTable.builder().build(),, +							ClusterBlocks.builder().build(), null, false));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.java, +import java.io.File;, +import org.elasticsearch.common.settings.Settings;, +		defaults.put("path.home", new File(System.getProperty("java.io.tmpdir"), "elastic-home").getAbsolutePath());, +		Settings.Builder settings = Settings.settingsBuilder();, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfigurationTests.java, +				"spring.data.elasticsearch.properties.foo.bar:baz");, +				"spring.data.elasticsearch.cluster-nodes:localhost");, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchRepositoriesAutoConfigurationTests.java, +++ b/spring-boot-dependencies/pom.xml, +		<elasticsearch.version>2.2.0</elasticsearch.version>, +++ b/spring-boot-samples/spring-boot-sample-data-elasticsearch/src/test/java/sample/data/elasticsearch/SampleElasticsearchApplicationTests.java, +			new SpringApplicationBuilder(SampleElasticsearchApplication.class).run();]