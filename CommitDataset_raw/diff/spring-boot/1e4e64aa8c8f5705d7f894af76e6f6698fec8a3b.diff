[+++ b/spring-boot-tools/spring-boot-loader-tools/src/main/java/org/springframework/boot/loader/tools/DefaultLaunchScript.java, + * Copyright 2012-2017 the original author or authors., +import java.io.ByteArrayOutputStream;, +import java.io.FileInputStream;, +import java.io.InputStream;, +import java.io.OutputStream;, +import java.util.Collections;, +import java.util.HashSet;, +import java.util.Set;, +	private static final int BUFFER_SIZE = 4096;, +, +	private static final Set<String> FILE_PATH_KEYS = Collections, +			.unmodifiableSet(new HashSet<>(Arrays.asList("inlinedConfScript")));, +			return loadContent(getClass().getResourceAsStream("launch.script"));, +		return loadContent(new FileInputStream(file));, +	private String loadContent(InputStream inputStream) throws IOException {, +		try {, +			ByteArrayOutputStream outputStream = new ByteArrayOutputStream();, +			copy(inputStream, outputStream);, +			return new String(outputStream.toByteArray(), UTF_8);, +		}, +		finally {, +			inputStream.close();, +		}, +	}, +, +	private void copy(InputStream inputStream, OutputStream outputStream), +			throws IOException {, +		byte[] buffer = new byte[BUFFER_SIZE];, +		int bytesRead = -1;, +		while ((bytesRead = inputStream.read(buffer)) != -1) {, +			outputStream.write(buffer, 0, bytesRead);, +		}, +		outputStream.flush();, +	}, +, +++ b/spring-boot-tools/spring-boot-loader-tools/src/main/java/org/springframework/boot/loader/tools/DefaultLaunchScript.java, + * Copyright 2012-2017 the original author or authors., +import java.io.ByteArrayOutputStream;, +import java.io.FileInputStream;, +import java.io.InputStream;, +import java.io.OutputStream;, +import java.util.Collections;, +import java.util.HashSet;, +import java.util.Set;, +	private static final int BUFFER_SIZE = 4096;, +, +	private static final Set<String> FILE_PATH_KEYS = Collections, +			.unmodifiableSet(new HashSet<>(Arrays.asList("inlinedConfScript")));, +			return loadContent(getClass().getResourceAsStream("launch.script"));, +		return loadContent(new FileInputStream(file));, +	private String loadContent(InputStream inputStream) throws IOException {, +		try {, +			ByteArrayOutputStream outputStream = new ByteArrayOutputStream();, +			copy(inputStream, outputStream);, +			return new String(outputStream.toByteArray(), UTF_8);, +		}, +		finally {, +			inputStream.close();, +		}, +	}, +, +	private void copy(InputStream inputStream, OutputStream outputStream), +			throws IOException {, +		byte[] buffer = new byte[BUFFER_SIZE];, +		int bytesRead = -1;, +		while ((bytesRead = inputStream.read(buffer)) != -1) {, +			outputStream.write(buffer, 0, bytesRead);, +		}, +		outputStream.flush();, +	}, +, +++ b/spring-boot-tools/spring-boot-loader-tools/src/test/java/org/springframework/boot/loader/tools/DefaultLaunchScriptTests.java, + * @author Justin Rosenberg]