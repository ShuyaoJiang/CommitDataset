[+++ b/spring-boot-loader-tools/src/main/java/org/springframework/boot/loader/tools/JarWriter.java, +import java.io.BufferedInputStream;, +import java.net.URL;, +	private static final String NESTED_LOADER_JAR = "META-INF/loader/spring-boot-loader.jar";, +		URL loaderJar = getClass().getClassLoader().getResource(NESTED_LOADER_JAR);, +		JarInputStream inputStream = new JarInputStream(new BufferedInputStream(, +				loaderJar.openStream()));, +++ b/spring-boot-loader-tools/src/main/java/org/springframework/boot/loader/tools/JarWriter.java, +import java.io.BufferedInputStream;, +import java.net.URL;, +	private static final String NESTED_LOADER_JAR = "META-INF/loader/spring-boot-loader.jar";, +		URL loaderJar = getClass().getClassLoader().getResource(NESTED_LOADER_JAR);, +		JarInputStream inputStream = new JarInputStream(new BufferedInputStream(, +				loaderJar.openStream()));, +++ b/spring-boot-loader-tools/src/main/java/org/springframework/boot/loader/tools/Repackager.java, +	 * MANIFEST will be used, or if no manifest entry is found the archive will be]