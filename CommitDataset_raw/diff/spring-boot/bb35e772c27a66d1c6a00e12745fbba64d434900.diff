[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/transaction/jta/NarayanaJtaConfiguration.java, + * Copyright 2012-2017 the original author or authors., +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/transaction/jta/NarayanaJtaConfiguration.java, + * Copyright 2012-2017 the original author or authors., +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/transaction/jta/JtaAutoConfigurationTests.java, + * Copyright 2012-2017 the original author or authors., +import org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfigurationTests.CustomNarayanaRecoveryManagerConfiguration.CustomNarayanaRecoveryManagerBean;, +import org.springframework.boot.jta.narayana.NarayanaRecoveryManagerBean;, +	@Test, +	public void narayanaRecoveryManagerBeanCanBeCustomized() {, +		this.context = new AnnotationConfigApplicationContext();, +		this.context.register(CustomNarayanaRecoveryManagerConfiguration.class,, +				JtaProperties.class, NarayanaJtaConfiguration.class);, +		this.context.refresh();, +		assertThat(this.context.getBean(NarayanaRecoveryManagerBean.class)), +				.isInstanceOf(CustomNarayanaRecoveryManagerBean.class);, +	}, +, +	@Configuration, +	public static class CustomNarayanaRecoveryManagerConfiguration {, +, +		@Bean, +		public NarayanaRecoveryManagerBean customRecoveryManagerBean(, +				RecoveryManagerService recoveryManagerService) {, +			return new CustomNarayanaRecoveryManagerBean(recoveryManagerService);, +		}, +, +		static final class CustomNarayanaRecoveryManagerBean, +				extends NarayanaRecoveryManagerBean {, +, +			private CustomNarayanaRecoveryManagerBean(, +					RecoveryManagerService recoveryManagerService) {, +				super(recoveryManagerService);, +			}, +, +		}, +, +	}, +]