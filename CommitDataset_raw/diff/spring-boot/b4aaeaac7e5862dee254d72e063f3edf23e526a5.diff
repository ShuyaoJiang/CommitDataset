[+++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedContext.java, +import org.springframework.util.ClassUtils;, +		// Some older Servlet frameworks (e.g. Struts, BIRT) use the Thread context class, +		// loader to create servlet instances in this phase. If they do that and then try, +		// to initialize them later the class loader may have changed, so wrap the call to, +		// loadOnStartup in what we think its going to be the main webapp classloader at, +		// runtime., +		ClassLoader classLoader = getLoader().getClassLoader();, +		ClassLoader existingLoader = null;, +		if (classLoader != null) {, +			existingLoader = ClassUtils.overrideThreadContextClassLoader(classLoader);, +		}, +		if (existingLoader != null) {, +			ClassUtils.overrideThreadContextClassLoader(existingLoader);, +		}]