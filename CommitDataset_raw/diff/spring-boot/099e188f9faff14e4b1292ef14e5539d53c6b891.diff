[+++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcChildContextConfiguration.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizer;, +	static class ServerFactoryCustomization implements, +			WebServerFactoryCustomizer<ConfigurableServletWebServerFactory>, Ordered {, +			webServerFactory, +					.addErrorPages(new ErrorPage(this.server.getError().getPath()));, +	static abstract class AccessLogCustomizer implements Ordered {, +	static class TomcatAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<TomcatServletWebServerFactory> {, +	static class UndertowAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<UndertowServletWebServerFactory> {, +			serverFactory.setAccessLogPrefix(, +					customizePrefix(serverFactory.getAccessLogPrefix()));, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcChildContextConfiguration.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizer;, +	static class ServerFactoryCustomization implements, +			WebServerFactoryCustomizer<ConfigurableServletWebServerFactory>, Ordered {, +			webServerFactory, +					.addErrorPages(new ErrorPage(this.server.getError().getPath()));, +	static abstract class AccessLogCustomizer implements Ordered {, +	static class TomcatAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<TomcatServletWebServerFactory> {, +	static class UndertowAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<UndertowServletWebServerFactory> {, +			serverFactory.setAccessLogPrefix(, +					customizePrefix(serverFactory.getAccessLogPrefix()));, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/JolokiaAutoConfigurationTests.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizerBeanPostProcessor;, +		public WebServerFactoryCustomizerBeanPostProcessor ServletWebServerCustomizerBeanPostProcessor() {, +			return new WebServerFactoryCustomizerBeanPostProcessor();, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcChildContextConfiguration.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizer;, +	static class ServerFactoryCustomization implements, +			WebServerFactoryCustomizer<ConfigurableServletWebServerFactory>, Ordered {, +			webServerFactory, +					.addErrorPages(new ErrorPage(this.server.getError().getPath()));, +	static abstract class AccessLogCustomizer implements Ordered {, +	static class TomcatAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<TomcatServletWebServerFactory> {, +	static class UndertowAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<UndertowServletWebServerFactory> {, +			serverFactory.setAccessLogPrefix(, +					customizePrefix(serverFactory.getAccessLogPrefix()));, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/JolokiaAutoConfigurationTests.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizerBeanPostProcessor;, +		public WebServerFactoryCustomizerBeanPostProcessor ServletWebServerCustomizerBeanPostProcessor() {, +			return new WebServerFactoryCustomizerBeanPostProcessor();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/DefaultServletWebServerFactoryCustomizer.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizer;, + * Default {@link WebServerFactoryCustomizer} for {@link ServerProperties}., +		implements WebServerFactoryCustomizer<ConfigurableServletWebServerFactory>,, +		EnvironmentAware, Ordered {, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcChildContextConfiguration.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizer;, +	static class ServerFactoryCustomization implements, +			WebServerFactoryCustomizer<ConfigurableServletWebServerFactory>, Ordered {, +			webServerFactory, +					.addErrorPages(new ErrorPage(this.server.getError().getPath()));, +	static abstract class AccessLogCustomizer implements Ordered {, +	static class TomcatAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<TomcatServletWebServerFactory> {, +	static class UndertowAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<UndertowServletWebServerFactory> {, +			serverFactory.setAccessLogPrefix(, +					customizePrefix(serverFactory.getAccessLogPrefix()));, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/JolokiaAutoConfigurationTests.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizerBeanPostProcessor;, +		public WebServerFactoryCustomizerBeanPostProcessor ServletWebServerCustomizerBeanPostProcessor() {, +			return new WebServerFactoryCustomizerBeanPostProcessor();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/DefaultServletWebServerFactoryCustomizer.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizer;, + * Default {@link WebServerFactoryCustomizer} for {@link ServerProperties}., +		implements WebServerFactoryCustomizer<ConfigurableServletWebServerFactory>,, +		EnvironmentAware, Ordered {, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration.java, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcChildContextConfiguration.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizer;, +	static class ServerFactoryCustomization implements, +			WebServerFactoryCustomizer<ConfigurableServletWebServerFactory>, Ordered {, +			webServerFactory, +					.addErrorPages(new ErrorPage(this.server.getError().getPath()));, +	static abstract class AccessLogCustomizer implements Ordered {, +	static class TomcatAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<TomcatServletWebServerFactory> {, +	static class UndertowAccessLogCustomizer extends AccessLogCustomizer, +			implements WebServerFactoryCustomizer<UndertowServletWebServerFactory> {, +			serverFactory.setAccessLogPrefix(, +					customizePrefix(serverFactory.getAccessLogPrefix()));, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/autoconfigure/JolokiaAutoConfigurationTests.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizerBeanPostProcessor;, +		public WebServerFactoryCustomizerBeanPostProcessor ServletWebServerCustomizerBeanPostProcessor() {, +			return new WebServerFactoryCustomizerBeanPostProcessor();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/DefaultServletWebServerFactoryCustomizer.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizer;, + * Default {@link WebServerFactoryCustomizer} for {@link ServerProperties}., +		implements WebServerFactoryCustomizer<ConfigurableServletWebServerFactory>,, +		EnvironmentAware, Ordered {, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration.java, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/HttpEncodingAutoConfiguration.java, +import org.springframework.boot.web.server.WebServerFactoryCustomizer;]