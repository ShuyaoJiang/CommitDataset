[+++ b/spring-boot-samples/spring-boot-sample-data-mongo/src/test/java/org/springframework/boot/sample/data/mongo/SampleMongoApplicationTests.java, +import java.io.IOException;, +, +import org.springframework.core.NestedCheckedException;, +		try {, +		} catch (IllegalStateException e) {, +			if (serverNotRunning(e)) {, +				return;, +			}, +		}, +	private boolean serverNotRunning(IllegalStateException e) {, +		@SuppressWarnings("serial"), +		NestedCheckedException nested = new NestedCheckedException("failed", e) {, +		};, +		if (nested.contains(IOException.class)) {, +			Throwable root = nested.getRootCause();, +			if (root.getMessage().contains("couldn't connect to [localhost")) {, +				return true;, +			}, +		}, +		return false;, +	}, +]