[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchDataAutoConfiguration.java, + * Copyright 2012-2017 the original author or authors., +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +	@ConditionalOnBean(Client.class), +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchDataAutoConfiguration.java, + * Copyright 2012-2017 the original author or authors., +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +	@ConditionalOnBean(Client.class), +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchDataAutoConfigurationTests.java, +	public void templateBackOffWithNoClient() {, +		this.context = new AnnotationConfigApplicationContext(, +				ElasticsearchDataAutoConfiguration.class);, +		assertThat(this.context.getBeanNamesForType(ElasticsearchTemplate.class)), +				.isEmpty();, +	}, +, +	@Test]