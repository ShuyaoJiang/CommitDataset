[+++ b/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/grape/SettingsXmlRepositorySystemSessionAutoConfiguration.java, +/*, + * Copyright 2012-2014 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +, +	private static final String HOME_DIR = System.getProperty("user.home");, +, +, +		File settingsFile = new File(HOME_DIR, ".m2/settings.xml");, +		request.setUserSettingsFile(settingsFile);, +			return new DefaultSettingsBuilderFactory().newInstance().build(request), +					.getEffectiveSettings();, +		catch (SettingsBuildingException ex) {, +					+ settingsFile, ex);, +		DefaultMirrorSelector selector = new DefaultMirrorSelector();, +			selector.add(mirror.getId(), mirror.getUrl(), mirror.getLayout(), false,, +					mirror.getMirrorOf(), mirror.getMirrorOfLayouts());, +		return selector;, +		DefaultAuthenticationSelector selector = new DefaultAuthenticationSelector();, +			selector.add(server.getId(), auth.build());, +		return new ConservativeAuthenticationSelector(selector);, +		DefaultProxySelector selector = new DefaultProxySelector();, +			selector.add(new org.eclipse.aether.repository.Proxy(proxy.getProtocol(),, +					proxy.getHost(), proxy.getPort(), authentication), proxy, +		return selector;, +++ b/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/grape/SettingsXmlRepositorySystemSessionAutoConfiguration.java, +/*, + * Copyright 2012-2014 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +, +	private static final String HOME_DIR = System.getProperty("user.home");, +, +, +		File settingsFile = new File(HOME_DIR, ".m2/settings.xml");, +		request.setUserSettingsFile(settingsFile);, +			return new DefaultSettingsBuilderFactory().newInstance().build(request), +					.getEffectiveSettings();, +		catch (SettingsBuildingException ex) {, +					+ settingsFile, ex);, +		DefaultMirrorSelector selector = new DefaultMirrorSelector();, +			selector.add(mirror.getId(), mirror.getUrl(), mirror.getLayout(), false,, +					mirror.getMirrorOf(), mirror.getMirrorOfLayouts());, +		return selector;, +		DefaultAuthenticationSelector selector = new DefaultAuthenticationSelector();, +			selector.add(server.getId(), auth.build());, +		return new ConservativeAuthenticationSelector(selector);, +		DefaultProxySelector selector = new DefaultProxySelector();, +			selector.add(new org.eclipse.aether.repository.Proxy(proxy.getProtocol(),, +					proxy.getHost(), proxy.getPort(), authentication), proxy, +		return selector;, +++ b/spring-boot-cli/src/test/java/org/springframework/boot/cli/compiler/grape/SettingsXmlRepositorySystemSessionAutoConfigurationTests.java, +/*, + * Copyright 2012-2014 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +, +/**, + * Tests for {@link SettingsXmlRepositorySystemSessionAutoConfiguration}., + * , + * @author Andy Wilkinson, + */]