[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/JedisConnectionConfiguration.java, +		JedisPoolConfig poolConfig = pool != null ? jedisPoolConfig(pool), +				: new JedisPoolConfig();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/JedisConnectionConfiguration.java, +		JedisPoolConfig poolConfig = pool != null ? jedisPoolConfig(pool), +				: new JedisPoolConfig();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.java, +@ConditionalOnClass({ GenericObjectPool.class, RedisClient.class,, +		RedisClusterClient.class }), +			return applyClientResources(new LettuceConnectionFactory(getSentinelConfig()),, +			return new LettuceConnectionFactory(, +					applyProperties(applyClientResources(lettucePool, clientResources)));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/JedisConnectionConfiguration.java, +		JedisPoolConfig poolConfig = pool != null ? jedisPoolConfig(pool), +				: new JedisPoolConfig();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.java, +@ConditionalOnClass({ GenericObjectPool.class, RedisClient.class,, +		RedisClusterClient.class }), +			return applyClientResources(new LettuceConnectionFactory(getSentinelConfig()),, +			return new LettuceConnectionFactory(, +					applyProperties(applyClientResources(lettucePool, clientResources)));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.java, +@Import({ LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class }), +			RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {, +			RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/JedisConnectionConfiguration.java, +		JedisPoolConfig poolConfig = pool != null ? jedisPoolConfig(pool), +				: new JedisPoolConfig();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.java, +@ConditionalOnClass({ GenericObjectPool.class, RedisClient.class,, +		RedisClusterClient.class }), +			return applyClientResources(new LettuceConnectionFactory(getSentinelConfig()),, +			return new LettuceConnectionFactory(, +					applyProperties(applyClientResources(lettucePool, clientResources)));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.java, +@Import({ LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class }), +			RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {, +			RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/resource/ResourceServerProperties.java, +		BindingResult errors = new BeanPropertyBindingResult(this,, +				"resourceServerProperties");, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/JedisConnectionConfiguration.java, +		JedisPoolConfig poolConfig = pool != null ? jedisPoolConfig(pool), +				: new JedisPoolConfig();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.java, +@ConditionalOnClass({ GenericObjectPool.class, RedisClient.class,, +		RedisClusterClient.class }), +			return applyClientResources(new LettuceConnectionFactory(getSentinelConfig()),, +			return new LettuceConnectionFactory(, +					applyProperties(applyClientResources(lettucePool, clientResources)));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.java, +@Import({ LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class }), +			RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {, +			RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/resource/ResourceServerProperties.java, +		BindingResult errors = new BeanPropertyBindingResult(this,, +				"resourceServerProperties");, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfigurationJedisTests.java, +		assertThat(cf.getPoolConfig().getMaxWaitMillis()).isEqualTo(2000);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/JedisConnectionConfiguration.java, +		JedisPoolConfig poolConfig = pool != null ? jedisPoolConfig(pool), +				: new JedisPoolConfig();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.java, +@ConditionalOnClass({ GenericObjectPool.class, RedisClient.class,, +		RedisClusterClient.class }), +			return applyClientResources(new LettuceConnectionFactory(getSentinelConfig()),, +			return new LettuceConnectionFactory(, +					applyProperties(applyClientResources(lettucePool, clientResources)));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.java, +@Import({ LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class }), +			RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {, +			RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/resource/ResourceServerProperties.java, +		BindingResult errors = new BeanPropertyBindingResult(this,, +				"resourceServerProperties");, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfigurationJedisTests.java, +		assertThat(cf.getPoolConfig().getMaxWaitMillis()).isEqualTo(2000);, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfigurationTests.java, +		LettuceConnectionFactory cf = this.context, +				.getBean(LettuceConnectionFactory.class);, +		LettuceConnectionFactory cf = this.context, +				.getBean(LettuceConnectionFactory.class);, +		LettuceConnectionFactory cf = this.context, +				.getBean(LettuceConnectionFactory.class);, +		LettuceConnectionFactory cf = this.context, +				.getBean(LettuceConnectionFactory.class);, +		LettuceConnectionFactory cf = this.context, +				.getBean(LettuceConnectionFactory.class);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/JedisConnectionConfiguration.java, +		JedisPoolConfig poolConfig = pool != null ? jedisPoolConfig(pool), +				: new JedisPoolConfig();, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.java, +@ConditionalOnClass({ GenericObjectPool.class, RedisClient.class,, +		RedisClusterClient.class }), +			return applyClientResources(new LettuceConnectionFactory(getSentinelConfig()),, +			return new LettuceConnectionFactory(, +					applyProperties(applyClientResources(lettucePool, clientResources)));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.java, +@Import({ LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class }), +			RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {]