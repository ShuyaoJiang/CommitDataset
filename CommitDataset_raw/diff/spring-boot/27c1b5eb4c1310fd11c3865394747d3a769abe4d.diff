[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/ReactiveWebServerAutoConfiguration.java, +import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;, +import org.springframework.http.ReactiveHttpInputMessage;, +@ConditionalOnClass(ReactiveHttpInputMessage.class), +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/ReactiveWebServerAutoConfiguration.java, +import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;, +import org.springframework.http.ReactiveHttpInputMessage;, +@ConditionalOnClass(ReactiveHttpInputMessage.class), +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/ServletWebServerFactoryAutoConfiguration.java, +import javax.servlet.ServletRequest;, +@ConditionalOnClass(ServletRequest.class)]