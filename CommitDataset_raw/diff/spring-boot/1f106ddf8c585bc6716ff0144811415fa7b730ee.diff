[+++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/DataSourceHealthIndicator.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +			DatabaseDriver specific = DatabaseDriver.fromProductName(product);, +			query = specific.getValidationQuery();, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/DataSourceHealthIndicator.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +			DatabaseDriver specific = DatabaseDriver.fromProductName(product);, +			query = specific.getValidationQuery();, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/DataSourceHealthIndicatorTests.java, + * Copyright 2012-2016 the original author or authors., +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/DataSourceHealthIndicator.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +			DatabaseDriver specific = DatabaseDriver.fromProductName(product);, +			query = specific.getValidationQuery();, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/DataSourceHealthIndicatorTests.java, + * Copyright 2012-2016 the original author or authors., +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceBuilder.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/DataSourceHealthIndicator.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +			DatabaseDriver specific = DatabaseDriver.fromProductName(product);, +			query = specific.getValidationQuery();, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/DataSourceHealthIndicatorTests.java, + * Copyright 2012-2016 the original author or authors., +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceBuilder.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +			org.apache.tomcat.jdbc.pool.DataSource dataSource = createDataSource(properties,, +			DatabaseDriver databaseDriver = DatabaseDriver.fromJdbcUrl(properties.determineUrl());, +			String validationQuery = databaseDriver.getValidationQuery();, +			if (validationQuery != null) {, +				dataSource.setTestOnBorrow(true);, +				dataSource.setValidationQuery(validationQuery);, +			}, +			return dataSource;, +			org.apache.commons.dbcp.BasicDataSource dataSource = createDataSource(properties,, +			DatabaseDriver databaseDriver = DatabaseDriver.fromJdbcUrl(properties.determineUrl());, +			String validationQuery = databaseDriver.getValidationQuery();, +			if (validationQuery != null) {, +				dataSource.setTestOnBorrow(true);, +				dataSource.setValidationQuery(validationQuery);, +			}, +			return dataSource;, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/DataSourceHealthIndicator.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +			DatabaseDriver specific = DatabaseDriver.fromProductName(product);, +			query = specific.getValidationQuery();, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/DataSourceHealthIndicatorTests.java, + * Copyright 2012-2016 the original author or authors., +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceBuilder.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +			org.apache.tomcat.jdbc.pool.DataSource dataSource = createDataSource(properties,, +			DatabaseDriver databaseDriver = DatabaseDriver.fromJdbcUrl(properties.determineUrl());, +			String validationQuery = databaseDriver.getValidationQuery();, +			if (validationQuery != null) {, +				dataSource.setTestOnBorrow(true);, +				dataSource.setValidationQuery(validationQuery);, +			}, +			return dataSource;, +			org.apache.commons.dbcp.BasicDataSource dataSource = createDataSource(properties,, +			DatabaseDriver databaseDriver = DatabaseDriver.fromJdbcUrl(properties.determineUrl());, +			String validationQuery = databaseDriver.getValidationQuery();, +			if (validationQuery != null) {, +				dataSource.setTestOnBorrow(true);, +				dataSource.setValidationQuery(validationQuery);, +			}, +			return dataSource;, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java, +import org.springframework.boot.jdbc.DatabaseDriver;, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/DataSourceHealthIndicator.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +			DatabaseDriver specific = DatabaseDriver.fromProductName(product);, +			query = specific.getValidationQuery();, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/health/DataSourceHealthIndicatorTests.java, + * Copyright 2012-2016 the original author or authors., +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceBuilder.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.jdbc.DatabaseDriver;, +			org.apache.tomcat.jdbc.pool.DataSource dataSource = createDataSource(properties,, +			DatabaseDriver databaseDriver = DatabaseDriver.fromJdbcUrl(properties.determineUrl());, +			String validationQuery = databaseDriver.getValidationQuery();, +			if (validationQuery != null) {, +				dataSource.setTestOnBorrow(true);]