[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/client/OAuth2SsoCustomConfiguration.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.context.ApplicationContext;, +import org.springframework.context.ApplicationContextAware;, +		implements ImportAware, BeanPostProcessor, ApplicationContextAware {, +	private ApplicationContext applicationContext;, +	public void setApplicationContext(ApplicationContext applicationContext) {, +		this.applicationContext = applicationContext;, +			factory.addAdvice(new SsoSecurityAdapter(this.applicationContext));, +		SsoSecurityAdapter(ApplicationContext applicationContext) {, +			this.configurer = new SsoSecurityConfigurer(applicationContext);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/client/OAuth2SsoCustomConfiguration.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.context.ApplicationContext;, +import org.springframework.context.ApplicationContextAware;, +		implements ImportAware, BeanPostProcessor, ApplicationContextAware {, +	private ApplicationContext applicationContext;, +	public void setApplicationContext(ApplicationContext applicationContext) {, +		this.applicationContext = applicationContext;, +			factory.addAdvice(new SsoSecurityAdapter(this.applicationContext));, +		SsoSecurityAdapter(ApplicationContext applicationContext) {, +			this.configurer = new SsoSecurityConfigurer(applicationContext);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/client/OAuth2SsoDefaultConfiguration.java, +import org.springframework.context.ApplicationContext;, +	private final ApplicationContext applicationContext;, +	public OAuth2SsoDefaultConfiguration(ApplicationContext applicationContext,, +		this.applicationContext = applicationContext;, +		new SsoSecurityConfigurer(this.applicationContext).configure(http);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/client/OAuth2SsoCustomConfiguration.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.context.ApplicationContext;, +import org.springframework.context.ApplicationContextAware;, +		implements ImportAware, BeanPostProcessor, ApplicationContextAware {, +	private ApplicationContext applicationContext;, +	public void setApplicationContext(ApplicationContext applicationContext) {, +		this.applicationContext = applicationContext;, +			factory.addAdvice(new SsoSecurityAdapter(this.applicationContext));, +		SsoSecurityAdapter(ApplicationContext applicationContext) {, +			this.configurer = new SsoSecurityConfigurer(applicationContext);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/client/OAuth2SsoDefaultConfiguration.java, +import org.springframework.context.ApplicationContext;, +	private final ApplicationContext applicationContext;, +	public OAuth2SsoDefaultConfiguration(ApplicationContext applicationContext,, +		this.applicationContext = applicationContext;, +		new SsoSecurityConfigurer(this.applicationContext).configure(http);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/client/SsoSecurityConfigurer.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.context.ApplicationContext;, +	private ApplicationContext applicationContext;, +	SsoSecurityConfigurer(ApplicationContext applicationContext) {, +		this.applicationContext = applicationContext;, +		OAuth2SsoProperties sso = this.applicationContext.getBean(OAuth2SsoProperties.class);, +		OAuth2RestOperations restTemplate = this.applicationContext, +		ResourceServerTokenServices tokenServices = this.applicationContext, +		filter.setApplicationEventPublisher(this.applicationContext);]