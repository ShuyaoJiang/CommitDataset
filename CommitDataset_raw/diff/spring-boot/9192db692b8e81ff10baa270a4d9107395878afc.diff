[+++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/ManagementErrorEndpoint.java, +import org.springframework.web.context.request.ServletWebRequest;, +	public Map<String, Object> invoke(ServletWebRequest request) {, +		return this.errorAttributes.getErrorAttributes(request, false);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/ManagementErrorEndpoint.java, +import org.springframework.web.context.request.ServletWebRequest;, +	public Map<String, Object> invoke(ServletWebRequest request) {, +		return this.errorAttributes.getErrorAttributes(request, false);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/WebRequestTraceFilter.java, +import org.springframework.web.context.request.ServletWebRequest;, +					.getErrorAttributes(new ServletWebRequest(request), true));, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/ManagementErrorEndpoint.java, +import org.springframework.web.context.request.ServletWebRequest;, +	public Map<String, Object> invoke(ServletWebRequest request) {, +		return this.errorAttributes.getErrorAttributes(request, false);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/WebRequestTraceFilter.java, +import org.springframework.web.context.request.ServletWebRequest;, +					.getErrorAttributes(new ServletWebRequest(request), true));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/AbstractErrorController.java, +import org.springframework.web.context.request.ServletWebRequest;, +import org.springframework.web.context.request.WebRequest;, +		WebRequest webRequest = new ServletWebRequest(request);, +		return this.errorAttributes.getErrorAttributes(webRequest, includeStackTrace);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/ManagementErrorEndpoint.java, +import org.springframework.web.context.request.ServletWebRequest;, +	public Map<String, Object> invoke(ServletWebRequest request) {, +		return this.errorAttributes.getErrorAttributes(request, false);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/WebRequestTraceFilter.java, +import org.springframework.web.context.request.ServletWebRequest;, +					.getErrorAttributes(new ServletWebRequest(request), true));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/AbstractErrorController.java, +import org.springframework.web.context.request.ServletWebRequest;, +import org.springframework.web.context.request.WebRequest;, +		WebRequest webRequest = new ServletWebRequest(request);, +		return this.errorAttributes.getErrorAttributes(webRequest, includeStackTrace);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/DefaultErrorAttributes.java, +import org.springframework.web.context.request.WebRequest;, +	public Map<String, Object> getErrorAttributes(WebRequest webRequest,, +		addStatus(errorAttributes, webRequest);, +		addErrorDetails(errorAttributes, webRequest, includeStackTrace);, +		addPath(errorAttributes, webRequest);, +			WebRequest webRequest, boolean includeStackTrace) {, +		Throwable error = getError(webRequest);, +		Object message = getAttribute(webRequest, "javax.servlet.error.message");, +	public Throwable getError(WebRequest webRequest) {, +		Throwable exception = getAttribute(webRequest, ERROR_ATTRIBUTE);, +			exception = getAttribute(webRequest, "javax.servlet.error.exception");, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/ManagementErrorEndpoint.java, +import org.springframework.web.context.request.ServletWebRequest;, +	public Map<String, Object> invoke(ServletWebRequest request) {, +		return this.errorAttributes.getErrorAttributes(request, false);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/WebRequestTraceFilter.java, +import org.springframework.web.context.request.ServletWebRequest;, +					.getErrorAttributes(new ServletWebRequest(request), true));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/AbstractErrorController.java, +import org.springframework.web.context.request.ServletWebRequest;, +import org.springframework.web.context.request.WebRequest;, +		WebRequest webRequest = new ServletWebRequest(request);, +		return this.errorAttributes.getErrorAttributes(webRequest, includeStackTrace);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/DefaultErrorAttributes.java, +import org.springframework.web.context.request.WebRequest;, +	public Map<String, Object> getErrorAttributes(WebRequest webRequest,, +		addStatus(errorAttributes, webRequest);, +		addErrorDetails(errorAttributes, webRequest, includeStackTrace);, +		addPath(errorAttributes, webRequest);, +			WebRequest webRequest, boolean includeStackTrace) {, +		Throwable error = getError(webRequest);, +		Object message = getAttribute(webRequest, "javax.servlet.error.message");, +	public Throwable getError(WebRequest webRequest) {, +		Throwable exception = getAttribute(webRequest, ERROR_ATTRIBUTE);, +			exception = getAttribute(webRequest, "javax.servlet.error.exception");, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/ErrorAttributes.java, +import org.springframework.web.context.request.WebRequest;, +	 * @param webRequest the source request, +	Map<String, Object> getErrorAttributes(WebRequest webRequest,, +	 * @param webRequest the source request, +	Throwable getError(WebRequest webRequest);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/ManagementErrorEndpoint.java, +import org.springframework.web.context.request.ServletWebRequest;, +	public Map<String, Object> invoke(ServletWebRequest request) {, +		return this.errorAttributes.getErrorAttributes(request, false);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/WebRequestTraceFilter.java, +import org.springframework.web.context.request.ServletWebRequest;, +					.getErrorAttributes(new ServletWebRequest(request), true));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/AbstractErrorController.java, +import org.springframework.web.context.request.ServletWebRequest;, +import org.springframework.web.context.request.WebRequest;, +		WebRequest webRequest = new ServletWebRequest(request);, +		return this.errorAttributes.getErrorAttributes(webRequest, includeStackTrace);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/DefaultErrorAttributes.java, +import org.springframework.web.context.request.WebRequest;, +	public Map<String, Object> getErrorAttributes(WebRequest webRequest,, +		addStatus(errorAttributes, webRequest);, +		addErrorDetails(errorAttributes, webRequest, includeStackTrace);, +		addPath(errorAttributes, webRequest);, +			WebRequest webRequest, boolean includeStackTrace) {, +		Throwable error = getError(webRequest);, +		Object message = getAttribute(webRequest, "javax.servlet.error.message");, +	public Throwable getError(WebRequest webRequest) {, +		Throwable exception = getAttribute(webRequest, ERROR_ATTRIBUTE);]