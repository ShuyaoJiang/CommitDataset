[+++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthEndpointProperties.java, +import java.util.HashSet;, +import java.util.Set;, +, +	 * When to show full health details., +	private ShowDetails showDetails = ShowDetails.WHEN_AUTHORIZED;, +, +	/**, +	 * Roles used to determine whether or not a user is authorized to be shown details., +	 * When empty, all authenticated users are authorized., +	 */, +	private Set<String> roles = new HashSet<>();, +	public Set<String> getRoles() {, +		return this.roles;, +	}, +, +	public void setRoles(Set<String> roles) {, +		this.roles = roles;, +	}, +, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthEndpointProperties.java, +import java.util.HashSet;, +import java.util.Set;, +, +	 * When to show full health details., +	private ShowDetails showDetails = ShowDetails.WHEN_AUTHORIZED;, +, +	/**, +	 * Roles used to determine whether or not a user is authorized to be shown details., +	 * When empty, all authenticated users are authorized., +	 */, +	private Set<String> roles = new HashSet<>();, +	public Set<String> getRoles() {, +		return this.roles;, +	}, +, +	public void setRoles(Set<String> roles) {, +		this.roles = roles;, +	}, +, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthEndpointWebExtensionConfiguration.java, +import org.springframework.boot.actuate.health.HealthWebEndpointResponseMapper;, +	@Bean, +	@ConditionalOnMissingBean, +	public HealthWebEndpointResponseMapper healthWebEndpointResponseMapper(, +			HealthStatusHttpMapper statusHttpMapper,, +			HealthEndpointProperties properties) {, +		return new HealthWebEndpointResponseMapper(statusHttpMapper,, +				properties.getShowDetails(), properties.getRoles());, +	}, +, +				HealthWebEndpointResponseMapper responseMapper) {, +					responseMapper);, +				HealthWebEndpointResponseMapper responseMapper) {, +					responseMapper);, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthEndpointProperties.java, +import java.util.HashSet;, +import java.util.Set;, +, +	 * When to show full health details., +	private ShowDetails showDetails = ShowDetails.WHEN_AUTHORIZED;, +, +	/**, +	 * Roles used to determine whether or not a user is authorized to be shown details., +	 * When empty, all authenticated users are authorized., +	 */, +	private Set<String> roles = new HashSet<>();, +	public Set<String> getRoles() {, +		return this.roles;, +	}, +, +	public void setRoles(Set<String> roles) {, +		this.roles = roles;, +	}, +, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthEndpointWebExtensionConfiguration.java, +import org.springframework.boot.actuate.health.HealthWebEndpointResponseMapper;, +	@Bean, +	@ConditionalOnMissingBean, +	public HealthWebEndpointResponseMapper healthWebEndpointResponseMapper(, +			HealthStatusHttpMapper statusHttpMapper,, +			HealthEndpointProperties properties) {, +		return new HealthWebEndpointResponseMapper(statusHttpMapper,, +				properties.getShowDetails(), properties.getRoles());, +	}, +, +				HealthWebEndpointResponseMapper responseMapper) {, +					responseMapper);, +				HealthWebEndpointResponseMapper responseMapper) {, +					responseMapper);, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/test/java/org/springframework/boot/actuate/autoconfigure/cloudfoundry/CloudFoundryWebEndpointDiscovererTests.java, +import org.springframework.boot.actuate.endpoint.SecurityContext;, +					assertThat(operation.invoke(new InvocationContext(, +							mock(SecurityContext.class), Collections.emptyMap()))), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthEndpointProperties.java, +import java.util.HashSet;, +import java.util.Set;, +, +	 * When to show full health details., +	private ShowDetails showDetails = ShowDetails.WHEN_AUTHORIZED;]