[+++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/MetricFilterAutoConfiguration.java, +import javax.servlet.ServletRegistration;, +@ConditionalOnClass({ Servlet.class, ServletRegistration.class }), +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/MetricFilterAutoConfiguration.java, +import javax.servlet.ServletRegistration;, +@ConditionalOnClass({ Servlet.class, ServletRegistration.class }), +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/TraceWebFilterAutoConfiguration.java, +import javax.servlet.ServletRegistration;, +@ConditionalOnClass({ Servlet.class, DispatcherServlet.class, ServletRegistration.class }), +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/MetricFilterAutoConfiguration.java, +import javax.servlet.ServletRegistration;, +@ConditionalOnClass({ Servlet.class, ServletRegistration.class }), +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/TraceWebFilterAutoConfiguration.java, +import javax.servlet.ServletRegistration;, +@ConditionalOnClass({ Servlet.class, DispatcherServlet.class, ServletRegistration.class }), +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/DispatcherServletAutoConfiguration.java, +import javax.servlet.ServletRegistration;, +, +	@ConditionalOnClass(ServletRegistration.class)]