[+++ b/spring-boot/src/main/java/org/springframework/boot/web/embedded/netty/NettyWebServer.java, +import reactor.ipc.netty.tcp.BlockingNettyContext;, +	private BlockingNettyContext nettyContext;, +		if (this.nettyContext == null) {, +				this.nettyContext = this.reactorServer.start(this.handlerAdapter);, +			startDaemonAwaitThread(this.nettyContext);, +	private void startDaemonAwaitThread(BlockingNettyContext nettyContext) {, +				nettyContext.getContext().onClose().block();, +		if (this.nettyContext != null) {, +			this.nettyContext.shutdown();, +			this.nettyContext = null;, +		if (this.nettyContext != null) {, +			return this.nettyContext.getPort();]