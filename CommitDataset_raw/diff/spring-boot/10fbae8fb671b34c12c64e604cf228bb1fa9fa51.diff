[+++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		if (this.registerShutdownHook) {, +			try {, +				context.registerShutdownHook();, +			}, +			catch (AccessControlException ex) {, +				// Not allowed in some environments., +			}, +		}, +++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		if (this.registerShutdownHook) {, +			try {, +				context.registerShutdownHook();, +			}, +			catch (AccessControlException ex) {, +				// Not allowed in some environments., +			}, +		}, +++ b/spring-boot/src/test/java/org/springframework/boot/SimpleMainTests.java, +				"--spring.main.webEnvironment=false", "--spring.main.showBanner=false",, +				"--spring.main.registerShutdownHook=false"));, +++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		if (this.registerShutdownHook) {, +			try {, +				context.registerShutdownHook();, +			}, +			catch (AccessControlException ex) {, +				// Not allowed in some environments., +			}, +		}, +++ b/spring-boot/src/test/java/org/springframework/boot/SimpleMainTests.java, +				"--spring.main.webEnvironment=false", "--spring.main.showBanner=false",, +				"--spring.main.registerShutdownHook=false"));, +++ b/spring-boot/src/test/java/org/springframework/boot/SpringApplicationTests.java, +		@Override, +		public void close() {, +			this.applicationContext.close();, +		}, +, +++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		if (this.registerShutdownHook) {, +			try {, +				context.registerShutdownHook();, +			}, +			catch (AccessControlException ex) {, +				// Not allowed in some environments., +			}, +		}, +++ b/spring-boot/src/test/java/org/springframework/boot/SimpleMainTests.java, +				"--spring.main.webEnvironment=false", "--spring.main.showBanner=false",, +				"--spring.main.registerShutdownHook=false"));, +++ b/spring-boot/src/test/java/org/springframework/boot/SpringApplicationTests.java, +		@Override, +		public void close() {, +			this.applicationContext.close();, +		}, +, +++ b/spring-boot/src/test/java/org/springframework/boot/builder/SpringApplicationBuilderTests.java, +, +		@Override, +		public void close() {, +			super.close();, +			this.applicationContext.close();, +		}, +, +		@Override, +		public ApplicationContext getParent() {, +			return this.applicationContext.getParent();, +		}]