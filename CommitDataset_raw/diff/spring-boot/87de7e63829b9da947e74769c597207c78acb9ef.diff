[+++ b/spring-boot-tools/spring-boot-loader/src/main/java/org/springframework/boot/loader/jar/JarFile.java, +	private final JarFileType type;, +, +		this(file, "", file, JarFileType.DIRECT);, +	 * @param type the type of the jar file, +			RandomAccessData data, JarFileType type) throws IOException {, +		this(rootFile, pathFromRoot, data, null, type);, +			RandomAccessData data, JarEntryFilter filter, JarFileType type), +					throws IOException {, +		this.type = type;, +			if (this.type == JarFileType.NESTED_DIRECTORY) {, +				manifest = new JarFile(this.getRootJarFile()).getManifest();, +			}, +			else {, +				InputStream inputStream = getInputStream(MANIFEST_NAME,, +						ResourceAccess.ONCE);, +			}, +				this.data, filter, JarFileType.NESTED_DIRECTORY);, +				entryData, JarFileType.NESTED_JAR);, +	private enum JarFileType {, +		DIRECT, NESTED_DIRECTORY, NESTED_JAR, +	}, +]