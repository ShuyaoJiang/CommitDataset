[+++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/howto.adoc, +[[howto-use-test-with-spring-security]], +== Testing With Spring Security, +Spring Security provides support for running tests as a specific user., +For example, the test in the snippet below will run with an authenticated user, +that has the `ADMIN` role., +, +[source,java,indent=0], +----, +	@Test, +	@WithMockUser(roles="ADMIN"), +	public void requestProtectedUrlWithUser() throws Exception {, +		mvc, +			.perform(get("/")), +			..., +	}, +----, +, +Spring Security provides comprehensive integration with Spring MVC Test and, +this can also be used when testing controllers using the `@WebMvcTest` slice and `MockMvc`., +, +For additional details on Spring Security's testing support, refer to Spring Security's, +https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#test[reference documentation])., +, +, +, +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/howto.adoc, +[[howto-use-test-with-spring-security]], +== Testing With Spring Security, +Spring Security provides support for running tests as a specific user., +For example, the test in the snippet below will run with an authenticated user, +that has the `ADMIN` role., +, +[source,java,indent=0], +----, +	@Test, +	@WithMockUser(roles="ADMIN"), +	public void requestProtectedUrlWithUser() throws Exception {, +		mvc, +			.perform(get("/")), +			..., +	}, +----, +, +Spring Security provides comprehensive integration with Spring MVC Test and, +this can also be used when testing controllers using the `@WebMvcTest` slice and `MockMvc`., +, +For additional details on Spring Security's testing support, refer to Spring Security's, +https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#test[reference documentation])., +, +, +, +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/spring-boot-features.adoc, +If you have Spring Security on the classpath, `@WebMvcTest` will also scan `WebSecurityConfigurer`, +beans. Instead of disabling security completely for such tests, you can use Spring Security's test support., +More details on how to use Spring Security's `MockMvc` support can be found in, +this _<<howto.adoc#howto-use-test-with-spring-security>>_ how-to section., +]