[+++ b/spring-boot-actuator/pom.xml, +			<groupId>io.undertow</groupId>, +			<artifactId>undertow-core</artifactId>, +			<scope>test</scope>, +		</dependency>, +		<dependency>, +			<groupId>io.undertow</groupId>, +			<artifactId>undertow-servlet</artifactId>, +			<scope>test</scope>, +			<exclusions>, +				<exclusion>, +					<groupId>org.jboss.spec.javax.servlet</groupId>, +					<artifactId>jboss-servlet-api_3.1_spec</artifactId>, +				</exclusion>, +			</exclusions>, +		</dependency>, +		<dependency>, +++ b/spring-boot-actuator/pom.xml, +			<groupId>io.undertow</groupId>, +			<artifactId>undertow-core</artifactId>, +			<scope>test</scope>, +		</dependency>, +		<dependency>, +			<groupId>io.undertow</groupId>, +			<artifactId>undertow-servlet</artifactId>, +			<scope>test</scope>, +			<exclusions>, +				<exclusion>, +					<groupId>org.jboss.spec.javax.servlet</groupId>, +					<artifactId>jboss-servlet-api_3.1_spec</artifactId>, +				</exclusion>, +			</exclusions>, +		</dependency>, +		<dependency>, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcChildContextConfiguration.java, +import org.apache.catalina.Valve;, +import org.apache.catalina.valves.AccessLogValve;, +, +import org.springframework.boot.context.embedded.EmbeddedServletContainerFactory;, +import org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory;, +import org.springframework.boot.context.embedded.undertow.UndertowEmbeddedServletContainerFactory;, +	@Bean, +	public UndertowAccessLogCustomizer undertowAccessLogCustomizer() {, +		return new UndertowAccessLogCustomizer();, +	}, +, +	@Bean, +	@ConditionalOnClass(name = "org.apache.catalina.valves.AccessLogValve"), +	public TomcatAccessLogCustomizer tomcatAccessLogCustomizer() {, +		return new TomcatAccessLogCustomizer();, +	}, +, +	static abstract class AccessLogCustomizer<T extends EmbeddedServletContainerFactory>, +			implements EmbeddedServletContainerCustomizer, Ordered {, +, +		private final Class<T> factoryClass;, +, +		AccessLogCustomizer(Class<T> factoryClass) {, +			this.factoryClass = factoryClass;, +		}, +, +		protected String customizePrefix(String prefix) {, +			return "management_" + prefix;, +		}, +, +		@Override, +		public int getOrder() {, +			return 1;, +		}, +, +		@Override, +		public void customize(ConfigurableEmbeddedServletContainer container) {, +			if (this.factoryClass.isInstance(container)) {, +				customize(this.factoryClass.cast(container));, +			}, +		}, +, +		abstract void customize(T container);, +	}, +, +	static class TomcatAccessLogCustomizer, +			extends AccessLogCustomizer<TomcatEmbeddedServletContainerFactory> {, +, +		TomcatAccessLogCustomizer() {, +			super(TomcatEmbeddedServletContainerFactory.class);, +		}, +, +		@Override, +		public int getOrder() {, +			return 1;, +		}, +, +		@Override, +		public void customize(TomcatEmbeddedServletContainerFactory container) {, +			AccessLogValve accessLogValve = findAccessLogValve(container);, +			if (accessLogValve == null) {, +				return;, +			}, +			accessLogValve.setPrefix(customizePrefix(accessLogValve.getPrefix()));, +		}]