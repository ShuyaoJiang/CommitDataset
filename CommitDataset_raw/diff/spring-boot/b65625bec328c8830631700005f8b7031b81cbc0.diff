[+++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +			((ConfigurableApplicationContext) context).registerShutdownHook();, +++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +			((ConfigurableApplicationContext) context).registerShutdownHook();, +++ b/spring-boot/src/test/java/org/springframework/boot/SpringApplicationTests.java, +	@Test, +	public void registerShutdownHook() throws Exception {, +		SpringApplication application = new SpringApplication(ExampleConfig.class);, +		ConfigurableApplicationContext applicationContext = spy(new AnnotationConfigApplicationContext());, +		application.setApplicationContext(applicationContext);, +		application.run();, +		verify(applicationContext).registerShutdownHook();, +	}, +]