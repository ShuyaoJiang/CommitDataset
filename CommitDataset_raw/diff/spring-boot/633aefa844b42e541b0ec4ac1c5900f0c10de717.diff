[+++ b/spring-boot-project/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/ldap/LdapAutoConfigurationTests.java, + * Copyright 2012-2018 the original author or authors., +import org.springframework.boot.autoconfigure.AutoConfigurations;, +import org.springframework.boot.test.context.runner.ApplicationContextRunner;, +import org.springframework.ldap.core.support.LdapContextSource;, +	private ApplicationContextRunner contextRunner = new ApplicationContextRunner(), +			.withConfiguration(AutoConfigurations.of(LdapAutoConfiguration.class));, +		this.contextRunner.run(context -> {, +			ContextSource contextSource = context.getBean(ContextSource.class);, +			String[] urls = (String[]) ReflectionTestUtils, +					.getField(contextSource, "urls");, +		});, +		this.contextRunner.withPropertyValues("spring.ldap.urls:ldap://localhost:123"), +				.run(context -> {, +					ContextSource contextSource = context.getBean(ContextSource.class);, +					String[] urls = (String[]) ReflectionTestUtils.getField(, +							contextSource, "urls");, +				});, +		this.contextRunner, +				.withPropertyValues(, +						"spring.ldap.urls:ldap://localhost:123,ldap://mycompany:123"), +				.run(context -> {, +					ContextSource contextSource = context.getBean(ContextSource.class);, +					LdapProperties ldapProperties = context.getBean(LdapProperties.class);, +					String[] urls = (String[]) ReflectionTestUtils.getField(, +							contextSource, "urls");, +					assertThat(urls).containsExactly("ldap://localhost:123",, +							"ldap://mycompany:123");, +				});, +		this.contextRunner, +				.withPropertyValues(, +						"spring.ldap.urls:ldap://localhost:123",, +						"spring.ldap.username:root",, +						"spring.ldap.password:root",, +						"spring.ldap.base:cn=SpringDevelopers",, +						"spring.ldap.baseEnvironment.java.naming.security.authentication:DIGEST-MD5"), +				.run(context -> {, +					LdapProperties ldapProperties = context.getBean(LdapProperties.class);, +					assertThat(ldapProperties.getBaseEnvironment()).containsEntry(, +							"java.naming.security.authentication", "DIGEST-MD5");, +				});]