[+++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/amqp/RabbitMetricsAutoConfiguration.java, +import org.springframework.boot.actuate.autoconfigure.metrics.export.simple.SimpleMetricsExportAutoConfiguration;, +@AutoConfigureAfter({ MetricsAutoConfiguration.class, RabbitAutoConfiguration.class,, +		SimpleMetricsExportAutoConfiguration.class }), +@ConditionalOnBean({ AbstractConnectionFactory.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/amqp/RabbitMetricsAutoConfiguration.java, +import org.springframework.boot.actuate.autoconfigure.metrics.export.simple.SimpleMetricsExportAutoConfiguration;, +@AutoConfigureAfter({ MetricsAutoConfiguration.class, RabbitAutoConfiguration.class,, +		SimpleMetricsExportAutoConfiguration.class }), +@ConditionalOnBean({ AbstractConnectionFactory.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsRegistrarConfiguration.java, +@ConditionalOnBean({ CacheMeterBinderProvider.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/amqp/RabbitMetricsAutoConfiguration.java, +import org.springframework.boot.actuate.autoconfigure.metrics.export.simple.SimpleMetricsExportAutoConfiguration;, +@AutoConfigureAfter({ MetricsAutoConfiguration.class, RabbitAutoConfiguration.class,, +		SimpleMetricsExportAutoConfiguration.class }), +@ConditionalOnBean({ AbstractConnectionFactory.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsRegistrarConfiguration.java, +@ConditionalOnBean({ CacheMeterBinderProvider.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/atlas/AtlasMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnBean(Clock.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/amqp/RabbitMetricsAutoConfiguration.java, +import org.springframework.boot.actuate.autoconfigure.metrics.export.simple.SimpleMetricsExportAutoConfiguration;, +@AutoConfigureAfter({ MetricsAutoConfiguration.class, RabbitAutoConfiguration.class,, +		SimpleMetricsExportAutoConfiguration.class }), +@ConditionalOnBean({ AbstractConnectionFactory.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsRegistrarConfiguration.java, +@ConditionalOnBean({ CacheMeterBinderProvider.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/atlas/AtlasMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnBean(Clock.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/datadog/DatadogMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnClass(DatadogMeterRegistry.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/amqp/RabbitMetricsAutoConfiguration.java, +import org.springframework.boot.actuate.autoconfigure.metrics.export.simple.SimpleMetricsExportAutoConfiguration;, +@AutoConfigureAfter({ MetricsAutoConfiguration.class, RabbitAutoConfiguration.class,, +		SimpleMetricsExportAutoConfiguration.class }), +@ConditionalOnBean({ AbstractConnectionFactory.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsRegistrarConfiguration.java, +@ConditionalOnBean({ CacheMeterBinderProvider.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/atlas/AtlasMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnBean(Clock.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/datadog/DatadogMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnClass(DatadogMeterRegistry.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/ganglia/GangliaMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnBean(Clock.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/amqp/RabbitMetricsAutoConfiguration.java, +import org.springframework.boot.actuate.autoconfigure.metrics.export.simple.SimpleMetricsExportAutoConfiguration;, +@AutoConfigureAfter({ MetricsAutoConfiguration.class, RabbitAutoConfiguration.class,, +		SimpleMetricsExportAutoConfiguration.class }), +@ConditionalOnBean({ AbstractConnectionFactory.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsRegistrarConfiguration.java, +@ConditionalOnBean({ CacheMeterBinderProvider.class, MeterRegistry.class }), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/atlas/AtlasMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnBean(Clock.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/datadog/DatadogMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnClass(DatadogMeterRegistry.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/ganglia/GangliaMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnBean(Clock.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/graphite/GraphiteMetricsExportAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +@AutoConfigureBefore(SimpleMetricsExportAutoConfiguration.class), +@AutoConfigureAfter(MetricsAutoConfiguration.class), +@ConditionalOnBean(Clock.class), +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/amqp/RabbitMetricsAutoConfiguration.java, +import org.springframework.boot.actuate.autoconfigure.metrics.export.simple.SimpleMetricsExportAutoConfiguration;, +@AutoConfigureAfter({ MetricsAutoConfiguration.class, RabbitAutoConfiguration.class,]