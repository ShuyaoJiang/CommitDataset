[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/domain/EntityScanPackages.java, +			String[] basePackages = attributes.getAliasedStringArray("basePackages",, +					EntityScan.class, metadata.getClassName());, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/domain/EntityScanPackages.java, +			String[] basePackages = attributes.getAliasedStringArray("basePackages",, +					EntityScan.class, metadata.getClassName());, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/domain/EntityScanPackagesTests.java, +import org.springframework.beans.factory.support.RootBeanDefinition;, +	public void entityScanAnnotationWhenHasValueAttributeShouldSetupPackagesAsm(), +			throws Exception {, +		this.context = new AnnotationConfigApplicationContext();, +		this.context.registerBeanDefinition("entityScanValueConfig",, +				new RootBeanDefinition(EntityScanValueConfig.class.getName()));, +		this.context.refresh();, +		EntityScanPackages packages = EntityScanPackages.get(this.context);, +		assertThat(packages.getPackageNames()).containsExactly("a");, +	}, +, +	@Test, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/domain/EntityScanPackages.java, +			String[] basePackages = attributes.getAliasedStringArray("basePackages",, +					EntityScan.class, metadata.getClassName());, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/domain/EntityScanPackagesTests.java, +import org.springframework.beans.factory.support.RootBeanDefinition;, +	public void entityScanAnnotationWhenHasValueAttributeShouldSetupPackagesAsm(), +			throws Exception {, +		this.context = new AnnotationConfigApplicationContext();, +		this.context.registerBeanDefinition("entityScanValueConfig",, +				new RootBeanDefinition(EntityScanValueConfig.class.getName()));, +		this.context.refresh();, +		EntityScanPackages packages = EntityScanPackages.get(this.context);, +		assertThat(packages.getPackageNames()).containsExactly("a");, +	}, +, +	@Test, +++ b/spring-boot/src/main/java/org/springframework/boot/orm/jpa/EntityScanRegistrar.java, + * Copyright 2012-2016 the original author or authors., +		String[] basePackages = attributes.getAliasedStringArray("basePackages",, +				EntityScan.class, metadata.getClassName());, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/domain/EntityScanPackages.java, +			String[] basePackages = attributes.getAliasedStringArray("basePackages",, +					EntityScan.class, metadata.getClassName());, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/domain/EntityScanPackagesTests.java, +import org.springframework.beans.factory.support.RootBeanDefinition;, +	public void entityScanAnnotationWhenHasValueAttributeShouldSetupPackagesAsm(), +			throws Exception {, +		this.context = new AnnotationConfigApplicationContext();, +		this.context.registerBeanDefinition("entityScanValueConfig",, +				new RootBeanDefinition(EntityScanValueConfig.class.getName()));, +		this.context.refresh();, +		EntityScanPackages packages = EntityScanPackages.get(this.context);, +		assertThat(packages.getPackageNames()).containsExactly("a");, +	}, +, +	@Test, +++ b/spring-boot/src/main/java/org/springframework/boot/orm/jpa/EntityScanRegistrar.java, + * Copyright 2012-2016 the original author or authors., +		String[] basePackages = attributes.getAliasedStringArray("basePackages",, +				EntityScan.class, metadata.getClassName());, +++ b/spring-boot/src/main/java/org/springframework/boot/web/servlet/ServletComponentScanRegistrar.java, +		String[] basePackages = attributes.getAliasedStringArray("basePackages",, +				ServletComponentScan.class, metadata.getClassName());, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/domain/EntityScanPackages.java, +			String[] basePackages = attributes.getAliasedStringArray("basePackages",, +					EntityScan.class, metadata.getClassName());, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/domain/EntityScanPackagesTests.java, +import org.springframework.beans.factory.support.RootBeanDefinition;, +	public void entityScanAnnotationWhenHasValueAttributeShouldSetupPackagesAsm(), +			throws Exception {, +		this.context = new AnnotationConfigApplicationContext();, +		this.context.registerBeanDefinition("entityScanValueConfig",, +				new RootBeanDefinition(EntityScanValueConfig.class.getName()));, +		this.context.refresh();, +		EntityScanPackages packages = EntityScanPackages.get(this.context);, +		assertThat(packages.getPackageNames()).containsExactly("a");, +	}, +, +	@Test, +++ b/spring-boot/src/main/java/org/springframework/boot/orm/jpa/EntityScanRegistrar.java, + * Copyright 2012-2016 the original author or authors., +		String[] basePackages = attributes.getAliasedStringArray("basePackages",, +				EntityScan.class, metadata.getClassName());, +++ b/spring-boot/src/main/java/org/springframework/boot/web/servlet/ServletComponentScanRegistrar.java, +		String[] basePackages = attributes.getAliasedStringArray("basePackages",, +				ServletComponentScan.class, metadata.getClassName());, +++ b/spring-boot/src/test/java/org/springframework/boot/orm/jpa/EntityScanTests.java, +import org.springframework.beans.factory.support.RootBeanDefinition;, +	public void simpleValueAsm() throws Exception {, +		this.context = new AnnotationConfigApplicationContext();, +		this.context.registerBeanDefinition("valueConfig",, +				new RootBeanDefinition(ValueConfig.class.getName()));, +		this.context.refresh();, +		assertSetPackagesToScan("com.mycorp.entity");, +	}, +, +	@Test, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/domain/EntityScanPackages.java, +			String[] basePackages = attributes.getAliasedStringArray("basePackages",, +					EntityScan.class, metadata.getClassName());, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/domain/EntityScanPackagesTests.java]