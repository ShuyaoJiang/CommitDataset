[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/transaction/jta/NarayanaJtaConfiguration.java, + * Copyright 2012-2016 the original author or authors., + * @author Gytis Trikleris, + * @since 1.4.0, +@ConditionalOnClass({ JtaTransactionManager.class,, +		com.arjuna.ats.jta.UserTransaction.class }), +	private final JtaProperties jtaProperties;, +, +	public NarayanaJtaConfiguration(JtaProperties jtaProperties) {, +		this.jtaProperties = jtaProperties;, +	}, +	public NarayanaConfigurationBean narayanaConfiguration(, +			NarayanaProperties properties) {, +			properties.setLogDir(this.jtaProperties.getLogDir());, +			properties.setTransactionManagerId(, +					this.jtaProperties.getTransactionManagerId());, +		return new NarayanaConfigurationBean(properties);, +	@DependsOn("narayanaConfiguration"), +	@DependsOn("narayanaConfiguration"), +	@DependsOn("narayanaConfiguration"), +	public NarayanaRecoveryManagerBean narayanaRecoveryManager(, +			RecoveryManagerService recoveryManagerService) {, +	public JtaTransactionManager transactionManager(UserTransaction userTransaction,, +			TransactionManager transactionManager) {, +	public XADataSourceWrapper xaDataSourceWrapper(, +			NarayanaRecoveryManagerBean narayanaRecoveryManagerBean,, +		return new NarayanaXADataSourceWrapper(narayanaRecoveryManagerBean,, +				narayanaProperties);, +		public NarayanaXAConnectionFactoryWrapper xaConnectionFactoryWrapper(, +				TransactionManager transactionManager,, +				NarayanaRecoveryManagerBean narayanaRecoveryManagerBean,, +				NarayanaProperties narayanaProperties) {, +			return new NarayanaXAConnectionFactoryWrapper(transactionManager,, +					narayanaRecoveryManagerBean, narayanaProperties);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/transaction/jta/NarayanaJtaConfiguration.java, + * Copyright 2012-2016 the original author or authors., + * @author Gytis Trikleris, + * @since 1.4.0, +@ConditionalOnClass({ JtaTransactionManager.class,, +		com.arjuna.ats.jta.UserTransaction.class }), +	private final JtaProperties jtaProperties;, +, +	public NarayanaJtaConfiguration(JtaProperties jtaProperties) {, +		this.jtaProperties = jtaProperties;, +	}, +	public NarayanaConfigurationBean narayanaConfiguration(, +			NarayanaProperties properties) {, +			properties.setLogDir(this.jtaProperties.getLogDir());, +			properties.setTransactionManagerId(, +					this.jtaProperties.getTransactionManagerId());, +		return new NarayanaConfigurationBean(properties);, +	@DependsOn("narayanaConfiguration"), +	@DependsOn("narayanaConfiguration"), +	@DependsOn("narayanaConfiguration"), +	public NarayanaRecoveryManagerBean narayanaRecoveryManager(, +			RecoveryManagerService recoveryManagerService) {, +	public JtaTransactionManager transactionManager(UserTransaction userTransaction,, +			TransactionManager transactionManager) {, +	public XADataSourceWrapper xaDataSourceWrapper(, +			NarayanaRecoveryManagerBean narayanaRecoveryManagerBean,, +		return new NarayanaXADataSourceWrapper(narayanaRecoveryManagerBean,, +				narayanaProperties);, +		public NarayanaXAConnectionFactoryWrapper xaConnectionFactoryWrapper(, +				TransactionManager transactionManager,, +				NarayanaRecoveryManagerBean narayanaRecoveryManagerBean,, +				NarayanaProperties narayanaProperties) {, +			return new NarayanaXAConnectionFactoryWrapper(transactionManager,, +					narayanaRecoveryManagerBean, narayanaProperties);, +++ b/spring-boot-dependencies/pom.xml, +		<jboss-transaction-spi.version>7.3.0.Final</jboss-transaction-spi.version>, +		<narayana.version>5.3.2.Final</narayana.version>, +				<artifactId>spring-boot-starter-jta-narayana</artifactId>, +				<version>1.4.0.BUILD-SNAPSHOT</version>, +			</dependency>, +			<dependency>, +				<groupId>org.springframework.boot</groupId>, +				<groupId>org.jboss</groupId>, +				<artifactId>jboss-transaction-spi</artifactId>, +				<version>${jboss-transaction-spi.version}</version>, +			</dependency>, +			<dependency>, +				<groupId>org.jboss.narayana.jta</groupId>, +				<artifactId>jdbc</artifactId>, +				<version>${narayana.version}</version>, +			</dependency>, +			<dependency>, +				<groupId>org.jboss.narayana.jta</groupId>, +				<artifactId>jms</artifactId>, +				<version>${narayana.version}</version>, +			</dependency>, +			<dependency>, +				<groupId>org.jboss.narayana.jta</groupId>, +				<artifactId>jta</artifactId>, +				<version>${narayana.version}</version>, +			</dependency>, +			<dependency>, +				<groupId>org.jboss.narayana.jts</groupId>, +				<artifactId>narayana-jts-integration</artifactId>, +				<version>${narayana.version}</version>, +			</dependency>]