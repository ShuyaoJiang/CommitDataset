[+++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/AbstractEmbeddedServletContainerFactory.java, +		return getExplodedWarFileDocumentRoot(getCodeSourceArchive());, +		File file = getCodeSourceArchive();, +	private File getCodeSourceArchive() {, +		return getCodeSourceArchive(getClass().getProtectionDomain().getCodeSource());, +	}, +, +		catch (Exception ex) {, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/AbstractEmbeddedServletContainerFactory.java, +		return getExplodedWarFileDocumentRoot(getCodeSourceArchive());, +		File file = getCodeSourceArchive();, +	private File getCodeSourceArchive() {, +		return getCodeSourceArchive(getClass().getProtectionDomain().getCodeSource());, +	}, +, +		catch (Exception ex) {, +++ b/spring-boot/src/test/java/org/springframework/boot/context/embedded/AbstractEmbeddedServletContainerFactoryTests.java, +		CodeSource codeSource = new CodeSource(new URL("file", "", "/some/test/path/"),, +				(Certificate[]) null);, +		File codeSourceArchive = factory.getCodeSourceArchive(codeSource);, +		CodeSource codeSource = new CodeSource(, +				new URL("file", "", "/test/path/with%20space/"), (Certificate[]) null);, +		File codeSourceArchive = factory.getCodeSourceArchive(codeSource);]