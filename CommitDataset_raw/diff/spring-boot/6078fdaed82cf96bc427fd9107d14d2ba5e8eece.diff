[+++ b/spring-boot/src/main/java/org/springframework/boot/web/servlet/ServletComponentScanRegistrar.java, + * Copyright 2012-2018 the original author or authors., +++ b/spring-boot/src/main/java/org/springframework/boot/web/servlet/ServletComponentScanRegistrar.java, + * Copyright 2012-2018 the original author or authors., +++ b/spring-boot/src/test/java/org/springframework/boot/web/servlet/ServletComponentScanRegistrarTests.java, + * Copyright 2012-2018 the original author or authors., +	@Test, +	public void withNoBasePackagesScanningUsesBasePackageOfAnnotatedClass() {, +		this.context = new AnnotationConfigApplicationContext(NoBasePackages.class);, +		ServletComponentRegisteringPostProcessor postProcessor = this.context, +				.getBean(ServletComponentRegisteringPostProcessor.class);, +		assertThat(postProcessor.getPackagesToScan()), +				.containsExactly("org.springframework.boot.web.servlet");, +	}, +, +	@Test, +	public void noBasePackageAndBasePackageAreCombinedCorrectly() {, +		this.context = new AnnotationConfigApplicationContext(NoBasePackages.class,, +				BasePackages.class);, +		ServletComponentRegisteringPostProcessor postProcessor = this.context, +				.getBean(ServletComponentRegisteringPostProcessor.class);, +		assertThat(postProcessor.getPackagesToScan()).containsExactlyInAnyOrder(, +				"org.springframework.boot.web.servlet", "com.example.foo",, +				"com.example.bar");, +	}, +, +	@Test, +	public void basePackageAndNoBasePackageAreCombinedCorrectly() {, +		this.context = new AnnotationConfigApplicationContext(BasePackages.class,, +				NoBasePackages.class);, +		ServletComponentRegisteringPostProcessor postProcessor = this.context, +				.getBean(ServletComponentRegisteringPostProcessor.class);, +		assertThat(postProcessor.getPackagesToScan()).containsExactlyInAnyOrder(, +				"org.springframework.boot.web.servlet", "com.example.foo",, +				"com.example.bar");, +	}, +, +	@Configuration, +	@ServletComponentScan, +	static class NoBasePackages {, +, +	}, +]