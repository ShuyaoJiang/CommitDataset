[+++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/statsd/StatsdMetricWriter.java, +import com.timgroup.statsd.StatsDClient;, +import org.springframework.util.Assert;, +	private final StatsDClient client;, +		this(new NonBlockingStatsDClient(trimPrefix(prefix), host, port,, +			new LoggingStatsdErrorHandler()));, +, +	/**, +	 * Create a new writer with the given client., +	 * @param client StatsD client to write metrics with, +	 */, +	public StatsdMetricWriter(StatsDClient client) {, +		Assert.notNull(client);, +		this.client = client;, +	}, +, +	private static String trimPrefix(String prefix) {, +		String trimmedPrefix = StringUtils.hasText(prefix) ? prefix : null;, +		while (trimmedPrefix != null && trimmedPrefix.endsWith(".")) {, +			trimmedPrefix = trimmedPrefix.substring(0, trimmedPrefix.length() - 1);, +		}, +, +		return trimmedPrefix;]