[+++ b/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java, + * @author Artsiom Yudovin, +		 * Maximum amount of request body to swallow., +		 */, +		private int maxSwallowSize = 0;, +, +		/**, +		public int getMaxSwallowSize() {, +			return this.maxSwallowSize;, +		}, +, +		public void setMaxSwallowSize(int maxSwallowSize) {, +			this.maxSwallowSize = maxSwallowSize;, +		}, +, +++ b/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java, + * @author Artsiom Yudovin, +		 * Maximum amount of request body to swallow., +		 */, +		private int maxSwallowSize = 0;, +, +		/**, +		public int getMaxSwallowSize() {, +			return this.maxSwallowSize;, +		}, +, +		public void setMaxSwallowSize(int maxSwallowSize) {, +			this.maxSwallowSize = maxSwallowSize;, +		}, +, +++ b/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/embedded/TomcatWebServerFactoryCustomizer.java, + * @author Artsiom Yudovin, +		propertyMapper.from(tomcatProperties::getMaxSwallowSize), +				.when((maxSwallowSize) -> maxSwallowSize != 0), +				.to((maxSwallowSize) -> customizeMaxSwallowSize(factory, maxSwallowSize));, +	@SuppressWarnings("rawtypes"), +	private void customizeMaxSwallowSize(ConfigurableTomcatWebServerFactory factory,, +			int maxSwallowSize) {, +		factory.addConnectorCustomizers((connector) -> {, +			ProtocolHandler handler = connector.getProtocolHandler();, +			if (handler instanceof AbstractHttp11Protocol) {, +				AbstractHttp11Protocol protocol = (AbstractHttp11Protocol) handler;, +				protocol.setMaxSwallowSize(maxSwallowSize);, +			}, +		});, +	}, +, +++ b/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java, + * @author Artsiom Yudovin, +		 * Maximum amount of request body to swallow., +		 */, +		private int maxSwallowSize = 0;, +, +		/**, +		public int getMaxSwallowSize() {, +			return this.maxSwallowSize;, +		}, +, +		public void setMaxSwallowSize(int maxSwallowSize) {, +			this.maxSwallowSize = maxSwallowSize;, +		}, +, +++ b/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/embedded/TomcatWebServerFactoryCustomizer.java, + * @author Artsiom Yudovin, +		propertyMapper.from(tomcatProperties::getMaxSwallowSize), +				.when((maxSwallowSize) -> maxSwallowSize != 0), +				.to((maxSwallowSize) -> customizeMaxSwallowSize(factory, maxSwallowSize));, +	@SuppressWarnings("rawtypes"), +	private void customizeMaxSwallowSize(ConfigurableTomcatWebServerFactory factory,, +			int maxSwallowSize) {, +		factory.addConnectorCustomizers((connector) -> {, +			ProtocolHandler handler = connector.getProtocolHandler();, +			if (handler instanceof AbstractHttp11Protocol) {, +				AbstractHttp11Protocol protocol = (AbstractHttp11Protocol) handler;, +				protocol.setMaxSwallowSize(maxSwallowSize);, +			}, +		});, +	}, +, +++ b/spring-boot-project/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/web/ServerPropertiesTests.java, + * @author Artsiom Yudovin, +		map.put("server.tomcat.max-swallow-size", "2");, +		assertThat(tomcat.getMaxSwallowSize()).isEqualTo(2);, +++ b/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java, + * @author Artsiom Yudovin, +		 * Maximum amount of request body to swallow., +		 */, +		private int maxSwallowSize = 0;, +, +		/**, +		public int getMaxSwallowSize() {, +			return this.maxSwallowSize;, +		}, +, +		public void setMaxSwallowSize(int maxSwallowSize) {, +			this.maxSwallowSize = maxSwallowSize;, +		}, +, +++ b/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/embedded/TomcatWebServerFactoryCustomizer.java, + * @author Artsiom Yudovin]