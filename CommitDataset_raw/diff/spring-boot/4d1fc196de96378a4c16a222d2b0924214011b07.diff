[+++ b/spring-boot-project/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfigurationTests.java, +import java.util.EnumSet;, +import java.util.stream.Collectors;, +		EnumSet<Feature> features = EnumSet.of(Feature.TEXT_SEARCH, Feature.SYNC_DELAY,, +		if (isWindows()) {, +			features.add(Feature.ONLY_WINDOWS_2008_SERVER);, +		}, +		load("spring.mongodb.embedded.features=" + String.join(", ",, +				features.stream().map(Feature::name).collect(Collectors.toList())));, +		assertThat(this.context.getBean(EmbeddedMongoProperties.class).getFeatures()), +				.containsExactlyElementsOf(features);, +	private boolean isWindows() {, +		return File.separatorChar == '\\';, +	}, +]