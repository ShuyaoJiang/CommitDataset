[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.java, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.java, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/orm/jpa/AbstractJpaAutoConfigurationTests.java, +import org.junit.Rule;, +import org.junit.rules.ExpectedException;, +import org.springframework.beans.factory.BeanCreationException;, +	@Rule, +	public ExpectedException expected = ExpectedException.none();, +, +	public void testNoDataSource() throws Exception {, +		this.context.register(PropertyPlaceholderAutoConfiguration.class,, +				getAutoConfigureClass());, +		this.expected.expect(BeanCreationException.class);, +		this.expected.expectMessage("No qualifying bean");, +		this.expected.expectMessage("DataSource");, +		this.context.refresh();, +	}, +, +	@Test]