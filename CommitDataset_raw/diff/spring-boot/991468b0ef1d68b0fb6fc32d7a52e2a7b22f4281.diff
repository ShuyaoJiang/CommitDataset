[+++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/appendix-application-properties.adoc, +	logging.file.max-history= # Maximum of archive log files to keep. Only supported with the default logback setup., +	logging.file.max-size= # Maximum log file size. Only supported with the default logback setup., +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/appendix-application-properties.adoc, +	logging.file.max-history= # Maximum of archive log files to keep. Only supported with the default logback setup., +	logging.file.max-size= # Maximum log file size. Only supported with the default logback setup., +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/spring-boot-features.adoc, +`WARN`-level, and `INFO`-level messages are logged by default. Size limits can be changed, +using the `logging.file.max-size` property. Previously rotated files are archived, +indefinitely unless the `logging.file.max-history` property has been set., +|`logging.file.max-size`, +|`LOG_FILE_MAX_SIZE`, +|Maximum log file size (if LOG_FILE enabled). (Only supported with the default logback setup.), +, +|`logging.file.max-history`, +|`LOG_FILE_MAX_HISTORY`, +|Maximum number of archive log files to keep (if LOG_FILE enabled). (Only supported with the default logback setup.), +, +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/appendix-application-properties.adoc, +	logging.file.max-history= # Maximum of archive log files to keep. Only supported with the default logback setup., +	logging.file.max-size= # Maximum log file size. Only supported with the default logback setup., +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/spring-boot-features.adoc, +`WARN`-level, and `INFO`-level messages are logged by default. Size limits can be changed, +using the `logging.file.max-size` property. Previously rotated files are archived, +indefinitely unless the `logging.file.max-history` property has been set., +|`logging.file.max-size`, +|`LOG_FILE_MAX_SIZE`, +|Maximum log file size (if LOG_FILE enabled). (Only supported with the default logback setup.), +, +|`logging.file.max-history`, +|`LOG_FILE_MAX_HISTORY`, +|Maximum number of archive log files to keep (if LOG_FILE enabled). (Only supported with the default logback setup.), +, +++ b/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/LoggingSystemProperties.java, + * @author Vedran Pavic, +	 * The name of the System property that contains the file log max history., +	 */, +	public static final String FILE_MAX_HISTORY = "LOG_FILE_MAX_HISTORY";, +, +	/**, +	 * The name of the System property that contains the file log max size., +	 */, +	public static final String FILE_MAX_SIZE = "LOG_FILE_MAX_SIZE";, +, +	/**, +		setSystemProperty(resolver, FILE_MAX_HISTORY, "file.max-history");, +		setSystemProperty(resolver, FILE_MAX_SIZE, "file.max-size");, +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/appendix-application-properties.adoc, +	logging.file.max-history= # Maximum of archive log files to keep. Only supported with the default logback setup., +	logging.file.max-size= # Maximum log file size. Only supported with the default logback setup., +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/spring-boot-features.adoc, +`WARN`-level, and `INFO`-level messages are logged by default. Size limits can be changed, +using the `logging.file.max-size` property. Previously rotated files are archived, +indefinitely unless the `logging.file.max-history` property has been set., +|`logging.file.max-size`, +|`LOG_FILE_MAX_SIZE`, +|Maximum log file size (if LOG_FILE enabled). (Only supported with the default logback setup.), +, +|`logging.file.max-history`, +|`LOG_FILE_MAX_HISTORY`, +|Maximum number of archive log files to keep (if LOG_FILE enabled). (Only supported with the default logback setup.), +, +++ b/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/LoggingSystemProperties.java, + * @author Vedran Pavic, +	 * The name of the System property that contains the file log max history., +	 */, +	public static final String FILE_MAX_HISTORY = "LOG_FILE_MAX_HISTORY";, +, +	/**, +	 * The name of the System property that contains the file log max size., +	 */, +	public static final String FILE_MAX_SIZE = "LOG_FILE_MAX_SIZE";, +, +	/**, +		setSystemProperty(resolver, FILE_MAX_HISTORY, "file.max-history");, +		setSystemProperty(resolver, FILE_MAX_SIZE, "file.max-size");, +++ b/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/logback/DefaultLogbackConfiguration.java, +import ch.qos.logback.core.CoreConstants;, +import ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy;, + * @author Vedran Pavic, +	private static final String MAX_FILE_SIZE = "10MB";, +, +		SizeAndTimeBasedRollingPolicy<ILoggingEvent> rollingPolicy =, +				new SizeAndTimeBasedRollingPolicy<>();, +		rollingPolicy.setFileNamePattern(logFile + ".%d{yyyy-MM-dd}.%i.gz");, +		String maxFileSize = this.patterns.getProperty("logging.file.max-size",, +				MAX_FILE_SIZE);, +			rollingPolicy.setMaxFileSize(FileSize.valueOf(maxFileSize));, +			Method method = ReflectionUtils.findMethod(, +					SizeAndTimeBasedRollingPolicy.class, "setMaxFileSize", String.class);, +			ReflectionUtils.invokeMethod(method, rollingPolicy, maxFileSize);, +		int maxHistory = this.patterns.getProperty("logging.file.max-history",, +				Integer.class, CoreConstants.UNBOUND_HISTORY);, +		rollingPolicy.setMaxHistory(maxHistory);, +		appender.setRollingPolicy(rollingPolicy);, +		rollingPolicy.setParent(appender);, +		config.start(rollingPolicy);, +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/appendix-application-properties.adoc, +	logging.file.max-history= # Maximum of archive log files to keep. Only supported with the default logback setup., +	logging.file.max-size= # Maximum log file size. Only supported with the default logback setup.]