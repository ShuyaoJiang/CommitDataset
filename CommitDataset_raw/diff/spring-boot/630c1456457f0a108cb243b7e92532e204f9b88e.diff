[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQAutoConfiguration.java, +import org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration;, +@AutoConfigureAfter({ JtaAutoConfiguration.class,, +		JndiConnectionFactoryAutoConfiguration.class }), +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQAutoConfiguration.java, +import org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration;, +@AutoConfigureAfter({ JtaAutoConfiguration.class,, +		JndiConnectionFactoryAutoConfiguration.class }), +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/hornetq/HornetQAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureAfter;, +import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;, +import org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration;, +import org.springframework.boot.autoconfigure.jta.JtaAutoConfiguration;, +@AutoConfigureAfter({ JtaAutoConfiguration.class,, +		JndiConnectionFactoryAutoConfiguration.class }), +@ConditionalOnMissingBean(ConnectionFactory.class)]