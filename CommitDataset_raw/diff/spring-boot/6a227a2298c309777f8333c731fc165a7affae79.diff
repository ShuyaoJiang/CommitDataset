[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.java, +import javax.persistence.EntityManager;, +import javax.sql.DataSource;, +, +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +@ConditionalOnClass({ LocalContainerEntityManagerFactoryBean.class,, +		EnableTransactionManagement.class, EntityManager.class,, +		HibernateEntityManager.class }), +@ConditionalOnBean(DataSource.class), +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.java, +import javax.persistence.EntityManager;, +import javax.sql.DataSource;, +, +import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;, +@ConditionalOnClass({ LocalContainerEntityManagerFactoryBean.class,, +		EnableTransactionManagement.class, EntityManager.class,, +		HibernateEntityManager.class }), +@ConditionalOnBean(DataSource.class), +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration.java]