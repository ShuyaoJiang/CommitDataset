[+++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcAutoConfiguration.java, +				serverPort = getTemporaryBean(beanFactory, ServerProperties.class), +						.getPort();, +				managementPort = getTemporaryBean(beanFactory,, +						ManagementServerProperties.class).getPort();, +		private static <T> T getTemporaryBean(BeanFactory beanFactory, Class<T> type) {, +			return createTemporaryBean(type, listable,, +					listable.getBeanDefinition(names[0]));, +		}, +, +		private static <T> T createTemporaryBean(Class<T> type,, +				ConfigurableListableBeanFactory parent, BeanDefinition definition) {, +			DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory(, +					parent);, +			beanFactory.registerBeanDefinition(type.getName(), definition);, +			return beanFactory.getBean(type);]