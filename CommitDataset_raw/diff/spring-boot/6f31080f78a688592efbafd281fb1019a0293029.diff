[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mail/MailProperties.java, +	/**, +	 * Ping to mail server while initializing., +	 */, +	private boolean testConnection;, +, +	public boolean isTestConnection() {, +		return this.testConnection;, +	}, +, +	public void setTestConnection(boolean testConnection) {, +		this.testConnection = testConnection;, +	}, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mail/MailProperties.java, +	/**, +	 * Ping to mail server while initializing., +	 */, +	private boolean testConnection;, +, +	public boolean isTestConnection() {, +		return this.testConnection;, +	}, +, +	public void setTestConnection(boolean testConnection) {, +		this.testConnection = testConnection;, +	}, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mail/MailSenderAutoConfiguration.java, +import javax.mail.MessagingException;, +		validateConnection(sender);, +	private void validateConnection(JavaMailSenderImpl sender) {, +		if (this.properties.isTestConnection()) {, +			try {, +				sender.testConnection();, +			} catch (MessagingException ex) {, +				throw new IllegalStateException(, +						String.format("Unable to ping to %s", this.properties.getHost()), ex);, +			}, +		}, +	}, +, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mail/MailProperties.java, +	/**, +	 * Ping to mail server while initializing., +	 */, +	private boolean testConnection;, +, +	public boolean isTestConnection() {, +		return this.testConnection;, +	}, +, +	public void setTestConnection(boolean testConnection) {, +		this.testConnection = testConnection;, +	}, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mail/MailSenderAutoConfiguration.java, +import javax.mail.MessagingException;, +		validateConnection(sender);, +	private void validateConnection(JavaMailSenderImpl sender) {, +		if (this.properties.isTestConnection()) {, +			try {, +				sender.testConnection();, +			} catch (MessagingException ex) {, +				throw new IllegalStateException(, +						String.format("Unable to ping to %s", this.properties.getHost()), ex);, +			}, +		}, +	}, +, +++ b/spring-boot-docs/src/main/asciidoc/appendix-application-properties.adoc, +	spring.mail.test-connection= # Enable test connection. Default: false]