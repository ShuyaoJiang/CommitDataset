[+++ b/spring-boot-tools/spring-boot-loader/src/main/java/org/springframework/boot/loader/LaunchedURLClassLoader.java, +	static {, +		try {, +			ClassLoader.registerAsParallelCapable();, +		}, +		catch (NoSuchMethodError ex) {, +			// Not available on earlier JDKs, +		}, +	}, +, +	private final LockProvider lockProvider;, +, +		this.lockProvider = createLockProvider();, +	}, +, +	private LockProvider createLockProvider() {, +		try {, +			ClassLoader.class.getMethod("getClassLoadingLock", String.class);, +			return new Java7LockProvider();, +		}, +		catch (NoSuchMethodException ex) {, +			return new LockProvider();, +		}, +		synchronized (this.lockProvider.getLock(this, name)) {, +	/**, +	 * Strategy used to provide the synchronize lock object to use when loading classes., +	 */, +	private static class LockProvider {, +, +		public Object getLock(LaunchedURLClassLoader classLoader, String className) {, +			return classLoader;, +		}, +, +	}, +, +	/**, +	 * Java 7 specific {@link LockProvider}., +	 */, +	private static class Java7LockProvider extends LockProvider {, +, +		@Override, +		public Object getLock(LaunchedURLClassLoader classLoader, String className) {, +			return classLoader.getClassLoadingLock(className);, +		}, +, +	}, +]