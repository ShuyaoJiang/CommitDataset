[+++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/condition/ConditionalOnMissingBeanTests.java, +import org.junit.Ignore;, +	@Test, +	@Ignore("This will never work - you need to use XML for FactoryBeans, or else call getObject() inside the @Bean method"), +	public void testOnMissingBeanConditionWithFactoryBean() {, +		this.context.register(ExampleBeanAndFactoryBeanConfiguration.class,, +				PropertyPlaceholderAutoConfiguration.class);, +		this.context.refresh();, +		// There should be only one, +		this.context.getBean(ExampleBean.class);, +	}, +, +	@Test, +	public void testOnMissingBeanConditionWithFactoryBeanInXml() {, +		this.context.register(ConfigurationWithFactoryBean.class,, +				PropertyPlaceholderAutoConfiguration.class);, +		this.context.refresh();, +		// There should be only one, +		this.context.getBean(ExampleBean.class);, +	}, +, +	protected static class ExampleBeanAndFactoryBeanConfiguration {, +, +		@Bean, +		public FactoryBean<ExampleBean> exampleBeanFactoryBean() {, +			return new ExampleFactoryBean("foo");, +		}, +, +		@Bean, +		@ConditionalOnMissingBean(ExampleBean.class), +		public ExampleBean createExampleBean() {, +			return new ExampleBean();, +		}, +	}, +, +	@Configuration]