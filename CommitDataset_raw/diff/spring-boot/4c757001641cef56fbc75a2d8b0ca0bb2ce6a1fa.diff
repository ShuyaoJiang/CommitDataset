[+++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfigurationTests.java, +import org.springframework.context.ApplicationContextException;, +		this.thrown.expect(ApplicationContextException.class);, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfigurationTests.java, +import org.springframework.context.ApplicationContextException;, +		this.thrown.expect(ApplicationContextException.class);, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/EmbeddedWebApplicationContext.java, +		try {, +		catch (Throwable ex) {, +			throw new ApplicationContextException("Unable to start embedded container",, +					ex);, +		}, +	}, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfigurationTests.java, +import org.springframework.context.ApplicationContextException;, +		this.thrown.expect(ApplicationContextException.class);, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/EmbeddedWebApplicationContext.java, +		try {, +		catch (Throwable ex) {, +			throw new ApplicationContextException("Unable to start embedded container",, +					ex);, +		}, +	}, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainer.java, +import org.apache.catalina.LifecycleState;, +			if (LifecycleState.FAILED.equals(this.tomcat.getConnector().getState())) {, +				this.tomcat.stop();, +				throw new IllegalStateException("Tomcat connector in failed state");, +			}]