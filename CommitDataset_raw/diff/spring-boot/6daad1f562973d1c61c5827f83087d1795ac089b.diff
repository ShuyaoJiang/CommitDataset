[+++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/howto.adoc, +NOTE: If you need access to the `BeanFactory` or the `Environment`, your `FailureAnalyzer`, +can simply implement `BeanFactoryAware` or `EnvironmentAware` respectively., +, +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/howto.adoc, +NOTE: If you need access to the `BeanFactory` or the `Environment`, your `FailureAnalyzer`, +can simply implement `BeanFactoryAware` or `EnvironmentAware` respectively., +, +++ b/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/diagnostics/FailureAnalyzers.java, + * Copyright 2012-2018 the original author or authors., +import org.springframework.context.EnvironmentAware;, +		if (analyzer instanceof EnvironmentAware) {, +			((EnvironmentAware) analyzer).setEnvironment(context.getEnvironment());, +		}, +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/howto.adoc, +NOTE: If you need access to the `BeanFactory` or the `Environment`, your `FailureAnalyzer`, +can simply implement `BeanFactoryAware` or `EnvironmentAware` respectively., +, +++ b/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/diagnostics/FailureAnalyzers.java, + * Copyright 2012-2018 the original author or authors., +import org.springframework.context.EnvironmentAware;, +		if (analyzer instanceof EnvironmentAware) {, +			((EnvironmentAware) analyzer).setEnvironment(context.getEnvironment());, +		}, +++ b/spring-boot-project/spring-boot/src/test/java/org/springframework/boot/diagnostics/FailureAnalyzersTests.java, + * Copyright 2012-2018 the original author or authors., +import org.springframework.context.EnvironmentAware;, +import org.springframework.core.env.Environment;, + * @author Stephane Nicoll, +	private static AwareFailureAnalyzer failureAnalyzer;, +		failureAnalyzer = mock(AwareFailureAnalyzer.class);, +	public void environmentIsInjectedIntEnvironmentAwareFailureAnalyzers() {, +		RuntimeException failure = new RuntimeException();, +		analyzeAndReport("basic.factories", failure);, +		verify(failureAnalyzer).setEnvironment(any(Environment.class));, +	}, +, +	@Test, +	interface AwareFailureAnalyzer extends BeanFactoryAware, EnvironmentAware, FailureAnalyzer {, +	static class StandardAwareFailureAnalyzer extends BasicFailureAnalyzer, +			implements AwareFailureAnalyzer {, +, +		@Override, +		public void setEnvironment(Environment environment) {, +			failureAnalyzer.setEnvironment(environment);, +		}, +++ b/spring-boot-project/spring-boot-docs/src/main/asciidoc/howto.adoc, +NOTE: If you need access to the `BeanFactory` or the `Environment`, your `FailureAnalyzer`, +can simply implement `BeanFactoryAware` or `EnvironmentAware` respectively., +, +++ b/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/diagnostics/FailureAnalyzers.java, + * Copyright 2012-2018 the original author or authors., +import org.springframework.context.EnvironmentAware;, +		if (analyzer instanceof EnvironmentAware) {, +			((EnvironmentAware) analyzer).setEnvironment(context.getEnvironment());, +		}, +++ b/spring-boot-project/spring-boot/src/test/java/org/springframework/boot/diagnostics/FailureAnalyzersTests.java, + * Copyright 2012-2018 the original author or authors., +import org.springframework.context.EnvironmentAware;, +import org.springframework.core.env.Environment;, + * @author Stephane Nicoll, +	private static AwareFailureAnalyzer failureAnalyzer;, +		failureAnalyzer = mock(AwareFailureAnalyzer.class);, +	public void environmentIsInjectedIntEnvironmentAwareFailureAnalyzers() {, +		RuntimeException failure = new RuntimeException();, +		analyzeAndReport("basic.factories", failure);, +		verify(failureAnalyzer).setEnvironment(any(Environment.class));, +	}, +, +	@Test, +	interface AwareFailureAnalyzer extends BeanFactoryAware, EnvironmentAware, FailureAnalyzer {, +	static class StandardAwareFailureAnalyzer extends BasicFailureAnalyzer, +			implements AwareFailureAnalyzer {, +, +		@Override, +		public void setEnvironment(Environment environment) {, +			failureAnalyzer.setEnvironment(environment);, +		}, +++ b/spring-boot-project/spring-boot/src/test/resources/failure-analyzers-tests/basic.factories, +org.springframework.boot.diagnostics.FailureAnalyzersTests$StandardAwareFailureAnalyzer]