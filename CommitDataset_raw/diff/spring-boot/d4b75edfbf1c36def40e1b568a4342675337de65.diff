[+++ b/spring-boot/src/test/java/org/springframework/boot/context/embedded/AbstractEmbeddedServletContainerFactoryTests.java, +		addTestTxtFile(factory);, +		addTestTxtFile(factory);, +		factory.setSsl(getSsl(null, "password", keyStore));, +		addTestTxtFile(factory);, +		factory.setSsl(getSsl(ClientAuth.NEED, null, "src/test/resources/test.p12",, +				"src/test/resources/test.p12"));, +		addTestTxtFile(factory);, +		factory.setSsl(getSsl(ClientAuth.NEED, "password", "src/test/resources/test.jks"));, +		addTestTxtFile(factory);, +		factory.setSsl(getSsl(ClientAuth.NEED, "password", "src/test/resources/test.jks"));, +		addTestTxtFile(factory);, +		factory.setSsl(getSsl(ClientAuth.WANT, "password", "src/test/resources/test.jks"));, +		addTestTxtFile(factory);, +		factory.setSsl(getSsl(ClientAuth.WANT, "password", "src/test/resources/test.jks"));, +	private Ssl getSsl(ClientAuth clientAuth, String keyPassword, String keyStore) {, +		return getSsl(clientAuth, keyPassword, keyStore, null);, +	}, +, +	private Ssl getSsl(ClientAuth clientAuth, String keyPassword, String keyStore,, +			String trustStore) {, +		Ssl ssl = new Ssl();, +		ssl.setClientAuth(clientAuth);, +		if (keyPassword != null) {, +			ssl.setKeyPassword(keyPassword);, +		}, +		if (keyStore != null) {, +			ssl.setKeyStore(keyStore);, +			ssl.setKeyStorePassword("secret");, +			ssl.setKeyStoreType(getStoreType(keyStore));, +		}, +		if (trustStore != null) {, +			ssl.setTrustStore(trustStore);, +			ssl.setTrustStorePassword("secret");, +			ssl.setTrustStoreType(getStoreType(trustStore));, +		}, +		return ssl;, +	}, +, +	private String getStoreType(String keyStore) {, +		return (keyStore.endsWith(".p12") ? "pkcs12" : null);, +	}, +, +	private void addTestTxtFile(AbstractEmbeddedServletContainerFactory factory), +			throws IOException {, +		FileCopyUtils.copy("test",, +				new FileWriter(this.temporaryFolder.newFile("test.txt")));, +		factory.setDocumentRoot(this.temporaryFolder.getRoot());, +	}, +, +]