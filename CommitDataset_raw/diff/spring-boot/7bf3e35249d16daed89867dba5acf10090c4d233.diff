[+++ b/spring-bootstrap/src/main/java/org/springframework/bootstrap/context/embedded/EmbeddedServletContainerFactory.java, +			ServletContextInitializer... initializers);, +++ b/spring-bootstrap/src/main/java/org/springframework/bootstrap/context/embedded/EmbeddedServletContainerFactory.java, +			ServletContextInitializer... initializers);, +++ b/spring-bootstrap/src/test/java/org/springframework/bootstrap/autoconfigure/web/MultipartAutoConfigurationTests.java, +import org.junit.After;, +import org.junit.Rule;, +import org.junit.rules.ExpectedException;, +import static org.junit.Assert.assertEquals;, +import static org.junit.Assert.assertNull;, +import static org.junit.Assert.assertSame;, +, + * @author Dave Syer, +	@Rule, +	public ExpectedException exception = ExpectedException.none();, +, +	@After, +	public void close() {, +		if (this.context != null) {, +			this.context.close();, +		}, +	}, +, +		assertEquals(0,, +				this.context.getBeansOfType(StandardServletMultipartResolver.class), +						.size());, +		assertEquals(0, this.context.getBeansOfType(MultipartResolver.class).size());, +		assertEquals(0,, +				this.context.getBeansOfType(StandardServletMultipartResolver.class), +						.size());, +		assertEquals(0, this.context.getBeansOfType(MultipartResolver.class).size());, +, +		assertEquals(0,, +				this.context.getBeansOfType(StandardServletMultipartResolver.class), +						.size());, +		assertEquals(0, this.context.getBeansOfType(MultipartResolver.class).size());, +, +		assertSame(this.context.getBean(DispatcherServlet.class).getMultipartResolver(),, +, +, +		assertSame(this.context.getBean(DispatcherServlet.class).getMultipartResolver(),, +, +, +		public @ResponseBody, +		String index() {, +		assertEquals(restTemplate.getForObject("http://localhost:8080/", String.class),, +				"Hello");]