[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.java, +		if (this.embeddedProperties.getStorage() != null) {, +			builder.replication(this.embeddedProperties.getStorage());, +		}, +, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.java, +		if (this.embeddedProperties.getStorage() != null) {, +			builder.replication(this.embeddedProperties.getStorage());, +		}, +, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoProperties.java, +	private Storage storage;, +, +	public Storage getStorage() {, +		return storage;, +	}, +, +	public void setStorage(Storage storage) {, +		this.storage = storage;, +	}, +, +	public static class Storage extends de.flapdoodle.embed.mongo.config.Storage {, +, +		private int oplogSize;, +		private String replSetName;, +		private String databaseDir;, +, +		public int getOplogSize() {, +			return oplogSize;, +		}, +, +		public void setOplogSize(int oplogSize) {, +			this.oplogSize = oplogSize;, +		}, +, +		public String getReplSetName() {, +			return replSetName;, +		}, +, +		public void setReplSetName(String replSetName) {, +			this.replSetName = replSetName;, +		}, +, +		public String getDatabaseDir() {, +			return databaseDir;, +		}, +, +		public void setDatabaseDir(String databaseDir) {, +			this.databaseDir = databaseDir;, +		}, +, +	}, +, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.java, +		if (this.embeddedProperties.getStorage() != null) {, +			builder.replication(this.embeddedProperties.getStorage());, +		}, +, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoProperties.java, +	private Storage storage;, +, +	public Storage getStorage() {, +		return storage;, +	}, +, +	public void setStorage(Storage storage) {, +		this.storage = storage;, +	}, +, +	public static class Storage extends de.flapdoodle.embed.mongo.config.Storage {, +, +		private int oplogSize;, +		private String replSetName;, +		private String databaseDir;, +, +		public int getOplogSize() {, +			return oplogSize;, +		}, +, +		public void setOplogSize(int oplogSize) {, +			this.oplogSize = oplogSize;, +		}, +, +		public String getReplSetName() {, +			return replSetName;, +		}, +, +		public void setReplSetName(String replSetName) {, +			this.replSetName = replSetName;, +		}, +, +		public String getDatabaseDir() {, +			return databaseDir;, +		}, +, +		public void setDatabaseDir(String databaseDir) {, +			this.databaseDir = databaseDir;, +		}, +, +	}]