[+++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointAutoConfiguration.java, +import java.util.HashMap;, +import org.springframework.boot.actuate.health.HealthIndicator;, +	Map<String, HealthIndicator<? extends Object>> healthIndicators = new HashMap<String, HealthIndicator<? extends Object>>();, +, +	@Autowired(required = false), +		return new HealthEndpoint(this.healthIndicators);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointAutoConfiguration.java, +import java.util.HashMap;, +import org.springframework.boot.actuate.health.HealthIndicator;, +	Map<String, HealthIndicator<? extends Object>> healthIndicators = new HashMap<String, HealthIndicator<? extends Object>>();, +, +	@Autowired(required = false), +		return new HealthEndpoint(this.healthIndicators);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureBefore;, +@AutoConfigureBefore({ EndpointAutoConfiguration.class }), +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointAutoConfiguration.java, +import java.util.HashMap;, +import org.springframework.boot.actuate.health.HealthIndicator;, +	Map<String, HealthIndicator<? extends Object>> healthIndicators = new HashMap<String, HealthIndicator<? extends Object>>();, +, +	@Autowired(required = false), +		return new HealthEndpoint(this.healthIndicators);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureBefore;, +@AutoConfigureBefore({ EndpointAutoConfiguration.class }), +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/HealthEndpoint.java, +import org.springframework.util.Assert;, +	private final Map<String, HealthIndicator<? extends Object>> healthIndicators;, +	public HealthEndpoint(Map<String, HealthIndicator<? extends Object>> healthIndicators) {, +		Assert.notNull(healthIndicators, "HealthIndicator must not be null");, +		this.healthIndicators = healthIndicators;, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointAutoConfiguration.java, +import java.util.HashMap;, +import org.springframework.boot.actuate.health.HealthIndicator;, +	Map<String, HealthIndicator<? extends Object>> healthIndicators = new HashMap<String, HealthIndicator<? extends Object>>();, +, +	@Autowired(required = false), +		return new HealthEndpoint(this.healthIndicators);, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/HealthIndicatorAutoConfiguration.java, +import org.springframework.boot.autoconfigure.AutoConfigureBefore;, +@AutoConfigureBefore({ EndpointAutoConfiguration.class }), +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/HealthEndpoint.java, +import org.springframework.util.Assert;, +	private final Map<String, HealthIndicator<? extends Object>> healthIndicators;, +	public HealthEndpoint(Map<String, HealthIndicator<? extends Object>> healthIndicators) {, +		Assert.notNull(healthIndicators, "HealthIndicator must not be null");, +		this.healthIndicators = healthIndicators;, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/endpoint/HealthEndpointTests.java, +		public HealthEndpoint endpoint(Map<String, HealthIndicator<?>> healthIndicators) {, +			return new HealthEndpoint(healthIndicators);]