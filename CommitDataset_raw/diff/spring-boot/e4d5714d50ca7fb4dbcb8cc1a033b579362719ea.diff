[+++ b/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/annotation/EndpointDiscoverer.java, +				EndpointBean endpointBean = createEndpointBean(beanName);, +++ b/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/annotation/EndpointDiscoverer.java, +				EndpointBean endpointBean = createEndpointBean(beanName);, +++ b/spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/endpoint/annotation/EndpointDiscovererTests.java, +		load(ScopedTargetEndpointConfiguration.class, (context) -> {, +			TestEndpoint expectedEndpoint = context, +					.getBean(ScopedTargetEndpointConfiguration.class).testEndpoint();, +			Collection<TestExposableEndpoint> endpoints = new TestEndpointDiscoverer(, +					context).getEndpoints();, +			assertThat(endpoints).flatExtracting(TestExposableEndpoint::getEndpointBean), +					.containsOnly(expectedEndpoint);]