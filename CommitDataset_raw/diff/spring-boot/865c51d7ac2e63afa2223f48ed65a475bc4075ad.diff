[+++ b/spring-boot-tools/spring-boot-loader/src/main/java/org/springframework/boot/loader/jar/JarURLConnection.java, +			this.jarFileUrl = new URL("jar:" + spec);, +			this.jarFileUrl = new URL("jar:" + spec.substring(0, separator));, +++ b/spring-boot-tools/spring-boot-loader/src/main/java/org/springframework/boot/loader/jar/JarURLConnection.java, +			this.jarFileUrl = new URL("jar:" + spec);, +			this.jarFileUrl = new URL("jar:" + spec.substring(0, separator));, +++ b/spring-boot-tools/spring-boot-loader/src/test/java/org/springframework/boot/loader/jar/JarFileTests.java, +		assertThat(jarURLConnection.getJarFileURL().toString(), equalTo("jar:file:", +		assertThat(conn.getJarFileURL().toString(), equalTo("jar:file:", +				+ this.rootJarFile.getPath() + "!/nested.jar"));]