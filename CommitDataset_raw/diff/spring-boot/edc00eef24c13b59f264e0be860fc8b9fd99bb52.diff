[+++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainer.java, +				stopSilently();, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainer.java, +				stopSilently();, +++ b/spring-boot/src/test/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactoryTests.java, +import java.util.concurrent.atomic.AtomicReference;, +		final AtomicReference<Tomcat> tomcatReference = new AtomicReference<Tomcat>();, +		TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory(, +				0) {, +, +			@Override, +			protected TomcatEmbeddedServletContainer getTomcatEmbeddedServletContainer(, +					Tomcat tomcat) {, +				tomcatReference.set(tomcat);, +				return super.getTomcatEmbeddedServletContainer(tomcat);, +			}, +, +		};, +		try {, +			factory.getEmbeddedServletContainer();, +		}, +		finally {, +			assertThat(tomcatReference.get().getServer().getState()), +					.isEqualTo(LifecycleState.STOPPED);, +		}]