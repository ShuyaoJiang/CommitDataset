[+++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedContext.java, +import org.apache.catalina.Manager;, +	@Override, +	public void setManager(Manager manager) {, +		if (manager != null) {, +			manager.setSessionIdGenerator(new LazySessionIdGenerator());, +		}, +		super.setManager(manager);, +	}, +, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedContext.java, +import org.apache.catalina.Manager;, +	@Override, +	public void setManager(Manager manager) {, +		if (manager != null) {, +			manager.setSessionIdGenerator(new LazySessionIdGenerator());, +		}, +		super.setManager(manager);, +	}, +, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactory.java, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedContext.java, +import org.apache.catalina.Manager;, +	@Override, +	public void setManager(Manager manager) {, +		if (manager != null) {, +			manager.setSessionIdGenerator(new LazySessionIdGenerator());, +		}, +		super.setManager(manager);, +	}, +, +++ b/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactory.java, +++ b/spring-boot/src/test/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactoryTests.java, +import org.apache.catalina.SessionIdGenerator;, +	@Test, +	public void sessionIdGeneratorIsConfiguredWithAttributesFromTheManager() {, +		System.setProperty("jvmRoute", "test");, +		try {, +			TomcatEmbeddedServletContainerFactory factory = getFactory();, +			this.container = factory.getEmbeddedServletContainer();, +			this.container.start();, +		}, +		finally {, +			System.clearProperty("jvmRoute");, +		}, +		Tomcat tomcat = ((TomcatEmbeddedServletContainer) this.container).getTomcat();, +		Context context = (Context) tomcat.getHost().findChildren()[0];, +		SessionIdGenerator sessionIdGenerator = context.getManager(), +				.getSessionIdGenerator();, +		assertThat(sessionIdGenerator).isInstanceOf(LazySessionIdGenerator.class);, +		assertThat(sessionIdGenerator.getJvmRoute()).isEqualTo("test");, +	}, +]