[+++ b/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/servlet/WebMvcMetricsFilter.java, +import javax.servlet.http.HttpServletRequestWrapper;, +import org.springframework.web.servlet.HandlerMapping;, +		HttpServletRequest wrapper = new UnmodifiableAttributesRequestWrapper(request);, +		for (HandlerMapping handlerMapping : getMappingIntrospector(), +				.getHandlerMappings()) {, +			HandlerExecutionChain chain = handlerMapping.getHandler(wrapper);, +			if (chain != null) {, +				if (handlerMapping instanceof MatchableHandlerMapping) {, +					return chain.getHandler();, +				}, +				return null;, +			}, +		}, +		return null;, +	/**, +	 * An {@link HttpServletRequestWrapper} that prevents modification of the request's, +	 * attributes., +	 */, +	private static final class UnmodifiableAttributesRequestWrapper, +			extends HttpServletRequestWrapper {, +, +		private UnmodifiableAttributesRequestWrapper(HttpServletRequest request) {, +			super(request);, +		}, +, +		@Override, +		public void setAttribute(String name, Object value) {, +, +		}, +	}, +]