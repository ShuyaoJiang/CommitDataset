[+++ b/spring-boot-cli/samples/failures.groovy, +class FailingJUnitTests {, +	@Test, +	void passingTest() {, +		assertTrue(true), +	}, +, +	@Test, +	void failureByAssertion() {, +		assertTrue(false), +	}, +, +	@Test, +	void failureByException() {, +		throw new RuntimeException("This should also be handled"), +	}, +}, +, +class FailingSpockTest extends Specification {, +	def "this should pass"() {, +		expect:, +		name.size() == length, +, +		where:, +		name    | length, +		"Spock" | 5, +	}, +, +	def "this should fail on purpose as well"() {, +		when:, +		String text = "Greetings", +, +		then:, +		//throw new RuntimeException("This should fail!"), +		true == false, +	}, +, +}, +++ b/spring-boot-cli/samples/failures.groovy, +class FailingJUnitTests {, +	@Test, +	void passingTest() {, +		assertTrue(true), +	}, +, +	@Test, +	void failureByAssertion() {, +		assertTrue(false), +	}, +, +	@Test, +	void failureByException() {, +		throw new RuntimeException("This should also be handled"), +	}, +}, +, +class FailingSpockTest extends Specification {, +	def "this should pass"() {, +		expect:, +		name.size() == length, +, +		where:, +		name    | length, +		"Spock" | 5, +	}, +, +	def "this should fail on purpose as well"() {, +		when:, +		String text = "Greetings", +, +		then:, +		//throw new RuntimeException("This should fail!"), +		true == false, +	}, +, +}, +++ b/spring-boot-cli/src/main/groovy/testers/junit.groovy, +	protected TestResults test(List<Class<?>> testable) {, +		return JUnitTester.runEmbeddedTests(testable), +	static TestResults runEmbeddedTests(List<Class<?>> testable) {, +		Result results = JUnitCore.runClasses(testable.toArray(new Class<?>[0])), +, +		TestResults testResults = new TestResults(), +		testResults.setRunCount(results.getRunCount()), +, +		List<Failure> failures = new ArrayList<Failure>(), +		for (org.junit.runner.notification.Failure failure : results.getFailures()) {, +			failures.add(new Failure(failure.exception.toString(), failure.trace)), +		}, +, +		testResults.setFailures(failures), +++ b/spring-boot-cli/samples/failures.groovy, +class FailingJUnitTests {, +	@Test, +	void passingTest() {, +		assertTrue(true), +	}, +, +	@Test, +	void failureByAssertion() {]