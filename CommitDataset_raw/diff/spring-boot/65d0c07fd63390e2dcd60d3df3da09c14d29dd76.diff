[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelector.java, + * @author Madhura Bhave, +				message.append("\t- ").append(exclusion).append(String.format("%n"));, +			throw new IllegalStateException(String.format(, +					"The following classes could not be excluded because they are", +							+ " not auto-configuration classes:%n%s",, +					message.toString()));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelector.java, + * @author Madhura Bhave, +				message.append("\t- ").append(exclusion).append(String.format("%n"));, +			throw new IllegalStateException(String.format(, +					"The following classes could not be excluded because they are", +							+ " not auto-configuration classes:%n%s",, +					message.toString()));, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelectorTests.java, + * @author Madhura Bhave, +	public void nonAutoConfigurationClassExclusionsShouldThrowException(), +			throws Exception {, +		this.expected.expect(IllegalStateException.class);, +				new String[] {, +						"org.springframework.boot.autoconfigure.EnableAutoConfigurationImportSelectorTests.TestConfiguration" },, +		this.expected.expect(IllegalStateException.class);, +		configureExclusions(new String[0], new String[0], new String[] {, +				"org.springframework.boot.autoconfigure.EnableAutoConfigurationImportSelectorTests.TestConfiguration" });]