[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/EnableAutoConfiguration.java, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/EnableAutoConfiguration.java, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelector.java, +			List<String> factories = new ArrayList<String>(new LinkedHashSet<String>(, +					SpringFactoriesLoader.loadFactoryNames(EnableAutoConfiguration.class,, +							this.beanClassLoader)));, +			excluded.addAll(Arrays.asList(attributes.getStringArray("exclude")));, +			excluded.addAll(Arrays.asList(attributes.getStringArray("excludeName")));, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/EnableAutoConfiguration.java, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelector.java, +			List<String> factories = new ArrayList<String>(new LinkedHashSet<String>(, +					SpringFactoriesLoader.loadFactoryNames(EnableAutoConfiguration.class,, +							this.beanClassLoader)));, +			excluded.addAll(Arrays.asList(attributes.getStringArray("exclude")));, +			excluded.addAll(Arrays.asList(attributes.getStringArray("excludeName")));, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelectorTests.java, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/EnableAutoConfiguration.java, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelector.java, +			List<String> factories = new ArrayList<String>(new LinkedHashSet<String>(, +					SpringFactoriesLoader.loadFactoryNames(EnableAutoConfiguration.class,, +							this.beanClassLoader)));, +			excluded.addAll(Arrays.asList(attributes.getStringArray("exclude")));, +			excluded.addAll(Arrays.asList(attributes.getStringArray("excludeName")));, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelectorTests.java, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/context/ConfigurationPropertiesAutoConfigurationTests.java, +		load(new Class[] { SampleBean.class,, +				ConfigurationPropertiesAutoConfiguration.class }, "foo.name:test");]