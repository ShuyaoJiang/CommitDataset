[+++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		bindToSpringApplication(environment);, +++ b/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java, +		bindToSpringApplication(environment);, +++ b/spring-boot/src/test/java/org/springframework/boot/SpringApplicationTests.java, +import org.springframework.boot.web.reactive.context.ReactiveWebApplicationContext;, +import org.springframework.web.context.ConfigurableWebEnvironment;, +import org.springframework.web.context.WebApplicationContext;, +	@Test, +	public void nonWebApplicationConfiguredViaAPropertyHasTheCorrectTypeOfContextAndEnvironment() {, +		ConfigurableApplicationContext context = new SpringApplication(, +				ExampleConfig.class).run("--spring.main.web-application-type=NONE");, +		assertThat(context).isNotInstanceOfAny(WebApplicationContext.class,, +				ReactiveWebApplicationContext.class);, +		assertThat(context.getEnvironment()), +				.isNotInstanceOfAny(ConfigurableWebEnvironment.class);, +	}, +]