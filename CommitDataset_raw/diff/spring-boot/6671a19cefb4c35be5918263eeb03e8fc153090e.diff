[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.java, +import org.springframework.boot.autoconfigure.data.redis.RedisProperties.Pool;, +import org.springframework.data.redis.connection.lettuce.LettucePoolingClientConfiguration;, + * @author Andy Wilkinson, +		LettuceClientConfiguration clientConfig;, +		clientConfig = getLettuceClientConfiguration(clientResources,, +				this.properties.getLettuce().getPool());, +		return createLettuceConnectionFactory(clientConfig);, +			ClientResources clientResources, Pool pool) {, +		LettuceClientConfigurationBuilder builder;, +		if (pool != null) {, +			builder = LettucePoolingClientConfiguration.builder(), +					.poolConfig(lettucePoolConfig(pool));, +		}, +		else {, +			builder = LettuceClientConfiguration.builder();, +		}, +		applyProperties(builder);, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.java, +import org.springframework.boot.autoconfigure.data.redis.RedisProperties.Pool;, +import org.springframework.data.redis.connection.lettuce.LettucePoolingClientConfiguration;, + * @author Andy Wilkinson, +		LettuceClientConfiguration clientConfig;, +		clientConfig = getLettuceClientConfiguration(clientResources,, +				this.properties.getLettuce().getPool());, +		return createLettuceConnectionFactory(clientConfig);, +			ClientResources clientResources, Pool pool) {, +		LettuceClientConfigurationBuilder builder;, +		if (pool != null) {, +			builder = LettucePoolingClientConfiguration.builder(), +					.poolConfig(lettucePoolConfig(pool));, +		}, +		else {, +			builder = LettuceClientConfiguration.builder();, +		}, +		applyProperties(builder);, +++ b/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfigurationTests.java, +import org.springframework.data.redis.connection.lettuce.LettucePoolingClientConfiguration;, +		assertThat(cf.getHostName()).isEqualTo("foo");, +		assertThat(getPoolingClientConfiguration(cf).getPoolConfig().getMinIdle()), +				.isEqualTo(1);, +		assertThat(getPoolingClientConfiguration(cf).getPoolConfig().getMaxIdle()), +				.isEqualTo(4);, +		assertThat(getPoolingClientConfiguration(cf).getPoolConfig().getMaxTotal()), +				.isEqualTo(16);, +		assertThat(getPoolingClientConfiguration(cf).getPoolConfig().getMaxWaitMillis()), +	private LettucePoolingClientConfiguration getPoolingClientConfiguration(, +			LettuceConnectionFactory factory) {, +		return (LettucePoolingClientConfiguration) ReflectionTestUtils.getField(factory,, +				"clientConfiguration");]