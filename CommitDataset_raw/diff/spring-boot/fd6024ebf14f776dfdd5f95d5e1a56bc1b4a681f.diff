[+++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/metrics/repository/redis/RedisMetricRepositoryTests.java, +import org.springframework.boot.redis.RedisTestServer;, + * Tests for {@link RedisMetricRepository}., + *, +	public RedisTestServer redis = new RedisTestServer();, +, +, +		this.repository = new RedisMetricRepository(this.redis.getConnectionFactory(),, +				this.prefix);, +		assertNotNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/metrics/repository/redis/RedisMetricRepositoryTests.java, +import org.springframework.boot.redis.RedisTestServer;, + * Tests for {@link RedisMetricRepository}., + *, +	public RedisTestServer redis = new RedisTestServer();, +, +, +		this.repository = new RedisMetricRepository(this.redis.getConnectionFactory(),, +				this.prefix);, +		assertNotNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/metrics/repository/redis/RedisMultiMetricRepositoryTests.java, +import org.springframework.boot.redis.RedisTestServer;, +	public RedisTestServer redis = new RedisTestServer();, +, +, +			this.repository = new RedisMultiMetricRepository(, +					this.redis.getConnectionFactory());, +			this.repository = new RedisMultiMetricRepository(, +					this.redis.getConnectionFactory(), this.prefix);, +		assertTrue(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForZSet().size("keys." + this.prefix) > 0);, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".bar"));, +, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/metrics/repository/redis/RedisMetricRepositoryTests.java, +import org.springframework.boot.redis.RedisTestServer;, + * Tests for {@link RedisMetricRepository}., + *, +	public RedisTestServer redis = new RedisTestServer();, +, +, +		this.repository = new RedisMetricRepository(this.redis.getConnectionFactory(),, +				this.prefix);, +		assertNotNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/metrics/repository/redis/RedisMultiMetricRepositoryTests.java, +import org.springframework.boot.redis.RedisTestServer;, +	public RedisTestServer redis = new RedisTestServer();, +, +, +			this.repository = new RedisMultiMetricRepository(, +					this.redis.getConnectionFactory());, +			this.repository = new RedisMultiMetricRepository(, +					this.redis.getConnectionFactory(), this.prefix);, +		assertTrue(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForZSet().size("keys." + this.prefix) > 0);, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".bar"));, +, +++ /dev/null, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/metrics/repository/redis/RedisMetricRepositoryTests.java, +import org.springframework.boot.redis.RedisTestServer;, + * Tests for {@link RedisMetricRepository}., + *, +	public RedisTestServer redis = new RedisTestServer();, +, +, +		this.repository = new RedisMetricRepository(this.redis.getConnectionFactory(),, +				this.prefix);, +		assertNotNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +++ b/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/metrics/repository/redis/RedisMultiMetricRepositoryTests.java, +import org.springframework.boot.redis.RedisTestServer;, +	public RedisTestServer redis = new RedisTestServer();, +, +, +			this.repository = new RedisMultiMetricRepository(, +					this.redis.getConnectionFactory());, +			this.repository = new RedisMultiMetricRepository(, +					this.redis.getConnectionFactory(), this.prefix);, +		assertTrue(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForZSet().size("keys." + this.prefix) > 0);, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".foo"));, +		assertNull(new StringRedisTemplate(this.redis.getConnectionFactory()), +				.opsForValue().get(this.prefix + ".bar"));]