[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/AbstractDataSourceConfiguration.java, +	private boolean testWhileIdle = false;, +, +	private int timeBetweenEvictionRunsMillis = getDefaultTimeBetweenEvictionRunsMillis();, +, +	private int minEvictableIdleTimeMillis = getDefaultMinEvictableIdleTimeMillis();, +, +	public void setTestWhileIdle(boolean testWhileIdle) {, +		this.testWhileIdle = testWhileIdle;, +	}, +, +	public void setTimeBetweenEvictionRunsMillis(int timeBetweenEvictionRunsMillis) {, +		this.timeBetweenEvictionRunsMillis = timeBetweenEvictionRunsMillis;, +	}, +, +	public void setMinEvictableIdleTimeMillis(int minEvictableIdleTimeMillis) {, +		this.minEvictableIdleTimeMillis = minEvictableIdleTimeMillis;, +	}, +, +	protected boolean isTestWhileIdle() {, +		return this.testWhileIdle;, +	}, +, +	protected int getTimeBetweenEvictionRunsMillis() { return this.timeBetweenEvictionRunsMillis; }, +, +	protected int getMinEvictableIdleTimeMillis() { return this.minEvictableIdleTimeMillis; }, +, +	protected abstract int getDefaultTimeBetweenEvictionRunsMillis();, +, +	protected abstract int getDefaultMinEvictableIdleTimeMillis();, +, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/AbstractDataSourceConfiguration.java, +	private boolean testWhileIdle = false;, +, +	private int timeBetweenEvictionRunsMillis = getDefaultTimeBetweenEvictionRunsMillis();, +, +	private int minEvictableIdleTimeMillis = getDefaultMinEvictableIdleTimeMillis();, +, +	public void setTestWhileIdle(boolean testWhileIdle) {, +		this.testWhileIdle = testWhileIdle;, +	}, +, +	public void setTimeBetweenEvictionRunsMillis(int timeBetweenEvictionRunsMillis) {, +		this.timeBetweenEvictionRunsMillis = timeBetweenEvictionRunsMillis;, +	}, +, +	public void setMinEvictableIdleTimeMillis(int minEvictableIdleTimeMillis) {, +		this.minEvictableIdleTimeMillis = minEvictableIdleTimeMillis;, +	}, +, +	protected boolean isTestWhileIdle() {, +		return this.testWhileIdle;, +	}, +, +	protected int getTimeBetweenEvictionRunsMillis() { return this.timeBetweenEvictionRunsMillis; }, +, +	protected int getMinEvictableIdleTimeMillis() { return this.minEvictableIdleTimeMillis; }, +, +	protected abstract int getDefaultTimeBetweenEvictionRunsMillis();, +, +	protected abstract int getDefaultMinEvictableIdleTimeMillis();, +, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/CommonsDataSourceConfiguration.java, +import org.apache.commons.pool.impl.GenericObjectPool;, +		this.pool.setTestWhileIdle(isTestWhileIdle());, +		this.pool.setTimeBetweenEvictionRunsMillis(getTimeBetweenEvictionRunsMillis());, +		this.pool.setMinEvictableIdleTimeMillis(getMinEvictableIdleTimeMillis());, +, +			} catch (SQLException ex) {, +	@Override, +	protected int getDefaultTimeBetweenEvictionRunsMillis() {, +		return (int) GenericObjectPool.DEFAULT_TIME_BETWEEN_EVICTION_RUNS_MILLIS;, +	}, +, +	@Override, +	protected int getDefaultMinEvictableIdleTimeMillis() {, +		return (int) GenericObjectPool.DEFAULT_MIN_EVICTABLE_IDLE_TIME_MILLIS;, +	}, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/AbstractDataSourceConfiguration.java, +	private boolean testWhileIdle = false;, +, +	private int timeBetweenEvictionRunsMillis = getDefaultTimeBetweenEvictionRunsMillis();, +, +	private int minEvictableIdleTimeMillis = getDefaultMinEvictableIdleTimeMillis();, +, +	public void setTestWhileIdle(boolean testWhileIdle) {, +		this.testWhileIdle = testWhileIdle;, +	}, +, +	public void setTimeBetweenEvictionRunsMillis(int timeBetweenEvictionRunsMillis) {, +		this.timeBetweenEvictionRunsMillis = timeBetweenEvictionRunsMillis;, +	}, +, +	public void setMinEvictableIdleTimeMillis(int minEvictableIdleTimeMillis) {, +		this.minEvictableIdleTimeMillis = minEvictableIdleTimeMillis;, +	}, +, +	protected boolean isTestWhileIdle() {, +		return this.testWhileIdle;, +	}]