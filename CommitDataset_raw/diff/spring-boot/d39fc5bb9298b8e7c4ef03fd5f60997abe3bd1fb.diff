[+++ b/spring-boot/src/test/java/org/springframework/boot/SpringApplicationTests.java, +++ b/spring-boot/src/test/java/org/springframework/boot/SpringApplicationTests.java, +++ b/spring-boot/src/test/java/org/springframework/boot/context/embedded/AbstractEmbeddedServletContainerFactoryTests.java, +import javax.servlet.ServletRequest;, +import javax.servlet.ServletResponse;, +import org.springframework.http.HttpStatus;, +	@Test, +	@Ignore, +	// FIXME: how to test an error response (maybe java.net.HttpUrlConnection isn't going, +	// to cut it), +	public void errorPage() throws Exception {, +		ConfigurableEmbeddedServletContainerFactory factory = getFactory();, +		factory.addErrorPages(new ErrorPage(HttpStatus.INTERNAL_SERVER_ERROR, "/hello"));, +		this.container = factory.getEmbeddedServletContainer(, +				exampleServletRegistration(), errorServletRegistration());, +		this.container.start();, +		assertThat(getResponse("http://localhost:8080/hello"), equalTo("Hello World"));, +		assertThat(getResponse("http://localhost:8080/bang"), equalTo("Hello World"));, +	}, +, +	private ServletContextInitializer errorServletRegistration() {, +		ServletRegistrationBean bean = new ServletRegistrationBean(new ExampleServlet() {, +			@Override, +			public void service(ServletRequest request, ServletResponse response), +					throws ServletException, IOException {, +				throw new RuntimeException("Planned");, +			}, +		}, "/bang");, +		bean.setName("error");, +		return bean;, +	}]