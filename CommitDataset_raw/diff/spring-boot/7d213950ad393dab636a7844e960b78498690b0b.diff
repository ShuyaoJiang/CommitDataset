[+++ b/pom.xml, +	<version>1.1.5.BUILD-SNAPSHOT</version>, +++ b/pom.xml, +	<version>1.1.5.BUILD-SNAPSHOT</version>, +++ b/spring-boot-actuator/pom.xml, +		<version>1.1.5.BUILD-SNAPSHOT</version>, +++ b/pom.xml, +	<version>1.1.5.BUILD-SNAPSHOT</version>, +++ b/spring-boot-actuator/pom.xml, +		<version>1.1.5.BUILD-SNAPSHOT</version>, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointAutoConfiguration.java, +import org.springframework.boot.actuate.endpoint.VanillaPublicMetrics;, +	private MetricReader metricRepository = new InMemoryMetricRepository();, +	private PublicMetrics metrics;, +		if (this.metrics == null) {, +			this.metrics = new VanillaPublicMetrics(this.metricRepository);, +		return new MetricsEndpoint(this.metrics);, +	@Bean, +	@ConditionalOnMissingBean, +	public ConfigurationPropertiesReportEndpoint configurationPropertiesReportEndpoint() {, +		ConfigurationPropertiesReportEndpoint endpoint = new ConfigurationPropertiesReportEndpoint();, +		endpoint.setConfigurationBeanFactoryMetaData(this.beanFactoryMetaData);, +		return endpoint;, +	}, +, +++ b/pom.xml, +	<version>1.1.5.BUILD-SNAPSHOT</version>, +++ b/spring-boot-actuator/pom.xml, +		<version>1.1.5.BUILD-SNAPSHOT</version>, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointAutoConfiguration.java, +import org.springframework.boot.actuate.endpoint.VanillaPublicMetrics;, +	private MetricReader metricRepository = new InMemoryMetricRepository();, +	private PublicMetrics metrics;, +		if (this.metrics == null) {, +			this.metrics = new VanillaPublicMetrics(this.metricRepository);, +		return new MetricsEndpoint(this.metrics);, +	@Bean, +	@ConditionalOnMissingBean, +	public ConfigurationPropertiesReportEndpoint configurationPropertiesReportEndpoint() {, +		ConfigurationPropertiesReportEndpoint endpoint = new ConfigurationPropertiesReportEndpoint();, +		endpoint.setConfigurationBeanFactoryMetaData(this.beanFactoryMetaData);, +		return endpoint;, +	}, +, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/ConfigurationPropertiesReportEndpoint.java, +import org.springframework.util.Assert;, +	private String[] keysToSanitize = new String[] { "password", "secret", "key" };, +		Assert.notNull(keysToSanitize, "KeysToSanitize must not be null");, +		this.keysToSanitize = keysToSanitize;, +				map.put(entry.getKey(), sanitize(entry.getKey(), entry.getValue()));, +	private Object sanitize(String name, Object object) {, +		for (String keyToSanitize : this.keysToSanitize) {, +			if (name.toLowerCase().endsWith(keyToSanitize)) {, +				return (object == null ? null : "******");, +			}, +		}, +		return object;, +	}, +, +++ b/pom.xml, +	<version>1.1.5.BUILD-SNAPSHOT</version>, +++ b/spring-boot-actuator/pom.xml, +		<version>1.1.5.BUILD-SNAPSHOT</version>, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointAutoConfiguration.java, +import org.springframework.boot.actuate.endpoint.VanillaPublicMetrics;, +	private MetricReader metricRepository = new InMemoryMetricRepository();, +	private PublicMetrics metrics;, +		if (this.metrics == null) {, +			this.metrics = new VanillaPublicMetrics(this.metricRepository);, +		return new MetricsEndpoint(this.metrics);, +	@Bean, +	@ConditionalOnMissingBean, +	public ConfigurationPropertiesReportEndpoint configurationPropertiesReportEndpoint() {, +		ConfigurationPropertiesReportEndpoint endpoint = new ConfigurationPropertiesReportEndpoint();, +		endpoint.setConfigurationBeanFactoryMetaData(this.beanFactoryMetaData);, +		return endpoint;, +	}, +, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/ConfigurationPropertiesReportEndpoint.java, +import org.springframework.util.Assert;, +	private String[] keysToSanitize = new String[] { "password", "secret", "key" };, +		Assert.notNull(keysToSanitize, "KeysToSanitize must not be null");, +		this.keysToSanitize = keysToSanitize;, +				map.put(entry.getKey(), sanitize(entry.getKey(), entry.getValue()));, +	private Object sanitize(String name, Object object) {, +		for (String keyToSanitize : this.keysToSanitize) {, +			if (name.toLowerCase().endsWith(keyToSanitize)) {, +				return (object == null ? null : "******");, +			}, +		}, +		return object;, +	}, +, +++ b/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/EnvironmentEndpoint.java, +import org.springframework.util.Assert;, +	private String[] keysToSanitize = new String[] { "password", "secret", "key" };, +		Assert.notNull(keysToSanitize, "KeysToSanitize must not be null");, +		this.keysToSanitize = keysToSanitize;, +		for (String keyToSanitize : this.keysToSanitize) {, +			if (name.toLowerCase().endsWith(keyToSanitize)) {]