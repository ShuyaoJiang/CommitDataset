[+++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQConnectionFactoryFactory.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.autoconfigure.jms.activemq.ActiveMQProperties.Packages;, + * @author Venil Noronha, +		T activeMqConnectionFactory;, +			activeMqConnectionFactory =, +				factoryClass.getConstructor(String.class, String.class, String.class), +		else {, +			activeMqConnectionFactory =, +				factoryClass.getConstructor(String.class).newInstance(brokerUrl);, +		}, +		Packages packages = this.properties.getPackages();, +		activeMqConnectionFactory.setTrustAllPackages(packages.isTrustAll());, +		activeMqConnectionFactory.setTrustedPackages(packages.getTrusted());, +		return activeMqConnectionFactory;, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQConnectionFactoryFactory.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.autoconfigure.jms.activemq.ActiveMQProperties.Packages;, + * @author Venil Noronha, +		T activeMqConnectionFactory;, +			activeMqConnectionFactory =, +				factoryClass.getConstructor(String.class, String.class, String.class), +		else {, +			activeMqConnectionFactory =, +				factoryClass.getConstructor(String.class).newInstance(brokerUrl);, +		}, +		Packages packages = this.properties.getPackages();, +		activeMqConnectionFactory.setTrustAllPackages(packages.isTrustAll());, +		activeMqConnectionFactory.setTrustedPackages(packages.getTrusted());, +		return activeMqConnectionFactory;, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQProperties.java, +import java.util.ArrayList;, +import java.util.List;, +, + * @author Venil Noronha, +	private Packages packages = new Packages();, +, +	public Packages getPackages() {, +		return this.packages;, +	}, +, +	public void setPackages(Packages packages) {, +		this.packages = packages;, +	}, +, +	public static class Packages {, +, +		/** Whether security check for trusted packages should be turned off. */, +		private boolean trustAll = false;, +, +		/** The packages to trust. */, +		private List<String> trusted = new ArrayList<String>();, +, +		public boolean isTrustAll() {, +			return this.trustAll;, +		}, +, +		public void setTrustAll(boolean trustAll) {, +			this.trustAll = trustAll;, +		}, +, +		public List<String> getTrusted() {, +			return this.trusted;, +		}, +, +		public void setTrusted(List<String> trusted) {, +			this.trusted = trusted;, +		}, +, +	}, +, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQConnectionFactoryFactory.java, + * Copyright 2012-2016 the original author or authors., +import org.springframework.boot.autoconfigure.jms.activemq.ActiveMQProperties.Packages;, + * @author Venil Noronha, +		T activeMqConnectionFactory;, +			activeMqConnectionFactory =, +				factoryClass.getConstructor(String.class, String.class, String.class), +		else {, +			activeMqConnectionFactory =, +				factoryClass.getConstructor(String.class).newInstance(brokerUrl);, +		}, +		Packages packages = this.properties.getPackages();, +		activeMqConnectionFactory.setTrustAllPackages(packages.isTrustAll());, +		activeMqConnectionFactory.setTrustedPackages(packages.getTrusted());, +		return activeMqConnectionFactory;, +++ b/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQProperties.java, +import java.util.ArrayList;, +import java.util.List;, +, + * @author Venil Noronha, +	private Packages packages = new Packages();, +, +	public Packages getPackages() {, +		return this.packages;, +	}, +, +	public void setPackages(Packages packages) {, +		this.packages = packages;, +	}]