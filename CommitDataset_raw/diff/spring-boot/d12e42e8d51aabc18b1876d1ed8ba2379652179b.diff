[+++ b/spring-boot-project/spring-boot-actuator-autoconfigure/pom.xml, +			<groupId>org.elasticsearch</groupId>, +			<artifactId>elasticsearch</artifactId>, +			<optional>true</optional>, +		</dependency>, +		<dependency>, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/pom.xml, +			<groupId>org.elasticsearch</groupId>, +			<artifactId>elasticsearch</artifactId>, +			<optional>true</optional>, +		</dependency>, +		<dependency>, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/elasticsearch/ElasticSearchRestHealthIndicatorAutoConfiguration.java, + * @since 2.1.1, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/pom.xml, +			<groupId>org.elasticsearch</groupId>, +			<artifactId>elasticsearch</artifactId>, +			<optional>true</optional>, +		</dependency>, +		<dependency>, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/elasticsearch/ElasticSearchRestHealthIndicatorAutoConfiguration.java, + * @since 2.1.1, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/resources/META-INF/spring.factories, +org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchRestHealthIndicatorAutoConfiguration,\, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/pom.xml, +			<groupId>org.elasticsearch</groupId>, +			<artifactId>elasticsearch</artifactId>, +			<optional>true</optional>, +		</dependency>, +		<dependency>, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/elasticsearch/ElasticSearchRestHealthIndicatorAutoConfiguration.java, + * @since 2.1.1, +++ b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/resources/META-INF/spring.factories, +org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchRestHealthIndicatorAutoConfiguration,\, +++ b/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/elasticsearch/ElasticsearchRestHealthIndicator.java, +import java.io.InputStream;, +import java.util.Map;, +import org.springframework.boot.json.JsonParser;, +import org.springframework.boot.json.JsonParserFactory;, +import org.springframework.util.StreamUtils;, + * {@link HealthIndicator} for an Elasticsearch cluster using a {@link RestClient}., + * @author Brian Clozel, + * @since 2.1.1, +	private static final String RED_STATUS = "red";, +, +	private final JsonParser jsonParser;, +		this.jsonParser = JsonParserFactory.getJsonParser();, +			try (InputStream is = response.getEntity().getContent()) {, +				Map<String, Object> root = this.jsonParser, +						.parseMap(StreamUtils.copyToString(is, StandardCharsets.UTF_8));, +				String status = (String) root.get("status");, +				if (status.equals(RED_STATUS)) {]