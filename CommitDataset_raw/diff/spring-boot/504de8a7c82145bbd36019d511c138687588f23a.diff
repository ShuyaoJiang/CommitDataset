[+++ b/spring-boot/src/test/java/org/springframework/boot/logging/log4j2/Log4J2LoggingSystemTests.java, +import java.util.Map.Entry;, +import org.apache.logging.log4j.core.Appender;, +import org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender;, +import org.junit.After;, +	@After, +	public void flushAllOutputStreamAppenders() {, +		for (Entry<String, Appender> entry : ((org.apache.logging.log4j.core.Logger) this.logger), +				.getAppenders().entrySet()) {, +			Appender appender = entry.getValue();, +			if (appender instanceof AbstractOutputStreamAppender) {, +				((AbstractOutputStreamAppender<?>) appender).getManager().flush();, +			}, +		}, +	}, +]