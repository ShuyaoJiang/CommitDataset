[+++ b/butterknife-integration-test/src/androidTest/java/com/example/butterknife/functional/OnItemLongClickTest.java, +package com.example.butterknife.functional;, +, +import android.content.Context;, +import android.view.View;, +import android.view.ViewGroup;, +import android.widget.AbsSpinner;, +import android.widget.AdapterView;, +import android.widget.FrameLayout;, +import androidx.test.InstrumentationRegistry;, +import androidx.test.annotation.UiThreadTest;, +import butterknife.ButterKnife;, +import butterknife.OnItemLongClick;, +import butterknife.Optional;, +import butterknife.Unbinder;, +import com.example.butterknife.library.SimpleAdapter;, +import org.junit.Test;, +, +import static org.junit.Assert.assertEquals;, +import static org.junit.Assert.assertFalse;, +import static org.junit.Assert.assertSame;, +import static org.junit.Assert.assertTrue;, +, +@SuppressWarnings("unused") // Used reflectively / by code gen., +public final class OnItemLongClickTest {, +    static class TestSpinner extends AbsSpinner {, +        public TestSpinner(Context context) {, +            super(context);, +            setAdapter(new SimpleAdapter(context));, +        }, +, +        boolean performItemLongClick(int position) {, +            if (position >= 0) {, +                AdapterView.OnItemLongClickListener listener = getOnItemLongClickListener();, +                if (listener != null) {, +                    return listener.onItemLongClick(this, null, position, NO_ID);, +                }, +            }, +, +            return false;, +        }, +    }, +, +    static final class Simple {, +        boolean returnValue = true;, +        int clickedPosition = -1;, +, +        @OnItemLongClick(1) boolean itemClick(int position) {, +            clickedPosition = position;, +            return returnValue;, +        }, +    }, +, +    @UiThreadTest, +    @Test public void simple() {, +        View tree = ViewTree.create(TestSpinner.class, 1);, +        TestSpinner spinner = tree.findViewById(1);, +, +        Simple target = new Simple();, +        Unbinder unbinder = ButterKnife.bind(target, tree);, +        assertEquals(-1, target.clickedPosition);, +, +        assertTrue(spinner.performItemLongClick(0));, +        assertEquals(0, target.clickedPosition);, +, +        target.returnValue = false;, +        assertFalse(spinner.performItemLongClick(1));, +        assertEquals(1, target.clickedPosition);, +, +        unbinder.unbind();, +        spinner.performItemLongClick(2);, +        assertEquals(1, target.clickedPosition);, +    }, +, +    static final class ReturnVoid {, +        int clickedPosition = -1;, +, +        @OnItemLongClick(1) void itemLongClick(int position) {, +            clickedPosition = position;, +        }, +    }, +, +    @UiThreadTest, +    @Test public void returnVoid() {, +        View tree = ViewTree.create(TestSpinner.class, 1);, +        TestSpinner spinner = tree.findViewById(1);, +, +        ReturnVoid target = new ReturnVoid();, +        Unbinder unbinder = ButterKnife.bind(target, tree);, +        assertEquals(-1, target.clickedPosition);, +, +        assertTrue(spinner.performItemLongClick(0));, +        assertEquals(0, target.clickedPosition);, +, +        unbinder.unbind();, +        spinner.performItemLongClick(1);, +        assertEquals(0, target.clickedPosition);, +    }, +, +    static final class Visibilities {]