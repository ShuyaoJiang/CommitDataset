[+++ b/src/main/java/rx/internal/operators/OperatorTakeUntil.java, +        final Subscriber<T> serial = new SerializedSubscriber<T>(child, false);, +        final Subscriber<T> main = new Subscriber<T>(serial, false) {, +            @Override, +            public void onNext(T t) {, +                serial.onNext(t);, +            }, +            @Override, +            public void onError(Throwable e) {, +                try {, +                    serial.onError(e);, +                } finally {, +                    serial.unsubscribe();, +                }, +            }, +            @Override, +            public void onCompleted() {, +                try {, +                    serial.onCompleted();, +                } finally {, +                    serial.unsubscribe();, +                }, +            }, +        };, +        , +        final Subscriber<E> so = new Subscriber<E>() {, +            @Override, +            public void onStart() {, +                request(Long.MAX_VALUE);, +            }, +                main.onCompleted();, +                main.onError(e);, +                onCompleted();, +        };, +        serial.add(main);, +        serial.add(so);, +        , +        child.add(serial);, +        , +        other.unsafeSubscribe(so);, +, +        return main;, +++ b/src/main/java/rx/internal/operators/OperatorTakeUntil.java, +        final Subscriber<T> serial = new SerializedSubscriber<T>(child, false);, +        final Subscriber<T> main = new Subscriber<T>(serial, false) {, +            @Override, +            public void onNext(T t) {, +                serial.onNext(t);, +            }, +            @Override, +            public void onError(Throwable e) {, +                try {, +                    serial.onError(e);, +                } finally {, +                    serial.unsubscribe();, +                }, +            }, +            @Override, +            public void onCompleted() {, +                try {, +                    serial.onCompleted();, +                } finally {, +                    serial.unsubscribe();, +                }, +            }, +        };, +        , +        final Subscriber<E> so = new Subscriber<E>() {, +            @Override, +            public void onStart() {, +                request(Long.MAX_VALUE);, +            }, +                main.onCompleted();, +                main.onError(e);, +                onCompleted();, +        };, +        serial.add(main);, +        serial.add(so);, +        , +        child.add(serial);, +        , +        other.unsafeSubscribe(so);, +, +        return main;, +++ b/src/test/java/rx/internal/operators/OperatorTakeUntilTest.java, +import static org.junit.Assert.assertFalse;, +import static org.junit.Assert.assertTrue;, +import static org.mockito.Mockito.*;, +, +import java.util.Arrays;, +import rx.observers.TestSubscriber;, +import rx.subjects.PublishSubject;, +    , +    @Test, +    public void testUntilFires() {, +        PublishSubject<Integer> source = PublishSubject.create();, +        PublishSubject<Integer> until = PublishSubject.create();, +        , +        TestSubscriber<Integer> ts = new TestSubscriber<Integer>();, +        ]