[+++ b/rxjava-core/src/main/java/rx/operators/OperationObserveOn.java, +import static org.junit.Assert.*;, +import java.util.concurrent.CountDownLatch;, +import java.util.concurrent.TimeUnit;, +import org.junit.Test;, +import org.mockito.invocation.InvocationOnMock;, +import org.mockito.stubbing.Answer;, +, +            final CountDownLatch completedLatch = new CountDownLatch(1);, +            doAnswer(new Answer<Void>() {, +, +                @Override, +                public Void answer(InvocationOnMock invocation) throws Throwable {, +                    completedLatch.countDown();, +                    return null;, +                }, +            }).when(observer).onCompleted();, +, +            if (!completedLatch.await(1000, TimeUnit.MILLISECONDS)) {, +                fail("timed out waiting");, +            }]