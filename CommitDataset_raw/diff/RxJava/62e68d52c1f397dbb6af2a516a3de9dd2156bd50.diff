[+++ b/language-adaptors/rxjava-scala/src/examples/scala/rx/lang/scala/examples/RxScalaDemo.scala, +++ b/language-adaptors/rxjava-scala/src/examples/scala/rx/lang/scala/examples/RxScalaDemo.scala, +++ b/language-adaptors/rxjava-scala/src/main/scala/rx/lang/scala/Observable.scala, +   * @tparam T, +++ b/language-adaptors/rxjava-scala/src/examples/scala/rx/lang/scala/examples/RxScalaDemo.scala, +++ b/language-adaptors/rxjava-scala/src/main/scala/rx/lang/scala/Observable.scala, +   * @tparam T, +++ b/rxjava-core/src/main/java/rx/observers/SafeSubscriber.java, +import java.util.concurrent.atomic.AtomicIntegerFieldUpdater;, +    /** Terminal state indication if not zero. */, +    volatile int done;, +    @SuppressWarnings("rawtypes"), +    static final AtomicIntegerFieldUpdater<SafeSubscriber> DONE_UPDATER, +            = AtomicIntegerFieldUpdater.newUpdater(SafeSubscriber.class, "done");, +        if (DONE_UPDATER.getAndSet(this, 1) == 0) {, +        if (DONE_UPDATER.getAndSet(this, 1) == 0) {, +            if (done == 0) {]