[+++ b/src/main/java/rx/internal/operators/OnSubscribeRedo.java, +                        currentProducer.set(null);, +                        currentProducer.set(null);, +++ b/src/main/java/rx/internal/operators/OnSubscribeRedo.java, +                        currentProducer.set(null);, +                        currentProducer.set(null);, +++ b/src/test/java/rx/internal/operators/OperatorRepeatTest.java, +import java.util.*;, +import java.util.concurrent.TimeUnit;, +    /** Issue #2844: wrong target of request. */, +    @Test(timeout = 3000), +    public void testRepeatRetarget() {, +        final List<Integer> concatBase = new ArrayList<Integer>();, +        TestSubscriber<Integer> ts = new TestSubscriber<Integer>();, +        Observable.just(1, 2), +        .repeat(5), +        .concatMap(new Func1<Integer, Observable<Integer>>() {, +            @Override, +            public Observable<Integer> call(Integer x) {, +                System.out.println("testRepeatRetarget -> " + x);, +                concatBase.add(x);, +                return Observable.<Integer>empty(), +                        .delay(200, TimeUnit.MILLISECONDS);, +            }, +        }), +        .subscribe(ts);, +, +        ts.awaitTerminalEvent();, +        ts.assertNoErrors();, +        ts.assertReceivedOnNext(Collections.<Integer>emptyList());, +        , +        assertEquals(Arrays.asList(1, 2, 1, 2, 1, 2, 1, 2, 1, 2), concatBase);, +    }]