[+++ b/rxjava-core/src/main/java/rx/operators/OperationTake.java, +import static rx.testing.TrustedObservableTester.assertTrustedObservable;, +                if (counter.getAndSet(num) < num) {, +            }, +                if (counter.getAndSet(num) < num) {, +            }, +            Observable<String> take = Observable.create(assertTrustedObservable(take(w, 2)));, +            Observable<String> take = Observable.create(assertTrustedObservable(take(w, 1)));, +            Observable<String> source = Observable.create(new Func1<Observer<String>, Subscription>(), +            {, +                @Override, +                public Subscription call(Observer<String> observer), +                {, +                    observer.onNext("one");, +                    observer.onError(new Exception("test failed"));, +                    return Subscriptions.empty();, +                }, +            });, +            Observable.create(assertTrustedObservable(take(source, 1))).last();, +            Observable<String> source = Observable.error(new Exception("test failed"));, +            Observable.create(assertTrustedObservable(take(source, 0))).lastOrDefault("ok");, +            Observable<String> take = Observable.create(assertTrustedObservable(take(w, 1)));]