[+++ b/src/main/java/rx/internal/schedulers/ScheduledAction.java, +import java.util.concurrent.atomic.AtomicBoolean;, +import java.util.concurrent.atomic.AtomicReference;, +public final class ScheduledAction extends AtomicReference<Thread> implements Runnable, Subscription {, +    /** */, +    private static final long serialVersionUID = -3962399486978279857L;, +    final CompositeSubscription cancel;, +        this.cancel = new CompositeSubscription();, +            lazySet(Thread.currentThread());, +            Thread thread = Thread.currentThread();, +        return cancel.isUnsubscribed();, +        if (!cancel.isUnsubscribed()) {, +            cancel.unsubscribe();, +        cancel.add(s);, +        cancel.add(new FutureCompleter(f));, +        cancel.add(new Remover(this, parent));, +            if (ScheduledAction.this.get() != Thread.currentThread()) {, +    private static final class Remover extends AtomicBoolean implements Subscription {, +        /** */, +        private static final long serialVersionUID = 247232374289553518L;, +            if (compareAndSet(false, true)) {]