[+++ b/rxjava-core/src/main/java/rx/subscriptions/SerialSubscription.java, +import java.util.concurrent.locks.Lock;, +import java.util.concurrent.locks.ReadWriteLock;, +import java.util.concurrent.locks.ReentrantReadWriteLock;, +    private final Lock read;, +    private final Lock write;, +, +    public SerialSubscription() {, +        final ReadWriteLock lock = new ReentrantReadWriteLock();, +        read = lock.readLock();, +        write = lock.writeLock();, +    }, +        write.lock();, +        try {, +        } finally {, +            write.unlock();, +        }, +        read.lock();, +        try {, +                reference.getAndSet(subscription).unsubscribe();, +            }, +        } finally {, +            read.unlock();]