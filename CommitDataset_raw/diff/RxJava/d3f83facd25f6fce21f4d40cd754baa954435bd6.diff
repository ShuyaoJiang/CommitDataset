[+++ b/language-adaptors/rxjava-scala/src/examples/scala/rx/lang/scala/examples/RxScalaDemo.scala, +    val o = List("red", "green", "blue").toObservable.doOnTerminate(() => println("terminate")), +    // blud, +    val o = List("red", "green", "blue").toObservable.finallyDo(() => println("finally")), +    // blud, +++ b/language-adaptors/rxjava-scala/src/examples/scala/rx/lang/scala/examples/RxScalaDemo.scala, +    val o = List("red", "green", "blue").toObservable.doOnTerminate(() => println("terminate")), +    // blud, +    val o = List("red", "green", "blue").toObservable.finallyDo(() => println("finally")), +    // blud, +++ b/language-adaptors/rxjava-scala/src/main/scala/rx/lang/scala/Observable.scala, +  def finallyDo(action: () => Unit): Observable[T] = {, +    toScalaObservable[T](asJavaObservable.finallyDo(action)), +  def doOnCompleted(onCompleted: () => Unit): Observable[T] = {, +    toScalaObservable[T](asJavaObservable.doOnCompleted(onCompleted)), +  def doOnTerminate(onTerminate: () => Unit): Observable[T] = {, +    toScalaObservable[T](asJavaObservable.doOnTerminate(onTerminate)), +++ b/language-adaptors/rxjava-scala/src/examples/scala/rx/lang/scala/examples/RxScalaDemo.scala, +    val o = List("red", "green", "blue").toObservable.doOnTerminate(() => println("terminate")), +    // blud, +    val o = List("red", "green", "blue").toObservable.finallyDo(() => println("finally")), +    // blud, +++ b/language-adaptors/rxjava-scala/src/main/scala/rx/lang/scala/Observable.scala, +  def finallyDo(action: () => Unit): Observable[T] = {, +    toScalaObservable[T](asJavaObservable.finallyDo(action)), +  def doOnCompleted(onCompleted: () => Unit): Observable[T] = {, +    toScalaObservable[T](asJavaObservable.doOnCompleted(onCompleted)), +  def doOnTerminate(onTerminate: () => Unit): Observable[T] = {, +    toScalaObservable[T](asJavaObservable.doOnTerminate(onTerminate)), +++ b/rxjava-core/src/main/java/rx/Scheduler.java, +import rx.subscriptions.MultipleAssignmentSubscription;, +            final MultipleAssignmentSubscription mas = new MultipleAssignmentSubscription();, +                    if (!mas.isUnsubscribed()) {, +                        mas.set(schedule(this, nextTick - TimeUnit.MILLISECONDS.toNanos(now()), TimeUnit.NANOSECONDS));, +            mas.set(schedule(recursiveAction, initialDelay, unit));, +            return mas;, +++ b/language-adaptors/rxjava-scala/src/examples/scala/rx/lang/scala/examples/RxScalaDemo.scala, +    val o = List("red", "green", "blue").toObservable.doOnTerminate(() => println("terminate")), +    // blud, +    val o = List("red", "green", "blue").toObservable.finallyDo(() => println("finally")), +    // blud, +++ b/language-adaptors/rxjava-scala/src/main/scala/rx/lang/scala/Observable.scala, +  def finallyDo(action: () => Unit): Observable[T] = {, +    toScalaObservable[T](asJavaObservable.finallyDo(action)), +  def doOnCompleted(onCompleted: () => Unit): Observable[T] = {, +    toScalaObservable[T](asJavaObservable.doOnCompleted(onCompleted)), +  def doOnTerminate(onTerminate: () => Unit): Observable[T] = {, +    toScalaObservable[T](asJavaObservable.doOnTerminate(onTerminate)), +++ b/rxjava-core/src/main/java/rx/Scheduler.java, +import rx.subscriptions.MultipleAssignmentSubscription;, +            final MultipleAssignmentSubscription mas = new MultipleAssignmentSubscription();, +                    if (!mas.isUnsubscribed()) {, +                        mas.set(schedule(this, nextTick - TimeUnit.MILLISECONDS.toNanos(now()), TimeUnit.NANOSECONDS));, +            mas.set(schedule(recursiveAction, initialDelay, unit));, +            return mas;, +++ b/rxjava-core/src/test/java/rx/schedulers/TestSchedulerTest.java, +import rx.Subscription;, +    @SuppressWarnings("unchecked"), +    // mocking is unchecked, unfortunately, +    @Test, +    public final void testPeriodicSchedulingUnsubscription() {, +        final Func1<Long, Void> calledOp = mock(Func1.class);, +, +        final TestScheduler scheduler = new TestScheduler();, +        final Scheduler.Worker inner = scheduler.createWorker();, +, +        final Subscription subscription = inner.schedulePeriodically(new Action0() {, +            @Override, +            public void call() {, +                System.out.println(scheduler.now());, +                calledOp.call(scheduler.now());, +            }, +        }, 1, 2, TimeUnit.SECONDS);, +, +        verify(calledOp, never()).call(anyLong());, +, +        InOrder inOrder = Mockito.inOrder(calledOp);, +, +        scheduler.advanceTimeBy(999L, TimeUnit.MILLISECONDS);, +        inOrder.verify(calledOp, never()).call(anyLong());, +, +        scheduler.advanceTimeBy(1L, TimeUnit.MILLISECONDS);, +        inOrder.verify(calledOp, times(1)).call(1000L);, +, +        scheduler.advanceTimeBy(1999L, TimeUnit.MILLISECONDS);, +        inOrder.verify(calledOp, never()).call(3000L);, +, +        scheduler.advanceTimeBy(1L, TimeUnit.MILLISECONDS);, +        inOrder.verify(calledOp, times(1)).call(3000L);, +, +        scheduler.advanceTimeBy(5L, TimeUnit.SECONDS);, +        inOrder.verify(calledOp, times(1)).call(5000L);, +        inOrder.verify(calledOp, times(1)).call(7000L);, +, +        subscription.unsubscribe();, +        scheduler.advanceTimeBy(11L, TimeUnit.SECONDS);, +        inOrder.verify(calledOp, never()).call(anyLong());, +    }, +, +    @Test]