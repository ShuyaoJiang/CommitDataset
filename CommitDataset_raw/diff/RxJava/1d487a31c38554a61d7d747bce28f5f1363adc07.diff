[+++ b/src/main/java/rx/internal/operators/OperatorGroupBy.java, +                if (groups.size() == 0) {, +            GroupState<K, T> putIfAbsent = groups.putIfAbsent(key, groupState);, +                if (removed.buffer.size() > 0) {, +            if (groups.size() == 0 && (terminated == 1 || child.isUnsubscribed())) {, +                    child.onCompleted();, +++ b/src/main/java/rx/internal/operators/OperatorGroupBy.java, +                if (groups.size() == 0) {, +            GroupState<K, T> putIfAbsent = groups.putIfAbsent(key, groupState);, +                if (removed.buffer.size() > 0) {, +            if (groups.size() == 0 && (terminated == 1 || child.isUnsubscribed())) {, +                    child.onCompleted();, +++ b/src/main/java/rx/internal/operators/OperatorSampleWithTime.java, +        child.add(sampler);, +++ b/src/main/java/rx/internal/operators/OperatorGroupBy.java, +                if (groups.size() == 0) {, +            GroupState<K, T> putIfAbsent = groups.putIfAbsent(key, groupState);, +                if (removed.buffer.size() > 0) {, +            if (groups.size() == 0 && (terminated == 1 || child.isUnsubscribed())) {, +                    child.onCompleted();, +++ b/src/main/java/rx/internal/operators/OperatorSampleWithTime.java, +        child.add(sampler);, +++ b/src/test/java/rx/internal/operators/OperatorGroupByTest.java, +++ b/src/main/java/rx/internal/operators/OperatorGroupBy.java, +                if (groups.size() == 0) {, +            GroupState<K, T> putIfAbsent = groups.putIfAbsent(key, groupState);, +                if (removed.buffer.size() > 0) {, +            if (groups.size() == 0 && (terminated == 1 || child.isUnsubscribed())) {, +                    child.onCompleted();, +++ b/src/main/java/rx/internal/operators/OperatorSampleWithTime.java, +        child.add(sampler);, +++ b/src/test/java/rx/internal/operators/OperatorGroupByTest.java, +++ b/src/test/java/rx/internal/operators/OperatorSampleTest.java, +import rx.*;, +import rx.subscriptions.Subscriptions;, +, +    @Test, +    public void testSampleUnsubscribe() {, +        final Subscription s = mock(Subscription.class);, +        Observable<Integer> o = Observable.create(, +                new OnSubscribe<Integer>() {, +                    @Override, +                    public void call(Subscriber<? super Integer> subscriber) {, +                        subscriber.add(s);, +                    }, +                }, +        );, +        o.throttleLast(1, TimeUnit.MILLISECONDS).subscribe().unsubscribe();, +        verify(s).unsubscribe();, +    }]