[+++ b/spring-social-github/src/main/java/org/springframework/social/github/GitHubTemplate.java, +		String gravatarId = (String) user.get("gravatar_id");, +		String profileImageUrl = gravatarId != null ? "https://secure.gravatar.com/avatar/" + gravatarId : null;, +		return new GitHubUserProfile(gitHubId, username, name, location, company, blog, email, profileImageUrl, createdDate);, +++ b/spring-social-github/src/main/java/org/springframework/social/github/GitHubTemplate.java, +		String gravatarId = (String) user.get("gravatar_id");, +		String profileImageUrl = gravatarId != null ? "https://secure.gravatar.com/avatar/" + gravatarId : null;, +		return new GitHubUserProfile(gitHubId, username, name, location, company, blog, email, profileImageUrl, createdDate);, +++ b/spring-social-github/src/main/java/org/springframework/social/github/GitHubUserProfile.java, +	private final String profileImageUrl;, +			String email, String profileImageUrl, Date createdDate) {, +		this.profileImageUrl = profileImageUrl;, +, +	public String getProfileImageUrl() {, +		return profileImageUrl;, +	}, +++ b/spring-social-github/src/main/java/org/springframework/social/github/GitHubTemplate.java, +		String gravatarId = (String) user.get("gravatar_id");, +		String profileImageUrl = gravatarId != null ? "https://secure.gravatar.com/avatar/" + gravatarId : null;, +		return new GitHubUserProfile(gitHubId, username, name, location, company, blog, email, profileImageUrl, createdDate);, +++ b/spring-social-github/src/main/java/org/springframework/social/github/GitHubUserProfile.java, +	private final String profileImageUrl;, +			String email, String profileImageUrl, Date createdDate) {, +		this.profileImageUrl = profileImageUrl;, +, +	public String getProfileImageUrl() {, +		return profileImageUrl;, +	}, +++ b/spring-social-github/src/main/java/org/springframework/social/github/connect/GitHubServiceApiAdapter.java, +/*, + * Copyright 2011 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +package org.springframework.social.github.connect;, +, +import org.springframework.social.connect.ServiceProviderUser;, +import org.springframework.social.connect.spi.ServiceApiAdapter;, +import org.springframework.social.github.GitHubApi;, +import org.springframework.social.github.GitHubUserProfile;, +import org.springframework.web.client.HttpClientErrorException;, +, +public class GitHubServiceApiAdapter implements ServiceApiAdapter<GitHubApi> {, +, +	public boolean test(GitHubApi serviceApi) {, +		try {, +			serviceApi.getUserProfile();, +			return true;, +		} catch (HttpClientErrorException e) {, +			// TODO : Beef up GitHub's error handling and trigger off of a more specific exception, +			return false;, +		}	}, +, +	public ServiceProviderUser getUser(GitHubApi serviceApi) {, +		GitHubUserProfile userProfile = serviceApi.getUserProfile();, +		String profileUrl = "https://github.com/" + userProfile.getId();, +		return new ServiceProviderUser(String.valueOf(userProfile.getId()), userProfile.getUsername(), profileUrl, userProfile.getProfileImageUrl());, +	}, +, +	public void updateStatus(GitHubApi serviceApi, String message) {, +		// not supported, +	}, +, +}, +++ b/spring-social-github/src/main/java/org/springframework/social/github/GitHubTemplate.java, +		String gravatarId = (String) user.get("gravatar_id");, +		String profileImageUrl = gravatarId != null ? "https://secure.gravatar.com/avatar/" + gravatarId : null;, +		return new GitHubUserProfile(gitHubId, username, name, location, company, blog, email, profileImageUrl, createdDate);, +++ b/spring-social-github/src/main/java/org/springframework/social/github/GitHubUserProfile.java, +	private final String profileImageUrl;, +			String email, String profileImageUrl, Date createdDate) {, +		this.profileImageUrl = profileImageUrl;, +, +	public String getProfileImageUrl() {, +		return profileImageUrl;, +	}, +++ b/spring-social-github/src/main/java/org/springframework/social/github/connect/GitHubServiceApiAdapter.java, +/*, + * Copyright 2011 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and]