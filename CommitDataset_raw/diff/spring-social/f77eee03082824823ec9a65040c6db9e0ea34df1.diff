[+++ b/spring-social-core/src/main/java/org/springframework/social/support/URIBuilder.java, +	/**, +	 * Adds a query parameters to the URI, +	 */, +	public URIBuilder queryParams(MultiValueMap<String, String> params) {, +		parameters.putAll(params);, +		return this;, +	}, +, +++ b/spring-social-core/src/main/java/org/springframework/social/support/URIBuilder.java, +	/**, +	 * Adds a query parameters to the URI, +	 */, +	public URIBuilder queryParams(MultiValueMap<String, String> params) {, +		parameters.putAll(params);, +		return this;, +	}, +, +++ b/spring-social-twitter/src/main/java/org/springframework/social/twitter/api/StatusDetails.java, +import org.springframework.util.LinkedMultiValueMap;, +import org.springframework.util.MultiValueMap;, +, +	public MultiValueMap<String, Object> toParameterMap() {, +		LinkedMultiValueMap<String, Object> parameterMap = new LinkedMultiValueMap<String, Object>();, +			parameterMap.set("lat", latitude.toString());, +			parameterMap.set("long", longitude.toString());, +			parameterMap.set("display_coordinates", "true");, +++ b/spring-social-core/src/main/java/org/springframework/social/support/URIBuilder.java, +	/**, +	 * Adds a query parameters to the URI, +	 */, +	public URIBuilder queryParams(MultiValueMap<String, String> params) {, +		parameters.putAll(params);, +		return this;, +	}, +, +++ b/spring-social-twitter/src/main/java/org/springframework/social/twitter/api/StatusDetails.java, +import org.springframework.util.LinkedMultiValueMap;, +import org.springframework.util.MultiValueMap;, +, +	public MultiValueMap<String, Object> toParameterMap() {, +		LinkedMultiValueMap<String, Object> parameterMap = new LinkedMultiValueMap<String, Object>();, +			parameterMap.set("lat", latitude.toString());, +			parameterMap.set("long", longitude.toString());, +			parameterMap.set("display_coordinates", "true");, +++ b/spring-social-twitter/src/main/java/org/springframework/social/twitter/api/impl/AbstractTwitterOperations.java, +import org.springframework.util.LinkedMultiValueMap;, +import org.springframework.util.MultiValueMap;, +		return buildUri(path, EMPTY_PARAMETERS);, +	protected URI buildUri(String path, String parameterName, String parameterValue) {, +		MultiValueMap<String, String> parameters = new LinkedMultiValueMap<String, String>();, +		parameters.set(parameterName, parameterValue);, +		return buildUri(path, parameters);, +	, +	protected URI buildUri(String path, MultiValueMap<String, String> parameters) {, +		return URIBuilder.fromUri(API_URL_BASE + path).queryParams(parameters).build();, +	private static final LinkedMultiValueMap<String, String> EMPTY_PARAMETERS = new LinkedMultiValueMap<String, String>();, +, +++ b/spring-social-core/src/main/java/org/springframework/social/support/URIBuilder.java, +	/**, +	 * Adds a query parameters to the URI, +	 */, +	public URIBuilder queryParams(MultiValueMap<String, String> params) {, +		parameters.putAll(params);, +		return this;, +	}, +, +++ b/spring-social-twitter/src/main/java/org/springframework/social/twitter/api/StatusDetails.java, +import org.springframework.util.LinkedMultiValueMap;, +import org.springframework.util.MultiValueMap;, +, +	public MultiValueMap<String, Object> toParameterMap() {, +		LinkedMultiValueMap<String, Object> parameterMap = new LinkedMultiValueMap<String, Object>();, +			parameterMap.set("lat", latitude.toString());, +			parameterMap.set("long", longitude.toString());, +			parameterMap.set("display_coordinates", "true");, +++ b/spring-social-twitter/src/main/java/org/springframework/social/twitter/api/impl/AbstractTwitterOperations.java, +import org.springframework.util.LinkedMultiValueMap;, +import org.springframework.util.MultiValueMap;, +		return buildUri(path, EMPTY_PARAMETERS);, +	protected URI buildUri(String path, String parameterName, String parameterValue) {, +		MultiValueMap<String, String> parameters = new LinkedMultiValueMap<String, String>();, +		parameters.set(parameterName, parameterValue);, +		return buildUri(path, parameters);, +	, +	protected URI buildUri(String path, MultiValueMap<String, String> parameters) {, +		return URIBuilder.fromUri(API_URL_BASE + path).queryParams(parameters).build();, +	private static final LinkedMultiValueMap<String, String> EMPTY_PARAMETERS = new LinkedMultiValueMap<String, String>();, +, +++ b/spring-social-twitter/src/main/java/org/springframework/social/twitter/api/impl/FriendTemplate.java, +		return restTemplate.getForObject(buildUri("statuses/friends.json", "cursor", "-1"), TwitterProfileUsersList.class).getList();, +		LinkedMultiValueMap<String, String> parameters = new LinkedMultiValueMap<String, String>();, +		parameters.set("cursor", "-1");, +		parameters.set("user_id", String.valueOf(userId));, +		LinkedMultiValueMap<String, String> parameters = new LinkedMultiValueMap<String, String>();, +		parameters.set("cursor", "-1");, +		parameters.set("screen_name", screenName);, +		return restTemplate.getForObject(buildUri("friends/ids.json", "cursor", "-1"), LongIdsList.class).getList();, +		LinkedMultiValueMap<String, String> parameters = new LinkedMultiValueMap<String, String>();, +		parameters.set("cursor", "-1");]