[+++ b/src/main/java/org/springframework/social/oauth1/OAuth1RequestSignerFactory.java, +	static boolean s2OAuthPresent = ClassUtils, +	static boolean scribePresent = ClassUtils.isPresent(, +++ b/src/main/java/org/springframework/social/oauth1/OAuth1RequestSignerFactory.java, +	static boolean s2OAuthPresent = ClassUtils, +	static boolean scribePresent = ClassUtils.isPresent(, +++ b/src/test/java/org/springframework/social/oauth/FakeSigner.java, +package org.springframework.social.oauth;, +, +import static org.springframework.social.oauth.OAuthSigningClientHttpRequestTest.*;, +, +import java.util.Map;, +, +import org.springframework.http.client.ClientHttpRequest;, +, +public class FakeSigner implements OAuthClientRequestSigner {, +	public void sign(ClientHttpRequest request, Map<String, String> bodyParameters) {, +		String parameterString = "";, +		for (String key : bodyParameters.keySet()) {, +			parameterString += "&" + key + "=" + bodyParameters.get(key);, +		}, +		request.getHeaders().add("Authorization", TEST_AUTHORIZATION_HEADER + parameterString);, +	}, +}, +++ b/src/main/java/org/springframework/social/oauth1/OAuth1RequestSignerFactory.java, +	static boolean s2OAuthPresent = ClassUtils, +	static boolean scribePresent = ClassUtils.isPresent(, +++ b/src/test/java/org/springframework/social/oauth/FakeSigner.java, +package org.springframework.social.oauth;, +, +import static org.springframework.social.oauth.OAuthSigningClientHttpRequestTest.*;, +, +import java.util.Map;, +, +import org.springframework.http.client.ClientHttpRequest;, +, +public class FakeSigner implements OAuthClientRequestSigner {, +	public void sign(ClientHttpRequest request, Map<String, String> bodyParameters) {, +		String parameterString = "";, +		for (String key : bodyParameters.keySet()) {, +			parameterString += "&" + key + "=" + bodyParameters.get(key);, +		}, +		request.getHeaders().add("Authorization", TEST_AUTHORIZATION_HEADER + parameterString);, +	}, +}, +++ b/src/test/java/org/springframework/social/oauth/OAuthSigningClientHttpRequestFactoryTest.java, +package org.springframework.social.oauth;, +, +import static org.junit.Assert.*;, +import static org.springframework.http.HttpMethod.*;, +, +import java.net.URI;, +, +import org.junit.Test;, +import org.springframework.http.client.ClientHttpRequest;, +import org.springframework.http.client.SimpleClientHttpRequestFactory;, +, +public class OAuthSigningClientHttpRequestFactoryTest {, +	@Test, +	public void createRequest() throws Exception {, +		OAuthSigningClientHttpRequestFactory factory = new OAuthSigningClientHttpRequestFactory(, +				new SimpleClientHttpRequestFactory(), new FakeSigner());, +, +		ClientHttpRequest request = factory.createRequest(new URI("http://www.springsource.com/test"), GET);, +		assertTrue(request instanceof OAuthSigningClientHttpRequest);, +		assertEquals(new URI("http://www.springsource.com/test"), request.getURI());, +		assertEquals(GET, request.getMethod());, +	}, +}, +++ b/src/main/java/org/springframework/social/oauth1/OAuth1RequestSignerFactory.java, +	static boolean s2OAuthPresent = ClassUtils, +	static boolean scribePresent = ClassUtils.isPresent(, +++ b/src/test/java/org/springframework/social/oauth/FakeSigner.java, +package org.springframework.social.oauth;, +, +import static org.springframework.social.oauth.OAuthSigningClientHttpRequestTest.*;, +, +import java.util.Map;, +, +import org.springframework.http.client.ClientHttpRequest;, +, +public class FakeSigner implements OAuthClientRequestSigner {, +	public void sign(ClientHttpRequest request, Map<String, String> bodyParameters) {, +		String parameterString = "";, +		for (String key : bodyParameters.keySet()) {, +			parameterString += "&" + key + "=" + bodyParameters.get(key);, +		}, +		request.getHeaders().add("Authorization", TEST_AUTHORIZATION_HEADER + parameterString);, +	}, +}, +++ b/src/test/java/org/springframework/social/oauth/OAuthSigningClientHttpRequestFactoryTest.java, +package org.springframework.social.oauth;, +, +import static org.junit.Assert.*;, +import static org.springframework.http.HttpMethod.*;, +, +import java.net.URI;, +, +import org.junit.Test;, +import org.springframework.http.client.ClientHttpRequest;]