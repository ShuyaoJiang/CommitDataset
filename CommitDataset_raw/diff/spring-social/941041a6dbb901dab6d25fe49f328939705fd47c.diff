[+++ b/src/main/resources/META-INF/facebook.tld, +<?xml version="1.0" encoding="UTF-8"?>, +<taglib xmlns="http://java.sun.com/xml/ns/j2ee", +		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +		xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd", +		version="2.0">, +, +        <description>Spring Social Facebook JSP Tag Library</description>, +        <tlib-version>1.0</tlib-version>, +        <short-name>facebook</short-name>, +        <uri>http://www.springframework.org/spring-social/facebook/tags</uri>, +, +		<tag-file>, +                <description>, +                	Initializes Facebook's JavaScript API, +                </description>, +                <name>init</name>, +				<path>/META-INF/tags/Init.tag</path>							, +		</tag-file>, +</taglib>, +++ b/src/main/resources/META-INF/facebook.tld, +<?xml version="1.0" encoding="UTF-8"?>, +<taglib xmlns="http://java.sun.com/xml/ns/j2ee", +		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +		xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd", +		version="2.0">, +, +        <description>Spring Social Facebook JSP Tag Library</description>, +        <tlib-version>1.0</tlib-version>, +        <short-name>facebook</short-name>, +        <uri>http://www.springframework.org/spring-social/facebook/tags</uri>, +, +		<tag-file>, +                <description>, +                	Initializes Facebook's JavaScript API, +                </description>, +                <name>init</name>, +				<path>/META-INF/tags/Init.tag</path>							, +		</tag-file>, +</taglib>, +++ b/src/main/resources/META-INF/tags/Init.tag, +<%@ attribute name="apiKey" required="true" %>, +<div id='fb-root'></div>, +<script src='http://connect.facebook.net/en_US/all.js'></script>, +<script>, +if(FB) {, +	FB.requireSessionThenGoTo = function(url) {, +		FB.getLoginStatus(function(response) {, +			if (response.session) { , +				window.location = url; , +			} else {, +				FB.login(function(response) {, +					if (response.session) {, +						window.location = url;, +					}, +				});, +			}, +		});, +	};, +	, +	FB.logoutThenGoTo = function(url) {, +		FB.logout(function(response) { , +			window.location = url; , +		});, +	};, +}, +</script>, +<script type='text/javascript'>, +	FB.init({appId: '${apiKey}', status: true, cookie: true, xfbml: true});, +	FB.Event.subscribe('auth.sessionChange', function(response) { if (response.session) {} else {} });, +</script>]