[+++ b/build.gradle, +    ext.springSnapshotVersion   = "4.0.2.BUILD-SNAPSHOT", +, +    configurations { , +        springSnapshotTestRuntime.extendsFrom testRuntime , +    }, +, +    configurations.springSnapshotTestRuntime {, +        resolutionStrategy.eachDependency { DependencyResolveDetails details ->, +            if (details.requested.group == 'org.springframework') {, +                details.useVersion springSnapshotVersion, +            }, +        }, +    }, +, +    task springSnapshotTest(type: Test) {, +//      jvmArgs = ['-ea', '-Xmx500m', '-XX:MaxPermSize=128M'], +        classpath = sourceSets.test.output + sourceSets.main.output + configurations.springSnapshotTestRuntime, +        getReports().getJunitXml().setDestination(file("$buildDir/spring-snapshot-test-results/")), +        getReports().getHtml().setDestination(file("$buildDir/reports/spring-snapshot-tests/")), +    }, +    check.dependsOn springSnapshotTest, +, +    configure([test, springSnapshotTest]) {, +        systemProperties['springVersion'] = springVersion, +    }]