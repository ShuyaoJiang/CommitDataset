[+++ b/spring-social-core/src/main/java/org/springframework/social/connect/jdbc/JdbcUsersConnectionRepository.java, +		if (localUserIds.size() == 0 && connectionSignUp != null) {, +++ b/spring-social-core/src/main/java/org/springframework/social/connect/jdbc/JdbcUsersConnectionRepository.java, +		if (localUserIds.size() == 0 && connectionSignUp != null) {, +++ b/spring-social-core/src/test/java/org/springframework/social/connect/jdbc/JdbcUsersConnectionRepositoryTest.java, +import org.springframework.social.connect.ConnectionSignUp;, +	public void findUserIdWithConnectionNoConnection_withWorkingConnectionSignUp() {		, +		Connection<TestFacebookApi> connection = connectionFactory.createConnection(new AccessGrant("12345"));, +		usersConnectionRepository.setConnectionSignUp(new ConnectionSignUp() {, +			public String execute(Connection<?> connection) {, +				return "batman";, +			}, +		});, +		List<String> userIds = usersConnectionRepository.findUserIdsWithConnection(connection);, +		assertEquals(1, userIds.size());, +		assertEquals("batman", userIds.get(0));, +	}, +, +	@Test]