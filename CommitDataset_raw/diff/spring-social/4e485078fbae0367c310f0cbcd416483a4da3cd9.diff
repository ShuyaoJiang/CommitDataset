[+++ b/spring-social-security/src/main/java/org/springframework/social/security/SocialAuthenticationFilter.java, +import org.springframework.security.web.authentication.SimpleUrlAuthenticationFailureHandler;, +	private AuthenticationFailureHandler failureHandler = new SimpleUrlAuthenticationFailureHandler();, +		, +		getFailureHandler().onAuthenticationFailure(request, response, failed);, +	public void setPostFailureUrl(String postFailureUrl) {, +		AuthenticationFailureHandler failureHandler = getFailureHandler();, +		if (failureHandler instanceof SimpleUrlAuthenticationFailureHandler) {, +			SimpleUrlAuthenticationFailureHandler h = (SimpleUrlAuthenticationFailureHandler) failureHandler;, +			h.setDefaultFailureUrl(postFailureUrl);, +		} else {, +			throw new IllegalStateException("can't set postFailureUrl on unknown failureHandler, type is " + failureHandler.getClass().getName());, +		}, +	}, +	, +	public AuthenticationFailureHandler getFailureHandler() {, +		return failureHandler;, +	}, +, +	public void setFailureHandler(AuthenticationFailureHandler failureHandler) {, +		this.failureHandler = failureHandler;, +	}, +]