[+++ b/spring-social-facebook/src/main/java/org/springframework/social/facebook/FacebookProfile.java, +++ b/spring-social-facebook/src/main/java/org/springframework/social/facebook/FacebookProfile.java, +++ b/spring-social-facebook/src/main/java/org/springframework/social/facebook/FacebookTemplate.java, +++ b/spring-social-facebook/src/main/java/org/springframework/social/facebook/FacebookProfile.java, +++ b/spring-social-facebook/src/main/java/org/springframework/social/facebook/FacebookTemplate.java, +++ b/spring-social-facebook/src/main/java/org/springframework/social/facebook/web/FacebookSigninController.java, +/**, + * Controller that enables a user to authenticate to an application by signing into Facebook., + * @author Craig Walls, + */, +	/**, +	 * Constructs the FacebookSigninController., +	 * @param connectionRepository a connection repository used to lookup the account ID connected to the Facebook profile., +	 * @param signinGateway the signin strategy used to authenticate the user with the application., +	 * @param apiKey the Facebook API key used to retrieve the Facebook cookie containing the access token., +	 */, +	 * @param noConnectionView the view to display when no connection can be found, +	/**, +	 * Retrieves the user's Facebook access token from a cookie written after a successful login using Facebook's &lt;fb:login-button&gt; tag., +	 * Uses that access token to lookup the connected account ID and attempts to authenticate to the application for that account., +	 * If there is no connection for access token, the flow will transition to the no-connection view, "redirect:/signup" by default., +	 */, +		Serializable accountId = connectionRepository.findAccountIdByConnectionAccessToken(FACEBOOK_PROVIDER_ID, accessToken);, +, +	private static final String FACEBOOK_PROVIDER_ID = "facebook";, +, +++ b/spring-social-facebook/src/main/java/org/springframework/social/facebook/FacebookProfile.java, +++ b/spring-social-facebook/src/main/java/org/springframework/social/facebook/FacebookTemplate.java, +++ b/spring-social-facebook/src/main/java/org/springframework/social/facebook/web/FacebookSigninController.java, +/**, + * Controller that enables a user to authenticate to an application by signing into Facebook., + * @author Craig Walls, + */, +	/**, +	 * Constructs the FacebookSigninController., +	 * @param connectionRepository a connection repository used to lookup the account ID connected to the Facebook profile., +	 * @param signinGateway the signin strategy used to authenticate the user with the application., +	 * @param apiKey the Facebook API key used to retrieve the Facebook cookie containing the access token., +	 */, +	 * @param noConnectionView the view to display when no connection can be found, +	/**, +	 * Retrieves the user's Facebook access token from a cookie written after a successful login using Facebook's &lt;fb:login-button&gt; tag., +	 * Uses that access token to lookup the connected account ID and attempts to authenticate to the application for that account., +	 * If there is no connection for access token, the flow will transition to the no-connection view, "redirect:/signup" by default., +	 */, +		Serializable accountId = connectionRepository.findAccountIdByConnectionAccessToken(FACEBOOK_PROVIDER_ID, accessToken);, +, +	private static final String FACEBOOK_PROVIDER_ID = "facebook";, +, +++ b/spring-social-facebook/src/test/java/org/springframework/social/facebook/FacebookTemplateTest.java]