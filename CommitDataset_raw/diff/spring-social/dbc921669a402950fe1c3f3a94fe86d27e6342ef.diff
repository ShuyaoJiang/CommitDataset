[+++ b/spring-social-web/src/main/java/org/springframework/social/connect/web/ReconnectFilter.java, +			if (logger.isDebugEnabled()) {, +				logger.debug("Removing stale/revoked connection.");, +			}, +			if (logger.isDebugEnabled()) {, +				logger.debug("Initiating refresh request.");, +			}, +				if (logger.isDebugEnabled()) {, +					logger.debug("Processing request");, +				}, +				if (logger.isDebugEnabled()) {, +					logger.debug("IOException: " + e.getMessage());, +				}, +		StringBuilder sb = new StringBuilder(request.getContextPath() + CONNECT_PATH + apiException.getProviderId()), +			.append(RECONNECT_PARAMETER_EQUALS_TRUE);, +		if (scopeNeeded != null) {, +			sb.append(SCOPE_PARAMETER_EQUALS + scopeNeeded);, +		}, +		return sb.toString();, +		return request.getMethod().equalsIgnoreCase(GET) && servletPath != null && servletPath.startsWith(CONNECT_PATH) && request.getParameter(RECONNECT_PARAMETER) != null;, +		return httpRequest.getServletPath().substring(CONNECT_PATH_LENGTH);, +			if (logger.isDebugEnabled()) {, +				logger.debug("API Exception: " + e.getMessage());, +			}, +				if (logger.isDebugEnabled()) {, +					logger.debug("Redirecting for refresh of " + apiException.getProviderId() + " connection.");, +				}, +			return POST;, +	private static final String CONNECT_PATH = "/connect/";, +, +	private static final int CONNECT_PATH_LENGTH = CONNECT_PATH.length()+1;, +, +	private static final String RECONNECT_PARAMETER = "reconnect";, +, +	private static final String RECONNECT_PARAMETER_EQUALS_TRUE = "?" + RECONNECT_PARAMETER +"=true";, +, +	private static final String SCOPE_PARAMETER_EQUALS = "&scope=";, +	, +	private static final String POST = "POST";, +	, +	private static final String GET = "GET";, +]