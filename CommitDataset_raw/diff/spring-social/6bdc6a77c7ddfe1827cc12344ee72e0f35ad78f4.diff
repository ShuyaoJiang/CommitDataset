[+++ b/spring-social-connect-web/src/main/java/org/springframework/social/connect/web/ConnectController.java, +	 * Initiates a registration/connection flow. Commences the process of, +	 * establishing a connection to the provider on behalf of the member, just, +	 * as with the regular connection flow. The main difference here is that, +	 * once an access token is retrieved, the flow will break away, offering the, +	 * user an application registration screen. Once the user has registered, +	 * with the application, the flow can be resumed and the connection will be, +	 * created., +	 */, +	@RequestMapping(value = "/connect/{name}/register", method = RequestMethod.POST), +	public String register(@PathVariable String name, WebRequest request,, +			@RequestParam(required = false, defaultValue = "") String scope) {, +		request.setAttribute(REGISTRATION_FLOW_ATTRIBUTE, true, WebRequest.SCOPE_SESSION);, +		return connect(name, request, scope);, +	}, +, +	/**, +		AuthorizedRequestToken authorizedRequestToken = new AuthorizedRequestToken(requestToken, verifier);, +		if (request.getAttribute(REGISTRATION_FLOW_ATTRIBUTE, WebRequest.SCOPE_SESSION) != null) {, +			OAuthToken accessToken = provider.fetchAccessToken(authorizedRequestToken);, +			return holdAccessTokenAndGoToRegistration(name, request, provider, accessToken);, +		}, +		provider.connect(accountIdResolver.resolveAccountId(), authorizedRequestToken);, +		// FlashMap.setSuccessMessage("Your account is now connected to your ", +			return holdAccessTokenAndGoToRegistration(name, request, provider, accessToken);, +	private String holdAccessTokenAndGoToRegistration(String name, WebRequest request, ServiceProvider<?> provider,, +			OAuthToken accessToken) {, +		request.removeAttribute(REGISTRATION_FLOW_ATTRIBUTE, WebRequest.SCOPE_SESSION);, +		request.setAttribute(name + "UserProfile", provider.getProviderUserProfile(accessToken),, +				WebRequest.SCOPE_REQUEST);, +		request.setAttribute(ACCESS_TOKEN_ATTRIBUTE + name, accessToken, WebRequest.SCOPE_SESSION);, +		return "connect/" + name + "Register";, +	}, +, +			postConnect(provider, request);]