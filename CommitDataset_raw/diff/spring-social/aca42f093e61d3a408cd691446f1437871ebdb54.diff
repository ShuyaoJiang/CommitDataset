[+++ b/spring-social-web/src/test/java/org/springframework/social/connect/web/ConnectControllerTest.java, +		mockMvc.perform(get("/connect/oauth2Provider").sessionAttr("social_addConnection_duplicate", new DuplicateConnectionException(null))), +			.andExpect(request().sessionAttribute("social_addConnection_duplicate", nullValue())), +			.andExpect(request().attribute("social_addConnection_duplicate", true));, +		mockMvc.perform(get("/connect/oauth2Provider").sessionAttr("social_provider_error", new HttpClientErrorException(HttpStatus.INTERNAL_SERVER_ERROR))), +			.andExpect(request().sessionAttribute("social_provider_error", nullValue())), +			.andExpect(request().attribute("social_provider_error", true));, +			.andExpect(request().sessionAttribute("social_provider_error", notNullValue()));, +			.andExpect(request().sessionAttribute("social_provider_error", notNullValue()));, +			.andExpect(request().sessionAttribute("social_provider_error", notNullValue()));]