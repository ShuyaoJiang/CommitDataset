[+++ b/spring-social-security/src/main/java/org/springframework/social/security/SocialAuthenticationFilter.java, +import org.springframework.security.authentication.AuthenticationTrustResolverImpl;, +	private AuthenticationTrustResolverImpl authenticationTrustResolver = new AuthenticationTrustResolverImpl();, +, +		// Check if not already authenticated or is already logged in anonymous., +		if (auth == null || !auth.isAuthenticated() || authenticationTrustResolver.isAnonymous(auth)) {]