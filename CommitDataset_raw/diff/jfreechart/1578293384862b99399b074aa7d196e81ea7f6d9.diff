[+++ b/source/org/jfree/chart/axis/LogAxis.java, +/* ===========================================================, + * JFreeChart : a free chart library for the Java(tm) platform, + * ===========================================================, + *, + * (C) Copyright 2000-2007, by Object Refinery Limited and Contributors., + *, + * Project Info:  http://www.jfree.org/jfreechart/index.html, + *, + * This library is free software; you can redistribute it and/or modify it, + * under the terms of the GNU Lesser General Public License as published by, + * the Free Software Foundation; either version 2.1 of the License, or, + * (at your option) any later version., + *, + * This library is distributed in the hope that it will be useful, but, + * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY, + * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public, + * License for more details., + *, + * You should have received a copy of the GNU Lesser General Public, + * License along with this library; if not, write to the Free Software, + * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, , + * USA.  , + *, + * [Java is a trademark or registered trademark of Sun Microsystems, Inc., + * in the United States and other countries.], + *, + * ------------, + * LogAxis.java, + * ------------, + * (C) Copyright 2006, 2007, by Object Refinery Limited and Contributors., + *, + * Original Author:  David Gilbert (for Object Refinery Limited);, + * Contributor(s):   -;, + *, + * $Id: LogAxis.java,v 1.1.2.2 2007/03/22 16:39:18 mungady Exp $, + *, + * Changes, + * -------, + * 24-Aug-2006 : Version 1 (DG);, + * 22-Mar-2007 : Use defaultAutoArrange attribute (DG);, + * 02-Aug-2007 : Fixed zooming bug, added support for margins (DG);, + * , + */, +, +package org.jfree.chart.axis;, +, +import java.awt.Font;, +import java.awt.FontMetrics;, +import java.awt.Graphics2D;, +import java.awt.font.FontRenderContext;, +import java.awt.font.LineMetrics;, +import java.awt.geom.Rectangle2D;, +import java.text.DecimalFormat;, +import java.text.NumberFormat;, +import java.util.ArrayList;, +import java.util.List;, +import java.util.Locale;, +, +import org.jfree.chart.event.AxisChangeEvent;, +import org.jfree.chart.plot.Plot;, +import org.jfree.chart.plot.PlotRenderingInfo;, +import org.jfree.chart.plot.ValueAxisPlot;, +import org.jfree.data.Range;, +import org.jfree.ui.RectangleEdge;, +import org.jfree.ui.RectangleInsets;, +import org.jfree.ui.TextAnchor;, +, +/**, + * A numerical axis that uses a logarithmic scale.  The plan is for this class, + * to replace the {@link LogarithmicAxis} class., + * , + * WARNING: THIS CLASS IS NOT PART OF THE STANDARD JFREECHART API AND IS , + * SUBJECT TO ALTERATION OR REMOVAL.  DO NOT RELY ON THIS CLASS FOR , + * PRODUCTION USE.  Please experiment with this code and provide feedback., + */, +, +public class LogAxis extends ValueAxis {, +, +    /** The logarithm base. */, +    private double base = 10.0;, +    , +    /** The logarithm of the base value - cached for performance. */, +    private double baseLog = Math.log(10.0);, +    , +    /**  The smallest value permitted on the axis. */, +    private double smallestValue = 1E-100;, +    , +    /** The current tick unit. */, +    private NumberTickUnit tickUnit;, +    , +    /** The override number format. */, +    private NumberFormat numberFormatOverride;, +, +    /** The number of minor ticks per major tick unit. */, +    private int minorTickCount; , +    , +    /**, +     * Creates a new <code>LogAxis</code> with no label., +     */]