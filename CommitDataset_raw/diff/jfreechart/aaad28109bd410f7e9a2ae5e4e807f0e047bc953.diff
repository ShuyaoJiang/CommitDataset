[+++ b/ChangeLog, +    Bug 2490803:, +    * source/org/jfree/chart/axis/PeriodAxis.java, +    (getRange): Removed, rely on superclass implementation,, +    (setRange): Update range with end points of whole periods,, +    (drawTickMarksHorizontal): Include first and last ticks,, +    * tests/org/jfree/chart/axis/junit/PeriodAxisTests.java, +    (test2490803): New test method., +, +2009-01-16  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/ChangeLog, +    Bug 2490803:, +    * source/org/jfree/chart/axis/PeriodAxis.java, +    (getRange): Removed, rely on superclass implementation,, +    (setRange): Update range with end points of whole periods,, +    (drawTickMarksHorizontal): Include first and last ticks,, +    * tests/org/jfree/chart/axis/junit/PeriodAxisTests.java, +    (test2490803): New test method., +, +2009-01-16  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/NEWS, +Bug Fixes:, +, +2490803 : PeriodAxis.setRange() method doesn't take into account that the axis, +          displays whole periods;, +          , +++ b/ChangeLog, +    Bug 2490803:, +    * source/org/jfree/chart/axis/PeriodAxis.java, +    (getRange): Removed, rely on superclass implementation,, +    (setRange): Update range with end points of whole periods,, +    (drawTickMarksHorizontal): Include first and last ticks,, +    * tests/org/jfree/chart/axis/junit/PeriodAxisTests.java, +    (test2490803): New test method., +, +2009-01-16  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/NEWS, +Bug Fixes:, +, +2490803 : PeriodAxis.setRange() method doesn't take into account that the axis, +          displays whole periods;, +          , +++ b/source/org/jfree/chart/axis/PeriodAxis.java, + * (C) Copyright 2000-2009, by Object Refinery Limited and Contributors., + * (C) Copyright 2004-2009, by Object Refinery Limited and Contributors., + * 16-Jan-2009 : Fixed bug 2490803, a problem in the setRange() method (DG);, +        super.setRange(new Range(this.first.getFirstMillisecond(),, +                this.last.getLastMillisecond() + 1.0), turnOffAutoRange, notify);, +        long lastOnAxis = getLast().getLastMillisecond(this.calendar) + 1;, +            if (t0 >= firstOnAxis) {, +++ b/ChangeLog, +    Bug 2490803:, +    * source/org/jfree/chart/axis/PeriodAxis.java, +    (getRange): Removed, rely on superclass implementation,, +    (setRange): Update range with end points of whole periods,, +    (drawTickMarksHorizontal): Include first and last ticks,, +    * tests/org/jfree/chart/axis/junit/PeriodAxisTests.java, +    (test2490803): New test method., +, +2009-01-16  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/NEWS, +Bug Fixes:, +, +2490803 : PeriodAxis.setRange() method doesn't take into account that the axis, +          displays whole periods;, +          , +++ b/source/org/jfree/chart/axis/PeriodAxis.java, + * (C) Copyright 2000-2009, by Object Refinery Limited and Contributors., + * (C) Copyright 2004-2009, by Object Refinery Limited and Contributors., + * 16-Jan-2009 : Fixed bug 2490803, a problem in the setRange() method (DG);, +        super.setRange(new Range(this.first.getFirstMillisecond(),, +                this.last.getLastMillisecond() + 1.0), turnOffAutoRange, notify);, +        long lastOnAxis = getLast().getLastMillisecond(this.calendar) + 1;, +            if (t0 >= firstOnAxis) {, +++ b/tests/org/jfree/chart/axis/junit/PeriodAxisTests.java, + * (C) Copyright 2000-2009, by Object Refinery Limited and Contributors., + * (C) Copyright 2004-2009, by Object Refinery Limited and Contributors., + * 16-Jan-2009 : Added test2490803() (DG);, +import java.util.GregorianCalendar;, +import java.util.Locale;, +import org.jfree.data.Range;, +    private static final double EPSILON = 0.0000000001;, +, +    /**, +     * A test for the setRange() method (because the axis shows whole time, +     * periods, the range set for the axis will most likely be wider than the, +     * one specified)., +     */, +    public void test2490803() {, +        Locale savedLocale = Locale.getDefault();, +        TimeZone savedTimeZone = TimeZone.getDefault();, +        try {, +            Locale.setDefault(Locale.FRANCE);, +            TimeZone.setDefault(TimeZone.getTimeZone("Europe/Paris"));, +            GregorianCalendar c0 = new GregorianCalendar();, +            c0.clear();]