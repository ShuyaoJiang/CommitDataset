[+++ b/ant/build-1.6.xml, +<!-- An ANT build file for JFreeChart -->, +, +<!-- Written by David Gilbert. -->, +, +<!-- Tested recently with Ant 1.8.2 -->, +<!-- To run this script, you need to make sure the libraries used by -->, +<!-- JFreeChart are copied to the ../lib directory (or edit the -->, +<!-- initialise task to point to the appropriate jar files). -->, +, +<!-- This script will create temporary directories ../build and -->, +<!-- ../distribution, as working areas.  A ../javadoc directory will -->, +<!-- be created for the Javadoc HTML pages. -->, +, +<!-- If you have comments about this script, please post a message -->, +<!-- on the JFreeChart developers mailing list. -->, +, +<project name="jfreechart" default="all" basedir="..">, +, +    <!-- Initialisation. -->, +    <target name="initialise" description="Initialise required settings.">, +        <tstamp />, +        <property name="jfreechart.name" value="jfreechart" />, +        <property name="jfreechart.version" value="1.0.20" />, +        <property name="jcommon.name" value="jcommon" />, +        <property name="jcommon.version" value="1.0.24" />, +        <property name="jcommon.jar" value="${basedir}/lib/${jcommon.name}-${jcommon.version}.jar"/>, +        <property name="fxgraphics2d.name" value="fxgraphics2d" />, +        <property name="fxgraphics2d.version" value="1.5" />, +        <property name="fxgraphics2d.jar" value="${basedir}/lib/${fxgraphics2d.name}-${fxgraphics2d.version}.jar" />, +        <property name="jfreesvg.name" value="jfreesvg" />, +        <property name="jfreesvg.version" value="3.2" />, +        <property name="orsonpdf.name" value="orsonpdf" />, +        <property name="orsonpdf.version" value="1.7" />, +        <property name="orsoncharts.version" value="1.6" />, +        <property name="builddir" value="${basedir}/build" />, +        <property name="servlet.jar" value="${basedir}/lib/servlet.jar"/>, +        <property name="junit.jar" value="${basedir}/lib/junit-4.11.jar"/>, +        <property name="hamcrest.jar" value="${basedir}/lib/hamcrest-core-1.3.jar"/>, +        <property name="src.version" value="1.6"/>, +        <property name="target.version" value="1.6"/>, +        <path id="build.classpath">, +            <fileset dir="${basedir}/lib/">, +                <include name="${jcommon.name}-${jcommon.version}.jar"/>, +                <include name="servlet.jar"/>, +            </fileset>, +        </path>, +    </target>, +, +    <!-- Compile the JFreeChart classes -->, +    <target name="compile" depends="initialise", +            description="Compile the JFreeChart source code.">, +, +        <!-- create a temp build directory -->, +        <mkdir dir="${basedir}/build" />, +, +        <!-- compile the source -->, +        <javac srcdir="${basedir}/src/main/java", +               destdir="${basedir}/build", +               debug="on", +               deprecation="false", +               source="${src.version}", +               target="${target.version}", +               includeantruntime="false">, +            <classpath refid="build.classpath" />, +            <include name="org/jfree/**"/>, +            <exclude name="org/jfree/chart/fx/**"/>, +        </javac>, +, +        <!-- copy across gorilla.jpg -->, +        <copy file="${basedir}/src/main/resources/org/jfree/chart/gorilla.jpg" tofile="${basedir}/build/org/jfree/chart/gorilla.jpg" />, +, +        <!-- copy across .properties files -->, +        <copy todir="${basedir}/build/org/jfree/chart/">, +            <fileset dir="${basedir}/src/main/resources/org/jfree/chart">, +                <include name="*.properties" />, +            </fileset>, +        </copy>, +        <copy todir="${basedir}/build/org/jfree/chart/plot">, +            <fileset dir="${basedir}/src/main/resources/org/jfree/chart/plot">, +                <include name="*.properties" />, +            </fileset>, +        </copy>, +        <copy todir="${basedir}/build/org/jfree/chart/editor">, +            <fileset dir="${basedir}/src/main/resources/org/jfree/chart/editor">, +                <include name="*.properties" />, +            </fileset>, +        </copy>, +, +        <!-- make the jar -->, +        <jar jarfile="${basedir}/lib/${jfreechart.name}-${jfreechart.version}.jar", +             basedir="${basedir}/build" >, +            <manifest>, +                <attribute name="Specification-Title" value="JFreeChart" />, +                <attribute name="Specification-Version" value="${jfreechart.version}" />, +                <attribute name="Specification-Vendor" value="jfree.org" />, +                <attribute name="Implementation-Title" value="JFreeChart" />, +                <attribute name="Implementation-Version" value="${jfreechart.version}" />, +                <attribute name="Implementation-Vendor" value="jfree.org" />, +            </manifest>]