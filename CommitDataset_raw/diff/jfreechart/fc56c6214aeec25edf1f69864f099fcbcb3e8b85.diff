[+++ b/ChangeLog, +2007-12-05  David Gilbert  <david.gilbert@object-refinery.com>, +, +	* source/org/jfree/chart/JFreeChart.java, +	(setTitle): Handle listener registration,, +	* tests/org/jfree/chart/junit/JFreeChartTests.java, +	(testTitleChangeEvents): New test method., +, +++ b/ChangeLog, +2007-12-05  David Gilbert  <david.gilbert@object-refinery.com>, +, +	* source/org/jfree/chart/JFreeChart.java, +	(setTitle): Handle listener registration,, +	* tests/org/jfree/chart/junit/JFreeChartTests.java, +	(testTitleChangeEvents): New test method., +, +++ b/source/org/jfree/chart/JFreeChart.java, + * 05-Dec-2007 : Fixed bug 1749124 (not registering as listener with, + *               TextTitle) (DG);, +        if (this.title != null) {, +            this.title.removeChangeListener(this);, +        }, +        if (title != null) {, +            title.addChangeListener(this);, +        }, +++ b/ChangeLog, +2007-12-05  David Gilbert  <david.gilbert@object-refinery.com>, +, +	* source/org/jfree/chart/JFreeChart.java, +	(setTitle): Handle listener registration,, +	* tests/org/jfree/chart/junit/JFreeChartTests.java, +	(testTitleChangeEvents): New test method., +, +++ b/source/org/jfree/chart/JFreeChart.java, + * 05-Dec-2007 : Fixed bug 1749124 (not registering as listener with, + *               TextTitle) (DG);, +        if (this.title != null) {, +            this.title.removeChangeListener(this);, +        }, +        if (title != null) {, +            title.addChangeListener(this);, +        }, +++ b/tests/org/jfree/chart/junit/JFreeChartTests.java, +    /**, +     * Some checks for title changes and event notification., +     */, +    public void testTitleChangeEvent() {, +        DefaultPieDataset dataset = new DefaultPieDataset();, +        JFreeChart chart = ChartFactory.createPieChart("title", dataset, true, , +                false, false);, +        chart.addChangeListener(this);, +        this.lastChartChangeEvent = null;, +        TextTitle t = chart.getTitle();, +        t.setFont(new Font("Dialog", Font.BOLD, 9));, +        assertNotNull(this.lastChartChangeEvent);, +        this.lastChartChangeEvent = null;, +        , +        // now create a new title and replace the existing title, several, +        // things should happen:, +        // (1) Adding the new title should trigger an immediate , +        //     ChartChangeEvent;, +        // (2) Modifying the new title should trigger a ChartChangeEvent;, +        // (3) Modifying the old title should NOT trigger a ChartChangeEvent, +        TextTitle t2 = new TextTitle("T2");, +        chart.setTitle(t2);, +        assertNotNull(this.lastChartChangeEvent);, +        this.lastChartChangeEvent = null;, +        , +        t2.setFont(new Font("Dialog", Font.BOLD, 9));, +        assertNotNull(this.lastChartChangeEvent);, +        this.lastChartChangeEvent = null;, +        , +        t.setFont(new Font("Dialog", Font.BOLD, 9));, +        assertNull(this.lastChartChangeEvent);, +        this.lastChartChangeEvent = null;, +    }, +    ]