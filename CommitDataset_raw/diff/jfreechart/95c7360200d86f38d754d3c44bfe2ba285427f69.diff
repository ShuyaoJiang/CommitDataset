[+++ b/ChangeLog, +2011-10-19  David Gilbert <david.gilbert@object-refinery.com>, +, +    Bug 3026341:, +    * org/jfree/chart/renderer/xy/XYShapeRenderer.java, +    (findDomainBounds): Check for null,, +    (findRangeBounds): Likewise., +, +++ b/ChangeLog, +2011-10-19  David Gilbert <david.gilbert@object-refinery.com>, +, +    Bug 3026341:, +    * org/jfree/chart/renderer/xy/XYShapeRenderer.java, +    (findDomainBounds): Check for null,, +    (findRangeBounds): Likewise., +, +++ b/source/org/jfree/chart/renderer/xy/XYShapeRenderer.java, + * (C) Copyright 2000-2011, by Object Refinery Limited and Contributors., + * (C) Copyright 2008-2011 by Andreas Haumer, xS+S and Contributors., + * 19-Oct-2011 : Fixed NPE in findRangeBounds() (bug 3026341) (DG);, +        if (dataset == null) {, +            return null;, +        }, +        if (r == null) {, +            return null;, +        }, +        if (dataset == null) {, +            return null;, +        }, +        if (r == null) {, +            return null;, +        }, +++ b/ChangeLog, +2011-10-19  David Gilbert <david.gilbert@object-refinery.com>, +, +    Bug 3026341:, +    * org/jfree/chart/renderer/xy/XYShapeRenderer.java, +    (findDomainBounds): Check for null,, +    (findRangeBounds): Likewise., +, +++ b/source/org/jfree/chart/renderer/xy/XYShapeRenderer.java, + * (C) Copyright 2000-2011, by Object Refinery Limited and Contributors., + * (C) Copyright 2008-2011 by Andreas Haumer, xS+S and Contributors., + * 19-Oct-2011 : Fixed NPE in findRangeBounds() (bug 3026341) (DG);, +        if (dataset == null) {, +            return null;, +        }, +        if (r == null) {, +            return null;, +        }, +        if (dataset == null) {, +            return null;, +        }, +        if (r == null) {, +            return null;, +        }, +++ b/tests/org/jfree/chart/renderer/xy/junit/XYShapeRendererTests.java, +import org.jfree.data.xy.XYSeries;, +import org.jfree.data.xy.XYSeriesCollection;, +, +    /**, +     * Test for bug 3026341., +     */, +    public void test3026341() {, +        XYShapeRenderer renderer = new XYShapeRenderer();, +        assertNull(renderer.findRangeBounds(null));, +, +        XYSeriesCollection dataset = new XYSeriesCollection();, +        XYSeries series = new XYSeries("S1");, +        series.add(1.0, null);, +        dataset.addSeries(series);, +        Range r = renderer.findRangeBounds(dataset);, +        assertNull(r);, +, +        // test findDomainBounds as well, +        r = renderer.findDomainBounds(dataset);, +        assertEquals(r.getLowerBound(), 1.0, EPSILON);, +        assertEquals(r.getUpperBound(), 1.0, EPSILON);, +, +        dataset.removeAllSeries();, +        r = renderer.findDomainBounds(dataset);, +        assertNull(r);, +    }, +]