[+++ b/ChangeLog, +    Bug 2849731:, +    * source/org/jfree/chart/DatasetUtilities.java, +    (iterateRangeBounds(CategoryDataset, boolean)): For IntervalCategoryDataset, +    look at regular value, and account for nulls., +, +2009-09-10  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/ChangeLog, +    Bug 2849731:, +    * source/org/jfree/chart/DatasetUtilities.java, +    (iterateRangeBounds(CategoryDataset, boolean)): For IntervalCategoryDataset, +    look at regular value, and account for nulls., +, +2009-09-10  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/source/org/jfree/data/general/DatasetUtilities.java, + *                   Peter Kolb (patch 2791407);, + * 10-Sep-2009 : Fix bug 2849731 for IntervalCategoryDataset (DG);, +            Number value, lvalue, uvalue;, +                    value = icd.getValue(row, column);, +                    double v;, +                    if ((value != null), +                            && !Double.isNaN(v = value.doubleValue())) {, +                        minimum = Math.min(v, minimum);, +                        maximum = Math.max(v, maximum);, +                    lvalue = icd.getStartValue(row, column);, +                    if (lvalue != null, +                            && !Double.isNaN(v = lvalue.doubleValue())) {, +                        minimum = Math.min(v, minimum);, +                        maximum = Math.max(v, maximum);, +                    }, +                    uvalue = icd.getEndValue(row, column);, +                    if (uvalue != null, +                            && !Double.isNaN(v = uvalue.doubleValue())) {, +                        minimum = Math.min(v, minimum);, +                        maximum = Math.max(v, maximum);, +++ b/ChangeLog, +    Bug 2849731:, +    * source/org/jfree/chart/DatasetUtilities.java, +    (iterateRangeBounds(CategoryDataset, boolean)): For IntervalCategoryDataset, +    look at regular value, and account for nulls., +, +2009-09-10  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/source/org/jfree/data/general/DatasetUtilities.java, + *                   Peter Kolb (patch 2791407);, + * 10-Sep-2009 : Fix bug 2849731 for IntervalCategoryDataset (DG);, +            Number value, lvalue, uvalue;, +                    value = icd.getValue(row, column);, +                    double v;, +                    if ((value != null), +                            && !Double.isNaN(v = value.doubleValue())) {, +                        minimum = Math.min(v, minimum);, +                        maximum = Math.max(v, maximum);, +                    lvalue = icd.getStartValue(row, column);, +                    if (lvalue != null, +                            && !Double.isNaN(v = lvalue.doubleValue())) {, +                        minimum = Math.min(v, minimum);, +                        maximum = Math.max(v, maximum);, +                    }, +                    uvalue = icd.getEndValue(row, column);, +                    if (uvalue != null, +                            && !Double.isNaN(v = uvalue.doubleValue())) {, +                        minimum = Math.min(v, minimum);, +                        maximum = Math.max(v, maximum);, +++ b/tests/org/jfree/data/general/junit/DatasetUtilitiesTests.java, + * 10-Sep-2009 : Added tests for bug 2849731 (DG);, + *, +    /**, +     * Some checks for the iterateRangeBounds() method when passed an, +     * IntervalCategoryDataset., +     */, +    public void testIterateRangeBounds_IntervalCategoryDataset() {, +        TestIntervalCategoryDataset d = new TestIntervalCategoryDataset();, +        d.addItem(1.0, 2.0, 3.0, "R1", "C1");, +        assertEquals(new Range(1.0, 3.0),, +                DatasetUtilities.iterateRangeBounds(d));, +, +        d = new TestIntervalCategoryDataset();, +        d.addItem(2.5, 2.0, 3.0, "R1", "C1");, +        assertEquals(new Range(2.0, 3.0),, +                DatasetUtilities.iterateRangeBounds(d));, +, +        d = new TestIntervalCategoryDataset();, +        d.addItem(4.0, 2.0, 3.0, "R1", "C1");, +        assertEquals(new Range(2.0, 4.0),, +                DatasetUtilities.iterateRangeBounds(d));, +, +        d = new TestIntervalCategoryDataset();, +        d.addItem(null, 2.0, 3.0, "R1", "C1");, +        assertEquals(new Range(2.0, 3.0),, +                DatasetUtilities.iterateRangeBounds(d));, +, +        // try some nulls, +        d = new TestIntervalCategoryDataset();, +        d.addItem(null, null, null, "R1", "C1");, +        assertNull(DatasetUtilities.iterateRangeBounds(d));, +, +        d = new TestIntervalCategoryDataset();]