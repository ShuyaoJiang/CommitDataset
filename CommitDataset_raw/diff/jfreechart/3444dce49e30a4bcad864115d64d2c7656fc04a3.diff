[+++ b/ChangeLog, +2007-08-28  David Gilbert  <david.gilbert@object-refinery.com>, +, +	* source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java, +	(drawHorizontalItem): Check for null data items,, +	(drawVerticalItem): Likewise,, +	* tests/org/jfree/chart/renderer/category/junit/StatisticalBarRendererTests.java, +	(testDrawWithNullMeanVertical): New test method,, +	(testDrawWithNullMeanHorizontal): Likewise,, +	(testDrawWithNullDeviationVertical): Likewise,, +	(testDrawWithNullDeviationHorizontal): Likewise., +++ b/ChangeLog, +2007-08-28  David Gilbert  <david.gilbert@object-refinery.com>, +, +	* source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java, +	(drawHorizontalItem): Check for null data items,, +	(drawVerticalItem): Likewise,, +	* tests/org/jfree/chart/renderer/category/junit/StatisticalBarRendererTests.java, +	(testDrawWithNullMeanVertical): New test method,, +	(testDrawWithNullMeanHorizontal): Likewise,, +	(testDrawWithNullDeviationVertical): Likewise,, +	(testDrawWithNullDeviationHorizontal): Likewise., +++ b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java, + * 28-Aug-2007 : Fixed NullPointerException - see bug 1779941 (DG);, +     *         , +     * @see #setErrorIndicatorPaint(Paint), +     * , +     * @see #getErrorIndicatorPaint(), +        if (meanValue == null) {, +            return;, +        }, +        Number n = dataset.getStdDevValue(row, column);, +        if (n != null) {, +            double valueDelta = n.doubleValue();, +        }, +        if (meanValue == null) {, +            return;, +        }, +        Number n = dataset.getStdDevValue(row, column);, +        if (n != null) {, +            double valueDelta = n.doubleValue();, +        }, +++ b/ChangeLog, +2007-08-28  David Gilbert  <david.gilbert@object-refinery.com>, +, +	* source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java, +	(drawHorizontalItem): Check for null data items,, +	(drawVerticalItem): Likewise,, +	* tests/org/jfree/chart/renderer/category/junit/StatisticalBarRendererTests.java, +	(testDrawWithNullMeanVertical): New test method,, +	(testDrawWithNullMeanHorizontal): Likewise,, +	(testDrawWithNullDeviationVertical): Likewise,, +	(testDrawWithNullDeviationHorizontal): Likewise., +++ b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java, + * 28-Aug-2007 : Fixed NullPointerException - see bug 1779941 (DG);, +     *         , +     * @see #setErrorIndicatorPaint(Paint), +     * , +     * @see #getErrorIndicatorPaint(), +        if (meanValue == null) {, +            return;, +        }, +        Number n = dataset.getStdDevValue(row, column);, +        if (n != null) {, +            double valueDelta = n.doubleValue();, +        }, +        if (meanValue == null) {, +            return;, +        }, +        Number n = dataset.getStdDevValue(row, column);, +        if (n != null) {, +            double valueDelta = n.doubleValue();, +        }, +++ b/tests/org/jfree/chart/renderer/category/junit/StatisticalBarRendererTests.java, + * (C) Copyright 2000-2007, by Object Refinery Limited and Contributors., + * (C) Copyright 2003-2007, by Object Refinery Limited and Contributors., + * 28-Aug-2007 : Added tests for bug 1779941 (DG);, +import org.jfree.chart.plot.PlotOrientation;, +            e.printStackTrace();, +            ObjectInput in = new ObjectInputStream(new ByteArrayInputStream(, +                    buffer.toByteArray()));, +            e.printStackTrace();, +    /**, +     * Draws the chart with a <code>null</code> mean value to make sure that , +     * no exceptions are thrown (particularly by code in the renderer).  See, +     * bug report 1779941., +     */, +    public void testDrawWithNullMeanVertical() {, +        boolean success = false;, +        try {, +            DefaultStatisticalCategoryDataset dataset , +                    = new DefaultStatisticalCategoryDataset();, +            dataset.add(1.0, 2.0, "S1", "C1");, +            dataset.add(null, new Double(4.0), "S1", "C2");, +            CategoryPlot plot = new CategoryPlot(dataset, , +                    new CategoryAxis("Category"), new NumberAxis("Value"), , +                    new StatisticalBarRenderer());, +            JFreeChart chart = new JFreeChart(plot);, +            /* BufferedImage image = */ chart.createBufferedImage(300, 200, , +                    null);]