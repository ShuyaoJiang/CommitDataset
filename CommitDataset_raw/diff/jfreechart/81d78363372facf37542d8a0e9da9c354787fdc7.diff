[+++ b/ChangeLog, +    * source/org/jfree/data/xy/DefaultOHLCDataset.java:, +    Implemented PublicCloneable, plus, +    (clone): New method override., +, +2008-04-22  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/ChangeLog, +    * source/org/jfree/data/xy/DefaultOHLCDataset.java:, +    Implemented PublicCloneable, plus, +    (clone): New method override., +, +2008-04-22  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/source/org/jfree/data/xy/DefaultOHLCDataset.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2003-2008, by Object Refinery Limited., + * 22-Apr-2008 : Implemented PublicCloneable, and fixed cloning bug (DG);, +import org.jfree.util.PublicCloneable;, +, +        implements OHLCDataset, PublicCloneable {, +    /**, +     * Returns an independent copy of this dataset., +     *, +     * @return A clone., +     */, +    public Object clone() throws CloneNotSupportedException {, +    	DefaultOHLCDataset clone = (DefaultOHLCDataset) super.clone();, +    	clone.data = new OHLCDataItem[this.data.length];, +    	System.arraycopy(this.data, 0, clone.data, 0, this.data.length);, +    	return clone;, +    }, +, +++ b/ChangeLog, +    * source/org/jfree/data/xy/DefaultOHLCDataset.java:, +    Implemented PublicCloneable, plus, +    (clone): New method override., +, +2008-04-22  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/source/org/jfree/data/xy/DefaultOHLCDataset.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2003-2008, by Object Refinery Limited., + * 22-Apr-2008 : Implemented PublicCloneable, and fixed cloning bug (DG);, +import org.jfree.util.PublicCloneable;, +, +        implements OHLCDataset, PublicCloneable {, +    /**, +     * Returns an independent copy of this dataset., +     *, +     * @return A clone., +     */, +    public Object clone() throws CloneNotSupportedException {, +    	DefaultOHLCDataset clone = (DefaultOHLCDataset) super.clone();, +    	clone.data = new OHLCDataItem[this.data.length];, +    	System.arraycopy(this.data, 0, clone.data, 0, this.data.length);, +    	return clone;, +    }, +, +++ b/tests/org/jfree/data/xy/junit/DefaultOHLCDatasetTests.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2005-2008, by Object Refinery Limited and Contributors., + * 22-Apr-2008 : Added testPublicCloneable (DG);, +import org.jfree.util.PublicCloneable;, +     * Confirm that cloning works., +     */, +    public void testCloning2() {, +    	OHLCDataItem item1 = new OHLCDataItem(new Date(1L), 1.0, 2.0, 3.0, 4.0,, +    			5.0);, +    	OHLCDataItem item2 = new OHLCDataItem(new Date(2L), 6.0, 7.0, 8.0, 9.0,, +    			10.0);, +    	// create an array of items in reverse order, +    	OHLCDataItem[] items = new OHLCDataItem[] {item2, item1};, +        DefaultOHLCDataset d1 = new DefaultOHLCDataset("Series 1", items);, +        DefaultOHLCDataset d2 = null;, +        try {, +            d2 = (DefaultOHLCDataset) d1.clone();, +        }, +        catch (CloneNotSupportedException e) {, +            e.printStackTrace();, +        }, +        assertTrue(d1 != d2);, +        assertTrue(d1.getClass() == d2.getClass());, +        assertTrue(d1.equals(d2));, +, +        d1.sortDataByDate();, +        assertFalse(d1.equals(d2));, +    }, +, +    /**, +     * Verify that this class implements {@link PublicCloneable}., +     */, +    public void testPublicCloneable() {, +        DefaultOHLCDataset d1 = new DefaultOHLCDataset("Series 1",, +                new OHLCDataItem[0]);, +        assertTrue(d1 instanceof PublicCloneable);, +    }, +, +    /**]