[+++ b/ChangeLog, +2009-04-08  David Gilbert  <david.gilbert@object-refinery.com>, +, +    * source/org/jfree/chart/ChartTransferable.java : New file,, +    * source/org/jfree/chart/ChartPanel.java, +    (COPY_COMMAND): New field,, +    ChartPanel(JFreeChart, int, int, int, int, int, int, boolean, boolean,, +    boolean, boolean, boolean, boolean, boolean)): New constructor,, +    (actionPerformed): Check for copy action,, +    (doCopy): Tranfer chart to clipboard,, +    (createPopupMenu): New method., +, +++ b/ChangeLog, +2009-04-08  David Gilbert  <david.gilbert@object-refinery.com>, +, +    * source/org/jfree/chart/ChartTransferable.java : New file,, +    * source/org/jfree/chart/ChartPanel.java, +    (COPY_COMMAND): New field,, +    ChartPanel(JFreeChart, int, int, int, int, int, int, boolean, boolean,, +    boolean, boolean, boolean, boolean, boolean)): New constructor,, +    (actionPerformed): Check for copy action,, +    (doCopy): Tranfer chart to clipboard,, +    (createPopupMenu): New method., +, +++ b/source/org/jfree/chart/ChartPanel.java, + *                   Alessandro Borges - patch 1460845;, + * 08-Apr-2009 : Added copy to clipboard support, based on patch 1460845, + *               by Alessandro Borges (DG);, +import java.awt.Toolkit;, +import java.awt.datatransfer.Clipboard;, +    /**, +     * Copy action command., +     *, +     * @since 1.0.13, +     */, +    public static final String COPY_COMMAND = "COPY";, +, +        this(chart, DEFAULT_WIDTH, DEFAULT_HEIGHT, DEFAULT_MINIMUM_DRAW_WIDTH,, +                DEFAULT_MINIMUM_DRAW_HEIGHT, DEFAULT_MAXIMUM_DRAW_WIDTH,, +                DEFAULT_MAXIMUM_DRAW_HEIGHT, useBuffer,, +    public ChartPanel(JFreeChart chart, int width, int height,, +            int minimumDrawWidth, int minimumDrawHeight, int maximumDrawWidth,, +            int maximumDrawHeight, boolean useBuffer, boolean properties,, +            boolean save, boolean print, boolean zoom, boolean tooltips) {, +, +        this(chart, width, height, minimumDrawWidth, minimumDrawHeight,, +                maximumDrawWidth, maximumDrawHeight, useBuffer, properties,, +                true, save, print, zoom, tooltips);, +    }, +, +    /**, +     * Constructs a JFreeChart panel., +     *, +     * @param chart  the chart., +     * @param width  the preferred width of the panel., +     * @param height  the preferred height of the panel., +     * @param minimumDrawWidth  the minimum drawing width., +     * @param minimumDrawHeight  the minimum drawing height., +     * @param maximumDrawWidth  the maximum drawing width., +     * @param maximumDrawHeight  the maximum drawing height., +     * @param useBuffer  a flag that indicates whether to use the off-screen, +     *                   buffer to improve performance (at the expense of, +     *                   memory)., +     * @param properties  a flag indicating whether or not the chart property, +     *                    editor should be available via the popup menu., +     * @param save  a flag indicating whether or not save options should be, +     *              available via the popup menu., +     * @param print  a flag indicating whether or not the print option, +     *               should be available via the popup menu., +     * @param zoom  a flag indicating whether or not zoom options should be, +     *              added to the popup menu., +     * @param tooltips  a flag indicating whether or not tooltips should be, +     *                  enabled for the chart., +     */, +    public ChartPanel(JFreeChart chart, int width, int height,, +           int minimumDrawWidth, int minimumDrawHeight, int maximumDrawWidth,, +           int maximumDrawHeight, boolean useBuffer, boolean properties,, +           boolean copy, boolean save, boolean print, boolean zoom,, +        if (properties || copy || save || print || zoom) {, +            this.popup = createPopupMenu(properties, copy, save, print, zoom);, +        else if (command.equals(COPY_COMMAND)) {, +            doCopy();, +        }, +     * Copies the current chart to the system clipboard., +     * , +     * @since 1.0.13, +     */, +    public void doCopy() {, +        Clipboard systemClipboard, +                = Toolkit.getDefaultToolkit().getSystemClipboard();, +        ChartTransferable selection = new ChartTransferable(this.chart, , +                getWidth(), getHeight());, +        systemClipboard.setContents(selection, null);, +    }, +, +    /**, +    protected JPopupMenu createPopupMenu(boolean properties, boolean save,, +            boolean print, boolean zoom) {, +        return createPopupMenu(properties, false, save, print, zoom);, +    }]