[+++ b/ChangeLog, +2009-05-10  David Gilbert  <david.gilbert@object-refinery.com>, +, +    * source/org/jfree/chart/plot/XYPlot.java, +    (equals): Check fixedLegendItems,, +    (clone): Clone fixedLegendItems,, +    * tests/org/jfree/chart/plot/junit/XYPlotTests.java, +    (testEquals): Added test for fixedLegendItems,, +    (testCloning3): New test., +, +++ b/ChangeLog, +2009-05-10  David Gilbert  <david.gilbert@object-refinery.com>, +, +    * source/org/jfree/chart/plot/XYPlot.java, +    (equals): Check fixedLegendItems,, +    (clone): Clone fixedLegendItems,, +    * tests/org/jfree/chart/plot/junit/XYPlotTests.java, +    (testEquals): Added test for fixedLegendItems,, +    (testCloning3): New test., +, +++ b/source/org/jfree/chart/plot/XYPlot.java, + * 10-May-2009 : Added check for fixedLegendItems in equals(), and code to, + *               handle cloning (DG);, +        if (!ObjectUtilities.equal(this.fixedLegendItems,, +                that.fixedLegendItems)) {, +            return false;, +        }, +        if (this.fixedLegendItems != null) {, +            clone.fixedLegendItems, +                    = (LegendItemCollection) this.fixedLegendItems.clone();, +        }, +++ b/ChangeLog, +2009-05-10  David Gilbert  <david.gilbert@object-refinery.com>, +, +    * source/org/jfree/chart/plot/XYPlot.java, +    (equals): Check fixedLegendItems,, +    (clone): Clone fixedLegendItems,, +    * tests/org/jfree/chart/plot/junit/XYPlotTests.java, +    (testEquals): Added test for fixedLegendItems,, +    (testCloning3): New test., +, +++ b/source/org/jfree/chart/plot/XYPlot.java, + * 10-May-2009 : Added check for fixedLegendItems in equals(), and code to, + *               handle cloning (DG);, +        if (!ObjectUtilities.equal(this.fixedLegendItems,, +                that.fixedLegendItems)) {, +            return false;, +        }, +        if (this.fixedLegendItems != null) {, +            clone.fixedLegendItems, +                    = (LegendItemCollection) this.fixedLegendItems.clone();, +        }, +++ b/tests/org/jfree/chart/plot/junit/XYPlotTests.java, + * 10-May-2009 : Extended testEquals(), added testCloning3() (DG);, +import org.jfree.chart.LegendItem;, +        // fixed legend items, +        plot1.setFixedLegendItems(new LegendItemCollection());, +        assertFalse(plot1.equals(plot2));, +        plot2.setFixedLegendItems(new LegendItemCollection());, +        assertTrue(plot1.equals(plot2));, +, +     * Tests cloning for a plot where the fixed legend items have been, +     * specified., +     */, +    public void testCloning3() {, +        XYPlot p1 = new XYPlot(null, new NumberAxis("Domain Axis"),, +                new NumberAxis("Range Axis"), new StandardXYItemRenderer());, +        LegendItemCollection c1 = new LegendItemCollection();, +        p1.setFixedLegendItems(c1);, +        XYPlot p2 = null;, +        try {, +            p2 = (XYPlot) p1.clone();, +        }, +        catch (CloneNotSupportedException e) {, +            e.printStackTrace();, +        }, +        assertTrue(p1 != p2);, +        assertTrue(p1.getClass() == p2.getClass());, +        assertTrue(p1.equals(p2));, +, +        // verify independence of fixed legend item collection, +        c1.add(new LegendItem("X"));, +        assertFalse(p1.equals(p2));, +    }, +, +    /**]