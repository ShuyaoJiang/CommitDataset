[+++ b/ChangeLog, +2008-11-24  David Gilbert  <david.gilbert@object-refinery.com>, +, +    Bug 1955483:, +    * source/org/jfree/data/xy/XYSeries.java, +    (addOrUpdate): Check early for duplicates allowed,, +    * tests/org/jfree/data/xy/junit/XYSeriesTests.java, +    (testBug1955483): New test., +, +++ b/ChangeLog, +2008-11-24  David Gilbert  <david.gilbert@object-refinery.com>, +, +    Bug 1955483:, +    * source/org/jfree/data/xy/XYSeries.java, +    (addOrUpdate): Check early for duplicates allowed,, +    * tests/org/jfree/data/xy/junit/XYSeriesTests.java, +    (testBug1955483): New test., +, +++ b/NEWS, +2113627 : XYStepRenderer item labels;, +1955483 : XYSeries.addOrUpdate() problem., +++ b/ChangeLog, +2008-11-24  David Gilbert  <david.gilbert@object-refinery.com>, +, +    Bug 1955483:, +    * source/org/jfree/data/xy/XYSeries.java, +    (addOrUpdate): Check early for duplicates allowed,, +    * tests/org/jfree/data/xy/junit/XYSeriesTests.java, +    (testBug1955483): New test., +, +++ b/NEWS, +2113627 : XYStepRenderer item labels;, +1955483 : XYSeries.addOrUpdate() problem., +++ b/source/org/jfree/data/xy/XYSeries.java, + * 24-Nov-2008 : Further fix for 1955483 (DG);, +     * Adds a new data item to the series (in the correct position if the, +     * <code>autoSort</code> flag is set for the series) and sends a, +     * {@link SeriesChangeEvent} to all registered listeners., +     *, +     * @throws SeriesException if the x-value is a duplicate and the, +     *     <code>allowDuplicateXValues</code> flag is not set for this series., +     * {@link SeriesChangeEvent} to all registered listeners., +        if (this.allowDuplicateXValues) {, +            add(x, y);, +            return null;, +        }, +, +        // if we get to here, we know that duplicate X values are not permitted, +        if (index >= 0) {, +++ b/ChangeLog, +2008-11-24  David Gilbert  <david.gilbert@object-refinery.com>, +, +    Bug 1955483:, +    * source/org/jfree/data/xy/XYSeries.java, +    (addOrUpdate): Check early for duplicates allowed,, +    * tests/org/jfree/data/xy/junit/XYSeriesTests.java, +    (testBug1955483): New test., +, +++ b/NEWS, +2113627 : XYStepRenderer item labels;, +1955483 : XYSeries.addOrUpdate() problem., +++ b/source/org/jfree/data/xy/XYSeries.java, + * 24-Nov-2008 : Further fix for 1955483 (DG);, +     * Adds a new data item to the series (in the correct position if the, +     * <code>autoSort</code> flag is set for the series) and sends a, +     * {@link SeriesChangeEvent} to all registered listeners., +     *, +     * @throws SeriesException if the x-value is a duplicate and the, +     *     <code>allowDuplicateXValues</code> flag is not set for this series., +     * {@link SeriesChangeEvent} to all registered listeners., +        if (this.allowDuplicateXValues) {, +            add(x, y);, +            return null;, +        }, +, +        // if we get to here, we know that duplicate X values are not permitted, +        if (index >= 0) {, +++ b/tests/org/jfree/data/xy/junit/XYSeriesTests.java, + * 24-Nov-2008 : Added testBug1955483() (DG);, +    /**, +     * Another test for the addOrUpdate() method., +     */, +    public void testBug1955483() {, +        XYSeries series = new XYSeries("Series", true, true);, +        series.addOrUpdate(1.0, 1.0);, +        series.addOrUpdate(1.0, 2.0);, +        assertEquals(new Double(1.0), series.getY(0));, +        assertEquals(new Double(2.0), series.getY(1));, +        assertEquals(2, series.getItemCount());, +    }, +]