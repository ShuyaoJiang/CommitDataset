[+++ b/ChangeLog, +	* source/org/jfree/chart/renderer/GrayPaintScale.java, +	(getPaint): Use constrained value to calculate gray scale value,, +	* tests/org/jfree/chart/renderer/junit/GrayPaintScaleTests.java, +	(testConstructor): New test method,, +	(testGetPaint): Likewise., +, +2007-09-26  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/ChangeLog, +	* source/org/jfree/chart/renderer/GrayPaintScale.java, +	(getPaint): Use constrained value to calculate gray scale value,, +	* tests/org/jfree/chart/renderer/junit/GrayPaintScaleTests.java, +	(testConstructor): New test method,, +	(testGetPaint): Likewise., +, +2007-09-26  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/source/org/jfree/chart/renderer/GrayPaintScale.java, + * 26-Sep-2007 : Fixed bug 1767315, problem in getPaint() method (DG);, +     * , +     * @throws IllegalArgumentException if <code>lowerBound</code> is not, +     *       less than <code>upperBound</code>., +     * , +     * @see #getUpperBound(), +     * , +     * @see #getLowerBound(), +     * @param value  the value (must be within the range specified by the, +     *         lower and upper bounds for the scale)., +        int g = (int) ((v - this.lowerBound) / (this.upperBound , +++ b/ChangeLog, +	* source/org/jfree/chart/renderer/GrayPaintScale.java, +	(getPaint): Use constrained value to calculate gray scale value,, +	* tests/org/jfree/chart/renderer/junit/GrayPaintScaleTests.java, +	(testConstructor): New test method,, +	(testGetPaint): Likewise., +, +2007-09-26  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/source/org/jfree/chart/renderer/GrayPaintScale.java, + * 26-Sep-2007 : Fixed bug 1767315, problem in getPaint() method (DG);, +     * , +     * @throws IllegalArgumentException if <code>lowerBound</code> is not, +     *       less than <code>upperBound</code>., +     * , +     * @see #getUpperBound(), +     * , +     * @see #getLowerBound(), +     * @param value  the value (must be within the range specified by the, +     *         lower and upper bounds for the scale)., +        int g = (int) ((v - this.lowerBound) / (this.upperBound , +++ b/tests/org/jfree/chart/renderer/junit/GrayPaintScaleTests.java, + * (C) Copyright 2000-2007, by Object Refinery Limited and Contributors., + * (C) Copyright 2006, 2007, by Object Refinery Limited and Contributors., + * 26-Sep-2007 : Added testConstructor() and testGetPaint() (DG);, +import java.awt.Color;, +import org.jfree.chart.renderer.GrayPaintScale;, +, +    private static final double EPSILON = 0.000000001;, +    , +    /** , +     * Simple check for the default constructor., +     */, +    public void testConstructor() {, +        GrayPaintScale gps = new GrayPaintScale();, +        assertEquals(0.0, gps.getLowerBound(), EPSILON);, +        assertEquals(1.0, gps.getUpperBound(), EPSILON);, +    }, +    , +    /**, +     * Some checks for the getPaint() method., +     */, +    public void testGetPaint() {, +        GrayPaintScale gps = new GrayPaintScale();, +        Color c = (Color) gps.getPaint(0.0);, +        assertTrue(c.equals(Color.black));, +        c = (Color) gps.getPaint(1.0);, +        assertTrue(c.equals(Color.white));, +        , +        // check lookup values that are outside the bounds - see bug report, +        // 1767315, +        c = (Color) gps.getPaint(-0.5);, +        assertTrue(c.equals(Color.black));, +        c = (Color) gps.getPaint(1.5);, +        assertTrue(c.equals(Color.white));, +    }, +    ]