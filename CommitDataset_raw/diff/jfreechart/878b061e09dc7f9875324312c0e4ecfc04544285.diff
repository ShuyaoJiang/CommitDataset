[+++ b/tests/org/jfree/chart/plot/junit/CombinedDomainCategoryPlotTests.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2003-2008, by Object Refinery Limited and Contributors., + * 03-Jan-2008 : Added testNotification() (DG);, +import java.awt.Graphics2D;, +import java.awt.geom.Rectangle2D;, +import java.awt.image.BufferedImage;, +import org.jfree.chart.JFreeChart;, +import org.jfree.chart.event.ChartChangeEvent;, +import org.jfree.chart.event.ChartChangeListener;, +public class CombinedDomainCategoryPlotTests extends TestCase  , +        implements ChartChangeListener {, +, +    /** A list of the events received. */, +    private List events = new java.util.ArrayList();, +    , +    /**, +     * Receives a chart change event., +     * , +     * @param event  the event., +     */, +    public void chartChanged(ChartChangeEvent event) {, +        this.events.add(event);, +    }, +            ObjectInput in = new ObjectInputStream(new ByteArrayInputStream(, +                    buffer.toByteArray()));, +     * Check that only one chart change event is generated by a change to a, +     * subplot., +     */, +    public void testNotification() {, +        CombinedDomainCategoryPlot plot = createPlot();, +        JFreeChart chart = new JFreeChart(plot);, +        chart.addChangeListener(this);, +        CategoryPlot subplot1 = (CategoryPlot) plot.getSubplots().get(0);, +        NumberAxis yAxis = (NumberAxis) subplot1.getRangeAxis();, +        yAxis.setAutoRangeIncludesZero(!yAxis.getAutoRangeIncludesZero());, +        assertEquals(1, this.events.size());, +        , +        // a redraw should NOT trigger another change event, +        BufferedImage image = new BufferedImage(200, 100, , +                BufferedImage.TYPE_INT_RGB);, +        Graphics2D g2 = image.createGraphics();, +        this.events.clear();, +        chart.draw(g2, new Rectangle2D.Double(0.0, 0.0, 200.0, 100.0));, +        assertTrue(this.events.isEmpty());, +    } , +    , +    /**, +++ b/tests/org/jfree/chart/plot/junit/CombinedDomainCategoryPlotTests.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2003-2008, by Object Refinery Limited and Contributors., + * 03-Jan-2008 : Added testNotification() (DG);, +import java.awt.Graphics2D;, +import java.awt.geom.Rectangle2D;, +import java.awt.image.BufferedImage;, +import org.jfree.chart.JFreeChart;, +import org.jfree.chart.event.ChartChangeEvent;, +import org.jfree.chart.event.ChartChangeListener;, +public class CombinedDomainCategoryPlotTests extends TestCase  , +        implements ChartChangeListener {, +, +    /** A list of the events received. */, +    private List events = new java.util.ArrayList();, +    , +    /**, +     * Receives a chart change event., +     * , +     * @param event  the event., +     */, +    public void chartChanged(ChartChangeEvent event) {, +        this.events.add(event);, +    }, +            ObjectInput in = new ObjectInputStream(new ByteArrayInputStream(, +                    buffer.toByteArray()));, +     * Check that only one chart change event is generated by a change to a, +     * subplot., +     */, +    public void testNotification() {, +        CombinedDomainCategoryPlot plot = createPlot();, +        JFreeChart chart = new JFreeChart(plot);, +        chart.addChangeListener(this);, +        CategoryPlot subplot1 = (CategoryPlot) plot.getSubplots().get(0);, +        NumberAxis yAxis = (NumberAxis) subplot1.getRangeAxis();, +        yAxis.setAutoRangeIncludesZero(!yAxis.getAutoRangeIncludesZero());, +        assertEquals(1, this.events.size());, +        , +        // a redraw should NOT trigger another change event, +        BufferedImage image = new BufferedImage(200, 100, , +                BufferedImage.TYPE_INT_RGB);, +        Graphics2D g2 = image.createGraphics();, +        this.events.clear();, +        chart.draw(g2, new Rectangle2D.Double(0.0, 0.0, 200.0, 100.0));, +        assertTrue(this.events.isEmpty());, +    } , +    , +    /**, +++ b/tests/org/jfree/chart/plot/junit/CombinedDomainXYPlotTests.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2003-2008, by Object Refinery Limited and Contributors., + * 03-Jan-2008 : Added testNotification() (DG);]