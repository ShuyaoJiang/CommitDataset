[+++ b/ChangeLog, +2008-04-18  David Gilbert  <david.gilbert@object-refinery.com>, +, +    Patch 1943021 (Brian Cabana):, +    * source/org/jfree/chart/plot/MultiplePiePlot.java, +    (MultiplePiePlot(CategoryDataset)): Call setDataset() to ensure that, +    plot registers as a dataset listener,, +    * tests/org/jfree/chart/plot/junit/MultiplePiePlotTests.java, +    (testConstructors): New test method., +, +++ b/ChangeLog, +2008-04-18  David Gilbert  <david.gilbert@object-refinery.com>, +, +    Patch 1943021 (Brian Cabana):, +    * source/org/jfree/chart/plot/MultiplePiePlot.java, +    (MultiplePiePlot(CategoryDataset)): Call setDataset() to ensure that, +    plot registers as a dataset listener,, +    * tests/org/jfree/chart/plot/junit/MultiplePiePlotTests.java, +    (testConstructors): New test method., +, +++ b/source/org/jfree/chart/plot/MultiplePiePlot.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2004-2008, by Object Refinery Limited., + * Contributor(s):   Brian Cabana (patch 1943021);, + * 18-Apr-2008 : In the constructor, register the plot as a dataset listener -, + *               see patch 1943021 from Brian Cabana (DG);, +        setDataset(dataset);, +++ b/ChangeLog, +2008-04-18  David Gilbert  <david.gilbert@object-refinery.com>, +, +    Patch 1943021 (Brian Cabana):, +    * source/org/jfree/chart/plot/MultiplePiePlot.java, +    (MultiplePiePlot(CategoryDataset)): Call setDataset() to ensure that, +    plot registers as a dataset listener,, +    * tests/org/jfree/chart/plot/junit/MultiplePiePlotTests.java, +    (testConstructors): New test method., +, +++ b/source/org/jfree/chart/plot/MultiplePiePlot.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2004-2008, by Object Refinery Limited., + * Contributor(s):   Brian Cabana (patch 1943021);, + * 18-Apr-2008 : In the constructor, register the plot as a dataset listener -, + *               see patch 1943021 from Brian Cabana (DG);, +        setDataset(dataset);, +++ b/tests/org/jfree/chart/plot/junit/MultiplePiePlotTests.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2005-2008, by Object Refinery Limited and Contributors., + * 18-Apr-2008 : Added testConstructor() (DG);, +import org.jfree.chart.event.PlotChangeEvent;, +import org.jfree.chart.event.PlotChangeListener;, +import org.jfree.data.category.DefaultCategoryDataset;, +public class MultiplePiePlotTests extends TestCase, +        implements PlotChangeListener {, +, +	/** The last event received. */, +	PlotChangeEvent lastEvent;, +     * Receives a plot change event and records it.  Some tests will use this, +     * to check that events have been generated (or not) when required., +     */, +	public void plotChanged(PlotChangeEvent event) {, +		this.lastEvent = event;, +	}, +, +    /**, +     * Some checks for the constructors., +     */, +    public void testConstructor() {, +    	MultiplePiePlot plot = new MultiplePiePlot();, +    	assertNull(plot.getDataset());, +, +    	// the following checks that the plot registers itself as a listener, +    	// with the dataset passed to the constructor - see patch 1943021, +    	DefaultCategoryDataset dataset = new DefaultCategoryDataset();, +    	plot = new MultiplePiePlot(dataset);, +    	assertTrue(dataset.hasListener(plot));, +    }, +, +    /**]