[+++ b/source/org/jfree/chart/block/ColorBlock.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2004-2008, by Object Refinery Limited., + * 08-Apr-2008 : Added code for margin, border and padding in draw() , + *               method (DG);, +import org.jfree.ui.Size2D;, +     * Arranges the contents of the block, within the given constraints, and , +     * returns the block size., +     * , +     * @param g2  the graphics device., +     * @param constraint  the constraint (<code>null</code> not permitted)., +     * , +     * @return The block size (in Java2D units, never <code>null</code>)., +     */, +    public Size2D arrange(Graphics2D g2, RectangleConstraint constraint) {, +        return new Size2D(calculateTotalWidth(getWidth()), , +                calculateTotalHeight(getHeight()));, +    }, +, +    /**, +        area = trimMargin(area);, +        drawBorder(g2, area);, +        area = trimBorder(area);, +        area = trimPadding(area);, +        g2.fill(area);, +++ b/source/org/jfree/chart/block/ColorBlock.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2004-2008, by Object Refinery Limited., + * 08-Apr-2008 : Added code for margin, border and padding in draw() , + *               method (DG);, +import org.jfree.ui.Size2D;, +     * Arranges the contents of the block, within the given constraints, and , +     * returns the block size., +     * , +     * @param g2  the graphics device., +     * @param constraint  the constraint (<code>null</code> not permitted)., +     * , +     * @return The block size (in Java2D units, never <code>null</code>)., +     */, +    public Size2D arrange(Graphics2D g2, RectangleConstraint constraint) {, +        return new Size2D(calculateTotalWidth(getWidth()), , +                calculateTotalHeight(getHeight()));, +    }, +, +    /**, +        area = trimMargin(area);, +        drawBorder(g2, area);, +        area = trimBorder(area);, +        area = trimPadding(area);, +        g2.fill(area);, +++ b/source/org/jfree/chart/block/EmptyBlock.java, + * (C) Copyright 2000-2008, by Object Refinery Limited and Contributors., + * (C) Copyright 2004-2008, by Object Refinery Limited., + * 08-Apr-2008 : Added support for margin and border (DG);, +import org.jfree.ui.Size2D;, +     * Arranges the contents of the block, within the given constraints, and , +     * returns the block size., +     * , +     * @param g2  the graphics device., +     * @param constraint  the constraint (<code>null</code> not permitted)., +     * , +     * @return The block size (in Java2D units, never <code>null</code>)., +     */, +    public Size2D arrange(Graphics2D g2, RectangleConstraint constraint) {, +        return new Size2D(calculateTotalWidth(getWidth()), , +                calculateTotalHeight(getHeight()));, +    }, +, +    /**, +     * Draws the block.  Since the block is empty, there is nothing to draw, +     * except the optional border., +        draw(g2, area, null);, +     * there is nothing to draw except the optional border., +        area = trimMargin(area);, +        drawBorder(g2, area);]