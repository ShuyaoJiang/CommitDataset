[+++ b/ChangeLog, +2007-09-26  David Gilbert  <david.gilbert@object-refinery.com>, +, +	* source/org/jfree/chart/plot/Marker.java, +	(readObject): Initialise listener list,, +	* tests/org/jfree/chart/plot/junit/ValueMarkerTests.java, +	(test1802195): New test method., +, +++ b/ChangeLog, +2007-09-26  David Gilbert  <david.gilbert@object-refinery.com>, +, +	* source/org/jfree/chart/plot/Marker.java, +	(readObject): Initialise listener list,, +	* tests/org/jfree/chart/plot/junit/ValueMarkerTests.java, +	(test1802195): New test method., +, +++ b/source/org/jfree/chart/plot/Marker.java, + * (C) Copyright 2000-2007, by Object Refinery Limited and Contributors., + * (C) Copyright 2002-2007, by Object Refinery Limited., + * ------------- JFREECHART 1.0.x ---------------------------------------------, + * 26-Sep-2007 : Fix for serialization bug 1802195 (DG);, +     * @see #removeChangeListener(MarkerChangeListener), +     * , +     * @see #addChangeListener(MarkerChangeListener), +     * , +        this.listenerList = new EventListenerList();, +++ b/ChangeLog, +2007-09-26  David Gilbert  <david.gilbert@object-refinery.com>, +, +	* source/org/jfree/chart/plot/Marker.java, +	(readObject): Initialise listener list,, +	* tests/org/jfree/chart/plot/junit/ValueMarkerTests.java, +	(test1802195): New test method., +, +++ b/source/org/jfree/chart/plot/Marker.java, + * (C) Copyright 2000-2007, by Object Refinery Limited and Contributors., + * (C) Copyright 2002-2007, by Object Refinery Limited., + * ------------- JFREECHART 1.0.x ---------------------------------------------, + * 26-Sep-2007 : Fix for serialization bug 1802195 (DG);, +     * @see #removeChangeListener(MarkerChangeListener), +     * , +     * @see #addChangeListener(MarkerChangeListener), +     * , +        this.listenerList = new EventListenerList();, +++ b/tests/org/jfree/chart/plot/junit/ValueMarkerTests.java, + * (C) Copyright 2000-2007, by Object Refinery Limited and Contributors., + * (C) Copyright 2003-2007, by Object Refinery Limited and Contributors., + * 26-Sep-2007 : Added test1802195() method (DG);, +    /**, +     * A test for bug 1802195., +     */, +    public void test1802195() {, +, +        ValueMarker m1 = new ValueMarker(25.0);, +        ValueMarker m2 = null;, +, +        try {, +            ByteArrayOutputStream buffer = new ByteArrayOutputStream();, +            ObjectOutput out = new ObjectOutputStream(buffer);, +            out.writeObject(m1);, +            out.close();, +, +            ObjectInput in = new ObjectInputStream(, +                    new ByteArrayInputStream(buffer.toByteArray()));, +            m2 = (ValueMarker) in.readObject();, +            in.close();, +        }, +        catch (Exception e) {, +            e.printStackTrace();, +        }, +        boolean b = m1.equals(m2);, +        assertTrue(b);, +, +        boolean pass = true;, +        try {, +            m2.setValue(-10.0);, +        }, +        catch (NullPointerException e) {, +            pass = false;, +        }, +        assertTrue(pass);, +, +    }, +]