[+++ b/swt/org/jfree/experimental/chart/swt/ChartComposite.java, + *                   Jonas Rüttimann (bug fix 2963199);, + * 05-Jul-2012 : Fix SWT print (bug 2963199 by Jonas Rüttimann);, +        new ChartPrintJob("PlotPrint").print(this);, +++ b/swt/org/jfree/experimental/chart/swt/ChartComposite.java, + *                   Jonas Rüttimann (bug fix 2963199);, + * 05-Jul-2012 : Fix SWT print (bug 2963199 by Jonas Rüttimann);, +        new ChartPrintJob("PlotPrint").print(this);, +++ b/swt/org/jfree/experimental/chart/swt/ChartPrintJob.java, +/* ===========================================================, + * JFreeChart : a free chart library for the Java(tm) platform, + * ===========================================================, + *, + * (C) Copyright 2000-2012, by Object Refinery Limited and Contributors., + *, + * Project Info:  http://www.jfree.org/jfreechart/index.html, + *, + * This library is free software; you can redistribute it and/or modify it, + * under the terms of the GNU Lesser General Public License as published by, + * the Free Software Foundation; either version 2.1 of the License, or, + * (at your option) any later version., + *, + * This library is distributed in the hope that it will be useful, but, + * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY, + * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public, + * License for more details., + *, + * You should have received a copy of the GNU Lesser General Public, + * License along with this library; if not, write to the Free Software, + * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301,, + * USA., + *, + * [Oracle and Java are registered trademarks of Oracle and/or its affiliates. , + * Other names may be trademarks of their respective owners.], + *, + * ------------------, + * ChartPrintJob.java, + * ------------------, + * (C) Copyright 2012, by Jonas Rüttimann., + *, + * Original Author:  Jonas Rüttimann;, + * Contributor(s):   -, + *, + * Changes, + * -------, + * 05-Jul-2012 : Version 1, from bug 2963199 (JR);, + *, + */, +, +package org.jfree.experimental.chart.swt;, +, +import org.eclipse.swt.graphics.GC;, +import org.eclipse.swt.graphics.Image;, +import org.eclipse.swt.graphics.Point;, +import org.eclipse.swt.graphics.Rectangle;, +import org.eclipse.swt.printing.PrintDialog;, +import org.eclipse.swt.printing.Printer;, +import org.eclipse.swt.printing.PrinterData;, +import org.eclipse.swt.widgets.Composite;, +, +/**, + * Printer job for SWT., + */, +public class ChartPrintJob {, +, +    /**, +     * Border on the paper not to print on (in inches), +     */, +    private static final double BORDER = 0.8;, +, +    private String jobName;, +, +    /**, +     * Creates a new job., +     * , +     * @param jobName  this will be the name of the print job or the default , +     *     name of the file (if printed to a file)., +     */, +    public ChartPrintJob(String jobName) {, +        this.jobName = jobName;, +    }, +, +    /** , +     * Prints the specified element., +     * , +     * @param elementToPrint  the {@link Composite} to be printed., +     */, +    public void print(Composite elementToPrint) {, +        PrintDialog dialog = new PrintDialog(elementToPrint.getShell());, +        PrinterData printerData = dialog.open();, +        if (printerData == null) {, +            return; // Anwender hat abgebrochen., +        }, +        startPrintJob(elementToPrint, printerData);, +    }, +, +    protected void startPrintJob(Composite elementToPrint, , +            PrinterData printerData) {, +        Printer printer = new Printer(printerData);, +        try {]