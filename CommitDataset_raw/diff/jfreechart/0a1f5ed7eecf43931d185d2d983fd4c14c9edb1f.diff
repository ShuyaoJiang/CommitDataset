[+++ b/ChangeLog, +    Bug fix 2201869 by Fawad Halim (with modifications):, +    * source/org/jfree/chart/axis/DateAxis.java, +    (previousStandardDate): Use new Month constructor,, +    (correctTickDateForPosition): New private method,, +    (refreshTicksHorizontal): Moved position correction to top of loop,, +    (refreshTicksVertical): Likewise,, +    * source/org/jfree/data/time/Month.java, +    (Month(Date, TimeZone)): Deprecated,, +    (Month(Date, TimeZone, Locale)): New constructor,, +    * source/org/jfree/data/time/Quarter.java, +    (Quarter(Date, TimeZone)): Deprecated,, +    (Quarter(Date, TimeZone, Locale)): New constructor,, +    * source/org/jfree/data/time/Year.java, +    (Year(Date, TimeZone)): Deprecated,, +    (Year(Date, TimeZone, Locale)): New constructor., +, +2008-11-25  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/ChangeLog, +    Bug fix 2201869 by Fawad Halim (with modifications):, +    * source/org/jfree/chart/axis/DateAxis.java, +    (previousStandardDate): Use new Month constructor,, +    (correctTickDateForPosition): New private method,, +    (refreshTicksHorizontal): Moved position correction to top of loop,, +    (refreshTicksVertical): Likewise,, +    * source/org/jfree/data/time/Month.java, +    (Month(Date, TimeZone)): Deprecated,, +    (Month(Date, TimeZone, Locale)): New constructor,, +    * source/org/jfree/data/time/Quarter.java, +    (Quarter(Date, TimeZone)): Deprecated,, +    (Quarter(Date, TimeZone, Locale)): New constructor,, +    * source/org/jfree/data/time/Year.java, +    (Year(Date, TimeZone)): Deprecated,, +    (Year(Date, TimeZone, Locale)): New constructor., +, +2008-11-25  David Gilbert  <david.gilbert@object-refinery.com>, +, +++ b/source/org/jfree/chart/axis/DateAxis.java, + *                   Fawad Halim (bug 2201869);, + * 25-Nov-2008 : Added bug fix 2201869 by Fawad Halim (DG);, +                Month month = new Month(calendar.getTime(), this.timeZone,, +                        this.locale);, +     * Corrects the given tick date for the position setting., +     *, +     * @param time  the tick date/time., +     * @param unit  the tick unit., +     * @param position  the tick position., +     *, +     * @return The adjusted time., +     */, +    private Date correctTickDateForPosition(Date time, DateTickUnit unit,, +            DateTickMarkPosition position) {, +        Date result = time;, +        switch (unit.getUnit()) {, +            case (DateTickUnit.MILLISECOND) :, +            case (DateTickUnit.SECOND) :, +            case (DateTickUnit.MINUTE) :, +            case (DateTickUnit.HOUR) :, +            case (DateTickUnit.DAY) :, +                break;, +            case (DateTickUnit.MONTH) :, +                result = calculateDateForPosition(new Month(time,, +                        this.timeZone, this.locale), position);, +                break;, +            case(DateTickUnit.YEAR) :, +                result = calculateDateForPosition(new Year(time,, +                        this.timeZone, this.locale), position);, +                break;, +, +            default: break;, +        }, +        return result;, +    }, +, +    /**, +            // could add a flag to make the following correction optional..., +            tickDate = correctTickDateForPosition(tickDate, unit,, +                    this.tickMarkPosition);, +, +, +            // could add a flag to make the following correction optional..., +            tickDate = correctTickDateForPosition(tickDate, unit,, +                    this.tickMarkPosition);, +, +++ b/ChangeLog, +    Bug fix 2201869 by Fawad Halim (with modifications):, +    * source/org/jfree/chart/axis/DateAxis.java, +    (previousStandardDate): Use new Month constructor,, +    (correctTickDateForPosition): New private method,, +    (refreshTicksHorizontal): Moved position correction to top of loop,, +    (refreshTicksVertical): Likewise,, +    * source/org/jfree/data/time/Month.java, +    (Month(Date, TimeZone)): Deprecated,, +    (Month(Date, TimeZone, Locale)): New constructor,, +    * source/org/jfree/data/time/Quarter.java, +    (Quarter(Date, TimeZone)): Deprecated,, +    (Quarter(Date, TimeZone, Locale)): New constructor,, +    * source/org/jfree/data/time/Year.java, +    (Year(Date, TimeZone)): Deprecated,]