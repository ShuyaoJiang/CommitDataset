[+++ b/ChangeLog, +2013-07-01  David Gilbert <david.gilbert@object-refinery.com>, +, +    * org/jfree/chart/annotation/TextAnnotation.java, +    (setText): Fire change event., +, +++ b/ChangeLog, +2013-07-01  David Gilbert <david.gilbert@object-refinery.com>, +, +    * org/jfree/chart/annotation/TextAnnotation.java, +    (setText): Fire change event., +, +++ b/source/org/jfree/chart/annotations/TextAnnotation.java, + * (C) Copyright 2000-2013, by Object Refinery Limited and Contributors., + * (C) Copyright 2002-2013, by Object Refinery Limited and Contributors., + * 01-Jul-2013 : Added missing AnnotationChangeEvent for setText() (DG);, +import org.jfree.chart.util.ParamChecks;, +        ParamChecks.nullNotPermitted(text, "text");, +     * Sets the text for the annotation and sends an , +     * {@link AnnotationChangeEvent} to all registered listeners., +        ParamChecks.nullNotPermitted(text, "text");, +        fireAnnotationChanged();, +        ParamChecks.nullNotPermitted(font, "font");, +        ParamChecks.nullNotPermitted(paint, "paint");, +        ParamChecks.nullNotPermitted(anchor, "anchor");, +        ParamChecks.nullNotPermitted(anchor, "anchor");, +++ b/ChangeLog, +2013-07-01  David Gilbert <david.gilbert@object-refinery.com>, +, +    * org/jfree/chart/annotation/TextAnnotation.java, +    (setText): Fire change event., +, +++ b/source/org/jfree/chart/annotations/TextAnnotation.java, + * (C) Copyright 2000-2013, by Object Refinery Limited and Contributors., + * (C) Copyright 2002-2013, by Object Refinery Limited and Contributors., + * 01-Jul-2013 : Added missing AnnotationChangeEvent for setText() (DG);, +import org.jfree.chart.util.ParamChecks;, +        ParamChecks.nullNotPermitted(text, "text");, +     * Sets the text for the annotation and sends an , +     * {@link AnnotationChangeEvent} to all registered listeners., +        ParamChecks.nullNotPermitted(text, "text");, +        fireAnnotationChanged();, +        ParamChecks.nullNotPermitted(font, "font");, +        ParamChecks.nullNotPermitted(paint, "paint");, +        ParamChecks.nullNotPermitted(anchor, "anchor");, +        ParamChecks.nullNotPermitted(anchor, "anchor");, +++ b/tests/org/jfree/chart/annotations/junit/TextAnnotationTests.java, + * (C) Copyright 2000-2013, by Object Refinery Limited and Contributors., + * (C) Copyright 2003-2013, by Object Refinery Limited and Contributors., + * 01-Jul-2013 : Added testChangeEvents() (DG);, +import org.jfree.chart.event.AnnotationChangeEvent;, +import org.jfree.chart.event.AnnotationChangeListener;, +public class TextAnnotationTests extends TestCase , +        implements AnnotationChangeListener {, + , +    /**, +     * Some tests to ensure that change events are generated as expected., +     */, +    public void testChangeEvents() {, +        TextAnnotation a = new CategoryTextAnnotation("Test", "A", 1.0);, +        a.addChangeListener(this);, +        this.lastEvent = null;, +        a.setText("B");, +        assertNotNull(this.lastEvent);, +                this.lastEvent = null;, +        a.setText("B");, +        assertNotNull(this.lastEvent);, +        , +        this.lastEvent = null;, +        a.setFont(new Font("SansSerif", Font.PLAIN, 12));, +        assertNotNull(this.lastEvent);, +, +        this.lastEvent = null;, +        a.setPaint(Color.BLUE);, +        assertNotNull(this.lastEvent);, +        , +        this.lastEvent = null;, +        a.setTextAnchor(TextAnchor.CENTER_LEFT);, +        assertNotNull(this.lastEvent);, +        , +        this.lastEvent = null;, +        a.setRotationAnchor(TextAnchor.CENTER_LEFT);, +        assertNotNull(this.lastEvent);, +, +        this.lastEvent = null;, +        a.setRotationAngle(123.4);, +        assertNotNull(this.lastEvent);, +   }, +, +    private AnnotationChangeEvent lastEvent;, +    , +    /**, +     * Receives notification of a change to an annotation., +     * , +     * @param event  the event. , +     */, +    public void annotationChanged(AnnotationChangeEvent event) {, +        this.lastEvent = event;  , +    }, + ]