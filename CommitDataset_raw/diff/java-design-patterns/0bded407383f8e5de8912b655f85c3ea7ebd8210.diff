[+++ b/dao/pom.xml, +<?xml version="1.0"?>, +<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0", +    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">, +  <modelVersion>4.0.0</modelVersion>, +  <parent>, +    <groupId>com.iluwatar</groupId>, +    <artifactId>java-design-patterns</artifactId>, +    <version>1.0-SNAPSHOT</version>, +  </parent>, +  <artifactId>dao</artifactId>, +  <dependencies>, +	<dependency>, +	    <groupId>org.hibernate</groupId>, +	    <artifactId>hibernate-core</artifactId>, +	</dependency>, +	<dependency>, +		<groupId>com.h2database</groupId>, +		<artifactId>h2</artifactId>, +	</dependency>  , +    <dependency>, +      <groupId>junit</groupId>, +      <artifactId>junit</artifactId>, +      <scope>test</scope>, +    </dependency>, +  </dependencies>, +</project>, +++ b/dao/pom.xml, +<?xml version="1.0"?>, +<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0", +    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">, +  <modelVersion>4.0.0</modelVersion>, +  <parent>, +    <groupId>com.iluwatar</groupId>, +    <artifactId>java-design-patterns</artifactId>, +    <version>1.0-SNAPSHOT</version>, +  </parent>, +  <artifactId>dao</artifactId>, +  <dependencies>, +	<dependency>, +	    <groupId>org.hibernate</groupId>, +	    <artifactId>hibernate-core</artifactId>, +	</dependency>, +	<dependency>, +		<groupId>com.h2database</groupId>, +		<artifactId>h2</artifactId>, +	</dependency>  , +    <dependency>, +      <groupId>junit</groupId>, +      <artifactId>junit</artifactId>, +      <scope>test</scope>, +    </dependency>, +  </dependencies>, +</project>, +++ b/dao/src/main/java/com/iluwatar/App.java, +package com.iluwatar;, +, +import java.util.List;, +, +import org.hibernate.Query;, +import org.hibernate.Session;, +import org.hibernate.SessionFactory;, +import org.hibernate.cfg.Configuration;, +, +public class App , +{, +    public static void main( String[] args ) {, +    	, +    	SessionFactory sessionFactory = new Configuration(), +    	  .addAnnotatedClass(Wizard.class), +    	  .addAnnotatedClass(Spellbook.class), +    	  .addAnnotatedClass(Spell.class), +    	  .setProperty("hibernate.dialect", "org.hibernate.dialect.H2Dialect"), +    	  .setProperty("hibernate.connection.url", "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1"), +    	  .setProperty("hibernate.current_session_context_class", "thread"), +    	  .setProperty("hibernate.show_sql", "true"), +    	  .setProperty("hibernate.hbm2ddl.auto", "create"), +    	  .buildSessionFactory();, +    	  , +    	  Session session = sessionFactory.getCurrentSession();, +    	  session.beginTransaction();, +    	  Wizard wizard = new Wizard();, +    	  wizard.setFirstName("Jugga");, +    	  Spellbook spellbook = new Spellbook();, +    	  Spell spell = new Spell();, +    	  spellbook.getSpells().add(spell);, +    	  wizard.getSpellbooks().add(spellbook);, +    	  session.persist(wizard);, +    	  Query query = session.createQuery("from Wizard");, +    	  List<?> list = query.list();, +    	  Wizard p1 = (Wizard) list.get(0);, +    	  System.out.println(String.format("id=%d firstName=%s", p1.getId(), p1.getFirstName()));, +    	  session.getTransaction().commit();    	, +    }, +}, +++ b/dao/pom.xml, +<?xml version="1.0"?>, +<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0", +    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">, +  <modelVersion>4.0.0</modelVersion>]