[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpObjectAggregator.java, +    public void channelInactive(ChannelHandlerContext ctx) throws Exception {, +        super.channelInactive(ctx);, +, +        // release current message if it is not null as it may be a left-over, +        if (currentMessage != null) {, +            currentMessage.release();, +            currentMessage = null;, +        }, +    }, +, +    @Override, +, +    @Override, +    public void handlerRemoved(ChannelHandlerContext ctx) throws Exception {, +        super.handlerRemoved(ctx);, +        // release current message if it is not null as it may be a left-over as there is not much more we can do in, +        // this case, +        if (currentMessage != null) {, +            currentMessage.release();, +            currentMessage = null;, +        }, +    }, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpObjectAggregator.java, +    public void channelInactive(ChannelHandlerContext ctx) throws Exception {, +        super.channelInactive(ctx);, +, +        // release current message if it is not null as it may be a left-over, +        if (currentMessage != null) {, +            currentMessage.release();, +            currentMessage = null;, +        }, +    }, +, +    @Override, +, +    @Override, +    public void handlerRemoved(ChannelHandlerContext ctx) throws Exception {, +        super.handlerRemoved(ctx);, +        // release current message if it is not null as it may be a left-over as there is not much more we can do in, +        // this case, +        if (currentMessage != null) {, +            currentMessage.release();, +            currentMessage = null;, +        }, +    }, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketFrameAggregator.java, +, +    @Override, +    public void channelInactive(ChannelHandlerContext ctx) throws Exception {, +        super.channelInactive(ctx);, +, +        // release current frame if it is not null as it may be a left-over, +        if (currentFrame != null) {, +            currentFrame.release();, +            currentFrame = null;, +        }, +    }, +, +    @Override, +    public void handlerRemoved(ChannelHandlerContext ctx) throws Exception {, +        super.handlerRemoved(ctx);, +        // release current frane if it is not null as it may be a left-over as there is not much more we can do in, +        // this case, +        if (currentFrame != null) {, +            currentFrame.release();, +            currentFrame = null;, +        }, +    }]