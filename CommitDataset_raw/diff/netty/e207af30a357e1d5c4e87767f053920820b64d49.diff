[+++ b/transport/src/main/java/io/netty/channel/socket/nio/AbstractNioWorker.java, +        Selector selector = start();, +        , +        boolean offered = registerTaskQueue.offer(registerTask);, +        assert offered;, +        , +        if (wakenUp.compareAndSet(false, true)) {, +            selector.wakeup();, +        }, +    }, +, +    /**, +     * Start the {@link AbstractNioWorker} and return the {@link Selector} that will be used for the {@link AbstractNioChannel}'s when they get registered, +     * , +     * @return selector, +     */, +    private Selector start() {, +                    this.selector = Selector.open();, +                        this.selector = null;, +        return selector;, +        start();]