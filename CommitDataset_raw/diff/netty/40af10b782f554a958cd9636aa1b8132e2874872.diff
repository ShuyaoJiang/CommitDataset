[+++ b/handler/src/test/java/io/netty/handler/ssl/OpenSslEngineTest.java, +    private static boolean isNpnSupported(String versionString) {, +        String[] versionStringParts = versionString.split(" ", -1);, +        if (versionStringParts.length == 2 && "LibreSSL".equals(versionStringParts[0])) {, +            String[] versionParts = versionStringParts[1].split("\\.", -1);, +            if (versionParts.length == 3) {, +                int major = Integer.parseInt(versionParts[0]);, +                if (major < 2) {, +                    return true;, +                }, +                if (major > 2) {, +                    return false;, +                }, +                int minor = Integer.parseInt(versionParts[1]);, +                if (minor < 6) {, +                    return true;, +                }, +                if (minor > 6) {, +                    return false;, +                }, +                int bugfix = Integer.parseInt(versionParts[2]);, +                if (bugfix > 0) {, +                    return false;, +                }, +            }, +        }, +        return true;, +    }, +        String versionString = OpenSsl.versionString();, +        assumeTrue("LibreSSL 2.6.1 removed NPN support, detected " + versionString, isNpnSupported(versionString));, +++ b/handler/src/test/java/io/netty/handler/ssl/OpenSslEngineTest.java, +    private static boolean isNpnSupported(String versionString) {, +        String[] versionStringParts = versionString.split(" ", -1);, +        if (versionStringParts.length == 2 && "LibreSSL".equals(versionStringParts[0])) {, +            String[] versionParts = versionStringParts[1].split("\\.", -1);, +            if (versionParts.length == 3) {, +                int major = Integer.parseInt(versionParts[0]);, +                if (major < 2) {, +                    return true;, +                }, +                if (major > 2) {, +                    return false;, +                }, +                int minor = Integer.parseInt(versionParts[1]);, +                if (minor < 6) {, +                    return true;, +                }, +                if (minor > 6) {, +                    return false;, +                }, +                int bugfix = Integer.parseInt(versionParts[2]);, +                if (bugfix > 0) {, +                    return false;, +                }, +            }, +        }, +        return true;, +    }, +        String versionString = OpenSsl.versionString();, +        assumeTrue("LibreSSL 2.6.1 removed NPN support, detected " + versionString, isNpnSupported(versionString));, +++ b/handler/src/test/java/io/netty/handler/ssl/SSLEngineTest.java, +        assertEquals(expectedApplicationProtocol, appProto);]