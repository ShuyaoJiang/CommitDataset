[+++ b/transport/src/main/java/io/netty/channel/socket/oio/AbstractOioByteChannel.java, +            for (;;) {, +                if (byteBuf.writable()) {, +                    continue;, +                }, +, +                final int capacity = byteBuf.capacity();, +                final int maxCapacity = byteBuf.maxCapacity();, +                if (capacity == maxCapacity) {, +                } else {, +                    final int writerIndex = byteBuf.writerIndex();, +                    if (writerIndex + available > maxCapacity) {, +                        byteBuf.capacity(maxCapacity);, +                    } else {, +                        byteBuf.ensureWritableBytes(available);, +                    }, +, +            if (t instanceof IOException) {, +                closed = true;, +                pipeline.fireExceptionCaught(t);, +            } else {, +            } else if (!firedInboundBufferSuspeneded) {, +                pipeline.fireInboundBufferSuspended();]