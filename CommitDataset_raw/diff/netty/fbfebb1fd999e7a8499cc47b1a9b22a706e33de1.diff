[+++ b/src/main/java/org/jboss/netty/handler/timeout/WriteTimeoutHandler.java, +            future.addListener(new TimeoutCanceller(timeout));, +, +    /**, +     * @author The Netty Project (netty-dev@lists.jboss.org), +     * @author Trustin Lee (tlee@redhat.com), +     * @version $Rev$, $Date$, +     */, +    private static final class TimeoutCanceller implements ChannelFutureListener {, +        private final Timeout timeout;, +    , +        TimeoutCanceller(Timeout timeout) {, +            this.timeout = timeout;, +        }, +    , +        public void operationComplete(ChannelFuture future) throws Exception {, +            timeout.cancel();, +        }, +    }]