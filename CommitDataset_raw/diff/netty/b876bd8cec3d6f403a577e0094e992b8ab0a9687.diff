[+++ b/src/main/java/org/jboss/netty/util/LinkedTransferQueue.java, +    private static final QNode UNDEFINED = new QNode(null, false);, +, +    Object clean(final QNode pred, final QNode s) {, +        QNode olddp = UNDEFINED;, +, +            boolean stateUnchanged = true;, +                    stateUnchanged = false;, +, +                if (stateUnchanged && olddp == dp) {, +                    return null;      // infinite loop expected - bail out, +                } else {, +                    olddp = dp;, +                }]