[+++ b/transport/src/main/java/io/netty/channel/ChannelOutboundBuffer.java, +        ByteBuffer[] nioBuffers = this.nioBuffers;, +                if (nioBufferCount + count > nioBuffers.length) {, +                if (buf.isDirect() || !alloc.isDirectBufferPooled()) {, +                    if (buf.nioBufferCount() == 1) {, +                        nioBufferCount = fillBufferArray(buf, nioBuffers, nioBufferCount);, +                } else {, +                    nioBufferCount = fillBufferArrayNonDirect(buffer[i], buf, readerIndex,, +                            readableBytes, alloc, nioBuffers, nioBufferCount);, +                }, +            }, +            i = i + 1 & mask;, +        }, +        this.nioBufferCount = nioBufferCount;, +        this.nioBufferSize = nioBufferSize;, +, +        return nioBuffers;, +    }, +, +    private static int fillBufferArray(ByteBuf buf, ByteBuffer[] nioBuffers, int nioBufferCount) {, +        ByteBuffer[] nioBufs = buf.nioBuffers();, +        return nioBufferCount;, +, +    private static int fillBufferArrayNonDirect(Entry entry, ByteBuf buf, int readerIndex, int readableBytes,, +                                      ByteBufAllocator alloc, ByteBuffer[] nioBuffers, int nioBufferCount) {, +        entry.msg = directBuf;, +        return nioBufferCount;]