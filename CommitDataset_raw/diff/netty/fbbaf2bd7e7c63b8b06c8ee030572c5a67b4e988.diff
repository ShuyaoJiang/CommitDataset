[+++ b/buffer/src/test/java/io/netty/buffer/ByteBufUtilTest.java, +        byte[][] validUtf8Bytes = {, +                {(byte) 0x24},, +                {(byte) 0xC2, (byte) 0xA2},, +                {(byte) 0xE2, (byte) 0x82, (byte) 0xAC},, +                {(byte) 0xF0, (byte) 0x90, (byte) 0x8D, (byte) 0x88},, +                {(byte) 0x24,, +        byte[][] invalidUtf8Bytes = {, +                {(byte) 0x80},, +                {(byte) 0xF0, (byte) 0x82, (byte) 0x82, (byte) 0xAC}, // Overlong encodings, +                {(byte) 0xC2},                                        // not enough bytes, +                {(byte) 0xE2, (byte) 0x82},                           // not enough bytes, +                {(byte) 0xF0, (byte) 0x90, (byte) 0x8D},              // not enough bytes, +                {(byte) 0xC2, (byte) 0xC0},                           // not correct bytes, +                {(byte) 0xE2, (byte) 0x82, (byte) 0xC0},              // not correct bytes, +                {(byte) 0xF0, (byte) 0x90, (byte) 0x8D, (byte) 0xC0}, // not correct bytes, +                {(byte) 0xC1, (byte) 0x80},                           // out of lower bound, +                {(byte) 0xE0, (byte) 0x80, (byte) 0x80},              // out of lower bound, +                {(byte) 0xED, (byte) 0xAF, (byte) 0x80}               // out of upper bound, +        byte[] validBytes = {(byte) 0x01, (byte) 0xD8, (byte) 0x37, (byte) 0xDC};, +        byte[] invalidBytes = {(byte) 0x01, (byte) 0xD8};, +        byte[] validBytes = {(byte) 0x00, (byte) 0x01, (byte) 0x37, (byte) 0x7F};, +        byte[] invalidBytes = {(byte) 0x80, (byte) 0xFF};, +            int[][] validIndexLengthPairs = {, +                    {4, 0},, +                    {0, 4},, +                    {1, 3},, +            int[][] invalidIndexLengthPairs = {, +                    {4, 1},, +                    {-1, 2},, +                    {3, -1},, +                    {3, -2},, +                    {5, 0},, +                    {1, 5},, +++ b/buffer/src/test/java/io/netty/buffer/ByteBufUtilTest.java, +        byte[][] validUtf8Bytes = {, +                {(byte) 0x24},, +                {(byte) 0xC2, (byte) 0xA2},, +                {(byte) 0xE2, (byte) 0x82, (byte) 0xAC},, +                {(byte) 0xF0, (byte) 0x90, (byte) 0x8D, (byte) 0x88},, +                {(byte) 0x24,, +        byte[][] invalidUtf8Bytes = {, +                {(byte) 0x80},, +                {(byte) 0xF0, (byte) 0x82, (byte) 0x82, (byte) 0xAC}, // Overlong encodings, +                {(byte) 0xC2},                                        // not enough bytes, +                {(byte) 0xE2, (byte) 0x82},                           // not enough bytes, +                {(byte) 0xF0, (byte) 0x90, (byte) 0x8D},              // not enough bytes, +                {(byte) 0xC2, (byte) 0xC0},                           // not correct bytes, +                {(byte) 0xE2, (byte) 0x82, (byte) 0xC0},              // not correct bytes, +                {(byte) 0xF0, (byte) 0x90, (byte) 0x8D, (byte) 0xC0}, // not correct bytes, +                {(byte) 0xC1, (byte) 0x80},                           // out of lower bound, +                {(byte) 0xE0, (byte) 0x80, (byte) 0x80},              // out of lower bound, +                {(byte) 0xED, (byte) 0xAF, (byte) 0x80}               // out of upper bound, +        byte[] validBytes = {(byte) 0x01, (byte) 0xD8, (byte) 0x37, (byte) 0xDC};, +        byte[] invalidBytes = {(byte) 0x01, (byte) 0xD8};, +        byte[] validBytes = {(byte) 0x00, (byte) 0x01, (byte) 0x37, (byte) 0x7F};, +        byte[] invalidBytes = {(byte) 0x80, (byte) 0xFF};, +            int[][] validIndexLengthPairs = {, +                    {4, 0},, +                    {0, 4},, +                    {1, 3},, +            int[][] invalidIndexLengthPairs = {, +                    {4, 1},, +                    {-1, 2},, +                    {3, -1},, +                    {3, -2},, +                    {5, 0},, +                    {1, 5},, +++ b/buffer/src/test/java/io/netty/buffer/FixedCompositeByteBufTest.java, +++ b/buffer/src/test/java/io/netty/buffer/ByteBufUtilTest.java, +        byte[][] validUtf8Bytes = {, +                {(byte) 0x24},, +                {(byte) 0xC2, (byte) 0xA2},, +                {(byte) 0xE2, (byte) 0x82, (byte) 0xAC},, +                {(byte) 0xF0, (byte) 0x90, (byte) 0x8D, (byte) 0x88},, +                {(byte) 0x24,, +        byte[][] invalidUtf8Bytes = {, +                {(byte) 0x80},, +                {(byte) 0xF0, (byte) 0x82, (byte) 0x82, (byte) 0xAC}, // Overlong encodings, +                {(byte) 0xC2},                                        // not enough bytes, +                {(byte) 0xE2, (byte) 0x82},                           // not enough bytes, +                {(byte) 0xF0, (byte) 0x90, (byte) 0x8D},              // not enough bytes, +                {(byte) 0xC2, (byte) 0xC0},                           // not correct bytes, +                {(byte) 0xE2, (byte) 0x82, (byte) 0xC0},              // not correct bytes, +                {(byte) 0xF0, (byte) 0x90, (byte) 0x8D, (byte) 0xC0}, // not correct bytes, +                {(byte) 0xC1, (byte) 0x80},                           // out of lower bound, +                {(byte) 0xE0, (byte) 0x80, (byte) 0x80},              // out of lower bound, +                {(byte) 0xED, (byte) 0xAF, (byte) 0x80}               // out of upper bound, +        byte[] validBytes = {(byte) 0x01, (byte) 0xD8, (byte) 0x37, (byte) 0xDC};, +        byte[] invalidBytes = {(byte) 0x01, (byte) 0xD8};, +        byte[] validBytes = {(byte) 0x00, (byte) 0x01, (byte) 0x37, (byte) 0x7F};, +        byte[] invalidBytes = {(byte) 0x80, (byte) 0xFF};, +            int[][] validIndexLengthPairs = {, +                    {4, 0},, +                    {0, 4},, +                    {1, 3},, +            int[][] invalidIndexLengthPairs = {, +                    {4, 1},, +                    {-1, 2},, +                    {3, -1},]