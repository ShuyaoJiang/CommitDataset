[+++ b/transport-native-epoll/src/main/c/netty_unix_errors.c, +static jint netty_unix_errors_errorECONNREFUSED(JNIEnv* env, jclass clazz) {, +    return ECONNREFUSED;, +}, +, +  { "errorECONNREFUSED", "()I", (void *) netty_unix_errors_errorECONNREFUSED },, +++ b/transport-native-epoll/src/main/c/netty_unix_errors.c, +static jint netty_unix_errors_errorECONNREFUSED(JNIEnv* env, jclass clazz) {, +    return ECONNREFUSED;, +}, +, +  { "errorECONNREFUSED", "()I", (void *) netty_unix_errors_errorECONNREFUSED },, +++ b/transport-native-epoll/src/main/java/io/netty/channel/unix/Errors.java, +import static io.netty.channel.unix.ErrorsStaticallyReferencedJniMethods.errorECONNREFUSED;, +    public static final int ERROR_ECONNREFUSED_NEGATIVE = -errorECONNREFUSED();, +    static final class NativeConnectException extends ConnectException {, +        private static final long serialVersionUID = -5532328671712318161L;, +        private final int expectedErr;, +        NativeConnectException(String method, int expectedErr) {, +            super(method);, +            this.expectedErr = expectedErr;, +        }, +, +        int expectedErr() {, +            return expectedErr;, +        }, +    }, +, +    static void throwConnectException(String method, NativeConnectException refusedCause, int err), +            throws ConnectException {, +        if (err == refusedCause.expectedErr()) {, +            throw refusedCause;, +        }, +        throw new ConnectException(method + "() failed: " + ERRORS[-err]);, +++ b/transport-native-epoll/src/main/c/netty_unix_errors.c, +static jint netty_unix_errors_errorECONNREFUSED(JNIEnv* env, jclass clazz) {, +    return ECONNREFUSED;, +}, +, +  { "errorECONNREFUSED", "()I", (void *) netty_unix_errors_errorECONNREFUSED },, +++ b/transport-native-epoll/src/main/java/io/netty/channel/unix/Errors.java, +import static io.netty.channel.unix.ErrorsStaticallyReferencedJniMethods.errorECONNREFUSED;, +    public static final int ERROR_ECONNREFUSED_NEGATIVE = -errorECONNREFUSED();, +    static final class NativeConnectException extends ConnectException {, +        private static final long serialVersionUID = -5532328671712318161L;, +        private final int expectedErr;, +        NativeConnectException(String method, int expectedErr) {, +            super(method);, +            this.expectedErr = expectedErr;, +        }, +, +        int expectedErr() {, +            return expectedErr;, +        }, +    }, +, +    static void throwConnectException(String method, NativeConnectException refusedCause, int err), +            throws ConnectException {, +        if (err == refusedCause.expectedErr()) {, +            throw refusedCause;, +        }, +        throw new ConnectException(method + "() failed: " + ERRORS[-err]);, +++ b/transport-native-epoll/src/main/java/io/netty/channel/unix/ErrorsStaticallyReferencedJniMethods.java, +    static native int errorECONNREFUSED();, +++ b/transport-native-epoll/src/main/c/netty_unix_errors.c, +static jint netty_unix_errors_errorECONNREFUSED(JNIEnv* env, jclass clazz) {, +    return ECONNREFUSED;, +}, +, +  { "errorECONNREFUSED", "()I", (void *) netty_unix_errors_errorECONNREFUSED },, +++ b/transport-native-epoll/src/main/java/io/netty/channel/unix/Errors.java, +import static io.netty.channel.unix.ErrorsStaticallyReferencedJniMethods.errorECONNREFUSED;, +    public static final int ERROR_ECONNREFUSED_NEGATIVE = -errorECONNREFUSED();, +    static final class NativeConnectException extends ConnectException {, +        private static final long serialVersionUID = -5532328671712318161L;, +        private final int expectedErr;, +        NativeConnectException(String method, int expectedErr) {, +            super(method);, +            this.expectedErr = expectedErr;, +        }, +, +        int expectedErr() {, +            return expectedErr;, +        }, +    }, +, +    static void throwConnectException(String method, NativeConnectException refusedCause, int err), +            throws ConnectException {, +        if (err == refusedCause.expectedErr()) {, +            throw refusedCause;, +        }, +        throw new ConnectException(method + "() failed: " + ERRORS[-err]);, +++ b/transport-native-epoll/src/main/java/io/netty/channel/unix/ErrorsStaticallyReferencedJniMethods.java, +    static native int errorECONNREFUSED();, +++ b/transport-native-epoll/src/main/java/io/netty/channel/unix/Socket.java, +import static io.netty.channel.unix.Errors.throwConnectException;, +import static io.netty.util.internal.ThrowableUtil.unknownStackTrace;, +    private static final ClosedChannelException SHUTDOWN_CLOSED_CHANNEL_EXCEPTION = unknownStackTrace(, +    private static final ClosedChannelException SEND_TO_CLOSED_CHANNEL_EXCEPTION = unknownStackTrace(, +            unknownStackTrace(new ClosedChannelException(), Socket.class, "sendToAddress(...)");]