[+++ b/common/src/main/java/io/netty/util/NetUtil.java, +import java.net.Inet4Address;, +import java.net.Inet6Address;, +     * The {@link Inet4Address} that represents the IPv4 loopback address '127.0.0.1', +     */, +    public static final Inet4Address LOCALHOST4;, +, +    /**, +     * The {@link Inet6Address} that represents the IPv6 loopback address '::1', +     */, +    public static final Inet6Address LOCALHOST6;, +, +    /**, +     * The {@link InetAddress} that represents the loopback address. If IPv6 stack is available, it will refer to, +     * {@link #LOCALHOST6}.  Otherwise, {@link #LOCALHOST4}., +        // Create IPv4 loopback address., +        Inet4Address localhost4 = null;, +            localhost4 = (Inet4Address) InetAddress.getByAddress(new byte[]{127, 0, 0, 1});, +        LOCALHOST4 = localhost4;, +        // Create IPv6 loopback address., +        Inet6Address localhost6 = null;, +            localhost6 = (Inet6Address) InetAddress.getByAddress(new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1});, +        } catch (Exception e) {, +            // We should not get here as long as the length of the address is correct., +            PlatformDependent.throwException(e);, +        }, +        LOCALHOST6 = localhost6;, +, +        // Try to determine the default loopback address if we couldn't yet., +        if (localhost == null) {, +            try {, +                if (NetworkInterface.getByInetAddress(LOCALHOST6) != null) {]