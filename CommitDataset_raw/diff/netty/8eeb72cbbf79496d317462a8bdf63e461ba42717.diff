[+++ b/src/main/java/org/jboss/netty/handler/codec/frame/DelimiterBasedFrameDecoder.java, +                frame = buffer.readBytes(minFrameLength);, +                buffer.skipBytes(minDelimLength);, +                frame = buffer.readBytes(minFrameLength + minDelimLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/DelimiterBasedFrameDecoder.java, +                frame = buffer.readBytes(minFrameLength);, +                buffer.skipBytes(minDelimLength);, +                frame = buffer.readBytes(minFrameLength + minDelimLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/FixedLengthFrameDecoder.java, +            return buffer.readBytes(frameLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/DelimiterBasedFrameDecoder.java, +                frame = buffer.readBytes(minFrameLength);, +                buffer.skipBytes(minDelimLength);, +                frame = buffer.readBytes(minFrameLength + minDelimLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/FixedLengthFrameDecoder.java, +            return buffer.readBytes(frameLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/FrameDecoder.java, +import java.util.concurrent.atomic.AtomicReference;, +    private final AtomicReference<ChannelBuffer> cumulation =, +        new AtomicReference<ChannelBuffer>();, +        ChannelBuffer cumulation = cumulation(ctx);, +            cumulation.discardReadBytes();, +            cumulation.writeBytes(input);, +        } else {, +            callDecode(ctx, e.getChannel(), input, e.getRemoteAddress());, +            if (input.readable()) {, +                cumulation.writeBytes(input);, +            }, +            ChannelBuffer cumulation = this.cumulation.getAndSet(null);, +            if (cumulation == null) {, +, +    private ChannelBuffer cumulation(ChannelHandlerContext ctx) {, +        ChannelBuffer buf = cumulation.get();, +        if (buf == null) {, +            buf = ChannelBuffers.dynamicBuffer(, +                    ctx.getChannel().getConfig().getBufferFactory());, +            if (!cumulation.compareAndSet(null, buf)) {, +                buf = cumulation.get();, +            }, +        }, +        return buf;, +    }, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/DelimiterBasedFrameDecoder.java, +                frame = buffer.readBytes(minFrameLength);, +                buffer.skipBytes(minDelimLength);, +                frame = buffer.readBytes(minFrameLength + minDelimLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/FixedLengthFrameDecoder.java, +            return buffer.readBytes(frameLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/FrameDecoder.java, +import java.util.concurrent.atomic.AtomicReference;, +    private final AtomicReference<ChannelBuffer> cumulation =, +        new AtomicReference<ChannelBuffer>();, +        ChannelBuffer cumulation = cumulation(ctx);, +            cumulation.discardReadBytes();, +            cumulation.writeBytes(input);, +        } else {, +            callDecode(ctx, e.getChannel(), input, e.getRemoteAddress());, +            if (input.readable()) {, +                cumulation.writeBytes(input);, +            }, +            ChannelBuffer cumulation = this.cumulation.getAndSet(null);, +            if (cumulation == null) {, +, +    private ChannelBuffer cumulation(ChannelHandlerContext ctx) {, +        ChannelBuffer buf = cumulation.get();, +        if (buf == null) {, +            buf = ChannelBuffers.dynamicBuffer(, +                    ctx.getChannel().getConfig().getBufferFactory());, +            if (!cumulation.compareAndSet(null, buf)) {, +                buf = cumulation.get();, +            }, +        }, +        return buf;, +    }, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/LengthFieldBasedFrameDecoder.java, +        buffer.skipBytes(initialBytesToStrip);, +        return buffer.readBytes(frameLengthInt - initialBytesToStrip);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/DelimiterBasedFrameDecoder.java, +                frame = buffer.readBytes(minFrameLength);, +                buffer.skipBytes(minDelimLength);, +                frame = buffer.readBytes(minFrameLength + minDelimLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/FixedLengthFrameDecoder.java, +            return buffer.readBytes(frameLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/FrameDecoder.java, +import java.util.concurrent.atomic.AtomicReference;, +    private final AtomicReference<ChannelBuffer> cumulation =, +        new AtomicReference<ChannelBuffer>();, +        ChannelBuffer cumulation = cumulation(ctx);, +            cumulation.discardReadBytes();, +            cumulation.writeBytes(input);, +        } else {, +            callDecode(ctx, e.getChannel(), input, e.getRemoteAddress());, +            if (input.readable()) {, +                cumulation.writeBytes(input);, +            }, +            ChannelBuffer cumulation = this.cumulation.getAndSet(null);, +            if (cumulation == null) {, +, +    private ChannelBuffer cumulation(ChannelHandlerContext ctx) {, +        ChannelBuffer buf = cumulation.get();]