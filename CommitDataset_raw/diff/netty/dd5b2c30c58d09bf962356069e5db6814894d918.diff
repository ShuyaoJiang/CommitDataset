[+++ b/common/src/main/java/io/netty/util/collection/IntObjectHashMap.java, +        int hash = key % keys.length;, +        if (hash < 0) {, +            hash += keys.length;, +        }, +        return hash;, +++ b/common/src/main/java/io/netty/util/collection/IntObjectHashMap.java, +        int hash = key % keys.length;, +        if (hash < 0) {, +            hash += keys.length;, +        }, +        return hash;, +++ b/common/src/test/java/io/netty/util/collection/IntObjectHashMapTest.java, +    public void negativeKeyShouldSucceed() {, +        Value v = new Value("v");, +        map.put(-3, v);, +        assertEquals(1, map.size());, +        assertEquals(v, map.get(-3));, +    }, +, +    @Test]