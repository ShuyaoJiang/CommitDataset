[+++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        components = newList(0, maxNumComponents);, +        components = newList(len, maxNumComponents);, +        int len = buffers instanceof Collection ? ((Collection<ByteBuf>) buffers).size() : 0;, +, +        components = newList(len, maxNumComponents);, +    private static ComponentList newList(int initComponents, int maxNumComponents) {, +        int capacityGuess = Math.min(AbstractByteBufAllocator.DEFAULT_MAX_COMPONENTS, maxNumComponents);, +        return new ComponentList(Math.max(initComponents, capacityGuess));, +++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        components = newList(0, maxNumComponents);, +        components = newList(len, maxNumComponents);, +        int len = buffers instanceof Collection ? ((Collection<ByteBuf>) buffers).size() : 0;, +, +        components = newList(len, maxNumComponents);, +    private static ComponentList newList(int initComponents, int maxNumComponents) {, +        int capacityGuess = Math.min(AbstractByteBufAllocator.DEFAULT_MAX_COMPONENTS, maxNumComponents);, +        return new ComponentList(Math.max(initComponents, capacityGuess));, +++ b/buffer/src/main/java/io/netty/buffer/Unpooled.java, +        return wrappedBuffer(arrays.length, arrays);, +        return wrappedBuffer(buffers.length, buffers);, +        return wrappedBuffer(buffers.length, buffers);]