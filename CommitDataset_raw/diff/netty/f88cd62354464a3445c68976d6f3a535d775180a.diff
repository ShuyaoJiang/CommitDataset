[+++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/EpollSocketChannel.java, +                final ByteBuf buf = (ByteBuf) in.current();, +                in.progress(buf.readableBytes());, +                    in.progress(readableBytes);, +                    in.progress(readableBytes);, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/EpollSocketChannel.java, +                final ByteBuf buf = (ByteBuf) in.current();, +                in.progress(buf.readableBytes());, +                    in.progress(readableBytes);, +                    in.progress(readableBytes);, +++ b/transport/src/main/java/io/netty/channel/oio/AbstractOioByteChannel.java, +                int readableBytes = buf.readableBytes();, +                while (readableBytes > 0) {, +                    int newReadableBytes = buf.readableBytes();, +                    in.progress(readableBytes - newReadableBytes);, +                    readableBytes = newReadableBytes;, +                FileRegion region = (FileRegion) msg;, +                long transfered = region.transfered();, +                doWriteFileRegion(region);, +                in.progress(region.transfered() - transfered);, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/EpollSocketChannel.java, +                final ByteBuf buf = (ByteBuf) in.current();, +                in.progress(buf.readableBytes());, +                    in.progress(readableBytes);, +                    in.progress(readableBytes);, +++ b/transport/src/main/java/io/netty/channel/oio/AbstractOioByteChannel.java, +                int readableBytes = buf.readableBytes();, +                while (readableBytes > 0) {, +                    int newReadableBytes = buf.readableBytes();, +                    in.progress(readableBytes - newReadableBytes);, +                    readableBytes = newReadableBytes;, +                FileRegion region = (FileRegion) msg;, +                long transfered = region.transfered();, +                doWriteFileRegion(region);, +                in.progress(region.transfered() - transfered);, +++ b/transport/src/main/java/io/netty/channel/socket/nio/NioSocketChannel.java, +                    final ByteBuf buf = (ByteBuf) in.current();, +                    in.progress(buf.readableBytes());, +                    in.remove();]