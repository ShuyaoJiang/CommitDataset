[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioDatagramWorker.java, +                    if (localWrittenBytes > 0 || buf.finished()) {, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioDatagramWorker.java, +                    if (localWrittenBytes > 0 || buf.finished()) {, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/SocketSendBufferPool.java, +    private static final SendBuffer EMPTY_BUFFER = new EmptySendBuffer();, +, +        if (src.getCount() == 0) {, +            return EMPTY_BUFFER;, +        }, +        final int size = src.readableBytes();, +        if (size == 0) {, +            return EMPTY_BUFFER;, +        }, +, +, +, +, +    static final class EmptySendBuffer implements SendBuffer {, +, +        EmptySendBuffer() {, +            super();, +        }, +, +        public final boolean finished() {, +            return true;, +        }, +, +        public final long writtenBytes() {, +            return 0;, +        }, +, +        public final long totalBytes() {, +            return 0;, +        }, +, +        public final long transferTo(WritableByteChannel ch) throws IOException {, +            return 0;, +        }, +, +        public final long transferTo(DatagramChannel ch, SocketAddress raddr) throws IOException {, +            return 0;, +        }, +, +        public void release() {, +            // Unpooled., +        }, +    }]