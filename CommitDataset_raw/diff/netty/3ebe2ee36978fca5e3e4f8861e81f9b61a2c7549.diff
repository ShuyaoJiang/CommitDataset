[+++ b/codec/src/main/java/io/netty/handler/codec/compression/Bzip2Decoder.java, +, +++ b/codec/src/main/java/io/netty/handler/codec/compression/Bzip2Decoder.java, +, +++ b/codec/src/main/java/io/netty/handler/codec/compression/FastLzFrameDecoder.java, +import io.netty.util.internal.EmptyArrays;, +                    break;, +                    break;, +                    break;, +                final ByteBuf uncompressed;, +                final byte[] output;, +                final int outputPtr;, +, +                if (originalLength != 0) {, +                    uncompressed = ctx.alloc().heapBuffer(originalLength, originalLength);, +                    output = uncompressed.array();, +                    outputPtr = uncompressed.arrayOffset() + uncompressed.writerIndex();, +                } else {, +                    uncompressed = null;, +                    output = EmptyArrays.EMPTY_BYTES;, +                    outputPtr = 0;, +                }, +, +                    if (uncompressed != null) {, +                    }, +                break;, +++ b/codec/src/main/java/io/netty/handler/codec/compression/Bzip2Decoder.java, +, +++ b/codec/src/main/java/io/netty/handler/codec/compression/FastLzFrameDecoder.java, +import io.netty.util.internal.EmptyArrays;, +                    break;, +                    break;, +                    break;, +                final ByteBuf uncompressed;, +                final byte[] output;, +                final int outputPtr;, +, +                if (originalLength != 0) {, +                    uncompressed = ctx.alloc().heapBuffer(originalLength, originalLength);, +                    output = uncompressed.array();, +                    outputPtr = uncompressed.arrayOffset() + uncompressed.writerIndex();, +                } else {, +                    uncompressed = null;, +                    output = EmptyArrays.EMPTY_BYTES;, +                    outputPtr = 0;, +                }, +, +                    if (uncompressed != null) {, +                    }, +                break;, +++ b/codec/src/main/java/io/netty/handler/codec/compression/Lz4FrameDecoder.java, +                    break;, +                    break;, +                break;, +++ b/codec/src/main/java/io/netty/handler/codec/compression/Bzip2Decoder.java, +, +++ b/codec/src/main/java/io/netty/handler/codec/compression/FastLzFrameDecoder.java, +import io.netty.util.internal.EmptyArrays;, +                    break;, +                    break;, +                    break;, +                final ByteBuf uncompressed;, +                final byte[] output;, +                final int outputPtr;, +, +                if (originalLength != 0) {, +                    uncompressed = ctx.alloc().heapBuffer(originalLength, originalLength);, +                    output = uncompressed.array();, +                    outputPtr = uncompressed.arrayOffset() + uncompressed.writerIndex();, +                } else {, +                    uncompressed = null;, +                    output = EmptyArrays.EMPTY_BYTES;, +                    outputPtr = 0;, +                }, +, +                    if (uncompressed != null) {, +                    }, +                break;, +++ b/codec/src/main/java/io/netty/handler/codec/compression/Lz4FrameDecoder.java, +                    break;, +                    break;, +                break;, +++ b/codec/src/main/java/io/netty/handler/codec/compression/LzfDecoder.java, +                    break;, +                    break;, +                    break;, +                } else if (chunkLength > 0) {, +                break;]