[+++ b/src/main/java/org/jboss/netty/example/http/websocketx/client/App.java, +		System.exit(0);, +    	System.out.println("WebSocket Client connecting");, +    	System.out.println("WebSocket Client sending message");, +		// Ping, +    	System.out.println("WebSocket Client sending ping");, +		Thread.sleep(1000);, +, +		// Close, +    	System.out.println("WebSocket Client sending close");, +		Thread.sleep(1000);, +			System.out.println("WebSocket Client connected!");, +			System.out.println("WebSocket Client disconnected!");, +				System.out.println("WebSocket Client received message:" + textFrame.getText());, +				System.out.println("WebSocket Client received pong");, +				System.out.println("WebSocket Client received closing");, +			System.out.println("WebSocket Client error " + t.toString());, +++ b/src/main/java/org/jboss/netty/example/http/websocketx/client/App.java, +		System.exit(0);, +    	System.out.println("WebSocket Client connecting");, +    	System.out.println("WebSocket Client sending message");, +		// Ping, +    	System.out.println("WebSocket Client sending ping");, +		Thread.sleep(1000);, +, +		// Close, +    	System.out.println("WebSocket Client sending close");, +		Thread.sleep(1000);, +			System.out.println("WebSocket Client connected!");, +			System.out.println("WebSocket Client disconnected!");, +				System.out.println("WebSocket Client received message:" + textFrame.getText());, +				System.out.println("WebSocket Client received pong");, +				System.out.println("WebSocket Client received closing");, +			System.out.println("WebSocket Client error " + t.toString());, +++ b/src/main/java/org/jboss/netty/handler/codec/http/websocketx/WebSocket08FrameDecoder.java, +			//logger.debug("Frame length=" + framePayloadLength);, +			if (this.maskedPayload){, +			}, +			//logger.debug("Frame rbytes=" + rbytes + " willHaveReadByteCount=" + willHaveReadByteCount + " framePayloadLength=" + framePayloadLength);, +++ b/src/main/java/org/jboss/netty/example/http/websocketx/client/App.java, +		System.exit(0);, +    	System.out.println("WebSocket Client connecting");, +    	System.out.println("WebSocket Client sending message");, +		// Ping, +    	System.out.println("WebSocket Client sending ping");, +		Thread.sleep(1000);, +, +		// Close, +    	System.out.println("WebSocket Client sending close");, +		Thread.sleep(1000);, +			System.out.println("WebSocket Client connected!");, +			System.out.println("WebSocket Client disconnected!");, +				System.out.println("WebSocket Client received message:" + textFrame.getText());, +				System.out.println("WebSocket Client received pong");, +				System.out.println("WebSocket Client received closing");, +			System.out.println("WebSocket Client error " + t.toString());, +++ b/src/main/java/org/jboss/netty/handler/codec/http/websocketx/WebSocket08FrameDecoder.java, +			//logger.debug("Frame length=" + framePayloadLength);, +			if (this.maskedPayload){, +			}, +			//logger.debug("Frame rbytes=" + rbytes + " willHaveReadByteCount=" + willHaveReadByteCount + " framePayloadLength=" + framePayloadLength);, +++ b/src/main/java/org/jboss/netty/handler/codec/http/websocketx/WebSocket08FrameEncoder.java, +			if (data == null) {, +				data = ChannelBuffers.EMPTY_BUFFER;, +			}]