[+++ b/codec/src/main/java/io/netty/handler/codec/LengthFieldPrepender.java, +    private final int lengthAdjustment;, +        this(lengthFieldLength, 0, lengthIncludesLengthFieldLength);, +    }, +, +    /**, +     * Creates a new instance., +     *, +     * @param lengthFieldLength the length of the prepended length field., +     *                          Only 1, 2, 3, 4, and 8 are allowed., +     * @param lengthAdjustment  the compensation value to add to the value, +     *                          of the length field, +     *, +     * @throws IllegalArgumentException, +     *         if {@code lengthFieldLength} is not 1, 2, 3, 4, or 8, +     */, +    public LengthFieldPrepender(int lengthFieldLength, int lengthAdjustment) {, +        this(lengthFieldLength, lengthAdjustment, false);, +    }, +, +    /**, +     * Creates a new instance., +     *, +     * @param lengthFieldLength the length of the prepended length field., +     *                          Only 1, 2, 3, 4, and 8 are allowed., +     * @param lengthAdjustment  the compensation value to add to the value, +     *                          of the length field, +     * @param lengthIncludesLengthFieldLength, +     *                          if {@code true}, the length of the prepended, +     *                          length field is added to the value of the, +     *                          prepended length field., +     *, +     * @throws IllegalArgumentException, +     *         if {@code lengthFieldLength} is not 1, 2, 3, 4, or 8, +     */, +    public LengthFieldPrepender(int lengthFieldLength, int lengthAdjustment, boolean lengthIncludesLengthFieldLength) {, +        this.lengthAdjustment = lengthAdjustment;, +        int length = (lengthIncludesLengthFieldLength?, +                msg.readableBytes() + lengthFieldLength : msg.readableBytes()) +, +                lengthAdjustment;, +, +        if (length < 0) {, +            throw new IllegalArgumentException(, +                    "Adjusted frame length (" + length + ") is less than zero");, +        }, +, +++ b/codec/src/main/java/io/netty/handler/codec/LengthFieldPrepender.java, +    private final int lengthAdjustment;, +        this(lengthFieldLength, 0, lengthIncludesLengthFieldLength);, +    }, +, +    /**, +     * Creates a new instance., +     *, +     * @param lengthFieldLength the length of the prepended length field., +     *                          Only 1, 2, 3, 4, and 8 are allowed., +     * @param lengthAdjustment  the compensation value to add to the value, +     *                          of the length field, +     *, +     * @throws IllegalArgumentException, +     *         if {@code lengthFieldLength} is not 1, 2, 3, 4, or 8, +     */, +    public LengthFieldPrepender(int lengthFieldLength, int lengthAdjustment) {, +        this(lengthFieldLength, lengthAdjustment, false);, +    }, +, +    /**, +     * Creates a new instance., +     *, +     * @param lengthFieldLength the length of the prepended length field., +     *                          Only 1, 2, 3, 4, and 8 are allowed., +     * @param lengthAdjustment  the compensation value to add to the value, +     *                          of the length field, +     * @param lengthIncludesLengthFieldLength, +     *                          if {@code true}, the length of the prepended, +     *                          length field is added to the value of the, +     *                          prepended length field., +     *, +     * @throws IllegalArgumentException, +     *         if {@code lengthFieldLength} is not 1, 2, 3, 4, or 8, +     */, +    public LengthFieldPrepender(int lengthFieldLength, int lengthAdjustment, boolean lengthIncludesLengthFieldLength) {, +        this.lengthAdjustment = lengthAdjustment;, +        int length = (lengthIncludesLengthFieldLength?, +                msg.readableBytes() + lengthFieldLength : msg.readableBytes()) +, +                lengthAdjustment;, +, +        if (length < 0) {, +            throw new IllegalArgumentException(, +                    "Adjusted frame length (" + length + ") is less than zero");, +        }, +, +++ b/codec/src/test/java/io/netty/handler/codec/frame/LengthFieldPrependerTest.java, +/*, + * Copyright 2012 The Netty Project, + *, + * The Netty Project licenses this file to you under the Apache License,, + * version 2.0 (the "License"); you may not use this file except in compliance, + * with the License. You may obtain a copy of the License at:, + *]