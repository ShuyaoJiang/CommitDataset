[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker.java, +, +    /**, +     * Return the constructed raw path for the give {@link URI}., +     */, +    static String rawPath(URI wsURL) {, +        String path = wsURL.getRawPath();, +        String query = wsURL.getQuery();, +        if (query != null && !query.isEmpty()) {, +            path = path + '?' + query;, +        }, +, +        return path == null || path.isEmpty() ? "/" : path;, +    }, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker.java, +, +    /**, +     * Return the constructed raw path for the give {@link URI}., +     */, +    static String rawPath(URI wsURL) {, +        String path = wsURL.getRawPath();, +        String query = wsURL.getQuery();, +        if (query != null && !query.isEmpty()) {, +            path = path + '?' + query;, +        }, +, +        return path == null || path.isEmpty() ? "/" : path;, +    }, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker00.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker.java, +, +    /**, +     * Return the constructed raw path for the give {@link URI}., +     */, +    static String rawPath(URI wsURL) {, +        String path = wsURL.getRawPath();, +        String query = wsURL.getQuery();, +        if (query != null && !query.isEmpty()) {, +            path = path + '?' + query;, +        }, +, +        return path == null || path.isEmpty() ? "/" : path;, +    }, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker00.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker07.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker.java, +, +    /**, +     * Return the constructed raw path for the give {@link URI}., +     */, +    static String rawPath(URI wsURL) {, +        String path = wsURL.getRawPath();, +        String query = wsURL.getQuery();, +        if (query != null && !query.isEmpty()) {, +            path = path + '?' + query;, +        }, +, +        return path == null || path.isEmpty() ? "/" : path;, +    }, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker00.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker07.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker08.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker.java, +, +    /**, +     * Return the constructed raw path for the give {@link URI}., +     */, +    static String rawPath(URI wsURL) {, +        String path = wsURL.getRawPath();, +        String query = wsURL.getQuery();, +        if (query != null && !query.isEmpty()) {, +            path = path + '?' + query;, +        }, +, +        return path == null || path.isEmpty() ? "/" : path;, +    }, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker00.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker07.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker08.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker13.java, +        String path = rawPath(wsURL);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker.java, +, +    /**, +     * Return the constructed raw path for the give {@link URI}., +     */, +    static String rawPath(URI wsURL) {, +        String path = wsURL.getRawPath();, +        String query = wsURL.getQuery();, +        if (query != null && !query.isEmpty()) {, +            path = path + '?' + query;]