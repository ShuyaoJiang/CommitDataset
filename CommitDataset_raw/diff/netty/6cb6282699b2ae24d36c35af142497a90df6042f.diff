[+++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollStreamChannel.java, +    private Queue<SpliceInTask> spliceQueue;, +            addToSpliceQueue(new SpliceInChannelTask(ch, len, promise));, +     *   <li>this channel must be registered to an event loop or {@link IllegalStateException} will be thrown.</li>, +     *   <li>this channel must be registered to an event loop or {@link IllegalStateException} will be thrown.</li>, +            addToSpliceQueue(new SpliceFdTask(ch, offset, len, promise));, +        if (spliceQueue == null) {, +            return;, +        }, +                    if (spliceQueue != null) {, +                    }, +    private void addToSpliceQueue(final SpliceInTask task) {, +        EventLoop eventLoop = eventLoop();, +        if (eventLoop.inEventLoop()) {, +            addToSpliceQueue0(task);, +        } else {, +            eventLoop.execute(new OneTimeTask() {, +                @Override, +                public void run() {, +                    addToSpliceQueue0(task);, +                }, +            });, +        }, +    }, +, +    private void addToSpliceQueue0(SpliceInTask task) {, +        if (spliceQueue == null) {, +            spliceQueue = PlatformDependent.newMpscQueue();, +        }, +        spliceQueue.add(task);, +    }, +]