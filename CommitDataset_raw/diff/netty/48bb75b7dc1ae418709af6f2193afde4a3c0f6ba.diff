[+++ b/src/main/java/org/jboss/netty/handler/timeout/HashedWheelTimer.java, +    final Thread workerThread;, +                int oldStopIndex;, +                    oldStopIndex = stopIndex;, +                    stopIndex = newStopIndex = schedule(this, additionalDelay);, +, +                // Remove the timeout from the old bucket if necessary., +                // If this method is called from the worker thread, it means, +                // this timeout has been removed from the bucket already., +                if (oldStopIndex != newStopIndex &&, +                    Thread.currentThread() != workerThread) {, +                    wheel[oldStopIndex].remove(this);, +                }, +, +                // And add to the new bucket.  If added already, that's fine., +, +    public static void main(String[] args) throws Exception {, +        Timer timer = new HashedWheelTimer();, +        for (int i = 0; i < 100000; i ++) {, +            timer.newTimeout(new TimerTask() {, +                public void run(Timeout timeout) throws Exception {, +                    // Extend another second., +                    timeout.extend();, +                }, +            }, 1000, TimeUnit.MILLISECONDS);, +        }, +    }]