[+++ b/src/main/java/org/jboss/netty/handler/codec/http/HttpMessageDecoder.java, +import java.util.regex.Matcher;, +import java.util.regex.Pattern;, +, +    private static final Pattern INITIAL_PATTERN = Pattern.compile(, +            "^\\s*(\\S+)\\s+(\\S+)\\s+(.*)\\s*$");, +    private static final Pattern HEADER_PATTERN = Pattern.compile(, +            "^\\s*(\\S+)\\s*:\\s*(.*)\\s*$");, +, +            System.out.println("A");, +            System.out.println("B");, +            content = buffer.readBytes(length);, +        } else {, +    }, +        while (line.length() != 0) {, +, +        for (String n: message.getHeaderNames()) {, +            for (String v: message.getHeaders(n)) {, +                System.out.println(n + ": " + v);, +            }, +        }, +        if (message.getContentLength() >= 0) {, +                nextByte = channel.readByte();, +                if (nextByte == HttpCodecUtil.LF) {, +            }, +        Matcher m = INITIAL_PATTERN.matcher(sb);, +        if (m.matches()) {, +            return new String[] { m.group(1), m.group(2), m.group(3) };, +        } else {, +            throw new IllegalArgumentException("Invalid initial line: " + sb);, +        Matcher m = HEADER_PATTERN.matcher(sb);, +        if (m.matches()) {, +            return new String[] { m.group(1), m.group(2) };, +        } else {, +            throw new IllegalArgumentException("Invalid header syntax: " + sb);]