[+++ b/src/main/java/org/jboss/netty/container/osgi/NettyBundleActivator.java, +import org.jboss.netty.channel.socket.ClientSocketChannelFactory;, +import org.jboss.netty.channel.socket.ServerSocketChannelFactory;, +, +        // The default transport is NIO., +        register(ctx,, +                 new NioClientSocketChannelFactory(executor, executor),, +                 ClientSocketChannelFactory.class);, +        register(ctx,, +                 new NioServerSocketChannelFactory(executor, executor),, +                 ServerSocketChannelFactory.class);, +, +    private void register(BundleContext ctx, ChannelFactory factory, Class<?>... factoryTypes) {, +        registrations.add(ctx.registerService(factory.getClass().getName(), factory, props));, +, +        for (Class<?> t: factoryTypes) {, +            registrations.add(ctx.registerService(t.getName(), factory, props));, +        }]