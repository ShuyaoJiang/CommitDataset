[+++ b/transport/src/main/java/io/netty/channel/DefaultChannelPipeline.java, +    private boolean firedChannelActive;, +    private boolean fireInboundBufferUpdatedOnActivation;, +            firedChannelActive = true;, +            if (fireInboundBufferUpdatedOnActivation) {, +                fireInboundBufferUpdatedOnActivation = false;, +                fireInboundBufferUpdated(ctx);, +            }, +            firedChannelActive = false;, +        if (!firedChannelActive) {, +            fireInboundBufferUpdatedOnActivation = true;, +            return;, +        }]