[+++ b/testsuite/src/test/java/io/netty/testsuite/transport/socket/SocketSslEchoTest.java, +        testSslEcho0(sb, cb, false, false);, +    }, +, +    @Test, +    public void testSslEchoComposite() throws Throwable {, +        run();, +    }, +, +    public void testSslEchoComposite(ServerBootstrap sb, Bootstrap cb) throws Throwable {, +        testSslEcho0(sb, cb, false, true);, +        testSslEcho0(sb, cb, true, false);, +    @Test, +    public void testSslEchoWithChunkHandlerComposite() throws Throwable {, +        run();, +    }, +, +    public void testSslEchoWithChunkHandlerComposite(ServerBootstrap sb, Bootstrap cb) throws Throwable {, +        testSslEcho0(sb, cb, true, true);, +    }, +, +    private void testSslEcho0(ServerBootstrap sb, Bootstrap cb,, +                              final boolean chunkWriteHandler, final boolean composite) throws Throwable {, +        final EchoHandler sh = new EchoHandler(true, composite);, +        final EchoHandler ch = new EchoHandler(false, composite);, +            ByteBuf buf = Unpooled.wrappedBuffer(data, i, length);, +            if (composite) {, +                buf = Unpooled.compositeBuffer().addComponent(buf).writerIndex(buf.writerIndex());, +            }, +            ChannelFuture future = cc.writeAndFlush(buf);, +        private final boolean composite;, +        EchoHandler(boolean server, boolean composite) {, +            this.composite = composite;, +                ByteBuf buf = Unpooled.wrappedBuffer(actual);, +                if (composite) {, +                    buf = Unpooled.compositeBuffer().addComponent(buf).writerIndex(buf.writerIndex());, +                }, +                channel.write(buf);]