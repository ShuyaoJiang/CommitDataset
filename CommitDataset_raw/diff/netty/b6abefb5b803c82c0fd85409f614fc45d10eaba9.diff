[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker08.java, +        setHandshakeComplete();, +, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker08.java, +        setHandshakeComplete();, +, +++ b/handler/src/main/java/io/netty/handler/traffic/AbstractTrafficShapingHandler.java, +        return bytes * 1000 / limit - interval;, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker08.java, +        setHandshakeComplete();, +, +++ b/handler/src/main/java/io/netty/handler/traffic/AbstractTrafficShapingHandler.java, +        return bytes * 1000 / limit - interval;, +++ b/handler/src/main/java/io/netty/handler/traffic/TrafficCounter.java, +        if (checkInterval.get() != newcheckInterval) {, +            checkInterval.set(newcheckInterval);, +            if (newcheckInterval <= 0) {]