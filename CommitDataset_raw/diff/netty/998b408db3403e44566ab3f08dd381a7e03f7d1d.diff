[+++ b/transport/src/main/java/io/netty/channel/oio/OioByteStreamChannel.java, +import java.nio.channels.ClosedChannelException;, +    private static final InputStream CLOSED_IN = new InputStream() {, +        @Override, +        public int read() {, +            return -1;, +        }, +    };, +, +    private static final OutputStream CLOSED_OUT = new OutputStream() {, +        @Override, +        public void write(int b) throws IOException {, +            throw new ClosedChannelException();, +        }, +    };, +, +        InputStream is = this.is;, +        if (is == null || is == CLOSED_IN) {, +            return false;, +        }, +, +        OutputStream os = this.os;, +        if (os == null || os == CLOSED_OUT) {, +            return false;, +        }, +, +        return true;, +        InputStream is = this.is;, +        OutputStream os = this.os;, +        this.is = CLOSED_IN;, +        this.os = CLOSED_OUT;, +        } finally {]