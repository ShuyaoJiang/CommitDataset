[+++ b/src/main/java/io/netty/example/http/websocketx/autobahn/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/autobahn/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/server/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/autobahn/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/server/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/sslserver/WebSocketSslServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/autobahn/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/server/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/sslserver/WebSocketSslServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerHandshaker.java, +import io.netty.channel.Channel;, +     * @param channel, +     *            Channel, +    public abstract void performOpeningHandshake(Channel channel, HttpRequest req);, +     * @param channel, +     *            Channel, +    public abstract void performClosingHandshake(Channel channel, CloseWebSocketFrame frame);, +++ b/src/main/java/io/netty/example/http/websocketx/autobahn/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/server/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/sslserver/WebSocketSslServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerHandshaker.java, +import io.netty.channel.Channel;, +     * @param channel, +     *            Channel, +    public abstract void performOpeningHandshake(Channel channel, HttpRequest req);, +     * @param channel, +     *            Channel, +    public abstract void performClosingHandshake(Channel channel, CloseWebSocketFrame frame);, +++ b/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerHandshaker00.java, +import io.netty.channel.Channel;, +     * @param channel, +     *            Channel, +    public void performOpeningHandshake(Channel channel, HttpRequest req) {, +            logger.debug(String.format("Channel %s web socket spec version 00 handshake", channel.getId()));, +        ChannelPipeline p = channel.getPipeline();, +        channel.write(res);, +     * @param channel, +     *            Channel, +    public void performClosingHandshake(Channel channel, CloseWebSocketFrame frame) {, +        channel.write(frame);, +++ b/src/main/java/io/netty/example/http/websocketx/autobahn/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/server/WebSocketServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);, +			wsFactory.sendUnsupportedWebSocketVersionResponse(ctx.getChannel());, +			this.handshaker.performOpeningHandshake(ctx.getChannel(), req);, +			this.handshaker.performClosingHandshake(ctx.getChannel(), (CloseWebSocketFrame) frame);, +++ b/src/main/java/io/netty/example/http/websocketx/sslserver/WebSocketSslServerHandler.java, +		this.handshaker = wsFactory.newHandshaker(req);]