[+++ b/buffer/src/test/java/io/netty/buffer/PooledByteBufAllocatorTest.java, +            // First mark all AllocationThreads to complete their work and then wait until these are complete, +            // and rethrow if there was any error., +                t.markAsFinished();, +            }, +, +            for (AllocationThread t: threads) {, +                t.joinAndCheckForError();, +        boolean isFinished() {, +        void markAsFinished() {, +            finish.compareAndSet(null, Boolean.TRUE);, +        }, +, +        void joinAndCheckForError() throws Throwable {, +        void checkForError() throws Throwable {, +++ b/buffer/src/test/java/io/netty/buffer/PooledByteBufAllocatorTest.java, +            // First mark all AllocationThreads to complete their work and then wait until these are complete, +            // and rethrow if there was any error., +                t.markAsFinished();, +            }, +, +            for (AllocationThread t: threads) {, +                t.joinAndCheckForError();, +        boolean isFinished() {, +        void markAsFinished() {, +            finish.compareAndSet(null, Boolean.TRUE);, +        }, +, +        void joinAndCheckForError() throws Throwable {, +        void checkForError() throws Throwable {, +++ b/common/src/main/java/io/netty/util/internal/PlatformDependent.java, +    private static final boolean IS_J9_JVM = isJ9Jvm0();, +    /**, +     * Returns {@code true} if the running JVM is either <a href="https://developer.ibm.com/javasdk/">IBM J9</a> or, +     * <a href="https://www.eclipse.org/openj9/">Eclipse OpenJ9</a>, {@code false} otherwise., +     */, +    public static boolean isJ9Jvm() {, +        return IS_J9_JVM;, +    }, +, +    private static boolean isJ9Jvm0() {, +        String vmName = SystemPropertyUtil.get("java.vm.name", "").toLowerCase();, +        return vmName.startsWith("ibm j9") || vmName.startsWith("eclipse openj9");, +    }, +, +++ b/buffer/src/test/java/io/netty/buffer/PooledByteBufAllocatorTest.java, +            // First mark all AllocationThreads to complete their work and then wait until these are complete, +            // and rethrow if there was any error., +                t.markAsFinished();, +            }, +, +            for (AllocationThread t: threads) {, +                t.joinAndCheckForError();, +        boolean isFinished() {, +        void markAsFinished() {, +            finish.compareAndSet(null, Boolean.TRUE);, +        }, +, +        void joinAndCheckForError() throws Throwable {, +        void checkForError() throws Throwable {, +++ b/common/src/main/java/io/netty/util/internal/PlatformDependent.java, +    private static final boolean IS_J9_JVM = isJ9Jvm0();, +    /**, +     * Returns {@code true} if the running JVM is either <a href="https://developer.ibm.com/javasdk/">IBM J9</a> or, +     * <a href="https://www.eclipse.org/openj9/">Eclipse OpenJ9</a>, {@code false} otherwise., +     */, +    public static boolean isJ9Jvm() {, +        return IS_J9_JVM;, +    }, +, +    private static boolean isJ9Jvm0() {, +        String vmName = SystemPropertyUtil.get("java.vm.name", "").toLowerCase();, +        return vmName.startsWith("ibm j9") || vmName.startsWith("eclipse openj9");, +    }, +, +++ b/testsuite/src/main/java/io/netty/testsuite/transport/udt/UDTClientServerConnectionTest.java, +import io.netty.util.internal.PlatformDependent;, +import org.junit.Assume;, +        Assume.assumeFalse("Not supported on J9 JVM", PlatformDependent.isJ9Jvm());, +]