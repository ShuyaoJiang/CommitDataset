[+++ b/transport/src/main/java/io/netty/channel/nio/NioEventLoop.java, +    private boolean needsToSelectAgain;, +            needsToSelectAgain = true;, +    @Override, +    protected Runnable pollTask() {, +        Runnable task = super.pollTask();, +        if (needsToSelectAgain) {, +            selectAgain();, +        }, +        return task;, +    }, +, +        needsToSelectAgain = false;, +        Iterator<SelectionKey> i = selectedKeys.iterator();, +        for (;;) {, +            i.remove();, +, +            if (!i.hasNext()) {, +                break;, +            }, +, +            if (needsToSelectAgain) {, +                selectAgain();, +                selectedKeys = selector.selectedKeys();, +, +        selectAgain();, +    private void selectAgain() {, +        needsToSelectAgain = false;]