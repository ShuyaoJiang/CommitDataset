[+++ b/handler/src/test/java/io/netty/handler/ssl/SniClientJava8TestUtil.java, +import io.netty.util.ReferenceCountUtil;, +        SelfSignedCertificate cert = new SelfSignedCertificate();, +        SslContext sslServerContext = null;, +        SslContext sslClientContext = null;, +, +            sslServerContext = SslContextBuilder.forServer(cert.key(), cert.cert()), +, +            final SslContext finalContext = sslServerContext;, +                    SslHandler handler = finalContext.newHandler(ch.alloc());, +            sslClientContext = SslContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE), +                    sslClientContext.newEngine(ByteBufAllocator.DEFAULT, sniHost, -1));, +, +            ReferenceCountUtil.release(sslServerContext);, +            ReferenceCountUtil.release(sslClientContext);, +, +            cert.delete();, +]