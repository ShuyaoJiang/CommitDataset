[+++ b/transport/src/test/java/io/netty/channel/socket/nio/DefaultNioDatagramChannelConfigTest.java, +import java.net.Inet4Address;, +import java.util.Enumeration;, +        , +        StandardProtocolFamily family = null;, +        NetworkInterface inf = null;, +        Enumeration<NetworkInterface> interfaces = NetworkInterface.getNetworkInterfaces();, +        while (interfaces.hasMoreElements()) {, +            inf = interfaces.nextElement();, +            Enumeration<InetAddress> addresses = inf.getInetAddresses();, +            while(addresses.hasMoreElements()) {, +                InetAddress addr = addresses.nextElement();, +                if (addr instanceof Inet4Address) {, +                    family = StandardProtocolFamily.INET;, +                    break;, +                } else {, +                    family = StandardProtocolFamily.INET6;, +                }, +            }, +        }, +        if (inf == null) {, +            // No usable interface found so just skip the test, +            return;, +        }, +        , +        DefaultNioDatagramChannelConfig config = new DefaultNioDatagramChannelConfig(DatagramChannel.open(family));, +, +        , +        , +]