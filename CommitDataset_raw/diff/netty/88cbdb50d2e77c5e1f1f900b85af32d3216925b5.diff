[+++ b/transport/src/main/java/io/netty/channel/AbstractChannel.java, +                outboundBuffer.clearUnflushed(CLOSED_CHANNEL_EXCEPTION);, +++ b/transport/src/main/java/io/netty/channel/AbstractChannel.java, +                outboundBuffer.clearUnflushed(CLOSED_CHANNEL_EXCEPTION);, +++ b/transport/src/main/java/io/netty/channel/ChannelOutboundBuffer.java, +    void clearUnflushed(Throwable cause) {, +                    if (!p.tryFailure(cause)) {, +                        logger.warn("Promise done already: {} - new exception is:", p, cause);]