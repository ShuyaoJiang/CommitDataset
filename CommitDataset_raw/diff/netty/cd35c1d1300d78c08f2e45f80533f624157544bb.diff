[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +                        channel.currentWriteEvent = null;, +        Exception cause = null;, +, +                // Create the exception only once to avoid the excessive overhead, +                // caused by fillStackTrace., +                if (channel.isOpen()) {, +                    cause = new NotYetConnectedException();, +                } else {, +                    cause = new ClosedChannelException();, +                }, +, +            if (!writeBuffer.isEmpty()) {, +                // Create the exception only once to avoid the excessive overhead, +                // caused by fillStackTrace., +                if (cause == null) {, +                    if (channel.isOpen()) {, +                        cause = new NotYetConnectedException();, +                    } else {, +                        cause = new ClosedChannelException();, +                    }, +                }, +, +    }]