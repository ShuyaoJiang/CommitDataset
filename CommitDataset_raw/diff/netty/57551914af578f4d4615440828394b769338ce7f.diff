[+++ b/src/main/java/org/jboss/netty/buffer/CompositeChannelBuffer.java, +        if (index > capacity() - length || dstIndex > dst.length - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length || dstIndex > dst.capacity() - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length || srcIndex > src.length - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length || srcIndex > src.capacity() - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length) {, +++ b/src/main/java/org/jboss/netty/buffer/CompositeChannelBuffer.java, +        if (index > capacity() - length || dstIndex > dst.length - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length || dstIndex > dst.capacity() - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length || srcIndex > src.length - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length || srcIndex > src.capacity() - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length) {, +        if (index > capacity() - length) {, +++ b/src/test/java/org/jboss/netty/buffer/AbstractChannelBufferTest.java, +    @Test, +    @Test, +    @Test, +    public void getByteBufferState() {, +        buffer.setByte(0, (byte) 1);, +        buffer.setByte(1, (byte) 2);, +        buffer.setByte(2, (byte) 3);, +        buffer.setByte(3, (byte) 4);, +, +, +        dst.clear();, +        assertEquals(0, dst.get(0));, +        assertEquals(2, dst.get(1));, +        assertEquals(3, dst.get(2));, +        assertEquals(0, dst.get(3));, +    @Test, +    public void getDirectByteBufferState() {, +        buffer.setByte(0, (byte) 1);, +        buffer.setByte(1, (byte) 2);, +        buffer.setByte(2, (byte) 3);, +        buffer.setByte(3, (byte) 4);, +, +, +        dst.clear();, +        assertEquals(0, dst.get(0));, +        assertEquals(2, dst.get(1));, +        assertEquals(3, dst.get(2));, +        assertEquals(0, dst.get(3));]