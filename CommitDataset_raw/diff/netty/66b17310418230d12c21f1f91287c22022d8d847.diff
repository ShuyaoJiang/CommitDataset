[+++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    protected final void checkNewCapacity(int newCapacity) {, +        ensureAccessible();, +        if (newCapacity < 0 || newCapacity > maxCapacity()) {, +            throw new IllegalArgumentException("newCapacity: " + newCapacity + " (expected: 0-" + maxCapacity() + ')');, +        }, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    protected final void checkNewCapacity(int newCapacity) {, +        ensureAccessible();, +        if (newCapacity < 0 || newCapacity > maxCapacity()) {, +            throw new IllegalArgumentException("newCapacity: " + newCapacity + " (expected: 0-" + maxCapacity() + ')');, +        }, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    protected final void checkNewCapacity(int newCapacity) {, +        ensureAccessible();, +        if (newCapacity < 0 || newCapacity > maxCapacity()) {, +            throw new IllegalArgumentException("newCapacity: " + newCapacity + " (expected: 0-" + maxCapacity() + ')');, +        }, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/PooledByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    protected final void checkNewCapacity(int newCapacity) {, +        ensureAccessible();, +        if (newCapacity < 0 || newCapacity > maxCapacity()) {, +            throw new IllegalArgumentException("newCapacity: " + newCapacity + " (expected: 0-" + maxCapacity() + ')');, +        }, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/PooledByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledDirectByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    protected final void checkNewCapacity(int newCapacity) {, +        ensureAccessible();, +        if (newCapacity < 0 || newCapacity > maxCapacity()) {, +            throw new IllegalArgumentException("newCapacity: " + newCapacity + " (expected: 0-" + maxCapacity() + ')');, +        }, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/PooledByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledDirectByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledHeapByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    protected final void checkNewCapacity(int newCapacity) {, +        ensureAccessible();, +        if (newCapacity < 0 || newCapacity > maxCapacity()) {, +            throw new IllegalArgumentException("newCapacity: " + newCapacity + " (expected: 0-" + maxCapacity() + ')');, +        }, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/PooledByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledDirectByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledHeapByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledUnsafeDirectByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    protected final void checkNewCapacity(int newCapacity) {, +        ensureAccessible();, +        if (newCapacity < 0 || newCapacity > maxCapacity()) {, +            throw new IllegalArgumentException("newCapacity: " + newCapacity + " (expected: 0-" + maxCapacity() + ')');, +        }, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/PooledByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledDirectByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledHeapByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledUnsafeDirectByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledUnsafeNoCleanerDirectByteBuf.java, +        checkNewCapacity(newCapacity);, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    protected final void checkNewCapacity(int newCapacity) {]