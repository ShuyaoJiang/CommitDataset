[+++ b/handler/src/main/java/io/netty/handler/ssl/SslHandler.java, +                            setHandshakeSuccessIfStillHandshaking();, +                            // deliberate fall-through, +                        setHandshakeSuccessIfStillHandshaking();, +                        if (setHandshakeSuccessIfStillHandshaking()) {, +                            wrapLater = true;, +                            continue;, +                        }, +     * Works around some Android {@link SSLEngine} implementations that skip {@link HandshakeStatus#FINISHED} and, +     * go straight into {@link HandshakeStatus#NOT_HANDSHAKING} when handshake is finished., +     *, +     * @return {@code true} if and only if the workaround has been applied and thus {@link #handshakeFuture} has been, +     *         marked as success by this method, +     */, +    private boolean setHandshakeSuccessIfStillHandshaking() {, +        if (!handshakePromise.isDone()) {, +            setHandshakeSuccess();, +            return true;, +        }, +        return false;, +    }, +, +    /**]