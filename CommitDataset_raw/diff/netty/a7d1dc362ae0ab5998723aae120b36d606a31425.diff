[+++ b/common/src/main/java/io/netty/util/internal/StringUtil.java, +    private static final char PACKAGE_SEPARATOR_CHAR = '.';, +        String className = ObjectUtil.checkNotNull(clazz, "clazz").getName();, +        final int lastDotIdx = className.lastIndexOf(PACKAGE_SEPARATOR_CHAR);, +        if (lastDotIdx > -1) {, +            return className.substring(lastDotIdx + 1);, +        return className;, +++ b/common/src/main/java/io/netty/util/internal/StringUtil.java, +    private static final char PACKAGE_SEPARATOR_CHAR = '.';, +        String className = ObjectUtil.checkNotNull(clazz, "clazz").getName();, +        final int lastDotIdx = className.lastIndexOf(PACKAGE_SEPARATOR_CHAR);, +        if (lastDotIdx > -1) {, +            return className.substring(lastDotIdx + 1);, +        return className;, +++ b/common/src/test/java/io/netty/util/internal/StringUtilTest.java, +    @Test, +    public void testSimpleClassName() throws Exception {, +        testSimpleClassName(String.class);, +    }, +, +    @Test, +    public void testSimpleInnerClassName() throws Exception {, +        testSimpleClassName(TestClass.class);, +    }, +, +    private static void testSimpleClassName(Class<?> clazz) throws Exception {, +        Package pkg = clazz.getPackage();, +        String name;, +        if (pkg != null) {, +            name = clazz.getName().substring(pkg.getName().length() + 1);, +        } else {, +            name = clazz.getName();, +        }, +        assertEquals(name, simpleClassName(clazz));, +    }, +, +    private static final class TestClass { }]