[+++ b/example/src/main/java/io/netty/example/factorial/FactorialClientHandler.java, +    private int next = 1;, +        ChannelFuture future = null;, +        for (int i = 0; i < 4096 && next <= count; i++) {, +            future = ctx.write(Integer.valueOf(next));, +            next++;, +        }, +        if (next <= count) {, +            assert future != null;]