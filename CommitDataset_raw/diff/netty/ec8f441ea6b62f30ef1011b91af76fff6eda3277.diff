[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +import java.util.concurrent.ExecutorService;, +                        if (shutdown ||, +                            bossExecutor instanceof ExecutorService && ((ExecutorService) bossExecutor).isShutdown()) {, +, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +import java.util.concurrent.ExecutorService;, +                        if (shutdown ||, +                            bossExecutor instanceof ExecutorService && ((ExecutorService) bossExecutor).isShutdown()) {, +, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +import java.util.concurrent.ExecutorService;, +                    if (shutdown ||, +                        executor instanceof ExecutorService && ((ExecutorService) executor).isShutdown()) {]