[+++ b/transport-native-epoll/src/main/c/io_netty_channel_epoll_Native.c, +extern int epoll_create1(int flags) __attribute__((weak));, +    jint efd;, +    if (epoll_create1) {, +        efd = epoll_create1(EPOLL_CLOEXEC);, +    } else {, +        // size will be ignored anyway but must be positive, +        efd = epoll_create(126);, +    }, +    if (!epoll_create1) {, +        if (fcntl(efd, F_SETFD, FD_CLOEXEC) < 0) {, +            int err = errno;, +            close(efd);, +            throwRuntimeException(env, exceptionMessage("Error during fcntl(...): ", err));, +            return err;, +        }, +    }]