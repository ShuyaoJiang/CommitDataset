[+++ b/transport/src/main/java/io/netty/channel/DefaultChannelHandlerContext.java, +import io.netty.util.internal.StringUtil;, +            throw new IllegalArgumentException("promise already done");, +            throw new IllegalArgumentException(, +                    StringUtil.simpleClassName(VoidChannelPromise.class) + " not allowed for this operation");, +            throw new IllegalArgumentException(, +                    StringUtil.simpleClassName(AbstractChannel.CloseFuture.class) + " not allowed in a pipeline");]