[+++ b/handler-proxy/src/main/java/io/netty/handler/proxy/ProxyHandler.java, +        cancelConnectTimeoutFuture();, +        if (!connectPromise.isDone()) {, +                connectPromise.trySuccess(ctx.channel());, +                failPendingWritesAndClose(cause);, +        cancelConnectTimeoutFuture();, +, +        if (!connectPromise.isDone()) {, +            failPendingWritesAndClose(cause);, +        }, +    }, +    private void failPendingWritesAndClose(Throwable cause) {, +        connectPromise.tryFailure(cause);, +, +    private void cancelConnectTimeoutFuture() {, +        if (connectTimeoutFuture != null) {, +            connectTimeoutFuture.cancel(false);, +            connectTimeoutFuture = null;, +        }]