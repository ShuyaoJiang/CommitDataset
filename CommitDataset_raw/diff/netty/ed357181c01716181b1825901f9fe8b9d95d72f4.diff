[+++ b/handler/src/main/java/io/netty/handler/ssl/SslHandler.java, +import io.netty.buffer.ChannelBuffer;, +import io.netty.buffer.ChannelBuffers;, +import io.netty.channel.Channel;, +import io.netty.channel.ChannelFuture;, +import io.netty.channel.ChannelFutureListener;, +import io.netty.channel.ChannelHandlerContext;, +import io.netty.channel.ChannelPipeline;, +import io.netty.channel.DefaultChannelFuture;, +import io.netty.logging.InternalLogger;, +import io.netty.logging.InternalLoggerFactory;, +import io.netty.util.internal.NonReentrantLock;, +import io.netty.util.internal.QueueFactory;, +import java.nio.channels.Channels;, +                            int remaining = outNetBuf.remaining();, +                            msg = ChannelBuffers.buffer(remaining);, +, +                            // Transfer the bytes to the new ChannelBuffer using some safe method that will also, +                            // work with "non" heap buffers, +                            //, +                            // See https://github.com/netty/netty/issues/329, +                            msg.writeBytes(outNetBuf);, +, +                    // Transfer the bytes to the new ChannelBuffer using some safe method that will also, +                    // work with "non" heap buffers, +                    //, +                    // See https://github.com/netty/netty/issues/329, +                    msg.writeBytes(outNetBuf);, +                ChannelBuffer frame = ctx.getChannel().getConfig().getBufferFactory().getBuffer(outAppBuf.remaining());, +                // Transfer the bytes to the new ChannelBuffer using some safe method that will also, +                // work with "non" heap buffers, +                //, +                // See https://github.com/netty/netty/issues/329, +                frame.writeBytes(outAppBuf);]