[+++ b/src/main/java/org/jboss/netty/channel/DefaultChannelFuture.java, +            Collection<ChannelFutureProgressListener> progressListeners =, +                this.progressListeners;, +            if (progressListeners == null || progressListeners.isEmpty()) {, +++ b/src/main/java/org/jboss/netty/channel/DefaultChannelFuture.java, +            Collection<ChannelFutureProgressListener> progressListeners =, +                this.progressListeners;, +            if (progressListeners == null || progressListeners.isEmpty()) {, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +                ChannelFuture future = evt.getFuture();, +                    int oldWrittenBytes = writtenBytes;, +, +                        // Notify progress listeners if necessary., +                        future.setProgress(, +                                writtenBytes - oldWrittenBytes,, +                                bb.position() - buf.initialPos,, +                                bb.limit() - buf.initialPos);, +++ b/src/main/java/org/jboss/netty/channel/DefaultChannelFuture.java, +            Collection<ChannelFutureProgressListener> progressListeners =, +                this.progressListeners;, +            if (progressListeners == null || progressListeners.isEmpty()) {, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +                ChannelFuture future = evt.getFuture();, +                    int oldWrittenBytes = writtenBytes;, +, +                        // Notify progress listeners if necessary., +                        future.setProgress(, +                                writtenBytes - oldWrittenBytes,, +                                bb.position() - buf.initialPos,, +                                bb.limit() - buf.initialPos);, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/SocketSendBufferPool.java, +        final int initialPos;, +            initialPos = buffer.position();]