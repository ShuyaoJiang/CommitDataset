[+++ b/handler/src/main/java/io/netty/handler/stream/ChunkedWriteHandler.java, +    private volatile ChannelHandlerContext ctx;, +++ b/handler/src/main/java/io/netty/handler/stream/ChunkedWriteHandler.java, +    private volatile ChannelHandlerContext ctx;, +++ b/transport/src/main/java/io/netty/channel/socket/nio/AbstractNioWorker.java, +            for (;;) {, +                evt = writeBuffer.poll();, +                if (evt == null) {, +                    break;, +                }, +                evt.getFuture().setFailure(cause);, +, +               , +++ b/handler/src/main/java/io/netty/handler/stream/ChunkedWriteHandler.java, +    private volatile ChannelHandlerContext ctx;, +++ b/transport/src/main/java/io/netty/channel/socket/nio/AbstractNioWorker.java, +            for (;;) {, +                evt = writeBuffer.poll();, +                if (evt == null) {, +                    break;, +                }, +                evt.getFuture().setFailure(cause);, +, +               , +++ b/transport/src/main/java/io/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +++ b/handler/src/main/java/io/netty/handler/stream/ChunkedWriteHandler.java, +    private volatile ChannelHandlerContext ctx;, +++ b/transport/src/main/java/io/netty/channel/socket/nio/AbstractNioWorker.java, +            for (;;) {, +                evt = writeBuffer.poll();, +                if (evt == null) {, +                    break;, +                }, +                evt.getFuture().setFailure(cause);, +, +               , +++ b/transport/src/main/java/io/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +++ b/transport/src/main/java/io/netty/channel/socket/oio/OioClientSocketPipelineSink.java]