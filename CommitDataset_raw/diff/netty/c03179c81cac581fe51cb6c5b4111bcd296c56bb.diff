[+++ b/codec/src/main/java/io/netty/handler/codec/ByteToByteDecoder.java, +        } catch (CodecException e) {, +            throw e;, +            throw new DecoderException(t);, +        } finally {, +    }, +        try {, +        } catch (CodecException e) {, +            throw e;, +        } catch (Throwable t) {, +            throw new DecoderException(t);, +        } finally {, +    }, +++ b/codec/src/main/java/io/netty/handler/codec/ByteToByteDecoder.java, +        } catch (CodecException e) {, +            throw e;, +            throw new DecoderException(t);, +        } finally {, +    }, +        try {, +        } catch (CodecException e) {, +            throw e;, +        } catch (Throwable t) {, +            throw new DecoderException(t);, +        } finally {, +    }, +++ b/codec/src/main/java/io/netty/handler/codec/ByteToByteEncoder.java, +        try {, +        } catch (Throwable t) {, +            if (!(t instanceof CodecException)) {, +                t = new EncoderException(t);, +            }, +            if (encoded) {, +                t = new IncompleteFlushException("unable to encode all bytes", t);, +            }, +            in.discardSomeReadBytes();, +            promise.setFailure(t);, +            return;, +        }]