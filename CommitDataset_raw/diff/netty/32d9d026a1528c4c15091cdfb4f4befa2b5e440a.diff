[+++ b/src/main/java/org/jboss/netty/handler/stream/ChunkedWriteHandler.java, +            if (currentEvent.getFuture().isDone()) {, +                // Previous write attempt has been failed for this write request., +                currentEvent = null;, +            } else {, +                                    closeInput((ChunkedInput) currentEvent.getMessage());, +            }, +    static void closeInput(ChunkedInput chunks) {, +        } catch (Throwable t) {, +            logger.warn("Failed to close a chunked input.", t);]