[+++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/DefaultHttp2Connection.java, +, +            // If the stream is opened in a half-closed state, the headers must have either, +            // been sent if this is a local stream, or received if it is a remote stream., +            if (state == HALF_CLOSED_LOCAL) {, +                headersSent(/*isInformational*/ false);, +            } else if (state == HALF_CLOSED_REMOTE) {, +                headersReceived(/*isInformational*/ false);, +            }, +++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/DefaultHttp2Connection.java, +, +            // If the stream is opened in a half-closed state, the headers must have either, +            // been sent if this is a local stream, or received if it is a remote stream., +            if (state == HALF_CLOSED_LOCAL) {, +                headersSent(/*isInformational*/ false);, +            } else if (state == HALF_CLOSED_REMOTE) {, +                headersReceived(/*isInformational*/ false);, +            }, +++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/Http2Stream.java, +     * is {@code true} and the stream is local. In this state, {@link #isHeadersSent()} is {@code true}</li>, +     * is {@code true} and the stream is remote. In this state, {@link #isHeadersReceived()} is {@code true}</li>, +++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/DefaultHttp2Connection.java, +, +            // If the stream is opened in a half-closed state, the headers must have either, +            // been sent if this is a local stream, or received if it is a remote stream., +            if (state == HALF_CLOSED_LOCAL) {, +                headersSent(/*isInformational*/ false);, +            } else if (state == HALF_CLOSED_REMOTE) {, +                headersReceived(/*isInformational*/ false);, +            }, +++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/Http2Stream.java, +     * is {@code true} and the stream is local. In this state, {@link #isHeadersSent()} is {@code true}</li>, +     * is {@code true} and the stream is remote. In this state, {@link #isHeadersReceived()} is {@code true}</li>, +++ b/codec-http2/src/test/java/io/netty/handler/codec/http2/DefaultHttp2ConnectionTest.java, +        assertTrue(stream.isHeadersReceived());, +        assertTrue(stream.isHeadersSent());]