[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioAcceptedSocketChannel.java, +        state = NioSocketChannel.ST_CONNECTED;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioAcceptedSocketChannel.java, +        state = NioSocketChannel.ST_CONNECTED;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +            channel.state = NioSocketChannel.ST_BOUND;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioAcceptedSocketChannel.java, +        state = NioSocketChannel.ST_CONNECTED;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +            channel.state = NioSocketChannel.ST_BOUND;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioSocketChannel.java, +    static final int ST_OPEN = 0;, +    static final int ST_BOUND = 1;, +    static final int ST_CONNECTED = 2;, +    static final int ST_CLOSED = -1;, +    volatile int state = ST_OPEN;, +        return super.setClosed();, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioAcceptedSocketChannel.java, +        state = NioSocketChannel.ST_CONNECTED;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +            channel.state = NioSocketChannel.ST_BOUND;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioSocketChannel.java, +    static final int ST_OPEN = 0;, +    static final int ST_BOUND = 1;, +    static final int ST_CONNECTED = 2;, +    static final int ST_CLOSED = -1;, +    volatile int state = ST_OPEN;, +        return super.setClosed();, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +                channel.state = NioSocketChannel.ST_CLOSED;, +                        channel.state = NioSocketChannel.ST_CLOSED;, +                channel.state = NioSocketChannel.ST_CONNECTED;]