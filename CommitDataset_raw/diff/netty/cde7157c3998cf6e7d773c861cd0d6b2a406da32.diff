[+++ b/codec/src/main/java/io/netty/handler/codec/json/JsonObjectDecoder.java, +    private static final int ST_CORRUPTED = -1;, +    private static final int ST_INIT = 0;, +    private static final int ST_DECODING_NORMAL = 1;, +    private static final int ST_DECODING_ARRAY_STREAM = 2;, +, +    private int state;, +        if (state == ST_CORRUPTED) {, +            in.skipBytes(in.readableBytes());, +            return;, +        }, +, +            if (state == ST_DECODING_NORMAL) {, +            } else if (state == ST_DECODING_ARRAY_STREAM) {, +                if (state == ST_DECODING_ARRAY_STREAM) {, +                state = ST_CORRUPTED;, +                throw new CorruptedFrameException(, +                        "invalid JSON received at byte position " + idx + ": " + ByteBufUtil.hexDump(in));, +        if (openingBrace == '[' && streamArrayElements) {, +            state = ST_DECODING_ARRAY_STREAM;, +        } else {, +            state = ST_DECODING_NORMAL;, +        }, +        insideString = false;, +        state = ST_INIT;]