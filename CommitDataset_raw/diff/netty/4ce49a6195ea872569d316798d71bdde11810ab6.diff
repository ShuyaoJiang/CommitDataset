[+++ b/buffer/src/main/java/io/netty/buffer/Unpooled.java, +        int readable = buffer.readableBytes();, +        if (readable > 0) {, +            ByteBuf copy;, +            if (buffer.isDirect()) {, +                copy = directBuffer(readable);, +            } else {, +                copy = buffer(readable);, +            }, +            copy.writeBytes(buffer, buffer.readerIndex(), readable);, +            return copy;]