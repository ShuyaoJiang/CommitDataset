[+++ b/codec-http/src/test/java/io/netty/handler/codec/http/multipart/HttpPostRequestEncoderTest.java, +                CharsetUtil.UTF_8, -1);, +                CharsetUtil.UTF_8, -1);, +        checkNextChunkSize(encoder, 8080);, +        checkNextChunkSize(encoder, 8080);, +        checkNextChunkSize(encoder, 8080);, +    private static void checkNextChunkSize(HttpPostRequestEncoder encoder, int sizeWithoutDelimiter) throws Exception {, +        // 16 bytes as HttpPostRequestEncoder uses Long.toHexString(...) to generate a hex-string which will be between, +        // 2 and 16 bytes., +        // See https://github.com/netty/netty/blob/4.1/codec-http/src/main/java/io/netty/handler/, +        // codec/http/multipart/HttpPostRequestEncoder.java#L291, +        int expectedSizeMin = sizeWithoutDelimiter + 2;, +        int expectedSizeMax = sizeWithoutDelimiter + 16;, +, +, +        int readable = httpContent.content().readableBytes();, +        boolean expectedSize = readable >= expectedSizeMin && readable <= expectedSizeMax;, +        assertTrue("Chunk size is not in expected range (" + expectedSizeMin + " - " + expectedSizeMax + "), was: ", +                + readable, expectedSize);]