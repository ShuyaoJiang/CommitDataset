[+++ b/buffer/src/main/java/io/netty/buffer/ReadOnlyByteBufferBuf.java, +        ensureAccessible();, +        if (length == 0) {, +            return this;, +        }, +, +        if (buffer.hasArray()) {, +            out.write(buffer.array(), index + buffer.arrayOffset(), length);, +        } else {, +            byte[] tmp = new byte[length];, +            ByteBuffer tmpBuf = internalNioBuffer();, +            tmpBuf.clear().position(index);, +            tmpBuf.get(tmp);, +            out.write(tmp);, +        }, +        return this;, +        ensureAccessible();, +        if (length == 0) {, +            return 0;, +        }, +, +        ByteBuffer tmpBuf = internalNioBuffer();, +        tmpBuf.clear().position(index).limit(index + length);, +        return out.write(tmpBuf);]