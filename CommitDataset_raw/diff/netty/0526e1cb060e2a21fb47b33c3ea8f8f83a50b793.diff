[+++ b/codec-http/src/main/java/io/netty/handler/codec/spdy/SpdyHttpResponseStreamIdHandler.java, +        MessageToMessageCodec<Object, Object, HttpMessage, HttpMessage> {, +        super(new Class<?>[] { HttpMessage.class, SpdyRstStreamFrame.class }, new Class<?>[] { HttpMessage.class });, +    public HttpMessage encode(ChannelHandlerContext ctx, HttpMessage msg) throws Exception {, +        Integer id = ids.poll();, +        if (id != null && id != NO_ID && !msg.containsHeader(SpdyHttpHeaders.Names.STREAM_ID)) {, +            SpdyHttpHeaders.setStreamId(msg, id);, +        }, +        return msg;, +    }, +, +    @Override, +    public Object decode(ChannelHandlerContext ctx, Object msg) throws Exception {]