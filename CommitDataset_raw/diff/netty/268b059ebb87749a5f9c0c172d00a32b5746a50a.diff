[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpObjectAggregator.java, +    private boolean tooLongFrameFound;, +            tooLongFrameFound = false;, +            if (tooLongFrameFound) {, +                this.currentMessage = null;, +                // already detect the too long frame so just discard the content, +                return;, +            }, +, +                tooLongFrameFound = true;, +, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpObjectAggregator.java, +    private boolean tooLongFrameFound;, +            tooLongFrameFound = false;, +            if (tooLongFrameFound) {, +                this.currentMessage = null;, +                // already detect the too long frame so just discard the content, +                return;, +            }, +, +                tooLongFrameFound = true;, +, +++ b/codec-http/src/test/java/io/netty/handler/codec/http/HttpObjectAggregatorTest.java, +    @Test, +        HttpContent chunk3 = new DefaultHttpContent(Unpooled.copiedBuffer("test3", CharsetUtil.US_ASCII));, +, +        assertFalse(embedder.writeInbound(chunk1.copy()));, +        try {, +            embedder.writeInbound(chunk2.copy());, +        } catch (TooLongFrameException e) {, +            // expected, +        }, +        assertFalse(embedder.writeInbound(chunk3.copy()));, +, +        assertFalse(embedder.writeInbound(message));, +        assertFalse(embedder.writeInbound(chunk1.copy()));, +        try {, +            embedder.writeInbound(chunk2.copy());, +            fail();, +        } catch (TooLongFrameException e) {, +            // expected, +        }, +        assertFalse(embedder.writeInbound(chunk3.copy()));]