[+++ b/codec-http2/src/test/java/io/netty/handler/codec/http2/Http2ConnectionHandlerTest.java, +        promise = new DefaultChannelPromise(channel);, +++ b/codec-http2/src/test/java/io/netty/handler/codec/http2/Http2ConnectionHandlerTest.java, +        promise = new DefaultChannelPromise(channel);, +++ b/common/src/main/java/io/netty/util/concurrent/DefaultPromise.java, +    private volatile Object listeners;, +        if (listeners == null) {, +            return;, +        }, +        notifyListenersWithStackOverFlowProtection();, +    }, +, +    private void notifyListenersWithStackOverFlowProtection() {, +     * The logic in this method should be identical to {@link #notifyListenersWithStackOverFlowProtection()} but]