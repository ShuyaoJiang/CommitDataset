[+++ b/src/main/java/org/jboss/netty/example/http/websocket/WebSocketServer.java, + * An HTTP server which serves Web Socket requests at:, + *, + *     http://localhost:8080/websocket, + *, + * Open your browser at http://localhost:8080/, then the demo page will be, + * loaded and a Web Socket connection will be made automatically., + *, +++ b/src/main/java/org/jboss/netty/example/http/websocket/WebSocketServer.java, + * An HTTP server which serves Web Socket requests at:, + *, + *     http://localhost:8080/websocket, + *, + * Open your browser at http://localhost:8080/, then the demo page will be, + * loaded and a Web Socket connection will be made automatically., + *, +++ b/src/main/java/org/jboss/netty/example/http/websocket/WebSocketServerHandler.java, +        // Send the demo page., +        // Serve the WebSocket handshake request., +        if (req.getUri().equals(WEBSOCKET_PATH) &&, +            HttpHeaders.Values.UPGRADE.equalsIgnoreCase(req.getHeader(HttpHeaders.Names.CONNECTION)) &&, +, +            // Create the WebSocket handshake response., +            // Upgrade the connection and send the handshake response., +        // Send an error page otherwise., +        // Generate an error page if response status code is not OK (200)., +        // Send the response and close the connection if necessary., +++ b/src/main/java/org/jboss/netty/example/http/websocket/WebSocketServer.java, + * An HTTP server which serves Web Socket requests at:, + *, + *     http://localhost:8080/websocket, + *, + * Open your browser at http://localhost:8080/, then the demo page will be, + * loaded and a Web Socket connection will be made automatically., + *, +++ b/src/main/java/org/jboss/netty/example/http/websocket/WebSocketServerHandler.java, +        // Send the demo page., +        // Serve the WebSocket handshake request., +        if (req.getUri().equals(WEBSOCKET_PATH) &&, +            HttpHeaders.Values.UPGRADE.equalsIgnoreCase(req.getHeader(HttpHeaders.Names.CONNECTION)) &&, +, +            // Create the WebSocket handshake response., +            // Upgrade the connection and send the handshake response., +        // Send an error page otherwise., +        // Generate an error page if response status code is not OK (200)., +        // Send the response and close the connection if necessary., +++ b/src/main/java/org/jboss/netty/example/http/websocket/WebSocketServerIndexPage.java, + * Generates the demo HTML page which is served at http://localhost:8080/, + *]