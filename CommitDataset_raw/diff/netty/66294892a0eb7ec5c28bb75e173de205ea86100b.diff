[+++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +    private static final ByteBuffer EMPTY_BYTEBUFFER = ByteBuffer.allocateDirect(0);, +            return new ByteBuffer[] { EMPTY_BYTEBUFFER };, +++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +    private static final ByteBuffer EMPTY_BYTEBUFFER = ByteBuffer.allocateDirect(0);, +            return new ByteBuffer[] { EMPTY_BYTEBUFFER };, +++ b/buffer/src/test/java/io/netty/buffer/AbstractByteBufTest.java, +    @Test, +    public void testEmptyNioBuffers() throws Exception {, +        ByteBuf buffer = releaseLater(newBuffer(8));, +        buffer.clear();, +        assertFalse(buffer.isReadable());, +        ByteBuffer[] nioBuffers = buffer.nioBuffers();, +        assertEquals(1, nioBuffers.length);, +        assertFalse(nioBuffers[0].hasRemaining());, +    }, +]