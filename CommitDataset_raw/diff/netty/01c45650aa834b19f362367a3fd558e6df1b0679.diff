[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +                    close(k);, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +                    close(k);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/DelimiterBasedFrameDecoder.java, +    private final boolean failFast;, +        this(maxFrameLength, stripDelimiter, true, delimiter);, +    }, +, +    /**, +     * Creates a new instance., +     *, +     * @param maxFrameLength  the maximum length of the decoded frame., +     *                        A {@link TooLongFrameException} is thrown if, +     *                        the length of the frame exceeds this value., +     * @param stripDelimiter  whether the decoded frame should strip out the, +     *                        delimiter or not, +     * @param failFast  If <tt>true</tt>, a {@link TooLongFrameException} is, +     *                  thrown as soon as the decoder notices the length of the, +     *                  frame will exceed <tt>maxFrameLength</tt> regardless of, +     *                  whether the entire frame has been read., +     *                  If <tt>false</tt>, a {@link TooLongFrameException} is, +     *                  thrown after the entire frame that exceeds, +     *                  <tt>maxFrameLength</tt> has been read., +     * @param delimiter  the delimiter, +     */, +    public DelimiterBasedFrameDecoder(, +            int maxFrameLength, boolean stripDelimiter, boolean failFast,, +            ChannelBuffer delimiter) {, +        this.failFast = failFast;, +     * Creates a new instance., +     *, +     * @param maxFrameLength  the maximum length of the decoded frame., +     *                        A {@link TooLongFrameException} is thrown if, +     *                        the length of the frame exceeds this value., +     * @param stripDelimiter  whether the decoded frame should strip out the, +     *                        delimiter or not, +     * @param delimiters  the delimiters, +        this(maxFrameLength, stripDelimiter, true, delimiters);, +     * @param failFast  If <tt>true</tt>, a {@link TooLongFrameException} is, +     *                  thrown as soon as the decoder notices the length of the, +     *                  frame will exceed <tt>maxFrameLength</tt> regardless of, +     *                  whether the entire frame has been read., +     *                  If <tt>false</tt>, a {@link TooLongFrameException} is, +     *                  thrown after the entire frame that exceeds, +     *                  <tt>maxFrameLength</tt> has been read., +            int maxFrameLength, boolean stripDelimiter, boolean failFast, ChannelBuffer... delimiters) {, +        this.failFast = failFast;, +                if (!failFast) {, +                    if (failFast) {, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +                    close(k);, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/DelimiterBasedFrameDecoder.java, +    private final boolean failFast;, +        this(maxFrameLength, stripDelimiter, true, delimiter);, +    }, +, +    /**, +     * Creates a new instance., +     *, +     * @param maxFrameLength  the maximum length of the decoded frame., +     *                        A {@link TooLongFrameException} is thrown if, +     *                        the length of the frame exceeds this value., +     * @param stripDelimiter  whether the decoded frame should strip out the, +     *                        delimiter or not, +     * @param failFast  If <tt>true</tt>, a {@link TooLongFrameException} is, +     *                  thrown as soon as the decoder notices the length of the, +     *                  frame will exceed <tt>maxFrameLength</tt> regardless of, +     *                  whether the entire frame has been read., +     *                  If <tt>false</tt>, a {@link TooLongFrameException} is, +     *                  thrown after the entire frame that exceeds, +     *                  <tt>maxFrameLength</tt> has been read., +     * @param delimiter  the delimiter, +     */, +    public DelimiterBasedFrameDecoder(, +            int maxFrameLength, boolean stripDelimiter, boolean failFast,, +            ChannelBuffer delimiter) {, +        this.failFast = failFast;, +     * Creates a new instance., +     *, +     * @param maxFrameLength  the maximum length of the decoded frame., +     *                        A {@link TooLongFrameException} is thrown if, +     *                        the length of the frame exceeds this value., +     * @param stripDelimiter  whether the decoded frame should strip out the, +     *                        delimiter or not, +     * @param delimiters  the delimiters, +        this(maxFrameLength, stripDelimiter, true, delimiters);, +     * @param failFast  If <tt>true</tt>, a {@link TooLongFrameException} is, +     *                  thrown as soon as the decoder notices the length of the, +     *                  frame will exceed <tt>maxFrameLength</tt> regardless of, +     *                  whether the entire frame has been read., +     *                  If <tt>false</tt>, a {@link TooLongFrameException} is, +     *                  thrown after the entire frame that exceeds, +     *                  <tt>maxFrameLength</tt> has been read., +            int maxFrameLength, boolean stripDelimiter, boolean failFast, ChannelBuffer... delimiters) {, +        this.failFast = failFast;, +                if (!failFast) {, +                    if (failFast) {, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/LengthFieldBasedFrameDecoder.java, +    private final boolean failFast;]