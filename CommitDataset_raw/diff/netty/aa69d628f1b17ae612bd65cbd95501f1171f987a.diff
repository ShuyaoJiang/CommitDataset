[+++ b/codec/src/main/java/io/netty/handler/codec/ByteToMessageCodec.java, +    private final MessageToByteEncoder<OUTBOUND_IN> encoder;, +    private final ByteToMessageDecoder<INBOUND_OUT> decoder;, +, +    protected ByteToMessageCodec(Class<?>... encodableMessageTypes) {, +        encoder = new MessageToByteEncoder<OUTBOUND_IN>(encodableMessageTypes) {, +            protected void encode(ChannelHandlerContext ctx, OUTBOUND_IN msg, ByteBuf out) throws Exception {, +        decoder = new ByteToMessageDecoder<INBOUND_OUT>() {, +    }, +    protected boolean isEncodable(Object msg) throws Exception {, +        return encoder.isEncodable(msg);, +    }, +    protected abstract void encode(ChannelHandlerContext ctx, OUTBOUND_IN msg, ByteBuf out) throws Exception;, +    protected abstract INBOUND_OUT decode(ChannelHandlerContext ctx, ByteBuf in) throws Exception;]