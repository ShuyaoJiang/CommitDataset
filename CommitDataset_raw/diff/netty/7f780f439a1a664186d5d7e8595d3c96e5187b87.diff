[+++ b/example/src/main/java/io/netty/example/http/websocketx/autobahn/AutobahnServerHandler.java, +            handshaker.close(ctx.channel(), (CloseWebSocketFrame) frame.retain());, +            ctx.nextOutboundMessageBuffer().add(, +                    new PongWebSocketFrame(frame.isFinalFragment(), frame.rsv(), frame.data().retain()));, +            ctx.nextOutboundMessageBuffer().add(frame.retain());, +            ctx.nextOutboundMessageBuffer().add(frame.retain());, +            ctx.nextOutboundMessageBuffer().add(frame.retain());, +    @Override, +    protected void endMessageReceived(ChannelHandlerContext ctx) throws Exception {, +        if (handshaker != null) {, +            ctx.flush().addListener(ChannelFutureListener.CLOSE_ON_FAILURE);, +        }, +    }, +]