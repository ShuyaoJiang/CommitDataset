[+++ b/codec/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java, +    private boolean decodeWasNull;, +                decodeWasNull = size == 0;, +        if (decodeWasNull) {, +            decodeWasNull = false;, +            if (!ctx.channel().config().isAutoRead()) {, +                ctx.read();, +            }, +        }, +++ b/codec/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java, +    private boolean decodeWasNull;, +                decodeWasNull = size == 0;, +        if (decodeWasNull) {, +            decodeWasNull = false;, +            if (!ctx.channel().config().isAutoRead()) {, +                ctx.read();, +            }, +        }, +++ b/codec/src/test/java/io/netty/handler/codec/ByteToMessageDecoderTest.java, +++ b/codec/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java, +    private boolean decodeWasNull;, +                decodeWasNull = size == 0;, +        if (decodeWasNull) {, +            decodeWasNull = false;, +            if (!ctx.channel().config().isAutoRead()) {, +                ctx.read();, +            }, +        }, +++ b/codec/src/test/java/io/netty/handler/codec/ByteToMessageDecoderTest.java, +++ b/transport/src/main/java/io/netty/channel/AbstractChannelHandlerContext.java, +++ b/codec/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java, +    private boolean decodeWasNull;, +                decodeWasNull = size == 0;, +        if (decodeWasNull) {, +            decodeWasNull = false;, +            if (!ctx.channel().config().isAutoRead()) {, +                ctx.read();, +            }, +        }, +++ b/codec/src/test/java/io/netty/handler/codec/ByteToMessageDecoderTest.java, +++ b/transport/src/main/java/io/netty/channel/AbstractChannelHandlerContext.java, +++ b/transport/src/test/java/io/netty/channel/DefaultChannelPipelineTest.java]