[+++ b/transport-native-epoll/src/main/c/io_netty_channel_epoll_Native.c, +, +/**, + * On older Linux kernels, epoll can't handle timeout, + * values bigger than (LONG_MAX - 999ULL)/HZ., + *, + * See:, + *   - https://github.com/libevent/libevent/blob/master/epoll.c#L138, + *   - http://cvs.schmorp.de/libev/ev_epoll.c?revision=1.68&view=markup, + */, +#define MAX_EPOLL_TIMEOUT_MSEC (35*60*1000), +, +, +    if (timeout > MAX_EPOLL_TIMEOUT_MSEC) {, +        // Workaround for bug in older linux kernels that can not handle bigger timeout then MAX_EPOLL_TIMEOUT_MSEC., +        timeout = MAX_EPOLL_TIMEOUT_MSEC;, +    }]