[+++ b/buffer/src/main/java/io/netty/buffer/EmptyByteBuf.java, +        return checkLength(src.readableBytes());, +++ b/buffer/src/main/java/io/netty/buffer/EmptyByteBuf.java, +        return checkLength(src.readableBytes());, +++ b/buffer/src/test/java/io/netty/buffer/EmptyByteBufTest.java, +    public void testWriteEmptyByteBuf() {, +        EmptyByteBuf empty = new EmptyByteBuf(UnpooledByteBufAllocator.DEFAULT);, +        empty.writeBytes(Unpooled.EMPTY_BUFFER); // Ok, +        ByteBuf nonEmpty = UnpooledByteBufAllocator.DEFAULT.buffer().writeBoolean(false);, +        try {, +            empty.writeBytes(nonEmpty);, +            fail();, +        } catch (IndexOutOfBoundsException ignored) {, +            // Ignore., +        }, +    }, +, +    @Test]