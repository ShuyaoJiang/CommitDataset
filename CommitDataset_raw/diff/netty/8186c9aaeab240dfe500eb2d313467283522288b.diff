[+++ b/common/src/main/java/io/netty/util/AsciiString.java, +        final int len = offset + length;, +++ b/common/src/main/java/io/netty/util/AsciiString.java, +        final int len = offset + length;, +++ b/common/src/test/java/io/netty/util/AsciiStringCharacterTest.java, +, +    @Test, +    public void testIndexOf() {, +        AsciiString foo = AsciiString.of("This is a test");, +        int i1 = foo.indexOf(' ', 0);, +        assertEquals(4, i1);, +        int i2 = foo.indexOf(' ', i1 + 1);, +        assertEquals(7, i2);, +        int i3 = foo.indexOf(' ', i2 + 1);, +        assertEquals(9, i3);, +        assertTrue(i3 + 1 < foo.length());, +        int i4 = foo.indexOf(' ', i3 + 1);, +        assertEquals(i4, -1);, +    }]