[+++ b/codec/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java, +, +    private static final ThreadLocal<MessageBuf<Object>> decoderOutput =, +            new ThreadLocal<MessageBuf<Object>>() {, +                @Override, +                protected MessageBuf<Object> initialValue() {, +                    return Unpooled.messageBuffer();, +                }, +            };, +        try {, +                }, +            }, +    }, +        return decoderOutput.get();, +++ b/codec/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java, +, +    private static final ThreadLocal<MessageBuf<Object>> decoderOutput =, +            new ThreadLocal<MessageBuf<Object>>() {, +                @Override, +                protected MessageBuf<Object> initialValue() {, +                    return Unpooled.messageBuffer();, +                }, +            };, +        try {, +                }, +            }, +    }, +        return decoderOutput.get();, +++ b/codec/src/main/java/io/netty/handler/codec/ReplayingDecoder.java, +, +        assert out.isEmpty();, +, +        try {, +                }, +            }, +    }]