[+++ b/src/main/java/org/jboss/netty/util/TimeBasedUuidGenerator.java, +, +    private static final Object counterLock = new Object();, +    private static long timestamp = System.currentTimeMillis();, +    private static int  clockSeq = (int) System.nanoTime();, +        final long ts;, +        final int  cs;, +        synchronized (counterLock) {, +            cs = (clockSeq ++) & 0x3FFF; // 0~16383, +            if (cs == 0) {, +                // Not all platform has millisecond precision for, +                // System.currentTimeMillis() - Just focus on generating, +                // unique IDs instead of using correct timestamp., +                ts = ++ timestamp;, +            } else {, +                ts = timestamp;, +            }, +        }, +        long msb = (ts & 0xFFFFFFFFL) << 32 |, +                   (ts >>> 32 & 0xFFFF) << 16 |, +                    ts >>> 48 & 0xFFFF;, +        long lsb = (long) cs << 48 | NODE;]