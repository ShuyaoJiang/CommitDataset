[+++ b/handler/src/main/java/io/netty/handler/ssl/SslHandler.java, +        boolean notifyClosure = false;, +                    notifyClosure = true;, +, +            if (notifyClosure) {, +                sslCloseFuture.trySuccess(ctx.channel());, +            }, +++ b/handler/src/main/java/io/netty/handler/ssl/SslHandler.java, +        boolean notifyClosure = false;, +                    notifyClosure = true;, +, +            if (notifyClosure) {, +                sslCloseFuture.trySuccess(ctx.channel());, +            }, +++ b/testsuite/src/test/java/io/netty/testsuite/transport/socket/SocketSslEchoTest.java, +        public void channelActive(ChannelHandlerContext ctx) throws Exception {, +, +                assertThat(hf.isDone(), is(true));, +, +                assertSame(SslHandshakeCompletionEvent.SUCCESS, evt);, +        public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {]