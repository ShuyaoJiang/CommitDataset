[+++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        int size = components.size();, +        // We're not using foreach to avoid creating an iterator., +        // see https://github.com/netty/netty/issues/2642, +        for (int i = 0; i < size; i++) {, +            components.get(i).freeIfNecessary();]