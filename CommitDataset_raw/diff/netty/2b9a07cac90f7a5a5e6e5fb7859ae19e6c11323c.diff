[+++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        int size = components.size();, +        if (size == 0) {, +        for (int i = 0; i < size; i++) {, +           if (!components.get(i).buf.isDirect()) {, +               return false;, +           }, +        }, +        return true;, +    }, +++ b/buffer/src/main/java/io/netty/buffer/CompositeByteBuf.java, +        int size = components.size();, +        if (size == 0) {, +        for (int i = 0; i < size; i++) {, +           if (!components.get(i).buf.isDirect()) {, +               return false;, +           }, +        }, +        return true;, +    }, +++ b/buffer/src/test/java/io/netty/buffer/AbstractCompositeByteBufTest.java, +, +    @Test, +    public void testisDirectMultipleBufs() {, +        CompositeByteBuf buf = freeLater(compositeBuffer());, +        assertFalse(buf.isDirect());, +, +        buf.addComponent(directBuffer().writeByte(1));, +, +        assertTrue(buf.isDirect());, +        buf.addComponent(directBuffer().writeByte(1));, +        assertTrue(buf.isDirect());, +, +        buf.addComponent(buffer().writeByte(1));, +        assertFalse(buf.isDirect());, +, +    }]