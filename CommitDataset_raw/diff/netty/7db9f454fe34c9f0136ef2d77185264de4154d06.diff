[+++ b/codec-redis/src/main/java/io/netty/handler/codec/redis/BulkStringHeaderRedisMessage.java, +        if (bulkStringLength <= 0) {, +            throw new RedisCodecException("bulkStringLength: " + bulkStringLength + " (expected: > 0)");, +        }, +++ b/codec-redis/src/main/java/io/netty/handler/codec/redis/BulkStringHeaderRedisMessage.java, +        if (bulkStringLength <= 0) {, +            throw new RedisCodecException("bulkStringLength: " + bulkStringLength + " (expected: > 0)");, +        }, +++ b/codec-redis/src/main/java/io/netty/handler/codec/redis/RedisBulkStringAggregator.java, +++ b/codec-redis/src/main/java/io/netty/handler/codec/redis/BulkStringHeaderRedisMessage.java, +        if (bulkStringLength <= 0) {, +            throw new RedisCodecException("bulkStringLength: " + bulkStringLength + " (expected: > 0)");, +        }, +++ b/codec-redis/src/main/java/io/netty/handler/codec/redis/RedisBulkStringAggregator.java, +++ b/codec-redis/src/main/java/io/netty/handler/codec/redis/RedisDecoder.java, +            return decodeBulkString(in, out);, +    private boolean decodeBulkString(ByteBuf in, List<Object> out) throws Exception {, +        switch (remainingBulkLength) {, +            out.add(new BulkStringHeaderRedisMessage(remainingBulkLength));, +++ b/codec-redis/src/main/java/io/netty/handler/codec/redis/BulkStringHeaderRedisMessage.java, +        if (bulkStringLength <= 0) {, +            throw new RedisCodecException("bulkStringLength: " + bulkStringLength + " (expected: > 0)");, +        }, +++ b/codec-redis/src/main/java/io/netty/handler/codec/redis/RedisBulkStringAggregator.java, +++ b/codec-redis/src/main/java/io/netty/handler/codec/redis/RedisDecoder.java, +            return decodeBulkString(in, out);, +    private boolean decodeBulkString(ByteBuf in, List<Object> out) throws Exception {, +        switch (remainingBulkLength) {, +            out.add(new BulkStringHeaderRedisMessage(remainingBulkLength));, +++ b/codec-redis/src/test/java/io/netty/handler/codec/redis/RedisDecoderTest.java, +        assertTrue(channel.writeInbound(byteBufOf("$")));, +        assertTrue(channel.writeInbound(byteBufOf(Integer.toString(-1))));, +        assertTrue(channel.writeInbound(byteBufOf("\r\n")));, +        FullBulkStringRedisMessage msg1 = channel.readInbound();, +        assertThat(msg1.isNull(), is(true));, +        ReferenceCountUtil.release(msg1);, +        FullBulkStringRedisMessage msg2 = channel.readInbound();, +        assertThat(msg2.isNull(), is(true));, +        ReferenceCountUtil.release(msg2);, +, +        FullBulkStringRedisMessage msg3 = channel.readInbound();, +        assertThat(msg3, is(nullValue()));]