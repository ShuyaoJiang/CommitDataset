[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/cookie/CookieEncoder.java, +                throw new IllegalArgumentException("Cookie value contains an invalid char: " +, +                                                   unwrappedValue.charAt(pos));, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/cookie/CookieEncoder.java, +                throw new IllegalArgumentException("Cookie value contains an invalid char: " +, +                                                   unwrappedValue.charAt(pos));, +++ b/codec-http/src/test/java/io/netty/handler/codec/http/cookie/ServerCookieEncoderTest.java, +import static org.junit.Assert.assertThat;, +import static org.junit.matchers.JUnitMatchers.containsString;, +    public void illegalCharInWrappedValueAppearsInException() {, +        try {, +            ServerCookieEncoder.STRICT.encode(new DefaultCookie("name", "\"value,\""));, +        } catch (IllegalArgumentException e) {, +            assertThat(e.getMessage().toLowerCase(), containsString("cookie value contains an invalid char: ,"));, +        }, +    }, +, +    @Test]