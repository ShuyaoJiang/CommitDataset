[+++ b/src/main/java/org/jboss/netty/example/securechat/SecureChatServerHandler.java, +        handshakeFuture.addListener(new Greeter(sslHandler));, +, +    /**, +     * @author The Netty Project (netty-dev@lists.jboss.org), +     * @author Trustin Lee (tlee@redhat.com), +     * @version $Rev$, $Date$, +     */, +    private static final class Greeter implements ChannelFutureListener {, +    , +        private final SslHandler sslHandler;, +    , +        Greeter(SslHandler sslHandler) {, +            this.sslHandler = sslHandler;, +        }, +    , +        public void operationComplete(ChannelFuture future) throws Exception {, +            if (future.isSuccess()) {, +                // Once session is secured, send a greeting., +                future.getChannel().write(, +                        "Welcome to " + InetAddress.getLocalHost().getHostName() +, +                        " secure chat service!\n");, +                future.getChannel().write(, +                        "Your session is protected by " +, +                        sslHandler.getEngine().getSession().getCipherSuite() +, +                        " cipher suite.\n");, +    , +                // Register the channel to the global channel list, +                // so the channel received the messages from others., +                channels.add(future.getChannel());, +            } else {, +                future.getChannel().close();, +            }, +        }, +    }]