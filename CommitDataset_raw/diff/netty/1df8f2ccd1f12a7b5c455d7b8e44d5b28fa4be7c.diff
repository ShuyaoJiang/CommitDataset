[+++ b/transport-native-kqueue/src/main/c/netty_kqueue_eventarray.c, +    } else if ((flags & EV_DELETE) != 0) {, +        // If the event is deleted, make sure it no longer has a reference to the jniSelfPtr because it shouldn't be used after this point., +        jniSelfPtr = 0;, +++ b/transport-native-kqueue/src/main/c/netty_kqueue_eventarray.c, +    } else if ((flags & EV_DELETE) != 0) {, +        // If the event is deleted, make sure it no longer has a reference to the jniSelfPtr because it shouldn't be used after this point., +        jniSelfPtr = 0;, +++ b/transport-native-kqueue/src/main/java/io/netty/channel/kqueue/AbstractKQueueChannel.java, +                // The FD will be closed, which should take care of deleting any associated events from kqueue, but, +                // since we rely upon jniSelfRef to be consistent we make sure that we clear this reference out for all], +                // events which are pending in kqueue to avoid referencing a deleted pointer at a later time., +                doDeregister();]