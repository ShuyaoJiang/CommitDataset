[+++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollChannel.java, +                    } catch (IOException ignored) {, +                        // We attempted to shutdown and failed, which means the input has already effectively been, +                        // shutdown., +                        pipeline().fireUserEventTriggered(ChannelInputShutdownEvent.INSTANCE);, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollChannel.java, +                    } catch (IOException ignored) {, +                        // We attempted to shutdown and failed, which means the input has already effectively been, +                        // shutdown., +                        pipeline().fireUserEventTriggered(ChannelInputShutdownEvent.INSTANCE);, +++ b/transport-native-epoll/src/main/java/io/netty/channel/unix/Socket.java, +    public void shutdown() throws IOException {, +        shutdown(!inputShutdown, !outputShutdown);, +    }, +, +        shutdown0(read, write);, +    }, +, +    private void shutdown0(boolean read, boolean write) throws IOException {]