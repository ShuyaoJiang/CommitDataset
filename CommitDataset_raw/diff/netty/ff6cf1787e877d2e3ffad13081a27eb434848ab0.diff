[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +import java.nio.channels.ClosedSelectorException;, +            boolean cancelled = false;, +                    cancelled = true;, +                }, +                channel.socket.close();, +            }, +, +            if (cancelled) {, +                    try {, +                        if (worker.wakenUp.get()) {, +                            selector.wakeup();, +                        }, +                    } catch (ClosedSelectorException e) {, +                        // Can happen - ignore.]