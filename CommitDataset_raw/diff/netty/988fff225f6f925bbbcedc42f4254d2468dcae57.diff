[+++ b/src/main/java/org/jboss/netty/channel/xnio/XnioClientChannel.java, +    volatile boolean connecting;, +++ b/src/main/java/org/jboss/netty/channel/xnio/XnioClientChannel.java, +    volatile boolean connecting;, +++ b/src/main/java/org/jboss/netty/channel/xnio/XnioClientChannelSink.java, +import java.nio.channels.AlreadyConnectedException;, +import java.nio.channels.ConnectionPendingException;, +                            if (cc.connecting) {, +                                Exception cause = new ConnectionPendingException();, +                                future.setFailure(cause);, +                                fireExceptionCaught(channel, cause);, +                            } else {, +                                cc.connecting = true;, +                                            } finally {, +                                                cc.connecting = false;, +                                } else {, +                                    Exception cause = new AlreadyConnectedException();, +                                    future.setFailure(cause);, +                                    fireExceptionCaught(cc, cause);, +                                }, +                        Exception cause = new UnsupportedOperationException();, +                        future.setFailure(cause);, +                        fireExceptionCaught(channel, cause);]