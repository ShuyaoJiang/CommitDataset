[+++ b/resolver-dns/src/main/java/io/netty/resolver/dns/DnsQueryContext.java, +            if (!promise.trySuccess(castResponse)) {, +                // We failed to notify the promise as it was failed before, thus we need to release the envelope, +                envelope.release();, +            }]