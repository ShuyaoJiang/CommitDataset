[+++ b/transport/src/main/java/io/netty/channel/nio/AbstractNioChannel.java, +            // Cache connect promise as connectPromise will be set to null once it is notified., +            // This is needed to prevent a possible NPE, +            // See https://github.com/netty/netty/issues/2086, +            ChannelPromise promise = connectPromise;, +, +                fulfillConnectPromise(promise, wasActive);, +                promise.tryFailure(t);]