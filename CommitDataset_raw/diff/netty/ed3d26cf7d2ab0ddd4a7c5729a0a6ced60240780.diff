[+++ b/transport/src/main/java/io/netty/channel/ChannelOutboundBuffer.java, +import java.util.Arrays;, +            clearNioBuffers();, +            clearNioBuffers();, +        clearNioBuffers();, +    }, +, +    // Clear all ByteBuffer from the array so these can be GC'ed., +    // See https://github.com/netty/netty/issues/3837, +    private void clearNioBuffers() {, +        int count = nioBufferCount;, +        if (count > 0) {, +            nioBufferCount = 0;, +            Arrays.fill(NIO_BUFFERS.get(), 0, count, null);, +        }, +        clearNioBuffers();]