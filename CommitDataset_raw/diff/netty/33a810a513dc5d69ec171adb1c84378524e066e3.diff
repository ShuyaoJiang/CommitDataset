[+++ b/codec-http/src/main/java/io/netty/handler/codec/spdy/SpdyOrHttpChooser.java, +import io.netty.util.internal.StringUtil;, +    protected SelectedProtocol getProtocol(SSLEngine engine) {, +        String[] protocol = StringUtil.split(engine.getSession().getProtocol(), ':');, +        if (protocol.length < 2) {, +            // Use HTTP/1.1 as default, +            return SelectedProtocol.HTTP_1_1;, +        }, +        SelectedProtocol selectedProtocol = SelectedProtocol.protocol(protocol[1]);, +        return selectedProtocol;, +    }, +++ b/codec-http/src/main/java/io/netty/handler/codec/spdy/SpdyOrHttpChooser.java, +import io.netty.util.internal.StringUtil;, +    protected SelectedProtocol getProtocol(SSLEngine engine) {, +        String[] protocol = StringUtil.split(engine.getSession().getProtocol(), ':');, +        if (protocol.length < 2) {, +            // Use HTTP/1.1 as default, +            return SelectedProtocol.HTTP_1_1;, +        }, +        SelectedProtocol selectedProtocol = SelectedProtocol.protocol(protocol[1]);, +        return selectedProtocol;, +    }, +++ b/example/src/main/java/io/netty/example/spdy/server/SpdyOrHttpHandler.java]