[+++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/DefaultHttp2RemoteFlowController.java, +            if (frame != null) {, +                // Only create exception once and reuse to reduce overhead of filling in the stacktrace., +                final Http2Exception exception = streamError(stream.id(), INTERNAL_ERROR, cause,, +                        "Stream closed before write could take place");, +                do {, +                    writeError(frame, exception);, +                    frame = pendingWriteQueue.poll();, +                } while (frame != null);]