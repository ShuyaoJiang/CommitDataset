[+++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +++ b/buffer/src/test/java/io/netty/buffer/AbstractByteBufTest.java, +    @Test, +    public void testSliceRelease() {, +        ByteBuf buf = newBuffer(8);, +        assertEquals(1, buf.refCnt());, +        assertTrue(buf.slice().release());, +        assertEquals(0, buf.refCnt());, +    }, +, +    @Test, +    public void testDuplicateRelease() {, +        ByteBuf buf = newBuffer(8);, +        assertEquals(1, buf.refCnt());, +        assertTrue(buf.duplicate().release());, +        assertEquals(0, buf.refCnt());, +    }, +]