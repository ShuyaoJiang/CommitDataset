[+++ b/codec/src/main/java/io/netty/handler/codec/compression/SnappyFramedEncoder.java, +        out.writeByte(checksum >>> 8 & 0x0ff);, +        out.writeByte(checksum >>> 16 & 0x0ff);, +        out.writeByte(checksum >>> 24);, +++ b/codec/src/main/java/io/netty/handler/codec/compression/SnappyFramedEncoder.java, +        out.writeByte(checksum >>> 8 & 0x0ff);, +        out.writeByte(checksum >>> 16 & 0x0ff);, +        out.writeByte(checksum >>> 24);, +++ b/codec/src/test/java/io/netty/handler/codec/compression/SnappyIntegrationTest.java, +import static org.hamcrest.Matchers.*;, +        testEncoderDecoderIdentity(in);, +        testEncoderDecoderIdentity(in);, +    }, +, +    private static void testEncoderDecoderIdentity(ByteBuf in) {, +        EmbeddedByteChannel encoder = new EmbeddedByteChannel(new SnappyFramedEncoder());, +        EmbeddedByteChannel decoder = new EmbeddedByteChannel(new SnappyFramedDecoder());, +, +        encoder.writeOutbound(in.copy());, +        ByteBuf compressed = encoder.readOutbound();, +        assertThat(compressed, is(not(in)));, +        decoder.writeInbound(compressed);, +        assertFalse(compressed.isReadable());, +        ByteBuf decompressed = (ByteBuf) decoder.readInbound();, +        assertEquals(in, decompressed);]