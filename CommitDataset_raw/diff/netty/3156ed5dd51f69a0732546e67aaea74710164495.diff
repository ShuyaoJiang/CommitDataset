[+++ b/src/main/java/org/jboss/netty/handler/codec/http/websocket/WebSocketFrame.java, +import org.jboss.netty.buffer.ChannelBuffers;, +     * Closing handshake message (<tt>0xFF, 0x00</tt>), +     */, +    WebSocketFrame CLOSING_HANDSHAKE = new DefaultWebSocketFrame(0xFF, ChannelBuffers.EMPTY_BUFFER);, +, +    /**, +++ b/src/main/java/org/jboss/netty/handler/codec/http/websocket/WebSocketFrame.java, +import org.jboss.netty.buffer.ChannelBuffers;, +     * Closing handshake message (<tt>0xFF, 0x00</tt>), +     */, +    WebSocketFrame CLOSING_HANDSHAKE = new DefaultWebSocketFrame(0xFF, ChannelBuffers.EMPTY_BUFFER);, +, +    /**, +++ b/src/main/java/org/jboss/netty/handler/codec/http/websocket/WebSocketFrameDecoder.java, +    private boolean receivedClosingHandshake;, +, +        // Discard all data received if closing handshake was received before., +        if (receivedClosingHandshake) {, +            buffer.skipBytes(actualReadableBytes());, +            return null;, +        }, +, +        // Decode a frame otherwise., +        if (type == 0xFF && frameSize == 0) {, +            receivedClosingHandshake = true;, +        }, +]