[+++ b/handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslEngine.java, +        leak = leakDetection ? leakDetector.track(this) : null;, +++ b/handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslEngine.java, +        leak = leakDetection ? leakDetector.track(this) : null;, +++ b/handler/src/test/java/io/netty/handler/ssl/ReferenceCountedOpenSslEngineTest.java, +import io.netty.handler.ssl.util.InsecureTrustManagerFactory;, +import org.junit.Test;, +, +    @Test(expected = NullPointerException.class), +    public void testNotLeakOnException() throws Exception {, +        clientSslCtx = SslContextBuilder.forClient(), +                .trustManager(InsecureTrustManagerFactory.INSTANCE), +                .sslProvider(sslClientProvider()), +                .build();, +, +        clientSslCtx.newEngine(null);, +    }]