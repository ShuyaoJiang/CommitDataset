[+++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/HpackHuffmanDecoder.java, +                // Choose an expanding strategy depending on how big the buffer already is., +                // 1024 was choosen as a good guess and we may be able to investigate more if there are better choices., +                // See also https://github.com/netty/netty/issues/6846, +                final int newLength = bytes.length >= 1024 ? bytes.length + initialCapacity : bytes.length << 1;, +                byte[] newBytes = new byte[newLength];]