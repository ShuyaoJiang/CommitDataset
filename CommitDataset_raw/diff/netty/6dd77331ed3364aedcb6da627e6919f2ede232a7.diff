[+++ b/src/main/java/org/jboss/netty/channel/socket/oio/OioWorker.java, +import java.nio.channels.Channels;, +import java.nio.channels.WritableByteChannel;, +import org.jboss.netty.channel.FileRegion;, +            int length = 0;, +, +            // Add support to write a FileRegion. This in fact will not give any performance gain but at least it not fail and , +            // we did the best to emulate it, +            if (message instanceof FileRegion) {, +                FileRegion fr = (FileRegion) message;, +                try {, +                    synchronized (out) {, +                        WritableByteChannel  bchannel = Channels.newChannel(out);, +                        , +                        long i = 0;, +                        while ((i = fr.transferTo(bchannel, length)) > 0) {, +                            length += i;, +                            if (length >= fr.getCount()) {, +                                break;, +                            }, +                        }, +                    }, +                } finally {, +                    fr.releaseExternalResources();, +, +                }, +            } else {, +                length = a.readableBytes();, +            }, +, + ]