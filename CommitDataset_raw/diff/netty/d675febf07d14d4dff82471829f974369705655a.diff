[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringDecoder.java, +import static io.netty.util.internal.ObjectUtil.checkNotNull;, +import static io.netty.util.internal.ObjectUtil.checkPositive;, +import static io.netty.util.internal.StringUtil.EMPTY_STRING;, +, +        checkNotNull(uri, "uri");, +        checkNotNull(charset, "charset");, +        checkPositive(maxParams, "maxParams");, +        checkNotNull(uri, "uri");, +        checkNotNull(charset, "charset");, +        checkPositive(maxParams, "maxParams");, +            rawPath = EMPTY_STRING;, +        this.uri = uri.getRawQuery() == null? rawPath : rawPath + '?' + uri.getRawQuery();, +                path = EMPTY_STRING;, +                path = decodeComponent(pathEndPos < 0 ? uri : uri.substring(0, pathEndPos), charset);, +                    if (!addParam(params, decodeComponent(s.substring(pos, i), charset), EMPTY_STRING)) {, +                addParam(params, decodeComponent(s.substring(pos, i), charset), EMPTY_STRING);, +            return EMPTY_STRING;, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringDecoder.java, +import static io.netty.util.internal.ObjectUtil.checkNotNull;, +import static io.netty.util.internal.ObjectUtil.checkPositive;, +import static io.netty.util.internal.StringUtil.EMPTY_STRING;, +, +        checkNotNull(uri, "uri");, +        checkNotNull(charset, "charset");, +        checkPositive(maxParams, "maxParams");, +        checkNotNull(uri, "uri");, +        checkNotNull(charset, "charset");, +        checkPositive(maxParams, "maxParams");, +            rawPath = EMPTY_STRING;, +        this.uri = uri.getRawQuery() == null? rawPath : rawPath + '?' + uri.getRawQuery();, +                path = EMPTY_STRING;, +                path = decodeComponent(pathEndPos < 0 ? uri : uri.substring(0, pathEndPos), charset);, +                    if (!addParam(params, decodeComponent(s.substring(pos, i), charset), EMPTY_STRING)) {, +                addParam(params, decodeComponent(s.substring(pos, i), charset), EMPTY_STRING);, +            return EMPTY_STRING;, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringEncoder.java, +import io.netty.util.internal.ObjectUtil;, +, +import java.util.regex.Pattern;, +    private static final Pattern PATTERN = Pattern.compile("+", Pattern.LITERAL);, +        this.uri = ObjectUtil.checkNotNull(uri, "uri");, +        this.charset = ObjectUtil.checkNotNull(charset, "charset");, +        ObjectUtil.checkNotNull(name, "name");, +     * {@link #addParam(String, String)} method., +     * {@link #addParam(String, String)} method., +            return URLEncoder.encode(s, PATTERN.matcher(charset.name()).replaceAll("%20"));]