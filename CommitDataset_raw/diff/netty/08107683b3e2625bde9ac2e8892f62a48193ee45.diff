[+++ b/src/main/java/org/jboss/netty/channel/socket/oio/OioDatagramWorker.java, +import java.nio.ByteBuffer;, +            ChannelBuffer buf = (ChannelBuffer) message;, +            int length = buf.readableBytes();, +            ByteBuffer nioBuf = buf.toByteBuffer();, +            DatagramPacket packet;, +            if (nioBuf.hasArray()) {, +                // Avoid copy if the buffer is backed by an array., +                packet = new DatagramPacket(, +                        nioBuf.array(), nioBuf.arrayOffset(), length);, +            } else {, +                // Otherwise it will be expensive., +                byte[] arrayBuf = new byte[length];, +                buf.getBytes(0, arrayBuf);, +                packet = new DatagramPacket(arrayBuf, length);, +            }, +, +            fireWriteComplete(channel, length);]