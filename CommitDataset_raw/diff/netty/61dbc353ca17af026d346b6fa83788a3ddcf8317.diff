[+++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    int writerIndex;, +            this.swappedBuf = swappedBuf = newSwappedByteBuf();, +    /**, +     * Creates a new {@link SwappedByteBuf} for this {@link ByteBuf} instance., +     */, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new SwappedByteBuf(this);, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    int writerIndex;, +            this.swappedBuf = swappedBuf = newSwappedByteBuf();, +    /**, +     * Creates a new {@link SwappedByteBuf} for this {@link ByteBuf} instance., +     */, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new SwappedByteBuf(this);, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/PooledUnsafeDirectByteBuf.java, +, +    @Override, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new UnsafeDirectSwappedByteBuf(this, memoryAddress);, +    }, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    int writerIndex;, +            this.swappedBuf = swappedBuf = newSwappedByteBuf();, +    /**, +     * Creates a new {@link SwappedByteBuf} for this {@link ByteBuf} instance., +     */, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new SwappedByteBuf(this);, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/PooledUnsafeDirectByteBuf.java, +, +    @Override, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new UnsafeDirectSwappedByteBuf(this, memoryAddress);, +    }, +++ b/buffer/src/main/java/io/netty/buffer/SwappedByteBuf.java, +public class SwappedByteBuf extends ByteBuf {, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    int writerIndex;, +            this.swappedBuf = swappedBuf = newSwappedByteBuf();, +    /**, +     * Creates a new {@link SwappedByteBuf} for this {@link ByteBuf} instance., +     */, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new SwappedByteBuf(this);, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/PooledUnsafeDirectByteBuf.java, +, +    @Override, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new UnsafeDirectSwappedByteBuf(this, memoryAddress);, +    }, +++ b/buffer/src/main/java/io/netty/buffer/SwappedByteBuf.java, +public class SwappedByteBuf extends ByteBuf {, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledUnsafeDirectByteBuf.java, +, +    @Override, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new UnsafeDirectSwappedByteBuf(this, memoryAddress);, +    }, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +    int writerIndex;, +            this.swappedBuf = swappedBuf = newSwappedByteBuf();, +    /**, +     * Creates a new {@link SwappedByteBuf} for this {@link ByteBuf} instance., +     */, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new SwappedByteBuf(this);, +    }, +, +++ b/buffer/src/main/java/io/netty/buffer/PooledUnsafeDirectByteBuf.java, +, +    @Override, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new UnsafeDirectSwappedByteBuf(this, memoryAddress);, +    }, +++ b/buffer/src/main/java/io/netty/buffer/SwappedByteBuf.java, +public class SwappedByteBuf extends ByteBuf {, +++ b/buffer/src/main/java/io/netty/buffer/UnpooledUnsafeDirectByteBuf.java, +, +    @Override, +    protected SwappedByteBuf newSwappedByteBuf() {, +        return new UnsafeDirectSwappedByteBuf(this, memoryAddress);, +    }, +++ b/buffer/src/main/java/io/netty/buffer/UnsafeDirectSwappedByteBuf.java, +/*, +* Copyright 2014 The Netty Project, +*, +* The Netty Project licenses this file to you under the Apache License,, +* version 2.0 (the "License"); you may not use this file except in compliance, +* with the License. You may obtain a copy of the License at:, +*]