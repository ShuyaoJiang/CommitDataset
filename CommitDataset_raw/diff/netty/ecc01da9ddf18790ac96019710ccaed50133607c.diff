[+++ b/handler/src/main/java/io/netty/handler/ssl/SslHandler.java, +import io.netty.handler.codec.UnsupportedMessageTypeException;, +        if (!(msg instanceof ByteBuf)) {, +            promise.setFailure(new UnsupportedMessageTypeException(msg, ByteBuf.class));, +            return;, +        }, +++ b/handler/src/main/java/io/netty/handler/ssl/SslHandler.java, +import io.netty.handler.codec.UnsupportedMessageTypeException;, +        if (!(msg instanceof ByteBuf)) {, +            promise.setFailure(new UnsupportedMessageTypeException(msg, ByteBuf.class));, +            return;, +        }, +++ b/handler/src/test/java/io/netty/handler/ssl/SslHandlerTest.java, +import io.netty.handler.codec.UnsupportedMessageTypeException;, +    @Test(expected = UnsupportedMessageTypeException.class), +    public void testNonByteBufNotPassThrough() throws Exception {, +        ch.writeOutbound(new Object());]