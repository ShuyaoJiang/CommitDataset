[+++ b/buffer/src/main/java/io/netty/buffer/ReadOnlyByteBufferBuf.java, +        return (ByteBuffer) buffer.duplicate().position(index).limit(index + length);, +++ b/buffer/src/main/java/io/netty/buffer/ReadOnlyByteBufferBuf.java, +        return (ByteBuffer) buffer.duplicate().position(index).limit(index + length);, +++ b/buffer/src/test/java/io/netty/buffer/ReadOnlyDirectByteBufferBufTest.java, +, +    @Test, +    public void testWrapBufferRoundTrip() {, +        ByteBuf buf = buffer(((ByteBuffer) allocate(16).putInt(1).putInt(2).flip()).asReadOnlyBuffer());, +        buffers.add(buf);, +, +        Assert.assertEquals(1, buf.readInt());, +, +        ByteBuffer nioBuffer = buf.nioBuffer();, +, +        // Ensure this can be accessed without throwing a BufferUnderflowException, +        Assert.assertEquals(2, nioBuffer.getInt());, +    }]