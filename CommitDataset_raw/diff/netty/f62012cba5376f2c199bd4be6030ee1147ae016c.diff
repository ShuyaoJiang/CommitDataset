[+++ b/transport-native-epoll/src/main/c/io_netty_channel_epoll_Native.c, +    code = getsockopt(fd, level, optname, optval, &optlen);, +JNIEXPORT jboolean JNICALL Java_io_netty_channel_epoll_Native_finishConnect(JNIEnv * env, jclass clazz, jint fd) {, +    // connect may be done, +    // return true if connection finished successfully, +    // return false if connection is still in progress, +    // throw exception if connection failed, +    if (res != 0) {, +        // getOption failed, +        throwIOException(env, exceptionMessage("finishConnect getOption failed: ", res));, +        return JNI_FALSE;, +    } else if (optval == EINPROGRESS) {, +        // connect still in progress, +        return JNI_FALSE;, +    } else if (optval == 0) {, +        // connect succeeded, +        return JNI_TRUE;, +    } else {, +        // connect failed, +        return JNI_FALSE;, +    }, +++ b/transport-native-epoll/src/main/c/io_netty_channel_epoll_Native.c, +    code = getsockopt(fd, level, optname, optval, &optlen);, +JNIEXPORT jboolean JNICALL Java_io_netty_channel_epoll_Native_finishConnect(JNIEnv * env, jclass clazz, jint fd) {, +    // connect may be done, +    // return true if connection finished successfully, +    // return false if connection is still in progress, +    // throw exception if connection failed, +    if (res != 0) {, +        // getOption failed, +        throwIOException(env, exceptionMessage("finishConnect getOption failed: ", res));, +        return JNI_FALSE;, +    } else if (optval == EINPROGRESS) {, +        // connect still in progress, +        return JNI_FALSE;, +    } else if (optval == 0) {, +        // connect succeeded, +        return JNI_TRUE;, +    } else {, +        // connect failed, +        return JNI_FALSE;, +    }, +++ b/transport-native-epoll/src/main/c/io_netty_channel_epoll_Native.h, +jboolean Java_io_netty_channel_epoll_Native_finishConnect(JNIEnv * env, jclass clazz, jint fd);, +++ b/transport-native-epoll/src/main/c/io_netty_channel_epoll_Native.c, +    code = getsockopt(fd, level, optname, optval, &optlen);, +JNIEXPORT jboolean JNICALL Java_io_netty_channel_epoll_Native_finishConnect(JNIEnv * env, jclass clazz, jint fd) {, +    // connect may be done, +    // return true if connection finished successfully, +    // return false if connection is still in progress, +    // throw exception if connection failed, +    if (res != 0) {, +        // getOption failed, +        throwIOException(env, exceptionMessage("finishConnect getOption failed: ", res));, +        return JNI_FALSE;, +    } else if (optval == EINPROGRESS) {, +        // connect still in progress, +        return JNI_FALSE;, +    } else if (optval == 0) {, +        // connect succeeded, +        return JNI_TRUE;, +    } else {, +        // connect failed, +        return JNI_FALSE;, +    }, +++ b/transport-native-epoll/src/main/c/io_netty_channel_epoll_Native.h, +jboolean Java_io_netty_channel_epoll_Native_finishConnect(JNIEnv * env, jclass clazz, jint fd);, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/EpollEventLoop.java, +                    if (write && ch.isOpen()) {, +                    if (read && ch.isOpen()) {, +                    if (close && ch.isOpen()) {, +++ b/transport-native-epoll/src/main/c/io_netty_channel_epoll_Native.c, +    code = getsockopt(fd, level, optname, optval, &optlen);, +JNIEXPORT jboolean JNICALL Java_io_netty_channel_epoll_Native_finishConnect(JNIEnv * env, jclass clazz, jint fd) {, +    // connect may be done, +    // return true if connection finished successfully, +    // return false if connection is still in progress, +    // throw exception if connection failed, +    if (res != 0) {, +        // getOption failed, +        throwIOException(env, exceptionMessage("finishConnect getOption failed: ", res));, +        return JNI_FALSE;, +    } else if (optval == EINPROGRESS) {, +        // connect still in progress, +        return JNI_FALSE;, +    } else if (optval == 0) {, +        // connect succeeded, +        return JNI_TRUE;, +    } else {, +        // connect failed, +        return JNI_FALSE;, +    }, +++ b/transport-native-epoll/src/main/c/io_netty_channel_epoll_Native.h, +jboolean Java_io_netty_channel_epoll_Native_finishConnect(JNIEnv * env, jclass clazz, jint fd);, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/EpollEventLoop.java, +                    if (write && ch.isOpen()) {, +                    if (read && ch.isOpen()) {, +                    if (close && ch.isOpen()) {, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/EpollSocketChannel.java, +            boolean connectStillInProgress = false;]