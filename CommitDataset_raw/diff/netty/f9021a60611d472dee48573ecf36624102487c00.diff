[+++ b/NOTICE.txt, +Copyright 2014 The Netty Project, +This product contains a modified portion of 'jbzip2', a Java bzip2 compression, +and decompression library written by Matthew J. Francis. It can be obtained at:, +, +  * LICENSE:, +    * license/LICENSE.jbzip2.txt (MIT License), +  * HOMEPAGE:, +    * https://code.google.com/p/jbzip2/, +, +++ b/NOTICE.txt, +Copyright 2014 The Netty Project, +This product contains a modified portion of 'jbzip2', a Java bzip2 compression, +and decompression library written by Matthew J. Francis. It can be obtained at:, +, +  * LICENSE:, +    * license/LICENSE.jbzip2.txt (MIT License), +  * HOMEPAGE:, +    * https://code.google.com/p/jbzip2/, +, +++ b/codec/pom.xml, +      <scope>test</scope>, +    </dependency>, +, +    <!-- Test dependency for Bzip2Decoder -->, +    <dependency>, +      <groupId>org.apache.commons</groupId>, +      <artifactId>commons-compress</artifactId>, +++ b/NOTICE.txt, +Copyright 2014 The Netty Project, +This product contains a modified portion of 'jbzip2', a Java bzip2 compression, +and decompression library written by Matthew J. Francis. It can be obtained at:, +, +  * LICENSE:, +    * license/LICENSE.jbzip2.txt (MIT License), +  * HOMEPAGE:, +    * https://code.google.com/p/jbzip2/, +, +++ b/codec/pom.xml, +      <scope>test</scope>, +    </dependency>, +, +    <!-- Test dependency for Bzip2Decoder -->, +    <dependency>, +      <groupId>org.apache.commons</groupId>, +      <artifactId>commons-compress</artifactId>, +++ b/codec/src/main/java/io/netty/handler/codec/compression/Bzip2BlockDecompressor.java, +/*, + * Copyright 2014 The Netty Project, + *, + * The Netty Project licenses this file to you under the Apache License,, + * version 2.0 (the "License"); you may not use this file except in compliance, + * with the License. You may obtain a copy of the License at:, + *, + *   http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT, + * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the, + * License for the specific language governing permissions and limitations, + * under the License., + */, +package io.netty.handler.codec.compression;, +, +import io.netty.buffer.ByteBuf;, +, +import static io.netty.handler.codec.compression.Bzip2Constants.*;, +, +final class Bzip2BlockDecompressor {, +    /**, +     * Calculates the block CRC from the fully decoded bytes of the block., +     */, +    private final Crc32 crc = new Crc32();, +, +    /**, +     * The CRC of the current block as read from the block header., +     */, +    private final int blockCRC;, +, +    /**, +     * {@code true} if the current block is randomised, otherwise {@code false}., +     */, +    private final boolean blockRandomised;, +, +    /* Huffman Decoding stage */, +    /**, +     * The end-of-block Huffman symbol. Decoding of the block ends when this is encountered., +     */, +    int huffmanEndOfBlockSymbol;, +, +    /**, +     * Bitmap, of ranges of 16 bytes, present/not present., +     */, +    int huffmanInUse16;, +, +    /**, +     * A map from Huffman symbol index to output character. Some types of data (e.g. ASCII text), +     * may contain only a limited number of byte values; Huffman symbols are only allocated to, +     * those values that actually occur in the uncompressed data., +     */]