[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentCompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +                new EmbeddedByteChannel(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentCompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +                new EmbeddedByteChannel(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel decoder;, +    protected abstract EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception;, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentCompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +                new EmbeddedByteChannel(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel decoder;, +    protected abstract EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception;, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    protected EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception {, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.GZIP));, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.ZLIB_OR_NONE));, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentCompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +                new EmbeddedByteChannel(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel decoder;, +    protected abstract EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception;, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    protected EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception {, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.GZIP));, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.ZLIB_OR_NONE));, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentEncoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel encoder;, +        private final EmbeddedByteChannel contentEncoder;, +        public Result(String targetContentEncoding, EmbeddedByteChannel contentEncoder) {, +        public EmbeddedByteChannel getContentEncoder() {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentCompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +                new EmbeddedByteChannel(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel decoder;, +    protected abstract EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception;, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    protected EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception {, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.GZIP));, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.ZLIB_OR_NONE));, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentEncoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel encoder;, +        private final EmbeddedByteChannel contentEncoder;, +        public Result(String targetContentEncoding, EmbeddedByteChannel contentEncoder) {, +        public EmbeddedByteChannel getContentEncoder() {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpMessageEncoder.java, +import io.netty.handler.codec.MessageToByteEncoder;, +public abstract class HttpMessageEncoder extends MessageToByteEncoder<Object> {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentCompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +                new EmbeddedByteChannel(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel decoder;, +    protected abstract EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception;, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    protected EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception {, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.GZIP));, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.ZLIB_OR_NONE));, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentEncoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel encoder;, +        private final EmbeddedByteChannel contentEncoder;, +        public Result(String targetContentEncoding, EmbeddedByteChannel contentEncoder) {, +        public EmbeddedByteChannel getContentEncoder() {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpMessageEncoder.java, +import io.netty.handler.codec.MessageToByteEncoder;, +public abstract class HttpMessageEncoder extends MessageToByteEncoder<Object> {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocket00FrameEncoder.java, +import io.netty.handler.codec.MessageToByteEncoder;, +public class WebSocket00FrameEncoder extends MessageToByteEncoder<WebSocketFrame> {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentCompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +                new EmbeddedByteChannel(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel decoder;, +    protected abstract EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception;, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentDecompressor.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    protected EmbeddedByteChannel newContentDecoder(String contentEncoding) throws Exception {, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.GZIP));, +            return new EmbeddedByteChannel(new ZlibDecoder(ZlibWrapper.ZLIB_OR_NONE));, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpContentEncoder.java, +import io.netty.channel.embedded.EmbeddedByteChannel;, +    private EmbeddedByteChannel encoder;]