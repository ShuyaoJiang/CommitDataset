[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/multipart/HttpPostRequestDecoder.java, +    private static final int DEFAULT_DISCARD_THRESHOLD = 10 * 1024 * 1024;, +, +    private int discardThreshold = DEFAULT_DISCARD_THRESHOLD;, +, +     * Set the amount of bytes after which read bytes in the buffer should be discarded., +     * Setting this lower gives lower memory usage but with the overhead of more memory copies., +     * Use {@code 0} to disable it., +     */, +    public void setDiscardThreshold(int discardThreshold) {, +        if (discardThreshold < 0) {, +          throw new IllegalArgumentException("discardThreshold must be >= 0");, +        }, +        this.discardThreshold = discardThreshold;, +    }, +, +    /**, +     * Return the threshold in bytes after which read data in the buffer should be discarded., +     */, +    public int getDiscardThreshold() {, +        return discardThreshold;, +    }, +, +    /**, +        ByteBuf buf = content.content();, +            undecodedChunk = buf.copy();, +            undecodedChunk.writeBytes(buf);, +        if (undecodedChunk != null && undecodedChunk.writerIndex() > discardThreshold) {, +            undecodedChunk.discardReadBytes();, +        }]