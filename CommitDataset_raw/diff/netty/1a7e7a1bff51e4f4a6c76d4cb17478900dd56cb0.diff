[+++ b/transport/src/main/java/io/netty/channel/AbstractChannel.java, +        public final void register(EventLoop eventLoop, final ChannelFuture future) {, +            // check if the eventLoop which was given is currently in the eventloop., +            // if that is the case we are safe to call register, if not we need to, +            // schedule the execution as otherwise we may say some race-conditions., +            //, +            // See https://github.com/netty/netty/issues/654, +            if (eventLoop.inEventLoop()) {, +                register0(future);, +            } else {, +                eventLoop.execute(new Runnable() {, +                    @Override, +                    public void run() {, +                        register0(future);, +                    }, +                });, +            }, +, +        }, +, +        private void register0(ChannelFuture future) {]