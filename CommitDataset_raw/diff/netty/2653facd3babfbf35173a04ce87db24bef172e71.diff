[+++ b/common/src/main/java/io/netty/util/NetworkConstants.java, +/**, + * A class that holds a number of network-related constants., + */, +    /**, +     * The {@link InetAddress} representing the host machine, +     *, +     * We cache this because some machines take almost forever to return from, +     * {@link InetAddress}.getLocalHost(). This may be due to incorrect, +     * configuration of the hosts and DNS client configuration files., +     */, +, +    /**, +     * The loopback {@link NetworkInterface} on the current machine, +     */, +    /**, +     * The logger being used by this class, +     */, +, +        //Start the process of discovering localhost, +, +            //Let's start by getting localhost automatically, +            //No? That's okay., +                //Try to force an IPv4 localhost address, +                //No? Okay. You must be using IPv6, +                    //Try to force an IPv6 localhost address, +                    //No? Okay., +                    logger.error("Failed to resolve localhost - Incorrect network configuration?", e2);, +        //Set the localhost constant, +        //Prepare to get the local NetworkInterface, +        NetworkInterface loopbackInterface;, +, +            //Automatically get the loopback interface, +            loopbackInterface = NetworkInterface.getByInetAddress(LOCALHOST);, +            //No? Alright. There is a backup!, +            loopbackInterface = null;, +        //Check to see if a network interface was not found, +        if (loopbackInterface == null) {, +                //Start iterating over all network interfaces, +                for (Enumeration<NetworkInterface> interfaces = NetworkInterface.getNetworkInterfaces();, +                     interfaces.hasMoreElements();) {, +                    //Get the "next" interface, +                    NetworkInterface networkInterface = interfaces.nextElement();, +, +                    //Check to see if the interface is a loopback interface, +                    if (networkInterface.isLoopback()) {, +                        //Phew! The loopback interface was found., +                        loopbackInterface = networkInterface;, +                        //No need to keep iterating, +                //Nope. Can't do anything else, sorry!, +        //Set the loopback interface constant, +        LOOPBACK_IF = loopbackInterface;, +    /**, +     * A constructor to stop this class being constructed., +     */]