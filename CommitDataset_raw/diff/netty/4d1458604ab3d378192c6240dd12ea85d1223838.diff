[+++ b/handler/src/test/java/io/netty/handler/ssl/SniClientTest.java, +import io.netty.util.ReferenceCountUtil;, +import io.netty.util.ReferenceCounted;, +        SelfSignedCertificate cert = new SelfSignedCertificate();, +        SslContext sslServerContext = null;, +        SslContext sslClientContext = null;, +, +            final SslContext finalContext = sslServerContext;, +                            return finalContext;, +            sslClientContext = SslContextBuilder.forClient().trustManager(tmf), +                    sslClientContext.newEngine(ByteBufAllocator.DEFAULT, sniHostName, -1));, +            ReferenceCountUtil.release(sslServerContext);, +            ReferenceCountUtil.release(sslClientContext);, +, +            cert.delete();, +]