[+++ b/src/main/java/org/jboss/netty/example/discard/DiscardClient.java, +import org.jboss.netty.channel.ChannelFuture;, +        ChannelFuture future = bootstrap.connect(new InetSocketAddress(host, port));, +, +        // Wait until the connection is closed or the connection attempt fails., +        future.getChannel().getCloseFuture().awaitUninterruptibly();, +, +        // Shut down thread pools to exit., +        factory.getExternalResource().release();]