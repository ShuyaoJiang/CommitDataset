[+++ b/transport/src/main/java/io/netty/channel/ChannelOption.java, +    public static final ChannelOption<MessageSizeEstimator> MESSAGE_SIZE_ESTIMATOR =, +            new ChannelOption<MessageSizeEstimator>("MESSAGE_SIZE_ESTIMATOR");, +++ b/transport/src/main/java/io/netty/channel/ChannelOption.java, +    public static final ChannelOption<MessageSizeEstimator> MESSAGE_SIZE_ESTIMATOR =, +            new ChannelOption<MessageSizeEstimator>("MESSAGE_SIZE_ESTIMATOR");, +++ b/transport/src/main/java/io/netty/channel/DefaultChannelConfig.java, +                WRITE_BUFFER_LOW_WATER_MARK, MESSAGE_SIZE_ESTIMATOR);, +        if (option == MESSAGE_SIZE_ESTIMATOR) {, +            return (T) getMessageSizeEstimator();, +        }, +        } else if (option == MESSAGE_SIZE_ESTIMATOR) {, +            setMessageSizeEstimator((MessageSizeEstimator) value);]