[+++ b/src/main/java/org/jboss/netty/buffer/ByteBufferBackedChannelBuffer.java, +        ByteBuffer src;, +        try {, +            src = (ByteBuffer) buffer.duplicate().position(index).limit(index + length);, +        } catch (IllegalArgumentException e) {, +            throw new IndexOutOfBoundsException();, +        }, +, +++ b/src/main/java/org/jboss/netty/buffer/ByteBufferBackedChannelBuffer.java, +        ByteBuffer src;, +        try {, +            src = (ByteBuffer) buffer.duplicate().position(index).limit(index + length);, +        } catch (IllegalArgumentException e) {, +            throw new IndexOutOfBoundsException();, +        }, +, +++ b/src/main/java/org/jboss/netty/buffer/DynamicChannelBuffer.java, +        copiedBuffer.buffer = buffer.copy(index, length);, +        copiedBuffer.setIndex(0, length);, +++ b/src/main/java/org/jboss/netty/buffer/ByteBufferBackedChannelBuffer.java, +        ByteBuffer src;, +        try {, +            src = (ByteBuffer) buffer.duplicate().position(index).limit(index + length);, +        } catch (IllegalArgumentException e) {, +            throw new IndexOutOfBoundsException();, +        }, +, +++ b/src/main/java/org/jboss/netty/buffer/DynamicChannelBuffer.java, +        copiedBuffer.buffer = buffer.copy(index, length);, +        copiedBuffer.setIndex(0, length);, +++ b/src/main/java/org/jboss/netty/buffer/SlicedChannelBuffer.java, +        checkIndex(index, length);, +++ b/src/main/java/org/jboss/netty/buffer/ByteBufferBackedChannelBuffer.java, +        ByteBuffer src;, +        try {, +            src = (ByteBuffer) buffer.duplicate().position(index).limit(index + length);, +        } catch (IllegalArgumentException e) {, +            throw new IndexOutOfBoundsException();, +        }, +, +++ b/src/main/java/org/jboss/netty/buffer/DynamicChannelBuffer.java, +        copiedBuffer.buffer = buffer.copy(index, length);, +        copiedBuffer.setIndex(0, length);, +++ b/src/main/java/org/jboss/netty/buffer/SlicedChannelBuffer.java, +        checkIndex(index, length);, +++ b/src/main/java/org/jboss/netty/buffer/TruncatedChannelBuffer.java, +        checkIndex(index, length);, +++ b/src/main/java/org/jboss/netty/buffer/ByteBufferBackedChannelBuffer.java, +        ByteBuffer src;, +        try {, +            src = (ByteBuffer) buffer.duplicate().position(index).limit(index + length);, +        } catch (IllegalArgumentException e) {, +            throw new IndexOutOfBoundsException();, +        }, +, +++ b/src/main/java/org/jboss/netty/buffer/DynamicChannelBuffer.java, +        copiedBuffer.buffer = buffer.copy(index, length);, +        copiedBuffer.setIndex(0, length);, +++ b/src/main/java/org/jboss/netty/buffer/SlicedChannelBuffer.java, +        checkIndex(index, length);, +++ b/src/main/java/org/jboss/netty/buffer/TruncatedChannelBuffer.java, +        checkIndex(index, length);, +++ b/src/test/java/org/jboss/netty/buffer/AbstractChannelBufferTest.java, +    public void copyBoundaryCheck1() {, +        buffer.copy(-1, 0);, +    }, +, +    @Test(expected=IndexOutOfBoundsException.class), +    public void copyBoundaryCheck2() {, +        buffer.copy(0, buffer.capacity() + 1);, +    }, +, +    @Test(expected=IndexOutOfBoundsException.class), +    public void copyBoundaryCheck3() {, +        buffer.copy(buffer.capacity() + 1, 0);, +    }, +, +    @Test(expected=IndexOutOfBoundsException.class), +    public void copyBoundaryCheck4() {, +        buffer.copy(buffer.capacity(), 1);, +    }, +, +    @Test(expected=IndexOutOfBoundsException.class), +++ b/src/main/java/org/jboss/netty/buffer/ByteBufferBackedChannelBuffer.java, +        ByteBuffer src;, +        try {, +            src = (ByteBuffer) buffer.duplicate().position(index).limit(index + length);, +        } catch (IllegalArgumentException e) {, +            throw new IndexOutOfBoundsException();, +        }, +, +++ b/src/main/java/org/jboss/netty/buffer/DynamicChannelBuffer.java, +        copiedBuffer.buffer = buffer.copy(index, length);, +        copiedBuffer.setIndex(0, length);, +++ b/src/main/java/org/jboss/netty/buffer/SlicedChannelBuffer.java, +        checkIndex(index, length);, +++ b/src/main/java/org/jboss/netty/buffer/TruncatedChannelBuffer.java, +        checkIndex(index, length);, +++ b/src/test/java/org/jboss/netty/buffer/AbstractChannelBufferTest.java, +    public void copyBoundaryCheck1() {]