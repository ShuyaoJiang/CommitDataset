[+++ b/transport/src/main/java/io/netty/channel/socket/nio/AbstractNioWorker.java, +                if (key == null || selector == null) {, +                    if (channel.getRawInterestOps() != interestOps) {, +                        changed = true;, +                    }, +                    , +                    // Not registered to the worker yet., +                    // Set the rawInterestOps immediately; RegisterTask will pick it up., +                    channel.setRawInterestOpsNow(interestOps);, +                    , +                    future.setSuccess();, +                    if (changed) {, +                        if (iothread) {, +                            fireChannelInterestChanged(channel);, +                        } else {, +                            fireChannelInterestChangedLater(channel);, +                        }, +                    }, +                    , +                    return;, +                }, +                ]