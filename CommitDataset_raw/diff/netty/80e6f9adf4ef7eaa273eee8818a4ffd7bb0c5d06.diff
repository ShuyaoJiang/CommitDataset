[+++ b/transport/src/main/java/io/netty/channel/nio/AbstractNioByteChannel.java, +, +                    // stop reading, +                    if (!config.isAutoRead()) {, +                        break;, +                    }, +, +            } finally {, +                if (!config.isAutoRead()) {, +                    removeReadOp();, +                }, +++ b/transport/src/main/java/io/netty/channel/nio/AbstractNioByteChannel.java, +, +                    // stop reading, +                    if (!config.isAutoRead()) {, +                        break;, +                    }, +, +            } finally {, +                if (!config.isAutoRead()) {, +                    removeReadOp();, +                }, +++ b/transport/src/main/java/io/netty/channel/nio/AbstractNioMessageChannel.java, +, +            try {, +                        // stop reading and remove op, +                        if (!config.isAutoRead()) {, +                            break;, +                        }, +, +                        if (readBuf.size() >= maxMessagesPerRead) {, +            } finally {, +                if (!config().isAutoRead()) {, +                    removeReadOp();, +                }, +            }, +++ b/transport/src/main/java/io/netty/channel/nio/AbstractNioByteChannel.java, +, +                    // stop reading, +                    if (!config.isAutoRead()) {, +                        break;, +                    }, +, +            } finally {, +                if (!config.isAutoRead()) {, +                    removeReadOp();, +                }, +++ b/transport/src/main/java/io/netty/channel/nio/AbstractNioMessageChannel.java, +, +            try {, +                        // stop reading and remove op, +                        if (!config.isAutoRead()) {, +                            break;, +                        }, +, +                        if (readBuf.size() >= maxMessagesPerRead) {, +            } finally {, +                if (!config().isAutoRead()) {, +                    removeReadOp();, +                }, +            }, +++ b/transport/src/main/java/io/netty/channel/oio/AbstractOioMessageChannel.java, +import io.netty.channel.ChannelConfig;, +        final ChannelConfig config = config();, +        final int maxMessagesPerRead = config.getMaxMessagesPerRead();, +, +            for (;;) {, +                int localRead = doReadMessages(readBuf);, +                if (localRead == 0) {, +                    break;, +                }, +                if (localRead < 0) {, +                    break;, +                }, +, +                if (readBuf.size() >= maxMessagesPerRead || !config.isAutoRead()) {, +                    break;, +                }]