[+++ b/transport/src/main/java/io/netty/channel/DefaultChannelHandlerContext.java, +                        bridge = new ByteBridge(ctx, true);, +                        bridge = new ByteBridge(ctx, false);, +        ByteBridge(ChannelHandlerContext ctx, boolean inbound) {, +            if (inbound) {, +                if (ctx.inboundByteBuffer().isDirect()) {, +                    byteBuf = ctx.alloc().directBuffer();, +                } else {, +                    byteBuf = ctx.alloc().heapBuffer();, +                }, +            } else {, +                if (ctx.outboundByteBuffer().isDirect()) {, +                    byteBuf = ctx.alloc().directBuffer();, +                } else {, +                    byteBuf = ctx.alloc().heapBuffer();, +                }, +            }]