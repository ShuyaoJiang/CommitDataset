[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerProtocolHandler.java, +import io.netty.handler.codec.http.FullHttpRequest;, +        // Do not free; other handlers will., +        return new ChannelInboundMessageHandlerAdapter<FullHttpRequest>() {, +            public void messageReceived(ChannelHandlerContext ctx, FullHttpRequest msg) throws Exception {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerProtocolHandler.java, +import io.netty.handler.codec.http.FullHttpRequest;, +        // Do not free; other handlers will., +        return new ChannelInboundMessageHandlerAdapter<FullHttpRequest>() {, +            public void messageReceived(ChannelHandlerContext ctx, FullHttpRequest msg) throws Exception {, +++ b/codec-http/src/test/java/io/netty/handler/codec/http/websocketx/WebSocketServerProtocolHandlerTest.java, +import io.netty.handler.codec.http.DefaultFullHttpRequest;, +        ch.writeInbound(new DefaultFullHttpRequest(HTTP_1_1, HttpMethod.GET, "/test"));, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerProtocolHandler.java, +import io.netty.handler.codec.http.FullHttpRequest;, +        // Do not free; other handlers will., +        return new ChannelInboundMessageHandlerAdapter<FullHttpRequest>() {, +            public void messageReceived(ChannelHandlerContext ctx, FullHttpRequest msg) throws Exception {, +++ b/codec-http/src/test/java/io/netty/handler/codec/http/websocketx/WebSocketServerProtocolHandlerTest.java, +import io.netty.handler.codec.http.DefaultFullHttpRequest;, +        ch.writeInbound(new DefaultFullHttpRequest(HTTP_1_1, HttpMethod.GET, "/test"));, +++ b/example/src/main/java/io/netty/example/socksproxy/SocksServerHandler.java]