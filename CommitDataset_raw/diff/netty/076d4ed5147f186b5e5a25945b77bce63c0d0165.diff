[+++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollStreamChannel.java, +                // Return here so we not set the EPOLLOUT flag., +                return;, +                    // Break the loop and so set EPOLLOUT flag., +                    // Break the loop and so set EPOLLOUT flag., +        // Underlying descriptor can not accept all data currently, so set the EPOLLOUT flag to be woken up, +        // when it can accept more data., +        setFlag(Native.EPOLLOUT);, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollStreamChannel.java, +                // Return here so we not set the EPOLLOUT flag., +                return;, +                    // Break the loop and so set EPOLLOUT flag., +                    // Break the loop and so set EPOLLOUT flag., +        // Underlying descriptor can not accept all data currently, so set the EPOLLOUT flag to be woken up, +        // when it can accept more data., +        setFlag(Native.EPOLLOUT);, +++ b/transport/src/main/java/io/netty/channel/nio/AbstractNioByteChannel.java, +        boolean setOpWrite = false;, +                // Directly return here so incompleteWrite(...) is not called., +                return;, +                    // Break the loop and so incompleteWrite(...) is called., +                    // Break the loop and so incompleteWrite(...) is called., +        incompleteWrite(setOpWrite);]