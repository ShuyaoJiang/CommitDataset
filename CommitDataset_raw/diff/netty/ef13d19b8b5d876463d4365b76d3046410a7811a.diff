[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/multipart/HttpPostStandardRequestDecoder.java, +        } catch (IllegalArgumentException e) {, +            // error while decoding, +            undecodedChunk.readerIndex(firstpos);, +            throw new ErrorDataDecoderException(e);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/multipart/HttpPostStandardRequestDecoder.java, +        } catch (IllegalArgumentException e) {, +            // error while decoding, +            undecodedChunk.readerIndex(firstpos);, +            throw new ErrorDataDecoderException(e);, +++ b/codec-http/src/test/java/io/netty/handler/codec/http/multipart/HttpPostRequestDecoderTest.java, +import io.netty.handler.codec.http.DefaultLastHttpContent;, +, +    @Test, +    public void testFormEncodeIncorrect() throws Exception {, +        LastHttpContent content = new DefaultLastHttpContent(, +                Unpooled.copiedBuffer("project=netty&&project=netty", CharsetUtil.US_ASCII));, +        DefaultHttpRequest req = new DefaultHttpRequest(HttpVersion.HTTP_1_1, HttpMethod.POST, "/");, +        HttpPostRequestDecoder decoder = new HttpPostRequestDecoder(req);, +        try {, +            decoder.offer(content);, +            fail();, +        } catch (HttpPostRequestDecoder.ErrorDataDecoderException e) {, +            assertTrue(e.getCause() instanceof IllegalArgumentException);, +        } finally {, +            decoder.destroy();, +            content.release();, +        }, +    }]