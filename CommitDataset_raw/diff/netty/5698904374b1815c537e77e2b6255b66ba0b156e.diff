[+++ b/src/main/java/org/jboss/netty/channel/local/DefaultLocalChannel.java, +        return bound.get() && isOpen();, +        return pairedChannel != null && isOpen();, +        return localAddress;, +++ b/src/main/java/org/jboss/netty/channel/local/DefaultLocalChannel.java, +        return bound.get() && isOpen();, +        return pairedChannel != null && isOpen();, +        return localAddress;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioSocketChannel.java, +    private volatile InetSocketAddress localAddress;, +    private volatile InetSocketAddress remoteAddress;, +        InetSocketAddress localAddress = this.localAddress;, +        if (localAddress == null) {, +                this.localAddress = localAddress =, +                    (InetSocketAddress) socket.socket().getLocalSocketAddress();, +        return localAddress;, +    }, +        InetSocketAddress remoteAddress = this.remoteAddress;, +        if (remoteAddress == null) {, +                this.remoteAddress = remoteAddress =, +                    (InetSocketAddress) socket.socket().getRemoteSocketAddress();, +        return remoteAddress;, +    }, +++ b/src/main/java/org/jboss/netty/channel/local/DefaultLocalChannel.java, +        return bound.get() && isOpen();, +        return pairedChannel != null && isOpen();, +        return localAddress;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioSocketChannel.java, +    private volatile InetSocketAddress localAddress;, +    private volatile InetSocketAddress remoteAddress;, +        InetSocketAddress localAddress = this.localAddress;, +        if (localAddress == null) {, +                this.localAddress = localAddress =, +                    (InetSocketAddress) socket.socket().getLocalSocketAddress();, +        return localAddress;, +    }, +        InetSocketAddress remoteAddress = this.remoteAddress;, +        if (remoteAddress == null) {, +                this.remoteAddress = remoteAddress =, +                    (InetSocketAddress) socket.socket().getRemoteSocketAddress();, +        return remoteAddress;, +    }, +++ b/src/main/java/org/jboss/netty/channel/socket/oio/OioSocketChannel.java, +    private volatile InetSocketAddress localAddress;, +    private volatile InetSocketAddress remoteAddress;, +        InetSocketAddress localAddress = this.localAddress;, +        if (localAddress == null) {, +            try {, +                this.localAddress = localAddress =, +                    (InetSocketAddress) socket.getLocalSocketAddress();, +            } catch (Throwable t) {, +                // Sometimes fails on a closed socket in Windows., +                return null;, +            }, +        }, +        return localAddress;, +        InetSocketAddress remoteAddress = this.remoteAddress;, +        if (remoteAddress == null) {, +            try {, +                this.remoteAddress = remoteAddress =, +                    (InetSocketAddress) socket.getRemoteSocketAddress();, +            } catch (Throwable t) {, +                // Sometimes fails on a closed socket in Windows., +                return null;, +            }, +        }, +        return remoteAddress;, +++ b/src/main/java/org/jboss/netty/channel/local/DefaultLocalChannel.java, +        return bound.get() && isOpen();, +        return pairedChannel != null && isOpen();, +        return localAddress;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioSocketChannel.java, +    private volatile InetSocketAddress localAddress;, +    private volatile InetSocketAddress remoteAddress;, +        InetSocketAddress localAddress = this.localAddress;, +        if (localAddress == null) {, +                this.localAddress = localAddress =, +                    (InetSocketAddress) socket.socket().getLocalSocketAddress();, +        return localAddress;, +    }, +        InetSocketAddress remoteAddress = this.remoteAddress;, +        if (remoteAddress == null) {, +                this.remoteAddress = remoteAddress =, +                    (InetSocketAddress) socket.socket().getRemoteSocketAddress();, +        return remoteAddress;, +    }, +++ b/src/main/java/org/jboss/netty/channel/socket/oio/OioSocketChannel.java, +    private volatile InetSocketAddress localAddress;, +    private volatile InetSocketAddress remoteAddress;, +        InetSocketAddress localAddress = this.localAddress;, +        if (localAddress == null) {, +            try {, +                this.localAddress = localAddress =, +                    (InetSocketAddress) socket.getLocalSocketAddress();, +            } catch (Throwable t) {, +                // Sometimes fails on a closed socket in Windows., +                return null;, +            }, +        }, +        return localAddress;]