[+++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +        return forEachByteAsc0(readerIndex, writerIndex, processor);, +    public int forEachByte(int fromIndex, int toIndex, ByteBufProcessor processor) {, +        if (fromIndex < toIndex) {, +            return forEachByteAsc(fromIndex, toIndex, processor);, +        } else if (fromIndex > toIndex) {, +            return forEachByteDesc(fromIndex, toIndex, processor);, +        } else {, +            checkIndex(fromIndex);, +            return -1;, +        }, +    private int forEachByteAsc(int fromIndex, int toIndex, ByteBufProcessor processor) {, +        if (fromIndex < 0 || toIndex > capacity()) {, +            throw new IndexOutOfBoundsException(String.format(, +                    "fromIndex: %d, toIndex: %d (expected: 0 <= fromIndex < toIndex <= capacity(%d))",, +                    fromIndex, toIndex, capacity()));, +        }, +        return forEachByteAsc0(fromIndex, toIndex, processor);, +    }, +, +    private int forEachByteAsc0(int fromIndex, int toIndex, ByteBufProcessor processor) {, +        int i = fromIndex;, +            } while (i < toIndex);, +        } catch (Signal signal) {, +            signal.expect(ByteBufProcessor.ABORT);, +            return i;, +        } catch (Exception e) {, +            PlatformDependent.throwException(e);, +        }, +, +        return -1;, +    }, +, +    private int forEachByteDesc(int fromIndex, int toIndex, ByteBufProcessor processor) {, +        if (toIndex < -1 || fromIndex >= capacity()) {, +            throw new IndexOutOfBoundsException(String.format(, +                    "fromIndex: %d, toIndex: %d (expected: -1 <= toIndex < fromIndex < capacity(%d))",, +                    fromIndex, toIndex, capacity()));, +        }, +, +        if (processor == null) {, +            throw new NullPointerException("processor");, +        }, +, +        int i = fromIndex;, +        try {, +            do {, +                i -= processor.process(this, i, _getByte(i));, +            } while (i > toIndex);, +++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +        return forEachByteAsc0(readerIndex, writerIndex, processor);, +    public int forEachByte(int fromIndex, int toIndex, ByteBufProcessor processor) {, +        if (fromIndex < toIndex) {, +            return forEachByteAsc(fromIndex, toIndex, processor);, +        } else if (fromIndex > toIndex) {, +            return forEachByteDesc(fromIndex, toIndex, processor);, +        } else {, +            checkIndex(fromIndex);, +            return -1;, +        }, +    private int forEachByteAsc(int fromIndex, int toIndex, ByteBufProcessor processor) {, +        if (fromIndex < 0 || toIndex > capacity()) {, +            throw new IndexOutOfBoundsException(String.format(, +                    "fromIndex: %d, toIndex: %d (expected: 0 <= fromIndex < toIndex <= capacity(%d))",, +                    fromIndex, toIndex, capacity()));, +        }, +        return forEachByteAsc0(fromIndex, toIndex, processor);, +    }, +, +    private int forEachByteAsc0(int fromIndex, int toIndex, ByteBufProcessor processor) {, +        int i = fromIndex;, +            } while (i < toIndex);, +        } catch (Signal signal) {, +            signal.expect(ByteBufProcessor.ABORT);, +            return i;, +        } catch (Exception e) {, +            PlatformDependent.throwException(e);, +        }, +, +        return -1;, +    }, +, +    private int forEachByteDesc(int fromIndex, int toIndex, ByteBufProcessor processor) {, +        if (toIndex < -1 || fromIndex >= capacity()) {, +            throw new IndexOutOfBoundsException(String.format(, +                    "fromIndex: %d, toIndex: %d (expected: -1 <= toIndex < fromIndex < capacity(%d))",, +                    fromIndex, toIndex, capacity()));, +        }, +, +        if (processor == null) {, +            throw new NullPointerException("processor");, +        }, +, +        int i = fromIndex;, +        try {, +            do {, +                i -= processor.process(this, i, _getByte(i));, +            } while (i > toIndex);, +++ b/buffer/src/main/java/io/netty/buffer/ByteBuf.java, +     * <ul>]