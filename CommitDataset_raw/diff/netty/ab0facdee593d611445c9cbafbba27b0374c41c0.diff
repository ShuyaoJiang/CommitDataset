[+++ b/src/main/java/org/jboss/netty/handler/codec/frame/DelimiterBasedFrameDecoder.java, +                            "frame length exceeds " + maxFrameLength +, +                            "frame length exceeds " + maxFrameLength +, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/DelimiterBasedFrameDecoder.java, +                            "frame length exceeds " + maxFrameLength +, +                            "frame length exceeds " + maxFrameLength +, +++ b/src/main/java/org/jboss/netty/handler/codec/frame/LengthFieldBasedFrameDecoder.java, +import org.jboss.netty.channel.Channels;, +                // TODO Let user choose when the exception should be raised - early or late?, +                //      If early, fail() should be called when discardingTooLongFrame is set to true., +                fail(ctx, tooLongFrameLength);, +            return null;, +, +    private void fail(ChannelHandlerContext ctx, long frameLength) {, +        if (frameLength > 0) {, +            Channels.fireExceptionCaught(, +                    ctx.getChannel(),, +                    new TooLongFrameException(, +                            "Adjusted frame length exceeds " + maxFrameLength +, +                            ": " + frameLength + " - discarded"));, +        } else {, +            Channels.fireExceptionCaught(, +                    ctx.getChannel(),, +                    new TooLongFrameException(, +                            "Adjusted frame length exceeds " + maxFrameLength +, +                            " - discarding"));, +        }, +    }]