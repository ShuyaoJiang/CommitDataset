[+++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollChannel.java, +        boolean active = this.active;, +        this.active = false;, +        FileDescriptor fd = fileDescriptor;, +            // deregister from epoll now and shutdown the socket., +            if (active) {, +                shutdown(fd.intValue());, +            }, +    /**, +     * Called on {@link #doClose()} before the actual {@link FileDescriptor} is closed., +     * This implementation does nothing., +     */, +    protected void shutdown(int fd) throws IOException {, +        // NOOP, +    }, +, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollChannel.java, +        boolean active = this.active;, +        this.active = false;, +        FileDescriptor fd = fileDescriptor;, +            // deregister from epoll now and shutdown the socket., +            if (active) {, +                shutdown(fd.intValue());, +            }, +    /**, +     * Called on {@link #doClose()} before the actual {@link FileDescriptor} is closed., +     * This implementation does nothing., +     */, +    protected void shutdown(int fd) throws IOException {, +        // NOOP, +    }, +, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollStreamChannel.java, +    protected void shutdown(int fd) throws IOException {, +        Native.shutdown(fd, true, true);, +    }, +, +    @Override]