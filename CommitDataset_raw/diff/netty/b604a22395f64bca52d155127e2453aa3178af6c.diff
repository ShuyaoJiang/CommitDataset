[+++ b/handler/src/main/java/io/netty/handler/ssl/SniHandler.java, +    protected final AsyncMapping<String, SslContext> mapping;, +    private void select(final ChannelHandlerContext ctx, final String hostname) throws Exception {, +        Future<SslContext> future = lookup(ctx, hostname);, +     * The default implementation will simply call {@link AsyncMapping#map(Object, Promise)} but, +     * users can override this method to implement custom behavior., +     *, +     * @see AsyncMapping#map(Object, Promise), +     */, +    protected Future<SslContext> lookup(ChannelHandlerContext ctx, String hostname) throws Exception {, +        return mapping.map(hostname, ctx.executor().<SslContext>newPromise());, +    }, +, +    /**]