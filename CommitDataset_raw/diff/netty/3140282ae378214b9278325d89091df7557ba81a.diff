[+++ b/codec/src/main/java/io/netty/handler/codec/LengthFieldBasedFrameDecoder.java, +        ByteBuf frame = extractFrame(ctx, in, readerIndex, actualFrameLength);, +    protected ByteBuf extractFrame(ChannelHandlerContext ctx, ByteBuf buffer, int index, int length) {, +        ByteBuf frame = ctx.alloc().buffer(length);, +++ b/codec/src/main/java/io/netty/handler/codec/LengthFieldBasedFrameDecoder.java, +        ByteBuf frame = extractFrame(ctx, in, readerIndex, actualFrameLength);, +    protected ByteBuf extractFrame(ChannelHandlerContext ctx, ByteBuf buffer, int index, int length) {, +        ByteBuf frame = ctx.alloc().buffer(length);, +++ b/codec/src/main/java/io/netty/handler/codec/compression/JdkZlibEncoder.java, +        ByteBuf footer = ctx.alloc().buffer();, +++ b/codec/src/main/java/io/netty/handler/codec/LengthFieldBasedFrameDecoder.java, +        ByteBuf frame = extractFrame(ctx, in, readerIndex, actualFrameLength);, +    protected ByteBuf extractFrame(ChannelHandlerContext ctx, ByteBuf buffer, int index, int length) {, +        ByteBuf frame = ctx.alloc().buffer(length);, +++ b/codec/src/main/java/io/netty/handler/codec/compression/JdkZlibEncoder.java, +        ByteBuf footer = ctx.alloc().buffer();, +++ b/codec/src/main/java/io/netty/handler/codec/marshalling/MarshallingDecoder.java, +    protected ByteBuf extractFrame(ChannelHandlerContext ctx, ByteBuf buffer, int index, int length) {, +++ b/codec/src/main/java/io/netty/handler/codec/LengthFieldBasedFrameDecoder.java, +        ByteBuf frame = extractFrame(ctx, in, readerIndex, actualFrameLength);, +    protected ByteBuf extractFrame(ChannelHandlerContext ctx, ByteBuf buffer, int index, int length) {, +        ByteBuf frame = ctx.alloc().buffer(length);, +++ b/codec/src/main/java/io/netty/handler/codec/compression/JdkZlibEncoder.java, +        ByteBuf footer = ctx.alloc().buffer();, +++ b/codec/src/main/java/io/netty/handler/codec/marshalling/MarshallingDecoder.java, +    protected ByteBuf extractFrame(ChannelHandlerContext ctx, ByteBuf buffer, int index, int length) {, +++ b/codec/src/main/java/io/netty/handler/codec/serialization/ObjectDecoder.java, +    protected ByteBuf extractFrame(ChannelHandlerContext ctx, ByteBuf buffer, int index, int length) {]