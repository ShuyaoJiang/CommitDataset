[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioDatagramWorker.java, +    private void processRegisterTaskQueue() throws IOException {, +            cleanUpCancelledKeys();, +    private void processWriteTaskQueue() throws IOException {, +            cleanUpCancelledKeys();, +    private void processSelectedKeys(final Set<SelectionKey> selectedKeys) throws IOException {, +            if (cleanUpCancelledKeys()) {, +                break; // Break the loop to avoid ConcurrentModificationException, +            }, +        }, +    }, +, +    private boolean cleanUpCancelledKeys() throws IOException {, +    		cancelledKeys = 0;, +    		selector.selectNow();, +    		return true;, +    	return false;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioDatagramWorker.java, +    private void processRegisterTaskQueue() throws IOException {, +            cleanUpCancelledKeys();, +    private void processWriteTaskQueue() throws IOException {, +            cleanUpCancelledKeys();, +    private void processSelectedKeys(final Set<SelectionKey> selectedKeys) throws IOException {, +            if (cleanUpCancelledKeys()) {, +                break; // Break the loop to avoid ConcurrentModificationException, +            }, +        }, +    }, +, +    private boolean cleanUpCancelledKeys() throws IOException {, +    		cancelledKeys = 0;, +    		selector.selectNow();, +    		return true;, +    	return false;, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +    private void processRegisterTaskQueue() throws IOException {, +            cleanUpCancelledKeys();, +    private void processWriteTaskQueue() throws IOException {, +            cleanUpCancelledKeys();, +    private void processSelectedKeys(Set<SelectionKey> selectedKeys) throws IOException {, +            if (cleanUpCancelledKeys()) { , +                break; // break the loop to avoid ConcurrentModificationException, +            }, +        }, +    }, +    , +    private boolean cleanUpCancelledKeys() throws IOException {, +    		cancelledKeys = 0;, +    		selector.selectNow();, +    		return true;, +    	return false;]