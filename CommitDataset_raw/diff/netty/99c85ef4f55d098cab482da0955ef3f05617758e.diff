[+++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollStreamChannel.java, +++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollStreamChannel.java, +++ b/transport/src/main/java/io/netty/channel/nio/AbstractNioByteChannel.java, +            boolean close = false;, +                        close = allocHandle.lastBytesRead() < 0;, +                if (close) {, +                handleReadException(pipeline, byteBuf, t, close, allocHandle);]