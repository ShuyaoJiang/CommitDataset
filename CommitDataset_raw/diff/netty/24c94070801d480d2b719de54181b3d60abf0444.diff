[+++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/DefaultHttp2RemoteFlowController.java, +        AbstractState connectionState = connectionState();, +        int connectionWindowSize;, +        do {, +            connectionWindowSize = writableBytes(connectionState.windowSize());, +                allocateBytesForTree(connectionState.stream(), connectionWindowSize);, +            // Write all of allocated bytes. We must call this even if no bytes are allocated as it is possible there, +            // are empty frames indicating the End Of Stream., +        } while (connectionState.streamableBytesForTree() > 0 &&, +                 connectionWindowSize > 0 &&, +                 ctx.channel().isWritable());]