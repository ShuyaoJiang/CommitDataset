[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker00.java, +import java.net.URI;, +import java.nio.ByteBuffer;, +import java.util.Arrays;, +import java.util.Map;, +, +, +        int wsPort = wsURL.getPort();, +        String originValue = "http://" + wsURL.getHost();, +        if (wsPort != 80 && wsPort != 443) {, +            // if the port is not standard (80/443) its needed to add the port to the header., +            // See http://tools.ietf.org/html/rfc6454#section-6.2, +            originValue = originValue + ":" + wsPort;, +        }, +, +    private static String insertRandomCharacters(String key) {, +    private static String insertSpaces(String key, int spaces) {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker00.java, +import java.net.URI;, +import java.nio.ByteBuffer;, +import java.util.Arrays;, +import java.util.Map;, +, +, +        int wsPort = wsURL.getPort();, +        String originValue = "http://" + wsURL.getHost();, +        if (wsPort != 80 && wsPort != 443) {, +            // if the port is not standard (80/443) its needed to add the port to the header., +            // See http://tools.ietf.org/html/rfc6454#section-6.2, +            originValue = originValue + ":" + wsPort;, +        }, +, +    private static String insertRandomCharacters(String key) {, +    private static String insertSpaces(String key, int spaces) {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker08.java, +import java.net.URI;, +import java.util.Map;, +, +, +        int wsPort = wsURL.getPort();, +        String originValue = "http://" + wsURL.getHost();, +        if (wsPort != 80 && wsPort != 443) {, +            // if the port is not standard (80/443) its needed to add the port to the header., +            // See http://tools.ietf.org/html/rfc6454#section-6.2, +            originValue = originValue + ":" + wsPort;, +        }, +, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker00.java, +import java.net.URI;, +import java.nio.ByteBuffer;, +import java.util.Arrays;, +import java.util.Map;, +, +, +        int wsPort = wsURL.getPort();, +        String originValue = "http://" + wsURL.getHost();, +        if (wsPort != 80 && wsPort != 443) {, +            // if the port is not standard (80/443) its needed to add the port to the header., +            // See http://tools.ietf.org/html/rfc6454#section-6.2, +            originValue = originValue + ":" + wsPort;, +        }, +, +    private static String insertRandomCharacters(String key) {, +    private static String insertSpaces(String key, int spaces) {, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker08.java, +import java.net.URI;, +import java.util.Map;, +, +, +        int wsPort = wsURL.getPort();, +        String originValue = "http://" + wsURL.getHost();, +        if (wsPort != 80 && wsPort != 443) {, +            // if the port is not standard (80/443) its needed to add the port to the header., +            // See http://tools.ietf.org/html/rfc6454#section-6.2, +            originValue = originValue + ":" + wsPort;, +        }, +, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketClientHandshaker13.java, +import java.net.URI;, +import java.util.Map;, +, +, +        int wsPort = wsURL.getPort();, +        String originValue = "http://" + wsURL.getHost();, +        if (wsPort != 80 && wsPort != 443) {, +            // if the port is not standard (80/443) its needed to add the port to the header., +            // See http://tools.ietf.org/html/rfc6454#section-6.2, +            originValue = originValue + ":" + wsPort;, +        }, +]