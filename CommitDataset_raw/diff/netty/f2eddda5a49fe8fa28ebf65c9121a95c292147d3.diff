[+++ b/transport/src/main/java/io/netty/channel/AbstractChannel.java, +                    if (out.isEmpty() && out.hasByteBuffer()) {, +                        out.byteBuffer().discardReadBytes();, +                    }, +++ b/transport/src/main/java/io/netty/channel/AbstractChannel.java, +                    if (out.isEmpty() && out.hasByteBuffer()) {, +                        out.byteBuffer().discardReadBytes();, +                    }, +++ b/transport/src/main/java/io/netty/channel/DefaultChannelFuture.java, +        if (channel().isRegistered() && channel().eventLoop().inEventLoop()) {, +++ b/transport/src/main/java/io/netty/channel/AbstractChannel.java, +                    if (out.isEmpty() && out.hasByteBuffer()) {, +                        out.byteBuffer().discardReadBytes();, +                    }, +++ b/transport/src/main/java/io/netty/channel/DefaultChannelFuture.java, +        if (channel().isRegistered() && channel().eventLoop().inEventLoop()) {, +++ b/transport/src/main/java/io/netty/channel/DefaultChannelPipeline.java, +            } finally {, +                ChannelBufferHolder<Object> outbound = ctx.outbound();, +                if (!outbound.isBypass() && outbound.isEmpty() && outbound.hasByteBuffer()) {, +                    outbound.byteBuffer().discardReadBytes();, +                }]