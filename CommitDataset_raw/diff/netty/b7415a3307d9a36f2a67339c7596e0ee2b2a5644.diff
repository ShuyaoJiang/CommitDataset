[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/cookie/ClientCookieEncoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +                List<Cookie> cookiesList = InternalThreadLocalMap.get().arrayList();, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/cookie/ClientCookieEncoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +                List<Cookie> cookiesList = InternalThreadLocalMap.get().arrayList();, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/multipart/HttpPostMultipartRequestDecoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +        List<String> values = InternalThreadLocalMap.get().arrayList(1);, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/cookie/ClientCookieEncoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +                List<Cookie> cookiesList = InternalThreadLocalMap.get().arrayList();, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/multipart/HttpPostMultipartRequestDecoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +        List<String> values = InternalThreadLocalMap.get().arrayList(1);, +++ b/common/src/main/java/io/netty/util/AsciiString.java, +import io.netty.util.internal.InternalThreadLocalMap;, +        final List<AsciiString> res = InternalThreadLocalMap.get().arrayList();, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/cookie/ClientCookieEncoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +                List<Cookie> cookiesList = InternalThreadLocalMap.get().arrayList();, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/multipart/HttpPostMultipartRequestDecoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +        List<String> values = InternalThreadLocalMap.get().arrayList(1);, +++ b/common/src/main/java/io/netty/util/AsciiString.java, +import io.netty.util.internal.InternalThreadLocalMap;, +        final List<AsciiString> res = InternalThreadLocalMap.get().arrayList();, +++ b/common/src/main/java/io/netty/util/internal/InternalThreadLocalMap.java, +import java.util.ArrayList;, +    private static final int DEFAULT_ARRAY_LIST_INITIAL_CAPACITY = 8;, +, +        if (arrayList != null) {, +            count ++;, +        }, +    public <E> ArrayList<E> arrayList() {, +        return arrayList(DEFAULT_ARRAY_LIST_INITIAL_CAPACITY);, +    }, +, +    public <E> ArrayList<E> arrayList(int minCapacity) {, +        ArrayList<E> list = (ArrayList<E>) arrayList;, +        if (list == null) {, +            list = (ArrayList<E>) new ArrayList<Object>(minCapacity);, +        } else {, +            list.clear();, +            list.ensureCapacity(minCapacity);, +        }, +        return list;, +    }, +, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/cookie/ClientCookieEncoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +                List<Cookie> cookiesList = InternalThreadLocalMap.get().arrayList();, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/multipart/HttpPostMultipartRequestDecoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +        List<String> values = InternalThreadLocalMap.get().arrayList(1);, +++ b/common/src/main/java/io/netty/util/AsciiString.java, +import io.netty.util.internal.InternalThreadLocalMap;, +        final List<AsciiString> res = InternalThreadLocalMap.get().arrayList();, +++ b/common/src/main/java/io/netty/util/internal/InternalThreadLocalMap.java, +import java.util.ArrayList;, +    private static final int DEFAULT_ARRAY_LIST_INITIAL_CAPACITY = 8;, +, +        if (arrayList != null) {, +            count ++;, +        }, +    public <E> ArrayList<E> arrayList() {, +        return arrayList(DEFAULT_ARRAY_LIST_INITIAL_CAPACITY);, +    }, +, +    public <E> ArrayList<E> arrayList(int minCapacity) {, +        ArrayList<E> list = (ArrayList<E>) arrayList;, +        if (list == null) {, +            list = (ArrayList<E>) new ArrayList<Object>(minCapacity);, +        } else {, +            list.clear();, +            list.ensureCapacity(minCapacity);, +        }, +        return list;, +    }, +, +++ b/common/src/main/java/io/netty/util/internal/StringUtil.java, +        final List<String> res = InternalThreadLocalMap.get().arrayList();, +        final List<String> res = InternalThreadLocalMap.get().arrayList();, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/cookie/ClientCookieEncoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +                List<Cookie> cookiesList = InternalThreadLocalMap.get().arrayList();, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/multipart/HttpPostMultipartRequestDecoder.java, +import io.netty.util.internal.InternalThreadLocalMap;, +        List<String> values = InternalThreadLocalMap.get().arrayList(1);, +++ b/common/src/main/java/io/netty/util/AsciiString.java, +import io.netty.util.internal.InternalThreadLocalMap;, +        final List<AsciiString> res = InternalThreadLocalMap.get().arrayList();, +++ b/common/src/main/java/io/netty/util/internal/InternalThreadLocalMap.java, +import java.util.ArrayList;, +    private static final int DEFAULT_ARRAY_LIST_INITIAL_CAPACITY = 8;, +, +        if (arrayList != null) {, +            count ++;, +        }, +    public <E> ArrayList<E> arrayList() {]