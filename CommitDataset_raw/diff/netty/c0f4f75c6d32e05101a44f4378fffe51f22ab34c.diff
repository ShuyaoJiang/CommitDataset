[+++ b/common/src/main/java/io/netty/util/NetworkConstants.java, +import java.io.BufferedReader;, +import java.io.FileReader;, +     * The SOMAXCONN value of the current machine.  If failed to get the value, 3072 is used as a, +     * default value., +     */, +    public static final int SOMAXCONN;, +, +    /**, +, +        int somaxconn = 3072;, +        BufferedReader in = null;, +        try {, +            in = new BufferedReader(new FileReader("/proc/sys/net/core/somaxconn"));, +            somaxconn = Integer.parseInt(in.readLine());, +        } catch (Exception e) {, +            // Failed to get SOMAXCONN, +        } finally {, +            if (in != null) {, +                try {, +                    in.close();, +                } catch (Exception e) {, +                    // Ignored., +                }, +            }, +        }, +, +        SOMAXCONN = somaxconn;, +++ b/common/src/main/java/io/netty/util/NetworkConstants.java, +import java.io.BufferedReader;, +import java.io.FileReader;, +     * The SOMAXCONN value of the current machine.  If failed to get the value, 3072 is used as a, +     * default value., +     */, +    public static final int SOMAXCONN;, +, +    /**, +, +        int somaxconn = 3072;, +        BufferedReader in = null;, +        try {, +            in = new BufferedReader(new FileReader("/proc/sys/net/core/somaxconn"));, +            somaxconn = Integer.parseInt(in.readLine());, +        } catch (Exception e) {, +            // Failed to get SOMAXCONN, +        } finally {, +            if (in != null) {, +                try {, +                    in.close();, +                } catch (Exception e) {, +                    // Ignored., +                }, +            }, +        }, +, +        SOMAXCONN = somaxconn;, +++ b/transport/src/main/java/io/netty/channel/socket/DefaultServerSocketChannelConfig.java, +import io.netty.util.NetworkConstants;, +    private volatile int backlog = NetworkConstants.SOMAXCONN;, +++ b/common/src/main/java/io/netty/util/NetworkConstants.java, +import java.io.BufferedReader;, +import java.io.FileReader;, +     * The SOMAXCONN value of the current machine.  If failed to get the value, 3072 is used as a, +     * default value., +     */, +    public static final int SOMAXCONN;, +, +    /**, +, +        int somaxconn = 3072;, +        BufferedReader in = null;, +        try {, +            in = new BufferedReader(new FileReader("/proc/sys/net/core/somaxconn"));, +            somaxconn = Integer.parseInt(in.readLine());, +        } catch (Exception e) {, +            // Failed to get SOMAXCONN, +        } finally {, +            if (in != null) {, +                try {, +                    in.close();, +                } catch (Exception e) {, +                    // Ignored., +                }, +            }, +        }, +, +        SOMAXCONN = somaxconn;, +++ b/transport/src/main/java/io/netty/channel/socket/DefaultServerSocketChannelConfig.java, +import io.netty.util.NetworkConstants;, +    private volatile int backlog = NetworkConstants.SOMAXCONN;, +++ b/transport/src/main/java/io/netty/channel/socket/aio/AioServerSocketChannelConfig.java, +import io.netty.util.NetworkConstants;, +    private volatile int backlog = NetworkConstants.SOMAXCONN;]