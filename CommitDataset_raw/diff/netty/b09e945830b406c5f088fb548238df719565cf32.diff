[+++ b/transport/src/main/java/io/netty/channel/socket/aio/AioSocketChannel.java, +    private final AtomicBoolean readInProgress = new AtomicBoolean();, +        // prevent ReadPendingException, +        if (!readInProgress.compareAndSet(false, true)) {, +            return;, +        }, +, +                // see beginRead, +                channel.readInProgress.set(false);, +, +++ b/transport/src/main/java/io/netty/channel/socket/aio/AioSocketChannel.java, +    private final AtomicBoolean readInProgress = new AtomicBoolean();, +        // prevent ReadPendingException, +        if (!readInProgress.compareAndSet(false, true)) {, +            return;, +        }, +, +                // see beginRead, +                channel.readInProgress.set(false);, +, +++ b/transport/src/main/java/io/netty/channel/socket/nio/NioDatagramChannel.java, +    private volatile boolean connected;, +, +            connected = true;]