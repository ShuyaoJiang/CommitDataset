[+++ b/codec/src/main/java/io/netty/handler/codec/string/StringEncoder.java, +import io.netty.handler.codec.MessageToMessageEncoder;, +import java.util.List;, +public class StringEncoder extends MessageToMessageEncoder<CharSequence> {, +    protected void encode(ChannelHandlerContext ctx, CharSequence msg, List<Object> out) throws Exception {, +        out.add(Unpooled.copiedBuffer(msg, charset));]