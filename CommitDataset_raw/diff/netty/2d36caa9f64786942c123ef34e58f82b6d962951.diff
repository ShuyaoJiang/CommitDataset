[+++ b/codec/src/main/java/io/netty/handler/codec/DefaultTextHeaders.java, +    public CharSequence getUnconvertedAndRemove(CharSequence name) {, +        if (name == null) {, +            throw new NullPointerException("name");, +        }, +        int h = hashCode(name);, +        int i = index(h);, +        HeaderEntry e = entries[i];, +        if (e == null) {, +            return null;, +        }, +, +        CharSequence value = null;, +        for (;;) {, +            if (e.hash == h && nameEquals(e.name, name)) {, +                value = e.value;, +                e.remove();, +                HeaderEntry next = e.next;, +                if (next != null) {, +                    entries[i] = next;, +                    e = next;, +                } else {, +                    entries[i] = null;, +                    return value;, +                }, +            } else {, +                break;, +            }, +        }, +, +        for (;;) {, +            HeaderEntry next = e.next;, +            if (next == null) {, +                break;, +            }, +            if (next.hash == h && nameEquals(next.name, name)) {, +                value = next.value;, +                e.next = next.next;, +                next.remove();, +            } else {, +                e = next;, +            }, +        }, +, +        if (value != null) {, +            return value;, +        }, +        return null;, +    }, +, +    @Override, +    public String getAndRemove(CharSequence name) {, +        CharSequence v = getUnconvertedAndRemove(name);, +        if (v == null) {, +            return null;, +        }, +        return v.toString();, +    }, +, +    @Override, +    public String getAndRemove(CharSequence name, String defaultValue) {, +        CharSequence v = getUnconvertedAndRemove(name);, +        if (v == null) {, +            return defaultValue;, +        }, +        return v.toString();, +    }, +, +    @Override, +    public int getIntAndRemove(CharSequence name) {, +        CharSequence v = getUnconvertedAndRemove(name);, +        if (v == null) {, +            throw new NoSuchElementException(String.valueOf(name));, +        }, +, +        if (v instanceof AsciiString) {, +            return ((AsciiString) v).parseInt();, +        } else {, +            return Integer.parseInt(v.toString());, +        }, +    }, +, +    @Override, +    public int getIntAndRemove(CharSequence name, int defaultValue) {, +        CharSequence v = getUnconvertedAndRemove(name);, +        if (v == null) {, +            return defaultValue;, +        }, +, +        try {, +            if (v instanceof AsciiString) {, +                return ((AsciiString) v).parseInt();, +            } else {, +                return Integer.parseInt(v.toString());, +            }, +        } catch (NumberFormatException ignored) {, +            return defaultValue;, +        }, +    }, +]