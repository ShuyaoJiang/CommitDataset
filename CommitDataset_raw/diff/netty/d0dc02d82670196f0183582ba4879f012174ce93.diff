[+++ b/transport-native-epoll/src/main/java/io/netty/channel/epoll/AbstractEpollChannel.java, +import java.nio.channels.NotYetConnectedException;, +                        fireEventAndClose(ChannelInputShutdownEvent.INSTANCE);, +                        return;, +                    } catch (NotYetConnectedException ignore) {, +                        // We attempted to shutdown and failed, which means the input has already effectively been, +                        // shutdown., +                        fireEventAndClose(ChannelInputShutdownEvent.INSTANCE);, +                        return;, +                    pipeline().fireUserEventTriggered(ChannelInputShutdownEvent.INSTANCE);, +        private void fireEventAndClose(Object evt) {, +            pipeline().fireUserEventTriggered(evt);, +            close(voidPromise());, +        }, +]