[+++ b/resolver/src/main/java/io/netty/resolver/DefaultHostsFileEntriesResolver.java, +import java.util.Locale;, +        return entries.get(inetHost.toLowerCase(Locale.ENGLISH));, +++ b/resolver/src/main/java/io/netty/resolver/DefaultHostsFileEntriesResolver.java, +import java.util.Locale;, +        return entries.get(inetHost.toLowerCase(Locale.ENGLISH));, +++ b/resolver/src/main/java/io/netty/resolver/HostsFileParser.java, +import java.util.Locale;, +                    String hostnameLower = hostname.toLowerCase(Locale.ENGLISH);, +                    if (!entries.containsKey(hostnameLower)) {, +                        entries.put(hostnameLower, InetAddress.getByAddress(hostname, ipBytes));, +++ b/resolver/src/main/java/io/netty/resolver/DefaultHostsFileEntriesResolver.java, +import java.util.Locale;, +        return entries.get(inetHost.toLowerCase(Locale.ENGLISH));, +++ b/resolver/src/main/java/io/netty/resolver/HostsFileParser.java, +import java.util.Locale;, +                    String hostnameLower = hostname.toLowerCase(Locale.ENGLISH);, +                    if (!entries.containsKey(hostnameLower)) {, +                        entries.put(hostnameLower, InetAddress.getByAddress(hostname, ipBytes));, +++ b/resolver/src/test/java/io/netty/resolver/DefaultHostsFileEntriesResolverTest.java, +/*, + * Copyright 2016 The Netty Project, + *, + * The Netty Project licenses this file to you under the Apache License,, + * version 2.0 (the "License"); you may not use this file except in compliance, + * with the License. You may obtain a copy of the License at:, + *, + *   http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT, + * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the, + * License for the specific language governing permissions and limitations, + * under the License., + */, +/**, + * show issue https://github.com/netty/netty/issues/5182, + * HostsFileParser tries to resolve hostnames as case-sensitive, + */, +package io.netty.resolver;, +, +import org.junit.Test;, +, +import static org.junit.Assert.assertNotNull;, +, +public class DefaultHostsFileEntriesResolverTest {, +, +    @Test, +    public void testLocalhost() {, +        DefaultHostsFileEntriesResolver resolver = new DefaultHostsFileEntriesResolver();, +        assertNotNull("localhost doesn't resolve", resolver.address("localhost"));, +        assertNotNull("LOCALHOST doesn't resolve", resolver.address("LOCALHOST"));, +    }, +}, +++ b/resolver/src/main/java/io/netty/resolver/DefaultHostsFileEntriesResolver.java, +import java.util.Locale;, +        return entries.get(inetHost.toLowerCase(Locale.ENGLISH));, +++ b/resolver/src/main/java/io/netty/resolver/HostsFileParser.java, +import java.util.Locale;, +                    String hostnameLower = hostname.toLowerCase(Locale.ENGLISH);, +                    if (!entries.containsKey(hostnameLower)) {, +                        entries.put(hostnameLower, InetAddress.getByAddress(hostname, ipBytes));, +++ b/resolver/src/test/java/io/netty/resolver/DefaultHostsFileEntriesResolverTest.java, +/*, + * Copyright 2016 The Netty Project, + *, + * The Netty Project licenses this file to you under the Apache License,, + * version 2.0 (the "License"); you may not use this file except in compliance, + * with the License. You may obtain a copy of the License at:, + *, + *   http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT, + * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the, + * License for the specific language governing permissions and limitations, + * under the License., + */, +/**, + * show issue https://github.com/netty/netty/issues/5182, + * HostsFileParser tries to resolve hostnames as case-sensitive, + */, +package io.netty.resolver;, +, +import org.junit.Test;, +, +import static org.junit.Assert.assertNotNull;, +, +public class DefaultHostsFileEntriesResolverTest {, +, +    @Test, +    public void testLocalhost() {, +        DefaultHostsFileEntriesResolver resolver = new DefaultHostsFileEntriesResolver();, +        assertNotNull("localhost doesn't resolve", resolver.address("localhost"));, +        assertNotNull("LOCALHOST doesn't resolve", resolver.address("LOCALHOST"));, +    }, +}, +++ b/resolver/src/test/java/io/netty/resolver/HostsFileParserTest.java, +                .append("192.168.0.5  HOST7").append("\n") // uppercase host, should match lowercase host, +                .append("192.168.0.6  host7").append("\n") // should be ignored since we have the uppercase host already]