[+++ b/common/src/main/java/io/netty/util/ResourceLeakDetector.java, +import static io.netty.util.internal.EmptyArrays.EMPTY_OBJECTS;, +        private final Deque<String> lastRecords;, +                lastRecords = new ArrayDeque<String>();, +                lastRecords = null;, +            if (lastRecords != null) {, +            } else {, +                removedRecords = 0;, +                array = EMPTY_OBJECTS;, +            }]