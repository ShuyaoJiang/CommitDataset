[+++ b/transport/src/main/java/io/netty/channel/DefaultChannelId.java, +            boolean replace = false;, +                // Found a better MAC address., +                replace = true;, +                // Two MAC addresses are of pretty much same quality., +                res = compareAddresses(bestInetAddr, inetAddr);, +                if (res < 0) {, +                    // Found a MAC address with better INET address., +                    replace = true;, +                } else if (res == 0) {, +                    // Cannot tell the difference.  Choose the longer one., +                    if (bestMacAddr.length < macAddr.length) {, +                        replace = true;, +                    }, +                }, +            }, +, +            if (replace) {, +        // Prefer globally unique address., +                // Both current and candidate are globally unique addresses., +                return 0;, +                // Only current is globally unique., +                // Only candidate is globally unique., +                // Both current and candidate are non-unique., +                return 0;]