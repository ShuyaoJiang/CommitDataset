[+++ b/common/src/main/java/io/netty/util/Recycler.java, +        static WeakOrderQueue newQueue(Stack<?> stack, Thread thread) {, +            WeakOrderQueue queue = new WeakOrderQueue(stack, thread);, +            // Done outside of the constructor to ensure WeakOrderQueue.this does not escape the constructor and so, +            // may be accessed while its still constructed., +            stack.setHead(queue);, +            return queue;, +        }, +, +        private void setNext(WeakOrderQueue next) {, +            assert next != this;, +            this.next = next;, +        }, +, +                    ? WeakOrderQueue.newQueue(stack, thread) : null;, +        // Marked as synchronized to ensure this is serialized., +        synchronized void setHead(WeakOrderQueue queue) {, +            queue.setNext(head);, +            head = queue;, +        }, +, +, +                        prev.setNext(next);]