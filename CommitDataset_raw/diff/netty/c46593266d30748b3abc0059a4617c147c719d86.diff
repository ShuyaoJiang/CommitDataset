[+++ b/codec/src/main/java/io/netty/handler/codec/replay/ReplayingDecoder.java, +                ChannelBuffer cumulation;, +                if (checkpoint > 0) {, +                    int bytesToPreserve = inputSize - (checkpoint - oldReaderIndex);, +                    cumulation = this.cumulation =, +                            newCumulationBuffer(ctx, bytesToPreserve);, +                    cumulation.writeBytes(input, checkpoint, bytesToPreserve);, +                } else if (checkpoint == 0) {, +                    cumulation = this.cumulation =, +, +                    cumulation = this.cumulation =, +                replayable = new ReplayingDecoderBuffer(cumulation);]