[+++ b/buffer/src/main/java/io/netty/buffer/AbstractByteBuf.java, +        if (minWritableBytes < 0) {, +                    "minWritableBytes: %d (expected: 0+)", minWritableBytes));, +        if (minWritableBytes > maxCapacity - writerIndex) {, +        int newCapacity = calculateNewCapacity(writerIndex + minWritableBytes);, +        final int maxCapacity = this.maxCapacity;, +, +        return Math.min(newCapacity, maxCapacity);]