[+++ b/transport/src/main/java/io/netty/channel/PendingWriteQueue.java, +    private long bytes;, +     * Returns the total number of bytes that are pending because of pending messages. This is only an estimate so, +     * it should only be treated as a hint., +     */, +    public long bytes() {, +        assert ctx.executor().inEventLoop();, +        return bytes;, +    }, +, +    /**, +        bytes += messageSize;, +            bytes = 0;, +        bytes = 0;, +                bytes = 0;, +                bytes -= writeSize;, +                assert size > 0 && bytes >= 0;, +++ b/transport/src/main/java/io/netty/channel/PendingWriteQueue.java, +    private long bytes;, +     * Returns the total number of bytes that are pending because of pending messages. This is only an estimate so, +     * it should only be treated as a hint., +     */, +    public long bytes() {, +        assert ctx.executor().inEventLoop();, +        return bytes;, +    }, +, +    /**, +        bytes += messageSize;, +            bytes = 0;, +        bytes = 0;, +                bytes = 0;, +                bytes -= writeSize;, +                assert size > 0 && bytes >= 0;, +++ b/transport/src/test/java/io/netty/channel/PendingWriteQueueTest.java, +        assertEquals(0, queue.bytes());]