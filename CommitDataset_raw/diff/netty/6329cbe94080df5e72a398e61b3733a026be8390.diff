[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +    private static final class RegisterTask implements Runnable {, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +    private static final class RegisterTask implements Runnable {, +++ b/src/main/java/org/jboss/netty/group/DefaultChannelGroupFuture.java, +            boolean callSetDone = false;, +, +                callSetDone = successCount + failureCount == futures.size();, +                assert successCount + failureCount <= futures.size();, +            if (callSetDone) {]