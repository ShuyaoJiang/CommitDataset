[+++ b/codec/src/main/java/io/netty/handler/codec/compression/SnappyFrameDecoder.java, +    private static final int SNAPPY_IDENTIFIER_LEN = 6;, +                    if (chunkLength != SNAPPY_IDENTIFIER_LEN) {, +                    if (inSize < 4 + SNAPPY_IDENTIFIER_LEN) {, +                    in.skipBytes(4);, +                    int offset = in.readerIndex();, +                    in.skipBytes(SNAPPY_IDENTIFIER_LEN);, +                    checkByte(in.getByte(offset++), (byte) 's');, +                    checkByte(in.getByte(offset++), (byte) 'N');, +                    checkByte(in.getByte(offset++), (byte) 'a');, +                    checkByte(in.getByte(offset++), (byte) 'P');, +                    checkByte(in.getByte(offset++), (byte) 'p');, +                    checkByte(in.getByte(offset), (byte) 'Y');, +    private static void checkByte(byte actual, byte expect) {, +        if (actual != expect) {, +            throw new DecompressionException("Unexpected stream identifier contents. Mismatched snappy " +, +                    "protocol version?");, +        }, +    }, +]