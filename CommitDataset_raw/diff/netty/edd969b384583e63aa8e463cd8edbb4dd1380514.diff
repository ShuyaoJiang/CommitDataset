[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +    final AtomicBoolean wakenUp = new AtomicBoolean();, +            wakenUp.set(false);, +                        if (Thread.currentThread() != worker.thread &&, +                            worker.wakenUp.compareAndSet(false, true)) {, +                            selector.wakeup();, +                        }, +                        if (Thread.currentThread() != worker.thread &&, +                            worker.wakenUp.compareAndSet(false, true)) {, +                            selector.wakeup();, +                        }, +                    if (Thread.currentThread() != worker.thread &&, +                        worker.wakenUp.compareAndSet(false, true)) {, +                        selector.wakeup();, +                    }]