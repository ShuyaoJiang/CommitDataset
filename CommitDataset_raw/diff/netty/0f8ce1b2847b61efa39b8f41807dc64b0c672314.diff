[+++ b/buffer/src/main/java/io/netty/buffer/ByteBufUtil.java, +        int capacity = buffer.capacity();, +        fromIndex = Math.min(fromIndex, capacity);, +        if (fromIndex < 0 || capacity == 0) {, +        int capacity = buf.capacity();, +        if (isOutOfBounds(start, length, capacity)) {, +                    + ") <= " + "buf.capacity(" + capacity + ')');, +            if (copy || start != 0 || length != capacity) {, +                getBytes(buffer, threadLocalTempArray(chunkLen), 0, chunkLen, out, length);, +++ b/buffer/src/main/java/io/netty/buffer/ByteBufUtil.java, +        int capacity = buffer.capacity();, +        fromIndex = Math.min(fromIndex, capacity);, +        if (fromIndex < 0 || capacity == 0) {, +        int capacity = buf.capacity();, +        if (isOutOfBounds(start, length, capacity)) {, +                    + ") <= " + "buf.capacity(" + capacity + ')');, +            if (copy || start != 0 || length != capacity) {, +                getBytes(buffer, threadLocalTempArray(chunkLen), 0, chunkLen, out, length);, +++ b/buffer/src/main/java/io/netty/buffer/UnsafeByteBufUtil.java, +                getBytes(addr, ByteBufUtil.threadLocalTempArray(len), 0, len, out, length);]