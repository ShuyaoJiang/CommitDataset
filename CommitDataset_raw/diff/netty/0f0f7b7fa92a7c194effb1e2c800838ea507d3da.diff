[+++ b/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerHandshaker00.java, +import io.netty.handler.codec.http.HttpChunkAggregator;, +import io.netty.handler.codec.http.HttpRequestDecoder;, +import io.netty.handler.codec.http.HttpResponseEncoder;, +        p.remove(HttpChunkAggregator.class);, +        p.replace(HttpRequestDecoder.class, "wsdecoder", new WebSocket00FrameDecoder());, +        p.replace(HttpResponseEncoder.class, "wsencoder", new WebSocket00FrameEncoder());, +++ b/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerHandshaker00.java, +import io.netty.handler.codec.http.HttpChunkAggregator;, +import io.netty.handler.codec.http.HttpRequestDecoder;, +import io.netty.handler.codec.http.HttpResponseEncoder;, +        p.remove(HttpChunkAggregator.class);, +        p.replace(HttpRequestDecoder.class, "wsdecoder", new WebSocket00FrameDecoder());, +        p.replace(HttpResponseEncoder.class, "wsencoder", new WebSocket00FrameEncoder());, +++ b/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerHandshaker10.java, +import io.netty.handler.codec.http.HttpChunkAggregator;, +import io.netty.handler.codec.http.HttpRequestDecoder;, +import io.netty.handler.codec.http.HttpResponseEncoder;, +        p.remove(HttpChunkAggregator.class);, +        p.replace(HttpRequestDecoder.class, "wsdecoder", new WebSocket08FrameDecoder(true, this.allowExtensions));, +        p.replace(HttpResponseEncoder.class, "wsencoder", new WebSocket08FrameEncoder(false));, +++ b/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerHandshaker00.java, +import io.netty.handler.codec.http.HttpChunkAggregator;, +import io.netty.handler.codec.http.HttpRequestDecoder;, +import io.netty.handler.codec.http.HttpResponseEncoder;, +        p.remove(HttpChunkAggregator.class);, +        p.replace(HttpRequestDecoder.class, "wsdecoder", new WebSocket00FrameDecoder());, +        p.replace(HttpResponseEncoder.class, "wsencoder", new WebSocket00FrameEncoder());, +++ b/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerHandshaker10.java, +import io.netty.handler.codec.http.HttpChunkAggregator;, +import io.netty.handler.codec.http.HttpRequestDecoder;, +import io.netty.handler.codec.http.HttpResponseEncoder;, +        p.remove(HttpChunkAggregator.class);, +        p.replace(HttpRequestDecoder.class, "wsdecoder", new WebSocket08FrameDecoder(true, this.allowExtensions));, +        p.replace(HttpResponseEncoder.class, "wsencoder", new WebSocket08FrameEncoder(false));, +++ b/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketServerHandshaker17.java, +import io.netty.handler.codec.http.HttpChunkAggregator;, +import io.netty.handler.codec.http.HttpRequestDecoder;, +import io.netty.handler.codec.http.HttpResponseEncoder;, +        p.remove(HttpChunkAggregator.class);, +        p.replace(HttpRequestDecoder.class, "wsdecoder", new WebSocket13FrameDecoder(true, this.allowExtensions));, +        p.replace(HttpResponseEncoder.class, "wsencoder", new WebSocket13FrameEncoder(false));]