[+++ b/handler/src/test/java/io/netty/handler/ssl/SslHandlerTest.java, +import java.util.concurrent.atomic.AtomicReference;, +            final AtomicReference<SslHandler> sslHandlerRef = new AtomicReference<SslHandler>();, +                            SslHandler handler = sslClientCtx.newHandler(ch.alloc());, +, +                            // We propagate the SslHandler via an AtomicReference to the outer-scope as using, +                            // pipeline.get(...) may return null if the pipeline was teared down by the time we call it., +                            // This will happen if the channel was closed in the meantime., +                            sslHandlerRef.set(handler);, +                            ch.pipeline().addLast(handler);, +            SslHandler handler = sslHandlerRef.get();]