[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioDatagramWorker.java, +                        for (int i = writeSpinCount; i > 0 && !buf.finished(); i --) {, +                        for (int i = writeSpinCount; i > 0 && !buf.finished(); i --) {, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioDatagramWorker.java, +                        for (int i = writeSpinCount; i > 0 && !buf.finished(); i --) {, +                        for (int i = writeSpinCount; i > 0 && !buf.finished(); i --) {, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +import static org.jboss.netty.channel.Channels.*;, +import java.nio.channels.AsynchronousCloseException;, +import java.nio.channels.CancelledKeyException;, +import java.nio.channels.ClosedChannelException;, +import java.nio.channels.NotYetConnectedException;, +import java.nio.channels.SelectionKey;, +import java.nio.channels.Selector;, +import java.nio.channels.SocketChannel;, +import org.jboss.netty.buffer.ChannelBuffer;, +import org.jboss.netty.buffer.ChannelBufferFactory;, +import org.jboss.netty.channel.Channel;, +import org.jboss.netty.channel.ChannelException;, +import org.jboss.netty.channel.ChannelFuture;, +import org.jboss.netty.channel.MessageEvent;, +import org.jboss.netty.channel.ReceiveBufferSizePredictor;, +import org.jboss.netty.channel.socket.nio.SocketSendBufferPool.SendBuffer;, +import org.jboss.netty.logging.InternalLogger;, +import org.jboss.netty.logging.InternalLoggerFactory;, +import org.jboss.netty.util.ThreadRenamingRunnable;, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +import org.jboss.netty.util.internal.LinkedTransferQueue;, +                    for (int i = writeSpinCount; i > 0 && !buf.finished(); i --) {]