[+++ b/src/main/java/org/jboss/netty/channel/DefaultChannelFuture.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +                checkDeadLock();, +                checkDeadLock();, +            checkDeadLock();, +    private void checkDeadLock() {, +        if (IoWorkerRunnable.IN_IO_THREAD.get()) {, +            throw new IllegalStateException(, +                    "await*() in I/O thread causes a dead lock or " +, +                    "sudden performance drop.");, +        }, +    }, +, +++ b/src/main/java/org/jboss/netty/channel/DefaultChannelFuture.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +                checkDeadLock();, +                checkDeadLock();, +            checkDeadLock();, +    private void checkDeadLock() {, +        if (IoWorkerRunnable.IN_IO_THREAD.get()) {, +            throw new IllegalStateException(, +                    "await*() in I/O thread causes a dead lock or " +, +                    "sudden performance drop.");, +        }, +    }, +, +++ b/src/main/java/org/jboss/netty/channel/socket/http/HttpTunnelingClientSocketPipelineSink.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +            workerExecutor.execute(, +                    new IoWorkerRunnable(, +                            new ThreadRenamingRunnable(, +                                    "Old I/O client worker (channelId: " +, +                                    channel.getId() + ", " +, +                                    channel.getRemoteAddress() + ')')));, +++ b/src/main/java/org/jboss/netty/channel/DefaultChannelFuture.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +                checkDeadLock();, +                checkDeadLock();, +            checkDeadLock();, +    private void checkDeadLock() {, +        if (IoWorkerRunnable.IN_IO_THREAD.get()) {, +            throw new IllegalStateException(, +                    "await*() in I/O thread causes a dead lock or " +, +                    "sudden performance drop.");, +        }, +    }, +, +++ b/src/main/java/org/jboss/netty/channel/socket/http/HttpTunnelingClientSocketPipelineSink.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +            workerExecutor.execute(, +                    new IoWorkerRunnable(, +                            new ThreadRenamingRunnable(, +                                    "Old I/O client worker (channelId: " +, +                                    channel.getId() + ", " +, +                                    channel.getRemoteAddress() + ')')));, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +                        bossExecutor.execute(, +                                new IoWorkerRunnable(, +                                        new ThreadRenamingRunnable(, +                                                this, "New I/O client boss #" + id)));, +++ b/src/main/java/org/jboss/netty/channel/DefaultChannelFuture.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +                checkDeadLock();, +                checkDeadLock();, +            checkDeadLock();, +    private void checkDeadLock() {, +        if (IoWorkerRunnable.IN_IO_THREAD.get()) {, +            throw new IllegalStateException(, +                    "await*() in I/O thread causes a dead lock or " +, +                    "sudden performance drop.");, +        }, +    }, +, +++ b/src/main/java/org/jboss/netty/channel/socket/http/HttpTunnelingClientSocketPipelineSink.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +            workerExecutor.execute(, +                    new IoWorkerRunnable(, +                            new ThreadRenamingRunnable(, +                                    "Old I/O client worker (channelId: " +, +                                    channel.getId() + ", " +, +                                    channel.getRemoteAddress() + ')')));, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioClientSocketPipelineSink.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +                        bossExecutor.execute(, +                                new IoWorkerRunnable(, +                                        new ThreadRenamingRunnable(, +                                                this, "New I/O client boss #" + id)));, +++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioServerSocketPipelineSink.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +            bossExecutor.execute(, +                    new IoWorkerRunnable(, +                            new ThreadRenamingRunnable(, +                                    "New I/O server boss #" + id +, +                                    " (channelId: " + channel.getId() +, +                                    ", " + channel.getLocalAddress() + ')')));, +++ b/src/main/java/org/jboss/netty/channel/DefaultChannelFuture.java, +import org.jboss.netty.util.internal.IoWorkerRunnable;, +                checkDeadLock();, +                checkDeadLock();]