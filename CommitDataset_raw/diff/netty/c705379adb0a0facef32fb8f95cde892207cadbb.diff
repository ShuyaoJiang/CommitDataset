[+++ b/handler/src/main/java/io/netty/handler/ssl/SslHandler.java, +    /**, +     * Fail all pending writes which we were not able to flush out, +     */, +        , +        // there is no need for synchronization here as we do not receive downstream events anymore, +        Throwable cause = null;, +        for (;;) {, +            PendingWrite pw = pendingUnencryptedWrites.poll();, +            if (pw == null) {, +                break;, +            }, +            if (cause == null) {, +                cause = new IOException("Unable to write data");, +            }, +            pw.future.setFailure(cause);, +, +        }, +, +        for (;;) {, +            MessageEvent ev = pendingEncryptedWrites.poll();, +            if (ev == null) {, +                break;, +            }, +            if (cause == null) {, +                cause = new IOException("Unable to write data");, +            }, +            ev.getFuture().setFailure(cause);, +, +        }, +, +        if (cause != null) {, +            fireExceptionCaught(ctx, cause);, +        }]