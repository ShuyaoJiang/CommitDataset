[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpMessageDecoder.java, +                return new Object[] {message, new DefaultHttpChunk(read(buffer, toRead))};, +                return new DefaultHttpChunk(read(buffer, toRead));, +            content = read(buffer, (int) length);, +, +    /**, +     * Try to do an optimized "read" of len from the given {@link ByteBuf}., +     *, +     * This is part of #412 to safe byte copies, +     *, +     */, +    private ByteBuf read(ByteBuf buffer, int len) {, +        ByteBuf internal = internalBuffer();, +        if (internal.readableBytes() >= len) {, +            int index = internal.readerIndex();, +            ByteBuf buf = internal.slice(index, len);, +, +            // update the readerindex so an the next read its on the correct position, +            buffer.readerIndex(index + len);, +            return buf;, +        } else {, +            return buffer.readBytes(len);, +        }, +    }, +]