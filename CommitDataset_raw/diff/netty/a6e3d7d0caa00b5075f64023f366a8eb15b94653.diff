[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/CookieDecoder.java, +    private static final Pattern PATTERN = Pattern.compile(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/CookieDecoder.java, +    private static final Pattern PATTERN = Pattern.compile(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/CookieEncoder.java, +        addCookie(new DefaultCookie(name, value));, +        if (cookies.size() > 1) {, +            throw new IllegalStateException(, +                    "encode() can encode only one cookie on server mode: " + cookies.size() + " cookies added");, +        }, +, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/CookieDecoder.java, +    private static final Pattern PATTERN = Pattern.compile(, +++ b/codec-http/src/main/java/io/netty/handler/codec/http/CookieEncoder.java, +        addCookie(new DefaultCookie(name, value));, +        if (cookies.size() > 1) {, +            throw new IllegalStateException(, +                    "encode() can encode only one cookie on server mode: " + cookies.size() + " cookies added");, +        }, +, +++ b/example/src/main/java/io/netty/example/http/snoop/HttpSnoopServerHandler.java, +        } else {, +            // Browser sent no cookie.  Add some., +            CookieEncoder cookieEncoder = new CookieEncoder(true);, +            cookieEncoder.addCookie("key1", "value1");, +            response.addHeader(SET_COOKIE, cookieEncoder.encode());, +            cookieEncoder.addCookie("key2", "value2");, +            response.addHeader(SET_COOKIE, cookieEncoder.encode());, +        }]