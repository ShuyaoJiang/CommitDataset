[+++ b/src/main/java/org/jboss/netty/handler/codec/frame/LengthFieldPrepender.java, +    private final boolean lengthIncludesLengthFieldLength;, +        this(lengthFieldLength, false);, +    }, +, +    public LengthFieldPrepender(, +            int lengthFieldLength, boolean lengthIncludesLengthFieldLength) {, +        this.lengthIncludesLengthFieldLength = lengthIncludesLengthFieldLength;, +        int length = lengthIncludesLengthFieldLength?, +                body.readableBytes() : body.readableBytes() + lengthFieldLength;, +            header.writeByte((byte) length);, +            header.writeShort((short) length);, +            header.writeMedium(length);, +            header.writeInt(length);, +            header.writeLong(length);]