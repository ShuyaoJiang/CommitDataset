[+++ b/codec/src/main/java/io/netty/handler/codec/CodecUtil.java, +    static void addToNextOutboundBuffer(ChannelHandlerContext ctx, Object msg) {, +        try {, +            ctx.nextOutboundMessageBuffer().add(msg);, +        } catch (NoSuchBufferException e) {, +            NoSuchBufferException newE =, +                    new NoSuchBufferException(e.getMessage() + " (msg: " + msg + ')');, +            newE.setStackTrace(e.getStackTrace());, +            throw newE;, +        }, +    }, +, +    static void addToNextInboundBuffer(ChannelHandlerContext ctx, Object msg) {, +        try {, +            ctx.nextInboundMessageBuffer().add(msg);, +        } catch (NoSuchBufferException e) {, +            NoSuchBufferException newE =, +                    new NoSuchBufferException(e.getMessage() + " (msg: " + msg + ')');, +            newE.setStackTrace(e.getStackTrace());, +            throw newE;, +        }, +    }, +, +++ b/codec/src/main/java/io/netty/handler/codec/CodecUtil.java, +    static void addToNextOutboundBuffer(ChannelHandlerContext ctx, Object msg) {, +        try {, +            ctx.nextOutboundMessageBuffer().add(msg);, +        } catch (NoSuchBufferException e) {, +            NoSuchBufferException newE =, +                    new NoSuchBufferException(e.getMessage() + " (msg: " + msg + ')');, +            newE.setStackTrace(e.getStackTrace());, +            throw newE;, +        }, +    }, +, +    static void addToNextInboundBuffer(ChannelHandlerContext ctx, Object msg) {, +        try {, +            ctx.nextInboundMessageBuffer().add(msg);, +        } catch (NoSuchBufferException e) {, +            NoSuchBufferException newE =, +                    new NoSuchBufferException(e.getMessage() + " (msg: " + msg + ')');, +            newE.setStackTrace(e.getStackTrace());, +            throw newE;, +        }, +    }, +, +++ b/codec/src/main/java/io/netty/handler/codec/MessageToByteEncoder.java, +                CodecUtil.addToNextOutboundBuffer(ctx, msg);, +++ b/codec/src/main/java/io/netty/handler/codec/CodecUtil.java, +    static void addToNextOutboundBuffer(ChannelHandlerContext ctx, Object msg) {, +        try {, +            ctx.nextOutboundMessageBuffer().add(msg);, +        } catch (NoSuchBufferException e) {, +            NoSuchBufferException newE =, +                    new NoSuchBufferException(e.getMessage() + " (msg: " + msg + ')');, +            newE.setStackTrace(e.getStackTrace());, +            throw newE;, +        }, +    }, +, +    static void addToNextInboundBuffer(ChannelHandlerContext ctx, Object msg) {, +        try {, +            ctx.nextInboundMessageBuffer().add(msg);, +        } catch (NoSuchBufferException e) {, +            NoSuchBufferException newE =, +                    new NoSuchBufferException(e.getMessage() + " (msg: " + msg + ')');, +            newE.setStackTrace(e.getStackTrace());, +            throw newE;, +        }, +    }, +, +++ b/codec/src/main/java/io/netty/handler/codec/MessageToByteEncoder.java, +                CodecUtil.addToNextOutboundBuffer(ctx, msg);, +++ b/codec/src/main/java/io/netty/handler/codec/MessageToMessageDecoder.java, +                    CodecUtil.addToNextInboundBuffer(ctx, msg);, +++ b/codec/src/main/java/io/netty/handler/codec/CodecUtil.java, +    static void addToNextOutboundBuffer(ChannelHandlerContext ctx, Object msg) {, +        try {, +            ctx.nextOutboundMessageBuffer().add(msg);, +        } catch (NoSuchBufferException e) {, +            NoSuchBufferException newE =, +                    new NoSuchBufferException(e.getMessage() + " (msg: " + msg + ')');, +            newE.setStackTrace(e.getStackTrace());, +            throw newE;, +        }, +    }, +, +    static void addToNextInboundBuffer(ChannelHandlerContext ctx, Object msg) {, +        try {, +            ctx.nextInboundMessageBuffer().add(msg);, +        } catch (NoSuchBufferException e) {, +            NoSuchBufferException newE =, +                    new NoSuchBufferException(e.getMessage() + " (msg: " + msg + ')');, +            newE.setStackTrace(e.getStackTrace());, +            throw newE;, +        }, +    }, +, +++ b/codec/src/main/java/io/netty/handler/codec/MessageToByteEncoder.java, +                CodecUtil.addToNextOutboundBuffer(ctx, msg);]