[+++ b/codec-http/src/main/java/io/netty/handler/codec/http/HttpObjectEncoder.java, +import static io.netty.buffer.Unpooled.*;, +    private static final ByteBuf CRLF_BUF = unreleasableBuffer(directBuffer(ZERO_CRLF.length).writeBytes(ZERO_CRLF));, +    private static final ByteBuf ZERO_CRLF_CRLF_BUF = unreleasableBuffer(directBuffer(ZERO_CRLF_CRLF.length), +            .writeBytes(ZERO_CRLF_CRLF));, +                    // IllegalStateException will be thrown, +                    out.add(EMPTY_BUFFER);, +                    out.add(CRLF_BUF.duplicate());, +                        out.add(ZERO_CRLF_CRLF_BUF.duplicate());, +                      out.add(EMPTY_BUFFER);]