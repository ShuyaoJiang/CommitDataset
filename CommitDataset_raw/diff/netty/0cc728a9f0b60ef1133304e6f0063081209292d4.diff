[+++ b/src/main/java/org/jboss/netty/handler/codec/replay/ReplayingDecoder.java, +import org.jboss.netty.buffer.ChannelBuffers;, +     * Returns the actual number of readable bytes in the internal cumulative, +     * buffer of this decoder.  You usually do not need to rely on this value, +     * to write a decoder.  Use it only when you muse use it at your own risk., +     * This method is a shortcut to {@link #internalBuffer() internalBuffer().readableBytes()}., +        return internalBuffer().readableBytes();, +    /**, +     * Returns the internal cumulative buffer of this decoder.  You usually, +     * do not need to access the internal buffer directly to write a decoder., +     * Use it only when you must use it at your own risk., +     */, +    protected ChannelBuffer internalBuffer() {, +        ChannelBuffer buf = cumulation.get();, +        if (buf == null) {, +            return ChannelBuffers.EMPTY_BUFFER;, +        }, +        return buf;]