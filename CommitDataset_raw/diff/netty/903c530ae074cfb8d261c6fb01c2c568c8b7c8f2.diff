[+++ b/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java, +import org.jboss.netty.util.ThreadLocalBoolean;, +    private static final ThreadLocalBoolean writing = new ThreadLocalBoolean();, +, +        if (writing.get()) {, +            scheduleWriteIfNecessary(channel);, +        } else {, +            writing.set(Boolean.TRUE);, +            try {, +            } finally {, +                writing.set(Boolean.FALSE);, +            }, +        }, +]