[+++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/DefaultHttp2FrameWriter.java, +import static io.netty.buffer.Unpooled.directBuffer;, +import static io.netty.buffer.Unpooled.unmodifiableBuffer;, +import static io.netty.buffer.Unpooled.unreleasableBuffer;, +    private static final ByteBuf ZERO_BUFFER = unmodifiableBuffer(, +            unreleasableBuffer(directBuffer(MAX_UNSIGNED_BYTE).writeZero(MAX_UNSIGNED_BYTE)));, +++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/DefaultHttp2FrameWriter.java, +import static io.netty.buffer.Unpooled.directBuffer;, +import static io.netty.buffer.Unpooled.unmodifiableBuffer;, +import static io.netty.buffer.Unpooled.unreleasableBuffer;, +    private static final ByteBuf ZERO_BUFFER = unmodifiableBuffer(, +            unreleasableBuffer(directBuffer(MAX_UNSIGNED_BYTE).writeZero(MAX_UNSIGNED_BYTE)));, +++ b/microbench/pom.xml, +    <epoll.arch>x86_64</epoll.arch>, +  <profiles>, +    <profile>, +      <id>linux</id>, +      <activation>, +        <os>, +          <family>linux</family>, +        </os>, +      </activation>, +      <properties>, +        <epoll.arch>${os.detected.arch}</epoll.arch>, +      </properties>, +    </profile>, +  </profiles>, +, +      <groupId>${project.groupId}</groupId>, +      <artifactId>netty-codec-http2</artifactId>, +      <version>${project.version}</version>, +    </dependency>, +     <dependency>, +       <groupId>${project.groupId}</groupId>, +       <artifactId>netty-transport-native-epoll</artifactId>, +       <version>${project.version}</version>, +       <classifier>linux-${epoll.arch}</classifier>, +     </dependency>, +    <dependency>, +    <extensions>, +      <extension>, +        <groupId>kr.motd.maven</groupId>, +        <artifactId>os-maven-plugin</artifactId>, +        <version>1.2.3.Final</version>, +      </extension>, +    </extensions>, +++ b/codec-http2/src/main/java/io/netty/handler/codec/http2/DefaultHttp2FrameWriter.java, +import static io.netty.buffer.Unpooled.directBuffer;, +import static io.netty.buffer.Unpooled.unmodifiableBuffer;, +import static io.netty.buffer.Unpooled.unreleasableBuffer;, +    private static final ByteBuf ZERO_BUFFER = unmodifiableBuffer(, +            unreleasableBuffer(directBuffer(MAX_UNSIGNED_BYTE).writeZero(MAX_UNSIGNED_BYTE)));, +++ b/microbench/pom.xml, +    <epoll.arch>x86_64</epoll.arch>, +  <profiles>, +    <profile>, +      <id>linux</id>, +      <activation>, +        <os>, +          <family>linux</family>, +        </os>, +      </activation>, +      <properties>, +        <epoll.arch>${os.detected.arch}</epoll.arch>, +      </properties>, +    </profile>, +  </profiles>, +, +      <groupId>${project.groupId}</groupId>, +      <artifactId>netty-codec-http2</artifactId>, +      <version>${project.version}</version>, +    </dependency>, +     <dependency>, +       <groupId>${project.groupId}</groupId>, +       <artifactId>netty-transport-native-epoll</artifactId>, +       <version>${project.version}</version>, +       <classifier>linux-${epoll.arch}</classifier>, +     </dependency>, +    <dependency>, +    <extensions>, +      <extension>, +        <groupId>kr.motd.maven</groupId>, +        <artifactId>os-maven-plugin</artifactId>, +        <version>1.2.3.Final</version>, +      </extension>, +    </extensions>, +++ b/microbench/src/test/java/io/netty/microbench/channel/EmbeddedChannelWriteReleaseHandlerContext.java, +/*, + * Copyright 2015 The Netty Project, + *, + * The Netty Project licenses this file to you under the Apache License, version 2.0 (the, + * "License"); you may not use this file except in compliance with the License. You may obtain a, + * copy of the License at:, + *, + * http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software distributed under the License, + * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express, + * or implied. See the License for the specific language governing permissions and limitations under, + * the License.]