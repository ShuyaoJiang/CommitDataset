[+++ b/src/main/java/org/jboss/netty/channel/DownstreamMessageEvent.java, +                   StringUtil.stripControlCharacters(getMessage()) + " to " +, +++ b/src/main/java/org/jboss/netty/channel/DownstreamMessageEvent.java, +                   StringUtil.stripControlCharacters(getMessage()) + " to " +, +++ b/src/main/java/org/jboss/netty/channel/UpstreamMessageEvent.java, +, +        if (remoteAddress != null) {, +        } else {, +            this.remoteAddress = channel.getRemoteAddress();, +        }, +        // It's safe to use identity comparison in this case., +        if (getRemoteAddress() == getChannel().getRemoteAddress()) {, +                   StringUtil.stripControlCharacters(getMessage()) + " from " +]