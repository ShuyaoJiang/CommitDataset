[+++ b/transport/src/main/java/io/netty/channel/ChannelOutboundBuffer.java, +        unflushed = tail;, +        Entry e = buffer[flushed];, +        flushed = flushed + 1 & buffer.length - 1;, +        final int unflushedCount = tail - unflushed & buffer.length - 1;, +        if (buffer.length > INITIAL_CAPACITY) {, +            System.arraycopy(buffer, 0, e, 0, INITIAL_CAPACITY);, +            buffer = e;, +        if (nioBuffers.length > INITIAL_CAPACITY) {, +            nioBuffers = new ByteBuffer[INITIAL_CAPACITY];, +        // reset flushed, unflushed and tail, +        // See https://github.com/netty/netty/issues/1772, +        flushed = 0;, +        unflushed = 0;, +        tail = 0;, +]