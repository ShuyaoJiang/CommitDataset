[+++ b/example/src/main/java/io/netty/example/http/upload/HttpUploadClient.java, +import io.netty.handler.codec.http.HttpPostRequestEncoder;, +import io.netty.handler.codec.http.HttpPostRequestEncoder.ErrorDataEncoderException;, +import io.netty.handler.codec.http.InterfaceHttpData;, +import io.netty.handler.codec.http.QueryStringEncoder;, +    private final String baseUri;, +    private final String filePath;, +    , +    public HttpUploadClient(String baseUri, String filePath) {, +        this.baseUri = baseUri;, +        this.filePath = filePath;, +    public void run() {, +        if (baseUri.endsWith("/")) {, +            postSimple = baseUri + "formpost";, +            postFile = baseUri + "formpostmultipart";, +            get = baseUri + "formget";, +            postSimple = baseUri + "/formpost";, +            postFile = baseUri + "/formpostmultipart";, +            get = baseUri + "/formget";, +        File file = new File(filePath);, +        formpostmultipart(bootstrap, host, port, uriFile, factory, headers, bodylist);, +     *, +            URI uriFile, HttpDataFactory factory,, +    public static void main(String[] args) {, +        if (args.length != 2) {, +            System.err.println(, +                    "Usage: " + HttpUploadClient.class.getSimpleName() +, +                    " baseURI filePath");, +            return;, +        }, +        String baseUri = args[0];, +        String filePath = args[1];, +        new HttpUploadClient(baseUri, filePath).run();, +    }, +++ b/example/src/main/java/io/netty/example/http/upload/HttpUploadClient.java, +import io.netty.handler.codec.http.HttpPostRequestEncoder;, +import io.netty.handler.codec.http.HttpPostRequestEncoder.ErrorDataEncoderException;, +import io.netty.handler.codec.http.InterfaceHttpData;, +import io.netty.handler.codec.http.QueryStringEncoder;, +    private final String baseUri;, +    private final String filePath;, +    , +    public HttpUploadClient(String baseUri, String filePath) {, +        this.baseUri = baseUri;, +        this.filePath = filePath;, +    public void run() {, +        if (baseUri.endsWith("/")) {, +            postSimple = baseUri + "formpost";, +            postFile = baseUri + "formpostmultipart";, +            get = baseUri + "formget";, +            postSimple = baseUri + "/formpost";, +            postFile = baseUri + "/formpostmultipart";, +            get = baseUri + "/formget";, +        File file = new File(filePath);, +        formpostmultipart(bootstrap, host, port, uriFile, factory, headers, bodylist);, +     *, +            URI uriFile, HttpDataFactory factory,, +    public static void main(String[] args) {, +        if (args.length != 2) {, +            System.err.println(, +                    "Usage: " + HttpUploadClient.class.getSimpleName() +, +                    " baseURI filePath");, +            return;, +        }, +        String baseUri = args[0];, +        String filePath = args[1];, +        new HttpUploadClient(baseUri, filePath).run();, +    }, +++ b/example/src/main/java/io/netty/example/http/upload/HttpUploadServer.java, +    , +    private final int port;, +    , +    public HttpUploadServer(int port) {, +        this.port = port;, +    }, +    , +    public void run() {, +        bootstrap.bind(new InetSocketAddress(port));, +    }, +, +    public static void main(String[] args) {, +        int port;, +        if (args.length > 0) {, +            port = Integer.parseInt(args[0]);, +        } else {, +            port = 8080;, +        }, +        new HttpUploadServer(port).run();, +++ b/example/src/main/java/io/netty/example/http/upload/HttpUploadClient.java, +import io.netty.handler.codec.http.HttpPostRequestEncoder;, +import io.netty.handler.codec.http.HttpPostRequestEncoder.ErrorDataEncoderException;, +import io.netty.handler.codec.http.InterfaceHttpData;, +import io.netty.handler.codec.http.QueryStringEncoder;, +    private final String baseUri;, +    private final String filePath;, +    , +    public HttpUploadClient(String baseUri, String filePath) {, +        this.baseUri = baseUri;, +        this.filePath = filePath;, +    public void run() {]