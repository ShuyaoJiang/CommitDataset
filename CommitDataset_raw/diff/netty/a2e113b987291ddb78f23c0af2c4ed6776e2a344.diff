[+++ b/codec/src/main/java/io/netty/handler/codec/LineBasedFrameDecoder.java, +import io.netty.util.ByteProcessor;, +        int i = buffer.forEachByte(ByteProcessor.FIND_LF);, +        if (i > 0 && buffer.getByte(i - 1) == '\r') {, +            i--;, +        }]