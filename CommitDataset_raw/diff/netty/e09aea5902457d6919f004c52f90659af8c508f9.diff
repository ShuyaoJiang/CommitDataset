[+++ b/codec-http/src/test/java/io/netty/handler/codec/http/websocketx/WebSocketFrameAggregatorTest.java, +++ b/codec-http/src/test/java/io/netty/handler/codec/http/websocketx/WebSocketFrameAggregatorTest.java, +++ b/transport/src/main/java/io/netty/channel/embedded/EmbeddedChannel.java, +    private final Queue<Object> inboundMessages = new ArrayDeque<Object>();, +    private final Queue<Object> outboundMessages = new ArrayDeque<Object>();, +     * Returns the {@link Queue} which holds all the {@link Object}s that were received by this {@link Channel}., +    public Queue<Object> inboundMessages() {, +        return inboundMessages;, +     * @deprecated use {@link #inboundMessages()}, +    @Deprecated, +    public Queue<Object> lastInboundBuffer() {, +        return inboundMessages();, +    }, +, +    /**, +     * Returns the {@link Queue} which holds all the {@link Object}s that were written by this {@link Channel}., +     */, +    public Queue<Object> outboundMessages() {, +        return outboundMessages;, +    }, +, +    /**, +     * @deprecated use {@link #outboundMessages()}, +     */, +    @Deprecated, +        return outboundMessages();, +        return inboundMessages.poll();, +        return outboundMessages.poll();, +            return !inboundMessages.isEmpty();, +        return !inboundMessages.isEmpty();, +            return !outboundMessages.isEmpty();, +            return !outboundMessages.isEmpty();, +        return !inboundMessages.isEmpty() || !outboundMessages.isEmpty();, +            outboundMessages.add(msg);, +            inboundMessages.add(msg);]