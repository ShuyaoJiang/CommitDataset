[+++ b/core/test/src/com/google/zxing/common/AbstractBlackBoxTestCase.java, +import java.awt.image.BufferedImageOp;, +  private static final Hashtable<DecodeHintType, Object> TRY_HARDER_HINT;, +    TRY_HARDER_HINT = new Hashtable<DecodeHintType, Object>();, +  private static class TestResult {, +    private final int mustPassCount;, +    private final float rotation;, +    public int getMustPassCount() {, +      return mustPassCount;, +    }, +    public float getRotation() {, +      return rotation;, +    }, +    assertFalse(testResults.isEmpty());, +        if (doTestOneImage(image, testResults.get(x).getRotation(), expectedText)) {, +      System.out.println("Rotation " + testResults.get(x).getRotation() + " degrees: " + passedCounts[x] +, +          " of " + imageFiles.length + " images passed (" + testResults.get(x).getMustPassCount() +, +      assertTrue("Rotation " + testResults.get(x).getRotation() + " degrees: Too many images failed",, +          passedCounts[x] >= testResults.get(x).getMustPassCount());, +  private boolean doTestOneImage(BufferedImage image, float rotationInDegrees, String expectedText) {, +    if (!expectedFormat.equals(result.getBarcodeFormat())) {, +          result.getBarcodeFormat() + "' (rotation: " + rotationInDegrees + ')');, +          "' (rotation: " + rotationInDegrees + ')');, +    if (!expectedFormat.equals(result.getBarcodeFormat())) {, +          result.getBarcodeFormat() + "' (rotation: " + rotationInDegrees + ')');, +          resultText + "' (rotation: " + rotationInDegrees + ')');, +    StringBuilder result = new StringBuilder((int) file.length());, +    if (degrees == 0.0f) {, +    } else {, +      AffineTransform at = new AffineTransform();, +      at.rotate(Math.toRadians(degrees), original.getWidth() / 2.0f, original.getHeight() / 2.0f);, +      BufferedImageOp op = new AffineTransformOp(at, AffineTransformOp.TYPE_BICUBIC);, +      return op.filter(original, null);]