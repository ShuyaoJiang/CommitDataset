[+++ b/core/src/com/google/zxing/qrcode/detector/FinderPatternFinder.java, +  private static final int INTEGER_MATH_SHIFT = 8;, +    boolean done = false;, +    int[] stateCount = new int[5];, +   * @return true iff the proportions of the counts is close enough to the 1/1/3/1/1 ratios, +      int count = stateCount[i];, +      if (count == 0) {, +      totalModuleSize += count;, +    int moduleSize = (totalModuleSize << INTEGER_MATH_SHIFT) / 7;, +    int maxVariance = moduleSize / 2;, +    return Math.abs(moduleSize - (stateCount[0] << INTEGER_MATH_SHIFT)) < maxVariance &&, +        Math.abs(moduleSize - (stateCount[1] << INTEGER_MATH_SHIFT)) < maxVariance &&, +        Math.abs(3 * moduleSize - (stateCount[2] << INTEGER_MATH_SHIFT)) < 3 * maxVariance &&, +        Math.abs(moduleSize - (stateCount[3] << INTEGER_MATH_SHIFT)) < maxVariance &&, +        Math.abs(moduleSize - (stateCount[4] << INTEGER_MATH_SHIFT)) < maxVariance;]