[+++ b/android/src/com/google/zxing/client/android/encode/EncodeActivity.java, +    if (intent == null) {, +    } else {, +      String action = intent.getAction();, +      if (Intents.Encode.ACTION.equals(action) || Intent.ACTION_SEND.equals(action)) {, +        setContentView(R.layout.encode);, +      } else {, +        finish();, +      }, +    }]