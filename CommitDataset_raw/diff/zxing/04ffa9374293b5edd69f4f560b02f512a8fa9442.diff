[+++ b/android/res/values/strings.xml, +  <string name="msg_camera_framework_bug">Sorry, the Android camera encountered a problem. You may need to restart the device.</string>, +++ b/android/res/values/strings.xml, +  <string name="msg_camera_framework_bug">Sorry, the Android camera encountered a problem. You may need to restart the device.</string>, +++ b/android/src/com/google/zxing/client/android/CaptureActivity.java, +        if (handler != null) {, +        }, +      displayFrameworkBugMessageAndExit();, +      return;, +    } catch (RuntimeException e) {, +      // Barcode Scanner has seen crashes in the wild of this variety:, +      // java.?lang.?RuntimeException: Fail to connect to camera service, +      Log.e(TAG, e.toString());, +      displayFrameworkBugMessageAndExit();, +  private void displayFrameworkBugMessageAndExit() {, +    AlertDialog.Builder builder = new AlertDialog.Builder(this);, +    builder.setTitle(getString(R.string.app_name));, +    builder.setMessage(getString(R.string.msg_camera_framework_bug));, +    builder.setPositiveButton(R.string.button_ok, new DialogInterface.OnClickListener() {, +      public void onClick(DialogInterface dialogInterface, int i) {, +        finish();, +      }, +    });, +    builder.show();, +  }, +, +++ b/android/res/values/strings.xml, +  <string name="msg_camera_framework_bug">Sorry, the Android camera encountered a problem. You may need to restart the device.</string>, +++ b/android/src/com/google/zxing/client/android/CaptureActivity.java, +        if (handler != null) {, +        }, +      displayFrameworkBugMessageAndExit();, +      return;, +    } catch (RuntimeException e) {, +      // Barcode Scanner has seen crashes in the wild of this variety:, +      // java.?lang.?RuntimeException: Fail to connect to camera service, +      Log.e(TAG, e.toString());, +      displayFrameworkBugMessageAndExit();, +  private void displayFrameworkBugMessageAndExit() {, +    AlertDialog.Builder builder = new AlertDialog.Builder(this);, +    builder.setTitle(getString(R.string.app_name));, +    builder.setMessage(getString(R.string.msg_camera_framework_bug));, +    builder.setPositiveButton(R.string.button_ok, new DialogInterface.OnClickListener() {, +      public void onClick(DialogInterface dialogInterface, int i) {, +        finish();, +      }, +    });, +    builder.show();, +  }, +, +++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +    } catch (NullPointerException e) {, +      // In case the uri was not found in the Intent., +      return false;]