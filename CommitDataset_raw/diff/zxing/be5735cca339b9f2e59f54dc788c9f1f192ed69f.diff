[+++ b/javase/src/main/java/com/google/zxing/client/j2se/CommandLineEncoder.java, +import com.google.zxing.EncodeHintType;, +import com.beust.jcommander.JCommander;, +, +import java.util.HashMap;, +import java.util.Map;, +    Map<EncodeHintType, Object> hints = new HashMap<>();, +    if (config.errorCorrectionLevel != null) {, +      hints.put(EncodeHintType.ERROR_CORRECTION, config.errorCorrectionLevel);, +    }, +        config.contents.get(0), config.barcodeFormat, config.width,, +        config.height, hints);, +    MatrixToImageWriter.writeToPath(matrix, config.imageFormat,, +        Paths.get(outFileString));, +++ b/javase/src/main/java/com/google/zxing/client/j2se/CommandLineEncoder.java, +import com.google.zxing.EncodeHintType;, +import com.beust.jcommander.JCommander;, +, +import java.util.HashMap;, +import java.util.Map;, +    Map<EncodeHintType, Object> hints = new HashMap<>();, +    if (config.errorCorrectionLevel != null) {, +      hints.put(EncodeHintType.ERROR_CORRECTION, config.errorCorrectionLevel);, +    }, +        config.contents.get(0), config.barcodeFormat, config.width,, +        config.height, hints);, +    MatrixToImageWriter.writeToPath(matrix, config.imageFormat,, +        Paths.get(outFileString));, +++ b/javase/src/main/java/com/google/zxing/client/j2se/EncoderConfig.java, +      description = "Image output format, such as PNG, JPG, GIF"), +  @Parameter(names = "--error_correction_level",, +      description = "Error correction level for the encoding"), +  String errorCorrectionLevel = null;, +]