[+++ b/android/AndroidManifest.xml, +    <activity android:name=".CaptureActivity", +    <activity android:name="PreferencesActivity", +    <activity android:name="EncodeActivity">, +++ b/android/AndroidManifest.xml, +    <activity android:name=".CaptureActivity", +    <activity android:name="PreferencesActivity", +    <activity android:name="EncodeActivity">, +++ b/android/src/com/google/zxing/client/android/CaptureActivity.java, +/*, + * Copyright (C) 2008 ZXing authors, + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +, +package com.google.zxing.client.android;, +, +import android.app.Activity;, +import android.app.AlertDialog;, +import android.content.DialogInterface;, +import android.content.Intent;, +import android.content.SharedPreferences;, +import android.content.res.AssetFileDescriptor;, +import android.content.res.Configuration;, +import android.graphics.Bitmap;, +import android.graphics.Canvas;, +import android.graphics.Paint;, +import android.graphics.Rect;, +import android.media.AudioManager;, +import android.media.MediaPlayer;, +import android.media.MediaPlayer.OnCompletionListener;, +import android.net.Uri;, +import android.os.Bundle;, +import android.os.Message;, +import android.preference.PreferenceManager;, +import android.text.SpannableStringBuilder;, +import android.text.style.UnderlineSpan;, +import android.view.Gravity;, +import android.view.KeyEvent;, +import android.view.Menu;, +import android.view.MenuItem;, +import android.view.SurfaceHolder;, +import android.view.SurfaceView;, +import android.view.View;, +import android.view.ViewGroup;, +import android.view.Window;, +import android.view.WindowManager;, +import android.widget.Button;, +import android.widget.ImageView;, +import android.widget.TextView;, +import com.google.zxing.Result;, +import com.google.zxing.ResultPoint;, +import com.google.zxing.client.android.result.ResultButtonListener;, +import com.google.zxing.client.android.result.ResultHandler;, +import com.google.zxing.client.android.result.ResultHandlerFactory;, +, +import java.io.IOException;, +, +/**, + * The barcode reader activity itself. This is loosely based on the CameraPreview, + * example included in the Android SDK., + */, +public final class CaptureActivity extends Activity implements SurfaceHolder.Callback {, +, +  private static final int SHARE_ID = Menu.FIRST;, +  private static final int SETTINGS_ID = Menu.FIRST + 1;, +  private static final int HELP_ID = Menu.FIRST + 2;, +  private static final int ABOUT_ID = Menu.FIRST + 3;, +, +  private static final int MAX_RESULT_IMAGE_SIZE = 150;, +  private static final int INTENT_RESULT_DURATION = 1500;, +  private static final float BEEP_VOLUME = 0.15f;, +, +  public CaptureActivityHandler mHandler;, +, +  private ViewfinderView mViewfinderView;, +  private View mStatusView;, +  private View mResultView;, +  private MediaPlayer mMediaPlayer;, +  private Result mLastResult;, +  private boolean mHasSurface;, +  private boolean mPlayBeep;, +  private boolean mScanIntent;, +  private String mDecodeMode;, +, +  @Override, +  public void onCreate(Bundle icicle) {, +    super.onCreate(icicle);, +, +    Window window = getWindow();]