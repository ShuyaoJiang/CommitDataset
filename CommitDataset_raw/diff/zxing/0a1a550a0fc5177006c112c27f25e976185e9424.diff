[+++ b/core/src/com/google/zxing/WriterException.java, +public final class WriterException extends Exception {, +++ b/core/src/com/google/zxing/WriterException.java, +public final class WriterException extends Exception {, +++ b/core/src/com/google/zxing/common/reedsolomon/ReedSolomonEncoder.java, +    if (ecBytes == 0) {, +      throw new IllegalArgumentException("No error correction bytes");, +    }, +    if (dataBytes <= 0) {, +      throw new IllegalArgumentException("No data bytes provided");, +    int numZeroCoefficients = ecBytes - coefficients.length;, +    for (int i = 0; i < numZeroCoefficients; i++) {, +      toEncode[dataBytes + i] = 0;, +    System.arraycopy(coefficients, 0, toEncode, dataBytes + numZeroCoefficients, coefficients.length);, +++ b/core/src/com/google/zxing/WriterException.java, +public final class WriterException extends Exception {, +++ b/core/src/com/google/zxing/common/reedsolomon/ReedSolomonEncoder.java, +    if (ecBytes == 0) {, +      throw new IllegalArgumentException("No error correction bytes");, +    }, +    if (dataBytes <= 0) {, +      throw new IllegalArgumentException("No data bytes provided");, +    int numZeroCoefficients = ecBytes - coefficients.length;, +    for (int i = 0; i < numZeroCoefficients; i++) {, +      toEncode[dataBytes + i] = 0;, +    System.arraycopy(coefficients, 0, toEncode, dataBytes + numZeroCoefficients, coefficients.length);, +++ b/core/test/src/com/google/zxing/common/reedsolomon/ReedSolomonEncoderQRCodeTestCase.java, +      int ecBytes = 1 + random.nextInt(2 * (1 + size / 8));]