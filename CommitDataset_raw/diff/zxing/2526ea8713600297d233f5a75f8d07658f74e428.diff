[+++ b/core/src/com/google/zxing/common/detector/WhiteRectangleDetector.java, +        z = getBlackPointOnSegment(left, down - i, left + i, down);, +        t = getBlackPointOnSegment(left, up + i, left + i, up);, +        x = getBlackPointOnSegment(right, up + i, right - i, up);, +        y = getBlackPointOnSegment(right, down - i, right - i, down);, +  private ResultPoint getBlackPointOnSegment(float aX, float aY, float bX, float bY) {, +    int dist = distanceL2(aX, aY, bX, bY);, +    float xStep = (bX - aX) / dist;, +    float yStep = (bY - aY) / dist;, +      int x = Math.round(aX + i * xStep);, +      int y = Math.round(aY + i * yStep);, +      if (image.get(x, y)) {, +        return new ResultPoint(x, y);, +  private static int distanceL2(float aX, float aY, float bX, float bY) {, +    float xDiff = aX - bX;, +    float yDiff = aY - bY;, +    return (int) Math.round(Math.sqrt(xDiff * xDiff + yDiff * yDiff));, +    float yi = y.getX();, +    float yj = y.getY();, +    float zi = z.getX();, +    float zj = z.getY();, +    float xi = x.getX();, +    float xj = x.getY();, +    float ti = t.getX();, +    float tj = t.getY();, +      return new ResultPoint[]{, +          new ResultPoint(ti - corr, tj + corr),, +      return new ResultPoint[]{, +          new ResultPoint(ti + corr, tj + corr),]