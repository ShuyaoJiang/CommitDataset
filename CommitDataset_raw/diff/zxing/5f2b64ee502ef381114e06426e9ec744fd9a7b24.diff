[+++ b/core/src/com/google/zxing/common/ByteMatrix.java, + * JAVAPORT: The original code was a 2D array of ints, but since it only ever gets assigned, + * -1, 0, and 1, I'm going to use less memory and go with bytes., +  private final int height;, +  public ByteMatrix(int width, int height) {, +    this.height = height;, +  public byte get(int x, int y) {, +  public void set(int x, int y, byte value) {, +  public void set(int x, int y, int value) {, +++ b/core/src/com/google/zxing/common/ByteMatrix.java, + * JAVAPORT: The original code was a 2D array of ints, but since it only ever gets assigned, + * -1, 0, and 1, I'm going to use less memory and go with bytes., +  private final int height;, +  public ByteMatrix(int width, int height) {, +    this.height = height;, +  public byte get(int x, int y) {, +  public void set(int x, int y, byte value) {, +  public void set(int x, int y, int value) {, +++ b/core/src/com/google/zxing/oned/AbstractUPCEANWriter.java, +    ByteMatrix output = new ByteMatrix(outputWidth, outputHeight);, +++ b/core/src/com/google/zxing/common/ByteMatrix.java, + * JAVAPORT: The original code was a 2D array of ints, but since it only ever gets assigned, + * -1, 0, and 1, I'm going to use less memory and go with bytes., +  private final int height;, +  public ByteMatrix(int width, int height) {, +    this.height = height;, +  public byte get(int x, int y) {, +  public void set(int x, int y, byte value) {, +  public void set(int x, int y, int value) {, +++ b/core/src/com/google/zxing/oned/AbstractUPCEANWriter.java, +    ByteMatrix output = new ByteMatrix(outputWidth, outputHeight);, +++ b/core/src/com/google/zxing/qrcode/QRCodeWriter.java, +    ByteMatrix output = new ByteMatrix(outputWidth, outputHeight);, +++ b/core/src/com/google/zxing/common/ByteMatrix.java, + * JAVAPORT: The original code was a 2D array of ints, but since it only ever gets assigned, + * -1, 0, and 1, I'm going to use less memory and go with bytes., +  private final int height;, +  public ByteMatrix(int width, int height) {, +    this.height = height;, +  public byte get(int x, int y) {, +  public void set(int x, int y, byte value) {, +  public void set(int x, int y, int value) {, +++ b/core/src/com/google/zxing/oned/AbstractUPCEANWriter.java, +    ByteMatrix output = new ByteMatrix(outputWidth, outputHeight);, +++ b/core/src/com/google/zxing/qrcode/QRCodeWriter.java, +    ByteMatrix output = new ByteMatrix(outputWidth, outputHeight);, +++ b/core/src/com/google/zxing/qrcode/encoder/MatrixUtil.java, +      matrix.set(x1, y1, bit);, +        matrix.set(x2, y2, bit);, +        matrix.set(x2, y2, bit);, +        // Right bottom corner., +        matrix.set(matrix.height() - 11 + j, i, bit);, +          if (!isEmpty(matrix.get(xx, y))) {, +          matrix.set(xx, y, bit);, +      // Vertical line., +      if (!isValidValue(matrix.get(6, i))) {, +        throw new WriterException();, +      }, +      if (isEmpty(matrix.get(6, i))) {, +        matrix.set(6, i, bit);, +      }, +    if (matrix.get(8, matrix.height() - 8) == 0) {, +    matrix.set(8, matrix.height() - 8, 1);, +      if (!isEmpty(matrix.get(xStart + x, yStart))) {, +      matrix.set(xStart + x, yStart, HORIZONTAL_SEPARATION_PATTERN[0][x]);, +      if (!isEmpty(matrix.get(xStart, yStart + y))) {, +      matrix.set(xStart, yStart + y, VERTICAL_SEPARATION_PATTERN[y][0]);, +        if (!isEmpty(matrix.get(xStart + x, yStart + y))) {, +        matrix.set(xStart + x, yStart + y, POSITION_ADJUSTMENT_PATTERN[y][x]);, +        if (!isEmpty(matrix.get(xStart + x, yStart + y))) {, +        matrix.set(xStart + x, yStart + y, POSITION_DETECTION_PATTERN[y][x]);, +        if (isEmpty(matrix.get(x, y))) {, +++ b/core/src/com/google/zxing/common/ByteMatrix.java, + * JAVAPORT: The original code was a 2D array of ints, but since it only ever gets assigned, + * -1, 0, and 1, I'm going to use less memory and go with bytes., +  private final int height;, +  public ByteMatrix(int width, int height) {, +    this.height = height;, +  public byte get(int x, int y) {, +  public void set(int x, int y, byte value) {, +  public void set(int x, int y, int value) {, +++ b/core/src/com/google/zxing/oned/AbstractUPCEANWriter.java, +    ByteMatrix output = new ByteMatrix(outputWidth, outputHeight);, +++ b/core/src/com/google/zxing/qrcode/QRCodeWriter.java, +    ByteMatrix output = new ByteMatrix(outputWidth, outputHeight);, +++ b/core/src/com/google/zxing/qrcode/encoder/MatrixUtil.java, +      matrix.set(x1, y1, bit);, +        matrix.set(x2, y2, bit);, +        matrix.set(x2, y2, bit);, +        // Right bottom corner., +        matrix.set(matrix.height() - 11 + j, i, bit);, +          if (!isEmpty(matrix.get(xx, y))) {, +          matrix.set(xx, y, bit);, +      // Vertical line., +      if (!isValidValue(matrix.get(6, i))) {, +        throw new WriterException();, +      }, +      if (isEmpty(matrix.get(6, i))) {, +        matrix.set(6, i, bit);, +      }]