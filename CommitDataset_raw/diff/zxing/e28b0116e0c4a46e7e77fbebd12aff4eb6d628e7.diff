[+++ b/core/src/main/java/com/google/zxing/pdf417/decoder/DecodedBitStreamParser.java, +import java.io.ByteArrayOutputStream;, +  private static final Charset DEFAULT_ENCODING = Charset.forName("ISO-8859-1");, +, +    Charset encoding = DEFAULT_ENCODING;, +          codeIndex = byteCompaction(code, codewords, encoding, codeIndex, result);, +          encoding = Charset.forName(charsetECI.name());, +              // TODO Does this need to use the current character encoding? See other occurrences below, +   * @param encoding  Currently active character encoding, +  private static int byteCompaction(int mode,, +                                    int[] codewords,, +                                    Charset encoding,, +                                    int codeIndex,, +                                    StringBuilder result) {, +    ByteArrayOutputStream decodedBytes = new ByteArrayOutputStream();, +              decodedBytes.write((byte) (value >> (8 * (5 - j))));, +            value = 0;, +        decodedBytes.write((byte) byteCompactedCodewords[i]);, +            decodedBytes.write((byte) (value >> (8 * (5 - j))));, +          value = 0;, +    result.append(new String(decodedBytes.toByteArray(), encoding));]