[+++ b/javase/src/com/google/zxing/client/j2se/ImageConverter.java, +import com.google.zxing.MonochromeBitmapSource;, +, +  private static final int WHITE = 0xFFFFFFFF;, +  private static final int BLACK = 0x000000FF;, +    for (String arg : args) {, +      File inputFile = new File(arg);, +            convertImage(input.toURI());, +          convertImage(inputFile.toURI());, +        convertImage(new URI(arg));, +  private static void convertImage(URI uri) throws IOException {, +    MonochromeBitmapSource src = new BufferedImageMonochromeBitmapSource(image);, +        result.setRGB(i, j, src.isBlack(i,j) ? BLACK : WHITE);, +    File output = getOutput(uri);, +    int slashPos = name.lastIndexOf((int) '/');, +    if (!parentFile.exists()) {, +    }, +    if (!baseFile.exists()) {, +    }, +  private static File getOutput(URI uri) {, +      int dotpos = name.lastIndexOf((int) '.');, +      if (dotpos != -1) {, +      }]