[+++ b/core/src/com/google/zxing/qrcode/encoder/Encoder.java, +, +    // Step 1.5: Append ECI message if applicable, +    if (mode == Mode.BYTE && !DEFAULT_BYTE_MODE_ENCODING.equals(encoding)) {, +      CharacterSetECI eci = CharacterSetECI.getCharacterSetECIByName(encoding);, +      if (eci != null) {, +        appendECI(eci, dataBits);, +      }, +    }, +, +    // Step 2: Append "bytes" into "dataBits" in appropriate encoding., +]