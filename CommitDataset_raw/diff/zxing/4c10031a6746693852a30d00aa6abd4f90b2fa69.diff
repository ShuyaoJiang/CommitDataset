[+++ b/android-m3/src/com/google/zxing/client/android/BarcodeReaderCaptureActivity.java, +      cameraThread.quitSynchronously();, +++ b/android-m3/src/com/google/zxing/client/android/BarcodeReaderCaptureActivity.java, +      cameraThread.quitSynchronously();, +++ b/android-m3/src/com/google/zxing/client/android/CameraThread.java, +            try {, +              decodeThread.join();, +            } catch (InterruptedException e) {, +            }, +  public void quitSynchronously() {, +    Message quit = Message.obtain(handler, R.id.quit);, +    quit.sendToTarget();, +    try {, +      join();, +    } catch (InterruptedException e) {, +    }, +  }, +]