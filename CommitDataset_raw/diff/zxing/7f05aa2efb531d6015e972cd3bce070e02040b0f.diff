[+++ b/android/src/com/google/zxing/client/android/camera/CameraConfigurationManager.java, +  void setDesiredCameraParameters(Camera camera, boolean safeMode) {, +    Log.i(TAG, "Initial camera parameters: " + parameters.flatten());, +, +    if (safeMode) {, +      Log.w(TAG, "In camera config safe mode -- most settings will not be honored");, +    }, +, +    initializeTorch(parameters, prefs, safeMode);, +, +      if (safeMode || prefs.getBoolean(PreferencesActivity.KEY_DISABLE_CONTINUOUS_FOCUS, false)) {, +    if (!safeMode && focusMode == null) {, +    doSetTorch(parameters, newSetting, false);, +  private void initializeTorch(Camera.Parameters parameters, SharedPreferences prefs, boolean safeMode) {, +    doSetTorch(parameters, currentSetting, safeMode);, +  private void doSetTorch(Camera.Parameters parameters, boolean newSetting, boolean safeMode) {, +    if (!safeMode) {, +      ExposureInterface exposure = new ExposureManager().build();, +  }, +++ b/android/src/com/google/zxing/client/android/camera/CameraConfigurationManager.java, +  void setDesiredCameraParameters(Camera camera, boolean safeMode) {, +    Log.i(TAG, "Initial camera parameters: " + parameters.flatten());, +, +    if (safeMode) {, +      Log.w(TAG, "In camera config safe mode -- most settings will not be honored");, +    }, +, +    initializeTorch(parameters, prefs, safeMode);, +, +      if (safeMode || prefs.getBoolean(PreferencesActivity.KEY_DISABLE_CONTINUOUS_FOCUS, false)) {, +    if (!safeMode && focusMode == null) {, +    doSetTorch(parameters, newSetting, false);, +  private void initializeTorch(Camera.Parameters parameters, SharedPreferences prefs, boolean safeMode) {, +    doSetTorch(parameters, currentSetting, safeMode);, +  private void doSetTorch(Camera.Parameters parameters, boolean newSetting, boolean safeMode) {, +    if (!safeMode) {, +      ExposureInterface exposure = new ExposureManager().build();, +  }, +++ b/android/src/com/google/zxing/client/android/camera/CameraManager.java, +, +    Camera.Parameters parameters = theCamera.getParameters();, +    String parametersFlattened = parameters == null ? null : parameters.flatten(); // Save these, temporarily, +    try {, +      configManager.setDesiredCameraParameters(theCamera, false);, +    } catch (RuntimeException re) {, +      // Driver failed, +      Log.w(TAG, "Camera rejected parameters. Setting only minimal safe-mode parameters");, +      Log.i(TAG, "Resetting to saved camera params: " + parametersFlattened);, +      // Reset:, +      if (parametersFlattened != null) {, +        parameters.unflatten(parametersFlattened);, +      }, +      theCamera.setParameters(parameters);, +      configManager.setDesiredCameraParameters(theCamera, true);, +    }, +]