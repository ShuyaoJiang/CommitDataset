[+++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +    if (intent.hasExtra(Intent.EXTRA_STREAM)) {, +      encodeFromStreamExtra(intent);, +      encodeFromTextExtras(intent);, +  private void encodeFromTextExtras(Intent intent) throws WriterException {, +    if (theContents == null) {, +      theContents = ContactEncoder.trim(intent.getStringExtra("android.intent.extra.HTML_TEXT"));, +      // Intent.EXTRA_HTML_TEXT, +      if (theContents == null) {, +        theContents = ContactEncoder.trim(intent.getStringExtra(Intent.EXTRA_SUBJECT));, +        if (theContents == null) {, +          String[] emails = intent.getStringArrayExtra(Intent.EXTRA_EMAIL);, +          if (emails != null) {, +            theContents = ContactEncoder.trim(emails[0]);, +          } else {, +            theContents = "?";, +          }, +        }, +      }, +    }, +, +  private void encodeFromStreamExtra(Intent intent) throws WriterException {]