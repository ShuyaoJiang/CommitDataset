[+++ b/android/src/com/google/zxing/client/android/CaptureActivity.java, +    resultView = findViewById(R.id.result_view);, +    statusView = (TextView) findViewById(R.id.status_view);, +, +    handler = null;, +    lastResult = null;, +, +    beepManager.updatePrefs();, +, +    inactivityTimer.onResume();, +, +, +    SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);, +    copyToClipboard = prefs.getBoolean(PreferencesActivity.KEY_COPY_TO_CLIPBOARD, true), +        && (intent == null || intent.getBooleanExtra(Intents.Scan.SAVE_HISTORY, true));, +, +    source = IntentSource.NONE;, +    decodeFormats = null;, +    characterSet = null;, +, +    if (intent != null) {, +, +      String action = intent.getAction();, +      String dataString = intent.getDataString();, +, +      if (Intents.Scan.ACTION.equals(action)) {, +, +, +        , +        String customPromptMessage = intent.getStringExtra(Intents.Scan.PROMPT_MESSAGE);, +        if (customPromptMessage != null) {, +          statusView.setText(customPromptMessage);, +        }, +, +      } else if (dataString != null &&, +                 dataString.contains(PRODUCT_SEARCH_URL_PREFIX) &&, +, +, +, +, +, +, +++ b/android/src/com/google/zxing/client/android/CaptureActivity.java, +    resultView = findViewById(R.id.result_view);, +    statusView = (TextView) findViewById(R.id.status_view);, +, +    handler = null;, +    lastResult = null;, +, +    beepManager.updatePrefs();, +, +    inactivityTimer.onResume();, +, +, +    SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);, +    copyToClipboard = prefs.getBoolean(PreferencesActivity.KEY_COPY_TO_CLIPBOARD, true), +        && (intent == null || intent.getBooleanExtra(Intents.Scan.SAVE_HISTORY, true));, +, +    source = IntentSource.NONE;, +    decodeFormats = null;, +    characterSet = null;, +, +    if (intent != null) {, +, +      String action = intent.getAction();, +      String dataString = intent.getDataString();, +, +      if (Intents.Scan.ACTION.equals(action)) {, +, +, +        , +        String customPromptMessage = intent.getStringExtra(Intents.Scan.PROMPT_MESSAGE);, +        if (customPromptMessage != null) {, +          statusView.setText(customPromptMessage);, +        }, +, +      } else if (dataString != null &&, +                 dataString.contains(PRODUCT_SEARCH_URL_PREFIX) &&, +, +, +, +, +, +, +++ b/android/src/com/google/zxing/client/android/Intents.java, +     * returning to the calling intent. Specified as a long, not an integer!, +     * For example: 1000L, not 1000., +     * Prompt to show on-screen when scanning by intent. Specified as a {@link String}., +     */, +    public static final String PROMPT_MESSAGE = "PROMPT_MESSAGE";, +, +    /**, +++ b/android/src/com/google/zxing/client/android/CaptureActivity.java, +    resultView = findViewById(R.id.result_view);, +    statusView = (TextView) findViewById(R.id.status_view);, +, +    handler = null;, +    lastResult = null;, +, +    beepManager.updatePrefs();]