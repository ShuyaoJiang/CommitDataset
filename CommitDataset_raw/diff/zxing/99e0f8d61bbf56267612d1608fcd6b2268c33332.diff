[+++ b/zxingorg/src/com/google/zxing/web/DecodeServlet.java, +import java.nio.charset.Charset;, +    String fullParameter = request.getParameter("full");, +    boolean minimalOutput = fullParameter != null && !Boolean.parseBoolean(fullParameter);, +    if (minimalOutput) {, +      Writer out = new OutputStreamWriter(response.getOutputStream(), Charset.forName("UTF-8"));, +++ b/zxingorg/src/com/google/zxing/web/DecodeServlet.java, +import java.nio.charset.Charset;, +    String fullParameter = request.getParameter("full");, +    boolean minimalOutput = fullParameter != null && !Boolean.parseBoolean(fullParameter);, +    if (minimalOutput) {, +      Writer out = new OutputStreamWriter(response.getOutputStream(), Charset.forName("UTF-8"));, +++ b/zxingorg/web/WEB-INF/web.xml, +<web-app version="3.0", +    xmlns="http://java.sun.com/xml/ns/javaee", +    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">, +++ b/zxingorg/src/com/google/zxing/web/DecodeServlet.java, +import java.nio.charset.Charset;, +    String fullParameter = request.getParameter("full");, +    boolean minimalOutput = fullParameter != null && !Boolean.parseBoolean(fullParameter);, +    if (minimalOutput) {, +      Writer out = new OutputStreamWriter(response.getOutputStream(), Charset.forName("UTF-8"));, +++ b/zxingorg/web/WEB-INF/web.xml, +<web-app version="3.0", +    xmlns="http://java.sun.com/xml/ns/javaee", +    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">, +++ b/zxingorg/web/w/analytics.jspx, +<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.2">, +<jsp:directive.page session="false"/>, +++ b/zxingorg/src/com/google/zxing/web/DecodeServlet.java, +import java.nio.charset.Charset;, +    String fullParameter = request.getParameter("full");, +    boolean minimalOutput = fullParameter != null && !Boolean.parseBoolean(fullParameter);, +    if (minimalOutput) {, +      Writer out = new OutputStreamWriter(response.getOutputStream(), Charset.forName("UTF-8"));, +++ b/zxingorg/web/WEB-INF/web.xml, +<web-app version="3.0", +    xmlns="http://java.sun.com/xml/ns/javaee", +    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">, +++ b/zxingorg/web/w/analytics.jspx, +<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.2">, +<jsp:directive.page session="false"/>, +++ b/zxingorg/web/w/badimage.jspx, +<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.2">, +<jsp:text><![CDATA[<!DOCTYPE html>]]></jsp:text>, +<html>, +    <meta charset="UTF-8"/>, +    <div id="main">, +    <p>The image you uploaded could not be decoded, or was too large. Go "Back" in your browser and try another image.</p>, +    </div>, +++ b/zxingorg/src/com/google/zxing/web/DecodeServlet.java, +import java.nio.charset.Charset;, +    String fullParameter = request.getParameter("full");, +    boolean minimalOutput = fullParameter != null && !Boolean.parseBoolean(fullParameter);, +    if (minimalOutput) {, +      Writer out = new OutputStreamWriter(response.getOutputStream(), Charset.forName("UTF-8"));, +++ b/zxingorg/web/WEB-INF/web.xml, +<web-app version="3.0", +    xmlns="http://java.sun.com/xml/ns/javaee", +    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">, +++ b/zxingorg/web/w/analytics.jspx, +<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.2">, +<jsp:directive.page session="false"/>, +++ b/zxingorg/web/w/badimage.jspx, +<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.2">, +<jsp:text><![CDATA[<!DOCTYPE html>]]></jsp:text>, +<html>, +    <meta charset="UTF-8"/>, +    <div id="main">, +    <p>The image you uploaded could not be decoded, or was too large. Go "Back" in your browser and try another image.</p>, +    </div>, +++ b/zxingorg/web/w/badurl.jspx, +<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.2">, +<jsp:text><![CDATA[<!DOCTYPE html>]]></jsp:text>, +<html>, +    <meta charset="UTF-8"/>, +    <div id="main">, +    <p>You didn't specify a URL, or the URL was not valid, or did not return an image. Go "Back" in your browser and try again.</p>, +    </div>, +++ b/zxingorg/src/com/google/zxing/web/DecodeServlet.java, +import java.nio.charset.Charset;, +    String fullParameter = request.getParameter("full");, +    boolean minimalOutput = fullParameter != null && !Boolean.parseBoolean(fullParameter);, +    if (minimalOutput) {, +      Writer out = new OutputStreamWriter(response.getOutputStream(), Charset.forName("UTF-8"));, +++ b/zxingorg/web/WEB-INF/web.xml, +<web-app version="3.0", +    xmlns="http://java.sun.com/xml/ns/javaee", +    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">, +++ b/zxingorg/web/w/analytics.jspx, +<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.2">, +<jsp:directive.page session="false"/>, +++ b/zxingorg/web/w/badimage.jspx, +<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.2">, +<jsp:text><![CDATA[<!DOCTYPE html>]]></jsp:text>]