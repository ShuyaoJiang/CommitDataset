[+++ b/core/src/main/java/com/google/zxing/datamatrix/encoder/EdifactEncoder.java, +        // The following two lines are a hack inspired by the 'fix' from https://sourceforge.net/p/barcode4j/svn/221/, +        if (remaining > available) {, +          context.updateSymbolInfo(context.getCodewordCount() + 1);, +          available = context.getSymbolInfo().getDataCapacity() - context.getCodewordCount();, +        }]