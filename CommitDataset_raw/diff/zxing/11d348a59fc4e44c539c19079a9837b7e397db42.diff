[+++ b/android/src/com/google/zxing/client/android/camera/CameraConfigurationManager.java, +    // This is a hack to turn the flash off on the Samsung Galaxy and the Behold II, +++ b/android/src/com/google/zxing/client/android/camera/CameraConfigurationManager.java, +    // This is a hack to turn the flash off on the Samsung Galaxy and the Behold II, +++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +    if (intent.hasExtra(Intent.EXTRA_SUBJECT)) {, +      displayContents = intent.getStringExtra(Intent.EXTRA_SUBJECT);, +    } else if (intent.hasExtra(Intent.EXTRA_TITLE)) {, +      displayContents = intent.getStringExtra(Intent.EXTRA_TITLE);, +    } else {, +    }, +++ b/android/src/com/google/zxing/client/android/camera/CameraConfigurationManager.java, +    // This is a hack to turn the flash off on the Samsung Galaxy and the Behold II, +++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +    if (intent.hasExtra(Intent.EXTRA_SUBJECT)) {, +      displayContents = intent.getStringExtra(Intent.EXTRA_SUBJECT);, +    } else if (intent.hasExtra(Intent.EXTRA_TITLE)) {, +      displayContents = intent.getStringExtra(Intent.EXTRA_TITLE);, +    } else {, +    }, +++ b/android/src/com/google/zxing/client/android/history/HistoryManager.java, +      // It would be nice to use ParsedResult.getDisplayResult() instead, but we don't want to, +      // parse it twice, and it can be multiline which won't fit in the current UI., +      values.put(DBHelper.DISPLAY_COL, result.getText());, +++ b/android/src/com/google/zxing/client/android/camera/CameraConfigurationManager.java, +    // This is a hack to turn the flash off on the Samsung Galaxy and the Behold II, +++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +    if (intent.hasExtra(Intent.EXTRA_SUBJECT)) {, +      displayContents = intent.getStringExtra(Intent.EXTRA_SUBJECT);, +    } else if (intent.hasExtra(Intent.EXTRA_TITLE)) {, +      displayContents = intent.getStringExtra(Intent.EXTRA_TITLE);, +    } else {, +    }, +++ b/android/src/com/google/zxing/client/android/history/HistoryManager.java, +      // It would be nice to use ParsedResult.getDisplayResult() instead, but we don't want to, +      // parse it twice, and it can be multiline which won't fit in the current UI., +      values.put(DBHelper.DISPLAY_COL, result.getText());, +++ b/androidtest/src/com/google/zxing/client/androidtest/CameraManager.java, +    // IMPORTANT: Do not copy this old code. A much better and more robust solution can be found, +    // in Barcode Scanner under zxing/android., +++ b/android/src/com/google/zxing/client/android/camera/CameraConfigurationManager.java, +    // This is a hack to turn the flash off on the Samsung Galaxy and the Behold II, +++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +    if (intent.hasExtra(Intent.EXTRA_SUBJECT)) {, +      displayContents = intent.getStringExtra(Intent.EXTRA_SUBJECT);, +    } else if (intent.hasExtra(Intent.EXTRA_TITLE)) {, +      displayContents = intent.getStringExtra(Intent.EXTRA_TITLE);, +    } else {, +    }, +++ b/android/src/com/google/zxing/client/android/history/HistoryManager.java, +      // It would be nice to use ParsedResult.getDisplayResult() instead, but we don't want to, +      // parse it twice, and it can be multiline which won't fit in the current UI., +      values.put(DBHelper.DISPLAY_COL, result.getText());, +++ b/androidtest/src/com/google/zxing/client/androidtest/CameraManager.java, +    // IMPORTANT: Do not copy this old code. A much better and more robust solution can be found, +    // in Barcode Scanner under zxing/android., +++ /dev/null]