[+++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +import java.util.Collection;, +import java.util.Collections;, +import java.util.HashSet;, +, +, +, +, +, +, +        Collection<String> uniquePhones = new HashSet<String>(Contents.PHONE_KEYS.length);, +            uniquePhones.add(phone);, +          }, +        }, +        for (String phone : uniquePhones) {, +, +        Collection<String> uniqueEmails = new HashSet<String>(Contents.EMAIL_KEYS.length);, +            uniqueEmails.add(email);, +          }, +        }, +        for (String email : uniqueEmails) {, +, +, +, +, +, +, +, +    for (String address : trimAndDeduplicate(contact.getAddresses())) {, +, +    for (String phone : trimAndDeduplicate(contact.getPhoneNumbers())) {, +, +    for (String email : trimAndDeduplicate(contact.getEmails())) {, +, +    , +  private static Iterable<String> trimAndDeduplicate(String[] values) {, +    if (values == null || values.length == 0) {, +      return Collections.emptySet();, +    }, +    Collection<String> uniqueValues = new HashSet<String>(values.length);, +    for (String value : values) {, +      uniqueValues.add(trim(value));, +    }, +    return uniqueValues;, +  }, +]