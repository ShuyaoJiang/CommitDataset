[+++ b/android/res/layout-land/encode.xml, +              android:layout_gravity="center_vertical", +              android:gravity="center", +++ b/android/res/layout-land/encode.xml, +              android:layout_gravity="center_vertical", +              android:gravity="center", +++ b/android/res/values/ids.xml, +++ b/android/res/layout-land/encode.xml, +              android:layout_gravity="center_vertical", +              android:gravity="center", +++ b/android/res/values/ids.xml, +++ b/android/src/com/google/zxing/client/android/encode/EncodeActivity.java, +import android.content.Context;, +import android.view.Display;, +import android.view.WindowManager;, +      bitmap = qrCodeEncoder.encodeAsBitmap();, +    // This assumes the view is full screen, which is a good assumption, +    WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);, +    Display display = manager.getDefaultDisplay();, +    int width = display.getWidth();, +    int height = display.getHeight();, +    int smallerDimension = width < height ? width : height;, +    smallerDimension = smallerDimension * 7 / 8;, +, +    Intent intent = getIntent();, +    try {, +      qrCodeEncoder = new QRCodeEncoder(this, intent, smallerDimension);, +      setTitle(getString(R.string.app_name) + " - " + qrCodeEncoder.getTitle());, +      Bitmap bitmap = qrCodeEncoder.encodeAsBitmap();, +      ImageView view = (ImageView) findViewById(R.id.image_view);, +      view.setImageBitmap(bitmap);, +      TextView contents = (TextView) findViewById(R.id.contents_text_view);, +      contents.setText(qrCodeEncoder.getDisplayContents());, +    } catch (WriterException e) {, +      Log.e(TAG, "Could not encode barcode", e);, +      showErrorMessage(R.string.msg_encode_contents_failed);, +      qrCodeEncoder = null;, +    } catch (IllegalArgumentException e) {, +      Log.e(TAG, "Could not encode barcode", e);, +      showErrorMessage(R.string.msg_encode_contents_failed);, +      qrCodeEncoder = null;, +    }, +++ b/android/res/layout-land/encode.xml, +              android:layout_gravity="center_vertical", +              android:gravity="center", +++ b/android/res/values/ids.xml, +++ b/android/src/com/google/zxing/client/android/encode/EncodeActivity.java, +import android.content.Context;, +import android.view.Display;, +import android.view.WindowManager;, +      bitmap = qrCodeEncoder.encodeAsBitmap();, +    // This assumes the view is full screen, which is a good assumption, +    WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);, +    Display display = manager.getDefaultDisplay();, +    int width = display.getWidth();, +    int height = display.getHeight();, +    int smallerDimension = width < height ? width : height;, +    smallerDimension = smallerDimension * 7 / 8;, +, +    Intent intent = getIntent();, +    try {, +      qrCodeEncoder = new QRCodeEncoder(this, intent, smallerDimension);, +      setTitle(getString(R.string.app_name) + " - " + qrCodeEncoder.getTitle());, +      Bitmap bitmap = qrCodeEncoder.encodeAsBitmap();, +      ImageView view = (ImageView) findViewById(R.id.image_view);, +      view.setImageBitmap(bitmap);, +      TextView contents = (TextView) findViewById(R.id.contents_text_view);, +      contents.setText(qrCodeEncoder.getDisplayContents());, +    } catch (WriterException e) {, +      Log.e(TAG, "Could not encode barcode", e);, +      showErrorMessage(R.string.msg_encode_contents_failed);, +      qrCodeEncoder = null;, +    } catch (IllegalArgumentException e) {, +      Log.e(TAG, "Could not encode barcode", e);, +      showErrorMessage(R.string.msg_encode_contents_failed);, +      qrCodeEncoder = null;, +    }, +++ /dev/null, +++ b/android/res/layout-land/encode.xml, +              android:layout_gravity="center_vertical", +              android:gravity="center", +++ b/android/res/values/ids.xml, +++ b/android/src/com/google/zxing/client/android/encode/EncodeActivity.java, +import android.content.Context;, +import android.view.Display;, +import android.view.WindowManager;, +      bitmap = qrCodeEncoder.encodeAsBitmap();, +    // This assumes the view is full screen, which is a good assumption, +    WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);, +    Display display = manager.getDefaultDisplay();, +    int width = display.getWidth();, +    int height = display.getHeight();, +    int smallerDimension = width < height ? width : height;, +    smallerDimension = smallerDimension * 7 / 8;, +, +    Intent intent = getIntent();, +    try {, +      qrCodeEncoder = new QRCodeEncoder(this, intent, smallerDimension);, +      setTitle(getString(R.string.app_name) + " - " + qrCodeEncoder.getTitle());, +      Bitmap bitmap = qrCodeEncoder.encodeAsBitmap();]