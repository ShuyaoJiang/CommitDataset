[+++ b/core/test/src/com/google/zxing/common/AbstractBlackBoxTestCase.java, +import com.google.zxing.DecodeHintType;, +import java.util.Hashtable;, +  private static final Hashtable TRY_HARDER_HINT;, +  static {, +    TRY_HARDER_HINT = new Hashtable();, +    TRY_HARDER_HINT.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);, +  }, +, +      boolean passed = expectedText.equals(resultText);, +      if (passed) {, +      // Try "try harder" mode, +      try {, +        result = barcodeReader.decode(source, TRY_HARDER_HINT);, +      } catch (ReaderException re) {, +        if (passed) {, +          fail("Normal mode succeed but \"try harder\" failed");, +        }, +        continue;, +      }, +      assertEquals("Normal mode succeed but \"try harder\" failed", expectedFormat, result.getBarcodeFormat());, +      assertEquals("Normal mode succeed but \"try harder\" failed", expectedText, result.getText());]