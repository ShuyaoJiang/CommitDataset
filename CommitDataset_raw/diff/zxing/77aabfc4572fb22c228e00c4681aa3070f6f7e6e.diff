[+++ b/core/src/main/java/com/google/zxing/pdf417/decoder/PDF417ScanningDecoder.java, +  private static BarcodeValue[][] createBarcodeMatrix(DetectionResult detectionResult) throws FormatException {, +    BarcodeValue[][] barcodeMatrix =, +        new BarcodeValue[detectionResult.getBarcodeRowCount()][detectionResult.getBarcodeColumnCount() + 2];, +    int column = 0;, +      if (detectionResultColumn != null) {, +          if (codeword != null) {, +            int rowNumber = codeword.getRowNumber();, +            if (rowNumber >= 0) {, +              if (rowNumber >= barcodeMatrix.length) {, +                throw FormatException.getFormatInstance();, +              barcodeMatrix[rowNumber][column].setValue(codeword.getValue());, +        }, +      }, +      column++;, +    }]