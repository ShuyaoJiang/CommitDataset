[+++ b/android/src/com/google/zxing/client/android/result/TextResultHandler.java, +import com.google.zxing.client.android.PreferencesActivity;, +import android.content.SharedPreferences;, +import android.preference.PreferenceManager;, +, +      R.string.button_share_by_sms,, +      R.string.button_custom_product_search,, +  private final String customProductSearch;, +, +    SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(activity);, +    customProductSearch = prefs.getString(PreferencesActivity.KEY_CUSTOM_PRODUCT_SEARCH, null);, +    return customProductSearch != null && customProductSearch.length() > 0 ?, +            buttons.length : buttons.length - 1;, +    String text = result.getDisplayResult();, +        webSearch(text);, +        shareByEmail(text);, +        shareBySMS(text);, +        break;, +      case 3:, +        String url = customProductSearch.replace("%s", text);, +        openURL(url);]