[+++ b/android/src/com/google/zxing/client/android/wifi/ConnectedReceiver.java, +import com.google.zxing.client.android.R;, +, +import android.app.AlertDialog;, +import android.content.ActivityNotFoundException;, +++ b/android/src/com/google/zxing/client/android/wifi/ConnectedReceiver.java, +import com.google.zxing.client.android.R;, +, +import android.app.AlertDialog;, +import android.content.ActivityNotFoundException;, +++ b/android/src/com/google/zxing/client/android/wifi/Killer.java, +import com.google.zxing.client.android.R;, +, +import android.app.AlertDialog;, +import android.content.ActivityNotFoundException;, +import android.content.Intent;, +import android.net.Uri;, +  void launchIntent(Intent intent) {, +    if (intent != null) {, +      intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);, +      try {, +        parent.startActivity(intent);, +      } catch (ActivityNotFoundException e) {, +        AlertDialog.Builder builder = new AlertDialog.Builder(parent);, +        builder.setTitle(R.string.app_name);, +        builder.setMessage(R.string.msg_intent_failed);, +        builder.setPositiveButton(R.string.button_ok, null);, +        builder.show();, +      }, +    }, +  }, +            // This will kill the parent, a bad idea., +//            parent.finish();, +            // This will start the browser, a better idea, +            launchIntent(new Intent(Intent.ACTION_VIEW, Uri.parse("http://www.google.com/")));, +++ b/android/src/com/google/zxing/client/android/wifi/ConnectedReceiver.java, +import com.google.zxing.client.android.R;, +, +import android.app.AlertDialog;, +import android.content.ActivityNotFoundException;, +++ b/android/src/com/google/zxing/client/android/wifi/Killer.java, +import com.google.zxing.client.android.R;, +, +import android.app.AlertDialog;, +import android.content.ActivityNotFoundException;, +import android.content.Intent;, +import android.net.Uri;, +  void launchIntent(Intent intent) {, +    if (intent != null) {, +      intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);, +      try {, +        parent.startActivity(intent);, +      } catch (ActivityNotFoundException e) {, +        AlertDialog.Builder builder = new AlertDialog.Builder(parent);, +        builder.setTitle(R.string.app_name);, +        builder.setMessage(R.string.msg_intent_failed);, +        builder.setPositiveButton(R.string.button_ok, null);, +        builder.show();, +      }, +    }, +  }, +            // This will kill the parent, a bad idea., +//            parent.finish();, +            // This will start the browser, a better idea, +            launchIntent(new Intent(Intent.ACTION_VIEW, Uri.parse("http://www.google.com/")));, +++ b/android/src/com/google/zxing/client/android/wifi/WifiActivity.java, +import android.app.AlertDialog;, +import android.content.ActivityNotFoundException;, +import android.net.Uri;, + * TODO(viki): Tell the user when the network is not available here, + * TODO(viki): Incorrect password, could not connect, give an error, + * TODO(viki): Should never crash: crashes on S:ssid;P:pass;T:something;else;, + * TODO(viki): , + * TODO(viki): , + * TODO(viki): , + * TODO(viki): , + * , +    NETWORK_WEP, NETWORK_WPA, NETWORK_NOPASS, NETWORK_INVALID,, +    // All the ways this can be wrong:, +, +    // If the SSID is empty, throw an error and return, +    if (setting.getSsid() == null || setting.getSsid().length() == 0) {, +      return doError("SSID name missing");, +    }, +    // If the network type is invalid, +    if (setting.getNetworkType() == NetworkType.NETWORK_INVALID){, +      return doError("Network type incorrect");, +    }, +    , +  private int doError(String string) {, +    statusView.setText(string);, +    return -1;, +  }, +, +    setContentView(R.layout.network);, +    statusView = (TextView) findViewById(R.id.networkStatus);, +      // Got an incorrect network type.  Give an error, +      doError("Incorrect Network type: " + networkType);]