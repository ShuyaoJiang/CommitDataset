[+++ b/android/src/com/google/zxing/client/android/LocaleManager.java, +, +  private static final String DEFAULT_COUNTRY = "US";, +  private static final String COUNTRY;, +    Locale locale = Locale.getDefault();, +    COUNTRY = locale == null ? DEFAULT_COUNTRY : locale.getCountry();, +  /**, +   * Locales (well, countries) where Google web search is available., +   * These should be kept in sync with our translations., +   */, +  private static final Map<String,String> GOOGLE_COUNTRY_TLD;, +    GOOGLE_COUNTRY_TLD = new HashMap<String,String>();, +    GOOGLE_COUNTRY_TLD.put("AR", "com.ar"); // ARGENTINA, +    GOOGLE_COUNTRY_TLD.put("AU", "com.au"); // AUSTRALIA, +    GOOGLE_COUNTRY_TLD.put("BG", "com.br"); // BULGARIA, +    GOOGLE_COUNTRY_TLD.put(Locale.CANADA.getCountry(), "ca");, +    GOOGLE_COUNTRY_TLD.put(Locale.CHINA.getCountry(), "cn");, +    GOOGLE_COUNTRY_TLD.put("CZ", "cz"); // CZECH REPUBLIC, +    GOOGLE_COUNTRY_TLD.put("DK", "dk"); // DENMARK, +    GOOGLE_COUNTRY_TLD.put("FI", "fi"); // FINLAND, +    GOOGLE_COUNTRY_TLD.put(Locale.FRANCE.getCountry(), "fr");, +    GOOGLE_COUNTRY_TLD.put(Locale.GERMANY.getCountry(), "de");, +    GOOGLE_COUNTRY_TLD.put("GR", "gr"); // GREECE, +    GOOGLE_COUNTRY_TLD.put("HU", "hu"); // HUNGARY, +    GOOGLE_COUNTRY_TLD.put("ID", "co.id"); // INDONESIA, +    GOOGLE_COUNTRY_TLD.put("IL", "co.il"); // ISRAEL, +    GOOGLE_COUNTRY_TLD.put(Locale.ITALY.getCountry(), "it");, +    GOOGLE_COUNTRY_TLD.put(Locale.JAPAN.getCountry(), "co.jp");, +    GOOGLE_COUNTRY_TLD.put(Locale.KOREA.getCountry(), "co.kr");, +    GOOGLE_COUNTRY_TLD.put("NL", "nl"); // NETHERLANDS, +    GOOGLE_COUNTRY_TLD.put("PL", "pl"); // POLAND, +    GOOGLE_COUNTRY_TLD.put("PT", "pt"); // PORTUGAL, +    GOOGLE_COUNTRY_TLD.put("RU", "ru"); // RUSSIA, +    GOOGLE_COUNTRY_TLD.put("SK", "sk"); // SLOVAK REPUBLIC, +    GOOGLE_COUNTRY_TLD.put("SI", "si"); // SLOVENIA, +    GOOGLE_COUNTRY_TLD.put("ES", "es"); // SPAIN, +    GOOGLE_COUNTRY_TLD.put("SE", "se"); // SWEDEN, +    GOOGLE_COUNTRY_TLD.put(Locale.TAIWAN.getCountry(), "tw");, +    GOOGLE_COUNTRY_TLD.put("TR", "com.tr"); // TURKEY, +    GOOGLE_COUNTRY_TLD.put(Locale.UK.getCountry(), "co.uk");, +    GOOGLE_COUNTRY_TLD.put(Locale.US.getCountry(), "com");, +  /**, +   * Google Product Search for mobile is available in fewer countries than web search. See here:, +   * http://www.google.com/support/merchants/bin/answer.py?answer=160619, +   */, +  private static final Map<String,String> GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD;, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD = new HashMap<String,String>();, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put("AU", "com.au"); // AUSTRALIA, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put(Locale.CHINA.getCountry(), "cn");, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put(Locale.FRANCE.getCountry(), "fr");, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put(Locale.GERMANY.getCountry(), "de");, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put(Locale.ITALY.getCountry(), "it");, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put(Locale.JAPAN.getCountry(), "co.jp");, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put("NL", "nl"); // NETHERLANDS, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put("ES", "es"); // SPAIN, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put(Locale.UK.getCountry(), "co.uk");, +    GOOGLE_PRODUCT_SEARCH_COUNTRY_TLD.put(Locale.US.getCountry(), "com");, +  /**, +   * Book search is offered everywhere that web search is available., +   */, +  private static final Map<String,String> GOOGLE_BOOK_SEARCH_COUNTRY_TLD = GOOGLE_COUNTRY_TLD;, +, +  private static String doGetTLD(Map<String,String> map) {, +    String tld = map.get(COUNTRY);, +    return tld == null ? DEFAULT_TLD : tld;]