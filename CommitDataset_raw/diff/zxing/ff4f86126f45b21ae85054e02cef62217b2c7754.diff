[+++ b/javame/build.xml, +        <pathelement location="${WTK-home}/lib/jsr234.jar"/>, +      <arg line="-classpath ${WTK-home}/lib/cldcapi11.jar:${WTK-home}/lib/midpapi20.jar:${WTK-home}/lib/mmapi.jar:${WTK-home}/lib/jsr234.jar:${WTK-home}/lib/satsa-apdu.jar -d build-j2me build"/>, +++ b/javame/build.xml, +        <pathelement location="${WTK-home}/lib/jsr234.jar"/>, +      <arg line="-classpath ${WTK-home}/lib/cldcapi11.jar:${WTK-home}/lib/midpapi20.jar:${WTK-home}/lib/mmapi.jar:${WTK-home}/lib/jsr234.jar:${WTK-home}/lib/satsa-apdu.jar -d build-j2me build"/>, +++ b/javame/src/com/google/zxing/client/j2me/SnapshotThread.java, +import com.google.zxing.Reader;, +import javax.microedition.amms.control.camera.FocusControl;, +import javax.microedition.media.Player;, +    Player player = zXingMIDlet.getPlayer();, +      setFocus(player);, +      player.stop();, +        player.start();, +, +  private static void setFocus(Player player) throws MediaException, InterruptedException {, +    FocusControl focusControl = (FocusControl), +      player.getControl("javax.microedition.amms.control.camera.FocusControl");, +    if (focusControl != null) {, +      if (focusControl.isMacroSupported() && !focusControl.getMacro()) {, +        focusControl.setMacro(true);, +      }, +      if (focusControl.isAutoFocusSupported()) {, +        focusControl.setFocus(FocusControl.AUTO);, +        Thread.sleep(1500L); // let it focus..., +        focusControl.setFocus(FocusControl.AUTO_LOCK);, +      }, +    }, +  }, +, +++ b/javame/build.xml, +        <pathelement location="${WTK-home}/lib/jsr234.jar"/>, +      <arg line="-classpath ${WTK-home}/lib/cldcapi11.jar:${WTK-home}/lib/midpapi20.jar:${WTK-home}/lib/mmapi.jar:${WTK-home}/lib/jsr234.jar:${WTK-home}/lib/satsa-apdu.jar -d build-j2me build"/>, +++ b/javame/src/com/google/zxing/client/j2me/SnapshotThread.java, +import com.google.zxing.Reader;, +import javax.microedition.amms.control.camera.FocusControl;, +import javax.microedition.media.Player;, +    Player player = zXingMIDlet.getPlayer();, +      setFocus(player);, +      player.stop();, +        player.start();, +, +  private static void setFocus(Player player) throws MediaException, InterruptedException {, +    FocusControl focusControl = (FocusControl), +      player.getControl("javax.microedition.amms.control.camera.FocusControl");, +    if (focusControl != null) {, +      if (focusControl.isMacroSupported() && !focusControl.getMacro()) {, +        focusControl.setMacro(true);, +      }, +      if (focusControl.isAutoFocusSupported()) {, +        focusControl.setFocus(FocusControl.AUTO);, +        Thread.sleep(1500L); // let it focus..., +        focusControl.setFocus(FocusControl.AUTO_LOCK);, +      }, +    }, +  }, +, +++ b/javame/src/com/google/zxing/client/j2me/VideoCanvas.java, +    if (command.getCommandType() == Command.EXIT || command.getCommandType() == Command.STOP) {, +++ b/javame/build.xml, +        <pathelement location="${WTK-home}/lib/jsr234.jar"/>, +      <arg line="-classpath ${WTK-home}/lib/cldcapi11.jar:${WTK-home}/lib/midpapi20.jar:${WTK-home}/lib/mmapi.jar:${WTK-home}/lib/jsr234.jar:${WTK-home}/lib/satsa-apdu.jar -d build-j2me build"/>, +++ b/javame/src/com/google/zxing/client/j2me/SnapshotThread.java, +import com.google.zxing.Reader;, +import javax.microedition.amms.control.camera.FocusControl;, +import javax.microedition.media.Player;, +    Player player = zXingMIDlet.getPlayer();, +      setFocus(player);, +      player.stop();, +        player.start();, +, +  private static void setFocus(Player player) throws MediaException, InterruptedException {, +    FocusControl focusControl = (FocusControl), +      player.getControl("javax.microedition.amms.control.camera.FocusControl");, +    if (focusControl != null) {, +      if (focusControl.isMacroSupported() && !focusControl.getMacro()) {, +        focusControl.setMacro(true);, +      }, +      if (focusControl.isAutoFocusSupported()) {, +        focusControl.setFocus(FocusControl.AUTO);, +        Thread.sleep(1500L); // let it focus..., +        focusControl.setFocus(FocusControl.AUTO_LOCK);, +      }, +    }, +  }, +, +++ b/javame/src/com/google/zxing/client/j2me/VideoCanvas.java, +    if (command.getCommandType() == Command.EXIT || command.getCommandType() == Command.STOP) {, +++ b/javame/src/com/google/zxing/client/j2me/ZXingMIDlet.java, +import javax.microedition.amms.control.camera.ZoomControl;, +  private static final int MAX_ZOOM = 200;, +, +  private Canvas canvas;, +      setZoom(player);, +      canvas = new VideoCanvas(this);, +      Display.getDisplay(this).setCurrent(canvas);, +  private static void setZoom(Player player) {, +    // zoom up to 2x if possible, +    ZoomControl zoomControl = (ZoomControl) player.getControl("javax.microedition.amms.control.camera.ZoomControl");, +    if (zoomControl != null) {]