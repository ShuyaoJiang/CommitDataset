[+++ b/core/src/com/google/zxing/oned/AbstractOneDReader.java, +  public static final int PATTERN_MATCH_RESULT_SCALE_FACTOR = 256;, +   * @param maxIndividualVariance, +  static int patternMatchVariance(int[] counters, int[] pattern, int maxIndividualVariance) {, +    int unitBarWidth = (total << INTEGER_MATH_SHIFT) / patternLength;, +    maxIndividualVariance *= unitBarWidth;, +      int counter = counters[x] << INTEGER_MATH_SHIFT;, +      int scaledPattern = pattern[x] * unitBarWidth;, +      int variance = counter > scaledPattern ? counter - scaledPattern : scaledPattern - counter;, +      if (variance > maxIndividualVariance) {, +        return Integer.MAX_VALUE;, +      totalVariance += variance; , +    }, +    return totalVariance / total;, +++ b/core/src/com/google/zxing/oned/AbstractOneDReader.java, +  public static final int PATTERN_MATCH_RESULT_SCALE_FACTOR = 256;, +   * @param maxIndividualVariance, +  static int patternMatchVariance(int[] counters, int[] pattern, int maxIndividualVariance) {, +    int unitBarWidth = (total << INTEGER_MATH_SHIFT) / patternLength;, +    maxIndividualVariance *= unitBarWidth;, +      int counter = counters[x] << INTEGER_MATH_SHIFT;, +      int scaledPattern = pattern[x] * unitBarWidth;, +      int variance = counter > scaledPattern ? counter - scaledPattern : scaledPattern - counter;, +      if (variance > maxIndividualVariance) {, +        return Integer.MAX_VALUE;, +      totalVariance += variance; , +    }, +    return totalVariance / total;, +++ b/core/src/com/google/zxing/oned/AbstractUPCEANReader.java, +  private static final int MAX_AVG_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.40625f);, +  private static final int MAX_INDIVIDUAL_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.5f);, +          if (patternMatchVariance(counters, pattern, MAX_INDIVIDUAL_VARIANCE) < MAX_AVG_VARIANCE) {, +    int bestVariance = MAX_AVG_VARIANCE; // worst variance we'll accept, +      int variance = patternMatchVariance(counters, pattern, MAX_INDIVIDUAL_VARIANCE);, +++ b/core/src/com/google/zxing/oned/AbstractOneDReader.java, +  public static final int PATTERN_MATCH_RESULT_SCALE_FACTOR = 256;, +   * @param maxIndividualVariance, +  static int patternMatchVariance(int[] counters, int[] pattern, int maxIndividualVariance) {, +    int unitBarWidth = (total << INTEGER_MATH_SHIFT) / patternLength;, +    maxIndividualVariance *= unitBarWidth;, +      int counter = counters[x] << INTEGER_MATH_SHIFT;, +      int scaledPattern = pattern[x] * unitBarWidth;, +      int variance = counter > scaledPattern ? counter - scaledPattern : scaledPattern - counter;, +      if (variance > maxIndividualVariance) {, +        return Integer.MAX_VALUE;, +      totalVariance += variance; , +    }, +    return totalVariance / total;, +++ b/core/src/com/google/zxing/oned/AbstractUPCEANReader.java, +  private static final int MAX_AVG_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.40625f);, +  private static final int MAX_INDIVIDUAL_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.5f);, +          if (patternMatchVariance(counters, pattern, MAX_INDIVIDUAL_VARIANCE) < MAX_AVG_VARIANCE) {, +    int bestVariance = MAX_AVG_VARIANCE; // worst variance we'll accept, +      int variance = patternMatchVariance(counters, pattern, MAX_INDIVIDUAL_VARIANCE);, +++ b/core/src/com/google/zxing/oned/Code128Reader.java, +  private static final int MAX_AVG_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.1875f);, +  private static final int MAX_INDIVIDUAL_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.25f);, +          int bestVariance = MAX_AVG_VARIANCE;, +            int variance = patternMatchVariance(counters, CODE_PATTERNS[startCode], MAX_INDIVIDUAL_VARIANCE);, +    int bestVariance = MAX_AVG_VARIANCE; // worst variance we'll accept, +      int variance = patternMatchVariance(counters, pattern, MAX_INDIVIDUAL_VARIANCE);, +++ b/core/src/com/google/zxing/oned/AbstractOneDReader.java, +  public static final int PATTERN_MATCH_RESULT_SCALE_FACTOR = 256;, +   * @param maxIndividualVariance, +  static int patternMatchVariance(int[] counters, int[] pattern, int maxIndividualVariance) {, +    int unitBarWidth = (total << INTEGER_MATH_SHIFT) / patternLength;, +    maxIndividualVariance *= unitBarWidth;, +      int counter = counters[x] << INTEGER_MATH_SHIFT;, +      int scaledPattern = pattern[x] * unitBarWidth;, +      int variance = counter > scaledPattern ? counter - scaledPattern : scaledPattern - counter;, +      if (variance > maxIndividualVariance) {, +        return Integer.MAX_VALUE;, +      totalVariance += variance; , +    }, +    return totalVariance / total;, +++ b/core/src/com/google/zxing/oned/AbstractUPCEANReader.java, +  private static final int MAX_AVG_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.40625f);, +  private static final int MAX_INDIVIDUAL_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.5f);, +          if (patternMatchVariance(counters, pattern, MAX_INDIVIDUAL_VARIANCE) < MAX_AVG_VARIANCE) {, +    int bestVariance = MAX_AVG_VARIANCE; // worst variance we'll accept, +      int variance = patternMatchVariance(counters, pattern, MAX_INDIVIDUAL_VARIANCE);, +++ b/core/src/com/google/zxing/oned/Code128Reader.java, +  private static final int MAX_AVG_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.1875f);, +  private static final int MAX_INDIVIDUAL_VARIANCE = (int) (PATTERN_MATCH_RESULT_SCALE_FACTOR * 0.25f);, +          int bestVariance = MAX_AVG_VARIANCE;, +            int variance = patternMatchVariance(counters, CODE_PATTERNS[startCode], MAX_INDIVIDUAL_VARIANCE);, +    int bestVariance = MAX_AVG_VARIANCE; // worst variance we'll accept, +      int variance = patternMatchVariance(counters, pattern, MAX_INDIVIDUAL_VARIANCE);, +++ b/core/test/src/com/google/zxing/common/FalsePositivesBlackBoxTestCase.java, +  private static final int FALSE_POSITIVES_ALLOWED = 23;]