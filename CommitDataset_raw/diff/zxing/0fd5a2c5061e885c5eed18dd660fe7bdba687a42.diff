[+++ b/android/AndroidManifest.xml, +          android:versionName="3.0 beta1", +          android:versionCode="35">, +  <!-- We require Donut (Android 1.6) or later. -->, +  <uses-sdk android:minSdkVersion="4"/>, +      <!-- This allows us to handle the Share button in Contacts. -->, +        <action android:name="android.intent.action.SEND"/>, +        <data android:mimeType="text/x-vcard"/>, +++ b/android/AndroidManifest.xml, +          android:versionName="3.0 beta1", +          android:versionCode="35">, +  <!-- We require Donut (Android 1.6) or later. -->, +  <uses-sdk android:minSdkVersion="4"/>, +      <!-- This allows us to handle the Share button in Contacts. -->, +        <action android:name="android.intent.action.SEND"/>, +        <data android:mimeType="text/x-vcard"/>, +++ b/android/assets/html/whatsnew.html, +  <li>Added support for sharing contacts via ACTION_SEND.</li>, +  <li>Better performance and stability on Donut (Android 1.6) and later.</li>, +++ b/android/AndroidManifest.xml, +          android:versionName="3.0 beta1", +          android:versionCode="35">, +  <!-- We require Donut (Android 1.6) or later. -->, +  <uses-sdk android:minSdkVersion="4"/>, +      <!-- This allows us to handle the Share button in Contacts. -->, +        <action android:name="android.intent.action.SEND"/>, +        <data android:mimeType="text/x-vcard"/>, +++ b/android/assets/html/whatsnew.html, +  <li>Added support for sharing contacts via ACTION_SEND.</li>, +  <li>Better performance and stability on Donut (Android 1.6) and later.</li>, +++ b/android/res/values/strings.xml, +  <string name="preferences_custom_product_search_title">Custom search URL</string>, +++ b/android/AndroidManifest.xml, +          android:versionName="3.0 beta1", +          android:versionCode="35">, +  <!-- We require Donut (Android 1.6) or later. -->, +  <uses-sdk android:minSdkVersion="4"/>, +      <!-- This allows us to handle the Share button in Contacts. -->, +        <action android:name="android.intent.action.SEND"/>, +        <data android:mimeType="text/x-vcard"/>, +++ b/android/assets/html/whatsnew.html, +  <li>Added support for sharing contacts via ACTION_SEND.</li>, +  <li>Better performance and stability on Donut (Android 1.6) and later.</li>, +++ b/android/res/values/strings.xml, +  <string name="preferences_custom_product_search_title">Custom search URL</string>, +++ b/android/src/com/google/zxing/client/android/encode/EncodeActivity.java, +    if (intent != null) {, +      String action = intent.getAction();, +      if (action.equals(Intents.Encode.ACTION) || action.equals(Intent.ACTION_SEND)) {, +        return;, +    finish();, +  }, +++ b/android/AndroidManifest.xml, +          android:versionName="3.0 beta1", +          android:versionCode="35">, +  <!-- We require Donut (Android 1.6) or later. -->, +  <uses-sdk android:minSdkVersion="4"/>, +      <!-- This allows us to handle the Share button in Contacts. -->, +        <action android:name="android.intent.action.SEND"/>, +        <data android:mimeType="text/x-vcard"/>, +++ b/android/assets/html/whatsnew.html, +  <li>Added support for sharing contacts via ACTION_SEND.</li>, +  <li>Better performance and stability on Donut (Android 1.6) and later.</li>, +++ b/android/res/values/strings.xml, +  <string name="preferences_custom_product_search_title">Custom search URL</string>, +++ b/android/src/com/google/zxing/client/android/encode/EncodeActivity.java, +    if (intent != null) {, +      String action = intent.getAction();, +      if (action.equals(Intents.Encode.ACTION) || action.equals(Intent.ACTION_SEND)) {, +        return;, +    finish();, +  }, +++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +import com.google.zxing.Result;, +import com.google.zxing.client.android.Intents;, +import com.google.zxing.client.result.AddressBookParsedResult;, +import com.google.zxing.client.result.ParsedResult;, +import com.google.zxing.client.result.ResultParser;, +import android.net.Uri;, +import java.io.FileNotFoundException;, +import java.io.IOException;, +import java.io.InputStream;, +, + * to be encoded in a barcode., +    if (intent == null) {, +, +    String action = intent.getAction();, +    if (action.equals(Intents.Encode.ACTION)) {, +      if (!encodeContentsFromZXingIntent(intent)) {, +        throw new IllegalArgumentException("No valid data to encode.");, +      }, +    } else if (action.equals(Intent.ACTION_SEND)) {, +      if (!encodeContentsFromShareIntent(intent)) {, +      throw new IllegalArgumentException("No valid data to encode.");, +      }, +    }, +  private boolean encodeContentsFromZXingIntent(Intent intent) {, +     // Default to QR_CODE if no format given., +  // Handles send intents from the Contacts app, retrieving a contact as a VCARD., +  private boolean encodeContentsFromShareIntent(Intent intent) {]