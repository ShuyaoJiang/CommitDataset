[+++ b/iphone/ZXingWidget/Classes/parsedResults/BusinessCardParsedResult.h, +  NSArray *names;, +  NSString *pronunciation;, +  NSArray *emails;, +  NSArray *addresses;, +  NSString *birthday;, +  NSString *url;, +@property (nonatomic, retain) NSArray *names;, +@property (nonatomic, copy) NSString *pronunciation;, +@property (nonatomic, retain) NSArray *emails;, +@property (nonatomic, retain) NSArray *addresses;, +@property (nonatomic, copy) NSString *birthday;, +@property (nonatomic, copy) NSString *url;, +++ b/iphone/ZXingWidget/Classes/parsedResults/BusinessCardParsedResult.h, +  NSArray *names;, +  NSString *pronunciation;, +  NSArray *emails;, +  NSArray *addresses;, +  NSString *birthday;, +  NSString *url;, +@property (nonatomic, retain) NSArray *names;, +@property (nonatomic, copy) NSString *pronunciation;, +@property (nonatomic, retain) NSArray *emails;, +@property (nonatomic, retain) NSArray *addresses;, +@property (nonatomic, copy) NSString *birthday;, +@property (nonatomic, copy) NSString *url;, +++ b/iphone/ZXingWidget/Classes/parsedResults/BusinessCardParsedResult.m, +//  BusinesCardParsedResult.m, +@interface BusinessCardParsedResult (Private), +, +- (void)append:(id)obj to:(NSMutableString *)dest;, ++ (NSString *)normalizeName:(NSString*)name;, +, +@end, +, +@implementation BusinessCardParsedResult (Private), +, +// Append an object's string representation to dest preceeded by a newline. If, +// it is an array, append each item sequentially., +- (void)append:(id)obj to:(NSMutableString *)dest {, +  if (obj == nil) {, +    return;, +  }, +  if ([obj isKindOfClass:[NSArray class]]) {, +    for (id sub in obj) {, +      [self append:sub to:dest];, +    }, +  } else if ([obj isKindOfClass:[NSString class]]) {, +    [dest appendFormat:@"\n%@", obj];, +  }, +}, +, +// Convert lastname,firstname to firstname lastname., ++ (NSString *)normalizeName:(NSString*)name {, +    int comma = [name rangeOfString:@","].location;, +    if (comma != NSNotFound) {, +        // Format may be last,first; switch it around, +        NSString* firstName = [name, +            substringWithRange:NSMakeRange(comma + 1,, +                                           [name length] - comma - 1)];, +        NSString* lastName = [name, +            substringWithRange:NSMakeRange(0, comma)];, +        return [NSString stringWithFormat:@"%@ %@", firstName, lastName];, +    }, +    return name;, +}, +@end, +, +@synthesize names;, +@synthesize pronunciation;, +@synthesize emails;, +@synthesize addresses;, +@synthesize birthday;, +@synthesize url;, +    NSMutableString* result = [NSMutableString stringWithCapacity:1024];, +    for (NSString *name in names) {, +        [self append:[BusinessCardParsedResult normalizeName:name] to:result];, +    [self append:pronunciation to:result];, +    [self append:jobTitle to:result];, +    [self append:organization to:result];, +    [self append:phoneNumbers to:result];, +    [self append:emails to:result];, +    [self append:url to:result];, +    [self append:birthday to:result];, +    [self append:note to:result];, +    [self append:addresses to:result];, +    return result;, +    [actions addObject:[AddContactAction actionWithName:[self.names objectAtIndex:0], +                                                  email:[self.emails objectAtIndex:0], +                                                    url:self.url, +                                                address:[self.addresses objectAtIndex:0], +    [names release];, +    [pronunciation release];, +    [emails release];, +    [addresses release];, +    [birthday release];, +    [url release];, +, +++ b/iphone/ZXingWidget/Classes/parsedResults/BusinessCardParsedResult.h, +  NSArray *names;]