[+++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +      case Contents.Type.TEXT:, +        String textData = intent.getStringExtra(Intents.Encode.DATA);, +        if (textData != null && !textData.isEmpty()) {, +          contents = textData;, +          displayContents = textData;, +, +      case Contents.Type.EMAIL:, +        String emailData = ContactEncoder.trim(intent.getStringExtra(Intents.Encode.DATA));, +        if (emailData != null) {, +          contents = "mailto:" + emailData;, +          displayContents = emailData;, +, +      case Contents.Type.PHONE:, +        String phoneData = ContactEncoder.trim(intent.getStringExtra(Intents.Encode.DATA));, +        if (phoneData != null) {, +          contents = "tel:" + phoneData;, +          displayContents = PhoneNumberUtils.formatNumber(phoneData);, +, +      case Contents.Type.SMS:, +        String smsData = ContactEncoder.trim(intent.getStringExtra(Intents.Encode.DATA));, +        if (smsData != null) {, +          contents = "sms:" + smsData;, +          displayContents = PhoneNumberUtils.formatNumber(smsData);, +      case Contents.Type.CONTACT:, +        Bundle contactBundle = intent.getBundleExtra(Intents.Encode.DATA);, +        if (contactBundle != null) {, +          String name = contactBundle.getString(ContactsContract.Intents.Insert.NAME);, +          String organization = contactBundle.getString(ContactsContract.Intents.Insert.COMPANY);, +          String address = contactBundle.getString(ContactsContract.Intents.Insert.POSTAL);, +          List<String> phones = getAllBundleValues(contactBundle, Contents.PHONE_KEYS);, +          List<String> phoneTypes = getAllBundleValues(contactBundle, Contents.PHONE_TYPE_KEYS);, +          List<String> emails = getAllBundleValues(contactBundle, Contents.EMAIL_KEYS);, +          String url = contactBundle.getString(Contents.URL_KEY);, +          String note = contactBundle.getString(Contents.NOTE_KEY);, +, +      case Contents.Type.LOCATION:, +        Bundle locationBundle = intent.getBundleExtra(Intents.Encode.DATA);, +        if (locationBundle != null) {, +          float latitude = locationBundle.getFloat("LAT", Float.MAX_VALUE);, +          float longitude = locationBundle.getFloat("LONG", Float.MAX_VALUE);, +++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +      case Contents.Type.TEXT:, +        String textData = intent.getStringExtra(Intents.Encode.DATA);, +        if (textData != null && !textData.isEmpty()) {, +          contents = textData;, +          displayContents = textData;, +, +      case Contents.Type.EMAIL:, +        String emailData = ContactEncoder.trim(intent.getStringExtra(Intents.Encode.DATA));, +        if (emailData != null) {, +          contents = "mailto:" + emailData;, +          displayContents = emailData;, +, +      case Contents.Type.PHONE:, +        String phoneData = ContactEncoder.trim(intent.getStringExtra(Intents.Encode.DATA));, +        if (phoneData != null) {, +          contents = "tel:" + phoneData;, +          displayContents = PhoneNumberUtils.formatNumber(phoneData);, +, +      case Contents.Type.SMS:, +        String smsData = ContactEncoder.trim(intent.getStringExtra(Intents.Encode.DATA));, +        if (smsData != null) {, +          contents = "sms:" + smsData;, +          displayContents = PhoneNumberUtils.formatNumber(smsData);, +      case Contents.Type.CONTACT:, +        Bundle contactBundle = intent.getBundleExtra(Intents.Encode.DATA);, +        if (contactBundle != null) {, +          String name = contactBundle.getString(ContactsContract.Intents.Insert.NAME);, +          String organization = contactBundle.getString(ContactsContract.Intents.Insert.COMPANY);, +          String address = contactBundle.getString(ContactsContract.Intents.Insert.POSTAL);, +          List<String> phones = getAllBundleValues(contactBundle, Contents.PHONE_KEYS);, +          List<String> phoneTypes = getAllBundleValues(contactBundle, Contents.PHONE_TYPE_KEYS);, +          List<String> emails = getAllBundleValues(contactBundle, Contents.EMAIL_KEYS);, +          String url = contactBundle.getString(Contents.URL_KEY);, +          String note = contactBundle.getString(Contents.NOTE_KEY);, +, +      case Contents.Type.LOCATION:, +        Bundle locationBundle = intent.getBundleExtra(Intents.Encode.DATA);, +        if (locationBundle != null) {, +          float latitude = locationBundle.getFloat("LAT", Float.MAX_VALUE);, +          float longitude = locationBundle.getFloat("LONG", Float.MAX_VALUE);, +++ b/core/src/main/java/com/google/zxing/ChecksumException.java, +  private static final ChecksumException INSTANCE = new ChecksumException();, +    return IS_STACK_TRACE ? new ChecksumException() : INSTANCE;, +    return IS_STACK_TRACE ? new ChecksumException(cause) : INSTANCE;, +++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +      case Contents.Type.TEXT:, +        String textData = intent.getStringExtra(Intents.Encode.DATA);, +        if (textData != null && !textData.isEmpty()) {, +          contents = textData;, +          displayContents = textData;, +, +      case Contents.Type.EMAIL:, +        String emailData = ContactEncoder.trim(intent.getStringExtra(Intents.Encode.DATA));, +        if (emailData != null) {, +          contents = "mailto:" + emailData;, +          displayContents = emailData;, +, +      case Contents.Type.PHONE:]