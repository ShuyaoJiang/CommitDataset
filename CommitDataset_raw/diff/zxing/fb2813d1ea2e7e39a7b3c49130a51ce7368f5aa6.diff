[+++ b/android/src/com/google/zxing/client/android/QRCodeEncoder.java, +        StringBuilder newContents = new StringBuilder();, +        StringBuilder newDisplayContents = new StringBuilder();, +        newContents.append("MECARD:");, +          newContents.append("N:").append(name).append(';');, +          newDisplayContents.append(name);, +          newContents.append("ADR:").append(address).append(';');, +          newDisplayContents.append('\n').append(address);, +            newContents.append("TEL:").append(phone).append(';');, +            newDisplayContents.append('\n').append(PhoneNumberUtils.formatNumber(phone));, +            newContents.append("EMAIL:").append(email).append(';');, +            newDisplayContents.append('\n').append(email);, +        if (newDisplayContents.length() > 0) {, +          newContents.append(';');, +          mContents = newContents.toString();, +          mDisplayContents = newDisplayContents.toString();, +          mDisplayContents = null;, +    @Override, +++ b/android/src/com/google/zxing/client/android/QRCodeEncoder.java, +        StringBuilder newContents = new StringBuilder();, +        StringBuilder newDisplayContents = new StringBuilder();, +        newContents.append("MECARD:");, +          newContents.append("N:").append(name).append(';');, +          newDisplayContents.append(name);, +          newContents.append("ADR:").append(address).append(';');, +          newDisplayContents.append('\n').append(address);, +            newContents.append("TEL:").append(phone).append(';');, +            newDisplayContents.append('\n').append(PhoneNumberUtils.formatNumber(phone));, +            newContents.append("EMAIL:").append(email).append(';');, +            newDisplayContents.append('\n').append(email);, +        if (newDisplayContents.length() > 0) {, +          newContents.append(';');, +          mContents = newContents.toString();, +          mDisplayContents = newDisplayContents.toString();, +          mDisplayContents = null;, +    @Override, +++ b/android/src/com/google/zxing/client/android/ShareActivity.java, +        bundle.putString(Contacts.Intents.Insert.NAME, massageContactData(name));, +            bundle.putString(Contents.PHONE_KEYS[foundPhone], massageContactData(number));, +                bundle.putString(Contents.EMAIL_KEYS[foundEmail], massageContactData(data));, +                bundle.putString(Contacts.Intents.Insert.POSTAL, massageContactData(data));, +  private static String massageContactData(String data) {, +    // For now -- make sure we don't put newlines in shared contact data. It messes up, +    // any known encoding of contact data. Replace with space., +    if (data.indexOf('\n') >= 0) {, +      data = data.replace("\n", " ");, +    }, +    if (data.indexOf('\r') >= 0) {, +      data = data.replace("\r", " ");, +    }, +    return data;, +  }, +]