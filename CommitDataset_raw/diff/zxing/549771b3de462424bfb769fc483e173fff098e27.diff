[+++ b/core/test/src/com/google/zxing/qrcode/encoder/EncoderTestCase.java, +      assertEquals(expected.length, out.num_bytes());, +      final byte[] out_array = out.getArray();, +      // Can't use Arrays.equals(), because out_array may be longer than out.num_bytes(), +      for (int x = 0; x < expected.length; x++) {, +        assertEquals(expected[x], out_array[x]);, +      }, +      assertEquals(expected.length, out.num_bytes());, +      final byte[] out_array = out.getArray();, +      for (int x = 0; x < expected.length; x++) {, +        assertEquals(expected[x], out_array[x]);, +      }]