[+++ b/core/src/com/google/zxing/qrcode/QRCodeWriter.java, +import com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;, +    ErrorCorrectionLevel errorCorrectionLevel = ErrorCorrectionLevel.L;, +      ErrorCorrectionLevel requestedECLevel = (ErrorCorrectionLevel) hints.get(EncodeHintType.ERROR_CORRECTION);, +        errorCorrectionLevel = requestedECLevel;, +++ b/core/src/com/google/zxing/qrcode/QRCodeWriter.java, +import com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;, +    ErrorCorrectionLevel errorCorrectionLevel = ErrorCorrectionLevel.L;, +      ErrorCorrectionLevel requestedECLevel = (ErrorCorrectionLevel) hints.get(EncodeHintType.ERROR_CORRECTION);, +        errorCorrectionLevel = requestedECLevel;, +++ b/core/src/com/google/zxing/qrcode/decoder/ErrorCorrectionLevel.java, +public final class ErrorCorrectionLevel {, +  public static final ErrorCorrectionLevel L = new ErrorCorrectionLevel(0, 0x01, "L");, +  public static final ErrorCorrectionLevel M = new ErrorCorrectionLevel(1, 0x00, "M");, +  public static final ErrorCorrectionLevel Q = new ErrorCorrectionLevel(2, 0x03, "Q");, +  public static final ErrorCorrectionLevel H = new ErrorCorrectionLevel(3, 0x02, "H");, +  private final int bits;, +  private final String name;, +  private ErrorCorrectionLevel(int ordinal, int bits, String name) {, +    this.bits = bits;, +    this.name = name;, +  public int ordinal() {, +  public int getBits() {, +    return bits;, +  }, +, +  public String getName() {, +    return name;, +  }, +, +  public String toString() {, +    return name;, +  }, +, +  public static ErrorCorrectionLevel forBits(int bits) {, +      throw new IllegalArgumentException();, +++ b/core/src/com/google/zxing/qrcode/QRCodeWriter.java, +import com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;, +    ErrorCorrectionLevel errorCorrectionLevel = ErrorCorrectionLevel.L;, +      ErrorCorrectionLevel requestedECLevel = (ErrorCorrectionLevel) hints.get(EncodeHintType.ERROR_CORRECTION);, +        errorCorrectionLevel = requestedECLevel;, +++ b/core/src/com/google/zxing/qrcode/decoder/ErrorCorrectionLevel.java, +public final class ErrorCorrectionLevel {, +  public static final ErrorCorrectionLevel L = new ErrorCorrectionLevel(0, 0x01, "L");, +  public static final ErrorCorrectionLevel M = new ErrorCorrectionLevel(1, 0x00, "M");, +  public static final ErrorCorrectionLevel Q = new ErrorCorrectionLevel(2, 0x03, "Q");, +  public static final ErrorCorrectionLevel H = new ErrorCorrectionLevel(3, 0x02, "H");, +  private final int bits;, +  private final String name;, +  private ErrorCorrectionLevel(int ordinal, int bits, String name) {, +    this.bits = bits;, +    this.name = name;, +  public int ordinal() {, +  public int getBits() {, +    return bits;, +  }, +, +  public String getName() {, +    return name;, +  }, +, +  public String toString() {, +    return name;, +  }, +, +  public static ErrorCorrectionLevel forBits(int bits) {, +      throw new IllegalArgumentException();, +++ b/core/src/com/google/zxing/qrcode/encoder/Encoder.java, +import com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;, +  // internally by chooseMode(). On success, store the result in "qrCode" and return true., +  // We recommend you to use QRCode.EC_LEVEL_L (the lowest level) for, +  public static void encode(final ByteArray bytes, ErrorCorrectionLevel ecLevel, QRCode qrCode), +      throws WriterException {, +  private static int chooseMaskPattern(final BitVector bits, ErrorCorrectionLevel ecLevel, int version,, +  // Initialize "qrCode" according to "numInputBytes", "ecLevel", and "mode". On success, modify, +  // "qrCode" and return true., +  private static void initQRCode(int numInputBytes, ErrorCorrectionLevel ecLevel, int mode, QRCode qrCode), +      throws WriterException {, +      final int numEcBytes  = row.blockInfo[ecLevel.ordinal()][0];, +      final int numRSBlocks = row.blockInfo[ecLevel.ordinal()][1];, +  // "result" and return true. The interleave rule is complicated. See 8.6, +  // and return true., +  // and return true., +  // "bits" and return true., +  // "bits" and return true., +  // and return true. See 8.4.5 of JISX0510:2004 (p.21) for how to encode, +++ b/core/src/com/google/zxing/qrcode/QRCodeWriter.java, +import com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;, +    ErrorCorrectionLevel errorCorrectionLevel = ErrorCorrectionLevel.L;, +      ErrorCorrectionLevel requestedECLevel = (ErrorCorrectionLevel) hints.get(EncodeHintType.ERROR_CORRECTION);, +        errorCorrectionLevel = requestedECLevel;, +++ b/core/src/com/google/zxing/qrcode/decoder/ErrorCorrectionLevel.java, +public final class ErrorCorrectionLevel {, +  public static final ErrorCorrectionLevel L = new ErrorCorrectionLevel(0, 0x01, "L");, +  public static final ErrorCorrectionLevel M = new ErrorCorrectionLevel(1, 0x00, "M");, +  public static final ErrorCorrectionLevel Q = new ErrorCorrectionLevel(2, 0x03, "Q");, +  public static final ErrorCorrectionLevel H = new ErrorCorrectionLevel(3, 0x02, "H");, +  private final int bits;, +  private final String name;, +  private ErrorCorrectionLevel(int ordinal, int bits, String name) {]