[+++ b/android-m3/src/com/google/zxing/client/android/CameraManager.java, +  private Point previewResolution;, +    calculateStillResolution();, +    calculatePreviewResolution();, +      // If we're reopening the camera, we need to reset the capture params., +      previewMode = false;, +      setPreviewMode(true);, +      int size = stillResolution.x * screenResolution.x / previewResolution.x;, +        params.srcWidth = previewResolution.x;, +        params.srcHeight = previewResolution.y;, +        params.topPixel = (cameraResolution.y - params.srcHeight) / 2;, +  private void calculatePreviewResolution() {, +    int previewHeight = (int) (stillResolution.x * stillMultiplier * 1.4f);, +    int previewWidth = previewHeight * screenResolution.x / screenResolution.y;, +    previewWidth = ((previewWidth + 7) >> 3) << 3;, +    if (previewWidth > cameraResolution.x) previewWidth = cameraResolution.x;, +    previewHeight = previewWidth * screenResolution.y / screenResolution.x;, +    previewResolution = new Point(previewWidth, previewHeight);, +    Log.v(TAG, "previewWidth " + previewWidth + " previewHeight " + previewHeight);, +  }, +, +++ b/android-m3/src/com/google/zxing/client/android/CameraManager.java, +  private Point previewResolution;, +    calculateStillResolution();, +    calculatePreviewResolution();, +      // If we're reopening the camera, we need to reset the capture params., +      previewMode = false;, +      setPreviewMode(true);, +      int size = stillResolution.x * screenResolution.x / previewResolution.x;, +        params.srcWidth = previewResolution.x;, +        params.srcHeight = previewResolution.y;, +        params.topPixel = (cameraResolution.y - params.srcHeight) / 2;, +  private void calculatePreviewResolution() {, +    int previewHeight = (int) (stillResolution.x * stillMultiplier * 1.4f);, +    int previewWidth = previewHeight * screenResolution.x / screenResolution.y;, +    previewWidth = ((previewWidth + 7) >> 3) << 3;, +    if (previewWidth > cameraResolution.x) previewWidth = cameraResolution.x;, +    previewHeight = previewWidth * screenResolution.y / screenResolution.x;, +    previewResolution = new Point(previewWidth, previewHeight);, +    Log.v(TAG, "previewWidth " + previewWidth + " previewHeight " + previewHeight);, +  }, +, +++ b/android-m3/src/com/google/zxing/client/android/ResultHandler.java, +import android.util.Log;, +  private static final String TAG = "ResultHandler";, +, +        intent = new Intent(Intent.SENDTO_ACTION, new ContentURI("mailto:" + emailResult.getEmailAddress()));, +        ContentURI geoURI = new ContentURI("geo:" + geoResult.getGeoURI());, +        Log.v(TAG, "Created geo URI: " + geoURI.toString());, +        intent = new Intent(Intent.VIEW_ACTION, geoURI);]