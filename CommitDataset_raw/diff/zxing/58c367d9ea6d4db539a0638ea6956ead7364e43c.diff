[+++ b/core/src/com/google/zxing/qrcode/decoder/DecodedBitStreamParser.java, +      if (((value >= 0x81 && value <= 0x9F) || (value >= 0xE0 && value <= 0xEF))) {, +          if (i >= bytes.length - 1) {, +            canBeShiftJIS = false;, +          } else {, +            } else {, +              sawDoubleByteStart = true;, +        }, +++ b/core/src/com/google/zxing/qrcode/decoder/DecodedBitStreamParser.java, +      if (((value >= 0x81 && value <= 0x9F) || (value >= 0xE0 && value <= 0xEF))) {, +          if (i >= bytes.length - 1) {, +            canBeShiftJIS = false;, +          } else {, +            } else {, +              sawDoubleByteStart = true;, +        }, +++ b/core/test/src/com/google/zxing/qrcode/QRCodeWriterTestCase.java, +      if (!file.exists()) {, +        // try starting with 'core' since the test base is often given as the project root, +        file = new File("core/" + BASE_IMAGE_PATH + fileName);, +      }]