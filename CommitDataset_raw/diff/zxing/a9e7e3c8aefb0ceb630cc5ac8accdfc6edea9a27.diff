[+++ b/core/src/com/google/zxing/qrcode/detector/GridSampler.java, +   * <p>This method will actually "nudge" the endpoints back onto the image if they are found to be barely, +   * (less than 1 pixel) off the image. This accounts for imperfect detection of finder patterns in an image, +   * where the QR Code runs all the way to the image border.</p>, +   *, +    int width = image.getWidth();, +    int height = image.getHeight();, +    checkOneEndpoint(points, (int) points[0], (int) points[1], width, height);, +    checkOneEndpoint(points, (int) points[points.length - 2], (int) points[points.length - 1], width, height);, +  }, +, +  private static void checkOneEndpoint(float[] points, int x, int y, int width, int height) throws ReaderException {, +    if (x < -1 || x > width || y < -1 || y > height) {, +    if (x == -1) {, +      points[0] = 0.0f;, +    }, +    if (y == -1) {, +      points[1] = 0.0f;, +    }, +    if (x == width) {, +      points[0] = width - 1;, +    }, +    if (y == height) {, +      points[1] = height - 1;]