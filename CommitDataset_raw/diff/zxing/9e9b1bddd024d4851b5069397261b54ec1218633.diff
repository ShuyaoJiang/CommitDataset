[+++ b/zxing.appspot.com/generator/src/com/google/zxing/web/generator/client/ContactInfoGenerator.java, +import java.net.URI;, +, +  TextBox address2 = new TextBox();, +  TextBox[] widgets = {name, company, tel, url, email, address, address2, memo};, +    String address2 = getAddress2Field();, +    return getMeCard(name, company, tel, url, email, address, address2, memo);, +      String email, String address, String address2, String memo) {, +    StringBuilder output = new StringBuilder();, +    output.append("MECARD:");, +    output.append("N:").append(name).append(';');, +    maybeAppend(output, "ORG:", company);, +    maybeAppend(output, "TEL:", tel);, +    maybeAppend(output, "URL:", url);, +    maybeAppend(output, "EMAIL:", email);, +    maybeAppend(output, "ADR:", address);, +    if (address.length() > 0 || address2.length() > 0) {, +      output.append("ADR:");, +      if (address.length() > 0) {, +        output.append(address);, +      }, +      if (address2.length() > 0) {, +        if (address.length() > 0) {, +          output.append(' ');, +        }, +        output.append(address2);, +      }, +      output.append(';');, +    }, +    maybeAppend(output, "NOTE:", memo);, +    output.append(';');, +    return output.toString();, +  }, +, +  private static void maybeAppend(StringBuilder output, String prefix, String value) {, +    if (value.length() > 0) {, +      output.append(prefix).append(value).append(';');, +    }, +  private static String parseTextField(TextBox textBox) throws GeneratorException {, +    String input = textBox.getText();, +      throw new GeneratorException("Field must not contain \\n characters.");, +      throw new GeneratorException("Field must not contains ; characters");, +  private String getNameField() throws GeneratorException {, +    return parseTextField(name);, +  }, +  , +  private String getCompanyField() throws GeneratorException {, +    return parseTextField(company);, +  }, +, +    return parseTextField(address);, +, +  private String getAddress2Field() throws GeneratorException {, +    return parseTextField(address2);, +    return parseTextField(memo);, +    table = new Grid(8, 2);, +    table.setText(5, 0, "Address 2");, +    table.setWidget(5, 1, address2);, +    table.setText(6, 0, "Website");, +    table.setWidget(6, 1, url);, +    table.setText(7, 0, "Memo");, +    table.setWidget(7, 1, memo);, +    if (widget == address2) getAddress2Field();, +++ b/zxing.appspot.com/generator/src/com/google/zxing/web/generator/client/ContactInfoGenerator.java, +import java.net.URI;, +, +  TextBox address2 = new TextBox();, +  TextBox[] widgets = {name, company, tel, url, email, address, address2, memo};, +    String address2 = getAddress2Field();, +    return getMeCard(name, company, tel, url, email, address, address2, memo);, +      String email, String address, String address2, String memo) {, +    StringBuilder output = new StringBuilder();, +    output.append("MECARD:");, +    output.append("N:").append(name).append(';');, +    maybeAppend(output, "ORG:", company);, +    maybeAppend(output, "TEL:", tel);, +    maybeAppend(output, "URL:", url);, +    maybeAppend(output, "EMAIL:", email);, +    maybeAppend(output, "ADR:", address);, +    if (address.length() > 0 || address2.length() > 0) {, +      output.append("ADR:");, +      if (address.length() > 0) {, +        output.append(address);, +      }, +      if (address2.length() > 0) {, +        if (address.length() > 0) {, +          output.append(' ');, +        }, +        output.append(address2);, +      }, +      output.append(';');, +    }, +    maybeAppend(output, "NOTE:", memo);, +    output.append(';');, +    return output.toString();, +  }, +, +  private static void maybeAppend(StringBuilder output, String prefix, String value) {, +    if (value.length() > 0) {, +      output.append(prefix).append(value).append(';');]