[+++ b/core/src/com/google/zxing/datamatrix/DataMatrixReader.java, +  private static BitMatrix extractPureBits(MonochromeBitmapSource image) throws ReaderException {, +    int height = image.getHeight();, +    int width = image.getWidth();, +    int minDimension = Math.min(height, width);, +, +    while (borderWidth < minDimension && !image.isBlack(borderWidth, borderWidth)) {, +    if (borderWidth == minDimension) {, +      throw new ReaderException("No black pixels found along diagonal");, +    }, +, +    while (moduleEnd < width && image.isBlack(moduleEnd, borderWidth)) {, +    if (moduleEnd == width) {, +      throw new ReaderException("No end to black pixels found along row");, +    }, +, +    while (columnEndOfSymbol >= 0 && !image.isBlack(borderWidth, columnEndOfSymbol)) {, +    if (columnEndOfSymbol < 0) {, +      throw new ReaderException("Can't find end of bottommost black module");, +    }, +++ b/core/src/com/google/zxing/datamatrix/DataMatrixReader.java, +  private static BitMatrix extractPureBits(MonochromeBitmapSource image) throws ReaderException {, +    int height = image.getHeight();, +    int width = image.getWidth();, +    int minDimension = Math.min(height, width);, +, +    while (borderWidth < minDimension && !image.isBlack(borderWidth, borderWidth)) {, +    if (borderWidth == minDimension) {, +      throw new ReaderException("No black pixels found along diagonal");, +    }, +, +    while (moduleEnd < width && image.isBlack(moduleEnd, borderWidth)) {, +    if (moduleEnd == width) {, +      throw new ReaderException("No end to black pixels found along row");, +    }, +, +    while (columnEndOfSymbol >= 0 && !image.isBlack(borderWidth, columnEndOfSymbol)) {, +    if (columnEndOfSymbol < 0) {, +      throw new ReaderException("Can't find end of bottommost black module");, +    }, +++ b/core/src/com/google/zxing/qrcode/QRCodeReader.java, +  private static BitMatrix extractPureBits(MonochromeBitmapSource image) throws ReaderException {, +    int minDimension = Math.min(image.getHeight(), image.getWidth());, +, +    while (borderWidth < minDimension && !image.isBlack(borderWidth, borderWidth)) {, +    if (borderWidth == minDimension) {, +      throw new ReaderException("No black pixels found along diagonal");, +    }, +, +    while (moduleEnd < minDimension && image.isBlack(moduleEnd, moduleEnd)) {, +    if (moduleEnd == minDimension) {, +      throw new ReaderException("No end to black pixels found along diagonal");, +    }, +, +    while (rowEndOfSymbol >= 0 && !image.isBlack(rowEndOfSymbol, borderWidth)) {, +    if (rowEndOfSymbol < 0) {, +      throw new ReaderException("Can't find end of rightmost black module");, +    }]