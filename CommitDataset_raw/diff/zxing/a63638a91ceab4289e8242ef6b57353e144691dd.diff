[+++ b/javase/src/main/java/com/google/zxing/HtmlAssetTranslator.java, +import java.nio.charset.StandardCharsets;, +import java.util.Collections;, +    String fileAsString = writer.writeToString(document);, +    // Replace default XML header with HTML DOCTYPE, +    fileAsString = fileAsString.replaceAll("<\\?xml[^>]+>", "<!DOCTYPE HTML>");, +    Files.write(destFile, Collections.singleton(fileAsString), StandardCharsets.UTF_8);]