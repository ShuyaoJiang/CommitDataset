[+++ b/javase/src/main/java/com/google/zxing/client/j2se/MatrixToImageConfig.java, +    if (onColor == BLACK && offColor == WHITE) {, +      return BufferedImage.TYPE_BYTE_BINARY;, +    }, +    if (hasTransparency(onColor) || hasTransparency(offColor)) {, +      // Use ARGB representation if colors specify non-opaque alpha, +      return BufferedImage.TYPE_INT_ARGB;, +    }, +    // Default otherwise to RGB representation with ignored alpha channel, +    return BufferedImage.TYPE_INT_RGB;, +  }, +, +  private static boolean hasTransparency(int argb) {, +    return (argb & 0xFF000000) != 0xFF000000;]