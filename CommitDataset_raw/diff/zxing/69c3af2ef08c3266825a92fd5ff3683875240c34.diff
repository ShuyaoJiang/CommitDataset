[+++ b/android/src/com/google/zxing/client/android/encode/QRCodeEncoder.java, +      if (data != null && data.length() > 0) {, +      String data = trim(intent.getStringExtra(Intents.Encode.DATA));, +      if (data != null) {, +      String data = trim(intent.getStringExtra(Intents.Encode.DATA));, +      if (data != null) {, +      String data = trim(intent.getStringExtra(Intents.Encode.DATA));, +      if (data != null) {, +        String name = trim(bundle.getString(Contacts.Intents.Insert.NAME));, +        if (name != null) {, +        String address = trim(bundle.getString(Contacts.Intents.Insert.POSTAL));, +        if (address != null) {, +          String phone = trim(bundle.getString(Contents.PHONE_KEYS[x]));, +          if (phone != null) {, +          String email = trim(bundle.getString(Contents.EMAIL_KEYS[x]));, +          if (email != null) {, +      String name = trim(names[0]);, +      if (name != null) {, +        newContents.append("N:").append(name).append(';');, +        newDisplayContents.append(name);, +      }, +        address = trim(address);, +        if (address != null) {, +        phone = trim(phone);, +        if (phone != null) {, +        email = trim(email);, +        if (email != null) {, +    String url = trim(contact.getURL());, +    if (url != null) {, +, +  private static String trim(String s) {, +    if (s == null) {, +      return null;, +    }, +    s = s.trim();, +    return s.length() == 0 ? null : s;, +  }, +]