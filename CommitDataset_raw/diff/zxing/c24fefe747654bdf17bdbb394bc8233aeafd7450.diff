[+++ b/core/src/com/google/zxing/oned/Code128Writer.java, +      //Determine which code we should use (C or B), +      boolean useCodeC = true;, +      for (int i = 0; i < length; i++) {, +        char c = contents.charAt(i);, +        if (c < '0' || c > '9') {, +        	useCodeC = false;, +        	break;, +        }, +      }, +, +      byte[] result;, +      int pos;, +      int check;, +      , +      if (useCodeC) {, +    	  //Optionnaly add "0" to have pairs, +        if (length % 2 != 0) {, +        	contents = '0' + contents;, +        	length++;, +        }, +        //get total code width for this barcode, +        for (int i = 0; i < length; i += 2){, +          int[] patterns = Code128Reader.CODE_PATTERNS[Integer.parseInt(contents.substring(i, i + 2))];, +          for (int j = 0; j < patterns.length; j++) {, +            codeWidth += patterns[j];, +          }, +        }, +        result = new byte[codeWidth];, +        pos = appendPattern(result, 0, Code128Reader.CODE_PATTERNS[105], 1);, +        check = 105;, +        //append next character to bytematrix, +        for (int i = 0; i < length; i += 2) {, +          int pair = Integer.parseInt(contents.substring(i, i + 2));, +          check += pair * (i / 2 + 1);, +          pos += appendPattern(result, pos, Code128Reader.CODE_PATTERNS[pair],1);, +        }, +      } else {, +        result = new byte[codeWidth];, +        pos = appendPattern(result, 0, Code128Reader.CODE_PATTERNS[104], 1);, +        check = 104;, +      }, +      ]