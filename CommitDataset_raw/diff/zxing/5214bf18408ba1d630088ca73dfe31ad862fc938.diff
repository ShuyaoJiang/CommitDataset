[+++ b/core/src/com/google/zxing/datamatrix/encoder/ASCIIEncoder.java, +    int n = HighLevelEncoder.determineConsecutiveDigitCount(context.getMessage(), context.pos);, +      context.writeCodeword(encodeASCIIDigits(context.getMessage().charAt(context.pos),, +                                              context.getMessage().charAt(context.pos + 1)));, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +++ b/core/src/com/google/zxing/datamatrix/encoder/ASCIIEncoder.java, +    int n = HighLevelEncoder.determineConsecutiveDigitCount(context.getMessage(), context.pos);, +      context.writeCodeword(encodeASCIIDigits(context.getMessage().charAt(context.pos),, +                                              context.getMessage().charAt(context.pos + 1)));, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +++ b/core/src/com/google/zxing/datamatrix/encoder/Base256Encoder.java, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +    boolean mustPad = (context.getSymbolInfo().getDataCapacity() - currentSize) > 0;, +++ b/core/src/com/google/zxing/datamatrix/encoder/ASCIIEncoder.java, +    int n = HighLevelEncoder.determineConsecutiveDigitCount(context.getMessage(), context.pos);, +      context.writeCodeword(encodeASCIIDigits(context.getMessage().charAt(context.pos),, +                                              context.getMessage().charAt(context.pos + 1)));, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +++ b/core/src/com/google/zxing/datamatrix/encoder/Base256Encoder.java, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +    boolean mustPad = (context.getSymbolInfo().getDataCapacity() - currentSize) > 0;, +++ b/core/src/com/google/zxing/datamatrix/encoder/C40Encoder.java, +      int available = context.getSymbolInfo().getDataCapacity() - curCodewordCount;, +        int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +    int available = context.getSymbolInfo().getDataCapacity() - curCodewordCount;, +++ b/core/src/com/google/zxing/datamatrix/encoder/ASCIIEncoder.java, +    int n = HighLevelEncoder.determineConsecutiveDigitCount(context.getMessage(), context.pos);, +      context.writeCodeword(encodeASCIIDigits(context.getMessage().charAt(context.pos),, +                                              context.getMessage().charAt(context.pos + 1)));, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +++ b/core/src/com/google/zxing/datamatrix/encoder/Base256Encoder.java, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +    boolean mustPad = (context.getSymbolInfo().getDataCapacity() - currentSize) > 0;, +++ b/core/src/com/google/zxing/datamatrix/encoder/C40Encoder.java, +      int available = context.getSymbolInfo().getDataCapacity() - curCodewordCount;, +        int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +    int available = context.getSymbolInfo().getDataCapacity() - curCodewordCount;, +++ b/core/src/com/google/zxing/datamatrix/encoder/DataMatrixSymbolInfo144.java, +    super(false, 1558, 620, 22, 22, 36, -1, 62);, +++ b/core/src/com/google/zxing/datamatrix/encoder/ASCIIEncoder.java, +    int n = HighLevelEncoder.determineConsecutiveDigitCount(context.getMessage(), context.pos);, +      context.writeCodeword(encodeASCIIDigits(context.getMessage().charAt(context.pos),, +                                              context.getMessage().charAt(context.pos + 1)));, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +++ b/core/src/com/google/zxing/datamatrix/encoder/Base256Encoder.java, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +    boolean mustPad = (context.getSymbolInfo().getDataCapacity() - currentSize) > 0;, +++ b/core/src/com/google/zxing/datamatrix/encoder/C40Encoder.java, +      int available = context.getSymbolInfo().getDataCapacity() - curCodewordCount;, +        int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +    int available = context.getSymbolInfo().getDataCapacity() - curCodewordCount;, +++ b/core/src/com/google/zxing/datamatrix/encoder/DataMatrixSymbolInfo144.java, +    super(false, 1558, 620, 22, 22, 36, -1, 62);, +++ b/core/src/com/google/zxing/datamatrix/encoder/EdifactEncoder.java, +        int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +        int available = context.getSymbolInfo().getDataCapacity() - context.getCodewordCount();, +        int available = context.getSymbolInfo().getDataCapacity() - context.getCodewordCount();, +++ b/core/src/com/google/zxing/datamatrix/encoder/ASCIIEncoder.java, +    int n = HighLevelEncoder.determineConsecutiveDigitCount(context.getMessage(), context.pos);, +      context.writeCodeword(encodeASCIIDigits(context.getMessage().charAt(context.pos),, +                                              context.getMessage().charAt(context.pos + 1)));, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +++ b/core/src/com/google/zxing/datamatrix/encoder/Base256Encoder.java, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +    boolean mustPad = (context.getSymbolInfo().getDataCapacity() - currentSize) > 0;, +++ b/core/src/com/google/zxing/datamatrix/encoder/C40Encoder.java, +      int available = context.getSymbolInfo().getDataCapacity() - curCodewordCount;, +        int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +    int available = context.getSymbolInfo().getDataCapacity() - curCodewordCount;, +++ b/core/src/com/google/zxing/datamatrix/encoder/DataMatrixSymbolInfo144.java, +    super(false, 1558, 620, 22, 22, 36, -1, 62);, +++ b/core/src/com/google/zxing/datamatrix/encoder/EdifactEncoder.java, +        int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +        int available = context.getSymbolInfo().getDataCapacity() - context.getCodewordCount();, +        int available = context.getSymbolInfo().getDataCapacity() - context.getCodewordCount();, +++ b/core/src/com/google/zxing/datamatrix/encoder/EncoderContext.java, +  private final String msg;, +  private final StringBuilder codewords;, +  private int newEncoding;, +  private SymbolInfo symbolInfo;, +  public StringBuilder getCodewords() {, +    return codewords;, +  }, +, +  public int getNewEncoding() {, +    return newEncoding;, +  }, +, +  public SymbolInfo getSymbolInfo() {, +    return symbolInfo;, +  }, +, +    if (this.symbolInfo == null || len > this.symbolInfo.getDataCapacity()) {, +++ b/core/src/com/google/zxing/datamatrix/encoder/ASCIIEncoder.java, +    int n = HighLevelEncoder.determineConsecutiveDigitCount(context.getMessage(), context.pos);, +      context.writeCodeword(encodeASCIIDigits(context.getMessage().charAt(context.pos),, +                                              context.getMessage().charAt(context.pos + 1)));, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());, +++ b/core/src/com/google/zxing/datamatrix/encoder/Base256Encoder.java, +      int newMode = HighLevelEncoder.lookAheadTest(context.getMessage(), context.pos, getEncodingMode());]