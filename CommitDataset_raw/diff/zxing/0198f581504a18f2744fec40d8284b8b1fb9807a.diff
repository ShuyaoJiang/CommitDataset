[+++ b/android-m3/AndroidManifest.xml, +<?xml version="1.0" encoding="utf-8"?>, +<manifest xmlns:android="http://schemas.android.com/apk/res/android", +          package="com.google.zxing.client.android">, +  <application android:icon="@drawable/icon">, +    <activity class=".BarcodeReaderCaptureActivity" android:label="@string/app_name">, +      <intent-filter>, +        <action android:value="android.intent.action.MAIN"/>, +        <category android:value="android.intent.category.LAUNCHER"/>, +      </intent-filter>, +    </activity>, +  </application>, +  <uses-permission id="android.permission.READ_CONTACTS"/>, +  <uses-permission id="android.permission.WRITE_CONTACTS"/>, +</manifest> , +++ b/android-m3/AndroidManifest.xml, +<?xml version="1.0" encoding="utf-8"?>, +<manifest xmlns:android="http://schemas.android.com/apk/res/android", +          package="com.google.zxing.client.android">, +  <application android:icon="@drawable/icon">, +    <activity class=".BarcodeReaderCaptureActivity" android:label="@string/app_name">, +      <intent-filter>, +        <action android:value="android.intent.action.MAIN"/>, +        <category android:value="android.intent.category.LAUNCHER"/>, +      </intent-filter>, +    </activity>, +  </application>, +  <uses-permission id="android.permission.READ_CONTACTS"/>, +  <uses-permission id="android.permission.WRITE_CONTACTS"/>, +</manifest> , +++ b/android-m3/build.xml, +<?xml version="1.0" ?>, +, +<!--, + Copyright (C) 2008 Google Inc., +, + Licensed under the Apache License, Version 2.0 (the "License");, + you may not use this file except in compliance with the License., + You may obtain a copy of the License at, +, +      http://www.apache.org/licenses/LICENSE-2.0, +, + Unless required by applicable law or agreed to in writing, software, + distributed under the License is distributed on an "AS IS" BASIS,, + WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + See the License for the specific language governing permissions and, + limitations under the License., + -->, +, +<!-- This is a mildly hacked version of the auto-generated project, +     build.xml file. -->, +<project name="BarcodeReader" default="package">, +  <property file="../build.properties"/>, +  <property name="sdk-folder" value="${android-home}"/>, +  <property name="android-tools" value="${sdk-folder}/tools"/>, +, +  <!-- The intermediates directory -->, +  <!-- Eclipse uses "bin" for its own output, so we do the same. -->, +  <property name="outdir" value="bin"/>, +, +  <!-- No user servicable parts below. -->, +, +  <!-- Input directories -->, +  <property name="resource-dir" value="res"/>, +  <property name="asset-dir" value="assets"/>, +  <property name="srcdir" value="src"/>, +, +  <!-- Output directories -->, +  <property name="outdir-classes" value="${outdir}/classes"/>, +, +  <!-- Create R.java in the source directory -->, +  <property name="outdir-r" value="src"/>, +, +  <!-- Intermediate files -->, +  <property name="dex-file" value="classes.dex"/>, +  <property name="intermediate-dex" value="${outdir}/${dex-file}"/>, +, +  <!-- The final package file to generate -->, +  <property name="out-package" value="${outdir}/${ant.project.name}.apk"/>, +, +  <!-- Tools -->, +  <property name="aapt" value="${android-tools}/aapt"/>, +  <property name="aidl" value="${android-tools}/aidl"/>, +  <property name="dx" value="${android-tools}/dx"/>, +  <property name="zip" value="zip"/>, +  <property name="android-jar" value="${sdk-folder}/android.jar"/>, +, +  <!-- Rules -->, +, +  <target name="init">, +    <tstamp/>, +    <fail message="Please set 'android-home' in build.properties">, +      <condition>, +        <not>, +          <available file="${android-home}" type="dir"/>, +        </not>, +      </condition>, +    </fail>, +    <fail message="Please build 'core' first">, +      <condition>]