[+++ b/core/src/com/google/zxing/datamatrix/DataMatrixReader.java, +    int columnEndOfSymbol = height - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/src/com/google/zxing/datamatrix/DataMatrixReader.java, +    int columnEndOfSymbol = height - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/src/com/google/zxing/qrcode/QRCodeReader.java, +    int height = image.getHeight();, +    int width = image.getWidth();, +    int minDimension = Math.min(height, width);, +    int rowEndOfSymbol = width - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/src/com/google/zxing/datamatrix/DataMatrixReader.java, +    int columnEndOfSymbol = height - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/src/com/google/zxing/qrcode/QRCodeReader.java, +    int height = image.getHeight();, +    int width = image.getWidth();, +    int minDimension = Math.min(height, width);, +    int rowEndOfSymbol = width - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/test/data/blackbox/upce-1/1.txt, +01234565, +++ b/core/src/com/google/zxing/datamatrix/DataMatrixReader.java, +    int columnEndOfSymbol = height - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/src/com/google/zxing/qrcode/QRCodeReader.java, +    int height = image.getHeight();, +    int width = image.getWidth();, +    int minDimension = Math.min(height, width);, +    int rowEndOfSymbol = width - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/test/data/blackbox/upce-1/1.txt, +01234565, +++ b/core/test/data/blackbox/upce-1/1.url, +http://www.ciax.com/manuals/ref/images/upce_1.gif, +++ b/core/src/com/google/zxing/datamatrix/DataMatrixReader.java, +    int columnEndOfSymbol = height - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/src/com/google/zxing/qrcode/QRCodeReader.java, +    int height = image.getHeight();, +    int width = image.getWidth();, +    int minDimension = Math.min(height, width);, +    int rowEndOfSymbol = width - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/test/data/blackbox/upce-1/1.txt, +01234565, +++ b/core/test/data/blackbox/upce-1/1.url, +http://www.ciax.com/manuals/ref/images/upce_1.gif, +++ b/core/test/data/blackbox/upce-1/2.txt, +00123457, +++ b/core/src/com/google/zxing/datamatrix/DataMatrixReader.java, +    int columnEndOfSymbol = height - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;, +    if (sampleDimension >= width || sampleDimension >= height) {, +      throw new ReaderException("Estimated pure image size is beyond image boundaries");, +    }, +, +++ b/core/src/com/google/zxing/qrcode/QRCodeReader.java, +    int height = image.getHeight();, +    int width = image.getWidth();, +    int minDimension = Math.min(height, width);, +    int rowEndOfSymbol = width - 1;, +    int sampleDimension = borderWidth + (dimension - 1) * moduleSize;]