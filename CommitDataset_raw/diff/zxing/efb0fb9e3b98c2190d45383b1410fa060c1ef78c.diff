[+++ b/core/src/com/google/zxing/common/GridSampler.java, +    checkOneEndpoint(points, 0, width, height);, +    checkOneEndpoint(points, points.length - 2, width, height);, +  private static void checkOneEndpoint(float[] points, int offset, int width, int height) throws ReaderException {, +    int x = (int) points[offset];, +    int y = (int) points[offset + 1];, +      points[offset] = 0.0f;, +    } else if (x == width) {, +      points[offset] = width - 1;, +      points[offset + 1] = 0.0f;, +    } else if (y == height) {, +      points[offset + 1] = height - 1;]