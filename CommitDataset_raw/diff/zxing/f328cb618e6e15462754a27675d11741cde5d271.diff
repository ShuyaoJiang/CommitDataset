[+++ b/android-integration/build.xml, +        <pathelement location="${android-home}/platforms/android-7/android.jar"/>, +  <target name="export" depends="build">, +    <copy file="android-integration.jar" todir="../androidtest/libs"/>, +  </target>, +, +++ b/android-integration/build.xml, +        <pathelement location="${android-home}/platforms/android-7/android.jar"/>, +  <target name="export" depends="build">, +    <copy file="android-integration.jar" todir="../androidtest/libs"/>, +  </target>, +, +++ b/android-integration/pom.xml, +      <version>2.1.2</version>, +++ b/android-integration/build.xml, +        <pathelement location="${android-home}/platforms/android-7/android.jar"/>, +  <target name="export" depends="build">, +    <copy file="android-integration.jar" todir="../androidtest/libs"/>, +  </target>, +, +++ b/android-integration/pom.xml, +      <version>2.1.2</version>, +++ b/android-integration/src/com/google/zxing/integration/android/IntentIntegrator.java, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.Collections;, +import java.util.List;, +import android.content.pm.PackageManager;, +import android.content.pm.ResolveInfo;, + * <p>To integrate, create an instance of {@code IntentIntegrator} and call {@link #initiateScan()} and wait, + * <p>It does require that the Barcode Scanner (or work-alike) application is installed. The, + * {@link #initiateScan()} method will prompt the user to download the application, if needed.</p>, + * <p>This is where you will handle a scan result.</p>, + * <p>Second, just call this in response to a user action somewhere to begin the scan process:</p>, + * <pre>{@code, + * IntentIntegrator integrator = new IntentIntegrator(yourActivity);, + * integrator.initiateScan();, + * }</pre>, + * <p>Note that {@link #initiateScan()} returns an {@link AlertDialog} which is non-null if the, + * <p>You can use {@link #setTitle(String)} to customize the title of this download prompt dialog (or, use, + * {@link #setTitleByID(int)} to set the title by string resource ID.) Likewise, the prompt message, and, + * yes/no button labels can be changed.</p>, + * , + * <p>By default, this will only allow applications that are known to respond to this intent correctly, + * do so. The apps that are allowed to response can be set with {@link #setTargetApplications(Collection)}., + * For example, set to {@link #TARGET_BARCODE_SCANNER_ONLY} to only target the Barcode Scanner app itself.</p>, + *, + * <p>To share text, encoded as a QR Code on-screen, similarly, see {@link #shareText(CharSequence)}.</p>, +  private static final String BS_PACKAGE = "com.google.zxing.client.android";, +  public static final Collection<String> PRODUCT_CODE_TYPES = list("UPC_A", "UPC_E", "EAN_8", "EAN_13", "RSS_14");, +  public static final Collection<String> ONE_D_CODE_TYPES =, +      list("UPC_A", "UPC_E", "EAN_8", "EAN_13", "CODE_39", "CODE_93", "CODE_128",, +           "ITF", "RSS_14", "RSS_EXPANDED");, +  public static final Collection<String> QR_CODE_TYPES = Collections.singleton("QR_CODE");, +  public static final Collection<String> DATA_MATRIX_TYPES = Collections.singleton("DATA_MATRIX");, +  public static final Collection<String> ALL_CODE_TYPES = null;, +  , +  public static final Collection<String> TARGET_BARCODE_SCANNER_ONLY = Collections.singleton(BS_PACKAGE);, +  public static final Collection<String> TARGET_ALL_KNOWN = list(, +          BS_PACKAGE, // Barcode Scanner, +          "com.srowen.bs.android", // Barcode Scanner+, +          "com.srowen.bs.android.simple" // Barcode Scanner+ Simple, +          // TODO add more -- what else supports this intent?, +      );, +  , +  private final Activity activity;, +  private String title;, +  private String message;, +  private String buttonYes;, +  private String buttonNo;, +  private Collection<String> targetApplications;, +  , +  public IntentIntegrator(Activity activity) {, +    this.activity = activity;, +    title = DEFAULT_TITLE;, +    message = DEFAULT_MESSAGE;, +    buttonYes = DEFAULT_YES;, +    buttonNo = DEFAULT_NO;, +    targetApplications = TARGET_ALL_KNOWN;, +  public String getTitle() {, +    return title;, +  }, +  , +  public void setTitle(String title) {, +    this.title = title;, +  }, +, +  public void setTitleByID(int titleID) {, +    title = activity.getString(titleID);, +  }, +, +  public String getMessage() {, +    return message;, +  }, +, +  public void setMessage(String message) {, +    this.message = message;, +  }, +, +  public void setMessageByID(int messageID) {]