[+++ b/core/src/com/google/zxing/qrcode/detector/FinderPatternFinder.java, +    if (possibleCenters.size() < 3) {, +    Collections.insertionSort(possibleCenters, new CenterComparator());, +    if (possibleCenters.size() > 3) {, +      possibleCenters.setSize(3);, +    }, +    for (int i = 0; i < 3; i++) {, +    averageModuleSize /= 3.0f;, +++ b/core/src/com/google/zxing/qrcode/detector/FinderPatternFinder.java, +    if (possibleCenters.size() < 3) {, +    Collections.insertionSort(possibleCenters, new CenterComparator());, +    if (possibleCenters.size() > 3) {, +      possibleCenters.setSize(3);, +    }, +    for (int i = 0; i < 3; i++) {, +    averageModuleSize /= 3.0f;, +++ b/core/test/src/com/google/zxing/qrcode/QRCodeBlackBox1TestCase.java, +    addTest(17, 17, 180.0f);, +    addTest(14, 14, 270.0f);, +++ b/core/src/com/google/zxing/qrcode/detector/FinderPatternFinder.java, +    if (possibleCenters.size() < 3) {, +    Collections.insertionSort(possibleCenters, new CenterComparator());, +    if (possibleCenters.size() > 3) {, +      possibleCenters.setSize(3);, +    }, +    for (int i = 0; i < 3; i++) {, +    averageModuleSize /= 3.0f;, +++ b/core/test/src/com/google/zxing/qrcode/QRCodeBlackBox1TestCase.java, +    addTest(17, 17, 180.0f);, +    addTest(14, 14, 270.0f);, +++ b/core/test/src/com/google/zxing/qrcode/QRCodeBlackBox2TestCase.java, +    addTest(23, 23, 0.0f);, +    addTest(20, 20, 90.0f);, +    addTest(21, 21, 180.0f);, +    addTest(19, 19, 270.0f);, +++ b/core/src/com/google/zxing/qrcode/detector/FinderPatternFinder.java, +    if (possibleCenters.size() < 3) {, +    Collections.insertionSort(possibleCenters, new CenterComparator());, +    if (possibleCenters.size() > 3) {, +      possibleCenters.setSize(3);, +    }, +    for (int i = 0; i < 3; i++) {, +    averageModuleSize /= 3.0f;, +++ b/core/test/src/com/google/zxing/qrcode/QRCodeBlackBox1TestCase.java, +    addTest(17, 17, 180.0f);, +    addTest(14, 14, 270.0f);, +++ b/core/test/src/com/google/zxing/qrcode/QRCodeBlackBox2TestCase.java, +    addTest(23, 23, 0.0f);, +    addTest(20, 20, 90.0f);, +    addTest(21, 21, 180.0f);, +    addTest(19, 19, 270.0f);, +++ b/core/test/src/com/google/zxing/qrcode/QRCodeBlackBox3TestCase.java, +    addTest(33, 33, 180.0f);, +    addTest(35, 35, 270.0f);]