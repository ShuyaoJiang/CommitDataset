[+++ b/cpp/core/src/zxing/LuminanceSource.cpp, +// -*- mode:c++; tab-width:2; indent-tabs-mode:nil; c-basic-offset:2 -*-, +#include <sstream>, +LuminanceSource::operator std::string() {, +  unsigned char* row = 0;, +  std::ostringstream oss;, +  for (int y = 0; y < getHeight(); y++) {, +    row = getRow(y, row);, +    for (int x = 0; x < getWidth(); x++) {, +      int luminance = row[x] & 0xFF;, +      char c;, +      if (luminance < 0x40) {, +        c = '#';, +      } else if (luminance < 0x80) {, +        c = '+';, +      } else if (luminance < 0xC0) {, +        c = '.';, +      } else {, +        c = ' ';, +      }, +      oss << c;, +    }, +    oss << '\n';, +  }, +  delete [] row;, +  return oss.str();, +}, +, +, +, +++ b/cpp/core/src/zxing/LuminanceSource.cpp, +// -*- mode:c++; tab-width:2; indent-tabs-mode:nil; c-basic-offset:2 -*-, +#include <sstream>, +LuminanceSource::operator std::string() {, +  unsigned char* row = 0;, +  std::ostringstream oss;, +  for (int y = 0; y < getHeight(); y++) {, +    row = getRow(y, row);, +    for (int x = 0; x < getWidth(); x++) {, +      int luminance = row[x] & 0xFF;, +      char c;, +      if (luminance < 0x40) {, +        c = '#';, +      } else if (luminance < 0x80) {, +        c = '+';, +      } else if (luminance < 0xC0) {, +        c = '.';, +      } else {, +        c = ' ';, +      }, +      oss << c;, +    }, +    oss << '\n';, +  }, +  delete [] row;, +  return oss.str();, +}, +, +, +, +++ b/cpp/core/src/zxing/LuminanceSource.h, +// -*- mode:c++; tab-width:2; indent-tabs-mode:nil; c-basic-offset:2 -*-, +  operator std::string (); // should be const but don't want to make sure a, +                           // large breaking change right now, +++ b/cpp/core/src/zxing/LuminanceSource.cpp, +// -*- mode:c++; tab-width:2; indent-tabs-mode:nil; c-basic-offset:2 -*-, +#include <sstream>, +LuminanceSource::operator std::string() {, +  unsigned char* row = 0;, +  std::ostringstream oss;, +  for (int y = 0; y < getHeight(); y++) {, +    row = getRow(y, row);, +    for (int x = 0; x < getWidth(); x++) {, +      int luminance = row[x] & 0xFF;, +      char c;, +      if (luminance < 0x40) {, +        c = '#';, +      } else if (luminance < 0x80) {, +        c = '+';, +      } else if (luminance < 0xC0) {, +        c = '.';, +      } else {, +        c = ' ';, +      }, +      oss << c;, +    }, +    oss << '\n';, +  }, +  delete [] row;, +  return oss.str();, +}, +, +, +, +++ b/cpp/core/src/zxing/LuminanceSource.h, +// -*- mode:c++; tab-width:2; indent-tabs-mode:nil; c-basic-offset:2 -*-, +  operator std::string (); // should be const but don't want to make sure a, +                           // large breaking change right now, +++ b/cpp/core/src/zxing/common/BitArray.cpp, +// -*- mode:c++; tab-width:2; indent-tabs-mode:nil; c-basic-offset:2 -*-]