[+++ b/src/main/java/com/squareup/okhttp/internal/http/HttpEngine.java, +       *, +       * Also remove the Content-Length in this case because it contains the, +       * length	528 of the gzipped response. This isn't terribly useful and is, +       * dangerous because	529 clients can query the content length, but not, +       * the content encoding., +      responseHeaders.stripContentLength();, +++ b/src/main/java/com/squareup/okhttp/internal/http/HttpEngine.java, +       *, +       * Also remove the Content-Length in this case because it contains the, +       * length	528 of the gzipped response. This isn't terribly useful and is, +       * dangerous because	529 clients can query the content length, but not, +       * the content encoding., +      responseHeaders.stripContentLength();, +++ b/src/main/java/com/squareup/okhttp/internal/http/ResponseHeaders.java, +  public void stripContentLength() {, +    contentLength = -1;, +    headers.removeAll("Content-Length");, +  }, +, +++ b/src/main/java/com/squareup/okhttp/internal/http/HttpEngine.java, +       *, +       * Also remove the Content-Length in this case because it contains the, +       * length	528 of the gzipped response. This isn't terribly useful and is, +       * dangerous because	529 clients can query the content length, but not, +       * the content encoding., +      responseHeaders.stripContentLength();, +++ b/src/main/java/com/squareup/okhttp/internal/http/ResponseHeaders.java, +  public void stripContentLength() {, +    contentLength = -1;, +    headers.removeAll("Content-Length");, +  }, +, +++ b/src/test/java/com/squareup/okhttp/internal/http/URLConnectionTest.java, +    assertEquals(-1, connection.getContentLength());, +    byte[] bodyBytes = gzip("ABCDEFGHIJKLMNOPQRSTUVWXYZ".getBytes("UTF-8"));, +    server.enqueue(new MockResponse(), +        .setBody(bodyBytes), +    assertEquals(bodyBytes.length, connection.getContentLength());]