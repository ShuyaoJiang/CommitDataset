[+++ b/okhttp-tests/src/test/java/com/squareup/okhttp/RequestTest.java, +import java.net.URI;, +import java.net.URL;, +, +  @Test public void uninitializedURI() throws Exception {, +    Request request = new Request.Builder().url("http://localhost/api").build();, +    assertEquals(new URI("http://localhost/api"), request.uri());, +    assertEquals(new URL("http://localhost/api"), request.url());, +  }, +, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/RequestTest.java, +import java.net.URI;, +import java.net.URL;, +, +  @Test public void uninitializedURI() throws Exception {, +    Request request = new Request.Builder().url("http://localhost/api").build();, +    assertEquals(new URI("http://localhost/api"), request.uri());, +    assertEquals(new URL("http://localhost/api"), request.url());, +  }, +, +++ b/okhttp/src/main/java/com/squareup/okhttp/Request.java, +      return result != null ? result : (uri = Platform.get().toUriLenient(url()));]