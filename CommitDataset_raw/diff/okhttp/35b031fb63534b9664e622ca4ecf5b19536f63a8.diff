[+++ b/README.md, + [5]: http://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&g=com.squareup.okhttp&a=mockwebserver&v=LATEST, +++ b/README.md, + [5]: http://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&g=com.squareup.okhttp&a=mockwebserver&v=LATEST, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ b/README.md, + [5]: http://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&g=com.squareup.okhttp&a=mockwebserver&v=LATEST, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/Protocol.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ b/README.md, + [5]: http://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&g=com.squareup.okhttp&a=mockwebserver&v=LATEST, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/Protocol.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ /dev/null, +++ b/README.md, + [5]: http://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&g=com.squareup.okhttp&a=mockwebserver&v=LATEST, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/Protocol.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ /dev/null, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/Platform.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ b/README.md, + [5]: http://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&g=com.squareup.okhttp&a=mockwebserver&v=LATEST, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/Protocol.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ /dev/null, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/Platform.java, +import com.squareup.okhttp.internal.bytes.ByteString;, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/bytes/ByteString.java, +/*, + * Copyright 2014 Square Inc., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + * http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +package com.squareup.okhttp.internal.bytes;, +, +import com.squareup.okhttp.internal.Util;, +import java.io.IOException;, +import java.io.InputStream;, +import java.io.OutputStream;, +import java.util.Arrays;, +, +import static com.squareup.okhttp.internal.Util.asciiLowerCase;, +, +/**, + * An immutable sequence of bytes., + *, + * <p><strong>Full disclosure:</strong> this class provides untrusted input and, + * output streams with raw access to the underlying byte array. A hostile, + * stream implementation could keep a reference to the mutable byte string,, + * violating the immutable guarantee of this class. For this reason a byte, + * string's immutability guarantee cannot be relied upon for security in applets, + * and other environments that run both trusted and untrusted code in the same, + * process., + */, +public final class ByteString {, +  final byte[] data;, +  private transient int hashCode; // Lazily computed; 0 if unknown., +  private transient String utf8; // Lazily computed., +, +  /** A singleton empty {@code ByteString}. */, +  public static final ByteString EMPTY = new ByteString(Util.EMPTY_BYTE_ARRAY);, +, +  /**, +   * Returns a new byte string containing a clone of the bytes of {@code data}., +   */, +  public static ByteString of(byte... data) {, +    return new ByteString(data.clone());, +  }, +, +  /** Returns a new byte string containing the {@code UTF-8} bytes of {@code s}. */, +  public static ByteString encodeUtf8(String s) {, +    ByteString byteString = new ByteString(s.getBytes(Util.UTF_8));, +    byteString.utf8 = s;, +    return byteString;, +  }, +, +  /** Constructs a new {@code String} by decoding the bytes as {@code UTF-8}. */, +  public String utf8() {, +    String result = utf8;, +    // We don't care if we double-allocate in racy code.]