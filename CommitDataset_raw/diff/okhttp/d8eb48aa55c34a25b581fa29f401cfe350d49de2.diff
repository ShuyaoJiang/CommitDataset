[+++ b/CHANGELOG.md, +    `ConnectionSpec` class., +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.CLEARTEXT));, +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS));, +++ b/CHANGELOG.md, +    `ConnectionSpec` class., +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.CLEARTEXT));, +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/CallTest.java, +    client.setConnectionSpecs(Arrays.asList(ConnectionSpec.MODERN_TLS, ConnectionSpec.CLEARTEXT));, +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS));, +      assertTrue(expected.getMessage().contains("exhausted connection specs"));, +++ b/CHANGELOG.md, +    `ConnectionSpec` class., +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.CLEARTEXT));, +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/CallTest.java, +    client.setConnectionSpecs(Arrays.asList(ConnectionSpec.MODERN_TLS, ConnectionSpec.CLEARTEXT));, +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS));, +      assertTrue(expected.getMessage().contains("exhausted connection specs"));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/ConnectionPoolTest.java, +    List<ConnectionSpec> connectionSpecs = Util.immutableList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.CLEARTEXT);, +        Util.immutableList(Protocol.SPDY_3, Protocol.HTTP_1_1), connectionSpecs);, +        Util.immutableList(Protocol.SPDY_3, Protocol.HTTP_1_1), connectionSpecs);, +        ConnectionSpec.CLEARTEXT);, +        ConnectionSpec.MODERN_TLS);, +        ConnectionSpec.CLEARTEXT));, +++ b/CHANGELOG.md, +    `ConnectionSpec` class., +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.CLEARTEXT));, +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/CallTest.java, +    client.setConnectionSpecs(Arrays.asList(ConnectionSpec.MODERN_TLS, ConnectionSpec.CLEARTEXT));, +    client.setConnectionSpecs(Arrays.asList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS));, +      assertTrue(expected.getMessage().contains("exhausted connection specs"));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/ConnectionPoolTest.java, +    List<ConnectionSpec> connectionSpecs = Util.immutableList(, +        ConnectionSpec.MODERN_TLS, ConnectionSpec.CLEARTEXT);, +        Util.immutableList(Protocol.SPDY_3, Protocol.HTTP_1_1), connectionSpecs);, +        Util.immutableList(Protocol.SPDY_3, Protocol.HTTP_1_1), connectionSpecs);, +        ConnectionSpec.CLEARTEXT);, +        ConnectionSpec.MODERN_TLS);, +        ConnectionSpec.CLEARTEXT));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/RouteSelectorTest.java, +import com.squareup.okhttp.ConnectionSpec;, +  public final List<ConnectionSpec> connectionSpecs = Util.immutableList(, +      ConnectionSpec.MODERN_TLS,, +      ConnectionSpec.COMPATIBLE_TLS,, +      ConnectionSpec.CLEARTEXT);, +        .setConnectionSpecs(connectionSpecs), +        uriPort, ConnectionSpec.CLEARTEXT);, +        uriPort, ConnectionSpec.CLEARTEXT);, +        proxyA, protocols, connectionSpecs);, +        proxyAPort, ConnectionSpec.CLEARTEXT);, +        proxyAPort, ConnectionSpec.CLEARTEXT);, +        NO_PROXY, protocols, connectionSpecs);, +        uriPort, ConnectionSpec.CLEARTEXT);, +        uriPort, ConnectionSpec.CLEARTEXT);, +        uriPort, ConnectionSpec.CLEARTEXT);, +        uriPort, ConnectionSpec.CLEARTEXT);, +        uriPort, ConnectionSpec.CLEARTEXT);, +        ConnectionSpec.CLEARTEXT);, +        ConnectionSpec.CLEARTEXT);, +        ConnectionSpec.CLEARTEXT);, +        ConnectionSpec.CLEARTEXT);, +        ConnectionSpec.CLEARTEXT);, +        proxyAPort, ConnectionSpec.CLEARTEXT);, +        proxyAPort, ConnectionSpec.CLEARTEXT);, +        uriPort, ConnectionSpec.CLEARTEXT);, +        hostnameVerifier, null, authenticator, null, protocols, connectionSpecs);, +        proxyAPort, ConnectionSpec.MODERN_TLS);, +        proxyAPort, ConnectionSpec.COMPATIBLE_TLS);, +        proxyAPort, ConnectionSpec.MODERN_TLS);, +        proxyAPort, ConnectionSpec.COMPATIBLE_TLS);, +        proxyBPort, ConnectionSpec.MODERN_TLS);, +        proxyBPort, ConnectionSpec.COMPATIBLE_TLS);, +        proxyBPort, ConnectionSpec.MODERN_TLS);, +        proxyBPort, ConnectionSpec.COMPATIBLE_TLS);, +        uriPort, ConnectionSpec.MODERN_TLS);, +        uriPort, ConnectionSpec.COMPATIBLE_TLS);, +        uriPort, ConnectionSpec.MODERN_TLS);, +        uriPort, ConnectionSpec.COMPATIBLE_TLS);, +      InetAddress socketAddress, int socketPort, ConnectionSpec connectionSpec) {, +    assertEquals(connectionSpec, connection.getRoute().getConnectionSpec());, +        protocols, connectionSpecs);, +++ b/CHANGELOG.md, +    `ConnectionSpec` class., +    client.setConnectionSpecs(Arrays.asList(]