[+++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/RealWebSocketTest.java, +  @Test public void clientAndServerCloseClosesConnection() throws Exception {, +    client.webSocket.awaitTermination(5, TimeUnit.SECONDS);, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/RealWebSocketTest.java, +  @Test public void clientAndServerCloseClosesConnection() throws Exception {, +    client.webSocket.awaitTermination(5, TimeUnit.SECONDS);, +++ b/okhttp/src/main/java/okhttp3/internal/ws/RealWebSocket.java, +import java.util.concurrent.TimeUnit;, +  /**, +   * For testing: wait until the web socket's executor has terminated., +   */, +  void awaitTermination(int timeout, TimeUnit timeUnit) throws InterruptedException {, +    executor.awaitTermination(timeout, timeUnit);, +  }, +]