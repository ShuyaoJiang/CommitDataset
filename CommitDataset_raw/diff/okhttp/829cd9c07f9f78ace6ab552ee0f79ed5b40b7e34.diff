[+++ b/CHANGELOG.md, +++ b/CHANGELOG.md, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +          stream.close(ErrorCode.fromHttp2(peekedResponse.getHttp2ErrorCode()));, +        stream.close(ErrorCode.NO_ERROR);, +++ b/CHANGELOG.md, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +          stream.close(ErrorCode.fromHttp2(peekedResponse.getHttp2ErrorCode()));, +        stream.close(ErrorCode.NO_ERROR);, +++ b/okhttp-sse/src/main/java/okhttp3/internal/sse/RealEventSource.java, +    call.timeout().clearTimeout();, +++ b/CHANGELOG.md, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +          stream.close(ErrorCode.fromHttp2(peekedResponse.getHttp2ErrorCode()));, +        stream.close(ErrorCode.NO_ERROR);, +++ b/okhttp-sse/src/main/java/okhttp3/internal/sse/RealEventSource.java, +    call.timeout().clearTimeout();, +++ b/okhttp-sse/src/test/java/okhttp3/internal/sse/EventSourceHttpTest.java, +  @Test public void callTimeoutIsNotApplied() throws Exception {, +        .callTimeout(100, TimeUnit.MILLISECONDS), +++ b/CHANGELOG.md, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +          stream.close(ErrorCode.fromHttp2(peekedResponse.getHttp2ErrorCode()));, +        stream.close(ErrorCode.NO_ERROR);, +++ b/okhttp-sse/src/main/java/okhttp3/internal/sse/RealEventSource.java, +    call.timeout().clearTimeout();, +++ b/okhttp-sse/src/test/java/okhttp3/internal/sse/EventSourceHttpTest.java, +  @Test public void callTimeoutIsNotApplied() throws Exception {, +        .callTimeout(100, TimeUnit.MILLISECONDS), +++ b/okhttp-tests/src/test/java/okhttp3/CallTest.java, +    // TODO https://github.com/square/okhttp/issues/4598, +//    java.util.NoSuchElementException, +//    at java.base/java.util.ArrayDeque.removeFirst(ArrayDeque.java:363), +//    at okhttp3.internal.tls.BasicCertificateChainCleaner.clean(BasicCertificateChainCleaner.java:58), +//    at okhttp3.CertificatePinner.check(CertificatePinner.java:166), +++ b/CHANGELOG.md, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +          stream.close(ErrorCode.fromHttp2(peekedResponse.getHttp2ErrorCode()));, +        stream.close(ErrorCode.NO_ERROR);, +++ b/okhttp-sse/src/main/java/okhttp3/internal/sse/RealEventSource.java, +    call.timeout().clearTimeout();, +++ b/okhttp-sse/src/test/java/okhttp3/internal/sse/EventSourceHttpTest.java, +  @Test public void callTimeoutIsNotApplied() throws Exception {, +        .callTimeout(100, TimeUnit.MILLISECONDS), +++ b/okhttp-tests/src/test/java/okhttp3/CallTest.java, +    // TODO https://github.com/square/okhttp/issues/4598, +//    java.util.NoSuchElementException, +//    at java.base/java.util.ArrayDeque.removeFirst(ArrayDeque.java:363), +//    at okhttp3.internal.tls.BasicCertificateChainCleaner.clean(BasicCertificateChainCleaner.java:58), +//    at okhttp3.CertificatePinner.check(CertificatePinner.java:166), +++ b/okhttp-tests/src/test/java/okhttp3/internal/http2/Http2ConnectionTest.java, +  @Rule public final TestRule timeout = new Timeout(5_000);, +    stream1.close(ErrorCode.CANCEL);, +    } catch (IOException expected) {, +      assertEquals("stream was reset: PROTOCOL_ERROR", expected.getMessage());, +      assertEquals("stream was reset: PROTOCOL_ERROR", expected.getMessage());, +++ b/CHANGELOG.md, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +          stream.close(ErrorCode.fromHttp2(peekedResponse.getHttp2ErrorCode()));, +        stream.close(ErrorCode.NO_ERROR);, +++ b/okhttp-sse/src/main/java/okhttp3/internal/sse/RealEventSource.java, +    call.timeout().clearTimeout();, +++ b/okhttp-sse/src/test/java/okhttp3/internal/sse/EventSourceHttpTest.java, +  @Test public void callTimeoutIsNotApplied() throws Exception {, +        .callTimeout(100, TimeUnit.MILLISECONDS), +++ b/okhttp-tests/src/test/java/okhttp3/CallTest.java, +    // TODO https://github.com/square/okhttp/issues/4598, +//    java.util.NoSuchElementException, +//    at java.base/java.util.ArrayDeque.removeFirst(ArrayDeque.java:363), +//    at okhttp3.internal.tls.BasicCertificateChainCleaner.clean(BasicCertificateChainCleaner.java:58), +//    at okhttp3.CertificatePinner.check(CertificatePinner.java:166), +++ b/okhttp-tests/src/test/java/okhttp3/internal/http2/Http2ConnectionTest.java, +  @Rule public final TestRule timeout = new Timeout(5_000);, +    stream1.close(ErrorCode.CANCEL);, +    } catch (IOException expected) {, +      assertEquals("stream was reset: PROTOCOL_ERROR", expected.getMessage());, +      assertEquals("stream was reset: PROTOCOL_ERROR", expected.getMessage());, +++ b/okhttp-tests/src/test/java/okhttp3/internal/http2/HttpOverHttp2Test.java, +        fail();, +++ b/CHANGELOG.md, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +          stream.close(ErrorCode.fromHttp2(peekedResponse.getHttp2ErrorCode()));, +        stream.close(ErrorCode.NO_ERROR);, +++ b/okhttp-sse/src/main/java/okhttp3/internal/sse/RealEventSource.java, +    call.timeout().clearTimeout();, +++ b/okhttp-sse/src/test/java/okhttp3/internal/sse/EventSourceHttpTest.java, +  @Test public void callTimeoutIsNotApplied() throws Exception {, +        .callTimeout(100, TimeUnit.MILLISECONDS), +++ b/okhttp-tests/src/test/java/okhttp3/CallTest.java, +    // TODO https://github.com/square/okhttp/issues/4598, +//    java.util.NoSuchElementException, +//    at java.base/java.util.ArrayDeque.removeFirst(ArrayDeque.java:363), +//    at okhttp3.internal.tls.BasicCertificateChainCleaner.clean(BasicCertificateChainCleaner.java:58), +//    at okhttp3.CertificatePinner.check(CertificatePinner.java:166), +++ b/okhttp-tests/src/test/java/okhttp3/internal/http2/Http2ConnectionTest.java, +  @Rule public final TestRule timeout = new Timeout(5_000);, +    stream1.close(ErrorCode.CANCEL);, +    } catch (IOException expected) {, +      assertEquals("stream was reset: PROTOCOL_ERROR", expected.getMessage());, +      assertEquals("stream was reset: PROTOCOL_ERROR", expected.getMessage());]