[+++ b/okhttp/src/main/java/okhttp3/internal/platform/AndroidPlatform.java, +      return api24IsCleartextTrafficPermitted(hostname, networkPolicyClass, networkSecurityPolicy);, +  private boolean api24IsCleartextTrafficPermitted(String hostname, Class<?> networkPolicyClass,, +      Object networkSecurityPolicy) throws InvocationTargetException, IllegalAccessException {, +    try {, +      Method isCleartextTrafficPermittedMethod = networkPolicyClass, +          .getMethod("isCleartextTrafficPermitted", String.class);, +      return (boolean) isCleartextTrafficPermittedMethod.invoke(networkSecurityPolicy, hostname);, +    } catch (NoSuchMethodException e) {, +      return api23IsCleartextTrafficPermitted(hostname, networkPolicyClass, networkSecurityPolicy);, +    }, +  }, +, +  private boolean api23IsCleartextTrafficPermitted(String hostname, Class<?> networkPolicyClass,, +      Object networkSecurityPolicy) throws InvocationTargetException, IllegalAccessException {, +    try {, +      Method isCleartextTrafficPermittedMethod = networkPolicyClass, +          .getMethod("isCleartextTrafficPermitted");, +      return (boolean) isCleartextTrafficPermittedMethod.invoke(networkSecurityPolicy);, +    } catch (NoSuchMethodException e) {, +      return super.isCleartextTrafficPermitted(hostname);, +    }, +  }, +]