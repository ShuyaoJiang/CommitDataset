[+++ b/okhttp-tests/src/main/java/okhttp3/TestTls13Request.java, +    Security.insertProviderAt(Conscrypt.newProviderBuilder().provideTrustManager().build(), 1);, +    System.out.println(, +        "Running tests using " + Platform.get() + " " + System.getProperty("java.vm.version"));, +    System.out.println("TLS1.3+TLS1.2");, +    testClient(urls, buildClient(ConnectionSpec.RESTRICTED_TLS));, +, +    System.out.println("\nTLS1.3 only");, +    System.out.println(Platform.get());, +, +++ b/okhttp-tests/src/main/java/okhttp3/TestTls13Request.java, +    Security.insertProviderAt(Conscrypt.newProviderBuilder().provideTrustManager().build(), 1);, +    System.out.println(, +        "Running tests using " + Platform.get() + " " + System.getProperty("java.vm.version"));, +    System.out.println("TLS1.3+TLS1.2");, +    testClient(urls, buildClient(ConnectionSpec.RESTRICTED_TLS));, +, +    System.out.println("\nTLS1.3 only");, +    System.out.println(Platform.get());, +, +++ b/okhttp/src/main/java/okhttp3/internal/platform/ConscryptPlatform.java, +    return Conscrypt.newProviderBuilder().provideTrustManager().build();, +      return SSLContext.getInstance("TLSv1.3", getProvider());, +      try {, +        // Allow for Conscrypt 1.2, +        return SSLContext.getInstance("TLS", getProvider());, +      } catch (NoSuchAlgorithmException e2) {, +  }, +  public static ConscryptPlatform buildIfSupported() {, +      // Trigger an early exception over a fatal error, prefer a RuntimeException over Error., +      Class.forName("org.conscrypt.Conscrypt");, +++ b/okhttp-tests/src/main/java/okhttp3/TestTls13Request.java, +    Security.insertProviderAt(Conscrypt.newProviderBuilder().provideTrustManager().build(), 1);, +    System.out.println(, +        "Running tests using " + Platform.get() + " " + System.getProperty("java.vm.version"));, +    System.out.println("TLS1.3+TLS1.2");, +    testClient(urls, buildClient(ConnectionSpec.RESTRICTED_TLS));, +, +    System.out.println("\nTLS1.3 only");, +    System.out.println(Platform.get());, +, +++ b/okhttp/src/main/java/okhttp3/internal/platform/ConscryptPlatform.java, +    return Conscrypt.newProviderBuilder().provideTrustManager().build();, +      return SSLContext.getInstance("TLSv1.3", getProvider());, +      try {, +        // Allow for Conscrypt 1.2, +        return SSLContext.getInstance("TLS", getProvider());, +      } catch (NoSuchAlgorithmException e2) {, +  }, +  public static ConscryptPlatform buildIfSupported() {, +      // Trigger an early exception over a fatal error, prefer a RuntimeException over Error., +      Class.forName("org.conscrypt.Conscrypt");, +++ b/pom.xml, +    <conscrypt.version>1.3.0</conscrypt.version>]