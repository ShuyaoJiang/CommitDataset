[+++ b/okhttp-tests/src/test/java/okhttp3/HttpUrlTest.java, +  @Test public void parsedQueryDoesntIncludeFragment() {, +    HttpUrl url = HttpUrl.parse("http://host/?#fragment");, +    assertEquals("fragment", url.fragment());, +    assertEquals("", url.query());, +    assertEquals("", url.encodedQuery());, +  }, +, +++ b/okhttp-tests/src/test/java/okhttp3/HttpUrlTest.java, +  @Test public void parsedQueryDoesntIncludeFragment() {, +    HttpUrl url = HttpUrl.parse("http://host/?#fragment");, +    assertEquals("fragment", url.fragment());, +    assertEquals("", url.query());, +    assertEquals("", url.encodedQuery());, +  }, +, +++ b/okhttp/src/main/java/okhttp3/HttpUrl.java, +    int queryEnd = delimiterOffset(url, queryStart, url.length(), '#');]