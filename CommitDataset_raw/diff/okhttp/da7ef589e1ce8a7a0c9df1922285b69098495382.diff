[+++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/rule/MockWebServerRule.java, +  private boolean started;, +    if (started) return;, +    started = true;, +      server.play();, +    if (!started) before();, +    return server.getPort();, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/rule/MockWebServerRule.java, +  private boolean started;, +    if (started) return;, +    started = true;, +      server.play();, +    if (!started) before();, +    return server.getPort();, +++ b/mockwebserver/src/test/java/com/squareup/okhttp/mockwebserver/rule/MockWebServerRuleTest.java, +  @Test public void whenRuleCreatedPortIsAvailable() throws IOException {]