[+++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +import com.squareup.okhttp.internal.http.HttpMethod;, +    MockResponse throttlePolicy = dispatcher.peek();, +      throttledTransfer(throttlePolicy, socket, source, Okio.buffer(requestBody), contentLength);, +        throttledTransfer(throttlePolicy, socket, source, Okio.buffer(requestBody), chunkSize);, +    String method = request.substring(0, request.indexOf(' '));, +    if (hasBody && !HttpMethod.permitsRequestBody(method)) {, +    throttledTransfer(response, socket, body, sink, body.size());, +   * throttled according to {@code throttlePolicy}., +  private void throttledTransfer(MockResponse throttlePolicy, Socket socket, BufferedSource source,, +      BufferedSink sink, long byteCount) throws IOException {, +    long bytesPerPeriod = throttlePolicy.getThrottleBytesPerPeriod();, +    long periodDelayMs = throttlePolicy.getThrottlePeriod(TimeUnit.MILLISECONDS);, +    boolean disconnectHalfway = throttlePolicy.getSocketPolicy() == DISCONNECT_DURING_RESPONSE_BODY;, +        throttledTransfer(response, socket, body, sink, bodyLimit);]