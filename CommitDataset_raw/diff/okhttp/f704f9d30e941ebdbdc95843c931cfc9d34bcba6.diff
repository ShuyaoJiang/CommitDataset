[+++ b/okhttp-tests/src/test/java/okhttp3/URLConnectionTest.java, +  @Test public void nullSSLSocketFactory_throws() throws Exception {, +    server.useHttps(sslClient.socketFactory, false /* tunnelProxy */);, +    HttpsURLConnection connection = (HttpsURLConnection) server.url("/").url().openConnection();, +    try {, +      connection.setSSLSocketFactory(null);, +      fail();, +    } catch (IllegalArgumentException expected) {, +    }, +  }, +, +++ b/okhttp-tests/src/test/java/okhttp3/URLConnectionTest.java, +  @Test public void nullSSLSocketFactory_throws() throws Exception {, +    server.useHttps(sslClient.socketFactory, false /* tunnelProxy */);, +    HttpsURLConnection connection = (HttpsURLConnection) server.url("/").url().openConnection();, +    try {, +      connection.setSSLSocketFactory(null);, +      fail();, +    } catch (IllegalArgumentException expected) {, +    }, +  }, +, +++ b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpsURLConnection.java, +    if (sslSocketFactory == null) {, +        throw new IllegalArgumentException("null sslSocketFactory");, +    }]