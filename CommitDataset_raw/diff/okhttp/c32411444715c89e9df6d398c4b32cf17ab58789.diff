[+++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +    if (serverSocket == null) throw new IllegalStateException("shutdown() before start()");, +, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +    if (serverSocket == null) throw new IllegalStateException("shutdown() before start()");, +, +++ b/mockwebserver/src/test/java/com/squareup/okhttp/mockwebserver/MockWebServerTest.java, +, +  @Test public void shutdownWithoutStart() throws IOException {, +    MockWebServer server = new MockWebServer();, +    try {, +      server.shutdown();, +      fail();, +    } catch (IllegalStateException expected) {, +    }, +  }, +, +  @Test public void shutdownWithoutEnqueue() throws IOException {, +    MockWebServer server = new MockWebServer();, +    server.start();, +    server.shutdown();, +  }]