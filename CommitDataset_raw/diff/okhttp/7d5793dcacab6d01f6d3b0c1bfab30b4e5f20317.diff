[+++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/MockWebServerTest.java, +  @Test public void disconnectRequestHalfway() throws IOException {, +    assertEquals(512f, i, 20f); // Halfway +/- 2%, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/MockWebServerTest.java, +  @Test public void disconnectRequestHalfway() throws IOException {, +    assertEquals(512f, i, 20f); // Halfway +/- 2%, +++ b/okhttp-sse/src/main/java/okhttp3/EventSource.java, +/*, + * Copyright (C) 2018 Square, Inc., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +package okhttp3;, +, +public interface EventSource {, +  /** Returns the original request that initiated this event source. */, +  Request request();, +, +  /**, +   * Immediately and violently release resources held by this event source. This does nothing if, +   * the event source has already been closed or canceled., +   */, +  void cancel();, +, +  interface Factory {, +    /**, +     * Creates a new event source and immediately returns it. Creating an event source initiates an, +     * asynchronous process to connect the socket. Once that succeeds or fails, {@code listener}, +     * will be notified. The caller must cancel the returned event source when it is no longer, +     * in use., +     */, +    EventSource newEventSource(Request request, EventSourceListener listener);, +  }, +}, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/MockWebServerTest.java, +  @Test public void disconnectRequestHalfway() throws IOException {, +    assertEquals(512f, i, 20f); // Halfway +/- 2%, +++ b/okhttp-sse/src/main/java/okhttp3/EventSource.java, +/*, + * Copyright (C) 2018 Square, Inc., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +package okhttp3;, +, +public interface EventSource {, +  /** Returns the original request that initiated this event source. */, +  Request request();, +, +  /**, +   * Immediately and violently release resources held by this event source. This does nothing if, +   * the event source has already been closed or canceled., +   */, +  void cancel();, +, +  interface Factory {, +    /**, +     * Creates a new event source and immediately returns it. Creating an event source initiates an, +     * asynchronous process to connect the socket. Once that succeeds or fails, {@code listener}, +     * will be notified. The caller must cancel the returned event source when it is no longer, +     * in use., +     */, +    EventSource newEventSource(Request request, EventSourceListener listener);, +  }, +}, +++ b/okhttp-sse/src/main/java/okhttp3/EventSourceListener.java, +/*, + * Copyright (C) 2018 Square, Inc., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License.]