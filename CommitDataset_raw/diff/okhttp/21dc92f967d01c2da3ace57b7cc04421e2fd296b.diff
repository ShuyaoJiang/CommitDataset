[+++ b/mockwebserver/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/mockwebserver/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +      // TODO: support HTTP/2.0., +      // 17, 'H', 'T', 'T', 'P', '-', 'd', 'r', 'a', 'f', 't', '-', '0', '4', '/', '2', '.', '0',, +  private static final byte[] HTTP_20_DRAFT_04 = new byte[] {, +      'H', 'T', 'T', 'P', '-', 'd', 'r', 'a', 'f', 't', '-', '0', '4', '/', '2', '.', '0', +  };, +            } else if (Arrays.equals(selectedProtocol, HTTP_20_DRAFT_04)) {, +              transport = Transport.HTTP_20_DRAFT_04;, +        if (transport == Transport.SPDY_3 || transport == Transport.HTTP_20_DRAFT_04) {, +          SpdyConnection.Builder builder = new SpdyConnection.Builder(false, socket), +              .handler(spdySocketHandler);, +          if (transport == Transport.SPDY_3) {, +            builder.spdy3();, +          } else {, +            builder.http20Draft04();, +          }, +          SpdyConnection spdyConnection = builder.build();, +          spdyConnection.sendConnectionHeader();, +    HTTP_11, SPDY_3, HTTP_20_DRAFT_04, +++ b/mockwebserver/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +      // TODO: support HTTP/2.0., +      // 17, 'H', 'T', 'T', 'P', '-', 'd', 'r', 'a', 'f', 't', '-', '0', '4', '/', '2', '.', '0',, +  private static final byte[] HTTP_20_DRAFT_04 = new byte[] {, +      'H', 'T', 'T', 'P', '-', 'd', 'r', 'a', 'f', 't', '-', '0', '4', '/', '2', '.', '0', +  };, +            } else if (Arrays.equals(selectedProtocol, HTTP_20_DRAFT_04)) {, +              transport = Transport.HTTP_20_DRAFT_04;, +        if (transport == Transport.SPDY_3 || transport == Transport.HTTP_20_DRAFT_04) {, +          SpdyConnection.Builder builder = new SpdyConnection.Builder(false, socket), +              .handler(spdySocketHandler);, +          if (transport == Transport.SPDY_3) {, +            builder.spdy3();, +          } else {, +            builder.http20Draft04();, +          }, +          SpdyConnection spdyConnection = builder.build();, +          spdyConnection.sendConnectionHeader();, +    HTTP_11, SPDY_3, HTTP_20_DRAFT_04, +++ b/okhttp-apache/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/mockwebserver/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +      // TODO: support HTTP/2.0., +      // 17, 'H', 'T', 'T', 'P', '-', 'd', 'r', 'a', 'f', 't', '-', '0', '4', '/', '2', '.', '0',, +  private static final byte[] HTTP_20_DRAFT_04 = new byte[] {, +      'H', 'T', 'T', 'P', '-', 'd', 'r', 'a', 'f', 't', '-', '0', '4', '/', '2', '.', '0', +  };, +            } else if (Arrays.equals(selectedProtocol, HTTP_20_DRAFT_04)) {, +              transport = Transport.HTTP_20_DRAFT_04;, +        if (transport == Transport.SPDY_3 || transport == Transport.HTTP_20_DRAFT_04) {, +          SpdyConnection.Builder builder = new SpdyConnection.Builder(false, socket), +              .handler(spdySocketHandler);, +          if (transport == Transport.SPDY_3) {, +            builder.spdy3();, +          } else {, +            builder.http20Draft04();, +          }, +          SpdyConnection spdyConnection = builder.build();, +          spdyConnection.sendConnectionHeader();, +    HTTP_11, SPDY_3, HTTP_20_DRAFT_04, +++ b/okhttp-apache/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/okhttp-protocols/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/mockwebserver/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +      // TODO: support HTTP/2.0., +      // 17, 'H', 'T', 'T', 'P', '-', 'd', 'r', 'a', 'f', 't', '-', '0', '4', '/', '2', '.', '0',, +  private static final byte[] HTTP_20_DRAFT_04 = new byte[] {, +      'H', 'T', 'T', 'P', '-', 'd', 'r', 'a', 'f', 't', '-', '0', '4', '/', '2', '.', '0', +  };, +            } else if (Arrays.equals(selectedProtocol, HTTP_20_DRAFT_04)) {, +              transport = Transport.HTTP_20_DRAFT_04;, +        if (transport == Transport.SPDY_3 || transport == Transport.HTTP_20_DRAFT_04) {, +          SpdyConnection.Builder builder = new SpdyConnection.Builder(false, socket), +              .handler(spdySocketHandler);, +          if (transport == Transport.SPDY_3) {, +            builder.spdy3();, +          } else {, +            builder.http20Draft04();, +          }, +          SpdyConnection spdyConnection = builder.build();, +          spdyConnection.sendConnectionHeader();, +    HTTP_11, SPDY_3, HTTP_20_DRAFT_04, +++ b/okhttp-apache/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/okhttp-protocols/pom.xml, +    <version>1.1.2-SNAPSHOT</version>, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/Http20Draft04.java, +/*, + * Copyright (C) 2013 Square, Inc., + *]