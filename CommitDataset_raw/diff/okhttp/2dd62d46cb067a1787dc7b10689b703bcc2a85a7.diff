[+++ b/CHANGELOG.md, +## Version 1.5.4, +, +_2014-04-14_, +, + * Drop ALPN support in Android. There's a concurrency bug in all, +   currently-shipping versions., + * Support asynchronous disconnects by breaking the socket only. This should, +   prevent flakiness from multiple threads concurrently accessing a stream., +, +++ b/CHANGELOG.md, +## Version 1.5.4, +, +_2014-04-14_, +, + * Drop ALPN support in Android. There's a concurrency bug in all, +   currently-shipping versions., + * Support asynchronous disconnects by breaking the socket only. This should, +   prevent flakiness from multiple threads concurrently accessing a stream., +, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +import javax.net.ssl.HostnameVerifier;, +import javax.net.ssl.SSLSession;, +      client.setHostnameVerifier(createInsecureHostnameVerifier());, +, +  private static HostnameVerifier createInsecureHostnameVerifier() {, +    return new HostnameVerifier() {, +      @Override public boolean verify(String s, SSLSession sslSession) {, +        return true;, +      }, +    };, +  }, +++ b/CHANGELOG.md, +## Version 1.5.4, +, +_2014-04-14_, +, + * Drop ALPN support in Android. There's a concurrency bug in all, +   currently-shipping versions., + * Support asynchronous disconnects by breaking the socket only. This should, +   prevent flakiness from multiple threads concurrently accessing a stream., +, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +import javax.net.ssl.HostnameVerifier;, +import javax.net.ssl.SSLSession;, +      client.setHostnameVerifier(createInsecureHostnameVerifier());, +, +  private static HostnameVerifier createInsecureHostnameVerifier() {, +    return new HostnameVerifier() {, +      @Override public boolean verify(String s, SSLSession sslSession) {, +        return true;, +      }, +    };, +  }, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/ConnectionPoolTest.java, +import javax.net.SocketFactory;, +    SocketFactory socketFactory = SocketFactory.getDefault();, +, +    httpAddress = new Address(httpServer.getHostName(), httpServer.getPort(), socketFactory, null,, +        null, HttpAuthenticator.SYSTEM_DEFAULT, null, Protocol.SPDY3_AND_HTTP11);, +    spdyAddress = new Address(spdyServer.getHostName(), spdyServer.getPort(), socketFactory,, +++ b/CHANGELOG.md, +## Version 1.5.4, +, +_2014-04-14_, +, + * Drop ALPN support in Android. There's a concurrency bug in all, +   currently-shipping versions., + * Support asynchronous disconnects by breaking the socket only. This should, +   prevent flakiness from multiple threads concurrently accessing a stream., +, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +import javax.net.ssl.HostnameVerifier;, +import javax.net.ssl.SSLSession;, +      client.setHostnameVerifier(createInsecureHostnameVerifier());, +, +  private static HostnameVerifier createInsecureHostnameVerifier() {, +    return new HostnameVerifier() {, +      @Override public boolean verify(String s, SSLSession sslSession) {, +        return true;, +      }, +    };, +  }, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/ConnectionPoolTest.java, +import javax.net.SocketFactory;, +    SocketFactory socketFactory = SocketFactory.getDefault();, +, +    httpAddress = new Address(httpServer.getHostName(), httpServer.getPort(), socketFactory, null,, +        null, HttpAuthenticator.SYSTEM_DEFAULT, null, Protocol.SPDY3_AND_HTTP11);, +    spdyAddress = new Address(spdyServer.getHostName(), spdyServer.getPort(), socketFactory,, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/MediaTypeTest.java, +    assertMediaType("text/plain;");, +    assertMediaType("text/plain; ");, +    assertMediaType("text/plain; a=1;");, +    assertMediaType("text/plain; a=1; ");, +    assertMediaType("text/plain; a=1;; b=2");, +    assertMediaType("text/plain;;");, +    assertMediaType("text/plain; ;");, +  @Test public void testParseDanglingSemicolon() throws Exception {, +    MediaType mediaType = MediaType.parse("text/plain;");]