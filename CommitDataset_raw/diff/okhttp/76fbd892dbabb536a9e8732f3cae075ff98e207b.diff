[+++ b/mockwebserver/src/main/java/com/squareup/okhttp/internal/spdy/SpdyServer.java, +        return Arrays.asList(Protocol.SPDY_3.toString());, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/internal/spdy/SpdyServer.java, +        return Arrays.asList(Protocol.SPDY_3.toString());, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +            ByteString protocolBytes = Platform.get().getNpnSelectedProtocol(sslSocket);, +            protocol = protocolBytes != null, +                ? Protocol.find(protocolBytes.utf8()), +                : Protocol.HTTP_11;, +            + " protocol is " + protocol.toString());, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/internal/spdy/SpdyServer.java, +        return Arrays.asList(Protocol.SPDY_3.toString());, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +            ByteString protocolBytes = Platform.get().getNpnSelectedProtocol(sslSocket);, +            protocol = protocolBytes != null, +                ? Protocol.find(protocolBytes.utf8()), +                : Protocol.HTTP_11;, +            + " protocol is " + protocol.toString());, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +    return Joiner.on(", ").join(Protocol.values());, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/internal/spdy/SpdyServer.java, +        return Arrays.asList(Protocol.SPDY_3.toString());, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +            ByteString protocolBytes = Platform.get().getNpnSelectedProtocol(sslSocket);, +            protocol = protocolBytes != null, +                ? Protocol.find(protocolBytes.utf8()), +                : Protocol.HTTP_11;, +            + " protocol is " + protocol.toString());, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +    return Joiner.on(", ").join(Protocol.values());, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/HeadersTest.java, +    assertEquals(Protocol.SPDY_3.toString(), headers.get(OkHeaders.SELECTED_PROTOCOL));, +    assertEquals(Protocol.SPDY_3.toString(), headers.value(0));, +    assertEquals(Protocol.SPDY_3.toString(), headers.value(0));, +    assertEquals(Protocol.HTTP_2.toString(), headers.value(0));, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/internal/spdy/SpdyServer.java, +        return Arrays.asList(Protocol.SPDY_3.toString());, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +            ByteString protocolBytes = Platform.get().getNpnSelectedProtocol(sslSocket);, +            protocol = protocolBytes != null, +                ? Protocol.find(protocolBytes.utf8()), +                : Protocol.HTTP_11;, +            + " protocol is " + protocol.toString());, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +    return Joiner.on(", ").join(Protocol.values());, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/HeadersTest.java, +    assertEquals(Protocol.SPDY_3.toString(), headers.get(OkHeaders.SELECTED_PROTOCOL));, +    assertEquals(Protocol.SPDY_3.toString(), headers.value(0));, +    assertEquals(Protocol.SPDY_3.toString(), headers.value(0));, +    assertEquals(Protocol.HTTP_2.toString(), headers.value(0));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/URLConnectionTest.java, +    assertEquals(Arrays.asList(protocol.toString()), protocolValues);, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/internal/spdy/SpdyServer.java, +        return Arrays.asList(Protocol.SPDY_3.toString());, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +            ByteString protocolBytes = Platform.get().getNpnSelectedProtocol(sslSocket);, +            protocol = protocolBytes != null, +                ? Protocol.find(protocolBytes.utf8()), +                : Protocol.HTTP_11;, +            + " protocol is " + protocol.toString());, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +    return Joiner.on(", ").join(Protocol.values());, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/HeadersTest.java, +    assertEquals(Protocol.SPDY_3.toString(), headers.get(OkHeaders.SELECTED_PROTOCOL));, +    assertEquals(Protocol.SPDY_3.toString(), headers.value(0));, +    assertEquals(Protocol.SPDY_3.toString(), headers.value(0));, +    assertEquals(Protocol.HTTP_2.toString(), headers.value(0));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/URLConnectionTest.java, +    assertEquals(Arrays.asList(protocol.toString()), protocolValues);, +++ b/okhttp/src/main/java/com/squareup/okhttp/Connection.java, +      selectedProtocol = Protocol.find(maybeProtocol.utf8()); // Throws IOE on unknown., +++ b/mockwebserver/src/main/java/com/squareup/okhttp/internal/spdy/SpdyServer.java, +        return Arrays.asList(Protocol.SPDY_3.toString());, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +            ByteString protocolBytes = Platform.get().getNpnSelectedProtocol(sslSocket);, +            protocol = protocolBytes != null, +                ? Protocol.find(protocolBytes.utf8()), +                : Protocol.HTTP_11;, +            + " protocol is " + protocol.toString());, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +    return Joiner.on(", ").join(Protocol.values());, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/HeadersTest.java, +    assertEquals(Protocol.SPDY_3.toString(), headers.get(OkHeaders.SELECTED_PROTOCOL));, +    assertEquals(Protocol.SPDY_3.toString(), headers.value(0));, +    assertEquals(Protocol.SPDY_3.toString(), headers.value(0));, +    assertEquals(Protocol.HTTP_2.toString(), headers.value(0));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/URLConnectionTest.java, +    assertEquals(Arrays.asList(protocol.toString()), protocolValues);, +++ b/okhttp/src/main/java/com/squareup/okhttp/Connection.java, +      selectedProtocol = Protocol.find(maybeProtocol.utf8()); // Throws IOE on unknown., +++ b/okhttp/src/main/java/com/squareup/okhttp/HttpResponseCache.java, +      writer.write(url + '\n');, +      writer.write(requestMethod + '\n');, +      writer.write(Integer.toString(varyHeaders.size()) + '\n');, +        writer.write(varyHeaders.name(i) + ": " + varyHeaders.value(i) + '\n');, +      writer.write(statusLine + '\n');, +      writer.write(Integer.toString(responseHeaders.size()) + '\n');, +        writer.write(responseHeaders.name(i) + ": " + responseHeaders.value(i) + '\n');, +        writer.write(handshake.cipherSuite() + '\n');, +        writer.write(Integer.toString(certificates.size()) + '\n');]