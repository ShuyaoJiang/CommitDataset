[+++ b/okhttp/src/main/java/com/squareup/okhttp/Job.java, +import static com.squareup.okhttp.internal.http.StatusLine.HTTP_TEMP_REDIRECT;, +++ b/okhttp/src/main/java/com/squareup/okhttp/Job.java, +import static com.squareup.okhttp.internal.http.StatusLine.HTTP_TEMP_REDIRECT;, +++ b/okhttp/src/main/java/com/squareup/okhttp/OkHttpClient.java, +public final class OkHttpClient implements URLStreamHandlerFactory, Cloneable {, +   * Returns a shallow copy of this OkHttpClient that uses the system-wide, +   * default for each field that hasn't been explicitly configured., +    OkHttpClient result = clone();, +    if (result.proxySelector == null) {, +      result.proxySelector = ProxySelector.getDefault();, +    }, +    if (result.cookieHandler == null) {, +      result.cookieHandler = CookieHandler.getDefault();, +    }, +    if (result.responseCache == null) {, +      result.responseCache = toOkResponseCacheOrNull(ResponseCache.getDefault());, +    }, +    if (result.sslSocketFactory == null) {, +      result.sslSocketFactory = HttpsURLConnection.getDefaultSSLSocketFactory();, +    }, +    if (result.hostnameVerifier == null) {, +      result.hostnameVerifier = OkHostnameVerifier.INSTANCE;, +    }, +    if (result.authenticator == null) {, +      result.authenticator = HttpAuthenticator.SYSTEM_DEFAULT;, +    }, +    if (result.connectionPool == null) {, +      result.connectionPool = ConnectionPool.getDefault();, +    }, +    if (result.transports == null) {, +      result.transports = DEFAULT_TRANSPORTS;, +    }, +  /** Returns a shallow copy of this OkHttpClient. */, +  @Override public OkHttpClient clone() {, +    try {, +      return (OkHttpClient) super.clone();, +    } catch (CloneNotSupportedException e) {, +      throw new AssertionError();, +    }, +  }, +, +++ b/okhttp/src/main/java/com/squareup/okhttp/Job.java, +import static com.squareup.okhttp.internal.http.StatusLine.HTTP_TEMP_REDIRECT;, +++ b/okhttp/src/main/java/com/squareup/okhttp/OkHttpClient.java, +public final class OkHttpClient implements URLStreamHandlerFactory, Cloneable {, +   * Returns a shallow copy of this OkHttpClient that uses the system-wide, +   * default for each field that hasn't been explicitly configured., +    OkHttpClient result = clone();, +    if (result.proxySelector == null) {, +      result.proxySelector = ProxySelector.getDefault();, +    }, +    if (result.cookieHandler == null) {, +      result.cookieHandler = CookieHandler.getDefault();, +    }, +    if (result.responseCache == null) {, +      result.responseCache = toOkResponseCacheOrNull(ResponseCache.getDefault());, +    }, +    if (result.sslSocketFactory == null) {, +      result.sslSocketFactory = HttpsURLConnection.getDefaultSSLSocketFactory();, +    }, +    if (result.hostnameVerifier == null) {, +      result.hostnameVerifier = OkHostnameVerifier.INSTANCE;, +    }, +    if (result.authenticator == null) {, +      result.authenticator = HttpAuthenticator.SYSTEM_DEFAULT;, +    }, +    if (result.connectionPool == null) {, +      result.connectionPool = ConnectionPool.getDefault();, +    }, +    if (result.transports == null) {, +      result.transports = DEFAULT_TRANSPORTS;, +    }, +  /** Returns a shallow copy of this OkHttpClient. */, +  @Override public OkHttpClient clone() {, +    try {, +      return (OkHttpClient) super.clone();, +    } catch (CloneNotSupportedException e) {, +      throw new AssertionError();, +    }, +  }, +, +++ b/okhttp/src/main/java/com/squareup/okhttp/internal/http/HttpEngine.java, +import static com.squareup.okhttp.internal.http.StatusLine.HTTP_CONTINUE;, +import static java.net.HttpURLConnection.HTTP_NOT_MODIFIED;, +import static java.net.HttpURLConnection.HTTP_NO_CONTENT;, +      if (request.isHttps()) {, +    // Update the policy to tell 'em which proxy we ended up going with., +    if (response == null) throw new IllegalStateException();, +        && responseCode != HTTP_NO_CONTENT, +        && responseCode != HTTP_NOT_MODIFIED) {, +      maybeCache();, +++ b/okhttp/src/main/java/com/squareup/okhttp/Job.java, +import static com.squareup.okhttp.internal.http.StatusLine.HTTP_TEMP_REDIRECT;, +++ b/okhttp/src/main/java/com/squareup/okhttp/OkHttpClient.java, +public final class OkHttpClient implements URLStreamHandlerFactory, Cloneable {, +   * Returns a shallow copy of this OkHttpClient that uses the system-wide, +   * default for each field that hasn't been explicitly configured., +    OkHttpClient result = clone();, +    if (result.proxySelector == null) {]