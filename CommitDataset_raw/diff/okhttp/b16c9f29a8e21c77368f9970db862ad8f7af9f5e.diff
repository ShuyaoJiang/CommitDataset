[+++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +        String[] parts = header.split(":", -1);, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +        String[] parts = header.split(":", -1);, +++ b/okcurl/src/test/java/com/squareup/okhttp/curl/MainTest.java, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +        String[] parts = header.split(":", -1);, +++ b/okcurl/src/test/java/com/squareup/okhttp/curl/MainTest.java, +++ b/okhttp-apache/pom.xml, +    <dependency>, +      <groupId>com.squareup.okhttp</groupId>, +      <artifactId>mockwebserver</artifactId>, +      <version>${project.version}</version>, +      <scope>test</scope>, +    </dependency>, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +        String[] parts = header.split(":", -1);, +++ b/okcurl/src/test/java/com/squareup/okhttp/curl/MainTest.java, +++ b/okhttp-apache/pom.xml, +    <dependency>, +      <groupId>com.squareup.okhttp</groupId>, +      <artifactId>mockwebserver</artifactId>, +      <version>${project.version}</version>, +      <scope>test</scope>, +    </dependency>, +++ b/okhttp-apache/src/main/java/com/squareup/okhttp/apache/HttpEntityBody.java, +  private static final MediaType DEFAULT_MEDIA_TYPE = MediaType.parse("application/octet-stream");, +  HttpEntityBody(HttpEntity entity, String contentTypeHeader) {, +    if (contentTypeHeader != null) {, +      mediaType = MediaType.parse(contentTypeHeader);, +    } else if (entity.getContentType() != null) {, +      mediaType = MediaType.parse(entity.getContentType().getValue());, +    } else {, +      mediaType = DEFAULT_MEDIA_TYPE;, +    }, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +        String[] parts = header.split(":", -1);, +++ b/okcurl/src/test/java/com/squareup/okhttp/curl/MainTest.java, +++ b/okhttp-apache/pom.xml, +    <dependency>, +      <groupId>com.squareup.okhttp</groupId>, +      <artifactId>mockwebserver</artifactId>, +      <version>${project.version}</version>, +      <scope>test</scope>, +    </dependency>, +++ b/okhttp-apache/src/main/java/com/squareup/okhttp/apache/HttpEntityBody.java, +  private static final MediaType DEFAULT_MEDIA_TYPE = MediaType.parse("application/octet-stream");, +  HttpEntityBody(HttpEntity entity, String contentTypeHeader) {, +    if (contentTypeHeader != null) {, +      mediaType = MediaType.parse(contentTypeHeader);, +    } else if (entity.getContentType() != null) {, +      mediaType = MediaType.parse(entity.getContentType().getValue());, +    } else {, +      mediaType = DEFAULT_MEDIA_TYPE;, +    }, +++ b/okhttp-apache/src/main/java/com/squareup/okhttp/apache/OkApacheClient.java, +    String contentType = null;, +      String name = header.getName();, +      if ("Content-Type".equals(name)) {, +        contentType = header.getValue();, +      } else {, +        builder.header(name, header.getValue());, +      }, +        body = new HttpEntityBody(entity, contentType);, +++ b/okcurl/src/main/java/com/squareup/okhttp/curl/Main.java, +        String[] parts = header.split(":", -1);, +++ b/okcurl/src/test/java/com/squareup/okhttp/curl/MainTest.java, +++ b/okhttp-apache/pom.xml, +    <dependency>, +      <groupId>com.squareup.okhttp</groupId>, +      <artifactId>mockwebserver</artifactId>, +      <version>${project.version}</version>, +      <scope>test</scope>, +    </dependency>, +++ b/okhttp-apache/src/main/java/com/squareup/okhttp/apache/HttpEntityBody.java, +  private static final MediaType DEFAULT_MEDIA_TYPE = MediaType.parse("application/octet-stream");, +  HttpEntityBody(HttpEntity entity, String contentTypeHeader) {, +    if (contentTypeHeader != null) {, +      mediaType = MediaType.parse(contentTypeHeader);, +    } else if (entity.getContentType() != null) {, +      mediaType = MediaType.parse(entity.getContentType().getValue());, +    } else {, +      mediaType = DEFAULT_MEDIA_TYPE;, +    }, +++ b/okhttp-apache/src/main/java/com/squareup/okhttp/apache/OkApacheClient.java, +    String contentType = null;, +      String name = header.getName();, +      if ("Content-Type".equals(name)) {, +        contentType = header.getValue();, +      } else {, +        builder.header(name, header.getValue());, +      }, +        body = new HttpEntityBody(entity, contentType);, +++ b/okhttp-apache/src/test/java/com/squareup/okhttp/apache/OkApacheClientTest.java, +import org.apache.http.entity.StringEntity;, +  @Test public void postOverrideContentType() throws Exception {, +    server.enqueue(new MockResponse());, +, +    HttpPost httpPost = new HttpPost();, +    httpPost.setURI(server.getUrl("/").toURI());]