[+++ b/okhttp/src/main/java/okhttp3/internal/http/RetryAndFollowUpInterceptor.java, +  private volatile StreamAllocation streamAllocation;, +    StreamAllocation streamAllocation = new StreamAllocation(client.connectionPool(),, +        createAddress(request.url()), call, eventListener, callStackTrace);, +    this.streamAllocation = streamAllocation;, +        if (!recover(e.getLastConnectException(), streamAllocation, false, request)) {, +        if (!recover(e, streamAllocation, requestSendStarted, request)) throw e;, +      Request followUp = followUpRequest(response, streamAllocation.connection());, +        this.streamAllocation = streamAllocation;, +  private boolean recover(IOException e, StreamAllocation streamAllocation,, +      boolean requestSendStarted, Request userRequest) {, +  private Request followUpRequest(Response userResponse, Connection connection) throws IOException {]