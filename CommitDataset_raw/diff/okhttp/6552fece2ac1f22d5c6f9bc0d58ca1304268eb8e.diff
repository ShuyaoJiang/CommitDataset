[+++ b/okhttp-tests/src/test/java/okhttp3/OkHttpClientTest.java, +import javax.net.ssl.SSLSocketFactory;, +, +  @Test public void sslSocketFactorySetAsSocketFactory() throws Exception {, +    OkHttpClient.Builder builder = new OkHttpClient.Builder();, +    try {, +      builder.socketFactory(SSLSocketFactory.getDefault());, +      fail();, +    } catch (IllegalArgumentException expected) {, +    }, +  }, +++ b/okhttp-tests/src/test/java/okhttp3/OkHttpClientTest.java, +import javax.net.ssl.SSLSocketFactory;, +, +  @Test public void sslSocketFactorySetAsSocketFactory() throws Exception {, +    OkHttpClient.Builder builder = new OkHttpClient.Builder();, +    try {, +      builder.socketFactory(SSLSocketFactory.getDefault());, +      fail();, +    } catch (IllegalArgumentException expected) {, +    }, +  }, +++ b/okhttp/src/main/java/okhttp3/OkHttpClient.java, +      if (socketFactory instanceof SSLSocketFactory) {, +        throw new IllegalArgumentException("socketFactory instanceof SSLSocketFactory");, +      }]