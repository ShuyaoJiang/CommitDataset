[+++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/FrameWriter.java, +, +  /**, +   * {@code data.length} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +, +  /**, +   * {@code byteCount} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/FrameWriter.java, +, +  /**, +   * {@code data.length} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +, +  /**, +   * {@code byteCount} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/Http20Draft09.java, +      sendDataFrame(streamId, flags, data, offset, byteCount);, +    }, +, +    void sendDataFrame(int streamId, int flags, byte[] data, int offset, int byteCount), +        throws IOException {, +      out.writeInt((byteCount & 0x3fff) << 16 | (TYPE_DATA & 0xff) << 8 | (flags & 0xff));, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/FrameWriter.java, +, +  /**, +   * {@code data.length} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +, +  /**, +   * {@code byteCount} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/Http20Draft09.java, +      sendDataFrame(streamId, flags, data, offset, byteCount);, +    }, +, +    void sendDataFrame(int streamId, int flags, byte[] data, int offset, int byteCount), +        throws IOException {, +      out.writeInt((byteCount & 0x3fff) << 16 | (TYPE_DATA & 0xff) << 8 | (flags & 0xff));, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/Spdy3.java, +      // TODO: Implement looping strategy., +      sendDataFrame(streamId, flags, data, offset, byteCount);, +    }, +, +    void sendDataFrame(int streamId, int flags, byte[] data, int offset, int byteCount), +        throws IOException {, +      if (byteCount > 0xffffff) {, +        throw new IOException("FRAME_TOO_LARGE max size is 16Mib: " + byteCount);, +      }, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/FrameWriter.java, +, +  /**, +   * {@code data.length} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +, +  /**, +   * {@code byteCount} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/Http20Draft09.java, +      sendDataFrame(streamId, flags, data, offset, byteCount);, +    }, +, +    void sendDataFrame(int streamId, int flags, byte[] data, int offset, int byteCount), +        throws IOException {, +      out.writeInt((byteCount & 0x3fff) << 16 | (TYPE_DATA & 0xff) << 8 | (flags & 0xff));, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/Spdy3.java, +      // TODO: Implement looping strategy., +      sendDataFrame(streamId, flags, data, offset, byteCount);, +    }, +, +    void sendDataFrame(int streamId, int flags, byte[] data, int offset, int byteCount), +        throws IOException {, +      if (byteCount > 0xffffff) {, +        throw new IOException("FRAME_TOO_LARGE max size is 16Mib: " + byteCount);, +      }, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/SpdyStream.java, +  static final int OUTPUT_BUFFER_SIZE = 8192;, +    private final byte[] buffer = SpdyStream.this.connection.bufferPool.getBuf(OUTPUT_BUFFER_SIZE);, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/FrameWriter.java, +, +  /**, +   * {@code data.length} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +, +  /**, +   * {@code byteCount} may be longer than the max length of the variant's data frame., +   * Implementations must send multiple frames as necessary., +   */, +++ b/okhttp-protocols/src/main/java/com/squareup/okhttp/internal/spdy/Http20Draft09.java]