[+++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +    inetAddress = InetAddress.getByName(null);, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +    inetAddress = InetAddress.getByName(null);, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/CallTest.java, +import com.squareup.okhttp.internal.Version;, +        .matches(Version.userAgent()));, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +    inetAddress = InetAddress.getByName(null);, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/CallTest.java, +import com.squareup.okhttp.internal.Version;, +        .matches(Version.userAgent()));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/DiskLruCacheTest.java, +  @Test public void isClosed_uninitializedCache() throws Exception {, +    // Create an uninitialized cache., +    cache = new DiskLruCache(cacheDir, appVersion, 2, Integer.MAX_VALUE, executor);, +    toClose.add(cache);, +, +    assertFalse(cache.isClosed());, +    cache.close();, +    assertTrue(cache.isClosed());, +  }, +, +++ b/mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java, +    inetAddress = InetAddress.getByName(null);, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/CallTest.java, +import com.squareup.okhttp.internal.Version;, +        .matches(Version.userAgent()));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/DiskLruCacheTest.java, +  @Test public void isClosed_uninitializedCache() throws Exception {, +    // Create an uninitialized cache., +    cache = new DiskLruCache(cacheDir, appVersion, 2, Integer.MAX_VALUE, executor);, +    toClose.add(cache);, +, +    assertFalse(cache.isClosed());, +    cache.close();, +    assertTrue(cache.isClosed());, +  }, +, +++ b/okhttp/src/main/java/com/squareup/okhttp/internal/DiskLruCache.java, +  private boolean closed;, +        if (!initialized | closed) {, +          return; // Nothing to do, +        closed = false;, +    if (initialized) {, +  }, +    return closed;, +    if (!initialized || closed) {, +      closed = true;, +      return;, +    closed = true;, +          if (closed) return false;]