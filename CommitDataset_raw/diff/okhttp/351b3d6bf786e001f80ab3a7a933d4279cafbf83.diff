[+++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +import java.io.InterruptedIOException;, +      } catch (InterruptedException ignored) {, +          throw new AssertionError();, +          throw new InterruptedIOException();, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +import java.io.InterruptedIOException;, +      } catch (InterruptedException ignored) {, +          throw new AssertionError();, +          throw new InterruptedIOException();, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/CustomDispatcherTest.java, +      public MockResponse dispatch(RecordedRequest request) throws InterruptedException {, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +import java.io.InterruptedIOException;, +      } catch (InterruptedException ignored) {, +          throw new AssertionError();, +          throw new InterruptedIOException();, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/CustomDispatcherTest.java, +      public MockResponse dispatch(RecordedRequest request) throws InterruptedException {, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/MockWebServerTest.java, +  @Test public void disconnectRequestHalfway() throws IOException, InterruptedException {, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +import java.io.InterruptedIOException;, +      } catch (InterruptedException ignored) {, +          throw new AssertionError();, +          throw new InterruptedIOException();, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/CustomDispatcherTest.java, +      public MockResponse dispatch(RecordedRequest request) throws InterruptedException {, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/MockWebServerTest.java, +  @Test public void disconnectRequestHalfway() throws IOException, InterruptedException {, +++ b/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DohProviders.java, +        .url(HttpUrl.get("https://dns.google.com/experimental?ct=" + UDPWIREFORMAT)), +        .url(HttpUrl.get("https://dns.google.com/experimental")), +        .url(HttpUrl.get("https://1.1.1.1/dns-query")), +        .url(HttpUrl.get("https://cloudflare-dns.com/dns-query")), +        .url(HttpUrl.get("https://cloudflare-dns.com/dns-query?ct=application/dns-udpwireformat")), +        .url(HttpUrl.get("https://doh.cleanbrowsing.org/doh/family-filter")), +        .url(HttpUrl.get("https://dns.dnsoverhttps.net/dns-query")), +        .url(HttpUrl.get("https://doh.crypto.sx/dns-query")), +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +import java.io.InterruptedIOException;, +      } catch (InterruptedException ignored) {, +          throw new AssertionError();, +          throw new InterruptedIOException();, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/CustomDispatcherTest.java, +      public MockResponse dispatch(RecordedRequest request) throws InterruptedException {, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/MockWebServerTest.java, +  @Test public void disconnectRequestHalfway() throws IOException, InterruptedException {, +++ b/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DohProviders.java, +        .url(HttpUrl.get("https://dns.google.com/experimental?ct=" + UDPWIREFORMAT)), +        .url(HttpUrl.get("https://dns.google.com/experimental")), +        .url(HttpUrl.get("https://1.1.1.1/dns-query")), +        .url(HttpUrl.get("https://cloudflare-dns.com/dns-query")), +        .url(HttpUrl.get("https://cloudflare-dns.com/dns-query?ct=application/dns-udpwireformat")), +        .url(HttpUrl.get("https://doh.cleanbrowsing.org/doh/family-filter")), +        .url(HttpUrl.get("https://dns.dnsoverhttps.net/dns-query")), +        .url(HttpUrl.get("https://doh.crypto.sx/dns-query")), +++ b/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/TestDohMain.java, +      HttpUrl url = HttpUrl.get("https://dns.cloudflare.com/.not-so-well-known/run-dmc-query");, +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +import java.io.InterruptedIOException;, +      } catch (InterruptedException ignored) {, +          throw new AssertionError();, +          throw new InterruptedIOException();, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/CustomDispatcherTest.java, +      public MockResponse dispatch(RecordedRequest request) throws InterruptedException {, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/MockWebServerTest.java, +  @Test public void disconnectRequestHalfway() throws IOException, InterruptedException {, +++ b/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DohProviders.java, +        .url(HttpUrl.get("https://dns.google.com/experimental?ct=" + UDPWIREFORMAT)), +        .url(HttpUrl.get("https://dns.google.com/experimental")), +        .url(HttpUrl.get("https://1.1.1.1/dns-query")), +        .url(HttpUrl.get("https://cloudflare-dns.com/dns-query")), +        .url(HttpUrl.get("https://cloudflare-dns.com/dns-query?ct=application/dns-udpwireformat")), +        .url(HttpUrl.get("https://doh.cleanbrowsing.org/doh/family-filter")), +        .url(HttpUrl.get("https://dns.dnsoverhttps.net/dns-query")), +        .url(HttpUrl.get("https://doh.crypto.sx/dns-query")), +++ b/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/TestDohMain.java, +      HttpUrl url = HttpUrl.get("https://dns.cloudflare.com/.not-so-well-known/run-dmc-query");, +++ b/okhttp-tests/src/test/java/okhttp3/CallTest.java, +      assertEquals("Expected URL scheme 'http' or 'https' but was 'ftp'", expected.getMessage());, +      assertEquals("Invalid URL port: \"65536\"", expected.getMessage());, +        .url(HttpUrl.get("http://1234.1.1.1/")), +++ b/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java, +import java.io.InterruptedIOException;, +      } catch (InterruptedException ignored) {, +          throw new AssertionError();, +          throw new InterruptedIOException();, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/CustomDispatcherTest.java, +      public MockResponse dispatch(RecordedRequest request) throws InterruptedException {, +++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/MockWebServerTest.java, +  @Test public void disconnectRequestHalfway() throws IOException, InterruptedException {, +++ b/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DohProviders.java, +        .url(HttpUrl.get("https://dns.google.com/experimental?ct=" + UDPWIREFORMAT)), +        .url(HttpUrl.get("https://dns.google.com/experimental")), +        .url(HttpUrl.get("https://1.1.1.1/dns-query")), +        .url(HttpUrl.get("https://cloudflare-dns.com/dns-query")), +        .url(HttpUrl.get("https://cloudflare-dns.com/dns-query?ct=application/dns-udpwireformat")), +        .url(HttpUrl.get("https://doh.cleanbrowsing.org/doh/family-filter")), +        .url(HttpUrl.get("https://dns.dnsoverhttps.net/dns-query"))]