[+++ b/okhttp-tests/src/test/java/okhttp3/HttpUrlTest.java, +++ b/okhttp-tests/src/test/java/okhttp3/HttpUrlTest.java, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/RealWebSocketTest.java, +    server.listener.assertFailure(EOFException.class);, +    client.listener.assertFailure(EOFException.class);, +++ b/okhttp-tests/src/test/java/okhttp3/HttpUrlTest.java, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/RealWebSocketTest.java, +    server.listener.assertFailure(EOFException.class);, +    client.listener.assertFailure(EOFException.class);, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/WebSocketHttpTest.java, +import java.io.EOFException;, +    serverListener.assertFailure(EOFException.class);, +    clientListener.assertFailure(SocketTimeoutException.class, "timeout", "Read timed out");, +    clientListener.assertFailure(SocketTimeoutException.class, "timeout", "Read timed out");, +++ b/okhttp-tests/src/test/java/okhttp3/HttpUrlTest.java, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/RealWebSocketTest.java, +    server.listener.assertFailure(EOFException.class);, +    client.listener.assertFailure(EOFException.class);, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/WebSocketHttpTest.java, +import java.io.EOFException;, +    serverListener.assertFailure(EOFException.class);, +    clientListener.assertFailure(SocketTimeoutException.class, "timeout", "Read timed out");, +    clientListener.assertFailure(SocketTimeoutException.class, "timeout", "Read timed out");, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/WebSocketRecorder.java, +import java.util.Arrays;, +  public void assertFailure(Class<? extends IOException> cls, String... messages) {, +    if (messages.length > 0) {, +      assertTrue(failure.t.getMessage(), Arrays.asList(messages).contains(failure.t.getMessage()));, +    }, +++ b/okhttp-tests/src/test/java/okhttp3/HttpUrlTest.java, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/RealWebSocketTest.java, +    server.listener.assertFailure(EOFException.class);, +    client.listener.assertFailure(EOFException.class);, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/WebSocketHttpTest.java, +import java.io.EOFException;, +    serverListener.assertFailure(EOFException.class);, +    clientListener.assertFailure(SocketTimeoutException.class, "timeout", "Read timed out");, +    clientListener.assertFailure(SocketTimeoutException.class, "timeout", "Read timed out");, +++ b/okhttp-tests/src/test/java/okhttp3/internal/ws/WebSocketRecorder.java, +import java.util.Arrays;, +  public void assertFailure(Class<? extends IOException> cls, String... messages) {, +    if (messages.length > 0) {, +      assertTrue(failure.t.getMessage(), Arrays.asList(messages).contains(failure.t.getMessage()));, +    }, +++ b/okhttp/src/main/java/okhttp3/HttpUrl.java]