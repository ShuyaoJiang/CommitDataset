[+++ b/okhttp-tests/src/test/java/com/squareup/okhttp/ConnectionPoolTest.java, +import static com.squareup.okhttp.internal.http.RouteSelector.TLS_V1;, +    Route httpRoute = new Route(httpAddress, Proxy.NO_PROXY, httpSocketAddress, TLS_V1);, +    Route spdyRoute = new Route(spdyAddress, Proxy.NO_PROXY, spdySocketAddress, TLS_V1);, +        pool, new Route(httpAddress, Proxy.NO_PROXY, httpSocketAddress, TLS_V1));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/ConnectionPoolTest.java, +import static com.squareup.okhttp.internal.http.RouteSelector.TLS_V1;, +    Route httpRoute = new Route(httpAddress, Proxy.NO_PROXY, httpSocketAddress, TLS_V1);, +    Route spdyRoute = new Route(spdyAddress, Proxy.NO_PROXY, spdySocketAddress, TLS_V1);, +        pool, new Route(httpAddress, Proxy.NO_PROXY, httpSocketAddress, TLS_V1));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/RouteSelectorTest.java, +import static com.squareup.okhttp.internal.http.RouteSelector.SSL_V3;, +import static com.squareup.okhttp.internal.http.RouteSelector.TLS_V1;, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +      InetAddress socketAddress, int socketPort, String tlsVersion) {, +    assertEquals(tlsVersion, connection.getRoute().getTlsVersion());, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/ConnectionPoolTest.java, +import static com.squareup.okhttp.internal.http.RouteSelector.TLS_V1;, +    Route httpRoute = new Route(httpAddress, Proxy.NO_PROXY, httpSocketAddress, TLS_V1);, +    Route spdyRoute = new Route(spdyAddress, Proxy.NO_PROXY, spdySocketAddress, TLS_V1);, +        pool, new Route(httpAddress, Proxy.NO_PROXY, httpSocketAddress, TLS_V1));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/RouteSelectorTest.java, +import static com.squareup.okhttp.internal.http.RouteSelector.SSL_V3;, +import static com.squareup.okhttp.internal.http.RouteSelector.TLS_V1;, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +        TLS_V1);, +        SSL_V3);, +      InetAddress socketAddress, int socketPort, String tlsVersion) {, +    assertEquals(tlsVersion, connection.getRoute().getTlsVersion());, +++ b/okhttp/src/main/java/com/squareup/okhttp/Connection.java, +    platform.configureTls(sslSocket, route.address.uriHost, route.tlsVersion);, +    if (route.supportsNpn() && route.address.protocols.size() > 1) {, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/ConnectionPoolTest.java, +import static com.squareup.okhttp.internal.http.RouteSelector.TLS_V1;, +    Route httpRoute = new Route(httpAddress, Proxy.NO_PROXY, httpSocketAddress, TLS_V1);, +    Route spdyRoute = new Route(spdyAddress, Proxy.NO_PROXY, spdySocketAddress, TLS_V1);, +        pool, new Route(httpAddress, Proxy.NO_PROXY, httpSocketAddress, TLS_V1));, +++ b/okhttp-tests/src/test/java/com/squareup/okhttp/internal/http/RouteSelectorTest.java, +import static com.squareup.okhttp.internal.http.RouteSelector.SSL_V3;, +import static com.squareup.okhttp.internal.http.RouteSelector.TLS_V1;, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);, +        SSL_V3);]