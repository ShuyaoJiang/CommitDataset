[+++ b/core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java, +            if ("Oracle Corporation".equals(jvmVendor()) && isJava8() && isG1GCEnabled()) {, +        // visible for tests, +        boolean isJava8() {, +            return Constants.JVM_SPEC_VERSION.equals("1.8");, +        }, +, +++ b/core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java, +            if ("Oracle Corporation".equals(jvmVendor()) && isJava8() && isG1GCEnabled()) {, +        // visible for tests, +        boolean isJava8() {, +            return Constants.JVM_SPEC_VERSION.equals("1.8");, +        }, +, +++ b/core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java, +        final AtomicBoolean isJava8 = new AtomicBoolean(true);, +            @Override, +            boolean isJava8() {, +                return isJava8.get();, +            }, +, +, +        final BootstrapCheck.G1GCCheck nonJava8Check = new BootstrapCheck.G1GCCheck() {, +            @Override, +            boolean isJava8() {, +                return false;, +            }, +        };, +        // if not java 8, nothing should happen, +        BootstrapCheck.check(true, Collections.singletonList(nonJava8Check), "testG1GCCheck");]