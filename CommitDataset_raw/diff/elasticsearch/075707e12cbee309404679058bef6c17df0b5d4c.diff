[+++ b/marvel/src/main/java/org/elasticsearch/marvel/agent/exporter/local/LocalExporter.java, +import org.elasticsearch.common.settings.SettingsException;, +            throw new SettingsException("invalid marvel index name time format [" + indexTimeFormat + "] set for [" + settingFQN(INDEX_NAME_TIME_FORMAT_SETTING) + "]", e);, +, +    public static class Factory extends Exporter.Factory<LocalExporter> {, +, +        private final SecuredClient client;, +        private final RendererRegistry registry;, +        private final ClusterService clusterService;, +, +        @Inject, +        public Factory(SecuredClient client, ClusterService clusterService, RendererRegistry registry) {, +            super(TYPE, true);, +            this.client = client;, +            this.clusterService = clusterService;, +            this.registry = registry;, +        }, +, +        @Override, +        public LocalExporter create(Config config) {, +            return new LocalExporter(config, client, clusterService, registry);, +        }, +    }]