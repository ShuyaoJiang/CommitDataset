[+++ b/core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java, +        CountDownLatch startGate = new CountDownLatch(1);, +        CountDownLatch endGate = new CountDownLatch(numberOfThreads);, +        AtomicBoolean interrupted = new AtomicBoolean();, +                try {, +                    try {, +                        startGate.await();, +                    } catch (InterruptedException e) {, +                        interrupted.set(true);, +                        return;, +                    }, +                } finally {, +                    endGate.countDown();, +                }, +        startGate.countDown();, +        endGate.await();, +        assertFalse(interrupted.get());]