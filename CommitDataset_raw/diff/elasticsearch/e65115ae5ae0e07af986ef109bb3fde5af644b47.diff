[+++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/NotificationService.java, +import org.elasticsearch.common.settings.ClusterSettings;, +import org.elasticsearch.common.settings.Setting;, +import java.util.List;, +    public NotificationService(Settings settings, String type,, +                               ClusterSettings clusterSettings, List<Setting<?>> pluginSettings) {, +        this(settings, type);, +        clusterSettings.addSettingsUpdateConsumer(this::setAccountSetting, pluginSettings);, +    }, +, +    // Used for testing only, +    NotificationService(Settings settings, String type) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/NotificationService.java, +import org.elasticsearch.common.settings.ClusterSettings;, +import org.elasticsearch.common.settings.Setting;, +import java.util.List;, +    public NotificationService(Settings settings, String type,, +                               ClusterSettings clusterSettings, List<Setting<?>> pluginSettings) {, +        this(settings, type);, +        clusterSettings.addSettingsUpdateConsumer(this::setAccountSetting, pluginSettings);, +    }, +, +    // Used for testing only, +    NotificationService(Settings settings, String type) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/email/EmailService.java, +        super(settings, "email", clusterSettings, EmailService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/NotificationService.java, +import org.elasticsearch.common.settings.ClusterSettings;, +import org.elasticsearch.common.settings.Setting;, +import java.util.List;, +    public NotificationService(Settings settings, String type,, +                               ClusterSettings clusterSettings, List<Setting<?>> pluginSettings) {, +        this(settings, type);, +        clusterSettings.addSettingsUpdateConsumer(this::setAccountSetting, pluginSettings);, +    }, +, +    // Used for testing only, +    NotificationService(Settings settings, String type) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/email/EmailService.java, +        super(settings, "email", clusterSettings, EmailService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/hipchat/HipChatService.java, +        super(settings, "hipchat", clusterSettings, HipChatService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/NotificationService.java, +import org.elasticsearch.common.settings.ClusterSettings;, +import org.elasticsearch.common.settings.Setting;, +import java.util.List;, +    public NotificationService(Settings settings, String type,, +                               ClusterSettings clusterSettings, List<Setting<?>> pluginSettings) {, +        this(settings, type);, +        clusterSettings.addSettingsUpdateConsumer(this::setAccountSetting, pluginSettings);, +    }, +, +    // Used for testing only, +    NotificationService(Settings settings, String type) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/email/EmailService.java, +        super(settings, "email", clusterSettings, EmailService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/hipchat/HipChatService.java, +        super(settings, "hipchat", clusterSettings, HipChatService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/jira/JiraService.java, +        super(settings, "jira", clusterSettings, JiraService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/NotificationService.java, +import org.elasticsearch.common.settings.ClusterSettings;, +import org.elasticsearch.common.settings.Setting;, +import java.util.List;, +    public NotificationService(Settings settings, String type,, +                               ClusterSettings clusterSettings, List<Setting<?>> pluginSettings) {, +        this(settings, type);, +        clusterSettings.addSettingsUpdateConsumer(this::setAccountSetting, pluginSettings);, +    }, +, +    // Used for testing only, +    NotificationService(Settings settings, String type) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/email/EmailService.java, +        super(settings, "email", clusterSettings, EmailService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/hipchat/HipChatService.java, +        super(settings, "hipchat", clusterSettings, HipChatService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/jira/JiraService.java, +        super(settings, "jira", clusterSettings, JiraService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/pagerduty/PagerDutyService.java, +        super(settings, "pagerduty", clusterSettings, PagerDutyService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/NotificationService.java, +import org.elasticsearch.common.settings.ClusterSettings;, +import org.elasticsearch.common.settings.Setting;, +import java.util.List;, +    public NotificationService(Settings settings, String type,, +                               ClusterSettings clusterSettings, List<Setting<?>> pluginSettings) {, +        this(settings, type);, +        clusterSettings.addSettingsUpdateConsumer(this::setAccountSetting, pluginSettings);, +    }, +, +    // Used for testing only, +    NotificationService(Settings settings, String type) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/email/EmailService.java, +        super(settings, "email", clusterSettings, EmailService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/hipchat/HipChatService.java, +        super(settings, "hipchat", clusterSettings, HipChatService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/jira/JiraService.java, +        super(settings, "jira", clusterSettings, JiraService.getSettings());, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/pagerduty/PagerDutyService.java, +        super(settings, "pagerduty", clusterSettings, PagerDutyService.getSettings());]