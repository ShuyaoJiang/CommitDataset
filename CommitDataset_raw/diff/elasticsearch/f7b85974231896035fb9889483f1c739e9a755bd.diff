[+++ b/server/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java, +import static org.elasticsearch.action.search.SearchType.DFS_QUERY_THEN_FETCH;, +        if (searchRequest.searchType() == DFS_QUERY_THEN_FETCH) {, +            return false;, +        }, +++ b/server/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java, +import static org.elasticsearch.action.search.SearchType.DFS_QUERY_THEN_FETCH;, +        if (searchRequest.searchType() == DFS_QUERY_THEN_FETCH) {, +            return false;, +        }, +++ b/server/src/test/java/org/elasticsearch/action/search/TransportSearchActionTests.java, +            SearchRequest searchRequest = new SearchRequest();, +            searchRequest.searchType(SearchType.DFS_QUERY_THEN_FETCH);, +            assertFalse(TransportSearchAction.shouldMinimizeRoundtrips(searchRequest));, +        }, +        {]