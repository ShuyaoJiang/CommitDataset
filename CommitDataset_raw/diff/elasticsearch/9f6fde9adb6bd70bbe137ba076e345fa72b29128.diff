[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/MergeMappingException.java, +        super("Merge failed with failures {" + Arrays.toString(failures) + "}");, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/MergeMappingException.java, +        super("Merge failed with failures {" + Arrays.toString(failures) + "}");, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/XContentFieldMapper.java, +            String mergedType = mergeWith.getClass().getSimpleName();, +            if (mergeWith instanceof XContentFieldMapper) {, +                mergedType = ((XContentFieldMapper) mergeWith).contentType();, +            }, +            mergeContext.addConflict("mapper [" + names.fullName() + "] of different type, current_type [" + contentType() + "], merged_type [" + mergedType + "]");, +            // different types, return, +            return;, +        } else if (fieldMergeWith.indexAnalyzer == null) {, +            mergeContext.addConflict("mapper [" + names.fullName() + "] has different index_analyzer");, +        } else if (fieldMergeWith.searchAnalyzer == null) {, +            mergeContext.addConflict("mapper [" + names.fullName() + "] has different search_analyzer");]