[+++ b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/DefaultS3OutputStream.java, +        PutObjectRequest putRequest = new PutObjectRequest(bucketName, blobName, is, md), +        blobStore.client().putObject(putRequest);, +++ b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/DefaultS3OutputStream.java, +        PutObjectRequest putRequest = new PutObjectRequest(bucketName, blobName, is, md), +        blobStore.client().putObject(putRequest);, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/MockAmazonS3.java, +        blobs.put(blobName, putObjectRequest.getInputStream());, +        return new PutObjectResult();]