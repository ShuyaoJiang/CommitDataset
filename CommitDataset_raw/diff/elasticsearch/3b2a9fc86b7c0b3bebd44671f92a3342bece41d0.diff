[+++ b/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +    private final MetaDataIndexStateService indexStateService;, +                                     ThreadPool threadPool, MetaDataIndexStateService indexStateService) {, +        this.indexStateService = indexStateService;, +        indexStateService.closeIndex(new MetaDataIndexStateService.Request(request.indices()).timeout(request.timeout()).masterTimeout(request.masterNodeTimeout()), new MetaDataIndexStateService.Listener() {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +    private final MetaDataIndexStateService indexStateService;, +                                     ThreadPool threadPool, MetaDataIndexStateService indexStateService) {, +        this.indexStateService = indexStateService;, +        indexStateService.closeIndex(new MetaDataIndexStateService.Request(request.indices()).timeout(request.timeout()).masterTimeout(request.masterNodeTimeout()), new MetaDataIndexStateService.Listener() {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java, +    private final MetaDataIndexStateService indexStateService;, +                                    ThreadPool threadPool, MetaDataIndexStateService indexStateService) {, +        this.indexStateService = indexStateService;, +        indexStateService.openIndex(new MetaDataIndexStateService.Request(request.indices()).timeout(request.timeout()).masterTimeout(request.masterNodeTimeout()), new MetaDataIndexStateService.Listener() {]