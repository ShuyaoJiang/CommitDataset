[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/river/RiversService.java, +import org.elasticsearch.ExceptionsHelper;, +import org.elasticsearch.common.xcontent.XContentBuilder;, +import org.elasticsearch.common.xcontent.XContentFactory;, +    public synchronized void createRiver(RiverName riverName, Map<String, Object> settings) throws ElasticSearchException {, +            logger.warn("ignoring river [{}][{}] creation, already exists", riverName.type(), riverName.name());, +            return;, +        try {, +, +            XContentBuilder builder = XContentFactory.jsonBuilder().startObject();, +            builder.field("ok", true);, +, +            builder.startObject("node");, +            builder.field("id", clusterService.localNode().id());, +            builder.field("name", clusterService.localNode().name());, +            builder.field("transport_address", clusterService.localNode().address().toString());, +            builder.endObject();, +, +            builder.endObject();, +, +, +            client.prepareIndex(riverIndexName, riverName.name(), "_status").setSource(builder).execute().actionGet();, +        } catch (Exception e) {, +            logger.warn("failed to create river [{}][{}]", e, riverName.type(), riverName.name());, +, +            try {, +                XContentBuilder builder = XContentFactory.jsonBuilder().startObject();, +                builder.field("error", ExceptionsHelper.detailedMessage(e));, +, +                builder.startObject("node");, +                builder.field("id", clusterService.localNode().id());, +                builder.field("name", clusterService.localNode().name());, +                builder.field("transport_address", clusterService.localNode().address().toString());, +                builder.endObject();, +                , +                client.prepareIndex(riverIndexName, riverName.name(), "_status").setSource(builder).execute().actionGet();, +            } catch (Exception e1) {, +                logger.warn("failed to write failed status for river creation", e);, +            }, +        }]