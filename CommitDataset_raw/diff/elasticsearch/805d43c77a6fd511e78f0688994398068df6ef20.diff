[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/service/InternalIndexService.java, +import org.elasticsearch.common.io.FileSystemUtils;, +import org.elasticsearch.env.NodeEnvironment;, +    private final NodeEnvironment nodeEnv;, +, +    @Inject public InternalIndexService(Injector injector, Index index, @IndexSettings Settings indexSettings, NodeEnvironment nodeEnv, ThreadPool threadPool,, +        this.nodeEnv = nodeEnv;, +, +        // delete the shard location if needed, +        if (delete || indexGateway.type().equals(NoneGateway.TYPE)) {, +            FileSystemUtils.deleteRecursively(nodeEnv.shardLocation(sId));, +        }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/service/InternalIndexService.java, +import org.elasticsearch.common.io.FileSystemUtils;, +import org.elasticsearch.env.NodeEnvironment;, +    private final NodeEnvironment nodeEnv;, +, +    @Inject public InternalIndexService(Injector injector, Index index, @IndexSettings Settings indexSettings, NodeEnvironment nodeEnv, ThreadPool threadPool,, +        this.nodeEnv = nodeEnv;, +, +        // delete the shard location if needed, +        if (delete || indexGateway.type().equals(NoneGateway.TYPE)) {, +            FileSystemUtils.deleteRecursively(nodeEnv.shardLocation(sId));, +        }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/indices/InternalIndicesService.java, +import org.elasticsearch.common.io.FileSystemUtils;, +import org.elasticsearch.env.NodeEnvironment;, +    private final NodeEnvironment nodeEnv;, +, +    @Inject public InternalIndicesService(Settings settings, NodeEnvironment nodeEnv, ThreadPool threadPool, IndicesLifecycle indicesLifecycle, IndicesAnalysisService indicesAnalysisService, IndicesStore indicesStore, Injector injector) {, +        this.nodeEnv = nodeEnv;, +, +        if (delete) {, +            FileSystemUtils.deleteRecursively(nodeEnv.indexLocation(new Index(index)));, +        }]