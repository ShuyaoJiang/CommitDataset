[+++ b/docs/reference/modules/snapshots.asciidoc, +=== Changing index settings during restore, +, +Most of index settings can be overridden during the restore process. For example, the following command will restore, +the index `index_1` without creating any replicas while switching back to default refresh interval:, +, +[source,js], +-----------------------------------, +$ curl -XPOST "localhost:9200/_snapshot/my_backup/snapshot_1/_restore" -d '{, +    "indices": "index_1",, +    "index_settings" : {, +        "index.number_of_replicas": 0, +    },, +    "ignore_index_settings": ["index.refresh_interval"], +}', +-----------------------------------, +, +, +[float], +++ b/docs/reference/modules/snapshots.asciidoc, +=== Changing index settings during restore, +, +Most of index settings can be overridden during the restore process. For example, the following command will restore, +the index `index_1` without creating any replicas while switching back to default refresh interval:, +, +[source,js], +-----------------------------------, +$ curl -XPOST "localhost:9200/_snapshot/my_backup/snapshot_1/_restore" -d '{, +    "indices": "index_1",, +    "index_settings" : {, +        "index.number_of_replicas": 0, +    },, +    "ignore_index_settings": ["index.refresh_interval"], +}', +-----------------------------------, +, +, +[float], +++ b/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java, +    private Settings indexSettings = EMPTY_SETTINGS;, +, +    private String[] ignoreIndexSettings = Strings.EMPTY_ARRAY;, +, +        if (indexSettings == null) {, +            validationException = addValidationError("indexSettings are missing", validationException);, +        }, +        if (ignoreIndexSettings == null) {, +            validationException = addValidationError("ignoreIndexSettings are missing", validationException);, +        }, +     * Sets the list of index settings and index settings groups that shouldn't be restored from snapshot, +     */, +    public RestoreSnapshotRequest ignoreIndexSettings(String... ignoreIndexSettings) {, +        this.ignoreIndexSettings = ignoreIndexSettings;, +        return this;, +    }, +, +    /**, +     * Sets the list of index settings and index settings groups that shouldn't be restored from snapshot, +     */, +    public RestoreSnapshotRequest ignoreIndexSettings(List<String> ignoreIndexSettings) {, +        this.ignoreIndexSettings = ignoreIndexSettings.toArray(new String[ignoreIndexSettings.size()]);, +        return this;, +    }, +, +    /**, +     * Returns the list of index settings and index settings groups that shouldn't be restored from snapshot, +     */, +    public String[] ignoreIndexSettings() {, +        return ignoreIndexSettings;, +    }, +, +    /**, +     * Sets settings that should be added/changed in all restored indices, +     */, +    public RestoreSnapshotRequest indexSettings(Settings settings) {, +        this.indexSettings = settings;, +        return this;, +    }, +, +    /**, +     * Sets settings that should be added/changed in all restored indices, +     */, +    public RestoreSnapshotRequest indexSettings(Settings.Builder settings) {, +        this.indexSettings = settings.build();, +        return this;, +    }, +, +    /**, +     * Sets settings that should be added/changed in all restored indices, +     */, +    public RestoreSnapshotRequest indexSettings(String source) {, +        this.indexSettings = ImmutableSettings.settingsBuilder().loadFromSource(source).build();, +        return this;, +    }, +, +    /**, +     * Sets settings that should be added/changed in all restored indices, +     */, +    public RestoreSnapshotRequest indexSettings(Map<String, Object> source) {, +        try {]