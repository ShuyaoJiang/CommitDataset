[+++ b/core/src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java, +    /**, +     * The parent breaker is a sum of all the following breakers combined. With, +     * this we allow a single breaker to have a significant amount of memory, +     * available while still having a "total" limit for all breakers. Note that, +     * it's not a "real" breaker in that it cannot be added to or subtracted, +     * from by itself., +     */, +    /**, +     * The fielddata breaker tracks data used for fielddata (on fields) as well, +     * as the id cached used for parent/child queries., +     */, +    /**, +     * The request breaker tracks memory used for particular requests. This, +     * includes allocations for things like the cardinality aggregation, and, +     * accounting for the number of buckets used in an aggregation request., +     * Generally the amounts added to this breaker are released after a request, +     * is finished., +     */, +    /**, +     * The in-flight request breaker tracks bytes allocated for reading and, +     * writing requests on the network layer., +     */, +    /**, +     * The accounting breaker tracks things held in memory that is independent, +     * of the request lifecycle. This includes memory used by Lucene for, +     * segments., +     */, +    String ACCOUNTING = "accounting";, +++ b/core/src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java, +    /**, +     * The parent breaker is a sum of all the following breakers combined. With, +     * this we allow a single breaker to have a significant amount of memory, +     * available while still having a "total" limit for all breakers. Note that, +     * it's not a "real" breaker in that it cannot be added to or subtracted, +     * from by itself., +     */, +    /**, +     * The fielddata breaker tracks data used for fielddata (on fields) as well, +     * as the id cached used for parent/child queries., +     */, +    /**, +     * The request breaker tracks memory used for particular requests. This, +     * includes allocations for things like the cardinality aggregation, and, +     * accounting for the number of buckets used in an aggregation request., +     * Generally the amounts added to this breaker are released after a request, +     * is finished., +     */, +    /**, +     * The in-flight request breaker tracks bytes allocated for reading and, +     * writing requests on the network layer., +     */, +    /**, +     * The accounting breaker tracks things held in memory that is independent, +     * of the request lifecycle. This includes memory used by Lucene for, +     * segments., +     */, +    String ACCOUNTING = "accounting";, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    HierarchyCircuitBreakerService.ACCOUNTING_CIRCUIT_BREAKER_LIMIT_SETTING,, +                    HierarchyCircuitBreakerService.ACCOUNTING_CIRCUIT_BREAKER_OVERHEAD_SETTING,, +++ b/core/src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java, +    /**, +     * The parent breaker is a sum of all the following breakers combined. With, +     * this we allow a single breaker to have a significant amount of memory, +     * available while still having a "total" limit for all breakers. Note that, +     * it's not a "real" breaker in that it cannot be added to or subtracted, +     * from by itself., +     */, +    /**, +     * The fielddata breaker tracks data used for fielddata (on fields) as well, +     * as the id cached used for parent/child queries., +     */, +    /**, +     * The request breaker tracks memory used for particular requests. This, +     * includes allocations for things like the cardinality aggregation, and, +     * accounting for the number of buckets used in an aggregation request., +     * Generally the amounts added to this breaker are released after a request, +     * is finished., +     */, +    /**, +     * The in-flight request breaker tracks bytes allocated for reading and, +     * writing requests on the network layer., +     */, +    /**, +     * The accounting breaker tracks things held in memory that is independent, +     * of the request lifecycle. This includes memory used by Lucene for, +     * segments., +     */, +    String ACCOUNTING = "accounting";, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    HierarchyCircuitBreakerService.ACCOUNTING_CIRCUIT_BREAKER_LIMIT_SETTING,, +                    HierarchyCircuitBreakerService.ACCOUNTING_CIRCUIT_BREAKER_OVERHEAD_SETTING,, +++ b/core/src/main/java/org/elasticsearch/index/IndexService.java, +    private final CircuitBreakerService circuitBreakerService;, +        this.circuitBreakerService = circuitBreakerService;, +                searchOperationListeners, indexingOperationListeners, () -> globalCheckpointSyncer.accept(shardId),, +                circuitBreakerService);, +++ b/core/src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java, +    /**]