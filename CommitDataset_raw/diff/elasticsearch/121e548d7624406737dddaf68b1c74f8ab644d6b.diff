[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.indices.IndicesStats;, +    private IndicesStats indices;, +, +    public NodeStats(DiscoveryNode node, IndicesStats indices,, +        this.indices = indices;, +     * Indices level stats., +     */, +    public IndicesStats indices() {, +        return this.indices;, +    }, +, +    /**, +     * Indices level stats., +     */, +    public IndicesStats getIndices() {, +        return indices();, +    }, +, +    /**, +            indices = IndicesStats.readIndicesStats(in);, +        }, +        if (in.readBoolean()) {, +        if (indices == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +            indices.writeTo(out);, +        }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.indices.IndicesStats;, +    private IndicesStats indices;, +, +    public NodeStats(DiscoveryNode node, IndicesStats indices,, +        this.indices = indices;, +     * Indices level stats., +     */, +    public IndicesStats indices() {, +        return this.indices;, +    }, +, +    /**, +     * Indices level stats., +     */, +    public IndicesStats getIndices() {, +        return indices();, +    }, +, +    /**, +            indices = IndicesStats.readIndicesStats(in);, +        }, +        if (in.readBoolean()) {, +        if (indices == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +            indices.writeTo(out);, +        }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java, +    NodesStatsResponse() {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.indices.IndicesStats;, +    private IndicesStats indices;, +, +    public NodeStats(DiscoveryNode node, IndicesStats indices,, +        this.indices = indices;, +     * Indices level stats., +     */, +    public IndicesStats indices() {, +        return this.indices;, +    }, +, +    /**, +     * Indices level stats., +     */, +    public IndicesStats getIndices() {, +        return indices();, +    }, +, +    /**, +            indices = IndicesStats.readIndicesStats(in);, +        }, +        if (in.readBoolean()) {, +        if (indices == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +            indices.writeTo(out);, +        }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java, +    NodesStatsResponse() {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java, +import org.elasticsearch.indices.IndicesService;, +    private final IndicesService indicesService;, +, +                                             MonitorService monitorService, IndicesService indicesService) {, +        this.indicesService = indicesService;, +        return new NodeStats(clusterService.state().nodes().localNode(), indicesService.stats(),, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.indices.IndicesStats;]