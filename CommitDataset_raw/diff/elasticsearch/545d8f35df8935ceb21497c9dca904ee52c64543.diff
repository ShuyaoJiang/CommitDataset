[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java, +                        continue;, +                }, +                try {, +                    NodesInfoResponse nodeInfo = transportService.submitRequest(node, TransportActions.Admin.Cluster.Node.INFO, Requests.nodesInfoRequest("_local"), new BaseTransportResponseHandler<NodesInfoResponse>() {, +                        @Override public NodesInfoResponse newInstance() {, +                            return new NodesInfoResponse();, +                        }, +, +                        @Override public void handleResponse(NodesInfoResponse response) {, +                        }, +, +                        @Override public void handleException(TransportException exp) {, +                        }, +                    }).txGet();, +                    if (!clusterName.equals(nodeInfo.clusterName())) {, +                        logger.warn("Node {} not part of the cluster {}, ignoring...", node, clusterName);, +                } catch (Exception e) {, +                    logger.warn("failed to get node info for {}", e, node);, +                }]