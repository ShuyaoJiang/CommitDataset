[+++ b/server/src/main/java/org/elasticsearch/index/engine/Engine.java, +    public boolean refreshNeeded() {, +++ b/server/src/main/java/org/elasticsearch/index/engine/Engine.java, +    public boolean refreshNeeded() {, +++ b/server/src/main/java/org/elasticsearch/index/engine/ReadOnlyEngine.java, +, +    @Override, +    public boolean refreshNeeded() {, +        return false;, +    }, +++ b/server/src/main/java/org/elasticsearch/index/engine/Engine.java, +    public boolean refreshNeeded() {, +++ b/server/src/main/java/org/elasticsearch/index/engine/ReadOnlyEngine.java, +, +    @Override, +    public boolean refreshNeeded() {, +        return false;, +    }, +++ b/server/src/main/java/org/elasticsearch/search/SearchService.java, +                return new ScrollQueryFetchSearchResult(fetchSearchResult, context.shardTarget());, +++ b/server/src/main/java/org/elasticsearch/index/engine/Engine.java, +    public boolean refreshNeeded() {, +++ b/server/src/main/java/org/elasticsearch/index/engine/ReadOnlyEngine.java, +, +    @Override, +    public boolean refreshNeeded() {, +        return false;, +    }, +++ b/server/src/main/java/org/elasticsearch/search/SearchService.java, +                return new ScrollQueryFetchSearchResult(fetchSearchResult, context.shardTarget());, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/index/engine/FrozenEngine.java, +                case "refresh_needed":, +                    assert false : "refresh_needed is always false";]