[+++ b/core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java, +        final AtomicBoolean processedOrFailed = new AtomicBoolean();, +                    processedOrFailed.set(true);, +                    processedOrFailed.set(true);, +            boolean sentToApplier = processNextCommittedClusterState("master " + newState.nodes().getMasterNode() +, +            if (sentToApplier == false && processedOrFailed.get() == false) {, +                assert false : "cluster state published locally neither processed nor failed: " + newState;, +                logger.warn("cluster state with version [{}] that is published locally has neither been processed nor failed",, +                    newState.version());]