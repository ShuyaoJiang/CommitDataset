[+++ b/buildSrc/build.gradle, +if (GradleVersion.current() < GradleVersion.version('4.9')) {, +  throw new GradleException('Gradle 4.9+ is required to build elasticsearch'), +++ b/buildSrc/build.gradle, +if (GradleVersion.current() < GradleVersion.version('4.9')) {, +  throw new GradleException('Gradle 4.9+ is required to build elasticsearch'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        if (GradleVersion.current() < GradleVersion.version('4.9')) {, +            throw new GradleException('Gradle 4.9+ is required to use elasticsearch.build plugin'), +        }, +++ b/buildSrc/build.gradle, +if (GradleVersion.current() < GradleVersion.version('4.9')) {, +  throw new GradleException('Gradle 4.9+ is required to build elasticsearch'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        if (GradleVersion.current() < GradleVersion.version('4.9')) {, +            throw new GradleException('Gradle 4.9+ is required to use elasticsearch.build plugin'), +        }, +++ b/buildSrc/version.properties, +lucene            = 7.4.0, +++ b/buildSrc/build.gradle, +if (GradleVersion.current() < GradleVersion.version('4.9')) {, +  throw new GradleException('Gradle 4.9+ is required to build elasticsearch'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        if (GradleVersion.current() < GradleVersion.version('4.9')) {, +            throw new GradleException('Gradle 4.9+ is required to use elasticsearch.build plugin'), +        }, +++ b/buildSrc/version.properties, +lucene            = 7.4.0, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RankEvalIT.java, +import static org.elasticsearch.index.rankeval.EvaluationMetric.filterUnratedDocuments;, +        assertEquals(2, filterUnratedDocuments(amsterdamQueryQuality.getHitsAndRatings()).size());, +        assertEquals(6, filterUnratedDocuments(berlinQueryQuality.getHitsAndRatings()).size());, +++ b/buildSrc/build.gradle, +if (GradleVersion.current() < GradleVersion.version('4.9')) {, +  throw new GradleException('Gradle 4.9+ is required to build elasticsearch'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        if (GradleVersion.current() < GradleVersion.version('4.9')) {, +            throw new GradleException('Gradle 4.9+ is required to use elasticsearch.build plugin'), +        }, +++ b/buildSrc/version.properties, +lucene            = 7.4.0, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RankEvalIT.java, +import static org.elasticsearch.index.rankeval.EvaluationMetric.filterUnratedDocuments;, +        assertEquals(2, filterUnratedDocuments(amsterdamQueryQuality.getHitsAndRatings()).size());, +        assertEquals(6, filterUnratedDocuments(berlinQueryQuality.getHitsAndRatings()).size());, +++ b/distribution/archives/build.gradle, +        with libFiles(oss), +++ b/buildSrc/build.gradle, +if (GradleVersion.current() < GradleVersion.version('4.9')) {, +  throw new GradleException('Gradle 4.9+ is required to build elasticsearch'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        if (GradleVersion.current() < GradleVersion.version('4.9')) {, +            throw new GradleException('Gradle 4.9+ is required to use elasticsearch.build plugin'), +        }, +++ b/buildSrc/version.properties, +lucene            = 7.4.0, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RankEvalIT.java, +import static org.elasticsearch.index.rankeval.EvaluationMetric.filterUnratedDocuments;, +        assertEquals(2, filterUnratedDocuments(amsterdamQueryQuality.getHitsAndRatings()).size());, +        assertEquals(6, filterUnratedDocuments(berlinQueryQuality.getHitsAndRatings()).size());, +++ b/distribution/archives/build.gradle, +        with libFiles(oss), +++ b/distribution/build.gradle, +    libFiles = { oss ->, +      copySpec {, +        if (oss == false) {, +          into('tools/security-cli') {, +            from { project(':x-pack:plugin:security:cli').jar }, +            from { project(':x-pack:plugin:security:cli').configurations.compile }, +          }, +        }, +      }, +++ b/buildSrc/build.gradle, +if (GradleVersion.current() < GradleVersion.version('4.9')) {, +  throw new GradleException('Gradle 4.9+ is required to build elasticsearch'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        if (GradleVersion.current() < GradleVersion.version('4.9')) {, +            throw new GradleException('Gradle 4.9+ is required to use elasticsearch.build plugin'), +        }, +++ b/buildSrc/version.properties, +lucene            = 7.4.0, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RankEvalIT.java, +import static org.elasticsearch.index.rankeval.EvaluationMetric.filterUnratedDocuments;, +        assertEquals(2, filterUnratedDocuments(amsterdamQueryQuality.getHitsAndRatings()).size());, +        assertEquals(6, filterUnratedDocuments(berlinQueryQuality.getHitsAndRatings()).size());, +++ b/distribution/archives/build.gradle, +        with libFiles(oss), +++ b/distribution/build.gradle, +    libFiles = { oss ->, +      copySpec {, +        if (oss == false) {, +          into('tools/security-cli') {, +            from { project(':x-pack:plugin:security:cli').jar }, +            from { project(':x-pack:plugin:security:cli').configurations.compile }, +          }, +        }, +      }, +++ b/distribution/packages/build.gradle, +          with libFiles(oss), +++ b/buildSrc/build.gradle]