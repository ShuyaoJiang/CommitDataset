[+++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +        if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +        if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +                context.setMappingsModified();, +                context.source(), context.mappingsModified()).parent(source.parent());, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +        if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +                context.setMappingsModified();, +                context.source(), context.mappingsModified()).parent(source.parent());, +++ b/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +    private boolean mappingsModified = false;, +        this.mappingsModified = false;, +    public boolean mappingsModified() {, +        return this.mappingsModified;, +    public void setMappingsModified() {, +        this.mappingsModified = true;, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +        if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +                context.setMappingsModified();, +                context.source(), context.mappingsModified()).parent(source.parent());, +++ b/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +    private boolean mappingsModified = false;, +        this.mappingsModified = false;, +    public boolean mappingsModified() {, +        return this.mappingsModified;, +    public void setMappingsModified() {, +        this.mappingsModified = true;, +++ b/src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java, +    private boolean mappingsModified;, +    public ParsedDocument(String uid, String id, String type, String routing, long timestamp, long ttl, Document document, Analyzer analyzer, BytesReference source, boolean mappingsModified) {, +        this(uid, id, type, routing, timestamp, ttl, Arrays.asList(document), analyzer, source, mappingsModified);, +    public ParsedDocument(String uid, String id, String type, String routing, long timestamp, long ttl, List<Document> documents, Analyzer analyzer, BytesReference source, boolean mappingsModified) {, +        this.mappingsModified = mappingsModified;, +     * Has the parsed document caused mappings to be modified?, +    public boolean mappingsModified() {, +        return mappingsModified;, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +        if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +                context.setMappingsModified();, +                context.source(), context.mappingsModified()).parent(source.parent());, +++ b/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +    private boolean mappingsModified = false;, +        this.mappingsModified = false;, +    public boolean mappingsModified() {, +        return this.mappingsModified;, +    public void setMappingsModified() {, +        this.mappingsModified = true;, +++ b/src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java, +    private boolean mappingsModified;, +    public ParsedDocument(String uid, String id, String type, String routing, long timestamp, long ttl, Document document, Analyzer analyzer, BytesReference source, boolean mappingsModified) {, +        this(uid, id, type, routing, timestamp, ttl, Arrays.asList(document), analyzer, source, mappingsModified);, +    public ParsedDocument(String uid, String id, String type, String routing, long timestamp, long ttl, List<Document> documents, Analyzer analyzer, BytesReference source, boolean mappingsModified) {, +        this.mappingsModified = mappingsModified;, +     * Has the parsed document caused mappings to be modified?, +    public boolean mappingsModified() {, +        return mappingsModified;, +++ b/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java, +                        context.setMappingsModified();, +                context.setMappingsModified();, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +        if (op.parsedDoc().mappingsModified()) {, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +                context.setMappingsModified();, +                context.source(), context.mappingsModified()).parent(source.parent());, +++ b/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +    private boolean mappingsModified = false;, +        this.mappingsModified = false;, +    public boolean mappingsModified() {, +        return this.mappingsModified;, +    public void setMappingsModified() {, +        this.mappingsModified = true;, +++ b/src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java, +    private boolean mappingsModified;, +    public ParsedDocument(String uid, String id, String type, String routing, long timestamp, long ttl, Document document, Analyzer analyzer, BytesReference source, boolean mappingsModified) {, +        this(uid, id, type, routing, timestamp, ttl, Arrays.asList(document), analyzer, source, mappingsModified);, +    public ParsedDocument(String uid, String id, String type, String routing, long timestamp, long ttl, List<Document> documents, Analyzer analyzer, BytesReference source, boolean mappingsModified) {, +        this.mappingsModified = mappingsModified;, +     * Has the parsed document caused mappings to be modified?, +    public boolean mappingsModified() {, +        return mappingsModified;, +++ b/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java]