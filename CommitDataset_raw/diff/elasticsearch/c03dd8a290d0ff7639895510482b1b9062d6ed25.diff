[+++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +        Objects.requireNonNull(request, "'request' must not be null");, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +        Objects.requireNonNull(request, "'request' must not be null");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 5.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be reindexed in Elasticsearch 2.x, +     * before they can be opened by this version of elasticsearch.     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1.", +                    + " It should be reindexed in Elasticsearch 2.x before upgrading to " + Version.CURRENT + ".");, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +        Objects.requireNonNull(request, "'request' must not be null");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 5.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be reindexed in Elasticsearch 2.x, +     * before they can be opened by this version of elasticsearch.     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1.", +                    + " It should be reindexed in Elasticsearch 2.x before upgrading to " + Version.CURRENT + ".");, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +, +    public void testCannotAddNullRequests() throws Exception {, +        BulkRequest bulkRequest = new BulkRequest();, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((IndexRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((UpdateRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((DeleteRequest) null));, +    }, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +        Objects.requireNonNull(request, "'request' must not be null");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 5.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be reindexed in Elasticsearch 2.x, +     * before they can be opened by this version of elasticsearch.     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1.", +                    + " It should be reindexed in Elasticsearch 2.x before upgrading to " + Version.CURRENT + ".");, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +, +    public void testCannotAddNullRequests() throws Exception {, +        BulkRequest bulkRequest = new BulkRequest();, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((IndexRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((UpdateRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((DeleteRequest) null));, +    }, +++ b/docs/reference/search/request/explain.asciidoc, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +        Objects.requireNonNull(request, "'request' must not be null");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 5.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be reindexed in Elasticsearch 2.x, +     * before they can be opened by this version of elasticsearch.     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1.", +                    + " It should be reindexed in Elasticsearch 2.x before upgrading to " + Version.CURRENT + ".");, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +, +    public void testCannotAddNullRequests() throws Exception {, +        BulkRequest bulkRequest = new BulkRequest();, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((IndexRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((UpdateRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((DeleteRequest) null));, +    }, +++ b/docs/reference/search/request/explain.asciidoc, +++ b/docs/reference/search/request/fielddata-fields.asciidoc, +        ..., +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +        Objects.requireNonNull(request, "'request' must not be null");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 5.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be reindexed in Elasticsearch 2.x, +     * before they can be opened by this version of elasticsearch.     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1.", +                    + " It should be reindexed in Elasticsearch 2.x before upgrading to " + Version.CURRENT + ".");, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +, +    public void testCannotAddNullRequests() throws Exception {, +        BulkRequest bulkRequest = new BulkRequest();, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((IndexRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((UpdateRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((DeleteRequest) null));, +    }, +++ b/docs/reference/search/request/explain.asciidoc, +++ b/docs/reference/search/request/fielddata-fields.asciidoc, +        ..., +++ b/docs/reference/search/request/fields.asciidoc, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +        Objects.requireNonNull(request, "'request' must not be null");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 5.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be reindexed in Elasticsearch 2.x, +     * before they can be opened by this version of elasticsearch.     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1.", +                    + " It should be reindexed in Elasticsearch 2.x before upgrading to " + Version.CURRENT + ".");, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +, +    public void testCannotAddNullRequests() throws Exception {, +        BulkRequest bulkRequest = new BulkRequest();, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((IndexRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((UpdateRequest) null));, +        expectThrows(NullPointerException.class, () -> bulkRequest.add((DeleteRequest) null));, +    }, +++ b/docs/reference/search/request/explain.asciidoc, +++ b/docs/reference/search/request/fielddata-fields.asciidoc]