[+++ b/core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                UpdateResponse update = new UpdateResponse(indexResponse.getShardInfo(), indexResponse.getShardId(), indexResponse.getType(), indexResponse.getId(), indexResponse.getVersion(), indexResponse.getResult());, +                if (translate.getResponseResult() == DocWriteResponse.Result.CREATED) {, +                    if ((updateRequest.fetchSource() != null && updateRequest.fetchSource().fetchSource()) ||, +                            (updateRequest.fields() != null && updateRequest.fields().length > 0)) {, +                        update.setGetResult(updateHelper.extractGetResult(updateRequest, updateRequest.concreteIndex(), indexResponse.getVersion(), sourceAndContent.v2(), sourceAndContent.v1(), indexSourceAsBytes));, +                    } else {, +                        update.setGetResult(null);, +                    }, +                } else {, +                    assert translate.getResponseResult() == DocWriteResponse.Result.UPDATED;, +                    update.setGetResult(updateHelper.extractGetResult(updateRequest, updateRequest.concreteIndex(), indexResponse.getVersion(), translate.updatedSourceAsMap(), translate.updateSourceContentType(), indexSourceAsBytes));, +                return new WriteResult<>(update, writeResult.getLocation());]