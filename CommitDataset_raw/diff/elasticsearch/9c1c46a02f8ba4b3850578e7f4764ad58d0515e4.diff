[+++ b/server/src/test/java/org/elasticsearch/index/engine/CombinedDeletionPolicyTests.java, +        assertThat(softDeletesPolicy.getMinRetainedSeqNo(), equalTo(, +            Math.max(0, Math.min(getLocalCheckpoint(commitList.get(keptIndex)) + 1, globalCheckpoint.get() + 1 - extraRetainedOps))));, +            assertThat(softDeletesPolicy.getMinRetainedSeqNo(), equalTo(, +                Math.max(0, Math.min(getLocalCheckpoint(safeCommit) + 1, globalCheckpoint.get() + 1 - extraRetainedOps))));, +            assertThat(softDeletesPolicy.getMinRetainedSeqNo(), equalTo(, +                Math.max(0, Math.min(getLocalCheckpoint(commitList.get(safeIndex)) + 1, globalCheckpoint.get() + 1 - extraRetainedOps))));, +        assertThat(softDeletesPolicy.getMinRetainedSeqNo(), equalTo(, +            Math.max(0, Math.min(getLocalCheckpoint(safeCommit) + 1, globalCheckpoint.get() + 1 - extraRetainedOps))));]