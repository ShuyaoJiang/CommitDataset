[+++ b/qa/audit-tests/build.gradle, +  setting 'xpack.monitoring.enabled', 'false', +++ b/qa/audit-tests/build.gradle, +  setting 'xpack.monitoring.enabled', 'false', +++ b/qa/audit-tests/src/test/java/org/elasticsearch/xpack/security/audit/IndexAuditIT.java, +import org.elasticsearch.client.Client;, +import org.elasticsearch.common.io.stream.NamedWriteableRegistry;, +import org.elasticsearch.test.TestCluster;, +import java.io.IOException;, +import java.net.InetSocketAddress;, +    @Override, +    protected TestCluster buildTestCluster(Scope scope, long seed) throws IOException {, +        TestCluster testCluster = super.buildTestCluster(scope, seed);, +        return new TestCluster(seed) {, +, +            @Override, +            public void afterTest() throws IOException {, +                testCluster.afterTest();, +            }, +, +            @Override, +            public Client client() {, +                return testCluster.client();, +            }, +, +            @Override, +            public int size() {, +                return testCluster.size();, +            }, +, +            @Override, +            public int numDataNodes() {, +                return testCluster.numDataNodes();, +            }, +, +            @Override, +            public int numDataAndMasterNodes() {, +                return testCluster.numDataAndMasterNodes();, +            }, +, +            @Override, +            public InetSocketAddress[] httpAddresses() {, +                return testCluster.httpAddresses();, +            }, +, +            @Override, +            public void close() throws IOException {, +                testCluster.close();, +            }, +, +            @Override, +            public void ensureEstimatedStats() {, +                // stats are not going to be accurate for these tests since the index audit trail, +                // is running and changing the values so we wrap the test cluster to skip these, +                // checks, +            }, +, +            @Override, +            public String getClusterName() {, +                return testCluster.getClusterName();, +            }, +, +            @Override, +            public Iterable<Client> getClients() {, +                return testCluster.getClients();, +            }, +, +            @Override, +            public NamedWriteableRegistry getNamedWriteableRegistry() {, +                return testCluster.getNamedWriteableRegistry();, +            }, +        };, +    }, +]