[+++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +        for (HttpHost host : hosts) {, +            Objects.requireNonNull(host, "host cannot be null");, +        }, +        RestClient restClient = new RestClient(httpClient, maxRetryTimeout, defaultHeaders, hosts, failureListener);, +        return restClient;, +++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +        for (HttpHost host : hosts) {, +            Objects.requireNonNull(host, "host cannot be null");, +        }, +        RestClient restClient = new RestClient(httpClient, maxRetryTimeout, defaultHeaders, hosts, failureListener);, +        return restClient;, +++ b/client/rest/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java, +            RestClient.builder(new HttpHost("localhost", 9200), null);, +        try (RestClient restClient = RestClient.builder(new HttpHost("localhost", 9200)).build()) {, +            assertNotNull(restClient);, +        }, +]