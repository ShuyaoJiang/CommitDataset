[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/support/RestXContentBuilder.java, +                XContentParser parser = XContentFactory.xContent(contentType).createParser(siLzf);, +            XContentType contentType = XContentFactory.xContentType(source);, +            if (contentType == builder.contentType()) {, +                XContentParser parser = XContentFactory.xContent(contentType).createParser(source);]