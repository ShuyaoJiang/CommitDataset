[+++ b/bin/elasticsearch.in.bat, +++ b/bin/elasticsearch.in.bat, +++ b/bin/elasticsearch.in.sh, +++ b/bin/elasticsearch.in.bat, +++ b/bin/elasticsearch.in.sh, +++ b/docs/reference/search/request/sort.asciidoc, +++ b/bin/elasticsearch.in.bat, +++ b/bin/elasticsearch.in.sh, +++ b/docs/reference/search/request/sort.asciidoc, +++ b/docs/reference/search/suggesters/phrase-suggest.asciidoc, +    prune suggestions for which no matching docs exist in the index. Either, +    a `query` or a `filter` must be specified, and it is run as a, +    <<query-dsl-template-query,`template` query>>. The current suggestion is, +    automatically made available as the `{{suggestion}}`  variable, which, +    should be used in your query/filter.  You can still specify  your own, +    template `params` -- the `suggestion` value will be added to the, +    variables you specify. You can specify a `preference` to control, +    on which shards the query is executed (see <<search-request-preference>>)., +    The default value is `_only_local`. Additionally, you can specify, +    a `prune` to control if all phrase suggestions will be, +    returned, when set to `true` the suggestions will have an additional, +    option `collate_match`, which will be `true` if matching documents, +    for the phrase was found, `false` otherwise. The default value for, +    `prune` is `false`., +           "preference": "_primary", <4>, +           "prune": true <5>, +<4> The default `preference` has been changed to `_primary`., +<5> All suggestions will be returned with an extra `collate_match`, +++ b/bin/elasticsearch.in.bat, +++ b/bin/elasticsearch.in.sh, +++ b/docs/reference/search/request/sort.asciidoc, +++ b/docs/reference/search/suggesters/phrase-suggest.asciidoc, +    prune suggestions for which no matching docs exist in the index. Either, +    a `query` or a `filter` must be specified, and it is run as a, +    <<query-dsl-template-query,`template` query>>. The current suggestion is, +    automatically made available as the `{{suggestion}}`  variable, which, +    should be used in your query/filter.  You can still specify  your own, +    template `params` -- the `suggestion` value will be added to the, +    variables you specify. You can specify a `preference` to control, +    on which shards the query is executed (see <<search-request-preference>>)., +    The default value is `_only_local`. Additionally, you can specify, +    a `prune` to control if all phrase suggestions will be, +    returned, when set to `true` the suggestions will have an additional, +    option `collate_match`, which will be `true` if matching documents, +    for the phrase was found, `false` otherwise. The default value for, +    `prune` is `false`., +           "preference": "_primary", <4>, +           "prune": true <5>, +<4> The default `preference` has been changed to `_primary`., +<5> All suggestions will be returned with an extra `collate_match`, +++ b/pom.xml, +++ b/bin/elasticsearch.in.bat, +++ b/bin/elasticsearch.in.sh, +++ b/docs/reference/search/request/sort.asciidoc, +++ b/docs/reference/search/suggesters/phrase-suggest.asciidoc, +    prune suggestions for which no matching docs exist in the index. Either, +    a `query` or a `filter` must be specified, and it is run as a, +    <<query-dsl-template-query,`template` query>>. The current suggestion is, +    automatically made available as the `{{suggestion}}`  variable, which, +    should be used in your query/filter.  You can still specify  your own, +    template `params` -- the `suggestion` value will be added to the, +    variables you specify. You can specify a `preference` to control, +    on which shards the query is executed (see <<search-request-preference>>)., +    The default value is `_only_local`. Additionally, you can specify, +    a `prune` to control if all phrase suggestions will be, +    returned, when set to `true` the suggestions will have an additional, +    option `collate_match`, which will be `true` if matching documents, +    for the phrase was found, `false` otherwise. The default value for, +    `prune` is `false`., +           "preference": "_primary", <4>, +           "prune": true <5>, +<4> The default `preference` has been changed to `_primary`., +<5> All suggestions will be returned with an extra `collate_match`, +++ b/pom.xml, +++ b/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java, +        final Engine.Searcher searcher = indexShard.acquireSearcher("suggest");, +        try {, +                final SuggestionSearchContext context = suggestPhase.parseElement().parseInternal(parser, indexService.mapperService(), request.shardId().getIndex(), request.shardId().id());, +                final Suggest result = suggestPhase.execute(context, searcher.reader());, +            searcher.close();, +++ b/bin/elasticsearch.in.bat, +++ b/bin/elasticsearch.in.sh, +++ b/docs/reference/search/request/sort.asciidoc, +++ b/docs/reference/search/suggesters/phrase-suggest.asciidoc, +    prune suggestions for which no matching docs exist in the index. Either, +    a `query` or a `filter` must be specified, and it is run as a, +    <<query-dsl-template-query,`template` query>>. The current suggestion is, +    automatically made available as the `{{suggestion}}`  variable, which, +    should be used in your query/filter.  You can still specify  your own, +    template `params` -- the `suggestion` value will be added to the, +    variables you specify. You can specify a `preference` to control, +    on which shards the query is executed (see <<search-request-preference>>)., +    The default value is `_only_local`. Additionally, you can specify, +    a `prune` to control if all phrase suggestions will be, +    returned, when set to `true` the suggestions will have an additional, +    option `collate_match`, which will be `true` if matching documents, +    for the phrase was found, `false` otherwise. The default value for, +    `prune` is `false`., +           "preference": "_primary", <4>, +           "prune": true <5>]