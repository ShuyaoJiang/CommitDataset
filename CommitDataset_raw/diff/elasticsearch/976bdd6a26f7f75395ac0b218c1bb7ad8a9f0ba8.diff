[+++ b/src/main/java/org/elasticsearch/transport/Transport.java, +    public static class TransportSettings {, +        public static final String TRANSPORT_TCP_COMPRESS = "transport.tcp.compress";, +    }, +, +++ b/src/main/java/org/elasticsearch/transport/Transport.java, +    public static class TransportSettings {, +        public static final String TRANSPORT_TCP_COMPRESS = "transport.tcp.compress";, +    }, +, +++ b/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java, +        this.compress = settings.getAsBoolean(TransportSettings.TRANSPORT_TCP_COMPRESS, false);, +++ b/src/main/java/org/elasticsearch/transport/Transport.java, +    public static class TransportSettings {, +        public static final String TRANSPORT_TCP_COMPRESS = "transport.tcp.compress";, +    }, +, +++ b/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java, +        this.compress = settings.getAsBoolean(TransportSettings.TRANSPORT_TCP_COMPRESS, false);, +++ b/src/test/java/org/elasticsearch/test/TestCluster.java, +import org.elasticsearch.transport.Transport;, +        } else {, +            builder.put(Transport.TransportSettings.TRANSPORT_TCP_COMPRESS, random.nextInt(10) == 0);]