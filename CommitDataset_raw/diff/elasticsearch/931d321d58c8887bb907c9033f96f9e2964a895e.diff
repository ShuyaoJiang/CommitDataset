[+++ b/core/src/main/java/org/elasticsearch/ingest/ProcessorsRegistry.java, +     * Adds a processor factory under a specific name., +    public void addProcessor(String name, ProcessorFactoryProvider processorFactoryProvider) {, +        ProcessorFactoryProvider provider = processorFactoryProviders.putIfAbsent(name, processorFactoryProvider);, +        if (provider != null) {, +            throw new IllegalArgumentException("Processor factory already registered for name [" + name + "]");]