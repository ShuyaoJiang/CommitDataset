[+++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +    public PercolateRequestBuilder addSort(SortBuilder<?> sort) {, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +    public PercolateRequestBuilder addSort(SortBuilder<?> sort) {, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +    private QueryBuilder<?> queryBuilder;, +    private List<SortBuilder<?>> sorts;, +    private List<PipelineAggregatorBuilder<?>> pipelineAggregationBuilders;, +    public PercolateSourceBuilder setQueryBuilder(QueryBuilder<?> queryBuilder) {, +    public PercolateSourceBuilder addSort(SortBuilder<?> sort) {, +    public PercolateSourceBuilder addAggregation(PipelineAggregatorBuilder<?> aggregationBuilder) {, +            for (SortBuilder<?> sort : sorts) {, +                for (PipelineAggregatorBuilder<?> aggregation : pipelineAggregationBuilders) {, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +    public PercolateRequestBuilder addSort(SortBuilder<?> sort) {, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +    private QueryBuilder<?> queryBuilder;, +    private List<SortBuilder<?>> sorts;, +    private List<PipelineAggregatorBuilder<?>> pipelineAggregationBuilders;, +    public PercolateSourceBuilder setQueryBuilder(QueryBuilder<?> queryBuilder) {, +    public PercolateSourceBuilder addSort(SortBuilder<?> sort) {, +    public PercolateSourceBuilder addAggregation(PipelineAggregatorBuilder<?> aggregationBuilder) {, +            for (SortBuilder<?> sort : sorts) {, +                for (PipelineAggregatorBuilder<?> aggregation : pipelineAggregationBuilders) {, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorBuilder.java, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +    public PercolateRequestBuilder addSort(SortBuilder<?> sort) {, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +    private QueryBuilder<?> queryBuilder;, +    private List<SortBuilder<?>> sorts;, +    private List<PipelineAggregatorBuilder<?>> pipelineAggregationBuilders;, +    public PercolateSourceBuilder setQueryBuilder(QueryBuilder<?> queryBuilder) {, +    public PercolateSourceBuilder addSort(SortBuilder<?> sort) {, +    public PercolateSourceBuilder addAggregation(PipelineAggregatorBuilder<?> aggregationBuilder) {, +            for (SortBuilder<?> sort : sorts) {, +                for (PipelineAggregatorBuilder<?> aggregation : pipelineAggregationBuilders) {, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorBuilder.java, +++ b/core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +    public PercolateRequestBuilder addSort(SortBuilder<?> sort) {, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +    private QueryBuilder<?> queryBuilder;, +    private List<SortBuilder<?>> sorts;, +    private List<PipelineAggregatorBuilder<?>> pipelineAggregationBuilders;, +    public PercolateSourceBuilder setQueryBuilder(QueryBuilder<?> queryBuilder) {, +    public PercolateSourceBuilder addSort(SortBuilder<?> sort) {, +    public PercolateSourceBuilder addAggregation(PipelineAggregatorBuilder<?> aggregationBuilder) {, +            for (SortBuilder<?> sort : sorts) {, +                for (PipelineAggregatorBuilder<?> aggregation : pipelineAggregationBuilders) {, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorBuilder.java, +++ b/core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java, +++ b/core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java, +    public static final FieldSortBuilder PROTOTYPE = new FieldSortBuilder("_na_");, +        builder.startObject();, +        builder.endObject();, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +    public PercolateRequestBuilder addSort(SortBuilder<?> sort) {, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +    private QueryBuilder<?> queryBuilder;, +    private List<SortBuilder<?>> sorts;, +    private List<PipelineAggregatorBuilder<?>> pipelineAggregationBuilders;, +    public PercolateSourceBuilder setQueryBuilder(QueryBuilder<?> queryBuilder) {, +    public PercolateSourceBuilder addSort(SortBuilder<?> sort) {, +    public PercolateSourceBuilder addAggregation(PipelineAggregatorBuilder<?> aggregationBuilder) {, +            for (SortBuilder<?> sort : sorts) {, +                for (PipelineAggregatorBuilder<?> aggregation : pipelineAggregationBuilders) {, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorBuilder.java, +++ b/core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java, +++ b/core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java, +    public static final FieldSortBuilder PROTOTYPE = new FieldSortBuilder("_na_");, +        builder.startObject();, +        builder.endObject();, +++ b/core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java, +        builder.startObject();, +        builder.endObject();, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +    public PercolateRequestBuilder addSort(SortBuilder<?> sort) {, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +    private QueryBuilder<?> queryBuilder;, +    private List<SortBuilder<?>> sorts;, +    private List<PipelineAggregatorBuilder<?>> pipelineAggregationBuilders;, +    public PercolateSourceBuilder setQueryBuilder(QueryBuilder<?> queryBuilder) {, +    public PercolateSourceBuilder addSort(SortBuilder<?> sort) {, +    public PercolateSourceBuilder addAggregation(PipelineAggregatorBuilder<?> aggregationBuilder) {, +            for (SortBuilder<?> sort : sorts) {, +                for (PipelineAggregatorBuilder<?> aggregation : pipelineAggregationBuilders) {, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorBuilder.java, +++ b/core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java, +++ b/core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java, +    public static final FieldSortBuilder PROTOTYPE = new FieldSortBuilder("_na_");, +        builder.startObject();, +        builder.endObject();, +++ b/core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java, +        builder.startObject();, +        builder.endObject();, +++ b/core/src/main/java/org/elasticsearch/search/sort/ScoreSortBuilder.java, +        builder.startObject();, +        builder.endObject();, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +    public PercolateRequestBuilder addSort(SortBuilder<?> sort) {]