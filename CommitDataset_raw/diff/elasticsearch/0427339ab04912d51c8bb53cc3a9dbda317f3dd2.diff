[+++ b/docs/reference/mapping/types/text.asciidoc, +<<index-phrases,`index_phrases`>>::, +, +    If enabled, two-term word combinations ('shingles') are indexed into a separate, +    field.  This allows exact phrase queries to run more efficiently, at the expense, +    of a larger index.  Note that this works best when stopwords are not removed,, +    as phrases containing stopwords will not use the subsidiary field and will fall, +    back to a standard phrase query.  Accepts `true` or `false` (default)., +, +++ b/docs/reference/mapping/types/text.asciidoc, +<<index-phrases,`index_phrases`>>::, +, +    If enabled, two-term word combinations ('shingles') are indexed into a separate, +    field.  This allows exact phrase queries to run more efficiently, at the expense, +    of a larger index.  Note that this works best when stopwords are not removed,, +    as phrases containing stopwords will not use the subsidiary field and will fall, +    back to a standard phrase query.  Accepts `true` or `false` (default)., +, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/search/200_index_phrase_search.yml, +---, +"search with indexed phrases":, +  - skip:, +      version: " - 6.99.99", +      reason: index_phrase is only available as of 7.0.0, +  - do:, +      indices.create:, +        index:  test, +        body:, +          mappings:, +            test:, +              properties:, +                text:, +                  type: text, +                  index_phrases: true, +, +  - do:, +      index:, +          index:  test, +          type:   test, +          id:     1, +          body:   { text: "peter piper picked a peck of pickled peppers" }, +, +  - do:, +      indices.refresh:, +        index: [test], +, +  - do:, +      search:, +        index: test, +        body:, +          query:, +            match_phrase:, +              text:, +                query: "peter piper", +, +  - match: {hits.total: 1}, +, +  - do:, +      search:, +        index: test, +        q: '"peter piper"~1', +        df: text, +, +  - match: {hits.total: 1}, +, +  - do:, +      search:, +        index: test, +        body:, +          query:, +            match_phrase:, +              text: "peter piper picked", +, +  - match: {hits.total: 1}, +, +  - do:, +      search:, +        index: test, +        body:, +          query:, +            match_phrase:, +              text: "piper", +, +  - match: {hits.total: 1}, +, +, +++ b/docs/reference/mapping/types/text.asciidoc, +<<index-phrases,`index_phrases`>>::, +, +    If enabled, two-term word combinations ('shingles') are indexed into a separate, +    field.  This allows exact phrase queries to run more efficiently, at the expense, +    of a larger index.  Note that this works best when stopwords are not removed,, +    as phrases containing stopwords will not use the subsidiary field and will fall, +    back to a standard phrase query.  Accepts `true` or `false` (default)., +, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/search/200_index_phrase_search.yml, +---, +"search with indexed phrases":, +  - skip:, +      version: " - 6.99.99"]