[+++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception e) {, +                logFailure(e);, +, +            private void logFailure(Exception e) {, +                if (e instanceof ResponseException) {, +                    ResponseException re = (ResponseException) e;, +                    if (remoteVersion.before(Version.V_2_0_0) && re.getResponse().getStatusLine().getStatusCode() == 404) {, +                        logger.debug((Supplier<?>) () -> new ParameterizedMessage(, +                                "Failed to clear scroll [{}] from pre-2.0 Elasticsearch. This is normal if the request terminated ", +                                        + "normally as the scroll has already been cleared automatically.", scrollId), e);, +                        return;, +                    }, +                }, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), e);, +            }, +                logger.debug("Shut down remote connection");, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception e) {, +                logFailure(e);, +, +            private void logFailure(Exception e) {, +                if (e instanceof ResponseException) {, +                    ResponseException re = (ResponseException) e;, +                    if (remoteVersion.before(Version.V_2_0_0) && re.getResponse().getStatusLine().getStatusCode() == 404) {, +                        logger.debug((Supplier<?>) () -> new ParameterizedMessage(, +                                "Failed to clear scroll [{}] from pre-2.0 Elasticsearch. This is normal if the request terminated ", +                                        + "normally as the scroll has already been cleared automatically.", scrollId), e);, +                        return;, +                    }, +                }, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), e);, +            }, +                logger.debug("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files.zip";, +        TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES), tmp);, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception e) {, +                logFailure(e);, +, +            private void logFailure(Exception e) {, +                if (e instanceof ResponseException) {, +                    ResponseException re = (ResponseException) e;, +                    if (remoteVersion.before(Version.V_2_0_0) && re.getResponse().getStatusLine().getStatusCode() == 404) {, +                        logger.debug((Supplier<?>) () -> new ParameterizedMessage(, +                                "Failed to clear scroll [{}] from pre-2.0 Elasticsearch. This is normal if the request terminated ", +                                        + "normally as the scroll has already been cleared automatically.", scrollId), e);, +                        return;, +                    }, +                }, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), e);, +            }, +                logger.debug("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files.zip";, +        TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES), tmp);, +++ b/plugins/ingest-attachment/src/test/resources/org/elasticsearch/ingest/attachment/test/tika-files.zip, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception e) {, +                logFailure(e);, +, +            private void logFailure(Exception e) {, +                if (e instanceof ResponseException) {, +                    ResponseException re = (ResponseException) e;, +                    if (remoteVersion.before(Version.V_2_0_0) && re.getResponse().getStatusLine().getStatusCode() == 404) {, +                        logger.debug((Supplier<?>) () -> new ParameterizedMessage(, +                                "Failed to clear scroll [{}] from pre-2.0 Elasticsearch. This is normal if the request terminated ", +                                        + "normally as the scroll has already been cleared automatically.", scrollId), e);, +                        return;, +                    }, +                }, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), e);, +            }, +                logger.debug("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files.zip";, +        TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES), tmp);, +++ b/plugins/ingest-attachment/src/test/resources/org/elasticsearch/ingest/attachment/test/tika-files.zip, +++ /dev/null, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception e) {, +                logFailure(e);, +, +            private void logFailure(Exception e) {, +                if (e instanceof ResponseException) {, +                    ResponseException re = (ResponseException) e;, +                    if (remoteVersion.before(Version.V_2_0_0) && re.getResponse().getStatusLine().getStatusCode() == 404) {, +                        logger.debug((Supplier<?>) () -> new ParameterizedMessage(, +                                "Failed to clear scroll [{}] from pre-2.0 Elasticsearch. This is normal if the request terminated ", +                                        + "normally as the scroll has already been cleared automatically.", scrollId), e);, +                        return;, +                    }, +                }, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), e);, +            }, +                logger.debug("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files.zip";, +        TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES), tmp);]