[+++ b/.idea/dictionaries/kimchy.xml, +      <w>chunking</w>, +++ b/.idea/dictionaries/kimchy.xml, +      <w>chunking</w>, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <RunnerSettings RunnerId="Debug">, +      <option name="DEBUG_PORT" value="57077" />, +      <option name="TRANSPORT" value="0" />, +      <option name="LOCAL" value="true" />, +    </RunnerSettings>, +    <ConfigurationWrapper RunnerId="Debug" />, +++ b/.idea/dictionaries/kimchy.xml, +      <w>chunking</w>, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <RunnerSettings RunnerId="Debug">, +      <option name="DEBUG_PORT" value="57077" />, +      <option name="TRANSPORT" value="0" />, +      <option name="LOCAL" value="true" />, +    </RunnerSettings>, +    <ConfigurationWrapper RunnerId="Debug" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/gateway/snapshot/TransportShardGatewaySnapshotAction.java, +        shardGatewayService.snapshot("api");, +++ b/.idea/dictionaries/kimchy.xml, +      <w>chunking</w>, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <RunnerSettings RunnerId="Debug">, +      <option name="DEBUG_PORT" value="57077" />, +      <option name="TRANSPORT" value="0" />, +      <option name="LOCAL" value="true" />, +    </RunnerSettings>, +    <ConfigurationWrapper RunnerId="Debug" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/gateway/snapshot/TransportShardGatewaySnapshotAction.java, +        shardGatewayService.snapshot("api");, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java, +, +        @Override public String toString() {, +            return transportAction();, +        }, +, +        @Override public String toString() {, +            return transportNodeAction();, +        }, +++ b/.idea/dictionaries/kimchy.xml, +      <w>chunking</w>, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <RunnerSettings RunnerId="Debug">, +      <option name="DEBUG_PORT" value="57077" />, +      <option name="TRANSPORT" value="0" />, +      <option name="LOCAL" value="true" />, +    </RunnerSettings>, +    <ConfigurationWrapper RunnerId="Debug" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/gateway/snapshot/TransportShardGatewaySnapshotAction.java, +        shardGatewayService.snapshot("api");, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java, +, +        @Override public String toString() {, +            return transportAction();, +        }, +, +        @Override public String toString() {, +            return transportNodeAction();, +        }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java, +import org.elasticsearch.index.shard.ShardId;, +            if (!indicesService.hasIndex(request.index()) || !clusterState.routingTable().hasIndex(request.index())) {, +                retryPrimary(fromClusterEvent, null);, +                return false;, +            }, +                    if (!shard.active() || !nodes.nodeExists(shard.currentNodeId()) || !indicesService.hasIndex(request.index())) {, +                        retryPrimary(fromClusterEvent, shard.shardId());, +        private void retryPrimary(boolean fromClusterEvent, final ShardId shardId) {, +                        final PrimaryNotStartedActionException failure = new PrimaryNotStartedActionException(shardId, "Timeout waiting for [" + timeValue + "]");, +                retryPrimary(fromDiscoveryListener, shard.shardId());, +++ b/.idea/dictionaries/kimchy.xml, +      <w>chunking</w>, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <RunnerSettings RunnerId="Debug">, +      <option name="DEBUG_PORT" value="57077" />, +      <option name="TRANSPORT" value="0" />, +      <option name="LOCAL" value="true" />, +    </RunnerSettings>, +    <ConfigurationWrapper RunnerId="Debug" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/gateway/snapshot/TransportShardGatewaySnapshotAction.java, +        shardGatewayService.snapshot("api");, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java, +, +        @Override public String toString() {, +            return transportAction();, +        }, +, +        @Override public String toString() {, +            return transportNodeAction();, +        }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java, +import org.elasticsearch.index.shard.ShardId;, +            if (!indicesService.hasIndex(request.index()) || !clusterState.routingTable().hasIndex(request.index())) {, +                retryPrimary(fromClusterEvent, null);, +                return false;, +            }, +                    if (!shard.active() || !nodes.nodeExists(shard.currentNodeId()) || !indicesService.hasIndex(request.index())) {]