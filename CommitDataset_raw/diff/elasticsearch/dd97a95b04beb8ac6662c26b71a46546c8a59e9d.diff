[+++ b/src/test/java/org/elasticsearch/cluster/ack/AckTests.java, +import com.google.common.base.Predicate;, +    public void testPutWarmerNoAcknowledgement() throws InterruptedException {, +        /* Since we don't wait for the ack here we have to wait until the search request has been executed from the master, +         * otherwise the test infra might have already deleted the index and the search request fails on all shards causing, +         * the test to fail too. We simply wait until the the warmer has been installed and also clean it up afterwards.*/, +        assertTrue(awaitBusy(new Predicate<Object>() {, +            @Override, +            public boolean apply(Object input) {, +                for (Client client : clients()) {, +                    GetWarmersResponse getWarmersResponse = client.admin().indices().prepareGetWarmers().setLocal(true).get();, +                    if (getWarmersResponse.warmers().size() != 1) {, +                        return false;, +                    }, +                }, +                return true;, +            }, +        }));, +        assertAcked(client().admin().indices().prepareDeleteWarmer().setIndices("test").setNames("custom_warmer"));]