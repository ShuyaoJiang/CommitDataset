[+++ b/README.textile, +The above will index information into the @kimchy@ index, with two types, @info@ and @tweet@. Each user will get his own special index., +++ b/README.textile, +The above will index information into the @kimchy@ index, with two types, @info@ and @tweet@. Each user will get his own special index., +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]PropertiesSettingsLoader.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]JsonSettingsLoaderTests.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]YamlSettingsLoaderTests.java" checks="LineLength" />, +++ b/README.textile, +The above will index information into the @kimchy@ index, with two types, @info@ and @tweet@. Each user will get his own special index., +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]PropertiesSettingsLoader.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]JsonSettingsLoaderTests.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]YamlSettingsLoaderTests.java" checks="LineLength" />, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +        long availableMemory;, +        public ByteSizeValue getAvailableMemory() {, +            return new ByteSizeValue(availableMemory);, +        }, +, +            availableMemory = in.readLong();, +            out.writeLong(availableMemory);, +            static final XContentBuilderString MEM = new XContentBuilderString("mem");, +            static final XContentBuilderString TOTAL = new XContentBuilderString("total");, +            static final XContentBuilderString TOTAL_IN_BYTES = new XContentBuilderString("total_in_bytes");, +            builder.startObject(Fields.MEM);, +            builder.byteSizeField(Fields.TOTAL_IN_BYTES, Fields.TOTAL, availableMemory);, +            builder.endObject();, +, +++ b/README.textile, +The above will index information into the @kimchy@ index, with two types, @info@ and @tweet@. Each user will get his own special index., +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]PropertiesSettingsLoader.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]JsonSettingsLoaderTests.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]YamlSettingsLoaderTests.java" checks="LineLength" />, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +        long availableMemory;, +        public ByteSizeValue getAvailableMemory() {, +            return new ByteSizeValue(availableMemory);, +        }, +, +            availableMemory = in.readLong();, +            out.writeLong(availableMemory);, +            static final XContentBuilderString MEM = new XContentBuilderString("mem");, +            static final XContentBuilderString TOTAL = new XContentBuilderString("total");, +            static final XContentBuilderString TOTAL_IN_BYTES = new XContentBuilderString("total_in_bytes");, +            builder.startObject(Fields.MEM);, +            builder.byteSizeField(Fields.TOTAL_IN_BYTES, Fields.TOTAL, availableMemory);, +            builder.endObject();, +, +++ b/core/src/main/java/org/elasticsearch/common/settings/loader/JsonSettingsLoader.java, +++ b/README.textile, +The above will index information into the @kimchy@ index, with two types, @info@ and @tweet@. Each user will get his own special index., +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]PropertiesSettingsLoader.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]JsonSettingsLoaderTests.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]YamlSettingsLoaderTests.java" checks="LineLength" />, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +        long availableMemory;, +        public ByteSizeValue getAvailableMemory() {, +            return new ByteSizeValue(availableMemory);, +        }, +, +            availableMemory = in.readLong();, +            out.writeLong(availableMemory);, +            static final XContentBuilderString MEM = new XContentBuilderString("mem");, +            static final XContentBuilderString TOTAL = new XContentBuilderString("total");, +            static final XContentBuilderString TOTAL_IN_BYTES = new XContentBuilderString("total_in_bytes");, +            builder.startObject(Fields.MEM);, +            builder.byteSizeField(Fields.TOTAL_IN_BYTES, Fields.TOTAL, availableMemory);, +            builder.endObject();, +, +++ b/core/src/main/java/org/elasticsearch/common/settings/loader/JsonSettingsLoader.java, +++ b/core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java, +        Properties props = new NoDuplicatesProperties();, +        FastStringReader reader = new FastStringReader(source);, +            props.load(reader);, +            Map<String, String> result = new HashMap<>();, +            IOUtils.closeWhileHandlingException(reader);, +    @Override, +    public Map<String, String> load(byte[] source) throws IOException {, +        Properties props = new NoDuplicatesProperties();, +        StreamInput stream = StreamInput.wrap(source);, +        try {, +            props.load(stream);, +            Map<String, String> result = new HashMap<>();, +            for (Map.Entry entry : props.entrySet()) {, +                result.put((String) entry.getKey(), (String) entry.getValue());, +            }, +            return result;, +        } finally {, +            IOUtils.closeWhileHandlingException(stream);, +        }, +            Object previousValue = super.put(key, value);, +                throw new ElasticsearchParseException("duplicate settings key [{}] found, previous value [{}], current value [{}]", key, previousValue, value);, +++ b/README.textile, +The above will index information into the @kimchy@ index, with two types, @info@ and @tweet@. Each user will get his own special index., +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]PropertiesSettingsLoader.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]common[/\\]settings[/\\]loader[/\\]JsonSettingsLoaderTests.java" checks="LineLength" />]