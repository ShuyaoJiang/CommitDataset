[+++ b/.gitignore, +, +++ b/.gitignore, +, +++ b/core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java, +, +    public BlendedTermQuery(Term[] terms) {, +        return "blended(terms: " + Arrays.toString(terms) + ")";, +, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +++ b/.gitignore, +, +++ b/core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java, +, +    public BlendedTermQuery(Term[] terms) {, +        return "blended(terms: " + Arrays.toString(terms) + ")";, +, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java, +                    numberOfPendingTasks, numberOfInFlightFetch, UnassignedInfo.getNumberOfDelayedUnassigned(settings, clusterState),, +                numberOfInFlightFetch, UnassignedInfo.getNumberOfDelayedUnassigned(settings, clusterState), pendingTaskTimeInQueue);, +++ b/.gitignore, +, +++ b/core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java, +, +    public BlendedTermQuery(Term[] terms) {, +        return "blended(terms: " + Arrays.toString(terms) + ")";, +, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java, +                    numberOfPendingTasks, numberOfInFlightFetch, UnassignedInfo.getNumberOfDelayedUnassigned(settings, clusterState),, +                numberOfInFlightFetch, UnassignedInfo.getNumberOfDelayedUnassigned(settings, clusterState), pendingTaskTimeInQueue);, +++ b/core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java, +            sb.append("Java version: ").append(Constants.JAVA_VERSION);, +            Loggers.getLogger(JVMCheck.class).warn("bypassing jvm version check for version [{}], this can result in data corruption!", Constants.JAVA_VERSION);, +                sb.append("Your version: " + Constants.JVM_VERSION);, +++ b/.gitignore, +, +++ b/core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java, +, +    public BlendedTermQuery(Term[] terms) {, +        return "blended(terms: " + Arrays.toString(terms) + ")";, +, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java, +                    numberOfPendingTasks, numberOfInFlightFetch, UnassignedInfo.getNumberOfDelayedUnassigned(settings, clusterState),, +                numberOfInFlightFetch, UnassignedInfo.getNumberOfDelayedUnassigned(settings, clusterState), pendingTaskTimeInQueue);, +++ b/core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java, +            sb.append("Java version: ").append(Constants.JAVA_VERSION);, +            Loggers.getLogger(JVMCheck.class).warn("bypassing jvm version check for version [{}], this can result in data corruption!", Constants.JAVA_VERSION);, +                sb.append("Your version: " + Constants.JVM_VERSION);, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java, +                TimeValue nextDelay = TimeValue.timeValueMillis(UnassignedInfo.findNextDelayedAllocationIn(settings, event.state()));, +                logger.info("delaying allocation for [{}] unassigned shards, next check in [{}]", UnassignedInfo.getNumberOfDelayedUnassigned(settings, event.state()), nextDelay);, +++ b/.gitignore, +, +++ b/core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java, +, +    public BlendedTermQuery(Term[] terms) {, +        return "blended(terms: " + Arrays.toString(terms) + ")";, +, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java, +                    numberOfPendingTasks, numberOfInFlightFetch, UnassignedInfo.getNumberOfDelayedUnassigned(settings, clusterState),, +                numberOfInFlightFetch, UnassignedInfo.getNumberOfDelayedUnassigned(settings, clusterState), pendingTaskTimeInQueue);, +++ b/core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java, +            sb.append("Java version: ").append(Constants.JAVA_VERSION);, +            Loggers.getLogger(JVMCheck.class).warn("bypassing jvm version check for version [{}], this can result in data corruption!", Constants.JAVA_VERSION);, +                sb.append("Your version: " + Constants.JVM_VERSION);, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java, +                TimeValue nextDelay = TimeValue.timeValueMillis(UnassignedInfo.findNextDelayedAllocationIn(settings, event.state()));, +                logger.info("delaying allocation for [{}] unassigned shards, next check in [{}]", UnassignedInfo.getNumberOfDelayedUnassigned(settings, event.state()), nextDelay);, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java, +    public long getDelayAllocationExpirationIn(Settings settings, Settings indexSettings) {, +        long delta = System.currentTimeMillis() - timestamp;, +    public static int getNumberOfDelayedUnassigned(Settings settings, ClusterState state) {, +                long delay = shard.unassignedInfo().getDelayAllocationExpirationIn(settings, indexMetaData.getSettings());, +    public static long findNextDelayedAllocationIn(Settings settings, ClusterState state) {, +                long nextShardDelay = shard.unassignedInfo().getDelayAllocationExpirationIn(settings, indexMetaData.getSettings());, +++ b/.gitignore, +, +++ b/core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java, +, +    public BlendedTermQuery(Term[] terms) {, +        return "blended(terms: " + Arrays.toString(terms) + ")";, +, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +        return new BlendedTermQuery(terms) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java]