[+++ b/.gitignore, +.idea/gradle.xml, +.idea/misc.xml, +.idea/modules/elasticsearch-root.iml, +.idea/modules/plugin-river-rabbitmq.iml, +.idea/projectCodeStyle.xml, +, +, +++ b/.gitignore, +.idea/gradle.xml, +.idea/misc.xml, +.idea/modules/elasticsearch-root.iml, +.idea/modules/plugin-river-rabbitmq.iml, +.idea/projectCodeStyle.xml, +, +, +++ b/build.gradle, +    jdeb, +}, +, +dependencies {, +    jdeb group: 'org.vafer', name: 'jdeb', version: '0.8', +, +task deb(dependsOn: ['explodedDist']) << {, +    ant.taskdef(name: "deb", classname: "org.vafer.jdeb.ant.DebAntTask", classpath: configurations.jdeb.asPath ), +    ant.copy(todir: "${distsDir}/debian") { , +        fileset(dir: "pkg/debian/control"), +        filterset(begintoken: "[[", endtoken: "]]"){, +                filter(token: "version", value: "${version}"), +        }, +    }, +    ant.deb(destfile: "${distsDir}/${archivesBaseName}-${version}-1_all.deb", control: "${distsDir}/debian", verbose: "true"){, +        tarfileset(dir: explodedDistDir, prefix: "/usr/share/elasticsearch", includes: "*.txt, *.textile", username: "root", group: "root"), +        tarfileset(dir: explodedDistBinDir, prefix: "/usr/share/elasticsearch/bin", excludes: "*.bat", filemode: "755", username: "root", group: "root"), +        tarfileset(dir: explodedDistLibDir, prefix: "/usr/share/elasticsearch/lib", includes: "*.jar, sigar/*", username: "root", group: "root"), +        tarfileset(dir: explodedDistConfigDir, prefix: "/etc/elasticsearch", username: "root", group: "root"), +        tarfileset(dir: "pkg/debian/init.d", includes: "elasticsearch", prefix: "/etc/init.d", filemode: "755", username: "root", group: "root"), +        tarfileset(dir: "pkg/debian/default", includes: "elasticsearch", prefix: "/etc/default", username: "root", group: "root"), +    }, +    ant.delete(dir: "${distsDir}/debian"), +}, +, +, +task release(dependsOn: [zip, tar, deb]) << {, +++ b/.gitignore, +.idea/gradle.xml, +.idea/misc.xml, +.idea/modules/elasticsearch-root.iml, +.idea/modules/plugin-river-rabbitmq.iml, +.idea/projectCodeStyle.xml, +, +, +++ b/build.gradle, +    jdeb, +}, +, +dependencies {, +    jdeb group: 'org.vafer', name: 'jdeb', version: '0.8', +, +task deb(dependsOn: ['explodedDist']) << {, +    ant.taskdef(name: "deb", classname: "org.vafer.jdeb.ant.DebAntTask", classpath: configurations.jdeb.asPath ), +    ant.copy(todir: "${distsDir}/debian") { , +        fileset(dir: "pkg/debian/control"), +        filterset(begintoken: "[[", endtoken: "]]"){, +                filter(token: "version", value: "${version}"), +        }, +    }, +    ant.deb(destfile: "${distsDir}/${archivesBaseName}-${version}-1_all.deb", control: "${distsDir}/debian", verbose: "true"){, +        tarfileset(dir: explodedDistDir, prefix: "/usr/share/elasticsearch", includes: "*.txt, *.textile", username: "root", group: "root"), +        tarfileset(dir: explodedDistBinDir, prefix: "/usr/share/elasticsearch/bin", excludes: "*.bat", filemode: "755", username: "root", group: "root"), +        tarfileset(dir: explodedDistLibDir, prefix: "/usr/share/elasticsearch/lib", includes: "*.jar, sigar/*", username: "root", group: "root"), +        tarfileset(dir: explodedDistConfigDir, prefix: "/etc/elasticsearch", username: "root", group: "root"), +        tarfileset(dir: "pkg/debian/init.d", includes: "elasticsearch", prefix: "/etc/init.d", filemode: "755", username: "root", group: "root"), +        tarfileset(dir: "pkg/debian/default", includes: "elasticsearch", prefix: "/etc/default", username: "root", group: "root"), +    }, +    ant.delete(dir: "${distsDir}/debian"), +}, +, +, +task release(dependsOn: [zip, tar, deb]) << {, +++ b/pkg/debian/control/conffiles, +/etc/init.d/elasticsearch, +/etc/default/elasticsearch, +/etc/elasticsearch/logging.yml, +/etc/elasticsearch/elasticsearch.yml, +++ b/.gitignore, +.idea/gradle.xml, +.idea/misc.xml, +.idea/modules/elasticsearch-root.iml, +.idea/modules/plugin-river-rabbitmq.iml, +.idea/projectCodeStyle.xml, +, +, +++ b/build.gradle, +    jdeb, +}, +, +dependencies {, +    jdeb group: 'org.vafer', name: 'jdeb', version: '0.8', +]