[+++ b/core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +import java.util.Arrays;, +, +public class TransportCloseIndexAction extends TransportMasterNodeAction<CloseIndexRequest, CloseIndexResponse> {, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +import java.util.Arrays;, +, +public class TransportCloseIndexAction extends TransportMasterNodeAction<CloseIndexRequest, CloseIndexResponse> {, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +import java.util.Arrays;, +, +public class TransportCloseIndexAction extends TransportMasterNodeAction<CloseIndexRequest, CloseIndexResponse> {, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +import java.util.Arrays;, +, +public class TransportCloseIndexAction extends TransportMasterNodeAction<CloseIndexRequest, CloseIndexResponse> {, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java, +++ b/distribution/rpm/src/main/packaging/init.d/elasticsearch, +export ES_STARTUP_SLEEP_TIME, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +import java.util.Arrays;, +, +public class TransportCloseIndexAction extends TransportMasterNodeAction<CloseIndexRequest, CloseIndexResponse> {, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java, +++ b/distribution/rpm/src/main/packaging/init.d/elasticsearch, +export ES_STARTUP_SLEEP_TIME, +++ b/distribution/src/main/packaging/env/elasticsearch, +# The number of seconds to wait before checking if Elasticsearch started successfully as a daemon process, +ES_STARTUP_SLEEP_TIME=${packaging.elasticsearch.startup.sleep.time}, +, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +import java.util.Arrays;, +, +public class TransportCloseIndexAction extends TransportMasterNodeAction<CloseIndexRequest, CloseIndexResponse> {, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java, +++ b/distribution/rpm/src/main/packaging/init.d/elasticsearch, +export ES_STARTUP_SLEEP_TIME, +++ b/distribution/src/main/packaging/env/elasticsearch, +# The number of seconds to wait before checking if Elasticsearch started successfully as a daemon process, +ES_STARTUP_SLEEP_TIME=${packaging.elasticsearch.startup.sleep.time}, +, +++ b/distribution/src/main/packaging/packaging.properties, +# Default number of seconds to wait before checking if Elasticsearch started successfully as a daemon process, +packaging.elasticsearch.startup.sleep.time=5, +, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +import java.util.Arrays;, +, +public class TransportCloseIndexAction extends TransportMasterNodeAction<CloseIndexRequest, CloseIndexResponse> {, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java, +++ b/distribution/rpm/src/main/packaging/init.d/elasticsearch, +export ES_STARTUP_SLEEP_TIME, +++ b/distribution/src/main/packaging/env/elasticsearch, +# The number of seconds to wait before checking if Elasticsearch started successfully as a daemon process, +ES_STARTUP_SLEEP_TIME=${packaging.elasticsearch.startup.sleep.time}, +, +++ b/distribution/src/main/packaging/packaging.properties, +# Default number of seconds to wait before checking if Elasticsearch started successfully as a daemon process, +packaging.elasticsearch.startup.sleep.time=5, +, +++ b/distribution/src/main/resources/bin/elasticsearch, +    retval=$?, +    pid=$!, +    [ $retval -eq 0 ] || exit $retval, +    if [ ! -z "$ES_STARTUP_SLEEP_TIME" ]; then, +      sleep $ES_STARTUP_SLEEP_TIME, +    fi, +    if ! ps -p $pid > /dev/null ; then, +      exit 1, +    fi, +    exit 0, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java, +import java.util.Arrays;, +, +public class TransportCloseIndexAction extends TransportMasterNodeAction<CloseIndexRequest, CloseIndexResponse> {, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java, +++ b/distribution/rpm/src/main/packaging/init.d/elasticsearch, +export ES_STARTUP_SLEEP_TIME, +++ b/distribution/src/main/packaging/env/elasticsearch, +# The number of seconds to wait before checking if Elasticsearch started successfully as a daemon process, +ES_STARTUP_SLEEP_TIME=${packaging.elasticsearch.startup.sleep.time}, +, +++ b/distribution/src/main/packaging/packaging.properties, +# Default number of seconds to wait before checking if Elasticsearch started successfully as a daemon process, +packaging.elasticsearch.startup.sleep.time=5, +, +++ b/distribution/src/main/resources/bin/elasticsearch, +    retval=$?, +    pid=$!, +    [ $retval -eq 0 ] || exit $retval, +    if [ ! -z "$ES_STARTUP_SLEEP_TIME" ]; then, +      sleep $ES_STARTUP_SLEEP_TIME]