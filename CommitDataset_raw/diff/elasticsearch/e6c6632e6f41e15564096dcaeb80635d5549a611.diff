[+++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java, +            int ordinal = in.readVInt();, +            if (ordinal < 0 || ordinal >= Role.values().length) {, +                throw new IOException("Unknown Role ordinal [" + ordinal + "]");, +            }]