[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +import org.elasticsearch.threadpool.ThreadPool;, +    private final ThreadPool threadPool;, +, +    @Inject public MetaDataDeleteIndexService(Settings settings, ThreadPool threadPool, TimerService timerService, ClusterService clusterService, ShardsAllocation shardsAllocation,, +        this.threadPool = threadPool;, +                        threadPool.cached().execute(new Runnable() {, +                            @Override public void run() {, +                            }, +                        });, +, +                    if (allocatedNodes.isEmpty()) {, +                        // no nodes allocated, don't wait for a response, +                        threadPool.cached().execute(new Runnable() {, +                            @Override public void run() {, +                                listener.onResponse(new Response(true));, +                            }, +                        });, +                    } else {, +                    }]