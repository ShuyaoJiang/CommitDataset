[+++ b/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +            } catch (AlreadyClosedException e) {, +                /* this one can happen if we already closed the, +                 * underlying store / directory and we call into the, +                 * IndexWriter to free up pending files. */, +                return false;, +++ b/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +            } catch (AlreadyClosedException e) {, +                /* this one can happen if we already closed the, +                 * underlying store / directory and we call into the, +                 * IndexWriter to free up pending files. */, +                return false;, +++ b/src/main/java/org/elasticsearch/search/SearchService.java, +++ b/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +            } catch (AlreadyClosedException e) {, +                /* this one can happen if we already closed the, +                 * underlying store / directory and we call into the, +                 * IndexWriter to free up pending files. */, +                return false;, +++ b/src/main/java/org/elasticsearch/search/SearchService.java, +++ b/src/test/java/org/elasticsearch/search/basic/SearchWhileRelocatingTests.java, +                .setSettings(settingsBuilder().put("index.number_of_shards", numShards).put("index.number_of_replicas", numberOfReplicas))]