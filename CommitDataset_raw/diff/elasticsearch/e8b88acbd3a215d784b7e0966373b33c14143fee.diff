[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ConcurrentRebalanceAllocationDecider.java, +import org.elasticsearch.cluster.metadata.MetaData;, +import org.elasticsearch.node.settings.NodeSettingsService;, +    static {, +        MetaData.addDynamicSettings(, +                "cluster.routing.allocation.cluster_concurrent_rebalance", +        );, +    }, +, +    class ApplySettings implements NodeSettingsService.Listener {, +        @Override public void onRefreshSettings(Settings settings) {, +            int clusterConcurrentRebalance = settings.getAsInt("cluster.routing.allocation.cluster_concurrent_rebalance", ConcurrentRebalanceAllocationDecider.this.clusterConcurrentRebalance);, +            if (clusterConcurrentRebalance != ConcurrentRebalanceAllocationDecider.this.clusterConcurrentRebalance) {, +                logger.info("updating [cluster.routing.allocation.cluster_concurrent_rebalance] from [{}], to [{}]", ConcurrentRebalanceAllocationDecider.this.clusterConcurrentRebalance, clusterConcurrentRebalance);, +                ConcurrentRebalanceAllocationDecider.this.clusterConcurrentRebalance = clusterConcurrentRebalance;, +            }, +        }, +    }, +, +    private volatile int clusterConcurrentRebalance;]