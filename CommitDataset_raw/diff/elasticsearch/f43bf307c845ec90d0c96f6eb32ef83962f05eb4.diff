[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java, +                        Joda.forPattern("yyyy/MM/dd HH:mm:ss Z||yyyy/MM/dd Z"), +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java, +                        Joda.forPattern("yyyy/MM/dd HH:mm:ss Z||yyyy/MM/dd Z"), +++ b/modules/elasticsearch/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java, +import org.elasticsearch.index.mapper.FieldMapper;, +import org.elasticsearch.index.mapper.core.DateFieldMapper;, +    @Test public void testAutomaticDateParser() throws Exception {, +        String mapping = XContentFactory.jsonBuilder().startObject().startObject("type"), +                .startObject("properties").endObject(), +                .endObject().endObject().string();, +, +        DocumentMapper defaultMapper = MapperTests.newParser().parse(mapping);, +, +        ParsedDocument doc = defaultMapper.parse("type", "1", XContentFactory.jsonBuilder(), +                .startObject(), +                .field("date_field", "2011/01/22 00:00:00 +02"), +                .endObject(), +                .copiedBytes());, +, +        FieldMapper fieldMapper = defaultMapper.mappers().smartNameFieldMapper("date_field");, +        assertThat(fieldMapper, instanceOf(DateFieldMapper.class));, +    }, +]