[+++ b/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java, +    final int publishPort;, +, +        this.publishPort = componentSettings.getAsInt("publish_port", settings.getAsInt("transport.publish_port", 0));, +        int publishPort = this.publishPort;, +        if (0 == publishPort) {, +            publishPort = boundAddress.getPort();, +        }, +            publishAddress = new InetSocketAddress(networkService.resolvePublishHostAddress(publishHost), publishPort);]