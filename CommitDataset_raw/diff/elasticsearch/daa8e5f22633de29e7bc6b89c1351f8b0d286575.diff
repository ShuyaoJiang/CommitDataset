[+++ b/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java, +                        PosixFileAttributes attributes = Files.readAttributes(path, PosixFileAttributes.class);, +                        permissions.put(path, attributes.permissions());, +                        owners.put(path, attributes.owner().getName());, +                        groups.put(path, attributes.group().getName());, +++ b/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java, +                        PosixFileAttributes attributes = Files.readAttributes(path, PosixFileAttributes.class);, +                        permissions.put(path, attributes.permissions());, +                        owners.put(path, attributes.owner().getName());, +                        groups.put(path, attributes.group().getName());, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +             * Compares the content of two paths by comparing them, +                byte[] firstBytes = Files.readAllBytes(first);, +                byte[] secondBytes = Files.readAllBytes(second);, +                return Arrays.equals(firstBytes, secondBytes);, +++ b/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java, +                        PosixFileAttributes attributes = Files.readAttributes(path, PosixFileAttributes.class);, +                        permissions.put(path, attributes.permissions());, +                        owners.put(path, attributes.owner().getName());, +                        groups.put(path, attributes.group().getName());, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +             * Compares the content of two paths by comparing them, +                byte[] firstBytes = Files.readAllBytes(first);, +                byte[] secondBytes = Files.readAllBytes(second);, +                return Arrays.equals(firstBytes, secondBytes);, +++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java, +                if (logger.isTraceEnabled()) {, +                }, +++ b/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java, +                        PosixFileAttributes attributes = Files.readAttributes(path, PosixFileAttributes.class);, +                        permissions.put(path, attributes.permissions());, +                        owners.put(path, attributes.owner().getName());, +                        groups.put(path, attributes.group().getName());, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +             * Compares the content of two paths by comparing them, +                byte[] firstBytes = Files.readAllBytes(first);, +                byte[] secondBytes = Files.readAllBytes(second);, +                return Arrays.equals(firstBytes, secondBytes);, +++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java, +                if (logger.isTraceEnabled()) {, +                }, +++ b/src/main/java/org/elasticsearch/plugins/PluginManager.java]