[+++ b/src/main/java/org/elasticsearch/index/query/QueryParserUtils.java, +            // We can't do the api check, because there is no search context., +            // Because the delete by query shard transport action sets the search context this isn't an issue., +            return;, +++ b/src/main/java/org/elasticsearch/index/query/QueryParserUtils.java, +            // We can't do the api check, because there is no search context., +            // Because the delete by query shard transport action sets the search context this isn't an issue., +            return;, +++ b/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +import static org.elasticsearch.index.query.QueryBuilders.matchAllQuery;, +    @Test, +    public void testAliasesFilterWithHasChildQuery() throws Exception {, +        assertAcked(prepareCreate("my-index"), +                .addMapping("parent"), +                .addMapping("child", "_parent", "type=parent"), +        );, +        assertAcked(admin().indices().prepareAliases().addAlias("my-index", "filter1", hasChildFilter("child", matchAllQuery())));, +        assertAcked(admin().indices().prepareAliases().addAlias("my-index", "filter2", hasParentFilter("child", matchAllQuery())));, +    }, +]