[+++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/server/src/main/java/org/elasticsearch/node/Node.java, +            this.pluginsService = new PluginsService(tmpSettings, environment.configFile(), environment.modulesFile(),, +                environment.pluginsFile(), classpathPlugins);, +        validateNodeBeforeAcceptingRequests(new BootstrapContext(environment, onDiskMetadata), transportService.boundAddress(),, +            pluginsService.filterPlugins(Plugin.class).stream(), +    // If not, the hook that is added in Bootstrap#setup() will be useless:, +    // close() might not be executed, in case another (for example api) call to close() has already set some lifecycles to stopped., +    // In this case the process will be terminated even if the first call to close() has not finished yet.]