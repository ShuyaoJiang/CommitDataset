[+++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +, +                modules.add(new SettingsModule(this.settings));, +                modules.add(new NetworkModule());, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +, +                modules.add(new SettingsModule(this.settings));, +                modules.add(new NetworkModule());, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        bind(NetworkService.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +, +                modules.add(new SettingsModule(this.settings));, +                modules.add(new NetworkModule());, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        bind(NetworkService.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import org.elasticsearch.common.inject.Inject;, +public class NetworkService extends AbstractComponent {, +    @Inject, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +, +                modules.add(new SettingsModule(this.settings));, +                modules.add(new NetworkModule());, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        bind(NetworkService.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import org.elasticsearch.common.inject.Inject;, +public class NetworkService extends AbstractComponent {, +    @Inject, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java, +public class SettingsFilter extends AbstractComponent {, +    @Inject, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +, +                modules.add(new SettingsModule(this.settings));, +                modules.add(new NetworkModule());, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        bind(NetworkService.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import org.elasticsearch.common.inject.Inject;, +public class NetworkService extends AbstractComponent {, +    @Inject, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java, +public class SettingsFilter extends AbstractComponent {, +    @Inject, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +    public SettingsModule(Settings settings) {, +        bind(SettingsFilter.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +, +                modules.add(new SettingsModule(this.settings));, +                modules.add(new NetworkModule());, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        bind(NetworkService.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import org.elasticsearch.common.inject.Inject;, +public class NetworkService extends AbstractComponent {, +    @Inject, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java, +public class SettingsFilter extends AbstractComponent {, +    @Inject, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +    public SettingsModule(Settings settings) {, +        bind(SettingsFilter.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java, +            ensureOpen();, +            channelReference.incRef();, +            try {, +            } finally {, +                channelReference.decRef();, +            }, +            ensureOpen();, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +, +                modules.add(new SettingsModule(this.settings));, +                modules.add(new NetworkModule());, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        bind(NetworkService.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import org.elasticsearch.common.inject.Inject;, +public class NetworkService extends AbstractComponent {, +    @Inject, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java, +public class SettingsFilter extends AbstractComponent {, +    @Inject, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +    public SettingsModule(Settings settings) {, +        bind(SettingsFilter.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java, +            ensureOpen();, +            channelReference.incRef();, +            try {, +            } finally {, +                channelReference.decRef();, +            }, +            ensureOpen();, +++ b/core/src/main/java/org/elasticsearch/index/translog/Translog.java, +                ensureOpen();, +        } catch (AlreadyClosedException ex) {]