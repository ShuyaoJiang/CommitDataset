[+++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java, + * {@link org.elasticsearch.search.SearchModule SearchModule}., +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java, + * {@link org.elasticsearch.search.SearchModule SearchModule}., +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java, +import org.elasticsearch.common.lucene.search.function.*;, +                    handleMisplacedFunctionsDeclaration(errorString);, +                    handleMisplacedFunctionsDeclaration(errorString);, +    private void handleMisplacedFunctionsDeclaration(String errorString) {, +        throw new ElasticsearchParseException("failed to parse [{}] query. [{}]", NAME, MISPLACED_FUNCTION_MESSAGE_PREFIX + errorString);, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java, + * {@link org.elasticsearch.search.SearchModule SearchModule}., +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java, +import org.elasticsearch.common.lucene.search.function.*;, +                    handleMisplacedFunctionsDeclaration(errorString);, +                    handleMisplacedFunctionsDeclaration(errorString);, +    private void handleMisplacedFunctionsDeclaration(String errorString) {, +        throw new ElasticsearchParseException("failed to parse [{}] query. [{}]", NAME, MISPLACED_FUNCTION_MESSAGE_PREFIX + errorString);, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java, + * {@link org.elasticsearch.search.SearchModule SearchModule}., +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java, +import org.elasticsearch.common.lucene.search.function.*;, +                    handleMisplacedFunctionsDeclaration(errorString);, +                    handleMisplacedFunctionsDeclaration(errorString);, +    private void handleMisplacedFunctionsDeclaration(String errorString) {, +        throw new ElasticsearchParseException("failed to parse [{}] query. [{}]", NAME, MISPLACED_FUNCTION_MESSAGE_PREFIX + errorString);, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java, +        // built-in parsers, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java, + * {@link org.elasticsearch.search.SearchModule SearchModule}., +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java, +import org.elasticsearch.common.lucene.search.function.*;, +                    handleMisplacedFunctionsDeclaration(errorString);, +                    handleMisplacedFunctionsDeclaration(errorString);, +    private void handleMisplacedFunctionsDeclaration(String errorString) {, +        throw new ElasticsearchParseException("failed to parse [{}] query. [{}]", NAME, MISPLACED_FUNCTION_MESSAGE_PREFIX + errorString);, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java, +        // built-in parsers, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java, + * {@link org.elasticsearch.search.SearchModule SearchModule}., +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java, +import org.elasticsearch.common.lucene.search.function.*;, +                    handleMisplacedFunctionsDeclaration(errorString);, +                    handleMisplacedFunctionsDeclaration(errorString);, +    private void handleMisplacedFunctionsDeclaration(String errorString) {, +        throw new ElasticsearchParseException("failed to parse [{}] query. [{}]", NAME, MISPLACED_FUNCTION_MESSAGE_PREFIX + errorString);, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java, +        // built-in parsers, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java, + * {@link org.elasticsearch.search.SearchModule SearchModule}., +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java, +import org.elasticsearch.common.lucene.search.function.*;, +                    handleMisplacedFunctionsDeclaration(errorString);, +                    handleMisplacedFunctionsDeclaration(errorString);, +    private void handleMisplacedFunctionsDeclaration(String errorString) {, +        throw new ElasticsearchParseException("failed to parse [{}] query. [{}]", NAME, MISPLACED_FUNCTION_MESSAGE_PREFIX + errorString);, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java, +        // built-in parsers, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java, +import org.apache.lucene.search.*;, +import org.elasticsearch.common.lucene.search.function.WeightFactorFunction;, +import java.util.*;, +            parsedQuery(new ParsedQuery(new FunctionScoreQuery(query(), new WeightFactorFunction(queryBoost)), parsedQuery()));, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java, + * {@link org.elasticsearch.search.SearchModule SearchModule}., +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java, +import org.elasticsearch.common.lucene.search.function.*;, +                    handleMisplacedFunctionsDeclaration(errorString);, +                    handleMisplacedFunctionsDeclaration(errorString);, +    private void handleMisplacedFunctionsDeclaration(String errorString) {, +        throw new ElasticsearchParseException("failed to parse [{}] query. [{}]", NAME, MISPLACED_FUNCTION_MESSAGE_PREFIX + errorString);]