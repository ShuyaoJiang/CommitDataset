[+++ b/core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java, +, +    public void testParseFailsWithTermsArray() throws Exception {, +        String json1 = "{\n" +, +                "  \"match\" : {\n" +, +                "    \"message1\" : {\n" +, +                "      \"query\" : [\"term1\", \"term2\"]\n" +, +                "    }\n" +, +                "  }\n" +, +                "}";, +        expectThrows(ParsingException.class, () -> parseQuery(json1));, +, +        String json2 = "{\n" +, +                "  \"match\" : {\n" +, +                "    \"message1\" : [\"term1\", \"term2\"]\n" +, +                "  }\n" +, +                "}";, +        expectThrows(IllegalStateException.class, () -> parseQuery(json2));, +    }]