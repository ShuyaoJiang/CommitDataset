[+++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/CandidateQueryTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/CandidateQueryTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY, mapperService.documentMapperParser(),, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/CandidateQueryTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY, mapperService.documentMapperParser(),, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +import com.ibm.icu.text.BreakIterator;, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/CandidateQueryTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY, mapperService.documentMapperParser(),, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +import com.ibm.icu.text.BreakIterator;, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/server/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +            numDocs += si.info.maxDoc() - si.getDelCount();, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/CandidateQueryTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY, mapperService.documentMapperParser(),, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +import com.ibm.icu.text.BreakIterator;, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/server/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +            numDocs += si.info.maxDoc() - si.getDelCount();, +++ b/server/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDVersionAndSeqNoLookup.java, +        Terms terms = reader.terms(uidField);, +            throw new IllegalArgumentException("reader misses the [" + uidField + "] field");, +            throw new IllegalArgumentException("reader misses the [" + VersionFieldMapper.NAME + "] field");, +, +        if (termsEnum.seekExact(id)) {, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/CandidateQueryTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY, mapperService.documentMapperParser(),, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +import com.ibm.icu.text.BreakIterator;, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/server/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +            numDocs += si.info.maxDoc() - si.getDelCount();, +++ b/server/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDVersionAndSeqNoLookup.java, +        Terms terms = reader.terms(uidField);, +            throw new IllegalArgumentException("reader misses the [" + uidField + "] field");, +            throw new IllegalArgumentException("reader misses the [" + VersionFieldMapper.NAME + "] field");, +, +        if (termsEnum.seekExact(id)) {, +++ b/server/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/CandidateQueryTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY, mapperService.documentMapperParser(),, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +        ParseContext.InternalParseContext parseContext = new ParseContext.InternalParseContext(Settings.EMPTY,, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +import com.ibm.icu.text.BreakIterator;, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/server/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +            numDocs += si.info.maxDoc() - si.getDelCount();, +++ b/server/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDVersionAndSeqNoLookup.java, +        Terms terms = reader.terms(uidField);, +            throw new IllegalArgumentException("reader misses the [" + uidField + "] field");]