[+++ b/src/main/java/org/elasticsearch/index/store/Store.java, +            try {, +            } finally {, +        }, +, +++ b/src/main/java/org/elasticsearch/index/store/Store.java, +            try {, +            } finally {, +        }, +, +++ b/src/test/java/org/elasticsearch/index/store/DistributorInTheWildTest.java, +import org.apache.lucene.store.FilterDirectory;, +        DistributorDirectory d = DirectoryUtils.getLeaf(dir, DistributorDirectory.class, null);, +, +            FilterDirectory distributorDirectory = new FilterDirectory(new DistributorDirectory(directories)) {, +                @Override, +                public void close() throws IOException {, +                    assertTrue(DistributorDirectory.assertConsistency(logger, (DistributorDirectory) this.getDelegate()));, +                    super.close();, +                }, +            };, +                return new MockDirectoryWrapper(random(), distributorDirectory);, +                return distributorDirectory;]