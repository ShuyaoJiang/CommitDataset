[+++ b/docs/reference/index.asciidoc, +include::migration/index.asciidoc[], +++ b/docs/reference/index.asciidoc, +include::migration/index.asciidoc[], +++ b/docs/reference/indices/aliases.asciidoc, +this alias., +, +coming[1.4.0,Fields referred to in alias filters must exist in the mappings of the index/indices pointed to by the alias], +, +To create a filtered alias, first we need to ensure that the fields already, +exist in the mapping:, +curl -XPUT 'http://localhost:9200/test1' -d '{, +  "mappings": {, +    "type1": {, +      "properties": {, +        "user" : {, +          "type": "string",, +          "index": "not_analyzed", +        }, +      }, +    }, +  }, +}, +--------------------------------------------------, +, +Now we can create an alias that uses a filter on field `user`:, +, +[source,js], +--------------------------------------------------, +curl -XPOST 'http://localhost:9200/_aliases' -d '{, +Adding time based alias::, ++, +--, +--, +Adding a user alias::, ++, +--, +First create the index and add a mapping for the `user_id` field:, +, +[source,js], +--------------------------------------------------, +curl -XPUT 'localhost:9200/users' -d '{, +    "mappings" : {, +        "user" : {, +            "properties" : {, +                "user_id" : {"type" : "integer"}, +            }, +        }, +    }, +}', +--------------------------------------------------, +, +Then add the alias for a specific user:, +--, +, +    "mappings" : {, +        "type" : {, +            "properties" : {, +                "year" : {"type" : "integer"}, +            }, +        }, +    },, +++ b/docs/reference/index.asciidoc, +include::migration/index.asciidoc[], +++ b/docs/reference/indices/aliases.asciidoc, +this alias., +, +coming[1.4.0,Fields referred to in alias filters must exist in the mappings of the index/indices pointed to by the alias], +, +To create a filtered alias, first we need to ensure that the fields already, +exist in the mapping:, +curl -XPUT 'http://localhost:9200/test1' -d '{, +  "mappings": {, +    "type1": {, +      "properties": {, +        "user" : {, +          "type": "string",, +          "index": "not_analyzed", +        }, +      }, +    }, +  }, +}, +--------------------------------------------------, +, +Now we can create an alias that uses a filter on field `user`:, +, +[source,js], +--------------------------------------------------, +curl -XPOST 'http://localhost:9200/_aliases' -d '{, +Adding time based alias::, ++, +--, +--, +Adding a user alias::, ++, +--, +First create the index and add a mapping for the `user_id` field:, +, +[source,js]]