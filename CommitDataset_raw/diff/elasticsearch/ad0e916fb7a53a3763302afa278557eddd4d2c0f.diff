[+++ b/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            if (mapper.type().length() == 0) {, +                throw new InvalidTypeNameException("mapping type name is empty");, +            }]