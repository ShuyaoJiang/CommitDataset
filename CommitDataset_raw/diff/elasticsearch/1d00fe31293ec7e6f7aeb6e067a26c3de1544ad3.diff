[+++ b/build.gradle, +    // dependency versions that are used in more than one place, +    versions = [, +      lucene:             "${luceneVersion}",, +      randomizedrunner:   '2.2.0',, +      httpclient:         '4.3.6', +    ], +, +  repositories {, +    mavenCentral(), +    maven {, +      name 'sonatype-snapshots', +      url 'http://oss.sonatype.org/content/repositories/snapshots/', +    }, +    if (versions.lucene.contains('-snapshot')) {, +      String revision = (luceneVersion =~ /\d\.\d\.\d-snapshot-(\d+)/)[0][1], +      maven {, +        name 'lucene-snapshots', +        url "http://s3.amazonaws.com/download.elasticsearch.org/lucenesnapshots/${revision}", +      }, +    }, +  }, +, +++ b/build.gradle, +    // dependency versions that are used in more than one place, +    versions = [, +      lucene:             "${luceneVersion}",, +      randomizedrunner:   '2.2.0',, +      httpclient:         '4.3.6', +    ], +, +  repositories {, +    mavenCentral(), +    maven {, +      name 'sonatype-snapshots', +      url 'http://oss.sonatype.org/content/repositories/snapshots/', +    }, +    if (versions.lucene.contains('-snapshot')) {, +      String revision = (luceneVersion =~ /\d\.\d\.\d-snapshot-(\d+)/)[0][1], +      maven {, +        name 'lucene-snapshots', +        url "http://s3.amazonaws.com/download.elasticsearch.org/lucenesnapshots/${revision}", +      }, +    }, +  }, +, +++ b/buildSrc/build.gradle, +import org.apache.tools.ant.filters.ReplaceTokens, +/*idea {, +  project {, +    languageLevel = '1.8', +    vcs = 'Git', +  }, +}*/, +, +  compile 'com.carrotsearch.randomizedtesting:junit4-ant:2.2.0', +  compile('junit:junit:4.11') {, +Properties props = new Properties(), +props.load(project.file('../gradle.properties').newDataInputStream()), +version = props.getProperty('version'), +, +  inputs.file('../gradle.properties'), +  filter ReplaceTokens, tokens: [, +    'version': props.getProperty('version'),, +    'luceneVersion': props.getProperty('luceneVersion'), +  ], +, +eclipse {, +  classpath {, +    defaultOutputDir = new File(file('build'), 'eclipse'), +  }, +}, +++ b/build.gradle, +    // dependency versions that are used in more than one place, +    versions = [, +      lucene:             "${luceneVersion}",, +      randomizedrunner:   '2.2.0',, +      httpclient:         '4.3.6', +    ], +, +  repositories {, +    mavenCentral(), +    maven {, +      name 'sonatype-snapshots', +      url 'http://oss.sonatype.org/content/repositories/snapshots/', +    }, +    if (versions.lucene.contains('-snapshot')) {, +      String revision = (luceneVersion =~ /\d\.\d\.\d-snapshot-(\d+)/)[0][1], +      maven {, +        name 'lucene-snapshots', +        url "http://s3.amazonaws.com/download.elasticsearch.org/lucenesnapshots/${revision}", +      }, +    }, +  }, +, +++ b/buildSrc/build.gradle, +import org.apache.tools.ant.filters.ReplaceTokens, +/*idea {, +  project {, +    languageLevel = '1.8']