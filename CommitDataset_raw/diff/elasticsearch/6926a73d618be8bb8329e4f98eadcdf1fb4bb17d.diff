[+++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/indices/PutMappingRequestTests.java, +import java.util.Map;, +        Map<String, Object> map = parser.map();, +        if (map.isEmpty() == false) {, +            request.source(map);, +        }, +        if (actual.source() != null) {, +        } else {, +            // if the original `source` is null, the parsed source should be so too, +            assertNull(expected.source());, +        }]