[+++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +                if (fieldName != null) {, +                    throw new ParsingException(parser.getTokenLocation(), "[geo_distance] query doesn't support multiple fields, found [", +                            + fieldName + "] and [" + currentFieldName + "]");, +                }, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +                if (fieldName != null) {, +                    throw new ParsingException(parser.getTokenLocation(), "[geo_distance] query doesn't support multiple fields, found [", +                            + fieldName + "] and [" + currentFieldName + "]");, +                }, +++ b/core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java, +import org.elasticsearch.common.ParsingException;, +, +    public void testParseFailsWithMultipleFields() throws IOException {, +        String json = "{\n" +, +                "  \"geo_distance\" : {\n" +, +                "    \"point1\" : {\n" +, +                "      \"lat\" : 30, \"lon\" : 12\n" +, +                "    },\n" +, +                "    \"point2\" : {\n" +, +                "      \"lat\" : 30, \"lon\" : 12\n" +, +                "    }\n" +, +                "  }\n" +, +                "}";, +, +        try {, +            parseQuery(json);, +            fail("parseQuery should have failed");, +        } catch(ParsingException e) {, +            assertEquals("[geo_distance] query doesn't support multiple fields, found [point1] and [point2]", e.getMessage());, +        }, +    }]