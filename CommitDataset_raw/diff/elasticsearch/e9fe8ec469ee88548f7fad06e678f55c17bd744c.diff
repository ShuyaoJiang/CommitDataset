[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/search/nested/BlockJoinQuery.java, +        private int parentDoc = -1;, +                // Callers should only be passing in a docID from, +                // the parent space, so this means this parent, +                // has no children (it got docID 0), so it cannot, +                // possibly match.  We must handle this case, +                // separately otherwise we pass invalid -1 to, +                // prevSetBit below:, +            assert prevParentDoc >= parentDoc;]