[+++ b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ldap/LdapTestUtils.java, +            sslConfiguration = sslService.getSSLConfiguration("xpack.ssl");, +++ b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ldap/LdapTestUtils.java, +            sslConfiguration = sslService.getSSLConfiguration("xpack.ssl");, +++ b/x-pack/qa/openldap-tests/src/test/java/org/elasticsearch/test/OpenLdapTests.java, +, +            // If not using global ssl, need to set the truststore for the "full verification" realm, +            builder.put("xpack.security.authc.realms.vmode_full.ssl.truststore.path", truststore);, +            mockSecureSettings.setString("xpack.security.authc.realms.vmode_full.ssl.truststore.secure_password", "changeit");, +        builder.put("xpack.security.authc.realms.vmode_full.ssl.verification_mode", VerificationMode.FULL);, +, +        // Pick up the "full" verification mode config, +        RealmConfig config = new RealmConfig("vmode_full", settings, globalSettings, TestEnvironment.newEnvironment(globalSettings),, +        // Pick up the "full" verification mode config, +        RealmConfig config = new RealmConfig("vmode_full", settings, globalSettings, TestEnvironment.newEnvironment(globalSettings),]