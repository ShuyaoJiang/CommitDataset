[+++ b/docs/plugins/discovery-gce.asciidoc, +If needed, you can change log level to `trace` by opening `log4j2.properties`:, +sudo vi /etc/elasticsearch/log4j2.properties, +logger.discovery_gce.name = discovery.gce, +logger.discovery_gce.level = trace, +++ b/docs/plugins/discovery-gce.asciidoc, +If needed, you can change log level to `trace` by opening `log4j2.properties`:, +sudo vi /etc/elasticsearch/log4j2.properties, +logger.discovery_gce.name = discovery.gce, +logger.discovery_gce.level = trace, +++ b/docs/reference/index-modules/slowlog.asciidoc, +configuration (found in `log4j2.properties`):, +appender.index_search_slowlog_rolling.type = RollingFile, +appender.index_search_slowlog_rolling.name = index_search_slowlog_rolling, +appender.index_search_slowlog_rolling.fileName = ${sys:es.logs}_index_search_slowlog.log, +appender.index_search_slowlog_rolling.layout.type = PatternLayout, +appender.index_search_slowlog_rolling.layout.pattern = [%d{ISO8601}][%-5p][%-25c] %.10000m%n, +appender.index_search_slowlog_rolling.filePattern = ${sys:es.logs}_index_search_slowlog-%d{yyyy-MM-dd}.log, +appender.index_search_slowlog_rolling.policies.type = Policies, +appender.index_search_slowlog_rolling.policies.time.type = TimeBasedTriggeringPolicy, +appender.index_search_slowlog_rolling.policies.time.interval = 1, +appender.index_search_slowlog_rolling.policies.time.modulate = true, +, +logger.index_search_slowlog_rolling.name = index.search.slowlog, +logger.index_search_slowlog_rolling.level = trace, +logger.index_search_slowlog_rolling.appenderRef.index_search_slowlog_rolling.ref = index_search_slowlog_rolling, +logger.index_search_slowlog_rolling.additivity = false, +++ b/docs/plugins/discovery-gce.asciidoc, +If needed, you can change log level to `trace` by opening `log4j2.properties`:, +sudo vi /etc/elasticsearch/log4j2.properties, +logger.discovery_gce.name = discovery.gce, +logger.discovery_gce.level = trace, +++ b/docs/reference/index-modules/slowlog.asciidoc, +configuration (found in `log4j2.properties`):, +appender.index_search_slowlog_rolling.type = RollingFile, +appender.index_search_slowlog_rolling.name = index_search_slowlog_rolling, +appender.index_search_slowlog_rolling.fileName = ${sys:es.logs}_index_search_slowlog.log, +appender.index_search_slowlog_rolling.layout.type = PatternLayout, +appender.index_search_slowlog_rolling.layout.pattern = [%d{ISO8601}][%-5p][%-25c] %.10000m%n, +appender.index_search_slowlog_rolling.filePattern = ${sys:es.logs}_index_search_slowlog-%d{yyyy-MM-dd}.log, +appender.index_search_slowlog_rolling.policies.type = Policies, +appender.index_search_slowlog_rolling.policies.time.type = TimeBasedTriggeringPolicy, +appender.index_search_slowlog_rolling.policies.time.interval = 1, +appender.index_search_slowlog_rolling.policies.time.modulate = true, +, +logger.index_search_slowlog_rolling.name = index.search.slowlog, +logger.index_search_slowlog_rolling.level = trace, +logger.index_search_slowlog_rolling.appenderRef.index_search_slowlog_rolling.ref = index_search_slowlog_rolling, +logger.index_search_slowlog_rolling.additivity = false, +++ b/docs/reference/migration/migrate_5_0/java.asciidoc, +Elasticsearch now logs using Log4j 2. Previously if Log4j wasn't on the, +classpath it made some effort to degrade to SLF4J or Java logging. Now it will, +fail to work without the Log4j 2 API. The log4j-over-slf4j bridge ought to work, +when using the Java client. The log4j-1.2-api bridge is used for third-party, +dependencies that still use the Log4j 1 API. The Elasticsearch server now only, +supports Log4j 2 as configured by `log4j2.properties` and will fail if Log4j, +isn't present., +++ b/docs/plugins/discovery-gce.asciidoc, +If needed, you can change log level to `trace` by opening `log4j2.properties`:, +sudo vi /etc/elasticsearch/log4j2.properties, +logger.discovery_gce.name = discovery.gce, +logger.discovery_gce.level = trace, +++ b/docs/reference/index-modules/slowlog.asciidoc, +configuration (found in `log4j2.properties`):, +appender.index_search_slowlog_rolling.type = RollingFile, +appender.index_search_slowlog_rolling.name = index_search_slowlog_rolling, +appender.index_search_slowlog_rolling.fileName = ${sys:es.logs}_index_search_slowlog.log, +appender.index_search_slowlog_rolling.layout.type = PatternLayout, +appender.index_search_slowlog_rolling.layout.pattern = [%d{ISO8601}][%-5p][%-25c] %.10000m%n, +appender.index_search_slowlog_rolling.filePattern = ${sys:es.logs}_index_search_slowlog-%d{yyyy-MM-dd}.log, +appender.index_search_slowlog_rolling.policies.type = Policies, +appender.index_search_slowlog_rolling.policies.time.type = TimeBasedTriggeringPolicy, +appender.index_search_slowlog_rolling.policies.time.interval = 1, +appender.index_search_slowlog_rolling.policies.time.modulate = true, +, +logger.index_search_slowlog_rolling.name = index.search.slowlog, +logger.index_search_slowlog_rolling.level = trace, +logger.index_search_slowlog_rolling.appenderRef.index_search_slowlog_rolling.ref = index_search_slowlog_rolling, +logger.index_search_slowlog_rolling.additivity = false, +++ b/docs/reference/migration/migrate_5_0/java.asciidoc, +Elasticsearch now logs using Log4j 2. Previously if Log4j wasn't on the, +classpath it made some effort to degrade to SLF4J or Java logging. Now it will, +fail to work without the Log4j 2 API. The log4j-over-slf4j bridge ought to work, +when using the Java client. The log4j-1.2-api bridge is used for third-party, +dependencies that still use the Log4j 1 API. The Elasticsearch server now only, +supports Log4j 2 as configured by `log4j2.properties` and will fail if Log4j, +isn't present., +++ b/docs/reference/setup/configuration.asciidoc, +* `log4j2.properties` for configuring Elasticsearch logging., +Elasticsearch uses http://logging.apache.org/log4j/2.x/[Log4j 2] for, +logging. Log4j 2 can be configured using the log4j2.properties, +file. Elasticsearch exposes a single property `${sys:es.logs}` that can be, +referenced in the configuration file to determine the location of the log files;, +this will resolve to a prefix for the Elasticsearch log file at runtime., +For example, if your log directory (`path.logs`) is `/var/log/elasticsearch` and, +your cluster is named `production` then `${sys:es.logs}` will resolve to, +`/var/log/elasticsearch/production`., +, +[source,properties], +--------------------------------------------------]