[+++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java, +     * Adds a field to loaded and returned., +     */, +    public TopHitsBuilder addField(String field) {, +        sourceBuilder().field(field);, +        return this;, +    }, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java, +     * Adds a field to loaded and returned., +     */, +    public TopHitsBuilder addField(String field) {, +        sourceBuilder().field(field);, +        return this;, +    }, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java, +import org.elasticsearch.search.fetch.FieldsParseElement;, +    private final FieldsParseElement fieldsParseElement;, +    public TopHitsParser(FetchPhase fetchPhase, SortParseElement sortParseElement, FetchSourceParseElement sourceParseElement,, +            HighlighterParseElement highlighterParseElement, FieldDataFieldsParseElement fieldDataFieldsParseElement,, +            ScriptFieldsParseElement scriptFieldsParseElement, FieldsParseElement fieldsParseElement) {, +        this.fieldsParseElement = fieldsParseElement;, +                } else if ("fields".equals(currentFieldName)) {, +                    fieldsParseElement.parse(parser, subSearchContext);, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java, +     * Adds a field to loaded and returned., +     */, +    public TopHitsBuilder addField(String field) {, +        sourceBuilder().field(field);, +        return this;, +    }, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java, +import org.elasticsearch.search.fetch.FieldsParseElement;, +    private final FieldsParseElement fieldsParseElement;, +    public TopHitsParser(FetchPhase fetchPhase, SortParseElement sortParseElement, FetchSourceParseElement sourceParseElement,, +            HighlighterParseElement highlighterParseElement, FieldDataFieldsParseElement fieldDataFieldsParseElement,, +            ScriptFieldsParseElement scriptFieldsParseElement, FieldsParseElement fieldsParseElement) {, +        this.fieldsParseElement = fieldsParseElement;, +                } else if ("fields".equals(currentFieldName)) {, +                    fieldsParseElement.parse(parser, subSearchContext);, +++ b/core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java, +                                            .addField("text"), +            field = hit.field("text");, +            assertThat(field.getValue().toString(), equalTo("some text to entertain"));, +, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java, +     * Adds a field to loaded and returned., +     */, +    public TopHitsBuilder addField(String field) {, +        sourceBuilder().field(field);, +        return this;, +    }, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java, +import org.elasticsearch.search.fetch.FieldsParseElement;, +    private final FieldsParseElement fieldsParseElement;, +    public TopHitsParser(FetchPhase fetchPhase, SortParseElement sortParseElement, FetchSourceParseElement sourceParseElement,, +            HighlighterParseElement highlighterParseElement, FieldDataFieldsParseElement fieldDataFieldsParseElement,, +            ScriptFieldsParseElement scriptFieldsParseElement, FieldsParseElement fieldsParseElement) {, +        this.fieldsParseElement = fieldsParseElement;, +                } else if ("fields".equals(currentFieldName)) {, +                    fieldsParseElement.parse(parser, subSearchContext);, +++ b/core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java, +                                            .addField("text"), +            field = hit.field("text");, +            assertThat(field.getValue().toString(), equalTo("some text to entertain"));, +, +++ b/distribution/src/main/packaging/scripts/preinst, +            useradd --system \]