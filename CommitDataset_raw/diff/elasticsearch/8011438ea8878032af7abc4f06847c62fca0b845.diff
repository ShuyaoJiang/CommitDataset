[+++ b/test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java, +                bootstrapNodeIndex = RandomNumbers.randomIntBetween(random, 0, numSharedDedicatedMasterNodes - 1);, +                bootstrapNodeIndex = RandomNumbers.randomIntBetween(random, 0, numSharedDataNodes - 1);, +            ? RandomNumbers.randomIntBetween(random, 0, newMasterCount - 1) : -1;]