[+++ b/src/main/java/org/elasticsearch/common/collect/MapBuilder.java, +        return new MapBuilder<K, V>(map);, +    public MapBuilder(Map<K, V> map) {, +        this.map = newHashMap(map);, +    }, +, +++ b/src/main/java/org/elasticsearch/common/collect/MapBuilder.java, +        return new MapBuilder<K, V>(map);, +    public MapBuilder(Map<K, V> map) {, +        this.map = newHashMap(map);, +    }, +, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java, +            typeParsers = new MapBuilder<String, Mapper.TypeParser>(typeParsers), +++ b/src/main/java/org/elasticsearch/common/collect/MapBuilder.java, +        return new MapBuilder<K, V>(map);, +    public MapBuilder(Map<K, V> map) {, +        this.map = newHashMap(map);, +    }, +, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java, +            typeParsers = new MapBuilder<String, Mapper.TypeParser>(typeParsers), +++ b/src/main/java/org/elasticsearch/node/service/NodeService.java, +        serviceAttributes = new MapBuilder<String, String>(serviceAttributes).put(key, value).immutableMap();, +        serviceAttributes = new MapBuilder<String, String>(serviceAttributes).remove(key).immutableMap();]