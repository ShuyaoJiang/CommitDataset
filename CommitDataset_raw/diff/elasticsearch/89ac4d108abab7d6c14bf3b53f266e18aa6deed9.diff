[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/threadpool/fixed/FixedThreadPool.java, +import org.elasticsearch.common.util.concurrent.jsr166y.ForkJoinPool;, +        String type = componentSettings.get("type");, +        if ("forkjoin".equalsIgnoreCase(type)) {, +            executorService = new ForkJoinPool(size, ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true);, +        } else {, +        }, +        if (executorService instanceof ThreadPoolExecutor) {, +        return -1;, +    }, +        if (executorService instanceof ThreadPoolExecutor) {, +        return -1;, +    }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/threadpool/fixed/FixedThreadPool.java, +import org.elasticsearch.common.util.concurrent.jsr166y.ForkJoinPool;, +        String type = componentSettings.get("type");, +        if ("forkjoin".equalsIgnoreCase(type)) {, +            executorService = new ForkJoinPool(size, ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true);, +        } else {, +        }, +        if (executorService instanceof ThreadPoolExecutor) {, +        return -1;, +    }, +        if (executorService instanceof ThreadPoolExecutor) {, +        return -1;, +    }, +++ /dev/null]