[+++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch-cloud-aws](https://github.com/elasticsearch/elasticsearch-cloud-aws), +cd elasticsearch-cloud-aws/, +++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch-cloud-aws](https://github.com/elasticsearch/elasticsearch-cloud-aws), +cd elasticsearch-cloud-aws/, +++ b/README.md, +AWS Cloud Plugin for Elasticsearch, +The Amazon Web Service (AWS) Cloud plugin allows to use [AWS API](https://github.com/aws/aws-sdk-java), +for the unicast discovery mechanism and add S3 repositories., +In order to install the plugin, run: , +bin/plugin install elasticsearch/elasticsearch-cloud-aws/2.4.1, +|       Elasticsearch    |  AWS Cloud Plugin |                                                             Docs                                                                   |, +|------------------------|-------------------|------------------------------------------------------------------------------------------------------------------------------------|, +|    es-1.x              | Build from source | [2.5.0-SNAPSHOT](https://github.com/elasticsearch/elasticsearch-cloud-aws/tree/es-1.x/#version-250-snapshot-for-elasticsearch-1x)  |, +|    es-1.4              |     2.4.1         | [2.4.1](https://github.com/elasticsearch/elasticsearch-cloud-aws/tree/v2.4.1/#version-241-for-elasticsearch-14)                  |, +|    es-1.3              |     2.3.0         | [2.3.0](https://github.com/elasticsearch/elasticsearch-cloud-aws/tree/v2.3.0/#version-230-for-elasticsearch-13)                    |, +|    es-1.2              |     2.2.0         | [2.2.0](https://github.com/elasticsearch/elasticsearch-cloud-aws/tree/v2.2.0/#aws-cloud-plugin-for-elasticsearch)                  |, +|    es-1.1              |     2.1.1         | [2.1.1](https://github.com/elasticsearch/elasticsearch-cloud-aws/tree/v2.1.1/#aws-cloud-plugin-for-elasticsearch)                  |, +|    es-1.0              |     2.0.0         | [2.0.0](https://github.com/elasticsearch/elasticsearch-cloud-aws/tree/v2.0.0/#aws-cloud-plugin-for-elasticsearch)                  |, +|    es-0.90             |     1.16.0        | [1.16.0](https://github.com/elasticsearch/elasticsearch-cloud-aws/tree/v1.16.0/#aws-cloud-plugin-for-elasticsearch)                |, +plugin --install cloud-aws \ , +       --url file:target/releases/elasticsearch-cloud-aws-X.X.X-SNAPSHOT.zip, +```, +, +## Generic Configuration, +, +The plugin will default to using [IAM Role](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html) credentials , +for authentication. These can be overridden by, in increasing order of precedence, system properties `aws.accessKeyId` and `aws.secretKey`, , +environment variables `AWS_ACCESS_KEY_ID` and `AWS_SECRET_KEY`, or the elasticsearch config using `cloud.aws.access_key` and `cloud.aws.secret_key`:, + , +```, +cloud:, +    aws:, +        access_key: AKVAIQBF2RECL7FJWGJQ, +        secret_key: vExyMThREXeRMm/b/LRzEB8jWwvzQeXgjqMX+6br, +```, +, +### Transport security, +, +By default this plugin uses HTTPS for all API calls to AWS endpoints. If you wish to configure HTTP you can set , +`cloud.aws.protocol` in the elasticsearch config. You can optionally override this setting per individual service , +via: `cloud.aws.ec2.protocol` or `cloud.aws.s3.protocol`. , +, +```, +cloud:, +    aws:, +        protocol: https, +        s3: , +            protocol: http, +        ec2: , +            protocol: https, +```, +, +In addition, a proxy can be configured with the `proxy_host` and `proxy_port` settings (note that protocol can be `http` or `https`):, +, +```, +cloud:, +    aws:, +        protocol: https, +        proxy_host: proxy1.company.com, +        proxy_port: 8083, +### Region, +The `cloud.aws.region` can be set to a region and will automatically use the relevant settings for both `ec2` and `s3`. The available values are:, +, +* `us-east` (`us-east-1`), +* `us-west` (`us-west-1`), +* `us-west-1`, +* `us-west-2`, +* `ap-southeast` (`ap-southeast-1`), +* `ap-southeast-1`, +* `ap-southeast-2`, +* `ap-northeast` (`ap-northeast-1`), +* `eu-west` (`eu-west-1`), +* `eu-central` (`eu-central-1`), +* `sa-east` (`sa-east-1`)., +, +, +## EC2 Discovery, +, +ec2 discovery allows to use the ec2 APIs to perform automatic discovery (similar to multicast in non hostile multicast environments). Here is a simple sample configuration:, +, +```, +discovery:, +    type: ec2, +```, +, +The ec2 discovery is using the same credentials as the rest of the AWS services provided by this plugin (`repositories`)., +See [Generic Configuration](#generic-configuration) for details., +, +The following are a list of settings (prefixed with `discovery.ec2`) that can further control the discovery:, +, +* `groups`: Either a comma separated list or array based list of (security) groups. Only instances with the provided security groups will be used in the cluster discovery. (NOTE: You could provide either group NAME or group ID.), +* `host_type`: The type of host type to use to communicate with other instances. Can be one of `private_ip`, `public_ip`, `private_dns`, `public_dns`. Defaults to `private_ip`., +* `availability_zones`: Either a comma separated list or array based list of availability zones. Only instances within the provided availability zones will be used in the cluster discovery., +* `any_group`: If set to `false`, will require all security groups to be present for the instance to be used for the discovery. Defaults to `true`., +* `ping_timeout`: How long to wait for existing EC2 nodes to reply during discovery. Defaults to `3s`. If no unit like `ms`, `s` or `m` is specified, milliseconds are used., +, +### Recommended EC2 Permissions, +]