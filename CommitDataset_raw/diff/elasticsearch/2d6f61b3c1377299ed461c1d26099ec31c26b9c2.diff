[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/client/action/search/SearchRequestBuilder.java, +    public SearchRequestBuilder addFacetHistogramScript(String name, String keyScript, String valueScript) {, +        facetsBuilder().histogramScriptFacet(name, keyScript, valueScript);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScript(String name, String keyScript, String valueScript, HistogramFacet.ComparatorType comparatorType) {, +        facetsBuilder().histogramScriptFacet(name, keyScript, valueScript, comparatorType);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScript(String name, String keyScript, String valueScript, @Nullable Map<String, Object> params, long interval, HistogramFacet.ComparatorType comparatorType,, +                                                        @Nullable XContentFilterBuilder filter) {, +        facetsBuilder().histogramScriptFacet(name, keyScript, valueScript, params, interval, comparatorType, filter);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScriptGlobal(String name, String keyScript, String valueScript) {, +        facetsBuilder().histogramScriptFacetGlobal(name, keyScript, valueScript);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScriptGlobal(String name, String keyScript, String valueScript, HistogramFacet.ComparatorType comparatorType) {, +        facetsBuilder().histogramScriptFacetGlobal(name, keyScript, valueScript, comparatorType);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScriptGlobal(String name, String keyScript, String valueScript, @Nullable Map<String, Object> params, long interval, HistogramFacet.ComparatorType comparatorType,, +                                                              @Nullable XContentFilterBuilder filter) {, +        facetsBuilder().histogramScriptFacetGlobal(name, keyScript, valueScript, params, interval, comparatorType, filter);, +        return this;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/client/action/search/SearchRequestBuilder.java, +    public SearchRequestBuilder addFacetHistogramScript(String name, String keyScript, String valueScript) {, +        facetsBuilder().histogramScriptFacet(name, keyScript, valueScript);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScript(String name, String keyScript, String valueScript, HistogramFacet.ComparatorType comparatorType) {, +        facetsBuilder().histogramScriptFacet(name, keyScript, valueScript, comparatorType);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScript(String name, String keyScript, String valueScript, @Nullable Map<String, Object> params, long interval, HistogramFacet.ComparatorType comparatorType,, +                                                        @Nullable XContentFilterBuilder filter) {, +        facetsBuilder().histogramScriptFacet(name, keyScript, valueScript, params, interval, comparatorType, filter);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScriptGlobal(String name, String keyScript, String valueScript) {, +        facetsBuilder().histogramScriptFacetGlobal(name, keyScript, valueScript);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScriptGlobal(String name, String keyScript, String valueScript, HistogramFacet.ComparatorType comparatorType) {, +        facetsBuilder().histogramScriptFacetGlobal(name, keyScript, valueScript, comparatorType);, +        return this;, +    }, +, +    public SearchRequestBuilder addFacetHistogramScriptGlobal(String name, String keyScript, String valueScript, @Nullable Map<String, Object> params, long interval, HistogramFacet.ComparatorType comparatorType,, +                                                              @Nullable XContentFilterBuilder filter) {, +        facetsBuilder().histogramScriptFacetGlobal(name, keyScript, valueScript, params, interval, comparatorType, filter);, +        return this;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/builder/SearchSourceFacetsBuilder.java, +    private List<BuilderScriptHistogramFacet> scriptHistogramFacets;, +    public SearchSourceFacetsBuilder histogramScriptFacet(String name, String keyScript, String valueScript) {, +        return histogramScriptFacet(name, keyScript, valueScript, null, -1, HistogramFacet.ComparatorType.KEY, null);, +    }, +, +    public SearchSourceFacetsBuilder histogramScriptFacet(String name, String keyScript, String valueScript, HistogramFacet.ComparatorType comparatorType) {, +        return histogramScriptFacet(name, keyScript, valueScript, null, -1, comparatorType, null);, +    }, +, +    public SearchSourceFacetsBuilder histogramScriptFacet(String name, String keyScript, String valueScript, @Nullable Map<String, Object> params, long interval, HistogramFacet.ComparatorType comparatorType,, +                                                          @Nullable XContentFilterBuilder filter) {, +        if (scriptHistogramFacets == null) {, +            scriptHistogramFacets = newArrayListWithCapacity(2);, +        }, +        scriptHistogramFacets.add(new BuilderScriptHistogramFacet(name, keyScript, valueScript, params, interval, comparatorType, filter, false));, +        return this;, +    }, +, +    public SearchSourceFacetsBuilder histogramScriptFacetGlobal(String name, String keyScript, String valueScript) {, +        return histogramScriptFacetGlobal(name, keyScript, valueScript, null, -1, HistogramFacet.ComparatorType.KEY, null);, +    }, +, +    public SearchSourceFacetsBuilder histogramScriptFacetGlobal(String name, String keyScript, String valueScript, HistogramFacet.ComparatorType comparatorType) {, +        return histogramScriptFacetGlobal(name, keyScript, valueScript, null, -1, comparatorType, null);, +    }, +, +    public SearchSourceFacetsBuilder histogramScriptFacetGlobal(String name, String keyScript, String valueScript, @Nullable Map<String, Object> params, long interval, HistogramFacet.ComparatorType comparatorType,, +                                                                @Nullable XContentFilterBuilder filter) {, +        if (scriptHistogramFacets == null) {, +            scriptHistogramFacets = newArrayListWithCapacity(2);, +        }, +        scriptHistogramFacets.add(new BuilderScriptHistogramFacet(name, keyScript, valueScript, params, interval, comparatorType, filter, true));, +        return this;]