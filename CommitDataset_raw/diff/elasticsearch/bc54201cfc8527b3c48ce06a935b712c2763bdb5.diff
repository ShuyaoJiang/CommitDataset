[+++ b/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java, +        return new ShardStats(indexShard, flags);, +++ b/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java, +        return new ShardStats(indexShard, flags);, +++ b/src/main/java/org/elasticsearch/indices/InternalIndicesService.java, +import org.elasticsearch.index.shard.IllegalIndexShardStateException;, +                try {, +                    stats.add(new CommonStats(indexShard, flags));, +                } catch (IllegalIndexShardStateException e) {, +                    // we can safely ignore illegal state on ones that are closing for example, +                }]