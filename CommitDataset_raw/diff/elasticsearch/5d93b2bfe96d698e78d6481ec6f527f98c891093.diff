[+++ b/src/main/java/org/elasticsearch/threadpool/ThreadPool.java, +            String queueType = settings.get("queue_type", "linked");, +                if ("linked".equals(queueType)) {, +                    workQueue = new LinkedBlockingQueue<Runnable>((int) capacity.singles());, +                } else if ("array".equals(queueType)) {, +                    throw new ElasticSearchIllegalArgumentException("illegal queue_type set to [" + queueType + "], should be either linked or array");, +                }, +            } else {, +            logger.debug("creating thread_pool [{}], type [{}], size [{}], queue_size [{}], reject_policy [{}], queue_type [{}]", name, type, size, capacity, rejectSetting, queueType);]