[+++ b/docs/reference/query-dsl/has-child-query.asciidoc, +, +[float], +==== Sorting, +, +Parent documents can't be sorted by fields in matching child documents via the, +regular sort options. If you need to sort parent document by field in the child, +documents then you can should use the `function_score` query and then just sort, +by `_score`., +, +Sorting blogs by child documents' `click_count` field:, +, +[source,js], +--------------------------------------------------, +GET /_search, +{, +    "query": {, +        "has_child" : {, +            "type" : "blog_tag",, +            "score_mode" : "max",, +            "query" : {, +                "function_score" : {, +                    "script_score": {, +                        "script": "_score * doc['click_count'].value", +                    }, +                }, +            }, +        }, +    }, +}, +--------------------------------------------------, +// CONSOLE, +++ b/docs/reference/query-dsl/has-child-query.asciidoc, +, +[float], +==== Sorting, +, +Parent documents can't be sorted by fields in matching child documents via the, +regular sort options. If you need to sort parent document by field in the child, +documents then you can should use the `function_score` query and then just sort, +by `_score`., +, +Sorting blogs by child documents' `click_count` field:, +, +[source,js], +--------------------------------------------------, +GET /_search, +{, +    "query": {, +        "has_child" : {, +            "type" : "blog_tag",, +            "score_mode" : "max",, +            "query" : {, +                "function_score" : {, +                    "script_score": {, +                        "script": "_score * doc['click_count'].value", +                    }, +                }, +            }, +        }, +    }, +}, +--------------------------------------------------, +// CONSOLE, +++ b/docs/reference/query-dsl/has-parent-query.asciidoc, +, +[float], +==== Sorting, +, +Child documents can't be sorted by fields in matching parent documents via the, +regular sort options. If you need to sort child documents by field in the parent, +documents then you can should use the `function_score` query and then just sort, +by `_score`., +, +Sorting tags by parent document' `view_count` field:, +, +[source,js], +--------------------------------------------------, +GET /_search, +{, +    "query": {, +        "has_parent" : {, +            "parent_type" : "blog",, +            "score" : true,, +            "query" : {, +                "function_score" : {, +                    "script_score": {, +                        "script": "_score * doc['view_count'].value", +                    }, +                }, +            }, +        }, +    }, +}, +--------------------------------------------------, +// CONSOLE]