[+++ b/TESTING.asciidoc, +mvn test -Dtests.filter="@Rest", +++ b/TESTING.asciidoc, +mvn test -Dtests.filter="@Rest", +++ b/core/pom.xml, +, +    <properties>, +        <skip.integ.tests>true</skip.integ.tests>, +    </properties>, +, +            <plugin>, +                <groupId>org.apache.maven.plugins</groupId>, +                <artifactId>maven-shade-plugin</artifactId>, +                <executions>, +                    <execution>, +                        <phase>package</phase>, +                        <goals>, +                            <goal>shade</goal>, +                        </goals>, +                    </execution>, +                </executions>, +                <configuration>, +                    <shadedArtifactAttached>true</shadedArtifactAttached>, +                    <shadedClassifierName>shaded</shadedClassifierName>, +                    <shadeTestJar>false</shadeTestJar>, +                    <minimizeJar>true</minimizeJar>, +                    <promoteTransitiveDependencies>true</promoteTransitiveDependencies>, +                    <createDependencyReducedPom>false</createDependencyReducedPom>, +                    <artifactSet>, +                        <includes>, +                            <include>com.google.guava:guava</include>, +                            <include>com.carrotsearch:hppc</include>, +                            <include>com.fasterxml.jackson.core:jackson-core</include>, +                            <include>com.fasterxml.jackson.dataformat:jackson-dataformat-smile</include>, +                            <include>com.fasterxml.jackson.dataformat:jackson-dataformat-yaml</include>, +                            <include>com.fasterxml.jackson.dataformat:jackson-dataformat-cbor</include>, +                            <include>joda-time:joda-time</include>, +                            <include>org.joda:joda-convert</include>, +                            <include>io.netty:netty</include>, +                            <include>com.ning:compress-lzf</include>, +                            <include>com.github.spullara.mustache.java:compiler</include>, +                            <include>com.tdunning:t-digest</include>, +                            <include>org.apache.commons:commons-lang3</include>, +                            <include>commons-cli:commons-cli</include>, +                            <include>com.twitter:jsr166e</include>, +                        </includes>, +                    </artifactSet>, +                    <transformers>, +                        <!-- copy over MANIFEST.MF from unshaded jar, but mark jar as shaded too -->, +                        <transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">, +                            <manifestEntries>, +                                <X-Build-Shaded>true</X-Build-Shaded>, +                            </manifestEntries>, +                        </transformer>, +                    </transformers>, +                    <relocations>, +                        <relocation>, +                            <pattern>com.google.common</pattern>, +                            <shadedPattern>org.elasticsearch.common</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>com.carrotsearch.hppc</pattern>, +                            <shadedPattern>org.elasticsearch.common.hppc</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>com.twitter.jsr166e</pattern>, +                            <shadedPattern>org.elasticsearch.common.util.concurrent.jsr166e</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>com.fasterxml.jackson</pattern>, +                            <shadedPattern>org.elasticsearch.common.jackson</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>org.joda.time</pattern>, +                            <shadedPattern>org.elasticsearch.common.joda.time</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>org.jboss.netty</pattern>, +                            <shadedPattern>org.elasticsearch.common.netty</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>com.ning.compress</pattern>, +                            <shadedPattern>org.elasticsearch.common.compress</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>com.github.mustachejava</pattern>, +                            <shadedPattern>org.elasticsearch.common.mustache</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>com.tdunning.math.stats</pattern>, +                            <shadedPattern>org.elasticsearch.common.stats</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>org.apache.commons.lang</pattern>, +                            <shadedPattern>org.elasticsearch.common.lang</shadedPattern>, +                        </relocation>, +                        <relocation>, +                            <pattern>org.apache.commons.cli</pattern>, +                            <shadedPattern>org.elasticsearch.common.cli.commons</shadedPattern>, +                        </relocation>]