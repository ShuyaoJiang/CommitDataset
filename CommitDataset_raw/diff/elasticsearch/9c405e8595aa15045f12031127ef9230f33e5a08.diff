[+++ b/libs/grok/src/main/java/org/elasticsearch/grok/Grok.java, +import java.io.*;, +, +    private static final Map<String, String> builtinPatterns;, +, +    static {, +        try {, +            builtinPatterns = loadBuiltinPatterns();, +        } catch (IOException e) {, +            throw new UncheckedIOException("unable to load built-in grok patterns", e);, +        }, +    }, +, +    public static Map<String, String> getBuiltinPatterns() {, +        return builtinPatterns;, +    }, +, +    private static Map<String, String> loadBuiltinPatterns() throws IOException {, +        String[] PATTERN_NAMES = new String[] {, +++ b/libs/grok/src/main/java/org/elasticsearch/grok/Grok.java, +import java.io.*;, +, +    private static final Map<String, String> builtinPatterns;, +, +    static {, +        try {, +            builtinPatterns = loadBuiltinPatterns();, +        } catch (IOException e) {, +            throw new UncheckedIOException("unable to load built-in grok patterns", e);, +        }, +    }, +, +    public static Map<String, String> getBuiltinPatterns() {, +        return builtinPatterns;, +    }, +, +    private static Map<String, String> loadBuiltinPatterns() throws IOException {, +        String[] PATTERN_NAMES = new String[] {, +++ b/libs/grok/src/test/java/org/elasticsearch/grok/GrokTests.java, +    public void setup() {, +        basePatterns = Grok.getBuiltinPatterns();, +++ b/libs/grok/src/main/java/org/elasticsearch/grok/Grok.java, +import java.io.*;, +, +    private static final Map<String, String> builtinPatterns;, +, +    static {, +        try {, +            builtinPatterns = loadBuiltinPatterns();, +        } catch (IOException e) {, +            throw new UncheckedIOException("unable to load built-in grok patterns", e);, +        }, +    }, +, +    public static Map<String, String> getBuiltinPatterns() {, +        return builtinPatterns;, +    }, +, +    private static Map<String, String> loadBuiltinPatterns() throws IOException {, +        String[] PATTERN_NAMES = new String[] {, +++ b/libs/grok/src/test/java/org/elasticsearch/grok/GrokTests.java, +    public void setup() {, +        basePatterns = Grok.getBuiltinPatterns();, +++ b/modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/IngestCommonPlugin.java, +    static final Map<String, String> GROK_PATTERNS = Grok.getBuiltinPatterns();]