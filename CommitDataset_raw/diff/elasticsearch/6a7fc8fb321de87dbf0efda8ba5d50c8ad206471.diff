[+++ b/core/src/main/java/org/elasticsearch/index/IndexService.java, +import org.elasticsearch.index.shard.IndexEventListener;, +import org.elasticsearch.index.shard.IndexSearcherWrapper;, +import org.elasticsearch.index.shard.IndexShard;, +import org.elasticsearch.index.shard.ShadowIndexShard;, +import org.elasticsearch.index.shard.ShardId;, +import org.elasticsearch.index.shard.ShardNotFoundException;, +import org.elasticsearch.index.shard.ShardPath;, +    public Set<Integer> shardIds() {, +        return shards.keySet();, +    }, +    public IndexFieldDataService fieldData() {, +        return indexFieldData;, +    }, +]