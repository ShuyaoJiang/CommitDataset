[+++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/security/user/privileges/AbstractIndicesPrivileges.java, +    static final ParseField ALLOW_RESTRICTED_INDICES = new ParseField("allow_restricted_indices");, +    protected final boolean allowRestrictedIndices;, +    AbstractIndicesPrivileges(Collection<String> indices, Collection<String> privileges, boolean allowRestrictedIndices) {, +        this.allowRestrictedIndices = allowRestrictedIndices;, +     * True if the privileges cover restricted internal indices too. Certain indices are reserved for internal services and should be, +     * transparent to ordinary users. For that matter, when granting privileges, you also have to toggle this flag to confirm that all, +     * indices, including restricted ones, are in the scope of this permission. By default this is false., +     */, +    public boolean allowRestrictedIndices() {, +        return this.allowRestrictedIndices;, +    }, +, +    /**, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/security/user/privileges/AbstractIndicesPrivileges.java, +    static final ParseField ALLOW_RESTRICTED_INDICES = new ParseField("allow_restricted_indices");, +    protected final boolean allowRestrictedIndices;, +    AbstractIndicesPrivileges(Collection<String> indices, Collection<String> privileges, boolean allowRestrictedIndices) {, +        this.allowRestrictedIndices = allowRestrictedIndices;, +     * True if the privileges cover restricted internal indices too. Certain indices are reserved for internal services and should be, +     * transparent to ordinary users. For that matter, when granting privileges, you also have to toggle this flag to confirm that all, +     * indices, including restricted ones, are in the scope of this permission. By default this is false., +     */, +    public boolean allowRestrictedIndices() {, +        return this.allowRestrictedIndices;, +    }, +, +    /**, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/security/user/privileges/IndicesPrivileges.java, +            final boolean allowRestrictedIndices = (Boolean) constructorObjects[i++];, +            return new IndicesPrivileges(indices, privileges, allowRestrictedIndices, fields, query);, +        PARSER.declareBoolean(constructorArg(), ALLOW_RESTRICTED_INDICES);, +    private IndicesPrivileges(Collection<String> indices, Collection<String> privileges, boolean allowRestrictedIndices,, +                              @Nullable FieldSecurity fieldSecurity, @Nullable String query) {, +        super(indices, privileges, allowRestrictedIndices);, +            && allowRestrictedIndices == that.allowRestrictedIndices, +        return Objects.hash(indices, privileges, allowRestrictedIndices, fieldSecurity, query);, +        builder.field(ALLOW_RESTRICTED_INDICES.getPreferredName(), allowRestrictedIndices);, +        boolean allowRestrictedIndices = false;, +        public Builder allowRestrictedIndices(boolean allow) {, +            this.allowRestrictedIndices = allow;, +            return this;, +        }, +, +            return new IndicesPrivileges(indices, privileges, allowRestrictedIndices, fieldSecurity, query);, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/security/user/privileges/AbstractIndicesPrivileges.java, +    static final ParseField ALLOW_RESTRICTED_INDICES = new ParseField("allow_restricted_indices");, +    protected final boolean allowRestrictedIndices;, +    AbstractIndicesPrivileges(Collection<String> indices, Collection<String> privileges, boolean allowRestrictedIndices) {, +        this.allowRestrictedIndices = allowRestrictedIndices;, +     * True if the privileges cover restricted internal indices too. Certain indices are reserved for internal services and should be, +     * transparent to ordinary users. For that matter, when granting privileges, you also have to toggle this flag to confirm that all, +     * indices, including restricted ones, are in the scope of this permission. By default this is false., +     */, +    public boolean allowRestrictedIndices() {, +        return this.allowRestrictedIndices;, +    }, +, +    /**, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/security/user/privileges/IndicesPrivileges.java, +            final boolean allowRestrictedIndices = (Boolean) constructorObjects[i++];, +            return new IndicesPrivileges(indices, privileges, allowRestrictedIndices, fields, query);, +        PARSER.declareBoolean(constructorArg(), ALLOW_RESTRICTED_INDICES);, +    private IndicesPrivileges(Collection<String> indices, Collection<String> privileges, boolean allowRestrictedIndices,, +                              @Nullable FieldSecurity fieldSecurity, @Nullable String query) {, +        super(indices, privileges, allowRestrictedIndices);, +            && allowRestrictedIndices == that.allowRestrictedIndices, +        return Objects.hash(indices, privileges, allowRestrictedIndices, fieldSecurity, query);, +        builder.field(ALLOW_RESTRICTED_INDICES.getPreferredName(), allowRestrictedIndices);, +        boolean allowRestrictedIndices = false;, +        public Builder allowRestrictedIndices(boolean allow) {, +            this.allowRestrictedIndices = allow;, +            return this;, +        }, +, +            return new IndicesPrivileges(indices, privileges, allowRestrictedIndices, fieldSecurity, query);, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/security/user/privileges/UserIndicesPrivileges.java, +        PARSER.declareBoolean(constructorArg(), IndicesPrivileges.ALLOW_RESTRICTED_INDICES);, +            (Boolean) args[2],, +            (List<IndicesPrivileges.FieldSecurity>) args[3],, +            (List<String>) args[4], +    public UserIndicesPrivileges(Collection<String> indices, Collection<String> privileges, boolean allowRestrictedIndices,, +        super(indices, privileges, allowRestrictedIndices);, +            allowRestrictedIndices == that.allowRestrictedIndices &&, +        return Objects.hash(indices, privileges, allowRestrictedIndices, fieldSecurity, query);, +            ", allow_restricted_indices=" + allowRestrictedIndices +, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/security/user/privileges/AbstractIndicesPrivileges.java, +    static final ParseField ALLOW_RESTRICTED_INDICES = new ParseField("allow_restricted_indices");, +    protected final boolean allowRestrictedIndices;, +    AbstractIndicesPrivileges(Collection<String> indices, Collection<String> privileges, boolean allowRestrictedIndices) {, +        this.allowRestrictedIndices = allowRestrictedIndices;, +     * True if the privileges cover restricted internal indices too. Certain indices are reserved for internal services and should be, +     * transparent to ordinary users. For that matter, when granting privileges, you also have to toggle this flag to confirm that all, +     * indices, including restricted ones, are in the scope of this permission. By default this is false., +     */, +    public boolean allowRestrictedIndices() {, +        return this.allowRestrictedIndices;, +    }, +, +    /**]