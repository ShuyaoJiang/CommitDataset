[+++ b/src/test/java/org/apache/lucene/util/AbstractRandomizedTest.java, +     * Annotation for REST tests, +     */, +    @Inherited, +    @Retention(RetentionPolicy.RUNTIME), +    @Target(ElementType.TYPE), +    @TestGroup(enabled = true, sysProperty = TESTS_REST), +    public @interface Rest {, +    }, +, +    /**, +     * Property that allows to control whether the REST tests are run (default) or not, +     */, +    public static final String TESTS_REST = "tests.rest";, +, +    /**, +++ b/src/test/java/org/apache/lucene/util/AbstractRandomizedTest.java, +     * Annotation for REST tests, +     */, +    @Inherited, +    @Retention(RetentionPolicy.RUNTIME), +    @Target(ElementType.TYPE), +    @TestGroup(enabled = true, sysProperty = TESTS_REST), +    public @interface Rest {, +    }, +, +    /**, +     * Property that allows to control whether the REST tests are run (default) or not, +     */, +    public static final String TESTS_REST = "tests.rest";, +, +    /**, +++ b/src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTests.java, +import com.carrotsearch.randomizedtesting.RandomizedTest;, +import com.carrotsearch.randomizedtesting.annotations.TestGroup;, +import org.apache.lucene.util.AbstractRandomizedTest;, +@AbstractRandomizedTest.Rest, +        TestGroup testGroup = Rest.class.getAnnotation(TestGroup.class);, +        String sysProperty = TestGroup.Utilities.getSysProperty(Rest.class);, +        boolean enabled;, +        try {, +            enabled = RandomizedTest.systemPropertyAsBoolean(sysProperty, testGroup.enabled());, +        } catch (IllegalArgumentException e) {, +            // Ignore malformed system property, disable the group if malformed though., +            enabled = false;, +        }, +        if (!enabled) {, +            return Lists.newArrayList();, +        }, +        //parse tests only if rest test group is enabled, otherwise rest tests might not even be available on file system]