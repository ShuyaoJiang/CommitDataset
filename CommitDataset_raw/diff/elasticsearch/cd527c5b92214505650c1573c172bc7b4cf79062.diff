[+++ b/docs/plugins/analysis-icu.asciidoc, +===== Rules customization, +, +experimental[], +, +You can customize the `icu-tokenizer` behavior by specifying per-script rule files, see the, +http://userguide.icu-project.org/boundaryanalysis#TOC-RBBI-Rules[RBBI rules syntax reference], +for a more detailed explanation., +, +To add icu tokenizer rules, set the `rule_files` settings, which should contain a comma-separated list of, +`code:rulefile` pairs in the following format:, +http://unicode.org/iso15924/iso15924-codes.html[four-letter ISO 15924 script code],, +followed by a colon, then a rule file name. Rule files are placed `ES_HOME/config` directory., +, +As a demonstration of how the rule files can be used, save the following user file to `$ES_HOME/config/KeywordTokenizer.rbbi`:, +, +[source,text], +-----------------------, +.+ {200};, +-----------------------, +, +Then create an analyzer to use this rule file as follows:, +, +[source,json], +--------------------------------------------------, +PUT icu_sample, +{, +    "settings": {, +        "index":{, +            "analysis":{, +                "tokenizer" : {, +                    "icu_user_file" : {, +                       "type" : "icu_tokenizer",, +                       "rule_files" : "Latn:KeywordTokenizer.rbbi", +                    }, +                },, +                "analyzer" : {, +                    "my_analyzer" : {, +                        "type" : "custom",, +                        "tokenizer" : "icu_user_file", +                    }, +                }, +            }, +        }, +    }, +}, +, +POST icu_sample/_analyze?analyzer=my_analyzer&text=Elasticsearch. Wow!, +--------------------------------------------------, +// AUTOSENSE, +, +The above `analyze` request returns the following:, +, +[source,json], +--------------------------------------------------, +# Result, +{, +   "tokens": [, +      {, +         "token": "Elasticsearch. Wow!",, +         "start_offset": 0,, +         "end_offset": 19,, +         "type": "<ALPHANUM>",, +         "position": 0, +      }, +   ], +}, +--------------------------------------------------, +, +++ b/docs/plugins/analysis-icu.asciidoc, +===== Rules customization, +, +experimental[], +, +You can customize the `icu-tokenizer` behavior by specifying per-script rule files, see the, +http://userguide.icu-project.org/boundaryanalysis#TOC-RBBI-Rules[RBBI rules syntax reference], +for a more detailed explanation., +, +To add icu tokenizer rules, set the `rule_files` settings, which should contain a comma-separated list of, +`code:rulefile` pairs in the following format:, +http://unicode.org/iso15924/iso15924-codes.html[four-letter ISO 15924 script code],, +followed by a colon, then a rule file name. Rule files are placed `ES_HOME/config` directory., +, +As a demonstration of how the rule files can be used, save the following user file to `$ES_HOME/config/KeywordTokenizer.rbbi`:, +, +[source,text], +-----------------------, +.+ {200};, +-----------------------, +, +Then create an analyzer to use this rule file as follows:, +, +[source,json], +--------------------------------------------------, +PUT icu_sample, +{, +    "settings": {, +        "index":{, +            "analysis":{, +                "tokenizer" : {]