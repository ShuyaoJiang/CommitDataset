[+++ b/docs/reference/mapping/fields/source-field.asciidoc, +Many APIs may use the `_source` field. For example, the, +<<docs-update,Update API>>. To minimize the storage cost of, +`_source`, set `index.codec: best_compression` in index settings., +++ b/docs/reference/mapping/fields/source-field.asciidoc, +Many APIs may use the `_source` field. For example, the, +<<docs-update,Update API>>. To minimize the storage cost of, +`_source`, set `index.codec: best_compression` in index settings., +++ b/docs/reference/migration/migrate_2_0.asciidoc, +==== Source field limitations, +The `_source` field could previously be disabled dynamically. Since this field, +is a critical piece of many features like the Update API, it is no longer, +possible to disable., +, +The options for `compress` and `compress_threshold` have also been removed., +The source field is already compressed. To minimize the storage cost,, +set `index.codec: best_compression` in index settings., +, +++ b/docs/reference/mapping/fields/source-field.asciidoc, +Many APIs may use the `_source` field. For example, the, +<<docs-update,Update API>>. To minimize the storage cost of, +`_source`, set `index.codec: best_compression` in index settings., +++ b/docs/reference/migration/migrate_2_0.asciidoc, +==== Source field limitations, +The `_source` field could previously be disabled dynamically. Since this field, +is a critical piece of many features like the Update API, it is no longer, +possible to disable., +, +The options for `compress` and `compress_threshold` have also been removed., +The source field is already compressed. To minimize the storage cost,, +set `index.codec: best_compression` in index settings., +, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +                if (fieldName.equals("enabled") && parserContext.indexVersionCreated().before(Version.V_2_0_0)) {, +                } else if (fieldName.equals("compress") && parserContext.indexVersionCreated().before(Version.V_2_0_0)) {, +                } else if (fieldName.equals("compress_threshold") && parserContext.indexVersionCreated().before(Version.V_2_0_0)) {, +++ b/docs/reference/mapping/fields/source-field.asciidoc, +Many APIs may use the `_source` field. For example, the, +<<docs-update,Update API>>. To minimize the storage cost of, +`_source`, set `index.codec: best_compression` in index settings., +++ b/docs/reference/migration/migrate_2_0.asciidoc, +==== Source field limitations, +The `_source` field could previously be disabled dynamically. Since this field, +is a critical piece of many features like the Update API, it is no longer, +possible to disable., +, +The options for `compress` and `compress_threshold` have also been removed., +The source field is already compressed. To minimize the storage cost,, +set `index.codec: best_compression` in index settings., +, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +                if (fieldName.equals("enabled") && parserContext.indexVersionCreated().before(Version.V_2_0_0)) {, +                } else if (fieldName.equals("compress") && parserContext.indexVersionCreated().before(Version.V_2_0_0)) {, +                } else if (fieldName.equals("compress_threshold") && parserContext.indexVersionCreated().before(Version.V_2_0_0)) {, +++ b/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java, +                            .setSource(jsonBuilder().startObject().startObject("type2").endObject().endObject()), +++ b/docs/reference/mapping/fields/source-field.asciidoc, +Many APIs may use the `_source` field. For example, the, +<<docs-update,Update API>>. To minimize the storage cost of, +`_source`, set `index.codec: best_compression` in index settings., +++ b/docs/reference/migration/migrate_2_0.asciidoc, +==== Source field limitations, +The `_source` field could previously be disabled dynamically. Since this field, +is a critical piece of many features like the Update API, it is no longer, +possible to disable., +, +The options for `compress` and `compress_threshold` have also been removed., +The source field is already compressed. To minimize the storage cost,, +set `index.codec: best_compression` in index settings., +, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +                if (fieldName.equals("enabled") && parserContext.indexVersionCreated().before(Version.V_2_0_0)) {, +                } else if (fieldName.equals("compress") && parserContext.indexVersionCreated().before(Version.V_2_0_0)) {, +                } else if (fieldName.equals("compress_threshold") && parserContext.indexVersionCreated().before(Version.V_2_0_0)) {, +++ b/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java, +                            .setSource(jsonBuilder().startObject().startObject("type2").endObject().endObject()), +++ b/src/test/java/org/elasticsearch/get/GetActionTests.java, +    public void realtimeGetWithCompressBackcompat() throws Exception {, +        assertAcked(prepareCreate("test"), +                .setSettings(ImmutableSettings.settingsBuilder().put("index.refresh_interval", -1).put(IndexMetaData.SETTING_VERSION_CREATED, Version.V_1_4_2.id)), +                .addMapping("type1", jsonBuilder().startObject().startObject("type1").endObject().endObject()), +    public void testThatGetFromTranslogShouldWorkWithExcludeBackcompat() throws Exception {, +    public void testThatGetFromTranslogShouldWorkWithIncludeBackcompat() throws Exception {, +    public void testThatGetFromTranslogShouldWorkWithIncludeExcludeAndFieldsBackcompat() throws Exception {, +    public void testUngeneratedFieldsPartOfSourceUnstoredSourceDisabledBackcompat() throws IOException {, +    public void testUngeneratedFieldsPartOfSourceEitherStoredOrSourceEnabledBackcompat() throws IOException {, +                "    \"refresh_interval\": \"-1\",\n" +, +                "    \"" + IndexMetaData.SETTING_VERSION_CREATED + "\": " + Version.V_1_4_2.id + "\n" +, +                "    \"refresh_interval\": \"-1\",\n" +, +                "    \"" + IndexMetaData.SETTING_VERSION_CREATED + "\": " + Version.V_1_4_2.id + "\n" +, +                "    \"refresh_interval\": \"-1\",\n" +, +                "    \"" + IndexMetaData.SETTING_VERSION_CREATED + "\": " + Version.V_1_4_2.id + "\n" +, +++ b/docs/reference/mapping/fields/source-field.asciidoc, +Many APIs may use the `_source` field. For example, the, +<<docs-update,Update API>>. To minimize the storage cost of, +`_source`, set `index.codec: best_compression` in index settings., +++ b/docs/reference/migration/migrate_2_0.asciidoc, +==== Source field limitations, +The `_source` field could previously be disabled dynamically. Since this field, +is a critical piece of many features like the Update API, it is no longer]