[+++ b/core/src/main/java/org/elasticsearch/node/Node.java, +                .flatMap(p -> p.createComponents(client, clusterService, threadPool, resourceWatcherService).stream()), +++ b/core/src/main/java/org/elasticsearch/node/Node.java, +                .flatMap(p -> p.createComponents(client, clusterService, threadPool, resourceWatcherService).stream()), +++ b/core/src/main/java/org/elasticsearch/plugins/Plugin.java, +import org.elasticsearch.watcher.ResourceWatcherService;, +     * @param resourceWatcherService A service to watch for changes to node local files, +    public Collection<Object> createComponents(Client client, ClusterService clusterService, ThreadPool threadPool,, +                                               ResourceWatcherService resourceWatcherService) {]