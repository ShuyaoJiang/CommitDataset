[+++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/client/WatchSourceBuilder.java, +import org.elasticsearch.action.support.ToXContentToBytes;, +import org.elasticsearch.xpack.watcher.condition.Condition;, +public class WatchSourceBuilder extends ToXContentToBytes implements ToXContent {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/client/WatchSourceBuilder.java, +import org.elasticsearch.action.support.ToXContentToBytes;, +import org.elasticsearch.xpack.watcher.condition.Condition;, +public class WatchSourceBuilder extends ToXContentToBytes implements ToXContent {, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/transport/action/put/PutWatchTests.java, +import org.elasticsearch.ElasticsearchException;, +        ElasticsearchException exception = expectThrows(ElasticsearchException.class,, +                () -> watcherClient().preparePutWatch("_name").setSource(watchBuilder(), +                .get());, +        assertEquals("Failed to build ToXContent", exception.getMessage());]