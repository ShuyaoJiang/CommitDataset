[+++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +    public static final Setting<String> PATH_SCRIPTS_SETTING =, +        Setting.simpleString("path.scripts", Property.NodeScope, Property.Deprecated);, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +    public static final Setting<String> PATH_SCRIPTS_SETTING =, +        Setting.simpleString("path.scripts", Property.NodeScope, Property.Deprecated);, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        Setting.boolSetting("script.auto_reload_enabled", true, Property.NodeScope, Property.Deprecated);, +        if (SCRIPT_AUTO_RELOAD_ENABLED_SETTING.get(settings) && resourceWatcherService != null) {, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +    public static final Setting<String> PATH_SCRIPTS_SETTING =, +        Setting.simpleString("path.scripts", Property.NodeScope, Property.Deprecated);, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        Setting.boolSetting("script.auto_reload_enabled", true, Property.NodeScope, Property.Deprecated);, +        if (SCRIPT_AUTO_RELOAD_ENABLED_SETTING.get(settings) && resourceWatcherService != null) {, +++ b/core/src/test/java/org/elasticsearch/script/FileScriptTests.java, +import org.elasticsearch.common.settings.Setting;, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +    public static final Setting<String> PATH_SCRIPTS_SETTING =, +        Setting.simpleString("path.scripts", Property.NodeScope, Property.Deprecated);, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        Setting.boolSetting("script.auto_reload_enabled", true, Property.NodeScope, Property.Deprecated);, +        if (SCRIPT_AUTO_RELOAD_ENABLED_SETTING.get(settings) && resourceWatcherService != null) {, +++ b/core/src/test/java/org/elasticsearch/script/FileScriptTests.java, +import org.elasticsearch.common.settings.Setting;, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +++ b/core/src/test/java/org/elasticsearch/script/NativeScriptTests.java, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +    public static final Setting<String> PATH_SCRIPTS_SETTING =, +        Setting.simpleString("path.scripts", Property.NodeScope, Property.Deprecated);, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        Setting.boolSetting("script.auto_reload_enabled", true, Property.NodeScope, Property.Deprecated);, +        if (SCRIPT_AUTO_RELOAD_ENABLED_SETTING.get(settings) && resourceWatcherService != null) {, +++ b/core/src/test/java/org/elasticsearch/script/FileScriptTests.java, +import org.elasticsearch.common.settings.Setting;, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +++ b/core/src/test/java/org/elasticsearch/script/NativeScriptTests.java, +++ b/core/src/test/java/org/elasticsearch/script/ScriptContextTests.java, +import org.elasticsearch.common.settings.Setting;, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +    public static final Setting<String> PATH_SCRIPTS_SETTING =, +        Setting.simpleString("path.scripts", Property.NodeScope, Property.Deprecated);, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        Setting.boolSetting("script.auto_reload_enabled", true, Property.NodeScope, Property.Deprecated);, +        if (SCRIPT_AUTO_RELOAD_ENABLED_SETTING.get(settings) && resourceWatcherService != null) {, +++ b/core/src/test/java/org/elasticsearch/script/FileScriptTests.java, +import org.elasticsearch.common.settings.Setting;, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +++ b/core/src/test/java/org/elasticsearch/script/NativeScriptTests.java, +++ b/core/src/test/java/org/elasticsearch/script/ScriptContextTests.java, +import org.elasticsearch.common.settings.Setting;, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +++ b/core/src/test/java/org/elasticsearch/search/aggregations/AggregatorFactoriesTests.java, +                .put(Environment.PATH_HOME_SETTING.getKey(), createTempDir()).build();, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +    public static final Setting<String> PATH_SCRIPTS_SETTING =, +        Setting.simpleString("path.scripts", Property.NodeScope, Property.Deprecated);, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        Setting.boolSetting("script.auto_reload_enabled", true, Property.NodeScope, Property.Deprecated);, +        if (SCRIPT_AUTO_RELOAD_ENABLED_SETTING.get(settings) && resourceWatcherService != null) {, +++ b/core/src/test/java/org/elasticsearch/script/FileScriptTests.java, +import org.elasticsearch.common.settings.Setting;, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            "File scripts are deprecated. Use stored or inline scripts instead.");, +++ b/core/src/test/java/org/elasticsearch/script/NativeScriptTests.java, +++ b/core/src/test/java/org/elasticsearch/script/ScriptContextTests.java, +import org.elasticsearch.common.settings.Setting;, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +        assertSettingDeprecationsAndWarnings(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING});, +++ b/core/src/test/java/org/elasticsearch/search/aggregations/AggregatorFactoriesTests.java, +                .put(Environment.PATH_HOME_SETTING.getKey(), createTempDir()).build();, +++ b/core/src/test/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetricTests.java, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +    public static final Setting<String> PATH_SCRIPTS_SETTING =, +        Setting.simpleString("path.scripts", Property.NodeScope, Property.Deprecated);, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java]