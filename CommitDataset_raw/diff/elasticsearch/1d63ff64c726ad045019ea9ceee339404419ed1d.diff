[+++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java, +            root = XContentFactory.xContent(source).createParser(source).mapOrderedAndClose();, +        } catch (Exception e) {, +            throw new MapperParsingException("failed to parse mapping definition", e);, +            throw new MapperParsingException("mapping must have the `type` as the root object");]