[+++ b/docs/reference/index-modules/store.asciidoc, +=== File system storage types, +different implementations or _storage types_. The best one for the, +This can be overridden for all indices by adding this to the, +`config/elasticsearch.yml` file:, +, +[source,yaml], +---------------------------------, +index.store.type: niofs, +---------------------------------, +, +It can also be set on a per-index basis at index creation time:, +, +[source,json], +---------------------------------, +curl -XPUT localhost:9200/my_index, +{, +    "settings": {, +        "index.store.type": "niofs", +    }, +}, +---------------------------------, +, +The following sections lists all the different storage types supported., +[[simplefs]], +[[niofs]], +See <<vm-max-map-count>>, +The `memory` type stores the index in main memory, using Lucene's, +`RamIndexStore`., +++ b/docs/reference/index-modules/store.asciidoc, +=== File system storage types, +different implementations or _storage types_. The best one for the, +This can be overridden for all indices by adding this to the, +`config/elasticsearch.yml` file:, +, +[source,yaml], +---------------------------------, +index.store.type: niofs, +---------------------------------, +, +It can also be set on a per-index basis at index creation time:, +, +[source,json], +---------------------------------, +curl -XPUT localhost:9200/my_index, +{, +    "settings": {, +        "index.store.type": "niofs", +    }, +}, +---------------------------------, +, +The following sections lists all the different storage types supported., +[[simplefs]], +[[niofs]], +See <<vm-max-map-count>>, +The `memory` type stores the index in main memory, using Lucene's, +`RamIndexStore`., +++ b/docs/reference/setup/configuration.asciidoc, +[float], +[[vm-max-map-count]], +==== Virtual memory, +, +Elasticsearch uses <<mmapfs>> by default to store its indices.  The default, +operating system limits on mmap counts is likely to be too low, which may, +result in out of memory exceptions.  On Linux, you can increase the limits by, +running the following command as `root`:, +, +[source,bash], +-------------------------------------, +sysctl -w vm.max_map_count=262144, +-------------------------------------, +, +To set this value permanently, update the `vm.max_map_count` setting in, +`/etc/sysctl.conf`.]