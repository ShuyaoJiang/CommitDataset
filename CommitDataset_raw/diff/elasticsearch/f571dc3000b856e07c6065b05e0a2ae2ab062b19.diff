[+++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/IndexLifecycle.java, +import org.elasticsearch.client.Client;, +    public Collection<Object> createComponents(Client client, ClusterService clusterService, Clock clock,, +                .set(new IndexLifecycleInitialisationService(settings, client, clusterService, clock, threadPool));, +++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/IndexLifecycle.java, +import org.elasticsearch.client.Client;, +    public Collection<Object> createComponents(Client client, ClusterService clusterService, Clock clock,, +                .set(new IndexLifecycleInitialisationService(settings, client, clusterService, clock, threadPool));, +++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/IndexLifecycleInitialisationService.java, +import org.elasticsearch.client.Client;, +    private Client client;, +    public IndexLifecycleInitialisationService(Settings settings, Client client, ClusterService clusterService, Clock clock,, +++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/IndexLifecycle.java, +import org.elasticsearch.client.Client;, +    public Collection<Object> createComponents(Client client, ClusterService clusterService, Clock clock,, +                .set(new IndexLifecycleInitialisationService(settings, client, clusterService, clock, threadPool));, +++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/IndexLifecycleInitialisationService.java, +import org.elasticsearch.client.Client;, +    private Client client;, +    public IndexLifecycleInitialisationService(Settings settings, Client client, ClusterService clusterService, Clock clock,, +++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/LifecyclePolicy.java, +import org.elasticsearch.client.Client;, +    public void execute(IndexMetaData idxMeta, Client client) {, +++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/IndexLifecycle.java, +import org.elasticsearch.client.Client;, +    public Collection<Object> createComponents(Client client, ClusterService clusterService, Clock clock,, +                .set(new IndexLifecycleInitialisationService(settings, client, clusterService, clock, threadPool));, +++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/IndexLifecycleInitialisationService.java, +import org.elasticsearch.client.Client;, +    private Client client;, +    public IndexLifecycleInitialisationService(Settings settings, Client client, ClusterService clusterService, Clock clock,, +++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/LifecyclePolicy.java, +import org.elasticsearch.client.Client;, +    public void execute(IndexMetaData idxMeta, Client client) {, +++ b/x-pack/plugin/src/main/java/org/elasticsearch/xpack/indexlifecycle/Phase.java, +import org.elasticsearch.client.Client;, +    protected void execute(IndexMetaData idxMeta, Client client) {]