[+++ b/modules/elasticsearch/src/main/java/org/apache/lucene/search/PublicTermsFilter.java, +        OpenBitSet result = null;, +                if (td.next()) {, +                    if (result == null) {, +                        result = new OpenBitSet(reader.maxDoc());, +                    }, +                    result.fastSet(td.doc());, +            }, +++ b/modules/elasticsearch/src/main/java/org/apache/lucene/search/PublicTermsFilter.java, +        OpenBitSet result = null;, +                if (td.next()) {, +                    if (result == null) {, +                        result = new OpenBitSet(reader.maxDoc());, +                    }, +                    result.fastSet(td.doc());, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/search/TermFilter.java, +        OpenBitSet result = null;, +            if (td.next()) {, +                result = new OpenBitSet(reader.maxDoc());, +                result.fastSet(td.doc());, +        } finally {]