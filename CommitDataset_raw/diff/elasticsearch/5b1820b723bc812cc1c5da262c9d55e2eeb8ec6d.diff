[+++ b/src/test/java/org/apache/lucene/util/AbstractRandomizedTest.java, +import org.elasticsearch.test.ElasticsearchIntegrationTest;, +import org.elasticsearch.test.ElasticsearchTestCase;, +    private final static Set<Class<?>> TOP_LEVEL_CLASSES =, +            Collections.unmodifiableSet(new HashSet<Class<?>>(Arrays.asList(, +                    AbstractRandomizedTest.class, LuceneTestCase.class,, +                    ElasticsearchIntegrationTest.class, ElasticsearchTestCase.class)));, +, +                    if (TOP_LEVEL_CLASSES.contains(field.getDeclaringClass())) {]