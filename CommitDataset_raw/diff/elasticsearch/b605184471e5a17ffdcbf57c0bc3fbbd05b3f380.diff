[+++ b/docs/reference/indices/recovery.asciidoc, +        "total" : 0,, +        "percent" : "100.0%",, +        "total_on_start" : 0,, +++ b/docs/reference/indices/recovery.asciidoc, +        "total" : 0,, +        "percent" : "100.0%",, +        "total_on_start" : 0,, +++ b/rest-api-spec/test/cat.recovery/10_basic.yaml, +                \d+         \s+                                 # translog, +                -?\d+\.\d+% \s+                                 # translog_percent, +                -?\d+       \s+                                 # total_translog, +++ b/docs/reference/indices/recovery.asciidoc, +        "total" : 0,, +        "percent" : "100.0%",, +        "total_on_start" : 0,, +++ b/rest-api-spec/test/cat.recovery/10_basic.yaml, +                \d+         \s+                                 # translog, +                -?\d+\.\d+% \s+                                 # translog_percent, +                -?\d+       \s+                                 # total_translog, +++ b/rest-api-spec/test/indices.recovery/10_basic.yaml, +  - gte:   { test_1.shards.0.translog.total:                    -1                      }, +  - gte:   { test_1.shards.0.translog.total_on_start:           0                       }, +++ b/docs/reference/indices/recovery.asciidoc, +        "total" : 0,, +        "percent" : "100.0%",, +        "total_on_start" : 0,, +++ b/rest-api-spec/test/cat.recovery/10_basic.yaml, +                \d+         \s+                                 # translog, +                -?\d+\.\d+% \s+                                 # translog_percent, +                -?\d+       \s+                                 # total_translog, +++ b/rest-api-spec/test/indices.recovery/10_basic.yaml, +  - gte:   { test_1.shards.0.translog.total:                    -1                      }, +  - gte:   { test_1.shards.0.translog.total_on_start:           0                       }, +++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java, +                recoveryState.getTranslog().totalOperations(0);, +                recoveryState.getTranslog().totalOperationsOnStart(0);, +                        recoveryState.getTranslog().incrementRecoveredOperations();, +++ b/docs/reference/indices/recovery.asciidoc, +        "total" : 0,, +        "percent" : "100.0%",, +        "total_on_start" : 0,, +++ b/rest-api-spec/test/cat.recovery/10_basic.yaml, +                \d+         \s+                                 # translog, +                -?\d+\.\d+% \s+                                 # translog_percent, +                -?\d+       \s+                                 # total_translog, +++ b/rest-api-spec/test/indices.recovery/10_basic.yaml, +  - gte:   { test_1.shards.0.translog.total:                    -1                      }, +  - gte:   { test_1.shards.0.translog.total_on_start:           0                       }, +++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java, +                recoveryState.getTranslog().totalOperations(0);, +                recoveryState.getTranslog().totalOperationsOnStart(0);, +                        recoveryState.getTranslog().incrementRecoveredOperations();, +++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java, +                        sb.append("    translog : number_of_operations [").append(recoveryState.getTranslog().recoveredOperations()), +++ b/docs/reference/indices/recovery.asciidoc, +        "total" : 0,, +        "percent" : "100.0%",, +        "total_on_start" : 0,, +++ b/rest-api-spec/test/cat.recovery/10_basic.yaml, +                \d+         \s+                                 # translog, +                -?\d+\.\d+% \s+                                 # translog_percent, +                -?\d+       \s+                                 # total_translog, +++ b/rest-api-spec/test/indices.recovery/10_basic.yaml, +  - gte:   { test_1.shards.0.translog.total:                    -1                      }, +  - gte:   { test_1.shards.0.translog.total_on_start:           0                       }, +++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java, +                recoveryState.getTranslog().totalOperations(0);, +                recoveryState.getTranslog().totalOperationsOnStart(0);, +                        recoveryState.getTranslog().incrementRecoveredOperations();, +++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java, +                        sb.append("    translog : number_of_operations [").append(recoveryState.getTranslog().recoveredOperations()), +++ b/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java, +            recoveryState.getTranslog().totalOperations(0);, +            recoveryState.getTranslog().totalOperationsOnStart(0);, +++ b/docs/reference/indices/recovery.asciidoc, +        "total" : 0,, +        "percent" : "100.0%",, +        "total_on_start" : 0,, +++ b/rest-api-spec/test/cat.recovery/10_basic.yaml, +                \d+         \s+                                 # translog, +                -?\d+\.\d+% \s+                                 # translog_percent, +                -?\d+       \s+                                 # total_translog, +++ b/rest-api-spec/test/indices.recovery/10_basic.yaml, +  - gte:   { test_1.shards.0.translog.total:                    -1                      }, +  - gte:   { test_1.shards.0.translog.total_on_start:           0                       }, +++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java, +                recoveryState.getTranslog().totalOperations(0);, +                recoveryState.getTranslog().totalOperationsOnStart(0);, +                        recoveryState.getTranslog().incrementRecoveredOperations();, +++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java, +                        sb.append("    translog : number_of_operations [").append(recoveryState.getTranslog().recoveredOperations()), +++ b/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java, +            recoveryState.getTranslog().totalOperations(0);, +            recoveryState.getTranslog().totalOperationsOnStart(0);, +++ b/src/main/java/org/elasticsearch/indices/recovery/RecoveryCleanFilesRequest.java, +    private int totalTranslogOps = RecoveryState.Translog.UNKNOWN;, +    RecoveryCleanFilesRequest(long recoveryId, ShardId shardId, Store.MetadataSnapshot snapshotFiles, int totalTranslogOps) {, +        this.totalTranslogOps = totalTranslogOps;, +        totalTranslogOps = in.readVInt();]