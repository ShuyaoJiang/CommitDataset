[+++ b/src/main/java/org/elasticsearch/index/query/NestedFilterParser.java, +                // don't do special parent filtering, since we might have same nested mapping on two different types, +                //if (mapper.hasDocMapper()) {, +                //    // filter based on the type..., +                //    parentFilter = mapper.docMapper().typeFilter();, +                //}, +++ b/src/main/java/org/elasticsearch/index/query/NestedFilterParser.java, +                // don't do special parent filtering, since we might have same nested mapping on two different types, +                //if (mapper.hasDocMapper()) {, +                //    // filter based on the type..., +                //    parentFilter = mapper.docMapper().typeFilter();, +                //}, +++ b/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java, +                // don't do special parent filtering, since we might have same nested mapping on two different types, +                //if (mapper.hasDocMapper()) {, +                //    // filter based on the type..., +                //    parentFilter = mapper.docMapper().typeFilter();, +                //}]