[+++ b/core/src/main/java/org/elasticsearch/index/IndexService.java, +        // initialize this last -- otherwise if the wrapper requires any other member to be non-null we fail with an NPE, +        this.searcherWrapper = wrapperFactory.newWrapper(this);, +++ b/core/src/main/java/org/elasticsearch/index/IndexService.java, +        // initialize this last -- otherwise if the wrapper requires any other member to be non-null we fail with an NPE, +        this.searcherWrapper = wrapperFactory.newWrapper(this);, +++ b/core/src/main/java/org/elasticsearch/plugins/Plugin.java, +    /**, +     * Called once the given {@link IndexService} is fully constructed but not yet published., +     * This is used to initialize plugin services that require acess to index level resources, +     */, +    public void onIndexService(IndexService indexService) {}, +    /**, +     * Called before a new index is created on a node. The given module can be used to regsiter index-leve, +     * extensions., +     */, +    /**, +     * Old-style guice index level extension point., +     *, +     * @deprecated use #onIndexModule instead, +     */, +    @Deprecated, +++ b/core/src/main/java/org/elasticsearch/index/IndexService.java, +        // initialize this last -- otherwise if the wrapper requires any other member to be non-null we fail with an NPE, +        this.searcherWrapper = wrapperFactory.newWrapper(this);, +++ b/core/src/main/java/org/elasticsearch/plugins/Plugin.java, +    /**, +     * Called once the given {@link IndexService} is fully constructed but not yet published., +     * This is used to initialize plugin services that require acess to index level resources, +     */, +    public void onIndexService(IndexService indexService) {}, +    /**, +     * Called before a new index is created on a node. The given module can be used to regsiter index-leve, +     * extensions., +     */, +    /**, +     * Old-style guice index level extension point., +     *, +     * @deprecated use #onIndexModule instead, +     */, +    @Deprecated, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginsService.java, +                    plugin.v2().onIndexService(indexService);, +++ b/core/src/main/java/org/elasticsearch/index/IndexService.java, +        // initialize this last -- otherwise if the wrapper requires any other member to be non-null we fail with an NPE, +        this.searcherWrapper = wrapperFactory.newWrapper(this);, +++ b/core/src/main/java/org/elasticsearch/plugins/Plugin.java, +    /**, +     * Called once the given {@link IndexService} is fully constructed but not yet published., +     * This is used to initialize plugin services that require acess to index level resources, +     */, +    public void onIndexService(IndexService indexService) {}, +    /**, +     * Called before a new index is created on a node. The given module can be used to regsiter index-leve, +     * extensions., +     */, +    /**, +     * Old-style guice index level extension point., +     *, +     * @deprecated use #onIndexModule instead, +     */, +    @Deprecated, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginsService.java, +                    plugin.v2().onIndexService(indexService);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java, +    public void onIndexService(IndexService indexService) {, +++ b/core/src/main/java/org/elasticsearch/index/IndexService.java, +        // initialize this last -- otherwise if the wrapper requires any other member to be non-null we fail with an NPE, +        this.searcherWrapper = wrapperFactory.newWrapper(this);, +++ b/core/src/main/java/org/elasticsearch/plugins/Plugin.java, +    /**, +     * Called once the given {@link IndexService} is fully constructed but not yet published., +     * This is used to initialize plugin services that require acess to index level resources, +     */, +    public void onIndexService(IndexService indexService) {}, +    /**, +     * Called before a new index is created on a node. The given module can be used to regsiter index-leve, +     * extensions., +     */, +    /**, +     * Old-style guice index level extension point., +     *, +     * @deprecated use #onIndexModule instead, +     */, +    @Deprecated, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginsService.java, +                    plugin.v2().onIndexService(indexService);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java, +    public void onIndexService(IndexService indexService) {, +++ b/plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java, +    public void onIndexService(IndexService indexService) {, +++ b/core/src/main/java/org/elasticsearch/index/IndexService.java, +        // initialize this last -- otherwise if the wrapper requires any other member to be non-null we fail with an NPE, +        this.searcherWrapper = wrapperFactory.newWrapper(this);, +++ b/core/src/main/java/org/elasticsearch/plugins/Plugin.java, +    /**, +     * Called once the given {@link IndexService} is fully constructed but not yet published., +     * This is used to initialize plugin services that require acess to index level resources, +     */, +    public void onIndexService(IndexService indexService) {}]