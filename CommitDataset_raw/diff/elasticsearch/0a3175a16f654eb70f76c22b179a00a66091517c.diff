[+++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +        try (IndexWriter writer = new IndexWriter(directory, new IndexWriterConfig(Lucene.STANDARD_ANALYZER), +        try (IndexWriter writer = new IndexWriter(directory, new IndexWriterConfig(Lucene.STANDARD_ANALYZER), +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +        try (IndexWriter writer = new IndexWriter(directory, new IndexWriterConfig(Lucene.STANDARD_ANALYZER), +        try (IndexWriter writer = new IndexWriter(directory, new IndexWriterConfig(Lucene.STANDARD_ANALYZER), +++ b/src/main/java/org/elasticsearch/index/engine/InternalEngine.java, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +            try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = writeLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +        try (IndexWriter writer = new IndexWriter(directory, new IndexWriterConfig(Lucene.STANDARD_ANALYZER), +        try (IndexWriter writer = new IndexWriter(directory, new IndexWriterConfig(Lucene.STANDARD_ANALYZER), +++ b/src/main/java/org/elasticsearch/index/engine/InternalEngine.java, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +            try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = writeLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +++ b/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {, +        try (ReleasableLock lock = readLock.acquire()) {]