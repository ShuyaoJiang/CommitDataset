[+++ b/core/src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java, +        } else if (delimiter.length() != 1) {, +            throw new IllegalArgumentException("delimiter must be a one char value");, +        } else if (replacement.length() != 1) {, +            throw new IllegalArgumentException("replacement must be a one char value");]