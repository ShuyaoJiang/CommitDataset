[+++ b/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java, +import org.elasticsearch.search.internal.InternalSearchResponse;, +            if (expectedSuccessfulOps == 0) {, +                // no search shards to search on, bail with empty response (it happens with search across _all with no indices around and consistent with broadcast operations), +                listener.onResponse(new SearchResponse(InternalSearchResponse.EMPTY, null, 0, 0, System.currentTimeMillis() - startTime, ShardSearchFailure.EMPTY_ARRAY));, +                return;, +            }, +++ b/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java, +import org.elasticsearch.search.internal.InternalSearchResponse;, +            if (expectedSuccessfulOps == 0) {, +                // no search shards to search on, bail with empty response (it happens with search across _all with no indices around and consistent with broadcast operations), +                listener.onResponse(new SearchResponse(InternalSearchResponse.EMPTY, null, 0, 0, System.currentTimeMillis() - startTime, ShardSearchFailure.EMPTY_ARRAY));, +                return;, +            }, +++ b/src/test/java/org/elasticsearch/search/indicesboost/SimpleIndicesBoostSearchTests.java, +import org.elasticsearch.AbstractSharedClusterTest;, +import org.elasticsearch.test.hamcrest.ElasticsearchAssertions;, +        ElasticsearchAssertions.assertHitCount(client().prepareSearch().setQuery(termQuery("test", "value")).get(), 0);]