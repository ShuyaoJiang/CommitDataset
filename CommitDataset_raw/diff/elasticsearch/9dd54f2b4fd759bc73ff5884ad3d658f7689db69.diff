[+++ b/docs/plugins/ingest.asciidoc, +==== Fail processor, +The Fail Processor is used to raise an exception. This is useful for when, +a user expects a pipeline to fail and wishes to relay a specific message, +to the requester., +, +[source,js], +--------------------------------------------------, +{, +  "fail": {, +    "message": "an error message", +  }, +}, +--------------------------------------------------, +, +++ b/docs/plugins/ingest.asciidoc, +==== Fail processor, +The Fail Processor is used to raise an exception. This is useful for when, +a user expects a pipeline to fail and wishes to relay a specific message, +to the requester., +, +[source,js], +--------------------------------------------------, +{, +  "fail": {, +    "message": "an error message", +  }, +}, +--------------------------------------------------, +, +++ b/plugins/ingest/src/main/java/org/elasticsearch/ingest/IngestDocument.java, +        removeField(renderTemplate(fieldPathTemplate));, +    public String renderTemplate(TemplateService.Template template) {, +        return template.execute(createTemplateModel());, +    }, +, +++ b/docs/plugins/ingest.asciidoc, +==== Fail processor, +The Fail Processor is used to raise an exception. This is useful for when, +a user expects a pipeline to fail and wishes to relay a specific message, +to the requester., +, +[source,js], +--------------------------------------------------, +{, +  "fail": {, +    "message": "an error message", +  }, +}, +--------------------------------------------------, +, +++ b/plugins/ingest/src/main/java/org/elasticsearch/ingest/IngestDocument.java, +        removeField(renderTemplate(fieldPathTemplate));, +    public String renderTemplate(TemplateService.Template template) {, +        return template.execute(createTemplateModel());, +    }, +, +++ b/plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/CompoundProcessor.java, +            for (Processor processor : processors) {, +            }, +                executeOnFailure(ingestDocument);, +    }, +, +    void executeOnFailure(IngestDocument ingestDocument) throws Exception {, +++ b/docs/plugins/ingest.asciidoc, +==== Fail processor, +The Fail Processor is used to raise an exception. This is useful for when, +a user expects a pipeline to fail and wishes to relay a specific message, +to the requester., +, +[source,js], +--------------------------------------------------, +{, +  "fail": {, +    "message": "an error message", +  }, +}, +--------------------------------------------------, +, +++ b/plugins/ingest/src/main/java/org/elasticsearch/ingest/IngestDocument.java, +        removeField(renderTemplate(fieldPathTemplate));, +    public String renderTemplate(TemplateService.Template template) {, +        return template.execute(createTemplateModel());, +    }, +, +++ b/plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/CompoundProcessor.java, +            for (Processor processor : processors) {, +            }, +                executeOnFailure(ingestDocument);, +    }, +, +    void executeOnFailure(IngestDocument ingestDocument) throws Exception {, +++ b/plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/fail/FailProcessor.java, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License.]