[+++ b/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +        long minOpenFileDescriptors = Long.MAX_VALUE;, +        long maxOpenFileDescriptors = Long.MIN_VALUE;, +            if (fd > 0) {, +                // fd can be -1 if not supported on platform, +            }, +            // we still do min max calc on -1, so we'll have an indication of it not being supported on one of the nodes., +++ b/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +        long minOpenFileDescriptors = Long.MAX_VALUE;, +        long maxOpenFileDescriptors = Long.MIN_VALUE;, +            if (fd > 0) {, +                // fd can be -1 if not supported on platform, +            }, +            // we still do min max calc on -1, so we'll have an indication of it not being supported on one of the nodes., +++ b/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java, +        assertThat(response.nodesStats.getProcess().count, Matchers.greaterThan(0));, +        // 0 happens when not supported on platform, +        assertThat(response.nodesStats.getProcess().getAvgOpenFileDescriptors(), Matchers.greaterThanOrEqualTo(0L));, +        // these can be -1 if not supported, +        assertThat(response.nodesStats.getProcess().getMinOpenFileDescriptors(), Matchers.greaterThan(-1L));, +        assertThat(response.nodesStats.getProcess().getMaxOpenFileDescriptors(), Matchers.greaterThan(-1L));]