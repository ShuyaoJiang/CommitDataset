[+++ b/server/src/main/java/org/elasticsearch/cluster/coordination/DiscoveryUpgradeService.java, +        // IDs are base-64-encoded UUIDs, which means they use the character set [0-9A-Za-z_-]. The highest character in this set is 'z',, +        // and 'z' < '{', so by starting the ID with '{' we can be sure it's greater. This is terrible., +        return new DiscoveryNode(node.getName(), "{zen2}" + node.getId(), node.getEphemeralId(), node.getHostName(),, +++ b/server/src/main/java/org/elasticsearch/cluster/coordination/DiscoveryUpgradeService.java, +        // IDs are base-64-encoded UUIDs, which means they use the character set [0-9A-Za-z_-]. The highest character in this set is 'z',, +        // and 'z' < '{', so by starting the ID with '{' we can be sure it's greater. This is terrible., +        return new DiscoveryNode(node.getName(), "{zen2}" + node.getId(), node.getEphemeralId(), node.getHostName(),, +++ b/server/src/test/java/org/elasticsearch/cluster/coordination/DiscoveryUpgradeServiceTests.java, +        assertThat(UUIDs.randomBase64UUID(random()), lessThan(fakeNode.getId()));]