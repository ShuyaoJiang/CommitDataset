[+++ b/plugins/repository-gcs/qa/google-cloud-storage/src/test/resources/rest-api-spec/test/repository_gcs/10_repository.yml, +  # Remove the snapshots, if a previous test failed to delete them. This is, +  # useful for third party tests that runs the test against a real external service., +  - do:, +      snapshot.delete:, +        repository: repository, +        snapshot: snapshot-one, +        ignore: 404, +  - do:, +      snapshot.delete:, +        repository: repository, +        snapshot: snapshot-two, +        ignore: 404, +, +++ b/plugins/repository-gcs/qa/google-cloud-storage/src/test/resources/rest-api-spec/test/repository_gcs/10_repository.yml, +  # Remove the snapshots, if a previous test failed to delete them. This is, +  # useful for third party tests that runs the test against a real external service., +  - do:, +      snapshot.delete:, +        repository: repository, +        snapshot: snapshot-one, +        ignore: 404, +  - do:, +      snapshot.delete:, +        repository: repository, +        snapshot: snapshot-two, +        ignore: 404, +, +++ b/plugins/repository-s3/build.gradle, +if (!s3PermanentAccessKey && !s3PermanentSecretKey && !s3PermanentBucket && !s3PermanentBasePath) {, +if (!s3EC2Bucket && !s3EC2BasePath && !s3ECSBucket && !s3ECSBasePath) {, +  s3EC2Bucket = 'ec2-bucket-test', +  s3EC2BasePath = 'integration_test', +  s3ECSBucket = 'ecs-bucket-test', +  s3ECSBasePath = 'integration_test', +} else if (!s3EC2Bucket || !s3EC2BasePath || !s3ECSBucket || !s3ECSBasePath) {, +  throw new IllegalArgumentException("not all options specified to run EC2/ECS tests are present"), +}, +, +, +++ b/plugins/repository-gcs/qa/google-cloud-storage/src/test/resources/rest-api-spec/test/repository_gcs/10_repository.yml, +  # Remove the snapshots, if a previous test failed to delete them. This is, +  # useful for third party tests that runs the test against a real external service., +  - do:, +      snapshot.delete:, +        repository: repository, +        snapshot: snapshot-one, +        ignore: 404, +  - do:, +      snapshot.delete:, +        repository: repository, +        snapshot: snapshot-two, +        ignore: 404, +, +++ b/plugins/repository-s3/build.gradle, +if (!s3PermanentAccessKey && !s3PermanentSecretKey && !s3PermanentBucket && !s3PermanentBasePath) {, +if (!s3EC2Bucket && !s3EC2BasePath && !s3ECSBucket && !s3ECSBasePath) {, +  s3EC2Bucket = 'ec2-bucket-test', +  s3EC2BasePath = 'integration_test', +  s3ECSBucket = 'ecs-bucket-test', +  s3ECSBasePath = 'integration_test', +} else if (!s3EC2Bucket || !s3EC2BasePath || !s3ECSBucket || !s3ECSBasePath) {, +  throw new IllegalArgumentException("not all options specified to run EC2/ECS tests are present"), +}, +, +, +++ b/plugins/repository-s3/src/test/resources/rest-api-spec/test/repository_s3/20_repository_permanent_credentials.yml, +  # Remove the snapshots, if a previous test failed to delete them. This is, +  # useful for third party tests that runs the test against a real external service., +  - do:, +      snapshot.delete:, +        repository: repository_permanent, +        snapshot: snapshot-one, +        ignore: 404, +  - do:, +      snapshot.delete:, +        repository: repository_permanent, +        snapshot: snapshot-two, +        ignore: 404, +]