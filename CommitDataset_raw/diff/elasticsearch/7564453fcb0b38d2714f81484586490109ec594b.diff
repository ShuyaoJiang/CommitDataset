[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/util/xcontent/builder/XContentBuilder.java, +    public final static DateTimeFormatter defaultDatePrinter = ISODateTimeFormat.dateTime().withZone(DateTimeZone.UTC);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/util/xcontent/builder/XContentBuilder.java, +    public final static DateTimeFormatter defaultDatePrinter = ISODateTimeFormat.dateTime().withZone(DateTimeZone.UTC);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/util/xcontent/support/XContentMapConverter.java, +import org.elasticsearch.util.xcontent.builder.XContentBuilder;, +import java.util.*;, +        } else if (type == Date.class) {, +            gen.writeString(XContentBuilder.defaultDatePrinter.print(((Date) value).getTime()));, +        } else if (type == java.sql.Date.class) {, +            gen.writeString(XContentBuilder.defaultDatePrinter.print(((java.sql.Date) value).getTime()));]