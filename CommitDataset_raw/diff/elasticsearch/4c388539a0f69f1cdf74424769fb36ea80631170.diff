[+++ b/build.gradle, +final boolean bwc_tests_enabled = true, +final String bwc_tests_disabled_issue = "" /* place a PR link here when committing bwc changes */, +++ b/build.gradle, +final boolean bwc_tests_enabled = true, +final String bwc_tests_disabled_issue = "" /* place a PR link here when committing bwc changes */, +++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java, +                                   MultiBucketConsumerService.TooManyBucketsException::new, 149,, +            Version.V_7_0_0_alpha1);, +++ b/build.gradle, +final boolean bwc_tests_enabled = true, +final String bwc_tests_disabled_issue = "" /* place a PR link here when committing bwc changes */, +++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java, +                                   MultiBucketConsumerService.TooManyBucketsException::new, 149,, +            Version.V_7_0_0_alpha1);, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +++ b/build.gradle, +final boolean bwc_tests_enabled = true, +final String bwc_tests_disabled_issue = "" /* place a PR link here when committing bwc changes */, +++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java, +                                   MultiBucketConsumerService.TooManyBucketsException::new, 149,, +            Version.V_7_0_0_alpha1);, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +++ b/server/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public ClusterState(long version, String stateUUID, ClusterState state) {, +        this(state.clusterName, version, stateUUID, state.metaData(), state.routingTable(), state.nodes(), state.blocks(), state.customs(),, +            false);, +    public ClusterState(ClusterName clusterName, long version, String stateUUID, MetaData metaData, RoutingTable routingTable,, +                        DiscoveryNodes nodes, ClusterBlocks blocks, ImmutableOpenMap<String, Custom> customs, boolean wasReadFromDiff) {, +            return new ClusterState(clusterName, version, uuid, metaData, routingTable, nodes, blocks, customs.build(), fromDiff);, +++ b/build.gradle, +final boolean bwc_tests_enabled = true, +final String bwc_tests_disabled_issue = "" /* place a PR link here when committing bwc changes */, +++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java, +                                   MultiBucketConsumerService.TooManyBucketsException::new, 149,, +            Version.V_7_0_0_alpha1);, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +++ b/server/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public ClusterState(long version, String stateUUID, ClusterState state) {, +        this(state.clusterName, version, stateUUID, state.metaData(), state.routingTable(), state.nodes(), state.blocks(), state.customs(),, +            false);, +    public ClusterState(ClusterName clusterName, long version, String stateUUID, MetaData metaData, RoutingTable routingTable,, +                        DiscoveryNodes nodes, ClusterBlocks blocks, ImmutableOpenMap<String, Custom> customs, boolean wasReadFromDiff) {, +            return new ClusterState(clusterName, version, uuid, metaData, routingTable, nodes, blocks, customs.build(), fromDiff);, +++ /dev/null, +++ b/build.gradle, +final boolean bwc_tests_enabled = true, +final String bwc_tests_disabled_issue = "" /* place a PR link here when committing bwc changes */, +++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java, +                                   MultiBucketConsumerService.TooManyBucketsException::new, 149,, +            Version.V_7_0_0_alpha1);, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +++ b/server/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public ClusterState(long version, String stateUUID, ClusterState state) {, +        this(state.clusterName, version, stateUUID, state.metaData(), state.routingTable(), state.nodes(), state.blocks(), state.customs(),, +            false);, +    public ClusterState(ClusterName clusterName, long version, String stateUUID, MetaData metaData, RoutingTable routingTable,, +                        DiscoveryNodes nodes, ClusterBlocks blocks, ImmutableOpenMap<String, Custom> customs, boolean wasReadFromDiff) {, +            return new ClusterState(clusterName, version, uuid, metaData, routingTable, nodes, blocks, customs.build(), fromDiff);, +++ /dev/null, +++ /dev/null, +++ b/build.gradle, +final boolean bwc_tests_enabled = true, +final String bwc_tests_disabled_issue = "" /* place a PR link here when committing bwc changes */, +++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java, +                                   MultiBucketConsumerService.TooManyBucketsException::new, 149,, +            Version.V_7_0_0_alpha1);, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +++ b/server/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public ClusterState(long version, String stateUUID, ClusterState state) {, +        this(state.clusterName, version, stateUUID, state.metaData(), state.routingTable(), state.nodes(), state.blocks(), state.customs(),, +            false);, +    public ClusterState(ClusterName clusterName, long version, String stateUUID, MetaData metaData, RoutingTable routingTable,, +                        DiscoveryNodes nodes, ClusterBlocks blocks, ImmutableOpenMap<String, Custom> customs, boolean wasReadFromDiff) {, +            return new ClusterState(clusterName, version, uuid, metaData, routingTable, nodes, blocks, customs.build(), fromDiff);, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/build.gradle, +final boolean bwc_tests_enabled = true, +final String bwc_tests_disabled_issue = "" /* place a PR link here when committing bwc changes */, +++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java, +                                   MultiBucketConsumerService.TooManyBucketsException::new, 149,, +            Version.V_7_0_0_alpha1);, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +++ b/server/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public ClusterState(long version, String stateUUID, ClusterState state) {, +        this(state.clusterName, version, stateUUID, state.metaData(), state.routingTable(), state.nodes(), state.blocks(), state.customs(),, +            false);, +    public ClusterState(ClusterName clusterName, long version, String stateUUID, MetaData metaData, RoutingTable routingTable,, +                        DiscoveryNodes nodes, ClusterBlocks blocks, ImmutableOpenMap<String, Custom> customs, boolean wasReadFromDiff) {, +            return new ClusterState(clusterName, version, uuid, metaData, routingTable, nodes, blocks, customs.build(), fromDiff);, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/build.gradle, +final boolean bwc_tests_enabled = true, +final String bwc_tests_disabled_issue = "" /* place a PR link here when committing bwc changes */, +++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java]