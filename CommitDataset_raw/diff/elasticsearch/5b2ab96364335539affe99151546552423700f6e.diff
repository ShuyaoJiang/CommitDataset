[+++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +     * @return a map of index to a list of alias metadata, the list corresponding to a concrete index will be empty if no aliases are, +     * present for that index, +            mapBuilder.put(index, Collections.unmodifiableList(filteredValues));, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +     * @return a map of index to a list of alias metadata, the list corresponding to a concrete index will be empty if no aliases are, +     * present for that index, +            mapBuilder.put(index, Collections.unmodifiableList(filteredValues));, +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestGetAliasesAction.java, +        final boolean namesProvided = request.hasParam("name");, +                final Set<String> indicesToDisplay = new HashSet<>();, +                for (final ObjectObjectCursor<String, List<AliasMetaData>> cursor : aliasMap) {, +                        if (namesProvided) {, +                            indicesToDisplay.add(cursor.key);, +                        }, +                        if (namesProvided == false || (namesProvided && indicesToDisplay.contains(entry.key))) {, +                }, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +     * @return a map of index to a list of alias metadata, the list corresponding to a concrete index will be empty if no aliases are, +     * present for that index, +            mapBuilder.put(index, Collections.unmodifiableList(filteredValues));, +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestGetAliasesAction.java, +        final boolean namesProvided = request.hasParam("name");, +                final Set<String> indicesToDisplay = new HashSet<>();, +                for (final ObjectObjectCursor<String, List<AliasMetaData>> cursor : aliasMap) {, +                        if (namesProvided) {, +                            indicesToDisplay.add(cursor.key);, +                        }, +                        if (namesProvided == false || (namesProvided && indicesToDisplay.contains(entry.key))) {, +                }, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +        for (final ObjectObjectCursor<String, List<AliasMetaData>> entry : response.getAliases()) {, +            assertTrue(entry.value.isEmpty());, +        }, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +     * @return a map of index to a list of alias metadata, the list corresponding to a concrete index will be empty if no aliases are, +     * present for that index, +            mapBuilder.put(index, Collections.unmodifiableList(filteredValues));, +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestGetAliasesAction.java, +        final boolean namesProvided = request.hasParam("name");, +                final Set<String> indicesToDisplay = new HashSet<>();, +                for (final ObjectObjectCursor<String, List<AliasMetaData>> cursor : aliasMap) {, +                        if (namesProvided) {, +                            indicesToDisplay.add(cursor.key);, +                        }, +                        if (namesProvided == false || (namesProvided && indicesToDisplay.contains(entry.key))) {, +                }, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +        for (final ObjectObjectCursor<String, List<AliasMetaData>> entry : response.getAliases()) {, +            assertTrue(entry.value.isEmpty());, +        }, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +import org.elasticsearch.common.Strings;, +import java.util.List;, +        assertThat(getResponse.getAliases().size(), equalTo(5));, +        assertTrue(getResponse.getAliases().get("test").isEmpty());, +        assertTrue(getResponse.getAliases().get("test123").isEmpty());, +        assertTrue(getResponse.getAliases().get("foobarbaz").isEmpty());, +        assertTrue(getResponse.getAliases().get("bazbar").isEmpty());, +        assertThat(getResponse.getAliases().size(), equalTo(5));, +        assertTrue(getResponse.getAliases().get("test").isEmpty());, +        assertTrue(getResponse.getAliases().get("test123").isEmpty());, +        assertTrue(getResponse.getAliases().get("foobarbaz").isEmpty());, +        assertTrue(getResponse.getAliases().get("bazbar").isEmpty());, +        assertThat(getResponse.getAliases().size(), equalTo(2));, +        assertTrue(getResponse.getAliases().get("bazbar").isEmpty());, +        assertThat(getResponse.getAliases().size(), equalTo(2));, +        assertTrue(getResponse.getAliases().get("bazbar").isEmpty());, +        for (final ObjectObjectCursor<String, List<AliasMetaData>> entry : getResponse.getAliases()) {, +            assertTrue(entry.value.isEmpty());, +        }, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +     * @return a map of index to a list of alias metadata, the list corresponding to a concrete index will be empty if no aliases are, +     * present for that index, +            mapBuilder.put(index, Collections.unmodifiableList(filteredValues));, +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestGetAliasesAction.java, +        final boolean namesProvided = request.hasParam("name");, +                final Set<String> indicesToDisplay = new HashSet<>();, +                for (final ObjectObjectCursor<String, List<AliasMetaData>> cursor : aliasMap) {, +                        if (namesProvided) {, +                            indicesToDisplay.add(cursor.key);, +                        }, +                        if (namesProvided == false || (namesProvided && indicesToDisplay.contains(entry.key))) {, +                }, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +        for (final ObjectObjectCursor<String, List<AliasMetaData>> entry : response.getAliases()) {, +            assertTrue(entry.value.isEmpty());, +        }, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +import org.elasticsearch.common.Strings;, +import java.util.List;, +        assertThat(getResponse.getAliases().size(), equalTo(5));, +        assertTrue(getResponse.getAliases().get("test").isEmpty());, +        assertTrue(getResponse.getAliases().get("test123").isEmpty());, +        assertTrue(getResponse.getAliases().get("foobarbaz").isEmpty());]