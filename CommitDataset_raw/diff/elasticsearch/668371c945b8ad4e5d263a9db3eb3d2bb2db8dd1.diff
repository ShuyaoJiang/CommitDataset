[+++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +        if (index.equals(".") || index.equals("..")) {, +            throw new InvalidIndexNameException(new Index(index), index, "must not be '.' or '..'");, +        }, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +        if (index.equals(".") || index.equals("..")) {, +            throw new InvalidIndexNameException(new Index(index), index, "must not be '.' or '..'");, +        }, +++ b/core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java, +    }, +, +    public void testInvalidIndexName() {, +        try {, +            createIndex(".");, +            fail("exception should have been thrown on dot index name");, +        } catch (InvalidIndexNameException e) {, +            assertThat("exception contains message about index name is dot " + e.getMessage(),, +                    e.getMessage().contains("Invalid index name [.], must not be \'.\' or '..'"), equalTo(true));, +        }, +, +        try {, +            createIndex("..");, +            fail("exception should have been thrown on dot index name");, +        } catch (InvalidIndexNameException e) {, +            assertThat("exception contains message about index name is dot " + e.getMessage(),, +                    e.getMessage().contains("Invalid index name [..], must not be \'.\' or '..'"), equalTo(true));, +        }]