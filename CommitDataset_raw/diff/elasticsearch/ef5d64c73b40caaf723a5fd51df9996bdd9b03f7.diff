[+++ b/src/test/java/org/elasticsearch/indexing/IndexActionTests.java, +            Throwable firstError = null;, +                try {, +                } catch (Throwable t) {, +                    logger.error("search for all docs types failed", t);, +                    if (firstError == null) {, +                        firstError = t;, +                    }, +                }, +                try {, +                    assertHitCount(client().prepareSearch("test").setTypes("type").get(), numOfDocs);, +                } catch (Throwable t) {, +                    logger.error("search for all docs of a specific type failed", t);, +                    if (firstError == null) {, +                        firstError = t;, +                    }, +                }, +            }, +            if (firstError != null) {, +                fail(firstError.getMessage());]