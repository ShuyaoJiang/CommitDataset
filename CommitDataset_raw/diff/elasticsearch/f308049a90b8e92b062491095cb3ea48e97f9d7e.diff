[+++ b/src/main/java/org/elasticsearch/index/codec/CodecService.java, +, +    /**, +     * Returns all registered available codec names, +     */, +    public String[] availableCodecs() {, +        return codecs.keySet().toArray(new String[0]);, +    }, +++ b/src/main/java/org/elasticsearch/index/codec/CodecService.java, +, +    /**, +     * Returns all registered available codec names, +     */, +    public String[] availableCodecs() {, +        return codecs.keySet().toArray(new String[0]);, +    }, +++ b/src/main/java/org/elasticsearch/index/engine/internal/InternalEngine.java, +, +    long getGcDeletesInMillis() {, +        return gcDeletesInMillis;, +    }, +, +    String getCodecName() {, +        return codecName;, +    }, +, +    boolean isCompoundOnFlush() {, +        return compoundOnFlush;, +    }, +, +    int getIndexConcurrency() {, +        return indexConcurrency;, +    }, +, +    boolean isFailEngineOnCorruption() {, +        return failEngineOnCorruption;, +    }, +, +    LiveIndexWriterConfig getCurrentIndexWriterConfig() {, +        IndexWriter writer = currentIndexWriter();, +        return writer == null ? null : writer.getConfig();, +    }, +++ b/src/main/java/org/elasticsearch/index/codec/CodecService.java, +, +    /**, +     * Returns all registered available codec names, +     */, +    public String[] availableCodecs() {, +        return codecs.keySet().toArray(new String[0]);, +    }, +++ b/src/main/java/org/elasticsearch/index/engine/internal/InternalEngine.java, +, +    long getGcDeletesInMillis() {, +        return gcDeletesInMillis;, +    }, +, +    String getCodecName() {, +        return codecName;, +    }, +, +    boolean isCompoundOnFlush() {, +        return compoundOnFlush;, +    }, +, +    int getIndexConcurrency() {, +        return indexConcurrency;, +    }, +, +    boolean isFailEngineOnCorruption() {, +        return failEngineOnCorruption;, +    }, +, +    LiveIndexWriterConfig getCurrentIndexWriterConfig() {, +        IndexWriter writer = currentIndexWriter();, +        return writer == null ? null : writer.getConfig();, +    }, +++ b/src/main/java/org/elasticsearch/index/engine/internal/InternalEngineHolder.java, +import org.elasticsearch.common.logging.ESLogger;, +    protected volatile Boolean failOnMergeFailure;, +        this.settingsListener = new ApplySettings(logger, this);, +        if (closed == false) {, +    }, +    static class ApplySettings implements IndexSettingsService.Listener {, +, +        private final ESLogger logger;, +        private final InternalEngineHolder holder;, +, +        ApplySettings(ESLogger logger, InternalEngineHolder holder) {, +            this.logger = logger;, +            this.holder = holder;, +        }, +            long gcDeletesInMillis = settings.getAsTime(INDEX_GC_DELETES, TimeValue.timeValueMillis(holder.gcDeletesInMillis)).millis();, +            if (gcDeletesInMillis != holder.gcDeletesInMillis) {, +                logger.info("updating index.gc_deletes from [{}] to [{}]", TimeValue.timeValueMillis(holder.gcDeletesInMillis), TimeValue.timeValueMillis(gcDeletesInMillis));, +                holder.gcDeletesInMillis = gcDeletesInMillis;, +            final boolean compoundOnFlush = settings.getAsBoolean(INDEX_COMPOUND_ON_FLUSH, holder.compoundOnFlush);, +            if (compoundOnFlush != holder.compoundOnFlush) {, +                logger.info("updating {} from [{}] to [{}]", INDEX_COMPOUND_ON_FLUSH, holder.compoundOnFlush, compoundOnFlush);, +                holder.compoundOnFlush = compoundOnFlush;, +            final boolean failEngineOnCorruption = settings.getAsBoolean(INDEX_FAIL_ON_CORRUPTION, holder.failEngineOnCorruption);]