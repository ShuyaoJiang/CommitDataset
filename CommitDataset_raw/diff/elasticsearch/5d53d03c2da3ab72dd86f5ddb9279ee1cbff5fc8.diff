[+++ b/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java, +        // In the case of nested docs, let's fill nested docs with version=1 so that Lucene doesn't write a Bitset for documents, +        // that don't have the field. This is consistent with the default value for efficiency., +            doc.add(new NumericDocValuesField(NAME, 1L));]