[+++ b/src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java, +import static org.testng.Assert.assertTrue;, +        try {, +            client.prepareSearch().setQuery("{ \"text_phrase\" : { \"field1\" : \"quick brown\", \"slop\" : \"2\" }}").execute().actionGet();, +        } catch (SearchPhaseExecutionException e) {, +            assertTrue(e.getMessage().endsWith("IllegalStateException[field \"field1\" was indexed without position data; cannot run PhraseQuery (term=quick)]; }"));, +        }, +, +        try {, +            client.prepareSearch().setQuery("{ \"text_phrase\" : { \"field1\" : \"quick brown\", \"slop\" : \"2\" }}").execute().actionGet();, +        } catch (SearchPhaseExecutionException e) {, +            assertTrue(e.getMessage().endsWith("IllegalStateException[field \"field1\" was indexed without position data; cannot run PhraseQuery (term=quick)]; }"));, +        }]