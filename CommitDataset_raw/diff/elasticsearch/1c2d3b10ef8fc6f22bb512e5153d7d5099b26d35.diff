[+++ b/core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java, +                logger.warn("failed to validate incoming join request from node [{}]", node);, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java, +                logger.warn("failed to validate incoming join request from node [{}]", node);, +++ b/core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java, +        assertHitCount(searchResponse, 0l);, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java, +                logger.warn("failed to validate incoming join request from node [{}]", node);, +++ b/core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java, +        assertHitCount(searchResponse, 0l);, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java, + * Has 5 flavors (passed as static bootstrap parameters): dynamic method call,, + * dynamic field load (getter), and dynamic field store (setter), dynamic array load,, + * and dynamic array store., +++ b/core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java, +                logger.warn("failed to validate incoming join request from node [{}]", node);, +++ b/core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java, +        assertHitCount(searchResponse, 0l);, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java, + * Has 5 flavors (passed as static bootstrap parameters): dynamic method call,, + * dynamic field load (getter), and dynamic field store (setter), dynamic array load,, + * and dynamic array store., +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/NeedsScore.java, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +package org.elasticsearch.painless;, +, +/** Marker interface that a generated {@link Executable} uses the {@code _score} value */, +public interface NeedsScore {, +}, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java, +                logger.warn("failed to validate incoming join request from node [{}]", node);, +++ b/core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java, +        assertHitCount(searchResponse, 0l);, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java, + * Has 5 flavors (passed as static bootstrap parameters): dynamic method call,, + * dynamic field load (getter), and dynamic field store (setter), dynamic array load,, + * and dynamic array store., +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/NeedsScore.java, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +package org.elasticsearch.painless;, +, +/** Marker interface that a generated {@link Executable} uses the {@code _score} value */, +public interface NeedsScore {, +}, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java, +                return compiledScript.compiled() instanceof NeedsScore;, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java, +                logger.warn("failed to validate incoming join request from node [{}]", node);, +++ b/core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java, +        assertHitCount(searchResponse, 0l);, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java, + * Has 5 flavors (passed as static bootstrap parameters): dynamic method call,, + * dynamic field load (getter), and dynamic field store (setter), dynamic array load,, + * and dynamic array store., +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/NeedsScore.java, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *]