[+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/license/XPackLicenseState.java, +                        return new String[] {, +                                "JDBC and ODBC support will be disabled, but you can continue to use SQL CLI and REST endpoint" };, +    /**, +     * Determine if ODBC support should be enabled., +     * <p>, +     * ODBC is available only in for {@link OperationMode#PLATINUM} and {@link OperationMode#TRIAL} licences, +     */, +    public synchronized boolean isOdbcAllowed() {, +        Status localStatus = status;, +        OperationMode operationMode = localStatus.mode;, +, +        boolean licensed = operationMode == OperationMode.TRIAL || operationMode == OperationMode.PLATINUM;, +, +        return licensed && localStatus.active;, +    }, +, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/license/XPackLicenseState.java, +                        return new String[] {, +                                "JDBC and ODBC support will be disabled, but you can continue to use SQL CLI and REST endpoint" };, +    /**, +     * Determine if ODBC support should be enabled., +     * <p>, +     * ODBC is available only in for {@link OperationMode#PLATINUM} and {@link OperationMode#TRIAL} licences, +     */, +    public synchronized boolean isOdbcAllowed() {, +        Status localStatus = status;, +        OperationMode operationMode = localStatus.mode;, +, +        boolean licensed = operationMode == OperationMode.TRIAL || operationMode == OperationMode.PLATINUM;, +, +        return licensed && localStatus.active;, +    }, +, +++ b/x-pack/plugin/sql/sql-action/src/main/java/org/elasticsearch/xpack/sql/action/SqlQueryResponse.java, +        if (Mode.isDriver(mode) && value instanceof ReadableDateTime) {, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/license/XPackLicenseState.java, +                        return new String[] {, +                                "JDBC and ODBC support will be disabled, but you can continue to use SQL CLI and REST endpoint" };, +    /**, +     * Determine if ODBC support should be enabled., +     * <p>, +     * ODBC is available only in for {@link OperationMode#PLATINUM} and {@link OperationMode#TRIAL} licences, +     */, +    public synchronized boolean isOdbcAllowed() {, +        Status localStatus = status;, +        OperationMode operationMode = localStatus.mode;, +, +        boolean licensed = operationMode == OperationMode.TRIAL || operationMode == OperationMode.PLATINUM;, +, +        return licensed && localStatus.active;, +    }, +, +++ b/x-pack/plugin/sql/sql-action/src/main/java/org/elasticsearch/xpack/sql/action/SqlQueryResponse.java, +        if (Mode.isDriver(mode) && value instanceof ReadableDateTime) {, +++ b/x-pack/plugin/sql/sql-proto/src/main/java/org/elasticsearch/xpack/sql/proto/Mode.java, +    JDBC, , +    ODBC;, +, +    public static boolean isDriver(Mode mode) {, +        return mode == JDBC || mode == ODBC;, +    }, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/license/XPackLicenseState.java, +                        return new String[] {, +                                "JDBC and ODBC support will be disabled, but you can continue to use SQL CLI and REST endpoint" };, +    /**, +     * Determine if ODBC support should be enabled., +     * <p>, +     * ODBC is available only in for {@link OperationMode#PLATINUM} and {@link OperationMode#TRIAL} licences, +     */, +    public synchronized boolean isOdbcAllowed() {, +        Status localStatus = status;, +        OperationMode operationMode = localStatus.mode;, +, +        boolean licensed = operationMode == OperationMode.TRIAL || operationMode == OperationMode.PLATINUM;, +, +        return licensed && localStatus.active;, +    }, +, +++ b/x-pack/plugin/sql/sql-action/src/main/java/org/elasticsearch/xpack/sql/action/SqlQueryResponse.java, +        if (Mode.isDriver(mode) && value instanceof ReadableDateTime) {, +++ b/x-pack/plugin/sql/sql-proto/src/main/java/org/elasticsearch/xpack/sql/proto/Mode.java, +    JDBC, , +    ODBC;, +, +    public static boolean isDriver(Mode mode) {, +        return mode == JDBC || mode == ODBC;, +    }, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/plugin/SqlPlugin.java, +                        case ODBC:, +                            if (licenseState.isOdbcAllowed() == false) {, +                                throw LicenseUtils.newComplianceException("odbc");, +                            }, +                            break;, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/license/XPackLicenseState.java, +                        return new String[] {, +                                "JDBC and ODBC support will be disabled, but you can continue to use SQL CLI and REST endpoint" };, +    /**, +     * Determine if ODBC support should be enabled., +     * <p>]