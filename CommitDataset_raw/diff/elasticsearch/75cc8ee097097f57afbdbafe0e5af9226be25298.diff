[+++ b/src/test/java/org/elasticsearch/test/InternalTestCluster.java, +import org.elasticsearch.cluster.routing.allocation.decider.ThrottlingAllocationDecider;, +import org.elasticsearch.indices.recovery.RecoverySettings;, +import static com.carrotsearch.randomizedtesting.RandomizedTest.between;, +import static com.carrotsearch.randomizedtesting.RandomizedTest.randomBoolean;, +import static org.apache.lucene.util.LuceneTestCase.TEST_NIGHTLY;, +        if (TEST_NIGHTLY) {, +            builder.put(RecoverySettings.INDICES_RECOVERY_CONCURRENT_STREAMS, between(10, 15));, +            builder.put(RecoverySettings.INDICES_RECOVERY_CONCURRENT_SMALL_FILE_STREAMS, between(10, 15));, +            builder.put(ThrottlingAllocationDecider.CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_RECOVERIES, between(5, 10));, +        } else if (randomBoolean()) {, +            builder.put(RecoverySettings.INDICES_RECOVERY_CONCURRENT_STREAMS, between(3, 6));, +            builder.put(RecoverySettings.INDICES_RECOVERY_CONCURRENT_SMALL_FILE_STREAMS, between(3, 6));, +            builder.put(ThrottlingAllocationDecider.CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_RECOVERIES, between(2, 5));, +        }]