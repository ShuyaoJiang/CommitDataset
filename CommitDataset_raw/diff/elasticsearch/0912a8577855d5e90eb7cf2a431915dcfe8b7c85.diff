[+++ b/plugin/src/test/java/org/elasticsearch/xpack/common/http/HttpRequestTemplateTests.java, +        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> HttpRequestTemplate.builder().fromUrl(""));, +        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class,, +                () -> HttpRequestTemplate.builder().fromUrl("www.test.de"));, +        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class,, +                () -> HttpRequestTemplate.builder().fromUrl("https://"));, +, +    public void testThatPartsFromUrlAreTemplatable() throws Exception {, +        HttpRequestTemplate template = HttpRequestTemplate.builder().fromUrl("http://www.test.de/%7B%7Bfoo%7D%7D").build();, +        HttpRequest request = template.render(new MockTextTemplateEngine(), emptyMap());, +        assertThat(request.path(), is("/{{foo}}"));, +++ b/plugin/src/test/java/org/elasticsearch/xpack/common/http/HttpRequestTemplateTests.java, +        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> HttpRequestTemplate.builder().fromUrl(""));, +        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class,, +                () -> HttpRequestTemplate.builder().fromUrl("www.test.de"));, +        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class,, +                () -> HttpRequestTemplate.builder().fromUrl("https://"));, +, +    public void testThatPartsFromUrlAreTemplatable() throws Exception {, +        HttpRequestTemplate template = HttpRequestTemplate.builder().fromUrl("http://www.test.de/%7B%7Bfoo%7D%7D").build();, +        HttpRequest request = template.render(new MockTextTemplateEngine(), emptyMap());, +        assertThat(request.path(), is("/{{foo}}"));, +++ b/plugin/src/test/java/org/elasticsearch/xpack/watcher/input/http/HttpInputTests.java, +        HttpRequestTemplate template = HttpRequestTemplate.builder("http:://127.0.0.1:12345").build();]