[+++ b/core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java, +            builder.byteSizeField(Fields.REUSED_IN_BYTES, Fields.REUSED, reusedBytes());, +++ b/core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java, +            builder.byteSizeField(Fields.REUSED_IN_BYTES, Fields.REUSED, reusedBytes());, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/snapshot.restore/10_basic.yaml, +---, +setup:, +, +  - do:, +      snapshot.create_repository:, +        repository: test_repo1, +        body:, +          type: fs, +          settings:, +            location: "test_repo1", +, +  - do:, +      indices.create:, +        index: test_index, +        body:, +          settings:, +            number_of_shards:   1, +            number_of_replicas: 1, +, +  - do:, +      cluster.health:, +        wait_for_status: yellow, +, +---, +"Create a snapshot and then restore it":, +, +  - do:, +      snapshot.create:, +        repository: test_repo1, +        snapshot: test_snapshot, +        wait_for_completion: true, +, +  - match: { snapshot.snapshot: test_snapshot }, +  - match: { snapshot.state : SUCCESS }, +  - match: { snapshot.shards.successful: 1 }, +  - match: { snapshot.shards.failed : 0 }, +, +  - do:, +      indices.close:, +        index : test_index, +, +  - do:, +      snapshot.restore:, +        repository: test_repo1, +        snapshot: test_snapshot, +        wait_for_completion: true, +, +  - do:, +      indices.recovery:, +        index: test_index, +, +  - match: { test_index.shards.0.type: SNAPSHOT }, +  - match: { test_index.shards.0.stage: DONE }, +  - match: { test_index.shards.0.index.files.recovered: 1}, +  - gt: { test_index.shards.0.index.size.recovered_in_bytes: 0}, +  - match: { test_index.shards.0.index.files.reused: 0}, +  - match: { test_index.shards.0.index.size.reused_in_bytes: 0}]