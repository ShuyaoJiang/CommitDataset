[+++ b/src/test/java/org/elasticsearch/index/mapper/FileBasedMappingsTests.java, +import com.google.common.collect.ImmutableSet;, +import org.elasticsearch.action.admin.indices.mapping.get.GetMappingsResponse;, +import org.elasticsearch.cluster.metadata.MappingMetaData;, +import java.util.Map;, +                final GetMappingsResponse response = node.client().admin().indices().prepareGetMappings("index").get();, +                assertTrue(response.mappings().toString(), response.mappings().containsKey("index"));, +                MappingMetaData mappings = response.mappings().get("index").get("type");, +                assertNotNull(mappings);, +                Map<?, ?> properties = (Map<?, ?>) (mappings.getSourceAsMap().get("properties"));, +                assertNotNull(properties);, +                assertEquals(ImmutableSet.of("f", "g", "h"), properties.keySet());]