[+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +                throw new IllegalArgumentException("the number of source shards [" + sourceNumberOfShards + "] must be a " +, +                throw new IllegalArgumentException("the number of source shards [" + sourceNumberOfShards + "] must be a " +, +++ b/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +                throw new IllegalArgumentException("the number of source shards [" + sourceNumberOfShards + "] must be a " +, +                throw new IllegalArgumentException("the number of source shards [" + sourceNumberOfShards + "] must be a " +, +++ b/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetaDataTests.java, +        assertEquals("the number of source shards [2] must be a factor of [3]",, +        assertEquals("the number of source shards [2] must be a factor of [3]", iae.getMessage());, +++ b/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +                throw new IllegalArgumentException("the number of source shards [" + sourceNumberOfShards + "] must be a " +, +                throw new IllegalArgumentException("the number of source shards [" + sourceNumberOfShards + "] must be a " +, +++ b/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetaDataTests.java, +        assertEquals("the number of source shards [2] must be a factor of [3]",, +        assertEquals("the number of source shards [2] must be a factor of [3]", iae.getMessage());, +++ b/server/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java, +        assertEquals("the number of source shards [8] must be a multiple of [3]",, +        assertEquals("the number of source shards [3] must be a factor of [4]",]