[+++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/CategorizerState.java, +    public static final String categorizerStateDocId(String jobId, int docNum) {, +        return jobId + "_" + docNum;, +    }, +, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/CategorizerState.java, +    public static final String categorizerStateDocId(String jobId, int docNum) {, +        return jobId + "_" + docNum;, +    }, +, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/persistence/JobProvider.java, +            String quantilesId = Quantiles.quantilesId(jobId);, +, +            LOGGER.trace("ES API CALL: get ID {} type {} from index {}", quantilesId, Quantiles.TYPE.getPreferredName(), indexName);, +                    indexName, Quantiles.TYPE.getPreferredName(), quantilesId).get();, +            String docId = CategorizerState.categorizerStateDocId(jobId, ++docNum);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/CategorizerState.java, +    public static final String categorizerStateDocId(String jobId, int docNum) {, +        return jobId + "_" + docNum;, +    }, +, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/persistence/JobProvider.java, +            String quantilesId = Quantiles.quantilesId(jobId);, +, +            LOGGER.trace("ES API CALL: get ID {} type {} from index {}", quantilesId, Quantiles.TYPE.getPreferredName(), indexName);, +                    indexName, Quantiles.TYPE.getPreferredName(), quantilesId).get();, +            String docId = CategorizerState.categorizerStateDocId(jobId, ++docNum);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/persistence/JobResultsPersister.java, +                Quantiles.quantilesId(quantiles.getJobId()));, +     * called to commit the writes to the datastore., +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/CategorizerState.java, +    public static final String categorizerStateDocId(String jobId, int docNum) {, +        return jobId + "_" + docNum;, +    }, +, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/persistence/JobProvider.java, +            String quantilesId = Quantiles.quantilesId(jobId);, +, +            LOGGER.trace("ES API CALL: get ID {} type {} from index {}", quantilesId, Quantiles.TYPE.getPreferredName(), indexName);, +                    indexName, Quantiles.TYPE.getPreferredName(), quantilesId).get();, +            String docId = CategorizerState.categorizerStateDocId(jobId, ++docNum);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/persistence/JobResultsPersister.java, +                Quantiles.quantilesId(quantiles.getJobId()));, +     * called to commit the writes to the datastore., +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/quantiles/Quantiles.java, +    public static String quantilesId(String jobId) {, +        return jobId + "-" + TYPE.getPreferredName();, +    }, +, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/CategorizerState.java, +    public static final String categorizerStateDocId(String jobId, int docNum) {, +        return jobId + "_" + docNum;, +    }, +, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/persistence/JobProvider.java, +            String quantilesId = Quantiles.quantilesId(jobId);, +, +            LOGGER.trace("ES API CALL: get ID {} type {} from index {}", quantilesId, Quantiles.TYPE.getPreferredName(), indexName);, +                    indexName, Quantiles.TYPE.getPreferredName(), quantilesId).get();, +            String docId = CategorizerState.categorizerStateDocId(jobId, ++docNum);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/persistence/JobResultsPersister.java, +                Quantiles.quantilesId(quantiles.getJobId()));, +     * called to commit the writes to the datastore., +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/job/quantiles/Quantiles.java, +    public static String quantilesId(String jobId) {, +        return jobId + "-" + TYPE.getPreferredName();, +    }, +, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/prelert/job/persistence/JobProviderTests.java, +                .throwMissingIndexOnPrepareGet(INDEX_NAME, Quantiles.TYPE.getPreferredName(), Quantiles.quantilesId(JOB_ID));, +                .prepareGet(INDEX_NAME, Quantiles.TYPE.getPreferredName(), Quantiles.quantilesId(JOB_ID), getResponse);, +                .prepareGet(INDEX_NAME, Quantiles.TYPE.getPreferredName(), Quantiles.quantilesId(JOB_ID), getResponse);, +                .prepareGet(INDEX_NAME, Quantiles.TYPE.getPreferredName(), Quantiles.quantilesId("foo"), getResponse);, +                .prepareGet(INDEX_NAME, CategorizerState.TYPE, JOB_ID + "_1", categorizerStateGetResponse1), +                .prepareGet(INDEX_NAME, CategorizerState.TYPE, JOB_ID + "_2", categorizerStateGetResponse2)]