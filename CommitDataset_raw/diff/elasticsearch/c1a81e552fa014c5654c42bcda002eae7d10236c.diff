[+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/execution/WatchExecutionContext.java, +    public final void ensureWatchExists(CheckedSupplier<Watch, Exception> supplier) throws Exception {, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/execution/WatchExecutionContext.java, +    public final void ensureWatchExists(CheckedSupplier<Watch, Exception> supplier) throws Exception {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/execution/ManualExecutionContext.java, +                           Map<String, ActionExecutionMode> actionModes, boolean recordExecution) throws Exception {, +, +        // set the watch early to ensure calls to watch() below succeed., +        super.ensureWatchExists(() -> watch);, +        public ManualExecutionContext build() throws Exception {]