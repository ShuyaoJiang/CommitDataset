[+++ b/src/main/java/org/elasticsearch/action/count/CountRequest.java, +import org.elasticsearch.common.*;, +        BytesHolder bytes = in.readBytesReference();, +        querySource = bytes.bytes();, +        querySourceOffset = bytes.offset();, +        querySourceLength = bytes.length();, +        out.writeBytesHolder(querySource, querySourceOffset, querySourceLength());, +++ b/src/main/java/org/elasticsearch/action/count/CountRequest.java, +import org.elasticsearch.common.*;, +        BytesHolder bytes = in.readBytesReference();, +        querySource = bytes.bytes();, +        querySourceOffset = bytes.offset();, +        querySourceLength = bytes.length();, +        out.writeBytesHolder(querySource, querySourceOffset, querySourceLength());, +++ b/src/main/java/org/elasticsearch/action/count/ShardCountRequest.java, +import org.elasticsearch.common.BytesHolder;, +, +        BytesHolder bytes = in.readBytesHolder();, +        querySource = bytes.bytes();, +        querySourceOffset = bytes.offset();, +        querySourceLength = bytes.length();, +, +, +        out.writeBytesHolder(querySource, querySourceOffset, querySourceLength);, +, +++ b/src/main/java/org/elasticsearch/action/count/CountRequest.java, +import org.elasticsearch.common.*;, +        BytesHolder bytes = in.readBytesReference();, +        querySource = bytes.bytes();, +        querySourceOffset = bytes.offset();, +        querySourceLength = bytes.length();, +        out.writeBytesHolder(querySource, querySourceOffset, querySourceLength());, +++ b/src/main/java/org/elasticsearch/action/count/ShardCountRequest.java, +import org.elasticsearch.common.BytesHolder;, +, +        BytesHolder bytes = in.readBytesHolder();, +        querySource = bytes.bytes();, +        querySourceOffset = bytes.offset();, +        querySourceLength = bytes.length();, +, +, +        out.writeBytesHolder(querySource, querySourceOffset, querySourceLength);, +, +++ b/src/main/java/org/elasticsearch/action/index/IndexRequest.java, +import org.elasticsearch.common.*;, +        if (sourceUnsafe) {, +            source();, +        }, +        if (sourceUnsafe) {, +            source();, +        }, +        if (sourceUnsafe) {, +            source();, +        }, +        BytesHolder bytes = in.readBytesReference();, +        source = bytes.bytes();, +        sourceOffset = bytes.offset();, +        sourceLength = bytes.length();, +        out.writeBytesHolder(source, sourceOffset, sourceLength);, +++ b/src/main/java/org/elasticsearch/action/count/CountRequest.java, +import org.elasticsearch.common.*;, +        BytesHolder bytes = in.readBytesReference();, +        querySource = bytes.bytes();, +        querySourceOffset = bytes.offset();, +        querySourceLength = bytes.length();, +        out.writeBytesHolder(querySource, querySourceOffset, querySourceLength());, +++ b/src/main/java/org/elasticsearch/action/count/ShardCountRequest.java, +import org.elasticsearch.common.BytesHolder;, +, +        BytesHolder bytes = in.readBytesHolder();, +        querySource = bytes.bytes();, +        querySourceOffset = bytes.offset();, +        querySourceLength = bytes.length();, +, +, +        out.writeBytesHolder(querySource, querySourceOffset, querySourceLength);, +, +++ b/src/main/java/org/elasticsearch/action/index/IndexRequest.java, +import org.elasticsearch.common.*;, +        if (sourceUnsafe) {, +            source();, +        }, +        if (sourceUnsafe) {, +            source();, +        }, +        if (sourceUnsafe) {, +            source();, +        }, +        BytesHolder bytes = in.readBytesReference();, +        source = bytes.bytes();, +        sourceOffset = bytes.offset();, +        sourceLength = bytes.length();, +        out.writeBytesHolder(source, sourceOffset, sourceLength);, +++ b/src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java, +import org.elasticsearch.common.BytesHolder;, +        if (sourceUnsafe) {, +            source();, +        }, +        if (sourceUnsafe) {, +            source();]