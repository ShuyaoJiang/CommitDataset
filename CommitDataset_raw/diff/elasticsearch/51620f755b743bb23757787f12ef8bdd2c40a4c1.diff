[+++ b/core/src/test/java/org/elasticsearch/nodesinfo/NodeInfoStreamingTests.java, +        compareJsonOutput(nodeInfo.getPlugins(), readNodeInfo.getPlugins());, +        if (param1 == null) {, +            assertNull(param2);, +            return;, +        }, +        Settings settings = randomBoolean() ? null : Settings.builder().put("test", "setting").build();, +        OsInfo osInfo = null;, +        if (randomBoolean()) {, +            osInfo = new OsInfo(refreshInterval, availableProcessors, allocatedProcessors, name, arch, version);, +        }, +        ProcessInfo process = randomBoolean() ? null : new ProcessInfo(randomInt(), randomBoolean(), randomPositiveLong());, +        JvmInfo jvm = randomBoolean() ? null : JvmInfo.jvmInfo();, +        ThreadPoolInfo threadPoolInfo = null;, +        if (randomBoolean()) {, +            threadPoolInfo = new ThreadPoolInfo(threadPoolInfos);, +        }, +        TransportInfo transport = randomBoolean() ? null : new TransportInfo(dummyBoundTransportAddress, profileAddresses);, +        HttpInfo httpInfo = randomBoolean() ? null : new HttpInfo(dummyBoundTransportAddress, randomLong());, +        PluginsAndModules pluginsAndModules = null;, +        if (randomBoolean()) {, +            pluginsAndModules = new PluginsAndModules(plugins, modules);, +        }, +, +        IngestInfo ingestInfo = null;, +        if (randomBoolean()) {, +            ingestInfo = new IngestInfo(processors);, +        }, +, +        ByteSizeValue indexingBuffer = null;, +        if (randomBoolean()) {]