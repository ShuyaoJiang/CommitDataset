[+++ b/rest-api-spec/test/cat.segments/10_basic.yaml, +      cat.segments:, +        v: false, +, +  - match:, +      $body: |, +               /^$/, +, +  - do:, +         wait_for_status: green, +         wait_for_status: green, +         wait_for_status: green, +, +---, +"Test cat segments on closed index behaviour":, +, +  - do:, +      indices.create:, +        index: index1, +        body:, +          settings:, +            number_of_shards: "1", +            number_of_replicas: "0", +, +  - do:, +       cluster.health:, +         wait_for_status: green, +, +  - do:, +    indices.close:, +      index: index1, +, +  - do:, +      catch: forbidden, +      cat.segments:, +        index: index1, +        v: false, +++ b/rest-api-spec/test/cat.segments/10_basic.yaml, +      cat.segments:, +        v: false, +, +  - match:, +      $body: |, +               /^$/, +, +  - do:, +         wait_for_status: green, +         wait_for_status: green, +         wait_for_status: green, +, +---, +"Test cat segments on closed index behaviour":, +, +  - do:, +      indices.create:, +        index: index1, +        body:, +          settings:, +            number_of_shards: "1", +            number_of_replicas: "0", +, +  - do:, +       cluster.health:, +         wait_for_status: green, +, +  - do:, +    indices.close:, +      index: index1, +, +  - do:, +      catch: forbidden, +      cat.segments:, +        index: index1, +        v: false, +++ b/rest-api-spec/test/indices.segments/10_basic.yaml, +"no segments test":, +, +  - match:   { _shards.total: 0}, +  - match:   { indices: {}}, +, +  - do:, +      catch: missing, +      indices.segments:, +        allow_no_indices: false, +, +---, +"basic segments test":, +, +  - do:, +      indices.create:, +        index: index1, +        body:, +          settings:, +            number_of_shards: "1", +            number_of_replicas: "0", +  - do:, +      index:, +        index: index1, +        type: type, +        body: { foo: bar }]