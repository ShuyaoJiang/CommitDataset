[+++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +        os = in.readOptionalWriteable(OsStats::new);, +        process = in.readOptionalWriteable(ProcessStats::new);, +        jvm = in.readOptionalWriteable(JvmStats::new);, +        threadPool = in.readOptionalWriteable(ThreadPoolStats::new);, +        fs = in.readOptionalWriteable(FsInfo::new);, +        transport = in.readOptionalWriteable(TransportStats::new);, +        http = in.readOptionalWriteable(HttpStats::new);, +        breaker = in.readOptionalWriteable(AllCircuitBreakerStats::new);, +        scriptStats = in.readOptionalWriteable(ScriptStats::new);, +        discoveryStats = in.readOptionalWriteable(DiscoveryStats::new);, +        out.writeOptionalWriteable(os);, +        out.writeOptionalWriteable(process);, +        out.writeOptionalWriteable(jvm);, +        out.writeOptionalWriteable(threadPool);, +        out.writeOptionalWriteable(fs);, +        out.writeOptionalWriteable(transport);, +        out.writeOptionalWriteable(http);, +        out.writeOptionalWriteable(breaker);, +        out.writeOptionalWriteable(scriptStats);, +        out.writeOptionalWriteable(discoveryStats);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +        os = in.readOptionalWriteable(OsStats::new);, +        process = in.readOptionalWriteable(ProcessStats::new);, +        jvm = in.readOptionalWriteable(JvmStats::new);, +        threadPool = in.readOptionalWriteable(ThreadPoolStats::new);, +        fs = in.readOptionalWriteable(FsInfo::new);, +        transport = in.readOptionalWriteable(TransportStats::new);, +        http = in.readOptionalWriteable(HttpStats::new);, +        breaker = in.readOptionalWriteable(AllCircuitBreakerStats::new);, +        scriptStats = in.readOptionalWriteable(ScriptStats::new);, +        discoveryStats = in.readOptionalWriteable(DiscoveryStats::new);, +        out.writeOptionalWriteable(os);, +        out.writeOptionalWriteable(process);, +        out.writeOptionalWriteable(jvm);, +        out.writeOptionalWriteable(threadPool);, +        out.writeOptionalWriteable(fs);, +        out.writeOptionalWriteable(transport);, +        out.writeOptionalWriteable(http);, +        out.writeOptionalWriteable(breaker);, +        out.writeOptionalWriteable(scriptStats);, +        out.writeOptionalWriteable(discoveryStats);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java, +        indices = new CommonStatsFlags(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +        os = in.readOptionalWriteable(OsStats::new);, +        process = in.readOptionalWriteable(ProcessStats::new);, +        jvm = in.readOptionalWriteable(JvmStats::new);, +        threadPool = in.readOptionalWriteable(ThreadPoolStats::new);, +        fs = in.readOptionalWriteable(FsInfo::new);, +        transport = in.readOptionalWriteable(TransportStats::new);, +        http = in.readOptionalWriteable(HttpStats::new);, +        breaker = in.readOptionalWriteable(AllCircuitBreakerStats::new);, +        scriptStats = in.readOptionalWriteable(ScriptStats::new);, +        discoveryStats = in.readOptionalWriteable(DiscoveryStats::new);, +        out.writeOptionalWriteable(os);, +        out.writeOptionalWriteable(process);, +        out.writeOptionalWriteable(jvm);, +        out.writeOptionalWriteable(threadPool);, +        out.writeOptionalWriteable(fs);, +        out.writeOptionalWriteable(transport);, +        out.writeOptionalWriteable(http);, +        out.writeOptionalWriteable(breaker);, +        out.writeOptionalWriteable(scriptStats);, +        out.writeOptionalWriteable(discoveryStats);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java, +        indices = new CommonStatsFlags(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +                this.fs.add(nodeResponse.nodeStats().getFs().getTotal());, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +        os = in.readOptionalWriteable(OsStats::new);, +        process = in.readOptionalWriteable(ProcessStats::new);, +        jvm = in.readOptionalWriteable(JvmStats::new);, +        threadPool = in.readOptionalWriteable(ThreadPoolStats::new);, +        fs = in.readOptionalWriteable(FsInfo::new);, +        transport = in.readOptionalWriteable(TransportStats::new);, +        http = in.readOptionalWriteable(HttpStats::new);, +        breaker = in.readOptionalWriteable(AllCircuitBreakerStats::new);, +        scriptStats = in.readOptionalWriteable(ScriptStats::new);, +        discoveryStats = in.readOptionalWriteable(DiscoveryStats::new);, +        out.writeOptionalWriteable(os);, +        out.writeOptionalWriteable(process);, +        out.writeOptionalWriteable(jvm);, +        out.writeOptionalWriteable(threadPool);, +        out.writeOptionalWriteable(fs);, +        out.writeOptionalWriteable(transport);, +        out.writeOptionalWriteable(http);, +        out.writeOptionalWriteable(breaker);, +        out.writeOptionalWriteable(scriptStats);, +        out.writeOptionalWriteable(discoveryStats);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java, +        indices = new CommonStatsFlags(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +                this.fs.add(nodeResponse.nodeStats().getFs().getTotal());, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java, +import org.elasticsearch.common.io.stream.Writeable;, +import org.elasticsearch.index.shard.IndexingStats;, +public class CommonStats implements Writeable, ToXContent {, +, +    @Nullable]