[+++ b/elasticsearch/x-pack/license-plugin/src/test/resources/rest-api-spec/test/license/20_put_license.yaml, +teardown:, +  - do:, +      license.delete: {}, +, +---, +++ b/elasticsearch/x-pack/license-plugin/src/test/resources/rest-api-spec/test/license/20_put_license.yaml, +teardown:, +  - do:, +      license.delete: {}, +, +---, +++ b/elasticsearch/x-pack/security/src/test/resources/rest-api-spec/test/authenticate/10_basic.yaml, +---, +teardown:, +  - do:, +      xpack.security.delete_user:, +        username: "authenticate_user", +        ignore: 404, +, +---, +++ b/elasticsearch/x-pack/license-plugin/src/test/resources/rest-api-spec/test/license/20_put_license.yaml, +teardown:, +  - do:, +      license.delete: {}, +, +---, +++ b/elasticsearch/x-pack/security/src/test/resources/rest-api-spec/test/authenticate/10_basic.yaml, +---, +teardown:, +  - do:, +      xpack.security.delete_user:, +        username: "authenticate_user", +        ignore: 404, +, +---, +++ b/elasticsearch/x-pack/security/src/test/resources/rest-api-spec/test/change_password/10_basic.yaml, +setup:, +  - do:, +      xpack.security.put_role:, +        name: "user", +        body:  >, +          {, +            "cluster": ["monitor"],, +            "indices": [, +              {, +                "names": "*",, +                "privileges": ["all"], +              }, +            ], +          }, +  - do:, +      xpack.security.put_user:, +        username: "unprivileged_user", +        body:  >, +          {, +            "password": "s3krit",, +            "roles" : [ "user" ], +          }, +---, +teardown:, +  - do:, +      xpack.security.delete_user:, +        username: "joe", +        ignore: 404, +  - do:, +      xpack.security.delete_role:, +        name: "user", +        ignore: 404, +  - do:, +      xpack.security.delete_user:, +        username: "unprivileged_user", +        ignore: 404, +, +---, +"Test changing users password":, +# validate that the user actually works, +        Authorization: "Basic dW5wcml2aWxlZ2VkX3VzZXI6czNrcml0", +# change password as the current user. the user role only grants the ability to change their own password, +        Authorization: "Basic dW5wcml2aWxlZ2VkX3VzZXI6czNrcml0", +        Authorization: "Basic dW5wcml2aWxlZ2VkX3VzZXI6czNrcml0", +        Authorization: "Basic dW5wcml2aWxlZ2VkX3VzZXI6czNrcml0Mg==", +        Authorization: "Basic dW5wcml2aWxlZ2VkX3VzZXI6czNrcml0", +        Authorization: "Basic dW5wcml2aWxlZ2VkX3VzZXI6czNrcml0", +++ b/elasticsearch/x-pack/license-plugin/src/test/resources/rest-api-spec/test/license/20_put_license.yaml, +teardown:, +  - do:, +      license.delete: {}, +, +---, +++ b/elasticsearch/x-pack/security/src/test/resources/rest-api-spec/test/authenticate/10_basic.yaml, +---, +teardown:, +  - do:, +      xpack.security.delete_user:, +        username: "authenticate_user", +        ignore: 404, +, +---, +++ b/elasticsearch/x-pack/security/src/test/resources/rest-api-spec/test/change_password/10_basic.yaml]