[+++ b/build.gradle, +import com.carrotsearch.gradle.junit4.RandomizedTestingTask, +, +import java.util.function.Predicate, +, +allprojects {, +  task checkPart1, +  task checkPart2 , +  tasks.matching { it.name == "check" }.all { check ->, +    if (check.path.startsWith(":x-pack:")) {, +      checkPart2.dependsOn check, +    } else {, +      checkPart1.dependsOn check, +    }, +  } , +}, +, +, +, +]