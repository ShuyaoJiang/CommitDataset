[+++ b/core/src/main/java/org/elasticsearch/Build.java, +import java.io.InputStream;, +        try (InputStream is = Build.class.getResourceAsStream("/es-build.properties")){, +            props.load(is);, +++ b/core/src/main/java/org/elasticsearch/Build.java, +import java.io.InputStream;, +        try (InputStream is = Build.class.getResourceAsStream("/es-build.properties")){, +            props.load(is);, +++ b/core/src/main/java/org/elasticsearch/common/io/Streams.java, +++ b/core/src/main/java/org/elasticsearch/Build.java, +import java.io.InputStream;, +        try (InputStream is = Build.class.getResourceAsStream("/es-build.properties")){, +            props.load(is);, +++ b/core/src/main/java/org/elasticsearch/common/io/Streams.java, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/main/java/org/elasticsearch/Build.java, +import java.io.InputStream;, +        try (InputStream is = Build.class.getResourceAsStream("/es-build.properties")){, +            props.load(is);, +++ b/core/src/main/java/org/elasticsearch/common/io/Streams.java, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/main/java/org/elasticsearch/Build.java, +import java.io.InputStream;, +        try (InputStream is = Build.class.getResourceAsStream("/es-build.properties")){, +            props.load(is);, +++ b/core/src/main/java/org/elasticsearch/common/io/Streams.java, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTest.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/fieldstats/fieldstats-index-constraints-request.json");, +++ b/core/src/main/java/org/elasticsearch/Build.java, +import java.io.InputStream;, +        try (InputStream is = Build.class.getResourceAsStream("/es-build.properties")){, +            props.load(is);, +++ b/core/src/main/java/org/elasticsearch/common/io/Streams.java, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTest.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/fieldstats/fieldstats-index-constraints-request.json");, +++ b/core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/percolate/mpercolate1.json");, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/percolate/mpercolate2.json");, +++ b/core/src/main/java/org/elasticsearch/Build.java, +import java.io.InputStream;, +        try (InputStream is = Build.class.getResourceAsStream("/es-build.properties")){, +            props.load(is);, +++ b/core/src/main/java/org/elasticsearch/common/io/Streams.java, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTest.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/fieldstats/fieldstats-index-constraints-request.json");, +++ b/core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/percolate/mpercolate1.json");, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/percolate/mpercolate2.json");, +++ b/core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/search/simple-msearch1.json");, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/search/simple-msearch2.json");, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/search/simple-msearch3.json");, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/search/simple-msearch4.json");, +++ b/core/src/main/java/org/elasticsearch/Build.java, +import java.io.InputStream;, +        try (InputStream is = Build.class.getResourceAsStream("/es-build.properties")){, +            props.load(is);, +++ b/core/src/main/java/org/elasticsearch/common/io/Streams.java, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +import static org.elasticsearch.test.StreamsUtils.copyToStringFromClasspath;, +++ b/core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTest.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/fieldstats/fieldstats-index-constraints-request.json");, +++ b/core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/percolate/mpercolate1.json");, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/percolate/mpercolate2.json");, +++ b/core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/search/simple-msearch1.json");, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/search/simple-msearch2.json");, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/search/simple-msearch3.json");, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/search/simple-msearch4.json");, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java, +import org.elasticsearch.test.StreamsUtils;, +        byte[] data = StreamsUtils.copyToBytesFromClasspath("/org/elasticsearch/action/termvectors/multiRequest1.json");]