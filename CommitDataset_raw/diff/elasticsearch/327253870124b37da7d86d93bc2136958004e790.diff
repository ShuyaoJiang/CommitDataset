[+++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/esnative/ESNativeRealmMigrateTool.java, +                    .withRequiredArg().required();, +                    .withRequiredArg().required();, +++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/esnative/ESNativeRealmMigrateTool.java, +                    .withRequiredArg().required();, +                    .withRequiredArg().required();, +++ b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/esnative/ESNativeMigrateToolTests.java, +import joptsimple.OptionException;, +import static org.hamcrest.Matchers.containsString;, +, +    public void testMissingPasswordParameter() {, +        ESNativeRealmMigrateTool.MigrateUserOrRoles muor = new ESNativeRealmMigrateTool.MigrateUserOrRoles();, +, +        final OptionException ex = expectThrows(OptionException.class,, +            () -> muor.getParser().parse("-u", "elastic", "-U", "http://localhost:9200"));, +, +        assertThat(ex.getMessage(), containsString("password"));, +    }]