[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/ObjectMapper.java, +                // DON'T do automatic ip detection logic, since it messes up with docs that have hosts and ips, +//                if (!resolved && text.indexOf('.') != -1) {, +//                    try {, +//                        IpFieldMapper.ipToLong(text);, +//                        XContentMapper.Builder builder = context.root().findTemplateBuilder(context, currentFieldName, "ip");, +//                        if (builder == null) {, +//                            builder = ipField(currentFieldName);, +//                        }, +//                        mapper = builder.build(builderContext);, +//                        resolved = true;, +//                    } catch (Exception e) {, +//                        // failure to parse, not ip..., +//                    }, +//                }]