[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/routing/PlainShardIterator.java, +        return shardId.equals(that.shardId());, +        return shardId.hashCode();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/routing/PlainShardIterator.java, +        return shardId.equals(that.shardId());, +        return shardId.hashCode();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/Index.java, +        if (o == null) return false;, +        return name.equals(index1.name);, +        return name.hashCode();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/routing/PlainShardIterator.java, +        return shardId.equals(that.shardId());, +        return shardId.hashCode();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/Index.java, +        if (o == null) return false;, +        return name.equals(index1.name);, +        return name.hashCode();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/ShardId.java, +    private int hashCode;, +, +        this.hashCode = computeHashCode();, +        if (o == null) return false;, +        return shardId == shardId1.shardId && index.name().equals(shardId1.index.name());, +        return hashCode;, +    }, +, +    private int computeHashCode() {]