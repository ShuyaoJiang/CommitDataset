[+++ b/docs/painless/painless-contexts/painless-filter-context.asciidoc, +, +*Example*, +, +To run this example, first follow the steps in, +<<painless-context-examples, context examples>>., +, +This script finds all unsold documents that cost less than $18., +, +[source,Painless], +----, +doc['sold'].value == false && doc['cost'].value < 18, +----, +, +Defining cost as a script parameter enables the cost to be configured, +in the script query request. For example, the following request finds, +all available theatre seats for evening performances that are under $18., +, +[source,js], +----, +GET evening/_search, +{, +    "query": {, +        "bool" : {, +            "filter" : {, +                "script" : {, +                    "script" : {, +                        "source" : "doc['sold'].value == false && doc['cost'].value < params.cost",, +                        "params" : {, +                            "cost" : 18, +                        }, +                    }, +                }, +            }, +        }, +    }, +}, +----, +// CONSOLE, +// TEST[skip: requires setup from other pages], +++ b/docs/painless/painless-contexts/painless-filter-context.asciidoc, +, +*Example*, +, +To run this example, first follow the steps in, +<<painless-context-examples, context examples>>., +, +This script finds all unsold documents that cost less than $18., +, +[source,Painless], +----, +doc['sold'].value == false && doc['cost'].value < 18, +----, +, +Defining cost as a script parameter enables the cost to be configured, +in the script query request. For example, the following request finds, +all available theatre seats for evening performances that are under $18., +, +[source,js], +----, +GET evening/_search, +{, +    "query": {, +        "bool" : {, +            "filter" : {, +                "script" : {, +                    "script" : {, +                        "source" : "doc['sold'].value == false && doc['cost'].value < params.cost",, +                        "params" : {, +                            "cost" : 18, +                        }, +                    }, +                }, +            }, +        }, +    }, +}, +----, +// CONSOLE, +// TEST[skip: requires setup from other pages], +++ b/modules/lang-painless/src/test/java/org/elasticsearch/painless/ContextExampleTests.java, +, +, +    // Use script query request to filter documents, +    /*, +    GET localhost:9200/evening/_search, +    {, +        "query": {, +            "bool" : {, +                "filter" : {, +                    "script" : {, +                        "script" : {, +                            "source" : "doc['sold'].value == false && doc['cost'].value < params.cost",, +                            "params" : {, +                                "cost" : 18, +                            }, +                        }, +                    }, +                }, +            }]