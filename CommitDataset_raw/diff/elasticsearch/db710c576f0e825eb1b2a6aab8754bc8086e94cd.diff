[+++ b/core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java, +import org.apache.lucene.index.IndexReader;, + * and {@link IndexSearcher} managed by the {@link IndexShard}., +     * Wraps the given {@link DirectoryReader}. The wrapped reader can filter out document just like delete documents etc. but, +     * must not change any term or document content., +     * <p>, +     * NOTE: The wrapper has a per-request lifecycle, must delegate {@link IndexReader#getCoreCacheKey()} and must be an instance, +     * of {@link FilterDirectoryReader} that eventually exposes the original reader via  {@link FilterDirectoryReader#getDelegate()}., +     * The returned reader is closed once it goes out of scope., +     * </p>, +        final IndexSearcher innerIndexSearcher = new IndexSearcher(reader);, +        final IndexSearcher indexSearcher = wrap(engineConfig, innerIndexSearcher);, +            return new Engine.Searcher(engineSearcher.source(), indexSearcher) {]