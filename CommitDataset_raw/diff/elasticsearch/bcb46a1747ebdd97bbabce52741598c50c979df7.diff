[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/discovery/jgroups/JgroupsDiscovery.java, +                    logger.debug("Sent (initial) node information to master [{}], node [{}]", channel.getView().getCreator(), localNode);, +                if (!transportService.addressSupported(newNode.address().getClass())) {, +                    // TODO, what should we do now? Maybe inform that node that its crap?, +                    logger.warn("Received a wrong address type from [" + msg.getSrc() + "], ignoring... (received_address[" + newNode.address() + ")");, +                } else {, +                }, +                logger.debug("Sent (view) node information to master [{}], node [{}]", newView.getCreator(), localNode);, +                logger.warn("Disconnected from cluster, resending to master [{}], node [{}]", newView.getCreator(), localNode);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/discovery/jgroups/JgroupsDiscovery.java, +                    logger.debug("Sent (initial) node information to master [{}], node [{}]", channel.getView().getCreator(), localNode);, +                if (!transportService.addressSupported(newNode.address().getClass())) {, +                    // TODO, what should we do now? Maybe inform that node that its crap?, +                    logger.warn("Received a wrong address type from [" + msg.getSrc() + "], ignoring... (received_address[" + newNode.address() + ")");, +                } else {, +                }, +                logger.debug("Sent (view) node information to master [{}], node [{}]", newView.getCreator(), localNode);, +                logger.warn("Disconnected from cluster, resending to master [{}], node [{}]", newView.getCreator(), localNode);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/Transport.java, +import org.elasticsearch.util.transport.TransportAddress;, + * @author kimchy (shay.banon), +    /**, +     * Is the address type supported., +     */, +    boolean addressSupported(Class<? extends TransportAddress> address);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/discovery/jgroups/JgroupsDiscovery.java, +                    logger.debug("Sent (initial) node information to master [{}], node [{}]", channel.getView().getCreator(), localNode);, +                if (!transportService.addressSupported(newNode.address().getClass())) {, +                    // TODO, what should we do now? Maybe inform that node that its crap?, +                    logger.warn("Received a wrong address type from [" + msg.getSrc() + "], ignoring... (received_address[" + newNode.address() + ")");, +                } else {, +                }, +                logger.debug("Sent (view) node information to master [{}], node [{}]", newView.getCreator(), localNode);, +                logger.warn("Disconnected from cluster, resending to master [{}], node [{}]", newView.getCreator(), localNode);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/Transport.java, +import org.elasticsearch.util.transport.TransportAddress;, + * @author kimchy (shay.banon), +    /**, +     * Is the address type supported., +     */, +    boolean addressSupported(Class<? extends TransportAddress> address);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/TransportService.java, +import org.elasticsearch.util.transport.TransportAddress;, +    public boolean addressSupported(Class<? extends TransportAddress> address) {, +        return transport.addressSupported(address);, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/discovery/jgroups/JgroupsDiscovery.java, +                    logger.debug("Sent (initial) node information to master [{}], node [{}]", channel.getView().getCreator(), localNode);, +                if (!transportService.addressSupported(newNode.address().getClass())) {, +                    // TODO, what should we do now? Maybe inform that node that its crap?, +                    logger.warn("Received a wrong address type from [" + msg.getSrc() + "], ignoring... (received_address[" + newNode.address() + ")");, +                } else {, +                }, +                logger.debug("Sent (view) node information to master [{}], node [{}]", newView.getCreator(), localNode);, +                logger.warn("Disconnected from cluster, resending to master [{}], node [{}]", newView.getCreator(), localNode);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/Transport.java, +import org.elasticsearch.util.transport.TransportAddress;, + * @author kimchy (shay.banon), +    /**, +     * Is the address type supported., +     */, +    boolean addressSupported(Class<? extends TransportAddress> address);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/TransportService.java, +import org.elasticsearch.util.transport.TransportAddress;, +    public boolean addressSupported(Class<? extends TransportAddress> address) {, +        return transport.addressSupported(address);, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/local/LocalTransport.java, +    @Override public boolean addressSupported(Class<? extends TransportAddress> address) {, +        return LocalTransportAddress.class.equals(address);, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/discovery/jgroups/JgroupsDiscovery.java, +                    logger.debug("Sent (initial) node information to master [{}], node [{}]", channel.getView().getCreator(), localNode);, +                if (!transportService.addressSupported(newNode.address().getClass())) {, +                    // TODO, what should we do now? Maybe inform that node that its crap?, +                    logger.warn("Received a wrong address type from [" + msg.getSrc() + "], ignoring... (received_address[" + newNode.address() + ")");, +                } else {, +                }, +                logger.debug("Sent (view) node information to master [{}], node [{}]", newView.getCreator(), localNode);, +                logger.warn("Disconnected from cluster, resending to master [{}], node [{}]", newView.getCreator(), localNode);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/Transport.java, +import org.elasticsearch.util.transport.TransportAddress;, + * @author kimchy (shay.banon), +    /**, +     * Is the address type supported., +     */, +    boolean addressSupported(Class<? extends TransportAddress> address);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/TransportService.java, +import org.elasticsearch.util.transport.TransportAddress;, +    public boolean addressSupported(Class<? extends TransportAddress> address) {, +        return transport.addressSupported(address);, +    }, +]