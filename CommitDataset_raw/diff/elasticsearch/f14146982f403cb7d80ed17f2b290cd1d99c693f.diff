[+++ b/server/src/main/java/org/elasticsearch/persistent/PersistentTasksClusterService.java, +                    tasksInProgress.removeTask(id);, +++ b/server/src/main/java/org/elasticsearch/persistent/PersistentTasksClusterService.java, +                    tasksInProgress.removeTask(id);, +++ b/server/src/main/java/org/elasticsearch/persistent/PersistentTasksCustomMetaData.java, +                throw new ResourceNotFoundException("cannot reassign task with id {" + taskId + "}, the task no longer exists");, +                throw new ResourceNotFoundException("cannot update task with id {" + taskId + "}, the task no longer exists");, +                throw new ResourceNotFoundException("cannot remove task with id {" + taskId + "}, the task no longer exists");, +++ b/server/src/main/java/org/elasticsearch/persistent/PersistentTasksClusterService.java, +                    tasksInProgress.removeTask(id);, +++ b/server/src/main/java/org/elasticsearch/persistent/PersistentTasksCustomMetaData.java, +                throw new ResourceNotFoundException("cannot reassign task with id {" + taskId + "}, the task no longer exists");, +                throw new ResourceNotFoundException("cannot update task with id {" + taskId + "}, the task no longer exists");, +                throw new ResourceNotFoundException("cannot remove task with id {" + taskId + "}, the task no longer exists");, +++ b/server/src/test/java/org/elasticsearch/persistent/PersistentTasksCustomMetaDataTests.java, +                switch (randomInt(3)) {]