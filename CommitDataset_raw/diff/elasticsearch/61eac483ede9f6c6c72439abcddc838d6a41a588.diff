[+++ b/src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java, +                        assertThat(nodesMap.size(), equalTo(cluster().size()));, +++ b/src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java, +                        assertThat(nodesMap.size(), equalTo(cluster().size()));, +++ b/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java, +        internalCluster().startNode(ImmutableSettings.builder().put("node.data", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.master", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.client", true));, +        internalCluster().startNode();, +        internalCluster().ensureAtMostNumDataNodes(5);, +        internalCluster().ensureAtLeastNumDataNodes(1);, +        SigarService sigarService = internalCluster().getInstance(SigarService.class);, +++ b/src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java, +                        assertThat(nodesMap.size(), equalTo(cluster().size()));, +++ b/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java, +        internalCluster().startNode(ImmutableSettings.builder().put("node.data", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.master", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.client", true));, +        internalCluster().startNode();, +        internalCluster().ensureAtMostNumDataNodes(5);, +        internalCluster().ensureAtLeastNumDataNodes(1);, +        SigarService sigarService = internalCluster().getInstance(SigarService.class);, +++ b/src/test/java/org/elasticsearch/action/bench/BenchmarkIntegrationTest.java, +        numExecutorNodes = internalCluster().numBenchNodes();, +        internalCluster(); // mark that we need a JVM local cluster!, +++ b/src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java, +                        assertThat(nodesMap.size(), equalTo(cluster().size()));, +++ b/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java, +        internalCluster().startNode(ImmutableSettings.builder().put("node.data", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.master", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.client", true));, +        internalCluster().startNode();, +        internalCluster().ensureAtMostNumDataNodes(5);, +        internalCluster().ensureAtLeastNumDataNodes(1);, +        SigarService sigarService = internalCluster().getInstance(SigarService.class);, +++ b/src/test/java/org/elasticsearch/action/bench/BenchmarkIntegrationTest.java, +        numExecutorNodes = internalCluster().numBenchNodes();, +        internalCluster(); // mark that we need a JVM local cluster!, +++ b/src/test/java/org/elasticsearch/action/bench/BenchmarkNegativeTest.java, +                client(), new String[] {INDEX_NAME}, internalCluster().size(), null)).actionGet();, +++ b/src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java, +                        assertThat(nodesMap.size(), equalTo(cluster().size()));, +++ b/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java, +        internalCluster().startNode(ImmutableSettings.builder().put("node.data", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.master", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.client", true));, +        internalCluster().startNode();, +        internalCluster().ensureAtMostNumDataNodes(5);, +        internalCluster().ensureAtLeastNumDataNodes(1);, +        SigarService sigarService = internalCluster().getInstance(SigarService.class);, +++ b/src/test/java/org/elasticsearch/action/bench/BenchmarkIntegrationTest.java, +        numExecutorNodes = internalCluster().numBenchNodes();, +        internalCluster(); // mark that we need a JVM local cluster!, +++ b/src/test/java/org/elasticsearch/action/bench/BenchmarkNegativeTest.java, +                client(), new String[] {INDEX_NAME}, internalCluster().size(), null)).actionGet();, +++ b/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        AliasMetaData aliasMetaData = internalCluster().clusterService().state().metaData().aliases().get("alias1").get("test");, +++ b/src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java, +                        assertThat(nodesMap.size(), equalTo(cluster().size()));, +++ b/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java, +        internalCluster().startNode(ImmutableSettings.builder().put("node.data", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.master", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.client", true));, +        internalCluster().startNode();, +        internalCluster().ensureAtMostNumDataNodes(5);, +        internalCluster().ensureAtLeastNumDataNodes(1);, +        SigarService sigarService = internalCluster().getInstance(SigarService.class);, +++ b/src/test/java/org/elasticsearch/action/bench/BenchmarkIntegrationTest.java, +        numExecutorNodes = internalCluster().numBenchNodes();, +        internalCluster(); // mark that we need a JVM local cluster!, +++ b/src/test/java/org/elasticsearch/action/bench/BenchmarkNegativeTest.java, +                client(), new String[] {INDEX_NAME}, internalCluster().size(), null)).actionGet();, +++ b/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        AliasMetaData aliasMetaData = internalCluster().clusterService().state().metaData().aliases().get("alias1").get("test");, +++ b/src/test/java/org/elasticsearch/client/transport/TransportClientTests.java, +        String nodeName = internalCluster().startNode(ImmutableSettings.builder().put("node.data", false));, +        TransportClient client = (TransportClient) internalCluster().client(nodeName);, +++ b/src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java, +                        assertThat(nodesMap.size(), equalTo(cluster().size()));, +++ b/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java, +        internalCluster().startNode(ImmutableSettings.builder().put("node.data", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.master", false));, +        internalCluster().startNode(ImmutableSettings.builder().put("node.client", true));, +        internalCluster().startNode();, +        internalCluster().ensureAtMostNumDataNodes(5);, +        internalCluster().ensureAtLeastNumDataNodes(1);, +        SigarService sigarService = internalCluster().getInstance(SigarService.class);, +++ b/src/test/java/org/elasticsearch/action/bench/BenchmarkIntegrationTest.java, +        numExecutorNodes = internalCluster().numBenchNodes();, +        internalCluster(); // mark that we need a JVM local cluster!, +++ b/src/test/java/org/elasticsearch/action/bench/BenchmarkNegativeTest.java, +                client(), new String[] {INDEX_NAME}, internalCluster().size(), null)).actionGet();, +++ b/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        AliasMetaData aliasMetaData = internalCluster().clusterService().state().metaData().aliases().get("alias1").get("test");, +++ b/src/test/java/org/elasticsearch/client/transport/TransportClientTests.java, +        String nodeName = internalCluster().startNode(ImmutableSettings.builder().put("node.data", false));, +        TransportClient client = (TransportClient) internalCluster().client(nodeName);, +++ b/src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java, +        internalCluster().startNode(settings);, +        ClusterService clusterService1 = internalCluster().getInstance(ClusterService.class);]