[+++ b/rest-api-spec/test/indices.get_mapping/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_mapping/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_settings/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_mapping/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_settings/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_warmer/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_mapping/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_settings/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_warmer/10_basic.yaml, +++ b/src/test/java/org/elasticsearch/test/rest/junit/RestTestSuiteRunner.java, +        } catch (InitializationError e) {, +          stopTestCluster();, +            throw e;, +    protected List<RestTestCandidate> collectTestCandidates(Description rootDescription) throws InitializationError, IOException {, +        List<Throwable> parseExceptions = Lists.newArrayList();, +                RestTestSuite restTestSuite;, +                try {, +                    restTestSuite = restTestSuiteParser.parse(restTestExecutionContext.esVersion(), api, yamlFile);, +                } catch (RestTestParseException e) {, +                    parseExceptions.add(e);, +                    //we continue so that we collect all parse errors and show them all at once, +                    continue;, +                }, +, +        if (!parseExceptions.isEmpty()) {, +            throw new InitializationError(parseExceptions);, +        }, +, +++ b/rest-api-spec/test/indices.get_mapping/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_settings/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_warmer/10_basic.yaml, +++ b/src/test/java/org/elasticsearch/test/rest/junit/RestTestSuiteRunner.java, +        } catch (InitializationError e) {, +          stopTestCluster();, +            throw e;, +    protected List<RestTestCandidate> collectTestCandidates(Description rootDescription) throws InitializationError, IOException {, +        List<Throwable> parseExceptions = Lists.newArrayList();, +                RestTestSuite restTestSuite;, +                try {, +                    restTestSuite = restTestSuiteParser.parse(restTestExecutionContext.esVersion(), api, yamlFile);, +                } catch (RestTestParseException e) {, +                    parseExceptions.add(e);, +                    //we continue so that we collect all parse errors and show them all at once, +                    continue;, +                }, +, +        if (!parseExceptions.isEmpty()) {, +            throw new InitializationError(parseExceptions);, +        }, +, +++ b/src/test/java/org/elasticsearch/test/rest/parser/RestTestSuiteParser.java, +import org.elasticsearch.test.rest.section.TestSection;, +                TestSection testSection = parseContext.parseTestSection();, +                if (!restTestSuite.addTestSection(testSection)) {, +                    throw new RestTestParseException("duplicate test section [" + testSection.getName() + "] found in [" + restTestSuite.getDescription() + "]");, +                }, +++ b/rest-api-spec/test/indices.get_mapping/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_settings/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_warmer/10_basic.yaml, +++ b/src/test/java/org/elasticsearch/test/rest/junit/RestTestSuiteRunner.java, +        } catch (InitializationError e) {, +          stopTestCluster();, +            throw e;, +    protected List<RestTestCandidate> collectTestCandidates(Description rootDescription) throws InitializationError, IOException {, +        List<Throwable> parseExceptions = Lists.newArrayList();, +                RestTestSuite restTestSuite;, +                try {, +                    restTestSuite = restTestSuiteParser.parse(restTestExecutionContext.esVersion(), api, yamlFile);, +                } catch (RestTestParseException e) {, +                    parseExceptions.add(e);, +                    //we continue so that we collect all parse errors and show them all at once, +                    continue;, +                }, +, +        if (!parseExceptions.isEmpty()) {, +            throw new InitializationError(parseExceptions);, +        }, +, +++ b/src/test/java/org/elasticsearch/test/rest/parser/RestTestSuiteParser.java, +import org.elasticsearch.test.rest.section.TestSection;, +                TestSection testSection = parseContext.parseTestSection();, +                if (!restTestSuite.addTestSection(testSection)) {, +                    throw new RestTestParseException("duplicate test section [" + testSection.getName() + "] found in [" + restTestSuite.getDescription() + "]");, +                }, +++ b/src/test/java/org/elasticsearch/test/rest/section/RestTestSuite.java, +import com.google.common.collect.Sets;, +import java.util.Set;, +    private Set<TestSection> testSections = Sets.newHashSet();, +    /**, +     * Adds a {@link org.elasticsearch.test.rest.section.TestSection} to the REST suite, +     * @return true if the test section was not already present, false otherwise, +     */, +    public boolean addTestSection(TestSection testSection) {, +        return this.testSections.add(testSection);, +        return Lists.newArrayList(testSections);, +++ b/rest-api-spec/test/indices.get_mapping/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_settings/10_basic.yaml, +++ b/rest-api-spec/test/indices.get_warmer/10_basic.yaml, +++ b/src/test/java/org/elasticsearch/test/rest/junit/RestTestSuiteRunner.java, +        } catch (InitializationError e) {]