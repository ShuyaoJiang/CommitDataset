[+++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo fs;, +                     @Nullable FsInfo fs, @Nullable TransportStats transport, @Nullable HttpStats http,, +    public FsInfo getFs() {, +            fs = FsInfo.readFsInfo(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo fs;, +                     @Nullable FsInfo fs, @Nullable TransportStats transport, @Nullable HttpStats http,, +    public FsInfo getFs() {, +            fs = FsInfo.readFsInfo(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo.Path fs;, +        this.fs = new FsInfo.Path();, +    public FsInfo.Path getFs() {, +        fs = FsInfo.Path.readInfoFrom(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo fs;, +                     @Nullable FsInfo fs, @Nullable TransportStats transport, @Nullable HttpStats http,, +    public FsInfo getFs() {, +            fs = FsInfo.readFsInfo(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo.Path fs;, +        this.fs = new FsInfo.Path();, +    public FsInfo.Path getFs() {, +        fs = FsInfo.Path.readInfoFrom(in);, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put(Pattern.compile(".*bcprov-.*\\.jar$"),         "es.security.jar.bouncycastle.bcprov");, +                        if (System.getProperty(prop) != null) {, +                            throw new IllegalStateException("property: " + prop + " is unexpectedly set: " + System.getProperty(prop));, +                        }, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo fs;, +                     @Nullable FsInfo fs, @Nullable TransportStats transport, @Nullable HttpStats http,, +    public FsInfo getFs() {, +            fs = FsInfo.readFsInfo(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo.Path fs;, +        this.fs = new FsInfo.Path();, +    public FsInfo.Path getFs() {, +        fs = FsInfo.Path.readInfoFrom(in);, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put(Pattern.compile(".*bcprov-.*\\.jar$"),         "es.security.jar.bouncycastle.bcprov");, +                        if (System.getProperty(prop) != null) {, +                            throw new IllegalStateException("property: " + prop + " is unexpectedly set: " + System.getProperty(prop));, +                        }, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +import org.elasticsearch.monitor.fs.FsInfo;, +                            for (FsInfo.Path info : nodeStats.getFs()) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo fs;, +                     @Nullable FsInfo fs, @Nullable TransportStats transport, @Nullable HttpStats http,, +    public FsInfo getFs() {, +            fs = FsInfo.readFsInfo(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo.Path fs;, +        this.fs = new FsInfo.Path();, +    public FsInfo.Path getFs() {, +        fs = FsInfo.Path.readInfoFrom(in);, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put(Pattern.compile(".*bcprov-.*\\.jar$"),         "es.security.jar.bouncycastle.bcprov");, +                        if (System.getProperty(prop) != null) {, +                            throw new IllegalStateException("property: " + prop + " is unexpectedly set: " + System.getProperty(prop));, +                        }, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +import org.elasticsearch.monitor.fs.FsInfo;, +                            for (FsInfo.Path info : nodeStats.getFs()) {, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +import org.elasticsearch.monitor.fs.FsInfo;, +import org.elasticsearch.monitor.fs.FsProbe;, +                FsInfo.Path fsPath = FsProbe.getFSInfo(nodePath);, +                    .append(fsPath.getFree()), +                    .append(fsPath.getAvailable()), +                    .append(fsPath.getTotal()), +                    .append(fsPath.getMount()), +                    .append(fsPath.getType()), +            FsInfo.Path totFSPath = new FsInfo.Path();, +                FsInfo.Path fsPath = FsProbe.getFSInfo(nodePath);, +                String mount = fsPath.getMount();, +                    String type = fsPath.getType();, +                    Boolean spins = fsPath.getSpins();, +                    totFSPath.add(fsPath);, +                                      totFSPath.getAvailable(),, +                                      totFSPath.getTotal(),, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.monitor.fs.FsInfo;, +    private FsInfo fs;, +                     @Nullable FsInfo fs, @Nullable TransportStats transport, @Nullable HttpStats http,, +    public FsInfo getFs() {, +            fs = FsInfo.readFsInfo(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java, +import org.elasticsearch.monitor.fs.FsInfo;]