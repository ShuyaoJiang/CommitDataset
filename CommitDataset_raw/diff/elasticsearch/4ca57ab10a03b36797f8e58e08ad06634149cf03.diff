[+++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1662607</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1662607</url>, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1662607</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1662607</url>, +++ b/src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java, +    private static final IndexReader EMPTY_INDEXREADER;, +    static {, +      try {, +        EMPTY_INDEXREADER = new MultiReader();, +      } catch (IOException bogus) {, +        throw new RuntimeException(bogus);, +      }, +    }, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1662607</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1662607</url>, +++ b/src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java, +    private static final IndexReader EMPTY_INDEXREADER;, +    static {, +      try {, +        EMPTY_INDEXREADER = new MultiReader();, +      } catch (IOException bogus) {, +        throw new RuntimeException(bogus);, +      }, +    }, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1662607</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1662607</url>, +++ b/src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java, +    private static final IndexReader EMPTY_INDEXREADER;, +    static {, +      try {, +        EMPTY_INDEXREADER = new MultiReader();, +      } catch (IOException bogus) {, +        throw new RuntimeException(bogus);, +      }, +    }, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +++ b/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java, +import java.io.IOException;, +, +    private ElasticsearchDirectoryReader(DirectoryReader in, FilterDirectoryReader.SubReaderWrapper wrapper, ShardId shardId) throws IOException {, +    protected DirectoryReader doWrapDirectoryReader(DirectoryReader in) throws IOException {, +    public static ElasticsearchDirectoryReader wrap(DirectoryReader reader, ShardId shardId) throws IOException {, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1662607</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1662607</url>, +++ b/src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java, +    private static final IndexReader EMPTY_INDEXREADER;, +    static {, +      try {, +        EMPTY_INDEXREADER = new MultiReader();, +      } catch (IOException bogus) {, +        throw new RuntimeException(bogus);, +      }, +    }, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +++ b/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java, +import java.io.IOException;, +, +    private ElasticsearchDirectoryReader(DirectoryReader in, FilterDirectoryReader.SubReaderWrapper wrapper, ShardId shardId) throws IOException {, +    protected DirectoryReader doWrapDirectoryReader(DirectoryReader in) throws IOException {, +    public static ElasticsearchDirectoryReader wrap(DirectoryReader reader, ShardId shardId) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/lucene/search/EmptyScorer.java, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1662607</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1662607</url>, +++ b/src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java, +    private static final IndexReader EMPTY_INDEXREADER;, +    static {, +      try {, +        EMPTY_INDEXREADER = new MultiReader();, +      } catch (IOException bogus) {, +        throw new RuntimeException(bogus);, +      }, +    }, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +++ b/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java, +import java.io.IOException;, +, +    private ElasticsearchDirectoryReader(DirectoryReader in, FilterDirectoryReader.SubReaderWrapper wrapper, ShardId shardId) throws IOException {, +    protected DirectoryReader doWrapDirectoryReader(DirectoryReader in) throws IOException {, +    public static ElasticsearchDirectoryReader wrap(DirectoryReader reader, ShardId shardId) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/lucene/search/EmptyScorer.java, +++ b/src/main/java/org/elasticsearch/common/lucene/search/function/CustomBoostFactorScorer.java, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1662607</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1662607</url>, +++ b/src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java, +    private static final IndexReader EMPTY_INDEXREADER;, +    static {, +      try {, +        EMPTY_INDEXREADER = new MultiReader();, +      } catch (IOException bogus) {, +        throw new RuntimeException(bogus);, +      }, +    }]