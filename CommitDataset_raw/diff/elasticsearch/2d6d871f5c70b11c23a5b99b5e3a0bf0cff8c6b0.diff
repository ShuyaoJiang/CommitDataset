[+++ b/core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java, +            raisePhaseFailure(new IllegalStateException("unexpected higher total ops [" + xTotalOps + "] compared " +, +            raisePhaseFailure(new ReduceSearchPhaseException(phaseName, "", e, buildShardFailures()));, +                raisePhaseFailure(new SearchPhaseExecutionException(initialPhaseName(), "all shards failed", e, shardSearchFailures));, +    /**, +     * This method should be called if a search phase failed to ensure all relevant search contexts and resources are released., +     * this method will also notify the listener and sends back a failure to the user., +     * @param e the exception explaining or causing the phase failure, +     */, +    protected void raisePhaseFailure(Exception e) {, +                    raisePhaseFailure(new ReduceSearchPhaseException("fetch", "", e, buildShardFailures()));]