[+++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RequestConverters.java, +                //the authority must be an empty string and not null, else paths that being with slashes could have them, +                //misinterpreted as part of the authority., +                URI uri = new URI(null, "", "/" + pathPart, null, null);, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RequestConverters.java, +                //the authority must be an empty string and not null, else paths that being with slashes could have them, +                //misinterpreted as part of the authority., +                URI uri = new URI(null, "", "/" + pathPart, null, null);, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RequestConvertersTests.java, +        {, +            EndpointBuilder endpointBuilder = new EndpointBuilder().addPathPart("/foo");, +            assertEquals("/%2Ffoo", endpointBuilder.build());, +        }, +        {, +            EndpointBuilder endpointBuilder = new EndpointBuilder().addPathPart("//foo");, +            assertEquals("/%2F%2Ffoo", endpointBuilder.build());, +        }, +        {, +            EndpointBuilder endpointBuilder = new EndpointBuilder().addPathPart("///foo");, +            assertEquals("/%2F%2F%2Ffoo", endpointBuilder.build());, +        }, +        {, +            EndpointBuilder endpointBuilder = new EndpointBuilder().addPathPart("/foo/bar");, +            assertEquals("/%2Ffoo%2Fbar", endpointBuilder.build());, +        }, +        {, +            EndpointBuilder endpointBuilder = new EndpointBuilder().addPathPart("//foo/bar");, +            assertEquals("/%2F%2Ffoo%2Fbar", endpointBuilder.build());, +        }, +        {, +            EndpointBuilder endpointBuilder = new EndpointBuilder().addPathPart("/foo@bar");, +            assertEquals("/%2Ffoo@bar", endpointBuilder.build());, +        }, +        {, +            EndpointBuilder endpointBuilder = new EndpointBuilder().addPathPart("//foo@bar");, +            assertEquals("/%2F%2Ffoo@bar", endpointBuilder.build());, +        }, +        {, +            EndpointBuilder endpointBuilder = new EndpointBuilder().addPathPart("/part1").addPathPart("//part2").addPathPart("///part3");, +            assertEquals("/%2Fpart1/%2F%2Fpart2/%2F%2F%2Fpart3", endpointBuilder.build());, +        }]