[+++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java, +                    if (fieldName == null) {, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java, +                    if (fieldName == null) {, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java, +import org.elasticsearch.common.ParsingException;, +                if (fieldName == null) {, +                } else {, +                    throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                            "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                }, +                if (fieldName == null) {, +                } else {, +                    throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                            "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                }, +                    String maybeFieldName = currentFieldName.substring(0, currentFieldName.length() - GeoPointFieldMapper.Names.LAT_SUFFIX.length());, +                    if (fieldName == null || fieldName.equals(maybeFieldName)) {, +                        fieldName = maybeFieldName;, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +                    String maybeFieldName = currentFieldName.substring(0, currentFieldName.length() - GeoPointFieldMapper.Names.LON_SUFFIX.length());, +                    if (fieldName == null || fieldName.equals(maybeFieldName)) {, +                        fieldName = maybeFieldName;, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +                    String maybeFieldName = currentFieldName.substring(0, currentFieldName.length() - GeoPointFieldMapper.Names.GEOHASH_SUFFIX.length());, +                    if (fieldName == null || fieldName.equals(maybeFieldName)) {, +                        fieldName = maybeFieldName;, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +                    if (fieldName == null) {, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java, +                    if (fieldName == null) {, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java, +import org.elasticsearch.common.ParsingException;, +                if (fieldName == null) {, +                } else {, +                    throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                            "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                }, +                if (fieldName == null) {, +                } else {, +                    throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                            "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                }, +                    String maybeFieldName = currentFieldName.substring(0, currentFieldName.length() - GeoPointFieldMapper.Names.LAT_SUFFIX.length());, +                    if (fieldName == null || fieldName.equals(maybeFieldName)) {, +                        fieldName = maybeFieldName;, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +                    String maybeFieldName = currentFieldName.substring(0, currentFieldName.length() - GeoPointFieldMapper.Names.LON_SUFFIX.length());, +                    if (fieldName == null || fieldName.equals(maybeFieldName)) {, +                        fieldName = maybeFieldName;, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +                    String maybeFieldName = currentFieldName.substring(0, currentFieldName.length() - GeoPointFieldMapper.Names.GEOHASH_SUFFIX.length());, +                    if (fieldName == null || fieldName.equals(maybeFieldName)) {, +                        fieldName = maybeFieldName;, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +                    if (fieldName == null) {, +                    } else {, +                        throw new ParsingException(parser.getTokenLocation(), "[" + GeoDistanceRangeQueryBuilder.NAME +, +                                "] field name already set to [" + fieldName + "] but found [" + currentFieldName + "]");, +                    }, +++ b/core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java, +import org.elasticsearch.common.ParsingException;, +                        if (fieldName == null) {, +                                // A string indicates either a geohash or a, +                                // lat/lon, +                        } else {]