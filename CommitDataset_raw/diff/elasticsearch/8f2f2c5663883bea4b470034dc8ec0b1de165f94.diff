[+++ b/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertAcked;, +, +        // not yet: until https://github.com/elasticsearch/elasticsearch/pull/9142, +        // "index-0.20.6.zip",, +        logger.info("Found " + numDocs + " in old index");, +        assertAcked(client().admin().indices().prepareUpdateSettings("test").setSettings(ImmutableSettings.builder(), +            .build()));, +        assertAcked(client().admin().indices().prepareUpdateSettings("test").setSettings(ImmutableSettings.builder(), +            .build()));, +        final int numReplicas = randomIntBetween(2, 3);, +        assertAcked(client().admin().indices().prepareUpdateSettings("test").setSettings(ImmutableSettings.builder(), +            .put("number_of_replicas", numReplicas)).execute().actionGet());, +        assertAcked(client().admin().indices().prepareUpdateSettings("test").setSettings(ImmutableSettings.builder(), +            .put("number_of_replicas", 0)), +            .execute().actionGet());, +++ b/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertAcked;, +, +        // not yet: until https://github.com/elasticsearch/elasticsearch/pull/9142, +        // "index-0.20.6.zip",, +        logger.info("Found " + numDocs + " in old index");, +        assertAcked(client().admin().indices().prepareUpdateSettings("test").setSettings(ImmutableSettings.builder(), +            .build()));, +        assertAcked(client().admin().indices().prepareUpdateSettings("test").setSettings(ImmutableSettings.builder(), +            .build()));, +        final int numReplicas = randomIntBetween(2, 3);, +        assertAcked(client().admin().indices().prepareUpdateSettings("test").setSettings(ImmutableSettings.builder(), +            .put("number_of_replicas", numReplicas)).execute().actionGet());, +        assertAcked(client().admin().indices().prepareUpdateSettings("test").setSettings(ImmutableSettings.builder(), +            .put("number_of_replicas", 0)), +            .execute().actionGet());, +++ b/src/test/resources/org/elasticsearch/bwcompat/index-0.20.6.zip]