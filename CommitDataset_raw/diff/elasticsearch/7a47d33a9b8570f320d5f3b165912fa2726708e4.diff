[+++ b/core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java, +                PluginInfo info = PluginInfo.readFromProperties(env.pluginsFile().resolve(plugin.toAbsolutePath()));, +                terminal.println(Terminal.Verbosity.VERBOSE, info.toString());, +++ b/core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java, +                PluginInfo info = PluginInfo.readFromProperties(env.pluginsFile().resolve(plugin.toAbsolutePath()));, +                terminal.println(Terminal.Verbosity.VERBOSE, info.toString());, +++ b/core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java, +import com.carrotsearch.hppc.cursors.ObjectLongCursor;, +                .addCell("field", "alias:f;desc:field name"), +                .addCell("size", "text-align:right;alias:s;desc:field data usage"), +        Table table = getTableWithHeader(request);, +        for (NodeStats nodeStats: nodeStatses.getNodes()) {, +            if (nodeStats.getIndices().getFieldData().getFields() != null) {, +                for (ObjectLongCursor<String> cursor : nodeStats.getIndices().getFieldData().getFields()) {, +                    table.addCell(nodeStats.getNode().getId());, +                    table.addCell(nodeStats.getNode().getHostName());, +                    table.addCell(nodeStats.getNode().getHostAddress());, +                    table.addCell(nodeStats.getNode().getName());, +                    table.addCell(cursor.key);, +                    table.addCell(new ByteSizeValue(cursor.value));, +            }, +        }, +++ b/core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java, +                PluginInfo info = PluginInfo.readFromProperties(env.pluginsFile().resolve(plugin.toAbsolutePath()));, +                terminal.println(Terminal.Verbosity.VERBOSE, info.toString());, +++ b/core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java, +import com.carrotsearch.hppc.cursors.ObjectLongCursor;, +                .addCell("field", "alias:f;desc:field name"), +                .addCell("size", "text-align:right;alias:s;desc:field data usage"), +        Table table = getTableWithHeader(request);, +        for (NodeStats nodeStats: nodeStatses.getNodes()) {, +            if (nodeStats.getIndices().getFieldData().getFields() != null) {, +                for (ObjectLongCursor<String> cursor : nodeStats.getIndices().getFieldData().getFields()) {, +                    table.addCell(nodeStats.getNode().getId());, +                    table.addCell(nodeStats.getNode().getHostName());, +                    table.addCell(nodeStats.getNode().getHostAddress());, +                    table.addCell(nodeStats.getNode().getName());, +                    table.addCell(cursor.key);, +                    table.addCell(new ByteSizeValue(cursor.value));, +            }, +        }, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java, +        Map<String, Object> params = new HashMap<>(5);, +                    parseToken(pipelineAggregatorName, parser, context, currentFieldName, token, params);, +                    parseToken(pipelineAggregatorName, parser, context, currentFieldName, token, params);, +                parseToken(pipelineAggregatorName, parser, context, currentFieldName, token, params);, +        BucketMetricsPipelineAggregatorBuilder<?> factory  = buildFactory(pipelineAggregatorName, bucketsPaths[0], params);, +                                                                              Map<String, Object> params);, +    protected boolean token(XContentParser parser, QueryParseContext context, String field,, +                            XContentParser.Token token, Map<String, Object> params) throws IOException {, +        return false;, +    }, +, +    private void parseToken(String aggregationName, XContentParser parser, QueryParseContext context, String currentFieldName,, +                       XContentParser.Token currentToken, Map<String, Object> params) throws IOException {, +        if (token(parser, context, currentFieldName, currentToken, params) == false) {, +            throw new ParsingException(parser.getTokenLocation(),, +                "Unexpected token " + currentToken + " [" + currentFieldName + "] in [" + aggregationName + "]");, +        }, +    }, +++ b/core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java, +                PluginInfo info = PluginInfo.readFromProperties(env.pluginsFile().resolve(plugin.toAbsolutePath()));, +                terminal.println(Terminal.Verbosity.VERBOSE, info.toString());, +++ b/core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java, +import com.carrotsearch.hppc.cursors.ObjectLongCursor;, +                .addCell("field", "alias:f;desc:field name"), +                .addCell("size", "text-align:right;alias:s;desc:field data usage"), +        Table table = getTableWithHeader(request);, +        for (NodeStats nodeStats: nodeStatses.getNodes()) {, +            if (nodeStats.getIndices().getFieldData().getFields() != null) {, +                for (ObjectLongCursor<String> cursor : nodeStats.getIndices().getFieldData().getFields()) {, +                    table.addCell(nodeStats.getNode().getId());, +                    table.addCell(nodeStats.getNode().getHostName());, +                    table.addCell(nodeStats.getNode().getHostAddress());, +                    table.addCell(nodeStats.getNode().getName());, +                    table.addCell(cursor.key);, +                    table.addCell(new ByteSizeValue(cursor.value));, +            }, +        }, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java, +        Map<String, Object> params = new HashMap<>(5);, +                    parseToken(pipelineAggregatorName, parser, context, currentFieldName, token, params);, +                    parseToken(pipelineAggregatorName, parser, context, currentFieldName, token, params);, +                parseToken(pipelineAggregatorName, parser, context, currentFieldName, token, params);, +        BucketMetricsPipelineAggregatorBuilder<?> factory  = buildFactory(pipelineAggregatorName, bucketsPaths[0], params);, +                                                                              Map<String, Object> params);, +    protected boolean token(XContentParser parser, QueryParseContext context, String field,, +                            XContentParser.Token token, Map<String, Object> params) throws IOException {, +        return false;, +    }, +, +    private void parseToken(String aggregationName, XContentParser parser, QueryParseContext context, String currentFieldName,, +                       XContentParser.Token currentToken, Map<String, Object> params) throws IOException {, +        if (token(parser, context, currentFieldName, currentToken, params) == false) {, +            throw new ParsingException(parser.getTokenLocation(),, +                "Unexpected token " + currentToken + " [" + currentFieldName + "] in [" + aggregationName + "]");, +        }, +    }, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java, +                String bucketsPath, Map<String, Object> params) {]