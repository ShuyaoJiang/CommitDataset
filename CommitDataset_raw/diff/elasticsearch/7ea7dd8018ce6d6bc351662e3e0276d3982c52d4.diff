[+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java, +    public T value() {, +        return value;, +    }, +, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java, +    public T value() {, +        return value;, +    }, +, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java, +    public Map<String, Condition<?>> getConditions() {, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java, +    public T value() {, +        return value;, +    }, +, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java, +    public Map<String, Condition<?>> getConditions() {, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java, +    public RolloverResponse(String oldIndex, String newIndex, Map<String, Boolean> conditionResults,, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java, +    public T value() {, +        return value;, +    }, +, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java, +    public Map<String, Condition<?>> getConditions() {, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java, +    public RolloverResponse(String oldIndex, String newIndex, Map<String, Boolean> conditionResults,, +++ /dev/null, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java, +    public T value() {, +        return value;, +    }, +, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java, +    public Map<String, Condition<?>> getConditions() {, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java, +    public RolloverResponse(String oldIndex, String newIndex, Map<String, Boolean> conditionResults,, +++ /dev/null, +++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/indexlifecycle/RolloverStepTests.java, +import java.util.Collections;, +import java.util.stream.Collectors;, +    private static void assertRolloverIndexRequest(RolloverRequest request, String alias, Set<Condition<?>> expectedConditions) {, +        assertNotNull(request);, +        assertEquals(1, request.indices().length);, +        assertEquals(alias, request.indices()[0]);, +        assertEquals(alias, request.getAlias());, +        assertEquals(expectedConditions.size(), request.getConditions().size());, +        Set<Object> expectedConditionValues = expectedConditions.stream().map(Condition::value).collect(Collectors.toSet());, +        Set<Object> actualConditionValues = request.getConditions().values().stream(), +            .map(Condition::value).collect(Collectors.toSet());, +        assertEquals(expectedConditionValues, actualConditionValues);, +    }, +, +    public void testPerformAction() {, +                assertRolloverIndexRequest(request, alias, expectedConditions);, +                listener.onResponse(new RolloverResponse(null, null, Collections.emptyMap(), request.isDryRun(), true, true, true));, +    public void testPerformActionNotComplete() {, +                assertRolloverIndexRequest(request, alias, expectedConditions);, +                listener.onResponse(new RolloverResponse(null, null, Collections.emptyMap(), request.isDryRun(), false, true, true));, +    public void testPerformActionFailure() {, +                assertRolloverIndexRequest(request, alias, expectedConditions);]