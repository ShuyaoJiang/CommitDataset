[+++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/IndexSettings.java, +    /**, +     * Index setting describing the maximum value of from + size on a query., +     * The Default maximum value of from + size on a query is 10,000. This was chosen as, +     * a conservative default as it is sure to not cause trouble. Users can, +     * certainly profile their cluster and decide to set it to 100,000, +     * safely. 1,000,000 is probably way to high for any cluster to set, +     * safely., +     */, +    public static final Setting<Integer> MAX_RESULT_WINDOW_SETTING = Setting.intSetting("index.max_result_window", 10000, 1, true, Setting.Scope.INDEX);, +    private volatile int maxResultWindow;, +        IndexSettings.INDEX_REFRESH_INTERVAL_SETTING,, +        IndexSettings.MAX_RESULT_WINDOW_SETTING, +, +        maxResultWindow = scopedSettings.get(MAX_RESULT_WINDOW_SETTING);, +        scopedSettings.addSettingsUpdateConsumer(MAX_RESULT_WINDOW_SETTING, this::setMaxResultWindow);, +     * Returns the max result window for search requests, describing the maximum value of from + size on a query., +     */, +    public int getMaxResultWindow() {, +        return this.maxResultWindow;, +    }, +, +    private void setMaxResultWindow(int maxResultWindow) {, +        this.maxResultWindow = maxResultWindow;, +    }, +, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/IndexSettings.java, +    /**, +     * Index setting describing the maximum value of from + size on a query., +     * The Default maximum value of from + size on a query is 10,000. This was chosen as, +     * a conservative default as it is sure to not cause trouble. Users can, +     * certainly profile their cluster and decide to set it to 100,000, +     * safely. 1,000,000 is probably way to high for any cluster to set, +     * safely., +     */, +    public static final Setting<Integer> MAX_RESULT_WINDOW_SETTING = Setting.intSetting("index.max_result_window", 10000, 1, true, Setting.Scope.INDEX);, +    private volatile int maxResultWindow;, +        IndexSettings.INDEX_REFRESH_INTERVAL_SETTING,, +        IndexSettings.MAX_RESULT_WINDOW_SETTING, +, +        maxResultWindow = scopedSettings.get(MAX_RESULT_WINDOW_SETTING);, +        scopedSettings.addSettingsUpdateConsumer(MAX_RESULT_WINDOW_SETTING, this::setMaxResultWindow);, +     * Returns the max result window for search requests, describing the maximum value of from + size on a query., +     */, +    public int getMaxResultWindow() {, +        return this.maxResultWindow;, +    }, +, +    private void setMaxResultWindow(int maxResultWindow) {, +        this.maxResultWindow = maxResultWindow;, +    }, +, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java, +import org.elasticsearch.index.IndexSettings;, +            int maxResultWindow = indexService.getIndexSettings().getMaxResultWindow();, +                                + "This limit can be set by changing the [" + IndexSettings.MAX_RESULT_WINDOW_SETTING.getKey(), +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/IndexSettings.java, +    /**, +     * Index setting describing the maximum value of from + size on a query., +     * The Default maximum value of from + size on a query is 10,000. This was chosen as, +     * a conservative default as it is sure to not cause trouble. Users can, +     * certainly profile their cluster and decide to set it to 100,000, +     * safely. 1,000,000 is probably way to high for any cluster to set, +     * safely., +     */, +    public static final Setting<Integer> MAX_RESULT_WINDOW_SETTING = Setting.intSetting("index.max_result_window", 10000, 1, true, Setting.Scope.INDEX);, +    private volatile int maxResultWindow;, +        IndexSettings.INDEX_REFRESH_INTERVAL_SETTING,, +        IndexSettings.MAX_RESULT_WINDOW_SETTING, +, +        maxResultWindow = scopedSettings.get(MAX_RESULT_WINDOW_SETTING);, +        scopedSettings.addSettingsUpdateConsumer(MAX_RESULT_WINDOW_SETTING, this::setMaxResultWindow);, +     * Returns the max result window for search requests, describing the maximum value of from + size on a query., +     */, +    public int getMaxResultWindow() {, +        return this.maxResultWindow;, +    }, +, +    private void setMaxResultWindow(int maxResultWindow) {, +        this.maxResultWindow = maxResultWindow;, +    }, +, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java, +import org.elasticsearch.index.IndexSettings;, +            int maxResultWindow = indexService.getIndexSettings().getMaxResultWindow();, +                                + "This limit can be set by changing the [" + IndexSettings.MAX_RESULT_WINDOW_SETTING.getKey(), +++ b/core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java, +    public void testMaxResultWindow() {, +        IndexMetaData metaData = newIndexMeta("index", Settings.settingsBuilder(), +            .put(IndexMetaData.SETTING_VERSION_CREATED, Version.CURRENT)]