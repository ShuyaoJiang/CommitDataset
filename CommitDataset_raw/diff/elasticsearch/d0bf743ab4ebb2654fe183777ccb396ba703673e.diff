[+++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.elasticsearch.common.lucene.search.Queries;, +    @Override protected Query newMatchAllDocsQuery() {, +        return Queries.MATCH_ALL_QUERY;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.elasticsearch.common.lucene.search.Queries;, +    @Override protected Query newMatchAllDocsQuery() {, +        return Queries.MATCH_ALL_QUERY;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/search/Queries.java, +    // We don't use MatchAllDocsQuery, its slower than the one below ... (much slower), +    public final static Query MATCH_ALL_QUERY = new DeletionAwareConstantScoreQuery(new MatchAllDocsFilter(), true);, +    public final static Filter MATCH_ALL_FILTER = new MatchAllDocsFilter();, +++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.elasticsearch.common.lucene.search.Queries;, +    @Override protected Query newMatchAllDocsQuery() {, +        return Queries.MATCH_ALL_QUERY;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/search/Queries.java, +    // We don't use MatchAllDocsQuery, its slower than the one below ... (much slower), +    public final static Query MATCH_ALL_QUERY = new DeletionAwareConstantScoreQuery(new MatchAllDocsFilter(), true);, +    public final static Filter MATCH_ALL_FILTER = new MatchAllDocsFilter();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/query/xcontent/MatchAllQueryParser.java, +            return Queries.MATCH_ALL_QUERY;, +++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.elasticsearch.common.lucene.search.Queries;, +    @Override protected Query newMatchAllDocsQuery() {, +        return Queries.MATCH_ALL_QUERY;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/search/Queries.java, +    // We don't use MatchAllDocsQuery, its slower than the one below ... (much slower), +    public final static Query MATCH_ALL_QUERY = new DeletionAwareConstantScoreQuery(new MatchAllDocsFilter(), true);, +    public final static Filter MATCH_ALL_FILTER = new MatchAllDocsFilter();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/query/xcontent/MatchAllQueryParser.java, +            return Queries.MATCH_ALL_QUERY;, +++ b/modules/test/integration/src/test/java/org/elasticsearch/test/integration/gateway/fs/FsMetaDataGatewayTests.java, +        Thread.sleep(500);, +++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.elasticsearch.common.lucene.search.Queries;, +    @Override protected Query newMatchAllDocsQuery() {, +        return Queries.MATCH_ALL_QUERY;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/search/Queries.java, +    // We don't use MatchAllDocsQuery, its slower than the one below ... (much slower), +    public final static Query MATCH_ALL_QUERY = new DeletionAwareConstantScoreQuery(new MatchAllDocsFilter(), true);, +    public final static Filter MATCH_ALL_FILTER = new MatchAllDocsFilter();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/query/xcontent/MatchAllQueryParser.java, +            return Queries.MATCH_ALL_QUERY;, +++ b/modules/test/integration/src/test/java/org/elasticsearch/test/integration/gateway/fs/FsMetaDataGatewayTests.java, +        Thread.sleep(500);, +++ b/plugins/hadoop/src/test/java/org/elasticsearch/hadoop/gateway/HdfsGatewayTests.java, +    @Test public void testHdfsGateway() throws Exception {, +        Thread.sleep(500);]