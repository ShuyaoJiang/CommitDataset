[+++ /dev/null, +++ /dev/null, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RequestConverters.java, +++ /dev/null, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RequestConverters.java, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +++ /dev/null, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RequestConverters.java, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +++ /dev/null, +++ /dev/null, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RequestConverters.java, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +++ /dev/null, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RequestConvertersTests.java, +++ /dev/null, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RequestConverters.java, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +++ /dev/null, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RequestConvertersTests.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +                            apiName.startsWith("migration.") == false) {, +++ /dev/null, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RequestConverters.java, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +++ /dev/null, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RequestConvertersTests.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +                            apiName.startsWith("migration.") == false) {, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/SearchIT.java, +    @AwaitsFix(bugUrl = "https://github.com/elastic/elasticsearch/issues/32855"), +++ /dev/null, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RequestConverters.java, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +++ /dev/null, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RequestConvertersTests.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +                            apiName.startsWith("migration.") == false) {, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/SearchIT.java, +    @AwaitsFix(bugUrl = "https://github.com/elastic/elasticsearch/issues/32855"), +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/MlClientDocumentationIT.java, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +package org.elasticsearch.client.documentation;, +, +import org.elasticsearch.action.ActionListener;, +import org.elasticsearch.action.LatchedActionListener;, +import org.elasticsearch.client.ESRestHighLevelClientTestCase;, +import org.elasticsearch.client.RequestOptions;, +import org.elasticsearch.client.RestHighLevelClient;, +import org.elasticsearch.common.unit.TimeValue;, +import org.elasticsearch.protocol.xpack.ml.PutJobRequest;, +import org.elasticsearch.protocol.xpack.ml.PutJobResponse;, +import org.elasticsearch.protocol.xpack.ml.job.config.AnalysisConfig;, +import org.elasticsearch.protocol.xpack.ml.job.config.DataDescription;, +import org.elasticsearch.protocol.xpack.ml.job.config.Detector;, +import org.elasticsearch.protocol.xpack.ml.job.config.Job;, +, +import java.util.Collections;, +import java.util.Date;, +import java.util.List;, +import java.util.concurrent.CountDownLatch;, +import java.util.concurrent.TimeUnit;, +, +import static org.hamcrest.Matchers.greaterThan;, +, +public class MlClientDocumentationIT extends ESRestHighLevelClientTestCase {, +, +    public void testCreateJob() throws Exception {, +        RestHighLevelClient client = highLevelClient();, +, +        //tag::x-pack-ml-put-job-detector, +        Detector.Builder detectorBuilder = new Detector.Builder(), +            .setFunction("sum")                                    // <1>, +            .setFieldName("total")                                 // <2>, +            .setDetectorDescription("Sum of total");               // <3>, +        //end::x-pack-ml-put-job-detector, +, +        //tag::x-pack-ml-put-job-analysis-config, +        List<Detector> detectors = Collections.singletonList(detectorBuilder.build());       // <1>, +        AnalysisConfig.Builder analysisConfigBuilder = new AnalysisConfig.Builder(detectors) // <2>, +            .setBucketSpan(TimeValue.timeValueMinutes(10));                                  // <3>, +        //end::x-pack-ml-put-job-analysis-config, +]