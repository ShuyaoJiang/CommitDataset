[+++ b/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java, +import org.elasticsearch.common.collect.HppcMaps;, +++ b/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java, +import org.elasticsearch.common.collect.HppcMaps;, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +import com.google.common.collect.ImmutableList;, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +    private ImmutableOpenMap<String, List<AliasMetaData>> aliases = ImmutableOpenMap.of();, +    public GetAliasesResponse(ImmutableOpenMap<String, List<AliasMetaData>> aliases) {, +    public ImmutableOpenMap<String, List<AliasMetaData>> getAliases() {, +        ImmutableOpenMap.Builder<String, List<AliasMetaData>> aliasesBuilder = ImmutableOpenMap.builder();, +            aliasesBuilder.put(key, ImmutableList.copyOf(value));, +        aliases = aliasesBuilder.build();, +        for (ObjectObjectCursor<String, List<AliasMetaData>> entry : aliases) {, +            out.writeString(entry.key);, +            out.writeVInt(entry.value.size());, +            for (AliasMetaData aliasMetaData : entry.value) {, +++ b/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java, +import org.elasticsearch.common.collect.HppcMaps;, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +import com.google.common.collect.ImmutableList;, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +    private ImmutableOpenMap<String, List<AliasMetaData>> aliases = ImmutableOpenMap.of();, +    public GetAliasesResponse(ImmutableOpenMap<String, List<AliasMetaData>> aliases) {, +    public ImmutableOpenMap<String, List<AliasMetaData>> getAliases() {, +        ImmutableOpenMap.Builder<String, List<AliasMetaData>> aliasesBuilder = ImmutableOpenMap.builder();, +            aliasesBuilder.put(key, ImmutableList.copyOf(value));, +        aliases = aliasesBuilder.build();, +        for (ObjectObjectCursor<String, List<AliasMetaData>> entry : aliases) {, +            out.writeString(entry.key);, +            out.writeVInt(entry.value.size());, +            for (AliasMetaData aliasMetaData : entry.value) {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +        ImmutableOpenMap<String, List<AliasMetaData>> result = (ImmutableOpenMap) state.metaData().findAliases(request.aliases(), request.indices());, +++ b/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java, +import org.elasticsearch.common.collect.HppcMaps;, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +import com.google.common.collect.ImmutableList;, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +    private ImmutableOpenMap<String, List<AliasMetaData>> aliases = ImmutableOpenMap.of();, +    public GetAliasesResponse(ImmutableOpenMap<String, List<AliasMetaData>> aliases) {, +    public ImmutableOpenMap<String, List<AliasMetaData>> getAliases() {, +        ImmutableOpenMap.Builder<String, List<AliasMetaData>> aliasesBuilder = ImmutableOpenMap.builder();, +            aliasesBuilder.put(key, ImmutableList.copyOf(value));, +        aliases = aliasesBuilder.build();, +        for (ObjectObjectCursor<String, List<AliasMetaData>> entry : aliases) {, +            out.writeString(entry.key);, +            out.writeVInt(entry.value.size());, +            for (AliasMetaData aliasMetaData : entry.value) {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +        ImmutableOpenMap<String, List<AliasMetaData>> result = (ImmutableOpenMap) state.metaData().findAliases(request.aliases(), request.indices());, +++ b/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +            ImmutableOpenMap<String, MappingMetaData> mappings = state.metaData().getIndices().get(concreteIndex).mappings();, +++ b/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java, +import org.elasticsearch.common.collect.HppcMaps;, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +import com.google.common.collect.ImmutableList;, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +    private ImmutableOpenMap<String, List<AliasMetaData>> aliases = ImmutableOpenMap.of();, +    public GetAliasesResponse(ImmutableOpenMap<String, List<AliasMetaData>> aliases) {, +    public ImmutableOpenMap<String, List<AliasMetaData>> getAliases() {, +        ImmutableOpenMap.Builder<String, List<AliasMetaData>> aliasesBuilder = ImmutableOpenMap.builder();, +            aliasesBuilder.put(key, ImmutableList.copyOf(value));, +        aliases = aliasesBuilder.build();, +        for (ObjectObjectCursor<String, List<AliasMetaData>> entry : aliases) {, +            out.writeString(entry.key);, +            out.writeVInt(entry.value.size());, +            for (AliasMetaData aliasMetaData : entry.value) {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +        ImmutableOpenMap<String, List<AliasMetaData>> result = (ImmutableOpenMap) state.metaData().findAliases(request.aliases(), request.indices());, +++ b/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +            ImmutableOpenMap<String, MappingMetaData> mappings = state.metaData().getIndices().get(concreteIndex).mappings();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsResponse.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +    private ImmutableOpenMap<String, ImmutableOpenMap<String, MappingMetaData>> mappings = ImmutableOpenMap.of();, +    GetMappingsResponse(ImmutableOpenMap<String, ImmutableOpenMap<String, MappingMetaData>> mappings) {, +    public ImmutableOpenMap<String, ImmutableOpenMap<String, MappingMetaData>> mappings() {, +    public ImmutableOpenMap<String, ImmutableOpenMap<String, MappingMetaData>> getMappings() {, +        ImmutableOpenMap.Builder<String, ImmutableOpenMap<String, MappingMetaData>> indexMapBuilder = ImmutableOpenMap.builder();, +            ImmutableOpenMap.Builder<String, MappingMetaData> typeMapBuilder = ImmutableOpenMap.builder();, +        for (ObjectObjectCursor<String, ImmutableOpenMap<String, MappingMetaData>> indexEntry : mappings) {, +            out.writeString(indexEntry.key);, +            out.writeVInt(indexEntry.value.size());, +            for (ObjectObjectCursor<String, MappingMetaData> typeEntry : indexEntry.value) {, +                out.writeString(typeEntry.key);, +                MappingMetaData.writeTo(typeEntry.value, out);, +++ b/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java, +import org.elasticsearch.common.collect.HppcMaps;, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java, +import com.carrotsearch.hppc.cursors.ObjectObjectCursor;]