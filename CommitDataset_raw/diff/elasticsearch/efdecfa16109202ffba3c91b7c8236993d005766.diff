[+++ b/core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java, +import org.apache.lucene.search.*;, +import org.elasticsearch.index.mapper.Uid;, +        Engine.GetResult getResult = shard.get(new Engine.Get(false, new Term(UidFieldMapper.NAME, Uid.createUid("test", "1"))));, +        assertTrue(getResult.exists());, +        assertNotNull(getResult.searcher());, +        getResult.release();, +        getResult = newShard.get(new Engine.Get(false, new Term(UidFieldMapper.NAME, Uid.createUid("test", "1"))));, +        assertTrue(getResult.exists());, +        assertNotNull(getResult.searcher()); // make sure get uses the wrapped reader, +        assertTrue(getResult.searcher().reader() instanceof FieldMaskingReader);, +        getResult.release();]