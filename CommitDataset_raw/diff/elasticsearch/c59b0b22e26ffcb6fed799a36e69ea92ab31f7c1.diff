[+++ b/bin/elasticsearch, +    JAVA=$(which java), +fi, +, +if [ ! -x "$JAVA" ]; then, +    echo "Could not find any executable java binary. Please install java in your PATH or set JAVA_HOME", +    exit 1, +            echo "Error parsing argument $1!" >&2, +++ b/bin/elasticsearch, +    JAVA=$(which java), +fi, +, +if [ ! -x "$JAVA" ]; then, +    echo "Could not find any executable java binary. Please install java in your PATH or set JAVA_HOME", +    exit 1, +            echo "Error parsing argument $1!" >&2, +++ b/src/deb/control/control, +Maintainer: Elasticsearch Team <info@elasticsearch.com>, +++ b/bin/elasticsearch, +    JAVA=$(which java), +fi, +, +if [ ! -x "$JAVA" ]; then, +    echo "Could not find any executable java binary. Please install java in your PATH or set JAVA_HOME", +    exit 1, +            echo "Error parsing argument $1!" >&2, +++ b/src/deb/control/control, +Maintainer: Elasticsearch Team <info@elasticsearch.com>, +++ b/src/deb/init.d/elasticsearch, +checkJava() {, +	set +e, +	if [ -x "$JAVA_HOME/bin/java" ]; then, +		JAVA="$JAVA_HOME/bin/java", +	else, +		JAVA=$(which java), +	fi, +, +	if [ ! -x "$JAVA" ]; then, +		echo "Could not find any executable java binary. Please install java in your PATH or set JAVA_HOME", +	set -e, +}, +, +case "$1" in, +  start), +	checkJava, +	set +e, +	start-stop-daemon --status --pidfile "$PID_FILE" >/dev/null, +	if [ "$?" != "0" ]; then, +		start-stop-daemon --start -b --user "$ES_USER" -c "$ES_USER" --pidfile "$PID_FILE" --exec $DAEMON -- $DAEMON_OPTS, +		start-stop-daemon --status --pidfile "$PID_FILE" >/dev/null, +		if [ "$?" != "0" ]; then, +	start-stop-daemon --status --pidfile "$PID_FILE" >/dev/null 2>&1, +	if [ "$?" != "0" ]; then, +++ b/bin/elasticsearch, +    JAVA=$(which java), +fi, +, +if [ ! -x "$JAVA" ]; then, +    echo "Could not find any executable java binary. Please install java in your PATH or set JAVA_HOME", +    exit 1, +            echo "Error parsing argument $1!" >&2, +++ b/src/deb/control/control, +Maintainer: Elasticsearch Team <info@elasticsearch.com>, +++ b/src/deb/init.d/elasticsearch, +checkJava() {, +	set +e, +	if [ -x "$JAVA_HOME/bin/java" ]; then, +		JAVA="$JAVA_HOME/bin/java", +	else, +		JAVA=$(which java), +	fi, +, +	if [ ! -x "$JAVA" ]; then, +		echo "Could not find any executable java binary. Please install java in your PATH or set JAVA_HOME", +	set -e, +}, +, +case "$1" in, +  start), +	checkJava, +	set +e, +	start-stop-daemon --status --pidfile "$PID_FILE" >/dev/null, +	if [ "$?" != "0" ]; then, +		start-stop-daemon --start -b --user "$ES_USER" -c "$ES_USER" --pidfile "$PID_FILE" --exec $DAEMON -- $DAEMON_OPTS, +		start-stop-daemon --status --pidfile "$PID_FILE" >/dev/null, +		if [ "$?" != "0" ]; then, +	start-stop-daemon --status --pidfile "$PID_FILE" >/dev/null 2>&1, +	if [ "$?" != "0" ]; then, +++ b/src/rpm/init.d/elasticsearch, +checkJava() {, +	set +e, +    if [ -x "$JAVA_HOME/bin/java" ]; then, +        JAVA="$JAVA_HOME/bin/java", +    else, +        JAVA=$(which java), +    fi, +, +    if [ ! -x "$JAVA" ]; then, +        echo "Could not find any executable java binary. Please install java in your PATH or set JAVA_HOME", +        exit 1]