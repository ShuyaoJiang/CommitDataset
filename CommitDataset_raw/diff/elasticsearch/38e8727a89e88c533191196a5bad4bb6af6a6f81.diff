[+++ b/src/main/java/org/elasticsearch/plugins/PluginManager.java, +        File binFile = new File(extractLocation, "bin");, +        if (binFile.exists() && binFile.isDirectory()) {, +            File toLocation = new File(new File(environment.homeFile(), "bin"), name);, +            System.out.println("Found bin, moving to " + toLocation.getAbsolutePath());, +            FileSystemUtils.deleteRecursively(toLocation);, +            binFile.renameTo(toLocation);, +        }, +, +        File binLocation = new File(new File(environment.homeFile(), "bin"), name);, +        if (binLocation.exists()) {, +            FileSystemUtils.deleteRecursively(binLocation);, +        }, +++ b/src/main/java/org/elasticsearch/plugins/PluginManager.java, +        File binFile = new File(extractLocation, "bin");, +        if (binFile.exists() && binFile.isDirectory()) {, +            File toLocation = new File(new File(environment.homeFile(), "bin"), name);, +            System.out.println("Found bin, moving to " + toLocation.getAbsolutePath());, +            FileSystemUtils.deleteRecursively(toLocation);, +            binFile.renameTo(toLocation);, +        }, +, +        File binLocation = new File(new File(environment.homeFile(), "bin"), name);, +        if (binLocation.exists()) {, +            FileSystemUtils.deleteRecursively(binLocation);, +        }, +++ b/src/main/java/org/elasticsearch/plugins/PluginsService.java, +                    // gather files to add, +                    List<File> libFiles = Lists.newArrayList();, +                    libFiles.addAll(Arrays.asList(pluginsFile.listFiles()));, +                    File libLocation = new File(pluginFile, "lib");, +                    if (libLocation.exists() && libLocation.isDirectory()) {, +                        libFiles.addAll(Arrays.asList(libLocation.listFiles()));, +                    }, +, +                    for (File jarToAdd : libFiles) {]