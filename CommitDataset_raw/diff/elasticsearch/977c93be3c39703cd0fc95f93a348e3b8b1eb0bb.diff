[+++ b/core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java, +        final RandomIndexWriter w = new RandomIndexWriter(getRandom(), dir);, +++ b/core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java, +        final RandomIndexWriter w = new RandomIndexWriter(getRandom(), dir);, +++ b/core/src/test/java/org/elasticsearch/ESExceptionTests.java, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), t);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), ex);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), e);, +++ b/core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java, +        final RandomIndexWriter w = new RandomIndexWriter(getRandom(), dir);, +++ b/core/src/test/java/org/elasticsearch/ESExceptionTests.java, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), t);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), ex);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), e);, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java, +                        RandomPicks.randomFrom(getRandom(), ByteSizeUnit.values()))), +++ b/core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java, +        final RandomIndexWriter w = new RandomIndexWriter(getRandom(), dir);, +++ b/core/src/test/java/org/elasticsearch/ESExceptionTests.java, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), t);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), ex);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), e);, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java, +                        RandomPicks.randomFrom(getRandom(), ByteSizeUnit.values()))), +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java, +        String index = randomSimpleString(getRandom(), 10);, +++ b/core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java, +        final RandomIndexWriter w = new RandomIndexWriter(getRandom(), dir);, +++ b/core/src/test/java/org/elasticsearch/ESExceptionTests.java, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), t);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), ex);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), e);, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java, +                        RandomPicks.randomFrom(getRandom(), ByteSizeUnit.values()))), +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java, +        String index = randomSimpleString(getRandom(), 10);, +++ b/core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java, +                input = TestUtil.randomAnalysisString(getRandom(), 100, false);, +        PreBuiltAnalyzers preBuiltAnalyzers = RandomPicks.randomFrom(getRandom(), PreBuiltAnalyzers.values());, +++ b/core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java, +        final RandomIndexWriter w = new RandomIndexWriter(getRandom(), dir);, +++ b/core/src/test/java/org/elasticsearch/ESExceptionTests.java, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), t);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), ex);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), e);, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java, +                        RandomPicks.randomFrom(getRandom(), ByteSizeUnit.values()))), +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java, +        String index = randomSimpleString(getRandom(), 10);, +++ b/core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java, +                input = TestUtil.randomAnalysisString(getRandom(), 100, false);, +        PreBuiltAnalyzers preBuiltAnalyzers = RandomPicks.randomFrom(getRandom(), PreBuiltAnalyzers.values());, +++ b/core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java, +            docs[i] = client().prepareIndex(indexForDoc[i] = RandomPicks.randomFrom(getRandom(), indices), "type1", String.valueOf(i)).setSource("field1", English.intToEnglish(i), "num_int", randomInt(), "num_double", randomDouble());, +++ b/core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java, +        final RandomIndexWriter w = new RandomIndexWriter(getRandom(), dir);, +++ b/core/src/test/java/org/elasticsearch/ESExceptionTests.java, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), t);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), ex);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), e);, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java, +                        RandomPicks.randomFrom(getRandom(), ByteSizeUnit.values()))), +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java, +        String index = randomSimpleString(getRandom(), 10);, +++ b/core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java, +                input = TestUtil.randomAnalysisString(getRandom(), 100, false);, +        PreBuiltAnalyzers preBuiltAnalyzers = RandomPicks.randomFrom(getRandom(), PreBuiltAnalyzers.values());, +++ b/core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java, +            docs[i] = client().prepareIndex(indexForDoc[i] = RandomPicks.randomFrom(getRandom(), indices), "type1", String.valueOf(i)).setSource("field1", English.intToEnglish(i), "num_int", randomInt(), "num_double", randomDouble());, +++ b/core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java, +            transport = new FailAndRetryMockTransport<TestResponse>(getRandom()) {, +++ b/core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java, +        final RandomIndexWriter w = new RandomIndexWriter(getRandom(), dir);, +++ b/core/src/test/java/org/elasticsearch/ESExceptionTests.java, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), t);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), ex);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), e);, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java, +                        RandomPicks.randomFrom(getRandom(), ByteSizeUnit.values()))), +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java, +        String index = randomSimpleString(getRandom(), 10);, +++ b/core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java, +                input = TestUtil.randomAnalysisString(getRandom(), 100, false);, +        PreBuiltAnalyzers preBuiltAnalyzers = RandomPicks.randomFrom(getRandom(), PreBuiltAnalyzers.values());, +++ b/core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java, +            docs[i] = client().prepareIndex(indexForDoc[i] = RandomPicks.randomFrom(getRandom(), indices), "type1", String.valueOf(i)).setSource("field1", English.intToEnglish(i), "num_int", randomInt(), "num_double", randomDouble());, +++ b/core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java, +            transport = new FailAndRetryMockTransport<TestResponse>(getRandom()) {, +++ b/core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java, +                setRandomIndexSettings(getRandom(), settingsBuilder);, +        return prefix + Strings.randomBase64UUID(getRandom());, +++ b/core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java, +        final RandomIndexWriter w = new RandomIndexWriter(getRandom(), dir);, +++ b/core/src/test/java/org/elasticsearch/ESExceptionTests.java, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), t);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), ex);, +            ElasticsearchAssertions.assertVersionSerializable(VersionUtils.randomVersion(getRandom()), e);, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java, +                        RandomPicks.randomFrom(getRandom(), ByteSizeUnit.values()))), +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java]