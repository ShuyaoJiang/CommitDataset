[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/ObjectMapper.java, +    private void serializeObject(final ParseContext context, String currentFieldName) throws IOException {, +                        // we need to traverse in case we have a dynamic template and need to add field mappers, +                        // introduced by it, +                        objectMapper.traverse(new FieldMapperListener() {, +                            @Override public void fieldMapper(FieldMapper fieldMapper) {, +                                context.docMapper().addFieldMapper(fieldMapper);, +                            }, +                        });, +]