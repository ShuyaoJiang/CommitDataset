[+++ b/modules/transport-netty4/src/main/java/org/elasticsearch/transport/netty4/ByteBufStreamInput.java, + * A Netty {@link ByteBuf} based {@link StreamInput}., +    public short readShort() throws IOException {, +        try {, +            return buffer.readShort();, +        } catch (IndexOutOfBoundsException ex) {, +            EOFException eofException = new EOFException();, +            eofException.initCause(ex);, +            throw eofException;, +        }, +    }, +, +    @Override, +    public int readInt() throws IOException {, +        try {, +            return buffer.readInt();, +        } catch (IndexOutOfBoundsException ex) {, +            EOFException eofException = new EOFException();, +            eofException.initCause(ex);, +            throw eofException;, +        }, +    }, +, +    @Override, +    public long readLong() throws IOException {, +        try {, +            return buffer.readLong();, +        } catch (IndexOutOfBoundsException ex) {, +            EOFException eofException = new EOFException();, +            eofException.initCause(ex);, +            throw eofException;, +        }, +    }, +, +    @Override, +++ b/modules/transport-netty4/src/main/java/org/elasticsearch/transport/netty4/ByteBufStreamInput.java, + * A Netty {@link ByteBuf} based {@link StreamInput}., +    public short readShort() throws IOException {, +        try {, +            return buffer.readShort();, +        } catch (IndexOutOfBoundsException ex) {, +            EOFException eofException = new EOFException();, +            eofException.initCause(ex);, +            throw eofException;, +        }, +    }, +, +    @Override, +    public int readInt() throws IOException {, +        try {, +            return buffer.readInt();, +        } catch (IndexOutOfBoundsException ex) {, +            EOFException eofException = new EOFException();, +            eofException.initCause(ex);, +            throw eofException;, +        }, +    }, +, +    @Override, +    public long readLong() throws IOException {, +        try {, +            return buffer.readLong();, +        } catch (IndexOutOfBoundsException ex) {, +            EOFException eofException = new EOFException();, +            eofException.initCause(ex);, +            throw eofException;, +        }, +    }, +, +    @Override, +++ b/plugins/transport-nio/src/main/java/org/elasticsearch/http/nio/ByteBufUtils.java, +        public short readShort() throws IOException {, +            try {, +                return buffer.readShort();, +            } catch (IndexOutOfBoundsException ex) {, +                EOFException eofException = new EOFException();, +                eofException.initCause(ex);, +                throw eofException;, +            }, +        }, +, +        @Override, +        public int readInt() throws IOException {, +            try {, +                return buffer.readInt();, +            } catch (IndexOutOfBoundsException ex) {, +                EOFException eofException = new EOFException();, +                eofException.initCause(ex);, +                throw eofException;, +            }, +        }, +, +        @Override, +        public long readLong() throws IOException {, +            try {, +                return buffer.readLong();, +            } catch (IndexOutOfBoundsException ex) {, +                EOFException eofException = new EOFException();, +                eofException.initCause(ex);, +                throw eofException;]