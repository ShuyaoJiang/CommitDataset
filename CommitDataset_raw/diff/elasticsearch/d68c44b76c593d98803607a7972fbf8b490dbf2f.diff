[+++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IndicesClientIT.java, +        Settings targetSettings =, +                Settings.builder(), +                        .put("index.number_of_shards", 2), +                        .put("index.number_of_replicas", 0), +                        .putNull("index.routing.allocation.require._name"), +                        .build();, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IndicesClientIT.java, +        Settings targetSettings =, +                Settings.builder(), +                        .put("index.number_of_shards", 2), +                        .put("index.number_of_replicas", 0), +                        .putNull("index.routing.allocation.require._name"), +                        .build();, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java, +                .put("index.number_of_shards", 2) // <1>, +                .putNull("index.routing.allocation.require._name")); // <2>, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IndicesClientIT.java, +        Settings targetSettings =, +                Settings.builder(), +                        .put("index.number_of_shards", 2), +                        .put("index.number_of_replicas", 0), +                        .putNull("index.routing.allocation.require._name"), +                        .build();, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java, +                .put("index.number_of_shards", 2) // <1>, +                .putNull("index.routing.allocation.require._name")); // <2>, +++ b/docs/java-rest/high-level/indices/shrink_index.asciidoc, +<1> The number of shards on the target of the shrink index request, +<2> Remove the allocation requirement copied from the source index, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IndicesClientIT.java, +        Settings targetSettings =, +                Settings.builder(), +                        .put("index.number_of_shards", 2), +                        .put("index.number_of_replicas", 0), +                        .putNull("index.routing.allocation.require._name"), +                        .build();, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java, +                .put("index.number_of_shards", 2) // <1>, +                .putNull("index.routing.allocation.require._name")); // <2>, +++ b/docs/java-rest/high-level/indices/shrink_index.asciidoc, +<1> The number of shards on the target of the shrink index request, +<2> Remove the allocation requirement copied from the source index, +++ b/docs/reference/indices/shrink-index.asciidoc, +POST my_source_index/_shrink/my_target_index, +POST my_source_index/_shrink/my_target_index, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IndicesClientIT.java, +        Settings targetSettings =, +                Settings.builder(), +                        .put("index.number_of_shards", 2), +                        .put("index.number_of_replicas", 0), +                        .putNull("index.routing.allocation.require._name"), +                        .build();, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java, +                .put("index.number_of_shards", 2) // <1>, +                .putNull("index.routing.allocation.require._name")); // <2>, +++ b/docs/java-rest/high-level/indices/shrink_index.asciidoc, +<1> The number of shards on the target of the shrink index request, +<2> Remove the allocation requirement copied from the source index, +++ b/docs/reference/indices/shrink-index.asciidoc, +POST my_source_index/_shrink/my_target_index, +POST my_source_index/_shrink/my_target_index, +++ b/docs/reference/indices/split-index.asciidoc, +POST my_source_index/_split/my_target_index, +POST my_source_index/_split/my_target_index, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IndicesClientIT.java, +        Settings targetSettings =, +                Settings.builder(), +                        .put("index.number_of_shards", 2), +                        .put("index.number_of_replicas", 0), +                        .putNull("index.routing.allocation.require._name"), +                        .build();, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java, +                .put("index.number_of_shards", 2) // <1>, +                .putNull("index.routing.allocation.require._name")); // <2>, +++ b/docs/java-rest/high-level/indices/shrink_index.asciidoc, +<1> The number of shards on the target of the shrink index request, +<2> Remove the allocation requirement copied from the source index, +++ b/docs/reference/indices/shrink-index.asciidoc, +POST my_source_index/_shrink/my_target_index, +POST my_source_index/_shrink/my_target_index, +++ b/docs/reference/indices/split-index.asciidoc, +POST my_source_index/_split/my_target_index, +POST my_source_index/_split/my_target_index, +++ b/docs/reference/migration/migrate_7_0/api.asciidoc, +, +==== `copy_settings` is deprecated on shrink and split APIs, +, +Versions of Elasticsearch prior to 6.4.0 did not copy index settings on shrink, +and split operations. Starting with Elasticsearch 7.0.0, the default behavior, +will be for such settings to be copied on such operations. To enable users in, +6.4.0 to transition in 6.4.0 to the default behavior in 7.0.0, the, +`copy_settings` parameter was added on the REST layer. As this behavior will be, +the only behavior in 8.0.0, this parameter is deprecated in 7.0.0 for removal in, +8.0.0., +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IndicesClientIT.java, +        Settings targetSettings =, +                Settings.builder(), +                        .put("index.number_of_shards", 2), +                        .put("index.number_of_replicas", 0)]