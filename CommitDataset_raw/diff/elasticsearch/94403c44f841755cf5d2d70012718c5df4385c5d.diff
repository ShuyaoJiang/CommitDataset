[+++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +    public List<PipelineAggregator> createPipelineAggregators() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +    public List<PipelineAggregator> createPipelineAggregators() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java, +    protected abstract PipelineAggregator create();, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +    public List<PipelineAggregator> createPipelineAggregators() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java, +    protected abstract PipelineAggregator create();, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +    public final PipelineAggregator create() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +    public List<PipelineAggregator> createPipelineAggregators() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java, +    protected abstract PipelineAggregator create();, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +    public final PipelineAggregator create() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +    public List<PipelineAggregator> createPipelineAggregators() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java, +    protected abstract PipelineAggregator create();, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +    public final PipelineAggregator create() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketMetricsPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +    public List<PipelineAggregator> createPipelineAggregators() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java, +    protected abstract PipelineAggregator create();, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +    public final PipelineAggregator create() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketMetricsPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +    public List<PipelineAggregator> createPipelineAggregators() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java, +    protected abstract PipelineAggregator create();, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +    public final PipelineAggregator create() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketMetricsPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketSelectorPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +    public List<PipelineAggregator> createPipelineAggregators() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java, +    protected abstract PipelineAggregator create();, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +    public final PipelineAggregator create() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketMetricsPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketSelectorPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketSortPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +    public List<PipelineAggregator> createPipelineAggregators() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java, +    protected abstract PipelineAggregator create();, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +    public final PipelineAggregator create() {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketPipelineAggregationBuilder.java, +    protected PipelineAggregator createInternal(Map<String, Object> metaData) {, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketMetricsPipelineAggregationBuilder.java, +    protected abstract PipelineAggregator createInternal(Map<String, Object> metaData);, +++ b/server/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptPipelineAggregationBuilder.java]