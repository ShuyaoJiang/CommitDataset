[+++ b/docs/reference/cluster/nodes-stats.asciidoc, +++ b/docs/reference/cluster/nodes-stats.asciidoc, +++ b/server/src/main/java/org/elasticsearch/rest/action/admin/cluster/RestNodesStatsAction.java, +                            if ("suggest".equals(indexMetric)) {, +                                deprecationLogger.deprecated(, +                                        "the suggest index metric is deprecated on the nodes stats API [" + request.uri() + "]");, +                            }, +++ b/docs/reference/cluster/nodes-stats.asciidoc, +++ b/server/src/main/java/org/elasticsearch/rest/action/admin/cluster/RestNodesStatsAction.java, +                            if ("suggest".equals(indexMetric)) {, +                                deprecationLogger.deprecated(, +                                        "the suggest index metric is deprecated on the nodes stats API [" + request.uri() + "]");, +                            }, +++ b/server/src/main/java/org/elasticsearch/rest/action/admin/indices/RestIndicesStatsAction.java, +                    if ("suggest".equals(metric)) {, +                        deprecationLogger.deprecated("the suggest metric is deprecated on the indices stats API [" + request.uri() + "]");, +                    }, +++ b/docs/reference/cluster/nodes-stats.asciidoc, +++ b/server/src/main/java/org/elasticsearch/rest/action/admin/cluster/RestNodesStatsAction.java, +                            if ("suggest".equals(indexMetric)) {, +                                deprecationLogger.deprecated(, +                                        "the suggest index metric is deprecated on the nodes stats API [" + request.uri() + "]");, +                            }, +++ b/server/src/main/java/org/elasticsearch/rest/action/admin/indices/RestIndicesStatsAction.java, +                    if ("suggest".equals(metric)) {, +                        deprecationLogger.deprecated("the suggest metric is deprecated on the indices stats API [" + request.uri() + "]");, +                    }, +++ b/server/src/test/java/org/elasticsearch/rest/action/admin/cluster/RestNodesStatsActionTests.java, +import org.elasticsearch.common.collect.Tuple;, +import java.util.Map;, +import java.util.stream.Collectors;, +import java.util.stream.Stream;, +    public void testSuggestIsDeprecated() throws IOException {, +        final Map<String, String> params =, +                Stream.of(Tuple.tuple("metric", "indices"), Tuple.tuple("index_metric", "suggest")), +                        .collect(Collectors.toMap(Tuple::v1, Tuple::v2));, +        final RestRequest request =, +                new FakeRestRequest.Builder(xContentRegistry()).withPath("/_nodes/stats").withParams(params).build();, +        action.prepareRequest(request, mock(NodeClient.class));, +        assertWarnings("the suggest index metric is deprecated on the nodes stats API [/_nodes/stats]" );, +    }, +, +++ b/docs/reference/cluster/nodes-stats.asciidoc, +++ b/server/src/main/java/org/elasticsearch/rest/action/admin/cluster/RestNodesStatsAction.java, +                            if ("suggest".equals(indexMetric)) {, +                                deprecationLogger.deprecated(, +                                        "the suggest index metric is deprecated on the nodes stats API [" + request.uri() + "]");, +                            }, +++ b/server/src/main/java/org/elasticsearch/rest/action/admin/indices/RestIndicesStatsAction.java, +                    if ("suggest".equals(metric)) {, +                        deprecationLogger.deprecated("the suggest metric is deprecated on the indices stats API [" + request.uri() + "]");, +                    }, +++ b/server/src/test/java/org/elasticsearch/rest/action/admin/cluster/RestNodesStatsActionTests.java, +import org.elasticsearch.common.collect.Tuple;, +import java.util.Map;, +import java.util.stream.Collectors;, +import java.util.stream.Stream;, +    public void testSuggestIsDeprecated() throws IOException {, +        final Map<String, String> params =, +                Stream.of(Tuple.tuple("metric", "indices"), Tuple.tuple("index_metric", "suggest")), +                        .collect(Collectors.toMap(Tuple::v1, Tuple::v2));, +        final RestRequest request =, +                new FakeRestRequest.Builder(xContentRegistry()).withPath("/_nodes/stats").withParams(params).build();, +        action.prepareRequest(request, mock(NodeClient.class));, +        assertWarnings("the suggest index metric is deprecated on the nodes stats API [/_nodes/stats]" );, +    }, +, +++ b/server/src/test/java/org/elasticsearch/rest/action/admin/indices/RestIndicesStatsActionTests.java, +import java.util.Map;, +    public void testSuggestIsDeprecated() throws IOException {, +        final Map<String, String> params = Collections.singletonMap("metric", "suggest");, +        final RestRequest request = new FakeRestRequest.Builder(xContentRegistry()).withPath("/_stats").withParams(params).build();, +        action.prepareRequest(request, mock(NodeClient.class));, +        assertWarnings("the suggest metric is deprecated on the indices stats API [/_stats]");, +    }, +]