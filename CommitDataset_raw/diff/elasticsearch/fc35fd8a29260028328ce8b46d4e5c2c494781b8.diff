[+++ b/src/main/java/org/elasticsearch/index/mapper/internal/AnalyzerMapper.java, +import org.apache.lucene.index.IndexableField;, +import java.util.List;, +        this.path = path.intern();, +            String value = null;, +            List<IndexableField> fields = context.doc().getFields();, +            for (int i = 0, fieldsSize = fields.size(); i < fieldsSize; i++) {, +                IndexableField field = fields.get(i);, +                if (field.name() == path) {, +                    value = field.stringValue();, +                    break;, +                }, +            }]