[+++ b/core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +        public boolean flyweight() {, +            return in.flyweight();, +        }, +, +        @Override, +        public boolean flyweight() {, +            return sourceToParse.flyweight();, +        }, +, +        @Override, +    public abstract boolean flyweight();, +, +++ b/core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +        public boolean flyweight() {, +            return in.flyweight();, +        }, +, +        @Override, +        public boolean flyweight() {, +            return sourceToParse.flyweight();, +        }, +, +        @Override, +    public abstract boolean flyweight();, +, +++ b/core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java, +    private boolean flyweight = false;, +, +    public SourceToParse flyweight(boolean flyweight) {, +        this.flyweight = flyweight;, +        return this;, +    }, +, +    public boolean flyweight() {, +        return this.flyweight;, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +        public boolean flyweight() {, +            return in.flyweight();, +        }, +, +        @Override, +        public boolean flyweight() {, +            return sourceToParse.flyweight();, +        }, +, +        @Override, +    public abstract boolean flyweight();, +, +++ b/core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java, +    private boolean flyweight = false;, +, +    public SourceToParse flyweight(boolean flyweight) {, +        this.flyweight = flyweight;, +        return this;, +    }, +, +    public boolean flyweight() {, +        return this.flyweight;, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java, +        if (context.id() == null && !context.sourceToParse().flyweight()) {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +        public boolean flyweight() {, +            return in.flyweight();, +        }, +, +        @Override, +        public boolean flyweight() {, +            return sourceToParse.flyweight();, +        }, +, +        @Override, +    public abstract boolean flyweight();, +, +++ b/core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java, +    private boolean flyweight = false;, +, +    public SourceToParse flyweight(boolean flyweight) {, +        this.flyweight = flyweight;, +        return this;, +    }, +, +    public boolean flyweight() {, +        return this.flyweight;, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java, +        if (context.id() == null && !context.sourceToParse().flyweight()) {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java, +        if (context.sourceToParse().flyweight() == false) {, +    }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +        public boolean flyweight() {, +            return in.flyweight();, +        }, +]