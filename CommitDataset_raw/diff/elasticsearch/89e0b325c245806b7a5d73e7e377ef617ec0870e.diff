[+++ b/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java, +                    removeIndex(index, "cleaning index (disabled block persistence)");, +                removeIndex(index, "removing index (no shards allocated)");, +                removeIndex(index, "index no longer part of the metadata");, +    private void removeIndex(String index, String reason) {, +        try {, +            indicesService.removeIndex(index, reason);, +        } catch (Throwable e) {, +            logger.warn("failed to clean index ({})", e, reason);, +        }, +        // clear seen mappings as well, +        for (Tuple<String, String> tuple : seenMappings.keySet()) {, +            if (tuple.v1().equals(index)) {, +                seenMappings.remove(tuple);, +            }, +        }, +    }, +]