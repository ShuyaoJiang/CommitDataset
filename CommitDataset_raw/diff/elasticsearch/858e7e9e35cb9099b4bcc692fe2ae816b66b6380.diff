[+++ b/src/main/java/org/elasticsearch/shield/authc/esusers/FileUserPasswdStore.java, +        ImmutableMap<String, char[]> usersMap = users.build();, +        if (logger != null && usersMap.isEmpty()){, +            logger.warn("No users found in file [" + path.toAbsolutePath() + "].  Use bin/shield/esusers to add users and role mappings");, +        }, +        return usersMap;, +++ b/src/main/java/org/elasticsearch/shield/authc/esusers/FileUserPasswdStore.java, +        ImmutableMap<String, char[]> usersMap = users.build();, +        if (logger != null && usersMap.isEmpty()){, +            logger.warn("No users found in file [" + path.toAbsolutePath() + "].  Use bin/shield/esusers to add users and role mappings");, +        }, +        return usersMap;, +++ b/src/test/java/org/elasticsearch/shield/authc/esusers/FileUserPasswdStoreTests.java, +import org.elasticsearch.common.logging.ESLogger;, +import org.elasticsearch.common.logging.ESLoggerFactory;, +import static org.mockito.Mockito.*;, +, +    @Test, +    public void testParseEmptyFile() throws Exception {, +        File empty = this.tempFolder.newFile();, +        Path path = Paths.get(getClass().getResource("users").toURI());, +        ESLogger log = ESLoggerFactory.getLogger("test");, +        log = spy(log);, +        Map<String, char[]> users = FileUserPasswdStore.parseFile(empty.toPath(), log);, +, +        verify(log, times(1)).warn(contains("No users found"));, +    }]