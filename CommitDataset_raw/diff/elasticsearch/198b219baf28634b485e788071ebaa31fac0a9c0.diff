[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java, +                    if (!boolBuilder.hasClauses()) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java, +                    if (!boolBuilder.hasClauses()) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/query/xcontent/BoolQueryBuilder.java, +    private ArrayList<XContentQueryBuilder> mustClauses = new ArrayList<XContentQueryBuilder>();, +    private ArrayList<XContentQueryBuilder> mustNotClauses = new ArrayList<XContentQueryBuilder>();, +    private ArrayList<XContentQueryBuilder> shouldClauses = new ArrayList<XContentQueryBuilder>();, +        mustClauses.add(queryBuilder);, +        mustNotClauses.add(queryBuilder);, +        shouldClauses.add(queryBuilder);, +     * Return <code>true</code> if the query being built has no clause yet, +    public boolean hasClauses() {, +        return !mustClauses.isEmpty() || !mustNotClauses.isEmpty() || !shouldClauses.isEmpty();, +    private void doXArrayContent(String field, List<XContentQueryBuilder> clauses, XContentBuilder builder, Params params) throws IOException {, +            clauses.get(0).toXContent(builder, params);, +            for (XContentQueryBuilder clause : clauses) {, +                clause.toXContent(builder, params);]