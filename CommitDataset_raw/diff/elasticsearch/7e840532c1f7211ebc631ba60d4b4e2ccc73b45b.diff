[+++ b/core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java, +    private SpatialStrategy strategy;, +        if (in.readBoolean()) {, +        }, +        if (strategy == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +    }, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java, +    private SpatialStrategy strategy;, +        if (in.readBoolean()) {, +        }, +        if (strategy == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +    }, +++ b/core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java, +        if (randomBoolean()) {, +        }, +        return new GetResponse(new GetResult(indexedShapeIndex, indexedShapeType, indexedShapeId, 0, true, new BytesArray(json), null));, +            new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, (ShapeBuilder) null);, +        new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, null, "type");, +        new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, "id", null);, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java, +    private SpatialStrategy strategy;, +        if (in.readBoolean()) {, +        }, +        if (strategy == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +    }, +++ b/core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java, +        if (randomBoolean()) {, +        }, +        return new GetResponse(new GetResult(indexedShapeIndex, indexedShapeType, indexedShapeId, 0, true, new BytesArray(json), null));, +            new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, (ShapeBuilder) null);, +        new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, null, "type");, +        new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, "id", null);, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.get_field_mapping/10_basic.yaml, +        field: text, +        field: text, +        field: text, +        field: [ text , text1 ], +        field: text, +"Get field mapping should work without index specifying type and field": , +        field: text, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java, +    private SpatialStrategy strategy;, +        if (in.readBoolean()) {, +        }, +        if (strategy == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +    }, +++ b/core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java, +        if (randomBoolean()) {, +        }, +        return new GetResponse(new GetResult(indexedShapeIndex, indexedShapeType, indexedShapeId, 0, true, new BytesArray(json), null));, +            new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, (ShapeBuilder) null);, +        new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, null, "type");, +        new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, "id", null);, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.get_field_mapping/10_basic.yaml, +        field: text, +        field: text, +        field: text, +        field: [ text , text1 ], +        field: text, +"Get field mapping should work without index specifying type and field": , +        field: text, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.get_field_mapping/20_missing_field.yaml, +        field: not_existent, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java, +    private SpatialStrategy strategy;, +        if (in.readBoolean()) {, +        }, +        if (strategy == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +    }, +++ b/core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java, +        if (randomBoolean()) {, +        }, +        return new GetResponse(new GetResult(indexedShapeIndex, indexedShapeType, indexedShapeId, 0, true, new BytesArray(json), null));, +            new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, (ShapeBuilder) null);, +        new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, null, "type");, +        new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME, "id", null);, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.get_field_mapping/10_basic.yaml, +        field: text, +        field: text, +        field: text, +        field: [ text , text1 ], +        field: text, +"Get field mapping should work without index specifying type and field": , +        field: text, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.get_field_mapping/20_missing_field.yaml]