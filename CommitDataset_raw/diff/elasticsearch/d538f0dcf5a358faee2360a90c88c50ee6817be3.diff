[+++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content, XContentType contentType) throws IOException {, +        generator.writeRawField(fieldName, content, bos, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content, XContentType contentType) throws IOException {, +        generator.writeRawField(fieldName, content, bos, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content, XContentType contentType) throws IOException {, +        generator.writeRawField(fieldName, content, bos, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java, +                builder.rawField(field, compressedStreamInput, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content, XContentType contentType) throws IOException {, +        generator.writeRawField(fieldName, content, bos, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java, +                builder.rawField(field, compressedStreamInput, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8));, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8), filters);, +        return new CborXContentGenerator(cborFactory.createGenerator(writer));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content, XContentType contentType) throws IOException {, +        generator.writeRawField(fieldName, content, bos, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java, +                builder.rawField(field, compressedStreamInput, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8));, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8), filters);, +        return new CborXContentGenerator(cborFactory.createGenerator(writer));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java, +import com.fasterxml.jackson.core.JsonGenerator;, +    public CborXContentGenerator(JsonGenerator jsonGenerator, String... filters) {, +        super(jsonGenerator, filters);, +    public void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content, XContentType contentType) throws IOException {, +        generator.writeRawField(fieldName, content, bos, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java, +                builder.rawField(field, compressedStreamInput, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8));, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8), filters);, +        return new CborXContentGenerator(cborFactory.createGenerator(writer));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java, +import com.fasterxml.jackson.core.JsonGenerator;, +    public CborXContentGenerator(JsonGenerator jsonGenerator, String... filters) {, +        super(jsonGenerator, filters);, +    public void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException {, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content, XContentType contentType) throws IOException {, +        generator.writeRawField(fieldName, content, bos, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java, +                builder.rawField(field, compressedStreamInput, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8));, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8), filters);, +        return new CborXContentGenerator(cborFactory.createGenerator(writer));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java, +import com.fasterxml.jackson.core.JsonGenerator;, +    public CborXContentGenerator(JsonGenerator jsonGenerator, String... filters) {, +        super(jsonGenerator, filters);, +    public void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException {, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java, +        return new JsonXContentGenerator(jsonFactory.createGenerator(os, JsonEncoding.UTF8));, +        return new JsonXContentGenerator(jsonFactory.createGenerator(os, JsonEncoding.UTF8), filters);, +        return new JsonXContentGenerator(jsonFactory.createGenerator(writer));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content, XContentType contentType) throws IOException {, +        generator.writeRawField(fieldName, content, bos, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java, +                builder.rawField(field, compressedStreamInput, contentType);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8));, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8), filters);, +        return new CborXContentGenerator(cborFactory.createGenerator(writer));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java, +import com.fasterxml.jackson.core.JsonGenerator;, +    public CborXContentGenerator(JsonGenerator jsonGenerator, String... filters) {, +        super(jsonGenerator, filters);, +    public void writeRawField(String fieldName, InputStream content, OutputStream bos, XContentType contentType) throws IOException {, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java, +        return new JsonXContentGenerator(jsonFactory.createGenerator(os, JsonEncoding.UTF8));, +        return new JsonXContentGenerator(jsonFactory.createGenerator(os, JsonEncoding.UTF8), filters);]