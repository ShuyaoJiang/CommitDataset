[+++ b/src/main/java/org/elasticsearch/index/store/Store.java, +import org.apache.lucene.index.IndexFileNames;, +            // we want to write the segments gen file to the same directory *all* the time, +            // to make sure we don't create multiple copies of it, +            if (isChecksum(name) || IndexFileNames.SEGMENTS_GEN.equals(name)) {, +                        if (IndexFileNames.SEGMENTS_GEN.equals(name) || name.startsWith(IndexFileNames.SEGMENTS)) {, +                if (!name.equals(IndexFileNames.SEGMENTS_GEN) && name.startsWith(IndexFileNames.SEGMENTS)) {]