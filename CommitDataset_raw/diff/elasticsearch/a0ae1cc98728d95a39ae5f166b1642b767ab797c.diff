[+++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +import org.apache.lucene.search.TotalHits;, +                new SearchHit[0], new TotalHits(0L, TotalHits.Relation.EQUAL_TO), 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1),, +            "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY, SearchResponse.Clusters.EMPTY));, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +import org.apache.lucene.search.TotalHits;, +                new SearchHit[0], new TotalHits(0L, TotalHits.Relation.EQUAL_TO), 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1),, +            "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY, SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(2L));, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +import org.apache.lucene.search.TotalHits;, +                new SearchHit[0], new TotalHits(0L, TotalHits.Relation.EQUAL_TO), 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1),, +            "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY, SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(2L));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CrudIT.java, +                highLevelClient().search(new SearchRequest(sourceIndex), RequestOptions.DEFAULT).getHits().getTotalHits().value, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +import org.apache.lucene.search.TotalHits;, +                new SearchHit[0], new TotalHits(0L, TotalHits.Relation.EQUAL_TO), 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1),, +            "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY, SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(2L));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CrudIT.java, +                highLevelClient().search(new SearchRequest(sourceIndex), RequestOptions.DEFAULT).getHits().getTotalHits().value, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +        assertEquals(0, searchResponse.getHits().getTotalHits().value);, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +import org.apache.lucene.search.TotalHits;, +                new SearchHit[0], new TotalHits(0L, TotalHits.Relation.EQUAL_TO), 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1),, +            "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY, SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(2L));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CrudIT.java, +                highLevelClient().search(new SearchRequest(sourceIndex), RequestOptions.DEFAULT).getHits().getTotalHits().value, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +        assertEquals(0, searchResponse.getHits().getTotalHits().value);, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RollupIT.java, +            assertEquals(1L, searchResponse.getHits().getTotalHits().value);, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +import org.apache.lucene.search.TotalHits;, +                new SearchHit[0], new TotalHits(0L, TotalHits.Relation.EQUAL_TO), 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1),, +            "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY, SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(2L));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CrudIT.java, +                highLevelClient().search(new SearchRequest(sourceIndex), RequestOptions.DEFAULT).getHits().getTotalHits().value, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +        assertEquals(0, searchResponse.getHits().getTotalHits().value);, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RollupIT.java, +            assertEquals(1L, searchResponse.getHits().getTotalHits().value);, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/SearchIT.java, +        assertEquals(5, searchResponse.getHits().getTotalHits().value);, +        assertEquals(1, searchResponse.getHits().getTotalHits().value);, +        assertEquals(5, searchResponse.getHits().getTotalHits().value);, +        assertEquals(5, searchResponse.getHits().getTotalHits().value);, +        assertEquals(3, searchResponse.getHits().getTotalHits().value);, +        assertEquals(0, searchResponse.getHits().getTotalHits().value);, +            assertThat(searchResponse.getHits().getTotalHits().value, equalTo(100L));, +            assertThat(searchResponse.getHits().getTotalHits().value, equalTo(100L));, +            assertThat(searchResponse.getHits().getTotalHits().value, equalTo(100L));, +        assertThat(multiSearchResponse.getResponses()[0].getResponse().getHits().getTotalHits().value, Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[1].getResponse().getHits().getTotalHits().value, Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[2].getResponse().getHits().getTotalHits().value, Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[0].getResponse().getHits().getTotalHits().value, Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[1].getResponse().getHits().getTotalHits().value, Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[2].getResponse().getHits().getTotalHits().value, Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[0].getResponse().getHits().getTotalHits().value, Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[1].getResponse().getHits().getTotalHits().value, Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[2].getResponse().getHits().getTotalHits().value, Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[0].getResponse().getHits().getTotalHits().value, Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[1].getResponse().getHits().getTotalHits().value, Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[2].getResponse().getHits().getTotalHits().value, Matchers.equalTo(1L));, +        assertEquals(1, searchResponse.getHits().getTotalHits().value);, +        assertEquals(1, goodResponse.getHits().getTotalHits().value);, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +import org.apache.lucene.search.TotalHits;, +                new SearchHit[0], new TotalHits(0L, TotalHits.Relation.EQUAL_TO), 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1),, +            "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY, SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits().value, equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits().value, equalTo(1L));]