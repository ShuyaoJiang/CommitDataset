[+++ b/server/src/test/java/org/elasticsearch/common/time/DateFormattersTests.java, +import java.time.ZoneOffset;, +        if (locale.equals(Locale.ROOT)) {, +            DateFormatter millisFormatter = DateFormatters.forPattern("epoch_millis");, +            assertThat(millisFormatter.withLocale(locale), is(millisFormatter));, +            DateFormatter secondFormatter = DateFormatters.forPattern("epoch_second");, +            assertThat(secondFormatter.withLocale(locale), is(secondFormatter));, +        } else {, +    }, +        if (zoneId.equals(ZoneOffset.UTC)) {, +            DateFormatter millisFormatter = DateFormatters.forPattern("epoch_millis");, +            assertThat(millisFormatter.withZone(zoneId), is(millisFormatter));, +            DateFormatter secondFormatter = DateFormatters.forPattern("epoch_second");, +            assertThat(secondFormatter.withZone(zoneId), is(secondFormatter));, +        } else {, +    }]