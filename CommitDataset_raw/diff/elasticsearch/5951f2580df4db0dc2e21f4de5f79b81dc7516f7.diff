[+++ b/core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java, +            assertMappingOnMaster("test", "type1", "non_existing");, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java, +            assertMappingOnMaster("test", "type1", "non_existing");, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        assertAcked(client().admin().indices().preparePutMapping("test1", "test2", "test3"), +                .setSource("name", "type=string"));, +        assertAcked(client().admin().indices().preparePutMapping("foobar", "test", "test123", "foobarbaz", "bazbar"), +                .setType("type").setSource("field", "type=string"));, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java, +            assertMappingOnMaster("test", "type1", "non_existing");, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        assertAcked(client().admin().indices().preparePutMapping("test1", "test2", "test3"), +                .setSource("name", "type=string"));, +        assertAcked(client().admin().indices().preparePutMapping("foobar", "test", "test123", "foobarbaz", "bazbar"), +                .setType("type").setSource("field", "type=string"));, +++ b/core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java, +        client().prepareIndex("test", "type1", "1").setSource("field1", "value1").get();, +        client().admin().indices().prepareClose("test").get();, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java, +            assertMappingOnMaster("test", "type1", "non_existing");, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        assertAcked(client().admin().indices().preparePutMapping("test1", "test2", "test3"), +                .setSource("name", "type=string"));, +        assertAcked(client().admin().indices().preparePutMapping("foobar", "test", "test123", "foobarbaz", "bazbar"), +                .setType("type").setSource("field", "type=string"));, +++ b/core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java, +        client().prepareIndex("test", "type1", "1").setSource("field1", "value1").get();, +        client().admin().indices().prepareClose("test").get();, +++ b/core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java, +            assertMappingOnMaster("test", "type1", "non_existing");, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        assertAcked(client().admin().indices().preparePutMapping("test1", "test2", "test3"), +                .setSource("name", "type=string"));, +        assertAcked(client().admin().indices().preparePutMapping("foobar", "test", "test123", "foobarbaz", "bazbar"), +                .setType("type").setSource("field", "type=string"));, +++ b/core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java, +        client().prepareIndex("test", "type1", "1").setSource("field1", "value1").get();, +        client().admin().indices().prepareClose("test").get();, +++ b/core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java, +            assertMappingOnMaster("test", "type1", "non_existing");, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        assertAcked(client().admin().indices().preparePutMapping("test1", "test2", "test3"), +                .setSource("name", "type=string"));, +        assertAcked(client().admin().indices().preparePutMapping("foobar", "test", "test123", "foobarbaz", "bazbar"), +                .setType("type").setSource("field", "type=string"));, +++ b/core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java, +        client().prepareIndex("test", "type1", "1").setSource("field1", "value1").get();, +        client().admin().indices().prepareClose("test").get();, +++ b/core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsTests.java, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java, +            assertMappingOnMaster("test", "type1", "non_existing");, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        assertAcked(client().admin().indices().preparePutMapping("test1", "test2", "test3"), +                .setSource("name", "type=string"));, +        assertAcked(client().admin().indices().preparePutMapping("foobar", "test", "test123", "foobarbaz", "bazbar"), +                .setType("type").setSource("field", "type=string"));, +++ b/core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java, +        client().prepareIndex("test", "type1", "1").setSource("field1", "value1").get();, +        client().admin().indices().prepareClose("test").get();, +++ b/core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java, +import java.util.*;, +            assertConcreteMappingsOnAll("test", type, fieldName);, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java, +            assertMappingOnMaster("test", "type1", "non_existing");, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        assertAcked(client().admin().indices().preparePutMapping("test1", "test2", "test3"), +                .setSource("name", "type=string"));, +        assertAcked(client().admin().indices().preparePutMapping("foobar", "test", "test123", "foobarbaz", "bazbar"), +                .setType("type").setSource("field", "type=string"));, +++ b/core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java, +        client().prepareIndex("test", "type1", "1").setSource("field1", "value1").get();, +        client().admin().indices().prepareClose("test").get();, +++ b/core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java, +import java.util.*;, +            assertConcreteMappingsOnAll("test", type, fieldName);, +++ b/core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java, +    public void storePeroclateQueriesOnRecreatedIndex() throws Exception {, +        assertMappingOnMaster("test", "type1");, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java, +            assertMappingOnMaster("test", "type1", "non_existing");, +++ b/core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java, +        assertAcked(client().admin().indices().preparePutMapping("test1", "test2", "test3"), +                .setSource("name", "type=string"));, +        assertAcked(client().admin().indices().preparePutMapping("foobar", "test", "test123", "foobarbaz", "bazbar"), +                .setType("type").setSource("field", "type=string"));, +++ b/core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java, +        client().prepareIndex("test", "type1", "1").setSource("field1", "value1").get();, +        client().admin().indices().prepareClose("test").get();]