[+++ b/bin/elasticsearch.bat, +if NOT "%ES_HEAP_SIZE%" == "" (, +set ES_MIN_MEM=%ES_HEAP_SIZE%, +set ES_MAX_MEM=%ES_HEAP_SIZE%, +), +, +, +if NOT "%ES_HEAP_NEWSIZE%" == "" (, +set JAVA_OPTS=%JAVA_OPTS% -Xmn%ES_HEAP_NEWSIZE%, +), +, +++ b/bin/elasticsearch.bat, +if NOT "%ES_HEAP_SIZE%" == "" (, +set ES_MIN_MEM=%ES_HEAP_SIZE%, +set ES_MAX_MEM=%ES_HEAP_SIZE%, +), +, +, +if NOT "%ES_HEAP_NEWSIZE%" == "" (, +set JAVA_OPTS=%JAVA_OPTS% -Xmn%ES_HEAP_NEWSIZE%, +), +, +++ b/bin/elasticsearch.in.sh, +if [ "x$ES_HEAP_SIZE" != "x" ]; then, +    ES_MIN_MEM=$ES_HEAP_SIZE, +    ES_MAX_MEM=$ES_HEAP_SIZE, +fi, +# new generation, +if [ "x$ES_HEAP_NEWSIZE" != "x" ]; then, +    JAVA_OPTS="$JAVA_OPTS -Xmn${ES_HEAP_NEWSIZE}", +fi, +]