[+++ /dev/null, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/index/engine/Engine.java, +        IndexSearcher searcher();, +        public IndexSearcher searcher() {, +            return searcher;, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/index/engine/Engine.java, +        IndexSearcher searcher();, +        public IndexSearcher searcher() {, +            return searcher;, +++ b/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +        public IndexSearcher searcher() {, +            return searcher;, +            IndexSearcher searcher = new IndexSearcher(reader);, +                IndexSearcher newSearcher = null;, +                        for (AtomicReaderContext newReaderContext : searcher.getIndexReader().leaves()) {, +                            for (AtomicReaderContext currentReaderContext : currentSearcher.reader().leaves()) {, +                                if (currentReaderContext.reader().getCoreCacheKey().equals(newReaderContext.reader().getCoreCacheKey())) {, +                                readers.add(newReaderContext.reader());, +                            newSearcher = new IndexSearcher(new MultiReader(readers.toArray(new IndexReader[readers.size()]), false));, +                            // close the reader since we want decRef the inner readers, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/index/engine/Engine.java, +        IndexSearcher searcher();, +        public IndexSearcher searcher() {, +            return searcher;, +++ b/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +        public IndexSearcher searcher() {, +            return searcher;, +            IndexSearcher searcher = new IndexSearcher(reader);, +                IndexSearcher newSearcher = null;, +                        for (AtomicReaderContext newReaderContext : searcher.getIndexReader().leaves()) {, +                            for (AtomicReaderContext currentReaderContext : currentSearcher.reader().leaves()) {, +                                if (currentReaderContext.reader().getCoreCacheKey().equals(newReaderContext.reader().getCoreCacheKey())) {, +                                readers.add(newReaderContext.reader());, +                            newSearcher = new IndexSearcher(new MultiReader(readers.toArray(new IndexReader[readers.size()]), false));, +                            // close the reader since we want decRef the inner readers, +++ b/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java, +public class ContextIndexSearcher extends IndexSearcher {, +        super(searcher.reader());, +        this.reader = searcher.reader();]