[+++ b/core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java, +import java.util.concurrent.atomic.AtomicLong;, +    private final AtomicLong counter = new AtomicLong();, +            return loader.parseClass(script, generateScriptName());, +    private String generateScriptName() {, +        return "Script" + counter.incrementAndGet() + ".groovy";, +    }, +]