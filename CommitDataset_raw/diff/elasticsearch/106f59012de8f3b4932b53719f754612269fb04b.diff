[+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/close/TransportVerifyShardBeforeCloseAction.java, +            clusterBlock = new ClusterBlock(in);, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/close/TransportVerifyShardBeforeCloseAction.java, +            clusterBlock = new ClusterBlock(in);, +++ b/server/src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java, +import org.elasticsearch.common.io.stream.Writeable;, +public class ClusterBlock implements Streamable, Writeable, ToXContentFragment {, +    public ClusterBlock(StreamInput in) throws IOException {, +        id = in.readVInt();, +        if (in.getVersion().onOrAfter(Version.V_6_7_0)) {, +            uuid = in.readOptionalString();, +        } else {, +            uuid = null;, +        }, +        description = in.readString();, +        final int len = in.readVInt();, +        ArrayList<ClusterBlockLevel> levels = new ArrayList<>(len);, +        for (int i = 0; i < len; i++) {, +            levels.add(in.readEnum(ClusterBlockLevel.class));, +        }, +        this.levels = EnumSet.copyOf(levels);, +        retryable = in.readBoolean();, +        disableStatePersistence = in.readBoolean();, +        status = RestStatus.readFrom(in);, +        allowReleaseResources = in.readBoolean();, +        throw new UnsupportedOperationException("usage of Streamable is to be replaced by Writeable");, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/close/TransportVerifyShardBeforeCloseAction.java, +            clusterBlock = new ClusterBlock(in);, +++ b/server/src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java, +import org.elasticsearch.common.io.stream.Writeable;, +public class ClusterBlock implements Streamable, Writeable, ToXContentFragment {, +    public ClusterBlock(StreamInput in) throws IOException {, +        id = in.readVInt();, +        if (in.getVersion().onOrAfter(Version.V_6_7_0)) {, +            uuid = in.readOptionalString();, +        } else {, +            uuid = null;, +        }, +        description = in.readString();, +        final int len = in.readVInt();, +        ArrayList<ClusterBlockLevel> levels = new ArrayList<>(len);, +        for (int i = 0; i < len; i++) {, +            levels.add(in.readEnum(ClusterBlockLevel.class));, +        }, +        this.levels = EnumSet.copyOf(levels);, +        retryable = in.readBoolean();, +        disableStatePersistence = in.readBoolean();, +        status = RestStatus.readFrom(in);, +        allowReleaseResources = in.readBoolean();, +        throw new UnsupportedOperationException("usage of Streamable is to be replaced by Writeable");, +++ b/server/src/main/java/org/elasticsearch/cluster/block/ClusterBlockException.java, +            blocks.add(new ClusterBlock(in));, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/close/TransportVerifyShardBeforeCloseAction.java, +            clusterBlock = new ClusterBlock(in);, +++ b/server/src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java, +import org.elasticsearch.common.io.stream.Writeable;, +public class ClusterBlock implements Streamable, Writeable, ToXContentFragment {, +    public ClusterBlock(StreamInput in) throws IOException {, +        id = in.readVInt();, +        if (in.getVersion().onOrAfter(Version.V_6_7_0)) {, +            uuid = in.readOptionalString();, +        } else {, +            uuid = null;, +        }, +        description = in.readString();, +        final int len = in.readVInt();, +        ArrayList<ClusterBlockLevel> levels = new ArrayList<>(len);, +        for (int i = 0; i < len; i++) {, +            levels.add(in.readEnum(ClusterBlockLevel.class));, +        }, +        this.levels = EnumSet.copyOf(levels);, +        retryable = in.readBoolean();, +        disableStatePersistence = in.readBoolean();, +        status = RestStatus.readFrom(in);, +        allowReleaseResources = in.readBoolean();, +        throw new UnsupportedOperationException("usage of Streamable is to be replaced by Writeable");, +++ b/server/src/main/java/org/elasticsearch/cluster/block/ClusterBlockException.java, +            blocks.add(new ClusterBlock(in));, +++ b/server/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java, +            blocks.add(new ClusterBlock(in));, +++ b/server/src/main/java/org/elasticsearch/action/admin/indices/close/TransportVerifyShardBeforeCloseAction.java, +            clusterBlock = new ClusterBlock(in);, +++ b/server/src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java, +import org.elasticsearch.common.io.stream.Writeable;, +public class ClusterBlock implements Streamable, Writeable, ToXContentFragment {, +    public ClusterBlock(StreamInput in) throws IOException {, +        id = in.readVInt();, +        if (in.getVersion().onOrAfter(Version.V_6_7_0)) {, +            uuid = in.readOptionalString();, +        } else {, +            uuid = null;, +        }, +        description = in.readString();, +        final int len = in.readVInt();, +        ArrayList<ClusterBlockLevel> levels = new ArrayList<>(len);, +        for (int i = 0; i < len; i++) {, +            levels.add(in.readEnum(ClusterBlockLevel.class));, +        }, +        this.levels = EnumSet.copyOf(levels);, +        retryable = in.readBoolean();]