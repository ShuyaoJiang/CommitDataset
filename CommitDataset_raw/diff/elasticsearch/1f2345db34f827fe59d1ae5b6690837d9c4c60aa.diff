[+++ b/core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java, +, +        if (!(config.fieldContext.indexFieldData() instanceof IndexNumericFieldData)) {, +            throw new IllegalArgumentException("Expected numeric type on field [" + config.fieldContext.field() +, +                    "], but got [" + config.fieldContext.fieldType().typeName() + "]");, +        }, +, +, +        if (!(config.fieldContext.indexFieldData() instanceof IndexGeoPointFieldData)) {, +            throw new IllegalArgumentException("Expected geo_point type on field [" + config.fieldContext.field() +, +                    "], but got [" + config.fieldContext.fieldType().typeName() + "]");, +        }, +]