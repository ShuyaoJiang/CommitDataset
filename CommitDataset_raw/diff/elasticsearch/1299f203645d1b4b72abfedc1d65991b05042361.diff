[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java, +            if (shardsIts.size() == 0) {, +                // no shards, +                listener.onResponse(newResponse(request, new AtomicReferenceArray(0), clusterState));, +            }]