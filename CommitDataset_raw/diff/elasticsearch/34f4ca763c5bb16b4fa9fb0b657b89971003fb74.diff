[+++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                    public void onNoLongerMaster(String source) {, +                    }, +, +                    @Override, +                    public void onFailure(String source, Throwable t) {, +                        //if the reroute fails we only log, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                    public void onNoLongerMaster(String source) {, +                    }, +, +                    @Override, +                    public void onFailure(String source, Throwable t) {, +                        //if the reroute fails we only log, +++ b/src/main/java/org/elasticsearch/action/bench/BenchmarkService.java, +    protected void doStart() throws ElasticsearchException {, +    }, +    protected void doStop() throws ElasticsearchException {, +    }, +    protected void doClose() throws ElasticsearchException {, +    }, +, +    public abstract class UpdateBenchmarkStateTask extends ProcessedClusterStateUpdateTask {, +    public abstract class BenchmarkStateChangeAction<R extends MasterNodeOperationRequest> extends TimeoutClusterStateUpdateTask {, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                    public void onNoLongerMaster(String source) {, +                    }, +, +                    @Override, +                    public void onFailure(String source, Throwable t) {, +                        //if the reroute fails we only log, +++ b/src/main/java/org/elasticsearch/action/bench/BenchmarkService.java, +    protected void doStart() throws ElasticsearchException {, +    }, +    protected void doStop() throws ElasticsearchException {, +    }, +    protected void doClose() throws ElasticsearchException {, +    }, +, +    public abstract class UpdateBenchmarkStateTask extends ProcessedClusterStateUpdateTask {, +    public abstract class BenchmarkStateChangeAction<R extends MasterNodeOperationRequest> extends TimeoutClusterStateUpdateTask {, +++ b/src/main/java/org/elasticsearch/cluster/AckedClusterStateUpdateTask.java, +public abstract class AckedClusterStateUpdateTask<Response> extends TimeoutClusterStateUpdateTask {, +     *, +     *, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                    public void onNoLongerMaster(String source) {, +                    }, +, +                    @Override, +                    public void onFailure(String source, Throwable t) {, +                        //if the reroute fails we only log, +++ b/src/main/java/org/elasticsearch/action/bench/BenchmarkService.java, +    protected void doStart() throws ElasticsearchException {, +    }, +    protected void doStop() throws ElasticsearchException {, +    }, +    protected void doClose() throws ElasticsearchException {, +    }, +, +    public abstract class UpdateBenchmarkStateTask extends ProcessedClusterStateUpdateTask {, +    public abstract class BenchmarkStateChangeAction<R extends MasterNodeOperationRequest> extends TimeoutClusterStateUpdateTask {, +++ b/src/main/java/org/elasticsearch/cluster/AckedClusterStateUpdateTask.java, +public abstract class AckedClusterStateUpdateTask<Response> extends TimeoutClusterStateUpdateTask {, +     *, +     *, +++ b/src/main/java/org/elasticsearch/cluster/ClusterService.java, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                    public void onNoLongerMaster(String source) {, +                    }, +, +                    @Override, +                    public void onFailure(String source, Throwable t) {, +                        //if the reroute fails we only log, +++ b/src/main/java/org/elasticsearch/action/bench/BenchmarkService.java, +    protected void doStart() throws ElasticsearchException {, +    }, +    protected void doStop() throws ElasticsearchException {, +    }, +    protected void doClose() throws ElasticsearchException {, +    }, +, +    public abstract class UpdateBenchmarkStateTask extends ProcessedClusterStateUpdateTask {, +    public abstract class BenchmarkStateChangeAction<R extends MasterNodeOperationRequest> extends TimeoutClusterStateUpdateTask {, +++ b/src/main/java/org/elasticsearch/cluster/AckedClusterStateUpdateTask.java, +public abstract class AckedClusterStateUpdateTask<Response> extends TimeoutClusterStateUpdateTask {, +     *, +     *, +++ b/src/main/java/org/elasticsearch/cluster/ClusterService.java, +++ b/src/main/java/org/elasticsearch/cluster/ClusterStateNonMasterUpdateTask.java, +public abstract class ClusterStateNonMasterUpdateTask extends ClusterStateUpdateTask {, +, +    @Override, +    public boolean runOnlyOnMaster() {, +        return false;, +    }, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                    public void onNoLongerMaster(String source) {, +                    }, +]