[+++ b/dev-tools/build_release.py, +class Artifact:, +  def __init__(self, path, name, ext):, +    self.path = path  # path/to, +    self.name = name  # elasticsearch-9.9.99, +    self.ext = ext    # tar.gz, +    self.fullpath = None, +, +  def fullpath(self):, +    if not self.fullpath:, +      self.fullpath = os.path.join(self.path, "%s.%s" % (self.name, self.ext)), +    return self.fullpath, +, +def artifacts(release, path = ''):, +  return [Artifact(path, "elasticsearch-%s" % release, t) for t in ['deb', 'tar.gz', 'zip']], +  common_artifacts = artifacts(release, 'target/releases/'), +  for a in common_artifacts:, +    if not os.path.isfile(a.fullpath):, +      raise RuntimeError('Could not find required artifact at %s' % a.fullpath), +    renamed_rpm = Artifact('target/rpm/elasticsearch/RPMS/noarch/', 'elasticsearch-%s' % release, 'noarch.rpm'), +    shutil.move(rpm, renamed_rpm.fullpath), +def generate_checksums(artifacts):, +  for a in artifacts:, +    directory = os.path.dirname(a.fullpath), +    file = os.path.basename(a.fullpath), +    ext = 'sha1.txt', +    checksum_file = '%s.%s' % (file, ext), +      raise RuntimeError('Failed to generate checksum for file %s' % a), +    res = res + [Artifact(directory, file, ext), a]]