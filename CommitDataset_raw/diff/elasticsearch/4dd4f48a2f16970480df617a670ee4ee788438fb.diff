[+++ b/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +                    currentMapper = parseContext.fieldMapper(field + quoteFieldSuffix);, +            if (currentMapper == null) {, +                currentMapper = parseContext.fieldMapper(field);, +            if (currentMapper != null) {, +                        setAnalyzer(parseContext.getSearchQuoteAnalyzer(currentMapper));, +                        setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +        currentMapper = parseContext.fieldMapper(field);, +        currentMapper = parseContext.fieldMapper(field);, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                }, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                indexedNameField = currentMapper.names().indexName();, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                }, +++ b/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +                    currentMapper = parseContext.fieldMapper(field + quoteFieldSuffix);, +            if (currentMapper == null) {, +                currentMapper = parseContext.fieldMapper(field);, +            if (currentMapper != null) {, +                        setAnalyzer(parseContext.getSearchQuoteAnalyzer(currentMapper));, +                        setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +        currentMapper = parseContext.fieldMapper(field);, +        currentMapper = parseContext.fieldMapper(field);, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                }, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                indexedNameField = currentMapper.names().indexName();, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                }, +++ b/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java, +import org.elasticsearch.index.mapper.FieldMapper;, +                FieldMapper fieldMapper = mapperService.fullName(field);, +                if (fieldMapper != null) {, +                        fieldStats.put(field, fieldMapper.stats(terms, reader.maxDoc()));, +++ b/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +                    currentMapper = parseContext.fieldMapper(field + quoteFieldSuffix);, +            if (currentMapper == null) {, +                currentMapper = parseContext.fieldMapper(field);, +            if (currentMapper != null) {, +                        setAnalyzer(parseContext.getSearchQuoteAnalyzer(currentMapper));, +                        setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +        currentMapper = parseContext.fieldMapper(field);, +        currentMapper = parseContext.fieldMapper(field);, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                }, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                indexedNameField = currentMapper.names().indexName();, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                }, +++ b/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java, +import org.elasticsearch.index.mapper.FieldMapper;, +                FieldMapper fieldMapper = mapperService.fullName(field);, +                if (fieldMapper != null) {, +                        fieldStats.put(field, fieldMapper.stats(terms, reader.maxDoc()));, +++ b/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java, +import org.elasticsearch.index.mapper.FieldMapper;, +        final FieldMapper indexName = mapperService.indexName(field);, +        } else if (indexName instanceof CompletionFieldMapper) {, +            final CompletionFieldMapper mapper = (CompletionFieldMapper) indexName;, +++ b/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +                    currentMapper = parseContext.fieldMapper(field + quoteFieldSuffix);, +            if (currentMapper == null) {, +                currentMapper = parseContext.fieldMapper(field);, +            if (currentMapper != null) {, +                        setAnalyzer(parseContext.getSearchQuoteAnalyzer(currentMapper));, +                        setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +        currentMapper = parseContext.fieldMapper(field);, +        currentMapper = parseContext.fieldMapper(field);, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                }, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                indexedNameField = currentMapper.names().indexName();, +            currentMapper = parseContext.fieldMapper(field);, +                if (!forcedAnalyzer) {, +                    setAnalyzer(parseContext.getSearchAnalyzer(currentMapper));, +                }, +++ b/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java]