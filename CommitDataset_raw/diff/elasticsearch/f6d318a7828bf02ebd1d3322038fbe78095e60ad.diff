[+++ b/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/common/http/HttpClient.java, +            String format = URLEncodedUtils.format(qparams, "UTF-8");, +                    Strings.isNullOrEmpty(format) ? null : format, null);, +++ b/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/common/http/HttpClient.java, +            String format = URLEncodedUtils.format(qparams, "UTF-8");, +                    Strings.isNullOrEmpty(format) ? null : format, null);, +++ b/plugin/watcher/src/test/java/org/elasticsearch/xpack/watcher/common/http/HttpClientTests.java, +, +    public void testThatUrlDoesNotContainQuestionMarkAtTheEnd() throws Exception {, +        webServer.enqueue(new MockResponse().setResponseCode(200).setBody("whatever"));, +, +        HttpRequest request = HttpRequest.builder("localhost", webServer.getPort()), +                        .path("foo"), +                        .build();, +        httpClient.execute(request);, +        assertThat(webServer.requests(), hasSize(1));, +        assertThat(webServer.requests().get(0).getUri().getRawPath(), is("/foo"));, +    }]