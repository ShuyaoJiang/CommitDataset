[+++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +++ b/core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java, +                rescoreBuilders.add(in.readNamedWriteable(RescoreBuilder.class));, +                out.writeNamedWriteable(rescoreBuilder);, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +++ b/core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java, +                rescoreBuilders.add(in.readNamedWriteable(RescoreBuilder.class));, +                out.writeNamedWriteable(rescoreBuilder);, +++ b/core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java, +            output.writeNamedWriteable(original);, +                return in.readNamedWriteable(RescoreBuilder.class);]