[+++ b/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java, +            // we don't store an ord 0 in the FST since we could have an empty string in there and FST don't support, +            // empty strings twice. ie. them merge fails for long output., +            hashes[0] = new BytesRef().hashCode();, +            int i = 1;, +            if (ord == 0) {, +                ret.length = 0;, +                return ret;, +            }, +++ b/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java, +            // we don't store an ord 0 in the FST since we could have an empty string in there and FST don't support, +            // empty strings twice. ie. them merge fails for long output., +            hashes[0] = new BytesRef().hashCode();, +            int i = 1;, +            if (ord == 0) {, +                ret.length = 0;, +                return ret;, +            }, +++ b/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java, +            // we don't store an ord 0 in the FST since we could have an empty string in there and FST don't support, +            // empty strings twice. ie. them merge fails for long output., +                assert termOrd > 0;, +++ b/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java, +            // we don't store an ord 0 in the FST since we could have an empty string in there and FST don't support, +            // empty strings twice. ie. them merge fails for long output., +            hashes[0] = new BytesRef().hashCode();, +            int i = 1;, +            if (ord == 0) {, +                ret.length = 0;, +                return ret;, +            }, +++ b/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java, +            // we don't store an ord 0 in the FST since we could have an empty string in there and FST don't support, +            // empty strings twice. ie. them merge fails for long output., +                assert termOrd > 0;, +++ b/src/test/java/org/elasticsearch/test/unit/index/fielddata/DuellFieldDataTest.java, +import org.elasticsearch.common.xcontent.XContentBuilder.FieldCaseConversion;, +                if (random.nextInt(10) == 0) {, +                    d.add(new StringField("bytes", "", Field.Store.NO));, +                }]