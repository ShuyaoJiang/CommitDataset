[+++ b/src/main/java/org/elasticsearch/common/Booleans.java, +++ b/src/main/java/org/elasticsearch/common/Booleans.java, +++ b/src/main/java/org/elasticsearch/common/settings/Settings.java, +    private static final Pattern ARRAY_PATTERN = Pattern.compile("(.*)\\.\\d+$");, +, +    /** Name of the setting to use to disable required units for byte size, time settings. */, +    public static final String SETTINGS_REQUIRE_UNITS = "settings_require_units";, +, +    private static boolean settingsRequireUnits = true;, +, +    public static void setSettingsRequireUnits(boolean v) {, +        settingsRequireUnits = v;, +    }, +, +    public static boolean getSettingsRequireUnits() {, +        return settingsRequireUnits;, +    }, +++ b/src/main/java/org/elasticsearch/common/Booleans.java, +++ b/src/main/java/org/elasticsearch/common/settings/Settings.java, +    private static final Pattern ARRAY_PATTERN = Pattern.compile("(.*)\\.\\d+$");, +, +    /** Name of the setting to use to disable required units for byte size, time settings. */, +    public static final String SETTINGS_REQUIRE_UNITS = "settings_require_units";, +, +    private static boolean settingsRequireUnits = true;, +, +    public static void setSettingsRequireUnits(boolean v) {, +        settingsRequireUnits = v;, +    }, +, +    public static boolean getSettingsRequireUnits() {, +        return settingsRequireUnits;, +    }, +++ b/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java, +import org.elasticsearch.common.settings.Settings;, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to bytes:, +                    bytes = Long.parseLong(sValue);, +                }, +++ b/src/main/java/org/elasticsearch/common/Booleans.java, +++ b/src/main/java/org/elasticsearch/common/settings/Settings.java, +    private static final Pattern ARRAY_PATTERN = Pattern.compile("(.*)\\.\\d+$");, +, +    /** Name of the setting to use to disable required units for byte size, time settings. */, +    public static final String SETTINGS_REQUIRE_UNITS = "settings_require_units";, +, +    private static boolean settingsRequireUnits = true;, +, +    public static void setSettingsRequireUnits(boolean v) {, +        settingsRequireUnits = v;, +    }, +, +    public static boolean getSettingsRequireUnits() {, +        return settingsRequireUnits;, +    }, +++ b/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java, +import org.elasticsearch.common.settings.Settings;, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to bytes:, +                    bytes = Long.parseLong(sValue);, +                }, +++ b/src/main/java/org/elasticsearch/common/unit/TimeValue.java, +import org.elasticsearch.common.settings.Settings;, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to msec for bwc:, +                    millis = Long.parseLong(sValue);, +                }, +++ b/src/main/java/org/elasticsearch/common/Booleans.java, +++ b/src/main/java/org/elasticsearch/common/settings/Settings.java, +    private static final Pattern ARRAY_PATTERN = Pattern.compile("(.*)\\.\\d+$");, +, +    /** Name of the setting to use to disable required units for byte size, time settings. */, +    public static final String SETTINGS_REQUIRE_UNITS = "settings_require_units";, +, +    private static boolean settingsRequireUnits = true;, +, +    public static void setSettingsRequireUnits(boolean v) {, +        settingsRequireUnits = v;, +    }, +, +    public static boolean getSettingsRequireUnits() {, +        return settingsRequireUnits;, +    }, +++ b/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java, +import org.elasticsearch.common.settings.Settings;, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to bytes:, +                    bytes = Long.parseLong(sValue);, +                }, +++ b/src/main/java/org/elasticsearch/common/unit/TimeValue.java, +import org.elasticsearch.common.settings.Settings;, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to msec for bwc:, +                    millis = Long.parseLong(sValue);, +                }]