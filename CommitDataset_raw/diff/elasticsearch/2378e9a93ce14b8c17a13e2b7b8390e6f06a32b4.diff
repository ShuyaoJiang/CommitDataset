[+++ b/bin/service.bat, +if errorlevel 1 goto x86, +goto checkExe, +:x86, +set EXECUTABLE=%ES_HOME%\bin\elasticsearch-service-x86.exe, +set SERVICE_ID=elasticsearch-service-x86, +set ARCH=32-bit, +, +:checkExe, +if "%LOG_DIR%" == "" set LOG_DIR=%ES_HOME%\logs, +if "%LOG_OPTS%" == "" set LOG_OPTS=--LogPath "%LOG_DIR%" --LogPrefix "%SERVICE_ID%" --StdError auto --StdOutput auto, +if exist "%JVM_DLL%" goto foundJVM, +if exist "%JVM_DLL%" (, +if "%ES_MIN_MEM%" == "" set ES_MIN_MEM=256m, +if "%ES_MAX_MEM%" == "" set ES_MAX_MEM=1g, +if NOT "%ES_HEAP_SIZE%" == "" set ES_MIN_MEM=%ES_HEAP_SIZE%, +if NOT "%ES_HEAP_SIZE%" == "" set ES_MAX_MEM=%ES_HEAP_SIZE%, +if NOT "%ES_HEAP_NEWSIZE%" == "" set JAVA_OPTS=%JAVA_OPTS% -Xmn%ES_HEAP_NEWSIZE%, +if NOT "%ES_DIRECT_SIZE%" == "" set JAVA_OPTS=%JAVA_OPTS% -XX:MaxDirectMemorySize=%ES_DIRECT_SIZE%, +if "%DATA_DIR%" == "" set DATA_DIR=%ES_HOME%\data, +if "%WORK_DIR%" == "" set WORK_DIR=%ES_HOME%, +if "%CONF_DIR%" == "" set CONF_DIR=%ES_HOME%\config, +if "%CONF_FILE%" == "" set CONF_FILE=%ES_HOME%\config\elasticsearch.yml]