[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java, +            parser.nextToken();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java, +            parser.nextToken();, +++ b/modules/elasticsearch/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java, +    @Test public void testSpanOrQuery2() throws IOException {, +        IndexQueryParserService queryParser = queryParser();, +        String query = copyToStringFromClasspath("/org/elasticsearch/index/query/spanOr2.json");, +        Query parsedQuery = queryParser.parse(query).query();, +        assertThat(parsedQuery, instanceOf(SpanOrQuery.class));, +        SpanOrQuery spanOrQuery = (SpanOrQuery) parsedQuery;, +        assertThat(spanOrQuery.getClauses().length, equalTo(3));, +        assertThat(((SpanTermQuery) spanOrQuery.getClauses()[0]).getTerm(), equalTo(new Term("age", NumericUtils.longToPrefixCoded(34))));, +        assertThat(((SpanTermQuery) spanOrQuery.getClauses()[1]).getTerm(), equalTo(new Term("age", NumericUtils.longToPrefixCoded(35))));, +        assertThat(((SpanTermQuery) spanOrQuery.getClauses()[2]).getTerm(), equalTo(new Term("age", NumericUtils.longToPrefixCoded(36))));, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java, +            parser.nextToken();, +++ b/modules/elasticsearch/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java, +    @Test public void testSpanOrQuery2() throws IOException {, +        IndexQueryParserService queryParser = queryParser();, +        String query = copyToStringFromClasspath("/org/elasticsearch/index/query/spanOr2.json");, +        Query parsedQuery = queryParser.parse(query).query();, +        assertThat(parsedQuery, instanceOf(SpanOrQuery.class));, +        SpanOrQuery spanOrQuery = (SpanOrQuery) parsedQuery;, +        assertThat(spanOrQuery.getClauses().length, equalTo(3));, +        assertThat(((SpanTermQuery) spanOrQuery.getClauses()[0]).getTerm(), equalTo(new Term("age", NumericUtils.longToPrefixCoded(34))));, +        assertThat(((SpanTermQuery) spanOrQuery.getClauses()[1]).getTerm(), equalTo(new Term("age", NumericUtils.longToPrefixCoded(35))));, +        assertThat(((SpanTermQuery) spanOrQuery.getClauses()[2]).getTerm(), equalTo(new Term("age", NumericUtils.longToPrefixCoded(36))));, +    }, +, +++ b/modules/elasticsearch/src/test/java/org/elasticsearch/index/query/spanOr2.json, +{, +    "span_or" : {, +        "clauses" : [, +            {, +                "span_term" : {, +                    "age" : {, +                        "value" : 34,, +                        "boost" : 1.0, +                    }, +                }, +            },, +            {, +                "span_term" : {, +                    "age" : {, +                        "value" : 35,, +                        "boost" : 1.0, +                    }, +                }, +            },, +            {, +                "span_term" : {, +                    "age" : {, +                        "value" : 36,, +                        "boost" : 1.0, +                    }, +                }, +            }, +        ], +    }, +}]