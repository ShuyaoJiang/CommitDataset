[+++ b/server/src/main/java/org/elasticsearch/persistent/PersistentTasksClusterService.java, +    // visible for testing only, +    public void setRecheckInterval(TimeValue recheckInterval) {, +++ b/server/src/main/java/org/elasticsearch/persistent/PersistentTasksClusterService.java, +    // visible for testing only, +    public void setRecheckInterval(TimeValue recheckInterval) {, +++ b/x-pack/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/integration/MlDistributedFailureIT.java, +import org.elasticsearch.common.unit.TimeValue;, +import org.elasticsearch.persistent.PersistentTasksClusterService;, +, +        PersistentTasksClusterService persistentTasksClusterService =, +            internalCluster().getInstance(PersistentTasksClusterService.class, internalCluster().getMasterName());, +        // Speed up rechecks to a rate that is quicker than what settings would allow., +        // The tests would work eventually without doing this, but the assertBusy() below, +        // would need to wait 30 seconds, which would make the suite run very slowly., +        // The 200ms refresh puts a greater burden on the master node to recheck, +        // persistent tasks, but it will cope in these tests as it's not doing anything, +        // else., +        persistentTasksClusterService.setRecheckInterval(TimeValue.timeValueMillis(200));, +]