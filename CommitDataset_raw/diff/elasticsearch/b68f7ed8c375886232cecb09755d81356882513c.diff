[+++ b/core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java, +++ b/core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java, +++ b/distribution/src/main/resources/config/jvm.options, +# due to internationalization enhancements in JDK 9 Elasticsearch need to set the provider to COMPAT otherwise, +# time/date parsing will break in an incompatible way for some date patterns and locals, +9-:-Djava.locale.providers=COMPAT, +++ b/core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java, +++ b/distribution/src/main/resources/config/jvm.options, +# due to internationalization enhancements in JDK 9 Elasticsearch need to set the provider to COMPAT otherwise, +# time/date parsing will break in an incompatible way for some date patterns and locals, +9-:-Djava.locale.providers=COMPAT, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/search/180_local_dependent_mapping.yml, +---, +"Test Index and Search locale dependent mappings / dates":, +  - skip:, +      version: " - 6.99.99", +      reason: JDK9 only supports this with a special sysproperty added in 7.0.0, +  - do:, +      indices.create:, +          index: test_index, +          body:, +              settings:, +                  number_of_shards: 1, +              mappings:, +                  doc:, +                      properties:, +                          date_field:, +                              type: date, +                              format: "E, d MMM yyyy HH:mm:ss Z", +                              locale: "de", +  - do:, +      bulk:, +          refresh: true, +          body:, +              - '{"index": {"_index": "test_index", "_type": "doc", "_id": "1"}}', +              - '{"date_field": "Mi, 06 Dez 2000 02:55:00 -0800"}', +              - '{"index": {"_index": "test_index", "_type": "doc", "_id": "2"}}', +              - '{"date_field": "Do, 07 Dez 2000 02:55:00 -0800"}', +, +  - do:, +      search:, +          index: test_index, +          body: {"query" : {"range" : {"date_field" : {"gte": "Di, 05 Dez 2000 02:55:00 -0800", "lte": "Do, 07 Dez 2000 00:00:00 -0800"}}}}, +  - match: { hits.total: 1 }, +, +  - do:, +      search:, +          index: test_index, +          body: {"query" : {"range" : {"date_field" : {"gte": "Di, 05 Dez 2000 02:55:00 -0800", "lte": "Fr, 08 Dez 2000 00:00:00 -0800"}}}}, +  - match: { hits.total: 2 }]