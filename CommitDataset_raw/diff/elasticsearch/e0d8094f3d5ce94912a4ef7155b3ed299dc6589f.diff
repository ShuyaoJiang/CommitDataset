[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/service/InternalIndexService.java, +            logger.debug("failed to close translog service", e);, +                logger.debug("failed to close index shard", e);, +            logger.debug("failed to close engine", e);, +            logger.debug("failed to close merge policy provider", e);, +            logger.debug("failed to snapshot gateway on close", e);, +            logger.debug("failed to close index shard gateway", e);, +            logger.debug("failed to close translog", e);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/service/InternalIndexService.java, +            logger.debug("failed to close translog service", e);, +                logger.debug("failed to close index shard", e);, +            logger.debug("failed to close engine", e);, +            logger.debug("failed to close merge policy provider", e);, +            logger.debug("failed to snapshot gateway on close", e);, +            logger.debug("failed to close index shard gateway", e);, +            logger.debug("failed to close translog", e);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java, +        synchronized (mutex) {, +            if (listeners != null) {, +            }, +                    if (state != IndexShardState.CLOSED) {, +                        if (state != IndexShardState.CLOSED) {, +                    if (state != IndexShardState.CLOSED) {, +                        if (state != IndexShardState.CLOSED) {]