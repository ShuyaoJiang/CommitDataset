[+++ b/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +            if (indexService != null) {, +                field = indexService.queryParserService().defaultField();, +            } else {, +                field = AllFieldMapper.NAME;, +            }, +++ b/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +            if (indexService != null) {, +                field = indexService.queryParserService().defaultField();, +            } else {, +                field = AllFieldMapper.NAME;, +            }, +++ b/src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryParser.java, +            query.addTerms(likeText, parseContext.defaultField(), minSimilarity, prefixLength);, +++ b/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +            if (indexService != null) {, +                field = indexService.queryParserService().defaultField();, +            } else {, +                field = AllFieldMapper.NAME;, +            }, +++ b/src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryParser.java, +            query.addTerms(likeText, parseContext.defaultField(), minSimilarity, prefixLength);, +++ b/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +    private String defaultField;, +, +        this.defaultField = indexSettings.get("index.query.default_field", AllFieldMapper.NAME);, +, +    public String defaultField() {, +        return this.defaultField;, +    }, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +            if (indexService != null) {, +                field = indexService.queryParserService().defaultField();, +            } else {, +                field = AllFieldMapper.NAME;, +            }, +++ b/src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryParser.java, +            query.addTerms(likeText, parseContext.defaultField(), minSimilarity, prefixLength);, +++ b/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +    private String defaultField;, +, +        this.defaultField = indexSettings.get("index.query.default_field", AllFieldMapper.NAME);, +, +    public String defaultField() {, +        return this.defaultField;, +    }, +, +++ b/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java, +        mltQuery.setMoreLikeFields(new String[]{parseContext.defaultField()});, +++ b/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +            if (indexService != null) {, +                field = indexService.queryParserService().defaultField();, +            } else {, +                field = AllFieldMapper.NAME;, +            }, +++ b/src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryParser.java, +            query.addTerms(likeText, parseContext.defaultField(), minSimilarity, prefixLength);, +++ b/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +    private String defaultField;, +, +        this.defaultField = indexSettings.get("index.query.default_field", AllFieldMapper.NAME);, +, +    public String defaultField() {, +        return this.defaultField;, +    }, +, +++ b/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java, +        mltQuery.setMoreLikeFields(new String[]{parseContext.defaultField()});, +++ b/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +    public String defaultField() {, +        return indexQueryParser.defaultField();, +    }, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +            if (indexService != null) {, +                field = indexService.queryParserService().defaultField();, +            } else {, +                field = AllFieldMapper.NAME;, +            }, +++ b/src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryParser.java, +            query.addTerms(likeText, parseContext.defaultField(), minSimilarity, prefixLength);, +++ b/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java, +import org.elasticsearch.index.mapper.internal.AllFieldMapper;, +    private String defaultField;, +, +        this.defaultField = indexSettings.get("index.query.default_field", AllFieldMapper.NAME);, +, +    public String defaultField() {, +        return this.defaultField;, +    }]