[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +import org.elasticsearch.index.mapper.SourceToParse;, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +import org.elasticsearch.index.mapper.SourceToParse;, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +import org.elasticsearch.index.mapper.SourceToParse;, +        SourceToParse sourceToParse = SourceToParse.source(request.source()).type(request.type()).id(request.id()).routing(request.routing());, +            Engine.Index index = indexShard.prepareIndex(sourceToParse);, +            Engine.Create create = indexShard.prepareCreate(sourceToParse);, +        SourceToParse sourceToParse = SourceToParse.source(request.source()).type(request.type()).id(request.id()).routing(request.routing());, +            Engine.Index index = indexShard.prepareIndex(sourceToParse);, +            Engine.Create create = indexShard.prepareCreate(sourceToParse);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +import org.elasticsearch.index.mapper.SourceToParse;, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +import org.elasticsearch.index.mapper.SourceToParse;, +        SourceToParse sourceToParse = SourceToParse.source(request.source()).type(request.type()).id(request.id()).routing(request.routing());, +            Engine.Index index = indexShard.prepareIndex(sourceToParse);, +            Engine.Create create = indexShard.prepareCreate(sourceToParse);, +        SourceToParse sourceToParse = SourceToParse.source(request.source()).type(request.type()).id(request.id()).routing(request.routing());, +            Engine.Index index = indexShard.prepareIndex(sourceToParse);, +            Engine.Create create = indexShard.prepareCreate(sourceToParse);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java, +        docMapper.parse(SourceToParse.source(getResponse.source()).type(request.type()).id(request.id()), new DocumentMapper.ParseListenerAdapter() {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +import org.elasticsearch.index.mapper.SourceToParse;, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +import org.elasticsearch.index.mapper.SourceToParse;, +        SourceToParse sourceToParse = SourceToParse.source(request.source()).type(request.type()).id(request.id()).routing(request.routing());, +            Engine.Index index = indexShard.prepareIndex(sourceToParse);, +            Engine.Create create = indexShard.prepareCreate(sourceToParse);, +        SourceToParse sourceToParse = SourceToParse.source(request.source()).type(request.type()).id(request.id()).routing(request.routing());, +            Engine.Index index = indexShard.prepareIndex(sourceToParse);, +            Engine.Create create = indexShard.prepareCreate(sourceToParse);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java, +        docMapper.parse(SourceToParse.source(getResponse.source()).type(request.type()).id(request.id()), new DocumentMapper.ParseListenerAdapter() {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +    ParsedDocument parse(byte[] source) throws MapperParsingException;, +    ParsedDocument parse(String type, String id, byte[] source) throws MapperParsingException;, +     * Parses the source into a parsed document., +     *, +     * <p>Validates that the source has the provided id and type. Note, most times, +     * we will already have the id and the type even though they exist in the source as well., +    ParsedDocument parse(SourceToParse source) throws MapperParsingException;, +, +    /**, +     * Parses the source into a parsed document., +     *, +     * <p>Validates that the source has the provided id and type. Note, most times, +     * we will already have the id and the type even though they exist in the source as well., +     */, +    ParsedDocument parse(SourceToParse source, @Nullable ParseListener listener) throws MapperParsingException;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +import org.elasticsearch.index.mapper.SourceToParse;, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +                    SourceToParse sourceToParse = SourceToParse.source(indexRequest.source()).type(indexRequest.type()).id(indexRequest.id()).routing(indexRequest.routing());, +                        ops[i] = indexShard.prepareIndex(sourceToParse);, +                        ops[i] = indexShard.prepareCreate(sourceToParse);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +import org.elasticsearch.index.mapper.SourceToParse;, +        SourceToParse sourceToParse = SourceToParse.source(request.source()).type(request.type()).id(request.id()).routing(request.routing());, +            Engine.Index index = indexShard.prepareIndex(sourceToParse);, +            Engine.Create create = indexShard.prepareCreate(sourceToParse);, +        SourceToParse sourceToParse = SourceToParse.source(request.source()).type(request.type()).id(request.id()).routing(request.routing());, +            Engine.Index index = indexShard.prepareIndex(sourceToParse);, +            Engine.Create create = indexShard.prepareCreate(sourceToParse);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java, +        docMapper.parse(SourceToParse.source(getResponse.source()).type(request.type()).id(request.id()), new DocumentMapper.ParseListenerAdapter() {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +    ParsedDocument parse(byte[] source) throws MapperParsingException;, +    ParsedDocument parse(String type, String id, byte[] source) throws MapperParsingException;, +     * Parses the source into a parsed document., +     *, +     * <p>Validates that the source has the provided id and type. Note, most times]