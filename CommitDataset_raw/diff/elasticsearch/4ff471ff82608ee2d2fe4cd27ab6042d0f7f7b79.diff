[+++ b/src/test/java/org/elasticsearch/test/integration/AbstractSharedClusterTest.java, +                continue;, +    public ClusterHealthStatus ensureYellow() {, +        ClusterHealthResponse actionGet = client().admin().cluster(), +                .health(Requests.clusterHealthRequest().waitForYellowStatus().waitForEvents(Priority.LANGUID)).actionGet();, +        assertThat(actionGet.isTimedOut(), equalTo(false));, +        return actionGet.getStatus();, +    }, +, +++ b/src/test/java/org/elasticsearch/test/integration/AbstractSharedClusterTest.java, +                continue;, +    public ClusterHealthStatus ensureYellow() {, +        ClusterHealthResponse actionGet = client().admin().cluster(), +                .health(Requests.clusterHealthRequest().waitForYellowStatus().waitForEvents(Priority.LANGUID)).actionGet();, +        assertThat(actionGet.isTimedOut(), equalTo(false));, +        return actionGet.getStatus();, +    }, +, +++ b/src/test/java/org/elasticsearch/test/integration/indices/IgnoreIndicesTests.java, +        createIndex("test1", "test2");, +        ensureYellow();, +        ensureYellow();, +++ b/src/test/java/org/elasticsearch/test/integration/AbstractSharedClusterTest.java, +                continue;, +    public ClusterHealthStatus ensureYellow() {, +        ClusterHealthResponse actionGet = client().admin().cluster(), +                .health(Requests.clusterHealthRequest().waitForYellowStatus().waitForEvents(Priority.LANGUID)).actionGet();, +        assertThat(actionGet.isTimedOut(), equalTo(false));, +        return actionGet.getStatus();, +    }, +, +++ b/src/test/java/org/elasticsearch/test/integration/indices/IgnoreIndicesTests.java, +        createIndex("test1", "test2");, +        ensureYellow();, +        ensureYellow();, +++ b/src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java, +import org.elasticsearch.common.xcontent.XContentBuilder;, +       createIndexMapped("test", "test", "value", "string");, +        for (int i = 0; i < 10; i++) {, +                    .field("value", "" + i).endObject()).execute().actionGet();, +        }, +        refresh();, +++ b/src/test/java/org/elasticsearch/test/integration/AbstractSharedClusterTest.java, +                continue;, +    public ClusterHealthStatus ensureYellow() {, +        ClusterHealthResponse actionGet = client().admin().cluster(), +                .health(Requests.clusterHealthRequest().waitForYellowStatus().waitForEvents(Priority.LANGUID)).actionGet();, +        assertThat(actionGet.isTimedOut(), equalTo(false));, +        return actionGet.getStatus();, +    }, +, +++ b/src/test/java/org/elasticsearch/test/integration/indices/IgnoreIndicesTests.java, +        createIndex("test1", "test2");, +        ensureYellow();, +        ensureYellow();, +++ b/src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java, +import org.elasticsearch.common.xcontent.XContentBuilder;, +       createIndexMapped("test", "test", "value", "string");, +        for (int i = 0; i < 10; i++) {, +                    .field("value", "" + i).endObject()).execute().actionGet();, +        }, +        refresh();, +++ b/src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java, +        // clear all stats first, +        client().admin().indices().prepareStats().clear().execute().actionGet();]