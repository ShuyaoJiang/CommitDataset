[+++ b/docs/reference/query-dsl/queries/template-query.asciidoc, +            "query": { "match": { "text": "{{query_string}}" }}},, +            "query": "{ \"match\": { \"text\": \"{{query_string}}\" }}}", <1>, +    "template": { "match": { "text": "{{query_string}}" }}},, +++ b/docs/reference/query-dsl/queries/template-query.asciidoc, +            "query": { "match": { "text": "{{query_string}}" }}},, +            "query": "{ \"match\": { \"text\": \"{{query_string}}\" }}}", <1>, +    "template": { "match": { "text": "{{query_string}}" }}},, +++ b/pom.xml, +        <lucene.snapshot.revision>1675927</lucene.snapshot.revision>, +                <argument>-Des.security.manager.enabled=false</argument>, +++ b/docs/reference/query-dsl/queries/template-query.asciidoc, +            "query": { "match": { "text": "{{query_string}}" }}},, +            "query": "{ \"match\": { \"text\": \"{{query_string}}\" }}}", <1>, +    "template": { "match": { "text": "{{query_string}}" }}},, +++ b/pom.xml, +        <lucene.snapshot.revision>1675927</lucene.snapshot.revision>, +                <argument>-Des.security.manager.enabled=false</argument>, +++ b/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +    private void setup(boolean addShutdownHook, Settings settings, Environment environment) throws Exception {, +        setupSecurity(settings, environment);, +        if (settings.getAsBoolean("bootstrap.mlockall", false)) {, +        NodeBuilder nodeBuilder = NodeBuilder.nodeBuilder().settings(settings).loadConfigSettings(false);, +        if (settings.getAsBoolean("bootstrap.ctrlhandler", true)) {, +    private static void setupLogging(Settings settings, Environment environment) {, +            settings.getClassLoader().loadClass("org.apache.log4j.Logger");, +            LogConfigurator.configure(settings);, +        Settings settings = tuple.v1();, +        Environment environment = tuple.v2();, +        setupLogging(settings, environment);, +        setup(true, settings, environment);, +        Settings settings = null;, +        Environment environment = null;, +            Tuple<Settings, Environment> tuple = initialSettings();, +            settings = tuple.v1();, +            environment = tuple.v2();, +            setupLogging(settings, environment);, +            bootstrap.setup(true, settings, environment);, +++ b/docs/reference/query-dsl/queries/template-query.asciidoc, +            "query": { "match": { "text": "{{query_string}}" }}},, +            "query": "{ \"match\": { \"text\": \"{{query_string}}\" }}}", <1>, +    "template": { "match": { "text": "{{query_string}}" }}},, +++ b/pom.xml, +        <lucene.snapshot.revision>1675927</lucene.snapshot.revision>, +                <argument>-Des.security.manager.enabled=false</argument>, +++ b/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +    private void setup(boolean addShutdownHook, Settings settings, Environment environment) throws Exception {, +        setupSecurity(settings, environment);, +        if (settings.getAsBoolean("bootstrap.mlockall", false)) {, +        NodeBuilder nodeBuilder = NodeBuilder.nodeBuilder().settings(settings).loadConfigSettings(false);, +        if (settings.getAsBoolean("bootstrap.ctrlhandler", true)) {, +    private static void setupLogging(Settings settings, Environment environment) {, +            settings.getClassLoader().loadClass("org.apache.log4j.Logger");, +            LogConfigurator.configure(settings);, +        Settings settings = tuple.v1();, +        Environment environment = tuple.v2();, +        setupLogging(settings, environment);, +        setup(true, settings, environment);, +        Settings settings = null;, +        Environment environment = null;, +            Tuple<Settings, Environment> tuple = initialSettings();, +            settings = tuple.v1();, +            environment = tuple.v2();, +            setupLogging(settings, environment);, +            bootstrap.setup(true, settings, environment);, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +import org.elasticsearch.index.mapper.MergeResult;, +                                MergeResult mergeResult = existingMapper.merge(newMapper.mapping(), true);, +                                    throw new MergeMappingException(mergeResult.buildConflicts());, +++ b/docs/reference/query-dsl/queries/template-query.asciidoc, +            "query": { "match": { "text": "{{query_string}}" }}},, +            "query": "{ \"match\": { \"text\": \"{{query_string}}\" }}}", <1>, +    "template": { "match": { "text": "{{query_string}}" }}},, +++ b/pom.xml, +        <lucene.snapshot.revision>1675927</lucene.snapshot.revision>, +                <argument>-Des.security.manager.enabled=false</argument>, +++ b/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +    private void setup(boolean addShutdownHook, Settings settings, Environment environment) throws Exception {, +        setupSecurity(settings, environment);, +        if (settings.getAsBoolean("bootstrap.mlockall", false)) {, +        NodeBuilder nodeBuilder = NodeBuilder.nodeBuilder().settings(settings).loadConfigSettings(false);, +        if (settings.getAsBoolean("bootstrap.ctrlhandler", true)) {, +    private static void setupLogging(Settings settings, Environment environment) {, +            settings.getClassLoader().loadClass("org.apache.log4j.Logger");, +            LogConfigurator.configure(settings);, +        Settings settings = tuple.v1();, +        Environment environment = tuple.v2();, +        setupLogging(settings, environment);, +        setup(true, settings, environment);, +        Settings settings = null;, +        Environment environment = null;, +            Tuple<Settings, Environment> tuple = initialSettings();, +            settings = tuple.v1();, +            environment = tuple.v2();, +            setupLogging(settings, environment);, +            bootstrap.setup(true, settings, environment);, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +import org.elasticsearch.index.mapper.MergeResult;, +                                MergeResult mergeResult = existingMapper.merge(newMapper.mapping(), true);, +                                    throw new MergeMappingException(mergeResult.buildConflicts());]