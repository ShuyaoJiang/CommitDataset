[+++ b/distribution/packages/build.gradle, +++ b/distribution/packages/build.gradle, +++ b/docs/CHANGELOG.asciidoc, +<<systemd-service-file-config, Systemd service file is no longer marked as configuration>> ({pull}29004[#29004]), +++ b/distribution/packages/build.gradle, +++ b/docs/CHANGELOG.asciidoc, +<<systemd-service-file-config, Systemd service file is no longer marked as configuration>> ({pull}29004[#29004]), +++ b/docs/reference/migration/migrate_7_0.asciidoc, +* <<breaking_70_packaging_changes>>, +include::migrate_7_0/packaging.asciidoc[], +++ b/distribution/packages/build.gradle, +++ b/docs/CHANGELOG.asciidoc, +<<systemd-service-file-config, Systemd service file is no longer marked as configuration>> ({pull}29004[#29004]), +++ b/docs/reference/migration/migrate_7_0.asciidoc, +* <<breaking_70_packaging_changes>>, +include::migrate_7_0/packaging.asciidoc[], +++ b/docs/reference/migration/migrate_7_0/packaging.asciidoc, +[[breaking_70_packaging_changes]], +=== Packaging changes, +, +[[systemd-service-file-config]], +==== systemd service file is no longer configuration, +, +The systemd service file `/usr/lib/systemd/system/elasticsearch.service`, +was previously marked as a configuration file in rpm and deb packages., +Overrides to the systemd elasticsearch service should be made, +in `/etc/systemd/system/elasticsearch.service.d/override.conf`., +++ b/distribution/packages/build.gradle, +++ b/docs/CHANGELOG.asciidoc, +<<systemd-service-file-config, Systemd service file is no longer marked as configuration>> ({pull}29004[#29004]), +++ b/docs/reference/migration/migrate_7_0.asciidoc, +* <<breaking_70_packaging_changes>>, +include::migrate_7_0/packaging.asciidoc[], +++ b/docs/reference/migration/migrate_7_0/packaging.asciidoc, +[[breaking_70_packaging_changes]], +=== Packaging changes, +, +[[systemd-service-file-config]], +==== systemd service file is no longer configuration, +, +The systemd service file `/usr/lib/systemd/system/elasticsearch.service`, +was previously marked as a configuration file in rpm and deb packages., +Overrides to the systemd elasticsearch service should be made, +in `/etc/systemd/system/elasticsearch.service.d/override.conf`., +++ b/qa/vagrant/src/test/resources/packaging/tests/30_deb_package.bats, +        missing_exit_code=4, +        if [ $(systemctl --version | head -1 | awk '{print $2}') -lt 231 ]; then, +          # systemd before version 231 used exit code 3 when the service did not exist, +          missing_exit_code=3, +        fi, +        [ "$status" -eq $missing_exit_code ]]