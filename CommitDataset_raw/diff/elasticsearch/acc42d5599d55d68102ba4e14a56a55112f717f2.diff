[+++ b/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +    /**, +     * Read in a list of strings. List can be empty but not {@code null}., +     */, +    public List<String> readStringList() throws IOException {, +        int size = readVInt();, +        if (size == 0) {, +            return Collections.emptyList();, +        }, +        List<String> ret = new ArrayList<>(size);, +        for (int i = 0; i < size; i++) {, +            ret.add(readString());, +        }, +        return ret;, +    }, +, +++ b/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +    /**, +     * Read in a list of strings. List can be empty but not {@code null}., +     */, +    public List<String> readStringList() throws IOException {, +        int size = readVInt();, +        if (size == 0) {, +            return Collections.emptyList();, +        }, +        List<String> ret = new ArrayList<>(size);, +        for (int i = 0; i < size; i++) {, +            ret.add(readString());, +        }, +        return ret;, +    }, +, +++ b/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +     * Write a list of strings. List can be empty but not {@code null}., +     */, +    public void writeStringList(List<String> stringList) throws IOException {, +        writeVInt(stringList.size());, +        for (String s : stringList) {, +            writeString(s);, +        }, +    }, +, +    /**, +++ b/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +    /**, +     * Read in a list of strings. List can be empty but not {@code null}., +     */, +    public List<String> readStringList() throws IOException {, +        int size = readVInt();, +        if (size == 0) {, +            return Collections.emptyList();, +        }, +        List<String> ret = new ArrayList<>(size);, +        for (int i = 0; i < size; i++) {, +            ret.add(readString());, +        }, +        return ret;, +    }, +, +++ b/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +     * Write a list of strings. List can be empty but not {@code null}., +     */, +    public void writeStringList(List<String> stringList) throws IOException {, +        writeVInt(stringList.size());, +        for (String s : stringList) {, +            writeString(s);, +        }, +    }, +, +    /**, +++ b/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java, +++ b/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +    /**, +     * Read in a list of strings. List can be empty but not {@code null}., +     */, +    public List<String> readStringList() throws IOException {, +        int size = readVInt();, +        if (size == 0) {, +            return Collections.emptyList();, +        }, +        List<String> ret = new ArrayList<>(size);, +        for (int i = 0; i < size; i++) {, +            ret.add(readString());, +        }, +        return ret;, +    }, +, +++ b/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +     * Write a list of strings. List can be empty but not {@code null}., +     */, +    public void writeStringList(List<String> stringList) throws IOException {, +        writeVInt(stringList.size());, +        for (String s : stringList) {, +            writeString(s);, +        }, +    }, +, +    /**, +++ b/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java, +++ b/src/main/java/org/elasticsearch/index/query/AndQueryParser.java]