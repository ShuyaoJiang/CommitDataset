[+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/MlMetadata.java, +        public Builder putJobs(Collection<Job> jobs) {, +            for (Job job : jobs) {, +                putJob(job, true);, +, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/MlMetadata.java, +        public Builder putJobs(Collection<Job> jobs) {, +            for (Job job : jobs) {, +                putJob(job, true);, +, +++ b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/job/persistence/JobConfigProvider.java, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/MlMetadata.java, +        public Builder putJobs(Collection<Job> jobs) {, +            for (Job job : jobs) {, +                putJob(job, true);, +, +++ b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/job/persistence/JobConfigProvider.java, +++ b/x-pack/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/MlMetadataTests.java, +import java.util.ArrayList;, +import java.util.List;, +        List<DatafeedConfig> datafeeds = new ArrayList<>();, +        datafeeds.add(createDatafeedConfig("bar-1-feed", "bar-1").build());, +        datafeeds.add(createDatafeedConfig("foo-1-feed", "foo-1").build());, +        datafeeds.add(createDatafeedConfig("foo-2-feed", "foo-2").build());, +        mlMetadataBuilder.putDatafeeds(datafeeds);, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/MlMetadata.java, +        public Builder putJobs(Collection<Job> jobs) {, +            for (Job job : jobs) {, +                putJob(job, true);, +, +++ b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/job/persistence/JobConfigProvider.java, +++ b/x-pack/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/MlMetadataTests.java, +import java.util.ArrayList;, +import java.util.List;, +        List<DatafeedConfig> datafeeds = new ArrayList<>();, +        datafeeds.add(createDatafeedConfig("bar-1-feed", "bar-1").build());, +        datafeeds.add(createDatafeedConfig("foo-1-feed", "foo-1").build());, +        datafeeds.add(createDatafeedConfig("foo-2-feed", "foo-2").build());, +        mlMetadataBuilder.putDatafeeds(datafeeds);, +++ b/x-pack/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/integration/JobConfigProviderIT.java]