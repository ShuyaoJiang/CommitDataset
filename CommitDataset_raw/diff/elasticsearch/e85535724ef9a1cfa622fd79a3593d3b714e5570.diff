[+++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +        Natives.trySetMaxNumberOfThreads();, +        Natives.trySetMaxSizeVirtualMemory();, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +        Natives.trySetMaxNumberOfThreads();, +        Natives.trySetMaxSizeVirtualMemory();, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Natives.java, +    static void trySetMaxNumberOfThreads() {, +        if (!JNA_AVAILABLE) {, +            logger.warn("cannot getrlimit RLIMIT_NPROC because JNA is not available");, +            return;, +        }, +        JNANatives.trySetMaxNumberOfThreads();, +    }, +, +    static void trySetMaxSizeVirtualMemory() {, +        if (!JNA_AVAILABLE) {, +            logger.warn("cannot getrlimit RLIMIT_AS beacuse JNA is not available");, +            return;, +        }, +        JNANatives.trySetMaxSizeVirtualMemory();, +    }, +]