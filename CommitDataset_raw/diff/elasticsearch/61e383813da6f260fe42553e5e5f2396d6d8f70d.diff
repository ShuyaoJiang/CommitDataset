[+++ b/core/src/main/java/org/elasticsearch/transport/DelegatingTransportChannel.java, +import org.elasticsearch.Version;, +, +, +    @Override, +    public Version getVersion() {, +        return channel.getVersion();, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/DelegatingTransportChannel.java, +import org.elasticsearch.Version;, +, +, +    @Override, +    public Version getVersion() {, +        return channel.getVersion();, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/TcpTransportChannel.java, +    @Override, +    public Version getVersion() {, +        return version;, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/DelegatingTransportChannel.java, +import org.elasticsearch.Version;, +, +, +    @Override, +    public Version getVersion() {, +        return channel.getVersion();, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/TcpTransportChannel.java, +    @Override, +    public Version getVersion() {, +        return version;, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/TransportChannel.java, +import org.elasticsearch.Version;, +, +, +    /**, +     * Returns the version of the other party that this channel will send a response to., +     */, +    default Version getVersion() {, +        return Version.CURRENT;, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/DelegatingTransportChannel.java, +import org.elasticsearch.Version;, +, +, +    @Override, +    public Version getVersion() {, +        return channel.getVersion();, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/TcpTransportChannel.java, +    @Override, +    public Version getVersion() {, +        return version;, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/TransportChannel.java, +import org.elasticsearch.Version;, +, +, +    /**, +     * Returns the version of the other party that this channel will send a response to., +     */, +    default Version getVersion() {, +        return Version.CURRENT;, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/TransportService.java, +, +        @Override, +        public Version getVersion() {, +            return localNode.getVersion();, +        }, +++ b/core/src/main/java/org/elasticsearch/transport/DelegatingTransportChannel.java, +import org.elasticsearch.Version;, +, +, +    @Override, +    public Version getVersion() {, +        return channel.getVersion();, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/TcpTransportChannel.java, +    @Override, +    public Version getVersion() {, +        return version;, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/TransportChannel.java, +import org.elasticsearch.Version;, +, +, +    /**, +     * Returns the version of the other party that this channel will send a response to., +     */, +    default Version getVersion() {, +        return Version.CURRENT;, +    }, +++ b/core/src/main/java/org/elasticsearch/transport/TransportService.java, +, +        @Override, +        public Version getVersion() {]