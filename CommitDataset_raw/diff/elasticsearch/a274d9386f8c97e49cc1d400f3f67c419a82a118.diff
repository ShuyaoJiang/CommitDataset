[+++ b/src/main/java/org/elasticsearch/common/Strings.java, +        return collectionToDelimitedString(coll, delim, prefix, suffix, new StringBuilder());, +    }, +, +    public static String collectionToDelimitedString(Iterable coll, String delim, String prefix, String suffix, StringBuilder sb) {, +        return arrayToDelimitedString(arr, delim, new StringBuilder());, +    }, +, +    public static String arrayToDelimitedString(Object[] arr, String delim, StringBuilder sb) {, +++ b/src/main/java/org/elasticsearch/common/Strings.java, +        return collectionToDelimitedString(coll, delim, prefix, suffix, new StringBuilder());, +    }, +, +    public static String collectionToDelimitedString(Iterable coll, String delim, String prefix, String suffix, StringBuilder sb) {, +        return arrayToDelimitedString(arr, delim, new StringBuilder());, +    }, +, +    public static String arrayToDelimitedString(Object[] arr, String delim, StringBuilder sb) {, +++ b/src/main/java/org/elasticsearch/index/search/slowlog/ShardSlowLogSearchService.java, +import org.elasticsearch.common.Strings;, +            if (context.types() == null) {, +                sb.append("types[], ");, +            } else {, +                sb.append("types[");, +                Strings.arrayToDelimitedString(context.types(), ",", sb);, +                sb.append("], ");, +            }, +            if (context.groupStats() == null) {, +                sb.append("stats[], ");, +            } else {, +                sb.append("stats[");, +                Strings.collectionToDelimitedString(context.groupStats(), ",", "", "", sb);, +                sb.append("], ");, +            }]