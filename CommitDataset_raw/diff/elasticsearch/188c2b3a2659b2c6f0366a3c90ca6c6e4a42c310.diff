[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/NoticeTask.groovy, +import org.gradle.api.tasks.InputFile, +    @InputFile, +    File inputFile = project.rootProject.file('NOTICE.txt'), +, +    File outputFile = new File(project.buildDir, "notices/${name}/NOTICE.txt"), +        output.append(inputFile.getText('UTF-8')), +        outputFile.setText(output.toString(), 'UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/NoticeTask.groovy, +import org.gradle.api.tasks.InputFile, +    @InputFile, +    File inputFile = project.rootProject.file('NOTICE.txt'), +, +    File outputFile = new File(project.buildDir, "notices/${name}/NOTICE.txt"), +        output.append(inputFile.getText('UTF-8')), +        outputFile.setText(output.toString(), 'UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/plugin/PluginBuildPlugin.groovy, +            generateNotice.inputFile = noticeFile]