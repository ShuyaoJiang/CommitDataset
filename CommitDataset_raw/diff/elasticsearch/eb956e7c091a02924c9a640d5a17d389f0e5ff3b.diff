[+++ b/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public String toString() {, +        try {, +            XContentBuilder builder = XContentFactory.jsonBuilder().prettyPrint();, +            builder.startObject();, +            toXContent(builder, EMPTY_PARAMS);, +            builder.endObject();, +            return builder.string();, +        } catch (IOException e) {, +            return "{ \"error\" : \"" + e.getMessage() + "\"}";, +        }, +    }, +, +    @Override, +                Settings settings = indexMetaData.settings();, +                if (settingsFilter != null) {, +                    settings = settingsFilter.filterSettings(indexMetaData.settings());, +                }, +++ b/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public String toString() {, +        try {, +            XContentBuilder builder = XContentFactory.jsonBuilder().prettyPrint();, +            builder.startObject();, +            toXContent(builder, EMPTY_PARAMS);, +            builder.endObject();, +            return builder.string();, +        } catch (IOException e) {, +            return "{ \"error\" : \"" + e.getMessage() + "\"}";, +        }, +    }, +, +    @Override, +                Settings settings = indexMetaData.settings();, +                if (settingsFilter != null) {, +                    settings = settingsFilter.filterSettings(indexMetaData.settings());, +                }, +++ b/src/main/java/org/elasticsearch/common/lucene/BytesRefs.java, +     * Converts a value to a string, taking special care if its a {@link BytesRef} to call, +     * {@link org.apache.lucene.util.BytesRef#utf8ToString()}., +     */, +    public static String toString(Object value) {, +        if (value == null) {, +            return null;, +        }, +        if (value instanceof BytesRef) {, +            return ((BytesRef) value).utf8ToString();, +        }, +        return value.toString();, +    }, +, +    /**, +++ b/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public String toString() {, +        try {, +            XContentBuilder builder = XContentFactory.jsonBuilder().prettyPrint();, +            builder.startObject();, +            toXContent(builder, EMPTY_PARAMS);, +            builder.endObject();, +            return builder.string();, +        } catch (IOException e) {, +            return "{ \"error\" : \"" + e.getMessage() + "\"}";, +        }, +    }, +, +    @Override, +                Settings settings = indexMetaData.settings();, +                if (settingsFilter != null) {, +                    settings = settingsFilter.filterSettings(indexMetaData.settings());, +                }, +++ b/src/main/java/org/elasticsearch/common/lucene/BytesRefs.java, +     * Converts a value to a string, taking special care if its a {@link BytesRef} to call, +     * {@link org.apache.lucene.util.BytesRef#utf8ToString()}., +     */, +    public static String toString(Object value) {, +        if (value == null) {, +            return null;, +        }, +        if (value instanceof BytesRef) {, +            return ((BytesRef) value).utf8ToString();, +        }, +        return value.toString();, +    }, +, +    /**, +++ b/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java, +        NumericUtils.intToPrefixCoded(parseValue(value), 0, bytesRef); // 0 because of exact match, +++ b/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public String toString() {, +        try {, +            XContentBuilder builder = XContentFactory.jsonBuilder().prettyPrint();, +            builder.startObject();, +            toXContent(builder, EMPTY_PARAMS);, +            builder.endObject();, +            return builder.string();, +        } catch (IOException e) {, +            return "{ \"error\" : \"" + e.getMessage() + "\"}";, +        }, +    }, +, +    @Override]