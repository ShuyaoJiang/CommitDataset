[+++ b/core/src/main/java/org/elasticsearch/index/engine/Engine.java, +                stats.addPointsMemoryInBytes(guardedRamBytesUsed(segmentReader.getPointsReader()));, +++ b/core/src/main/java/org/elasticsearch/index/engine/Engine.java, +                stats.addPointsMemoryInBytes(guardedRamBytesUsed(segmentReader.getPointsReader()));, +++ b/core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java, +    private long pointsMemoryInBytes;, +            .fPut("dii", "Points"), +            .fPut("dim", "Points"), +    public void addPointsMemoryInBytes(long pointsMemoryInBytes) {, +        this.pointsMemoryInBytes += pointsMemoryInBytes;, +    }, +, +        addPointsMemoryInBytes(mergeStats.pointsMemoryInBytes);, +     * Estimation of the points memory usage by a segment., +     */, +    public long getPointsMemoryInBytes() {, +        return this.pointsMemoryInBytes;, +    }, +, +    public ByteSizeValue getPointsMemory() {, +        return new ByteSizeValue(pointsMemoryInBytes);, +    }, +, +    /**, +        builder.byteSizeField(Fields.POINTS_MEMORY_IN_BYTES, Fields.POINTS_MEMORY, pointsMemoryInBytes);, +        static final XContentBuilderString POINTS_MEMORY = new XContentBuilderString("points_memory");, +        static final XContentBuilderString POINTS_MEMORY_IN_BYTES = new XContentBuilderString("points_memory_in_bytes");, +        pointsMemoryInBytes = in.readLong();, +        out.writeLong(pointsMemoryInBytes);, +++ b/core/src/main/java/org/elasticsearch/index/engine/Engine.java, +                stats.addPointsMemoryInBytes(guardedRamBytesUsed(segmentReader.getPointsReader()));, +++ b/core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java, +    private long pointsMemoryInBytes;, +            .fPut("dii", "Points"), +            .fPut("dim", "Points"), +    public void addPointsMemoryInBytes(long pointsMemoryInBytes) {, +        this.pointsMemoryInBytes += pointsMemoryInBytes;, +    }, +, +        addPointsMemoryInBytes(mergeStats.pointsMemoryInBytes);, +     * Estimation of the points memory usage by a segment., +     */, +    public long getPointsMemoryInBytes() {, +        return this.pointsMemoryInBytes;, +    }, +, +    public ByteSizeValue getPointsMemory() {, +        return new ByteSizeValue(pointsMemoryInBytes);, +    }, +, +    /**, +        builder.byteSizeField(Fields.POINTS_MEMORY_IN_BYTES, Fields.POINTS_MEMORY, pointsMemoryInBytes);, +        static final XContentBuilderString POINTS_MEMORY = new XContentBuilderString("points_memory");, +        static final XContentBuilderString POINTS_MEMORY_IN_BYTES = new XContentBuilderString("points_memory_in_bytes");, +        pointsMemoryInBytes = in.readLong();, +        out.writeLong(pointsMemoryInBytes);, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java, +        assertEquals(0, stats.getPointsMemoryInBytes());, +                        .startObject("baz"), +                            .field("type", "long"), +                        .endObject(), +        client().prepareIndex("test", "doc", "1").setSource("foo", "bar", "bar", "baz", "baz", 42).get();, +        assertThat(stats.getPointsMemoryInBytes(), greaterThan(0L));, +        client().prepareIndex("test", "doc", "2").setSource("foo", "bar", "bar", "baz", "baz", 43).get();, +        assertThat(stats2.getPointsMemoryInBytes(), greaterThan(stats.getPointsMemoryInBytes()));, +++ b/core/src/main/java/org/elasticsearch/index/engine/Engine.java, +                stats.addPointsMemoryInBytes(guardedRamBytesUsed(segmentReader.getPointsReader()));, +++ b/core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java, +    private long pointsMemoryInBytes;, +            .fPut("dii", "Points"), +            .fPut("dim", "Points"), +    public void addPointsMemoryInBytes(long pointsMemoryInBytes) {, +        this.pointsMemoryInBytes += pointsMemoryInBytes;, +    }, +, +        addPointsMemoryInBytes(mergeStats.pointsMemoryInBytes);, +     * Estimation of the points memory usage by a segment., +     */, +    public long getPointsMemoryInBytes() {, +        return this.pointsMemoryInBytes;, +    }, +, +    public ByteSizeValue getPointsMemory() {, +        return new ByteSizeValue(pointsMemoryInBytes);, +    }, +, +    /**, +        builder.byteSizeField(Fields.POINTS_MEMORY_IN_BYTES, Fields.POINTS_MEMORY, pointsMemoryInBytes);, +        static final XContentBuilderString POINTS_MEMORY = new XContentBuilderString("points_memory");, +        static final XContentBuilderString POINTS_MEMORY_IN_BYTES = new XContentBuilderString("points_memory_in_bytes");, +        pointsMemoryInBytes = in.readLong();, +        out.writeLong(pointsMemoryInBytes);, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java, +        assertEquals(0, stats.getPointsMemoryInBytes());, +                        .startObject("baz"), +                            .field("type", "long"), +                        .endObject(), +        client().prepareIndex("test", "doc", "1").setSource("foo", "bar", "bar", "baz", "baz", 42).get();, +        assertThat(stats.getPointsMemoryInBytes(), greaterThan(0L));, +        client().prepareIndex("test", "doc", "2").setSource("foo", "bar", "bar", "baz", "baz", 43).get();]