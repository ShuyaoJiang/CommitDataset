[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/threadpool/blocking/BlockingThreadPool.java, +import org.elasticsearch.common.util.concurrent.TransferThreadPoolExecutor;, +        if (executorService instanceof TransferThreadPoolExecutor) {, +            return ((TransferThreadPoolExecutor) executorService).getPoolSize();, +        } else {, +    }, +        if (executorService instanceof TransferThreadPoolExecutor) {, +            return ((TransferThreadPoolExecutor) executorService).getActiveCount();, +        } else {, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/threadpool/blocking/BlockingThreadPool.java, +import org.elasticsearch.common.util.concurrent.TransferThreadPoolExecutor;, +        if (executorService instanceof TransferThreadPoolExecutor) {, +            return ((TransferThreadPoolExecutor) executorService).getPoolSize();, +        } else {, +    }, +        if (executorService instanceof TransferThreadPoolExecutor) {, +            return ((TransferThreadPoolExecutor) executorService).getActiveCount();, +        } else {, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/threadpool/scaling/ScalingThreadPool.java, +        if (executorService instanceof TransferThreadPoolExecutor) {, +        } else {, +            return ((ThreadPoolExecutor) executorService).getPoolSize();, +        }, +        if (executorService instanceof TransferThreadPoolExecutor) {, +        } else {, +            return ((ThreadPoolExecutor) executorService).getActiveCount();, +        }]