[+++ b/libs/x-content/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +import java.math.BigDecimal;, +import java.math.BigInteger;, +        writers.put(BigInteger.class, (b, v) -> b.value((BigInteger) v));, +        writers.put(BigDecimal.class, (b, v) -> b.value((BigDecimal) v));, +    // BigInteger, +    //////////////////////////////////, +, +    public XContentBuilder field(String name, BigInteger value) throws IOException {, +        if (value == null) {, +            return nullField(name);, +        }, +        ensureNameNotNull(name);, +        generator.writeNumberField(name, value);, +        return this;, +    }, +, +    public XContentBuilder array(String name, BigInteger[] values) throws IOException {, +        return field(name).values(values);, +    }, +, +    private XContentBuilder values(BigInteger[] values) throws IOException {, +        if (values == null) {, +            return nullValue();, +        }, +        startArray();, +        for (BigInteger b : values) {, +            value(b);, +        }, +        endArray();, +        return this;, +    }, +, +    public XContentBuilder value(BigInteger value) throws IOException {, +        if (value == null) {, +            return nullValue();, +        }, +        generator.writeNumber(value);, +        return this;, +    }, +, +, +    ////////////////////////////////////////////////////////////////////////////, +    // BigDecimal, +    //////////////////////////////////, +, +    public XContentBuilder field(String name, BigDecimal value) throws IOException {, +        if (value == null) {, +            return nullField(name);, +        }, +        ensureNameNotNull(name);, +        generator.writeNumberField(name, value);, +        return this;, +    }, +, +    public XContentBuilder array(String name, BigDecimal[] values) throws IOException {, +        return field(name).values(values);, +    }, +, +    private XContentBuilder values(BigDecimal[] values) throws IOException {, +        if (values == null) {, +            return nullValue();, +        }, +        startArray();, +        for (BigDecimal b : values) {, +            value(b);, +        }, +        endArray();, +        return this;, +    }, +, +    public XContentBuilder value(BigDecimal value) throws IOException {, +        if (value == null) {, +            return nullValue();, +        }, +        generator.writeNumber(value);, +        return this;, +    }, +, +    ////////////////////////////////////////////////////////////////////////////, +++ b/libs/x-content/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +import java.math.BigDecimal;, +import java.math.BigInteger;, +        writers.put(BigInteger.class, (b, v) -> b.value((BigInteger) v));, +        writers.put(BigDecimal.class, (b, v) -> b.value((BigDecimal) v));, +    // BigInteger, +    //////////////////////////////////, +, +    public XContentBuilder field(String name, BigInteger value) throws IOException {, +        if (value == null) {, +            return nullField(name);, +        }, +        ensureNameNotNull(name);, +        generator.writeNumberField(name, value);, +        return this;, +    }, +, +    public XContentBuilder array(String name, BigInteger[] values) throws IOException {, +        return field(name).values(values);, +    }]