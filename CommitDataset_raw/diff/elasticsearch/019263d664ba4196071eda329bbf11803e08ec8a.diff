[+++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +            org.elasticsearch.tasks.TaskCancelledException::new, 146, Version.V_5_1_1_UNRELEASED),, +                org.elasticsearch.common.xcontent.NamedXContentRegistry.UnknownNamedObjectException::new, 148, Version.V_5_2_0_UNRELEASED);, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +            org.elasticsearch.tasks.TaskCancelledException::new, 146, Version.V_5_1_1_UNRELEASED),, +                org.elasticsearch.common.xcontent.NamedXContentRegistry.UnknownNamedObjectException::new, 148, Version.V_5_2_0_UNRELEASED);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_1_1_ID_UNRELEASED = 5010199;, +    public static final Version V_5_1_1_UNRELEASED = new Version(V_5_1_1_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +    public static final int V_5_1_2_ID_UNRELEASED = 5010299;, +    public static final Version V_5_1_2_UNRELEASED = new Version(V_5_1_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +    public static final int V_5_2_0_ID_UNRELEASED = 5020099;, +    public static final Version V_5_2_0_UNRELEASED = new Version(V_5_2_0_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_0);, +    public static final int V_5_2_1_ID_UNRELEASED = 5020199;, +    public static final Version V_5_2_1_UNRELEASED = new Version(V_5_2_1_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_1);, +    public static final int V_5_2_2_ID_UNRELEASED = 5020299;, +    public static final Version V_5_2_2_UNRELEASED = new Version(V_5_2_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_1);, +            case V_5_2_2_ID_UNRELEASED:, +                return V_5_2_2_UNRELEASED;, +            case V_5_2_1_ID_UNRELEASED:, +                return V_5_2_1_UNRELEASED;, +            case V_5_2_0_ID_UNRELEASED:, +                return V_5_2_0_UNRELEASED;, +            case V_5_1_2_ID_UNRELEASED:, +                return V_5_1_2_UNRELEASED;, +            case V_5_1_1_ID_UNRELEASED:, +                return V_5_1_1_UNRELEASED;, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +            org.elasticsearch.tasks.TaskCancelledException::new, 146, Version.V_5_1_1_UNRELEASED),, +                org.elasticsearch.common.xcontent.NamedXContentRegistry.UnknownNamedObjectException::new, 148, Version.V_5_2_0_UNRELEASED);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_1_1_ID_UNRELEASED = 5010199;, +    public static final Version V_5_1_1_UNRELEASED = new Version(V_5_1_1_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +    public static final int V_5_1_2_ID_UNRELEASED = 5010299;, +    public static final Version V_5_1_2_UNRELEASED = new Version(V_5_1_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +    public static final int V_5_2_0_ID_UNRELEASED = 5020099;, +    public static final Version V_5_2_0_UNRELEASED = new Version(V_5_2_0_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_0);, +    public static final int V_5_2_1_ID_UNRELEASED = 5020199;, +    public static final Version V_5_2_1_UNRELEASED = new Version(V_5_2_1_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_1);, +    public static final int V_5_2_2_ID_UNRELEASED = 5020299;, +    public static final Version V_5_2_2_UNRELEASED = new Version(V_5_2_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_1);, +            case V_5_2_2_ID_UNRELEASED:, +                return V_5_2_2_UNRELEASED;, +            case V_5_2_1_ID_UNRELEASED:, +                return V_5_2_1_UNRELEASED;, +            case V_5_2_0_ID_UNRELEASED:, +                return V_5_2_0_UNRELEASED;, +            case V_5_1_2_ID_UNRELEASED:, +                return V_5_1_2_UNRELEASED;, +            case V_5_1_1_ID_UNRELEASED:, +                return V_5_1_1_UNRELEASED;, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequest.java, +        if (version.before(Version.V_5_2_0_UNRELEASED)) {, +            throw new IllegalArgumentException("cannot explain shards in a mixed-cluster with pre-" + Version.V_5_2_0_UNRELEASED +, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +            org.elasticsearch.tasks.TaskCancelledException::new, 146, Version.V_5_1_1_UNRELEASED),, +                org.elasticsearch.common.xcontent.NamedXContentRegistry.UnknownNamedObjectException::new, 148, Version.V_5_2_0_UNRELEASED);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_1_1_ID_UNRELEASED = 5010199;, +    public static final Version V_5_1_1_UNRELEASED = new Version(V_5_1_1_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +    public static final int V_5_1_2_ID_UNRELEASED = 5010299;, +    public static final Version V_5_1_2_UNRELEASED = new Version(V_5_1_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +    public static final int V_5_2_0_ID_UNRELEASED = 5020099;, +    public static final Version V_5_2_0_UNRELEASED = new Version(V_5_2_0_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_0);, +    public static final int V_5_2_1_ID_UNRELEASED = 5020199;, +    public static final Version V_5_2_1_UNRELEASED = new Version(V_5_2_1_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_1);, +    public static final int V_5_2_2_ID_UNRELEASED = 5020299;, +    public static final Version V_5_2_2_UNRELEASED = new Version(V_5_2_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_1);, +            case V_5_2_2_ID_UNRELEASED:, +                return V_5_2_2_UNRELEASED;, +            case V_5_2_1_ID_UNRELEASED:, +                return V_5_2_1_UNRELEASED;, +            case V_5_2_0_ID_UNRELEASED:, +                return V_5_2_0_UNRELEASED;, +            case V_5_1_2_ID_UNRELEASED:, +                return V_5_1_2_UNRELEASED;, +            case V_5_1_1_ID_UNRELEASED:, +                return V_5_1_1_UNRELEASED;, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequest.java, +        if (version.before(Version.V_5_2_0_UNRELEASED)) {, +            throw new IllegalArgumentException("cannot explain shards in a mixed-cluster with pre-" + Version.V_5_2_0_UNRELEASED +, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java, +        if (in.getVersion().onOrBefore(Version.V_5_1_1_UNRELEASED)) {, +        if (out.getVersion().onOrBefore(Version.V_5_1_1_UNRELEASED)) {, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +            org.elasticsearch.tasks.TaskCancelledException::new, 146, Version.V_5_1_1_UNRELEASED),, +                org.elasticsearch.common.xcontent.NamedXContentRegistry.UnknownNamedObjectException::new, 148, Version.V_5_2_0_UNRELEASED);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_1_1_ID_UNRELEASED = 5010199;, +    public static final Version V_5_1_1_UNRELEASED = new Version(V_5_1_1_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +    public static final int V_5_1_2_ID_UNRELEASED = 5010299;, +    public static final Version V_5_1_2_UNRELEASED = new Version(V_5_1_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +    public static final int V_5_2_0_ID_UNRELEASED = 5020099;, +    public static final Version V_5_2_0_UNRELEASED = new Version(V_5_2_0_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_0);, +    public static final int V_5_2_1_ID_UNRELEASED = 5020199;, +    public static final Version V_5_2_1_UNRELEASED = new Version(V_5_2_1_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_1);, +    public static final int V_5_2_2_ID_UNRELEASED = 5020299;, +    public static final Version V_5_2_2_UNRELEASED = new Version(V_5_2_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_4_1);, +            case V_5_2_2_ID_UNRELEASED:, +                return V_5_2_2_UNRELEASED;]