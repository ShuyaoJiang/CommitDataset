[+++ b/core/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +            return new TermInSetQuery(UidFieldMapper.NAME, uids);, +            return new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(context.queryTypes(), values));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +            return new TermInSetQuery(UidFieldMapper.NAME, uids);, +            return new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(context.queryTypes(), values));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +            return new TermInSetQuery(UidFieldMapper.NAME, uids);, +            return new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(context.queryTypes(), values));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +            return new TermInSetQuery(UidFieldMapper.NAME, uids);, +            return new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(context.queryTypes(), values));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/TypeFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +        // Same threshold as TermInSetQuery, +            return new TermInSetQuery(CONTENT_TYPE, types);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +            return new TermInSetQuery(UidFieldMapper.NAME, uids);, +            return new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(context.queryTypes(), values));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/TypeFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +        // Same threshold as TermInSetQuery, +            return new TermInSetQuery(CONTENT_TYPE, types);, +++ b/core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java, +import org.apache.lucene.search.TermInSetQuery;, +            query = new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(typesForQuery, ids));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +            return new TermInSetQuery(UidFieldMapper.NAME, uids);, +            return new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(context.queryTypes(), values));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/TypeFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +        // Same threshold as TermInSetQuery, +            return new TermInSetQuery(CONTENT_TYPE, types);, +++ b/core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java, +import org.apache.lucene.search.TermInSetQuery;, +            query = new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(typesForQuery, ids));, +++ b/core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java, +import org.apache.lucene.search.TermInSetQuery;, +            TermInSetQuery query = new TermInSetQuery(UidFieldMapper.NAME, uids.toArray(new BytesRef[uids.size()]));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +            return new TermInSetQuery(UidFieldMapper.NAME, uids);, +            return new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(context.queryTypes(), values));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java, +import org.apache.lucene.search.TermInSetQuery;, +        return new TermInSetQuery(name(), bytesRefs);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/TypeFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +        // Same threshold as TermInSetQuery, +            return new TermInSetQuery(CONTENT_TYPE, types);, +++ b/core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java, +import org.apache.lucene.search.TermInSetQuery;, +            query = new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(typesForQuery, ids));, +++ b/core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java, +import org.apache.lucene.search.TermInSetQuery;, +            TermInSetQuery query = new TermInSetQuery(UidFieldMapper.NAME, uids.toArray(new BytesRef[uids.size()]));, +++ b/core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java, +import org.apache.lucene.search.TermInSetQuery;, +            return new TermInSetQuery(fieldName, filterValues);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java, +import org.apache.lucene.search.TermInSetQuery;, +            return new TermInSetQuery(UidFieldMapper.NAME, uids);, +            return new TermInSetQuery(UidFieldMapper.NAME, Uid.createUidsForTypesAndIds(context.queryTypes(), values));, +++ b/core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java]