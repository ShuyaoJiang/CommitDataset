[+++ b/src/main/java/org/elasticsearch/alerts/actions/AlertActionEntry.java, +    private SearchRequest payloadRequest;, +    private Map<String, Object> payloadResponse;, +    /**, +     * @return the payload search response, +     */, +    public Map<String, Object> getPayloadResponse() {, +        return payloadResponse;, +    }, +, +    public void setPayloadResponse(Map<String, Object> payloadResponse) {, +        this.payloadResponse = payloadResponse;, +    }, +, +    /**, +     * @return the payload search request, +     */, +    public SearchRequest getPayloadRequest() {, +        return payloadRequest;, +    }, +, +    public void setPayloadRequest(SearchRequest payloadRequest) {, +        this.payloadRequest = payloadRequest;, +    }, +, +, +, +        historyEntry.field("trigger_request");, +            historyEntry.field("trigger_response", triggerResponse);, +        }, +, +        if (payloadRequest != null) {, +            historyEntry.field("payload_request");, +            AlertUtils.writeSearchRequest(payloadRequest, historyEntry, params);, +        }, +        if (payloadResponse != null) {, +            historyEntry.field("payload_response", triggerResponse);, +++ b/src/main/java/org/elasticsearch/alerts/actions/AlertActionEntry.java, +    private SearchRequest payloadRequest;, +    private Map<String, Object> payloadResponse;, +    /**, +     * @return the payload search response, +     */, +    public Map<String, Object> getPayloadResponse() {, +        return payloadResponse;, +    }, +, +    public void setPayloadResponse(Map<String, Object> payloadResponse) {, +        this.payloadResponse = payloadResponse;, +    }, +, +    /**, +     * @return the payload search request, +     */, +    public SearchRequest getPayloadRequest() {, +        return payloadRequest;, +    }, +, +    public void setPayloadRequest(SearchRequest payloadRequest) {, +        this.payloadRequest = payloadRequest;, +    }, +, +, +, +        historyEntry.field("trigger_request");, +            historyEntry.field("trigger_response", triggerResponse);, +        }, +, +        if (payloadRequest != null) {, +            historyEntry.field("payload_request");, +            AlertUtils.writeSearchRequest(payloadRequest, historyEntry, params);, +        }, +        if (payloadResponse != null) {, +            historyEntry.field("payload_response", triggerResponse);, +++ b/src/main/java/org/elasticsearch/alerts/actions/AlertActionManager.java, +    public static final String TRIGGER_REQUEST = "trigger_request";, +    public static final String TRIGGER_RESPONSE = "trigger_response";, +    public static final String PAYLOAD_REQUEST = "payload_request";, +    public static final String PAYLOAD_RESPONSE = "payload_response";, +                        case TRIGGER_REQUEST:, +                        case TRIGGER_RESPONSE:, +                        case PAYLOAD_REQUEST:, +                            entry.setPayloadRequest(AlertUtils.readSearchRequest(parser));, +                            break;, +                        case PAYLOAD_RESPONSE:, +                            entry.setPayloadResponse(parser.map());, +                            break;, +                    entry.setPayloadRequest(trigger.getPayloadRequest());, +                    entry.setPayloadResponse(trigger.getPayloadResponse());, +++ b/src/main/java/org/elasticsearch/alerts/actions/AlertActionEntry.java, +    private SearchRequest payloadRequest;, +    private Map<String, Object> payloadResponse;, +    /**, +     * @return the payload search response, +     */, +    public Map<String, Object> getPayloadResponse() {, +        return payloadResponse;, +    }, +, +    public void setPayloadResponse(Map<String, Object> payloadResponse) {]