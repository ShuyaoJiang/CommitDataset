[+++ b/buildSrc/build.gradle, +  compile 'de.thetaphi:forbiddenapis:2.1', +++ b/buildSrc/build.gradle, +  compile 'de.thetaphi:forbiddenapis:2.1', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]discovery[/\\]zen[/\\]ping[/\\]unicast[/\\]UnicastZenPingIT.java" checks="LineLength" />, +++ b/buildSrc/build.gradle, +  compile 'de.thetaphi:forbiddenapis:2.1', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]discovery[/\\]zen[/\\]ping[/\\]unicast[/\\]UnicastZenPingIT.java" checks="LineLength" />, +++ b/buildSrc/src/main/resources/forbidden/es-all-signatures.txt, +@defaultMessage Don't use MethodHandles in slow ways, dont be lenient in tests., +# unfortunately, invoke() cannot be banned, because forbidden apis does not support signature polymorphic methods, +++ b/buildSrc/build.gradle, +  compile 'de.thetaphi:forbiddenapis:2.1', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]discovery[/\\]zen[/\\]ping[/\\]unicast[/\\]UnicastZenPingIT.java" checks="LineLength" />, +++ b/buildSrc/src/main/resources/forbidden/es-all-signatures.txt, +@defaultMessage Don't use MethodHandles in slow ways, dont be lenient in tests., +# unfortunately, invoke() cannot be banned, because forbidden apis does not support signature polymorphic methods, +++ b/core/src/main/java/org/elasticsearch/Version.java, +import org.elasticsearch.common.inject.AbstractModule;, +, +    public static class Module extends AbstractModule {, +, +        private final Version version;, +, +        public Module(Version version) {, +            this.version = version;, +        }, +, +        @Override, +        protected void configure() {, +            bind(Version.class).toInstance(version);, +        }, +    }, +++ b/buildSrc/build.gradle, +  compile 'de.thetaphi:forbiddenapis:2.1', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]discovery[/\\]zen[/\\]ping[/\\]unicast[/\\]UnicastZenPingIT.java" checks="LineLength" />, +++ b/buildSrc/src/main/resources/forbidden/es-all-signatures.txt, +@defaultMessage Don't use MethodHandles in slow ways, dont be lenient in tests., +# unfortunately, invoke() cannot be banned, because forbidden apis does not support signature polymorphic methods, +++ b/core/src/main/java/org/elasticsearch/Version.java, +import org.elasticsearch.common.inject.AbstractModule;, +, +    public static class Module extends AbstractModule {, +, +        private final Version version;, +, +        public Module(Version version) {, +            this.version = version;, +        }, +, +        @Override, +        protected void configure() {, +            bind(Version.class).toInstance(version);, +        }, +    }, +++ b/core/src/main/java/org/elasticsearch/action/main/TransportMainAction.java, +    private final Version version;, +                               ClusterService clusterService, Version version) {, +        this.version = version;, +            new MainResponse(Node.NODE_NAME_SETTING.get(settings), version, clusterState.getClusterName(), Build.CURRENT, available));, +++ b/buildSrc/build.gradle, +  compile 'de.thetaphi:forbiddenapis:2.1', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]discovery[/\\]zen[/\\]ping[/\\]unicast[/\\]UnicastZenPingIT.java" checks="LineLength" />, +++ b/buildSrc/src/main/resources/forbidden/es-all-signatures.txt, +@defaultMessage Don't use MethodHandles in slow ways, dont be lenient in tests., +# unfortunately, invoke() cannot be banned, because forbidden apis does not support signature polymorphic methods, +++ b/core/src/main/java/org/elasticsearch/Version.java, +import org.elasticsearch.common.inject.AbstractModule;, +, +    public static class Module extends AbstractModule {, +, +        private final Version version;, +, +        public Module(Version version) {, +            this.version = version;, +        }, +, +        @Override, +        protected void configure() {, +            bind(Version.class).toInstance(version);, +        }, +    }, +++ b/core/src/main/java/org/elasticsearch/action/main/TransportMainAction.java, +    private final Version version;, +                               ClusterService clusterService, Version version) {, +        this.version = version;, +            new MainResponse(Node.NODE_NAME_SETTING.get(settings), version, clusterState.getClusterName(), Build.CURRENT, available));, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java, +    ReplicationOperation(Request request, Primary<Request, ReplicaRequest, PrimaryResultT> primary,, +    void execute() throws Exception {, +    interface Primary<, +    interface Replicas<ReplicaRequest extends ReplicationRequest<ReplicaRequest>> {, +    interface PrimaryResult<R extends ReplicationRequest<R>> {, +++ b/buildSrc/build.gradle, +  compile 'de.thetaphi:forbiddenapis:2.1']