[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +    private byte[] source;, +    public SearchRequest(String index, byte[] source) {, +    public SearchRequest(String[] indices, byte[] source) {, +    @Required public SearchRequest source(byte[] source) {, +    public byte[] source() {, +        source = new byte[in.readInt()];, +        in.readFully(source);, +        out.writeInt(source.length);, +        out.write(source);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +    private byte[] source;, +    public SearchRequest(String index, byte[] source) {, +    public SearchRequest(String[] indices, byte[] source) {, +    @Required public SearchRequest source(byte[] source) {, +    public byte[] source() {, +        source = new byte[in.readInt()];, +        in.readFully(source);, +        out.writeInt(source.length);, +        out.write(source);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java, +    private byte[] parseSearchSource(RestRequest request) {, +            return request.contentAsBytes();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +    private byte[] source;, +    public SearchRequest(String index, byte[] source) {, +    public SearchRequest(String[] indices, byte[] source) {, +    @Required public SearchRequest source(byte[] source) {, +    public byte[] source() {, +        source = new byte[in.readInt()];, +        in.readFully(source);, +        out.writeInt(source.length);, +        out.write(source);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java, +    private byte[] parseSearchSource(RestRequest request) {, +            return request.contentAsBytes();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/SearchService.java, +            JsonParser jp = jsonFactory.createJsonParser(context.source());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +    private byte[] source;, +    public SearchRequest(String index, byte[] source) {, +    public SearchRequest(String[] indices, byte[] source) {, +    @Required public SearchRequest source(byte[] source) {, +    public byte[] source() {, +        source = new byte[in.readInt()];, +        in.readFully(source);, +        out.writeInt(source.length);, +        out.write(source);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java, +    private byte[] parseSearchSource(RestRequest request) {, +            return request.contentAsBytes();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/SearchService.java, +            JsonParser jp = jsonFactory.createJsonParser(context.source());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java, +import org.elasticsearch.util.json.JsonBuilder;, +    public byte[] build() throws SearchException {, +            JsonBuilder builder = binaryJsonBuilder();, +            return builder.copiedBytes();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +    private byte[] source;, +    public SearchRequest(String index, byte[] source) {, +    public SearchRequest(String[] indices, byte[] source) {, +    @Required public SearchRequest source(byte[] source) {, +    public byte[] source() {, +        source = new byte[in.readInt()];, +        in.readFully(source);, +        out.writeInt(source.length);, +        out.write(source);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java, +    private byte[] parseSearchSource(RestRequest request) {, +            return request.contentAsBytes();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/SearchService.java, +            JsonParser jp = jsonFactory.createJsonParser(context.source());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java, +import org.elasticsearch.util.json.JsonBuilder;, +    public byte[] build() throws SearchException {, +            JsonBuilder builder = binaryJsonBuilder();, +            return builder.copiedBytes();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/internal/InternalSearchRequest.java, +    private byte[] source;, +    public InternalSearchRequest(ShardRouting shardRouting, byte[] source) {, +    public InternalSearchRequest(String index, int shardId, byte[] source) {, +    public byte[] source() {, +        source = new byte[in.readInt()];, +        in.readFully(source);, +        out.writeInt(source.length);, +        out.write(source);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +    private byte[] source;, +    public SearchRequest(String index, byte[] source) {, +    public SearchRequest(String[] indices, byte[] source) {, +    @Required public SearchRequest source(byte[] source) {, +    public byte[] source() {, +        source = new byte[in.readInt()];, +        in.readFully(source);, +        out.writeInt(source.length);, +        out.write(source);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java, +    private byte[] parseSearchSource(RestRequest request) {, +            return request.contentAsBytes();]