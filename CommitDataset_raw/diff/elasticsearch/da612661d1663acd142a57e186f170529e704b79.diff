[+++ b/modules/transport-netty4/src/main/java/org/elasticsearch/transport/netty4/Netty4TcpChannel.java, +import io.netty.channel.ChannelException;, +import java.io.IOException;, +    public void setSoLinger(int value) throws IOException {, +        if (channel.isOpen()) {, +            try {, +            } catch (ChannelException e) {, +                throw new IOException(e);, +            }, +        }]