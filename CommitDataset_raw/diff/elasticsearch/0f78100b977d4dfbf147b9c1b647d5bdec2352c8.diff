[+++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.apache.lucene.search.FuzzyQuery;, +                    Query fuzzyQuery = currentMapper.fuzzyQuery(termStr, minSimilarity, fuzzyPrefixLength, FuzzyQuery.defaultMaxExpansions);, +                    return wrapSmartNameQuery(fuzzyQuery, fieldMappers, parseContext);, +        }, +        return super.getFuzzyQuery(field, termStr, minSimilarity);, +++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.apache.lucene.search.FuzzyQuery;, +                    Query fuzzyQuery = currentMapper.fuzzyQuery(termStr, minSimilarity, fuzzyPrefixLength, FuzzyQuery.defaultMaxExpansions);, +                    return wrapSmartNameQuery(fuzzyQuery, fieldMappers, parseContext);, +        }, +        return super.getFuzzyQuery(field, termStr, minSimilarity);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java, +    Query fuzzyQuery(String value, String minSim, int prefixLength, int maxExpansions);, +, +    Query fuzzyQuery(String value, double minSim, int prefixLength, int maxExpansions);, +, +++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.apache.lucene.search.FuzzyQuery;, +                    Query fuzzyQuery = currentMapper.fuzzyQuery(termStr, minSimilarity, fuzzyPrefixLength, FuzzyQuery.defaultMaxExpansions);, +                    return wrapSmartNameQuery(fuzzyQuery, fieldMappers, parseContext);, +        }, +        return super.getFuzzyQuery(field, termStr, minSimilarity);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java, +    Query fuzzyQuery(String value, String minSim, int prefixLength, int maxExpansions);, +, +    Query fuzzyQuery(String value, double minSim, int prefixLength, int maxExpansions);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/AbstractFieldMapper.java, +    @Override public Query fuzzyQuery(String value, String minSim, int prefixLength, int maxExpansions) {, +        return new FuzzyQuery(new Term(names.indexName(), value), Float.parseFloat(minSim), prefixLength, maxExpansions);, +    }, +, +    @Override public Query fuzzyQuery(String value, double minSim, int prefixLength, int maxExpansions) {, +        return new FuzzyQuery(new Term(names.indexName(), value), (float) minSim, prefixLength, maxExpansions);, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.apache.lucene.search.FuzzyQuery;, +                    Query fuzzyQuery = currentMapper.fuzzyQuery(termStr, minSimilarity, fuzzyPrefixLength, FuzzyQuery.defaultMaxExpansions);, +                    return wrapSmartNameQuery(fuzzyQuery, fieldMappers, parseContext);, +        }, +        return super.getFuzzyQuery(field, termStr, minSimilarity);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java, +    Query fuzzyQuery(String value, String minSim, int prefixLength, int maxExpansions);, +, +    Query fuzzyQuery(String value, double minSim, int prefixLength, int maxExpansions);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/AbstractFieldMapper.java, +    @Override public Query fuzzyQuery(String value, String minSim, int prefixLength, int maxExpansions) {, +        return new FuzzyQuery(new Term(names.indexName(), value), Float.parseFloat(minSim), prefixLength, maxExpansions);, +    }, +, +    @Override public Query fuzzyQuery(String value, double minSim, int prefixLength, int maxExpansions) {, +        return new FuzzyQuery(new Term(names.indexName(), value), (float) minSim, prefixLength, maxExpansions);, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/BoostFieldMapper.java, +        super(new Names(name, indexName, indexName, name), precisionStep, null, index, store, boost, omitNorms, omitTermFreqAndPositions,, +    @Override public Query fuzzyQuery(String value, String minSim, int prefixLength, int maxExpansions) {, +        float iValue = Float.parseFloat(value);, +        float iSim = Float.parseFloat(minSim);, +        return NumericRangeQuery.newFloatRange(names.indexName(), precisionStep,, +                iValue - iSim,, +                iValue + iSim,, +                true, true);, +    }, +, +    @Override public Query fuzzyQuery(String value, double minSim, int prefixLength, int maxExpansions) {, +        float iValue = Float.parseFloat(value);, +        float iSim = (float) (minSim * dFuzzyFactor);, +        return NumericRangeQuery.newFloatRange(names.indexName(), precisionStep,, +                iValue - iSim,, +                iValue + iSim,, +                true, true);, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.apache.lucene.search.FuzzyQuery;, +                    Query fuzzyQuery = currentMapper.fuzzyQuery(termStr, minSimilarity, fuzzyPrefixLength, FuzzyQuery.defaultMaxExpansions);, +                    return wrapSmartNameQuery(fuzzyQuery, fieldMappers, parseContext);, +        }, +        return super.getFuzzyQuery(field, termStr, minSimilarity);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java, +    Query fuzzyQuery(String value, String minSim, int prefixLength, int maxExpansions);, +, +    Query fuzzyQuery(String value, double minSim, int prefixLength, int maxExpansions);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/AbstractFieldMapper.java, +    @Override public Query fuzzyQuery(String value, String minSim, int prefixLength, int maxExpansions) {, +        return new FuzzyQuery(new Term(names.indexName(), value), Float.parseFloat(minSim), prefixLength, maxExpansions);, +    }, +, +    @Override public Query fuzzyQuery(String value, double minSim, int prefixLength, int maxExpansions) {, +        return new FuzzyQuery(new Term(names.indexName(), value), (float) minSim, prefixLength, maxExpansions);, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/BoostFieldMapper.java, +        super(new Names(name, indexName, indexName, name), precisionStep, null, index, store, boost, omitNorms, omitTermFreqAndPositions,, +    @Override public Query fuzzyQuery(String value, String minSim, int prefixLength, int maxExpansions) {]