[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/ping/broadcast/TransportBroadcastPingAction.java, +    @Inject public TransportBroadcastPingAction(Settings settings, ThreadPool threadPool, ClusterService clusterService, TransportService transportService) {, +        super(settings, threadPool, clusterService, transportService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/ping/broadcast/TransportBroadcastPingAction.java, +    @Inject public TransportBroadcastPingAction(Settings settings, ThreadPool threadPool, ClusterService clusterService, TransportService transportService) {, +        super(settings, threadPool, clusterService, transportService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +import org.elasticsearch.index.service.IndexService;, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +        IndexService service = indicesService.indexService(request.index());, +        if (service != null) {, +            service.cache().clear();, +        queryParserCache.clear();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/ping/broadcast/TransportBroadcastPingAction.java, +    @Inject public TransportBroadcastPingAction(Settings settings, ThreadPool threadPool, ClusterService clusterService, TransportService transportService) {, +        super(settings, threadPool, clusterService, transportService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +import org.elasticsearch.index.service.IndexService;, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +        IndexService service = indicesService.indexService(request.index());, +        if (service != null) {, +            service.cache().clear();, +        queryParserCache.clear();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/ping/broadcast/TransportBroadcastPingAction.java, +    @Inject public TransportBroadcastPingAction(Settings settings, ThreadPool threadPool, ClusterService clusterService, TransportService transportService) {, +        super(settings, threadPool, clusterService, transportService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +import org.elasticsearch.index.service.IndexService;, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +        IndexService service = indicesService.indexService(request.index());, +        if (service != null) {, +            service.cache().clear();, +        queryParserCache.clear();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/gateway/snapshot/TransportGatewaySnapshotAction.java, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/ping/broadcast/TransportBroadcastPingAction.java, +    @Inject public TransportBroadcastPingAction(Settings settings, ThreadPool threadPool, ClusterService clusterService, TransportService transportService) {, +        super(settings, threadPool, clusterService, transportService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +import org.elasticsearch.index.service.IndexService;, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +        IndexService service = indicesService.indexService(request.index());, +        if (service != null) {, +            service.cache().clear();, +        queryParserCache.clear();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/gateway/snapshot/TransportGatewaySnapshotAction.java, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/ping/broadcast/TransportBroadcastPingAction.java, +    @Inject public TransportBroadcastPingAction(Settings settings, ThreadPool threadPool, ClusterService clusterService, TransportService transportService) {, +        super(settings, threadPool, clusterService, transportService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +import org.elasticsearch.index.service.IndexService;, +    private final IndicesService indicesService;, +, +        super(settings, threadPool, clusterService, transportService);, +        this.indicesService = indicesService;, +        IndexService service = indicesService.indexService(request.index());, +        if (service != null) {, +            service.cache().clear();, +        queryParserCache.clear();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java, +    private final IndicesService indicesService;]