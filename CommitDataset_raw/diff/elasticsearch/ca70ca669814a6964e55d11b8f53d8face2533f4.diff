[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +    private final boolean buildSnapshot = System.getProperty("build.snapshot", "true") == "true", +        /*, +         * The tip of each minor series (>= 5.6) is unreleased, so they must be built from source (we set branch to non-null), and we set, +         * the snapshot flag if and only if build.snapshot is true., +         */, +                        currConsideredVersion.revision, currConsideredVersion.suffix, buildSnapshot, branch), +            it.major == targetMajor && it.before(currentVersion) && it.snapshot == buildSnapshot, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +    private final boolean buildSnapshot = System.getProperty("build.snapshot", "true") == "true", +        /*, +         * The tip of each minor series (>= 5.6) is unreleased, so they must be built from source (we set branch to non-null), and we set, +         * the snapshot flag if and only if build.snapshot is true., +         */, +                        currConsideredVersion.revision, currConsideredVersion.suffix, buildSnapshot, branch), +            it.major == targetMajor && it.before(currentVersion) && it.snapshot == buildSnapshot, +++ b/distribution/bwc/build.gradle, +    startParameter.systemPropertiesArgs = ['build.snapshot': System.getProperty("build.snapshot") ?: "true"]]