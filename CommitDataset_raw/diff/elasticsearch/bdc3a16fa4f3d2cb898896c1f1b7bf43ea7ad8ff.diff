[+++ b/core/src/main/java/org/elasticsearch/action/support/GroupedActionListener.java, +    private final AtomicArray<T> results;, +        results = new AtomicArray<>(groupSize);, +        results.setOnce(pos.incrementAndGet() - 1, element);, +                List<T> collect = this.results.asList();]