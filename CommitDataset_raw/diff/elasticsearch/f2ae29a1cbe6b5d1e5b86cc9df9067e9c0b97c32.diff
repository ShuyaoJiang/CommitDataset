[+++ b/core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java, +        Store store = newStore(tempDir, false);, +, +        Store targetStore = newStore(createTempDir(), false);, +, +        Store store = newStore(tempDir, false);, +        Store targetStore = newStore(createTempDir(), false);, +        return newStore(path, true);, +    }, +    private Store newStore(Path path, boolean checkIndex) throws IOException {, +                BaseDirectoryWrapper baseDirectoryWrapper = RecoverySourceHandlerTests.newFSDirectory(path);, +                if (checkIndex == false) {, +                    baseDirectoryWrapper.setCheckIndexOnClose(false); // don't run checkindex we might corrupt the index in these tests, +                }, +                return baseDirectoryWrapper;, +++ b/core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java, +        Store store = newStore(tempDir, false);, +, +        Store targetStore = newStore(createTempDir(), false);, +, +        Store store = newStore(tempDir, false);, +        Store targetStore = newStore(createTempDir(), false);, +        return newStore(path, true);, +    }, +    private Store newStore(Path path, boolean checkIndex) throws IOException {, +                BaseDirectoryWrapper baseDirectoryWrapper = RecoverySourceHandlerTests.newFSDirectory(path);, +                if (checkIndex == false) {, +                    baseDirectoryWrapper.setCheckIndexOnClose(false); // don't run checkindex we might corrupt the index in these tests, +                }, +                return baseDirectoryWrapper;, +++ b/pom.xml, +                    <version>1.8</version>]