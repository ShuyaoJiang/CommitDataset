[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/admin/indices/template/put/RestPutIndexTemplateAction.java, +import org.elasticsearch.ElasticSearchIllegalArgumentException;, +import org.elasticsearch.rest.BaseRestHandler;, +import org.elasticsearch.rest.RestChannel;, +import org.elasticsearch.rest.RestController;, +import org.elasticsearch.rest.RestHandler;, +import org.elasticsearch.rest.RestRequest;, +import org.elasticsearch.rest.XContentRestResponse;, +import org.elasticsearch.rest.XContentThrowableRestResponse;, +                if (!(source.get("settings") instanceof Map)) {, +                    throw new ElasticSearchIllegalArgumentException("Malformed settings section, should include an inner object");, +                }, +                    if (!(entry.getValue() instanceof Map)) {, +                        throw new ElasticSearchIllegalArgumentException("Malformed mappings section for type [" + entry.getKey() + "], should include an inner object describing the mapping");, +                    }, +            return;]