[+++ b/core/src/main/java/org/elasticsearch/index/get/ShardGetService.java, +                    if (!values.isEmpty()) {, +                        for (int i = 0; i < values.size(); i++) {, +                            values.set(i, fieldMapper.fieldType().valueForSearch(values.get(i)));, +                        }, +++ b/core/src/main/java/org/elasticsearch/index/get/ShardGetService.java, +                    if (!values.isEmpty()) {, +                        for (int i = 0; i < values.size(); i++) {, +                            values.set(i, fieldMapper.fieldType().valueForSearch(values.get(i)));, +                        }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/BaseGeoPointFieldMapper.java, +                                KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed, CopyTo copyTo);, +            KeywordFieldMapper geoHashMapper = null;, +                geoHashMapper = new KeywordFieldMapper.Builder(Names.GEOHASH).index(true).includeInAll(false).store(fieldType.stored()).build(context);, +    protected KeywordFieldMapper geoHashMapper;, +                                      FieldMapper latMapper, FieldMapper lonMapper, KeywordFieldMapper geoHashMapper,, +        KeywordFieldMapper geoUpdated = geoHashMapper == null ? null : (KeywordFieldMapper) geoHashMapper.updateFieldType(fullNameToFieldType);, +++ b/core/src/main/java/org/elasticsearch/index/get/ShardGetService.java, +                    if (!values.isEmpty()) {, +                        for (int i = 0; i < values.size(); i++) {, +                            values.set(i, fieldMapper.fieldType().valueForSearch(values.get(i)));, +                        }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/BaseGeoPointFieldMapper.java, +                                KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed, CopyTo copyTo);, +            KeywordFieldMapper geoHashMapper = null;, +                geoHashMapper = new KeywordFieldMapper.Builder(Names.GEOHASH).index(true).includeInAll(false).store(fieldType.stored()).build(context);, +    protected KeywordFieldMapper geoHashMapper;, +                                      FieldMapper latMapper, FieldMapper lonMapper, KeywordFieldMapper geoHashMapper,, +        KeywordFieldMapper geoUpdated = geoHashMapper == null ? null : (KeywordFieldMapper) geoHashMapper.updateFieldType(fullNameToFieldType);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/GeoPointFieldMapper.java, +                                         FieldMapper lonMapper, KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +                               KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed, CopyTo copyTo) {, +++ b/core/src/main/java/org/elasticsearch/index/get/ShardGetService.java, +                    if (!values.isEmpty()) {, +                        for (int i = 0; i < values.size(); i++) {, +                            values.set(i, fieldMapper.fieldType().valueForSearch(values.get(i)));, +                        }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/BaseGeoPointFieldMapper.java, +                                KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed, CopyTo copyTo);, +            KeywordFieldMapper geoHashMapper = null;, +                geoHashMapper = new KeywordFieldMapper.Builder(Names.GEOHASH).index(true).includeInAll(false).store(fieldType.stored()).build(context);, +    protected KeywordFieldMapper geoHashMapper;, +                                      FieldMapper latMapper, FieldMapper lonMapper, KeywordFieldMapper geoHashMapper,, +        KeywordFieldMapper geoUpdated = geoHashMapper == null ? null : (KeywordFieldMapper) geoHashMapper.updateFieldType(fullNameToFieldType);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/GeoPointFieldMapper.java, +                                         FieldMapper lonMapper, KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +                               KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed, CopyTo copyTo) {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/GeoPointFieldMapperLegacy.java, +import org.elasticsearch.common.Strings;, +                                               FieldMapper lonMapper, KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +                                     KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +++ b/core/src/main/java/org/elasticsearch/index/get/ShardGetService.java, +                    if (!values.isEmpty()) {, +                        for (int i = 0; i < values.size(); i++) {, +                            values.set(i, fieldMapper.fieldType().valueForSearch(values.get(i)));, +                        }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/BaseGeoPointFieldMapper.java, +                                KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed, CopyTo copyTo);, +            KeywordFieldMapper geoHashMapper = null;, +                geoHashMapper = new KeywordFieldMapper.Builder(Names.GEOHASH).index(true).includeInAll(false).store(fieldType.stored()).build(context);, +    protected KeywordFieldMapper geoHashMapper;, +                                      FieldMapper latMapper, FieldMapper lonMapper, KeywordFieldMapper geoHashMapper,, +        KeywordFieldMapper geoUpdated = geoHashMapper == null ? null : (KeywordFieldMapper) geoHashMapper.updateFieldType(fullNameToFieldType);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/GeoPointFieldMapper.java, +                                         FieldMapper lonMapper, KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +                               KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed, CopyTo copyTo) {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/GeoPointFieldMapperLegacy.java, +import org.elasticsearch.common.Strings;, +                                               FieldMapper lonMapper, KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +                                     KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +++ b/core/src/main/java/org/elasticsearch/index/mapper/KeywordFieldMapper.java, +            Field field = new Field(fieldType().name(), value, fieldType());, +            fields.add(new SortedSetDocValuesField(fieldType().name(), new BytesRef(value)));, +++ b/core/src/main/java/org/elasticsearch/index/get/ShardGetService.java, +                    if (!values.isEmpty()) {, +                        for (int i = 0; i < values.size(); i++) {, +                            values.set(i, fieldMapper.fieldType().valueForSearch(values.get(i)));, +                        }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/BaseGeoPointFieldMapper.java, +                                KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed, CopyTo copyTo);, +            KeywordFieldMapper geoHashMapper = null;, +                geoHashMapper = new KeywordFieldMapper.Builder(Names.GEOHASH).index(true).includeInAll(false).store(fieldType.stored()).build(context);, +    protected KeywordFieldMapper geoHashMapper;, +                                      FieldMapper latMapper, FieldMapper lonMapper, KeywordFieldMapper geoHashMapper,, +        KeywordFieldMapper geoUpdated = geoHashMapper == null ? null : (KeywordFieldMapper) geoHashMapper.updateFieldType(fullNameToFieldType);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/GeoPointFieldMapper.java, +                                         FieldMapper lonMapper, KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +                               KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed, CopyTo copyTo) {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/GeoPointFieldMapperLegacy.java, +import org.elasticsearch.common.Strings;, +                                               FieldMapper lonMapper, KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +                                     KeywordFieldMapper geoHashMapper, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,, +++ b/core/src/main/java/org/elasticsearch/index/mapper/KeywordFieldMapper.java, +            Field field = new Field(fieldType().name(), value, fieldType());, +            fields.add(new SortedSetDocValuesField(fieldType().name(), new BytesRef(value)));, +++ b/core/src/test/java/org/elasticsearch/index/mapper/DynamicTemplatesTests.java, +        assertThat(f.stringValue(), equalTo("some name"));, +        assertThat(f.stringValue(), equalTo("multi 1"));, +        assertThat(f.stringValue(), equalTo("multi 2"));, +        assertThat(f.stringValue(), equalTo("some name"));]