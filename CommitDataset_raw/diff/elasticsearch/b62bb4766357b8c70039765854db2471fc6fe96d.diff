[+++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +import static org.elasticsearch.node.Node.generateCustomNameResolvers;, +            generateCustomNameResolvers(settings, pluginsService.filterPlugins(DiscoveryPlugin.class)));, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +import static org.elasticsearch.node.Node.generateCustomNameResolvers;, +            generateCustomNameResolvers(settings, pluginsService.filterPlugins(DiscoveryPlugin.class)));, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +import static org.elasticsearch.node.Node.generateCustomNameResolvers;, +            generateCustomNameResolvers(settings, pluginsService.filterPlugins(DiscoveryPlugin.class)));, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +++ b/core/src/main/java/org/elasticsearch/node/Node.java, +                generateCustomNameResolvers(settings, pluginsService.filterPlugins(DiscoveryPlugin.class)));, +, +    /**, +     * Generate Custom Name Resolvers list based on a Discovery Plugins list, +     * @param discoveryPlugins Discovery plugins list, +     */, +    public static List<NetworkService.CustomNameResolver> generateCustomNameResolvers(Settings settings, List<DiscoveryPlugin> discoveryPlugins) {, +        List<NetworkService.CustomNameResolver> customNameResolvers = new ArrayList<>();, +        for (DiscoveryPlugin discoveryPlugin : discoveryPlugins) {, +            NetworkService.CustomNameResolver customNameResolver = discoveryPlugin.getCustomNameResolver(settings);, +            if (customNameResolver != null) {, +                customNameResolvers.add(customNameResolver);, +            }, +        }, +        return customNameResolvers;, +    }]