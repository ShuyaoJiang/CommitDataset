[+++ b/rest-api-spec/test/delete_by_query/10_basic.yaml, +, +---, +"Delete by query failures":, +  - do:, +      index:, +          index:  test_1, +          type:   test, +          id:     1, +          body:   { foo: bar }, +, +  - do:, +      catch: request, +      delete_by_query:, +        index:  test_1, +        body:, +          query:, +            does_not_exist:, +              foo: bar, +, +  - length: { _indices.test_1._shards.failures: 5 }, +, +++ b/rest-api-spec/test/delete_by_query/10_basic.yaml, +, +---, +"Delete by query failures":, +  - do:, +      index:, +          index:  test_1, +          type:   test, +          id:     1, +          body:   { foo: bar }, +, +  - do:, +      catch: request, +      delete_by_query:, +        index:  test_1, +        body:, +          query:, +            does_not_exist:, +              foo: bar, +, +  - length: { _indices.test_1._shards.failures: 5 }, +, +++ b/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java]