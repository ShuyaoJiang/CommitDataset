[+++ b/src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java, +import org.elasticsearch.cluster.ClusterService;, +    private final ClusterService clusterService;, +    public RestMainAction(Settings settings, Version version, RestController controller, ClusterName clusterName, Client client, ClusterService clusterService) {, +        this.clusterService = clusterService;, +    public void handleRequest(final RestRequest request, RestChannel channel, final Client client) throws Exception {, +, +        if (clusterService.state().blocks().hasGlobalBlock(RestStatus.SERVICE_UNAVAILABLE)) {, +            channel.sendResponse(new BytesRestResponse(status));, +            return;, +, +        channel.sendResponse(new BytesRestResponse(status, builder));]