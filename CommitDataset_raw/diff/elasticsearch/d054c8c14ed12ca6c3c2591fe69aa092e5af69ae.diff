[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/blobstore/BlobStoreGateway.java, +import org.elasticsearch.threadpool.ThreadPool;, +    protected BlobStoreGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService) {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/blobstore/BlobStoreGateway.java, +import org.elasticsearch.threadpool.ThreadPool;, +    protected BlobStoreGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService) {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/fs/FsGateway.java, +    @Inject public FsGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +                             Environment environment, ClusterName clusterName) throws IOException {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/blobstore/BlobStoreGateway.java, +import org.elasticsearch.threadpool.ThreadPool;, +    protected BlobStoreGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService) {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/fs/FsGateway.java, +    @Inject public FsGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +                             Environment environment, ClusterName clusterName) throws IOException {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/shared/SharedStorageGateway.java, +import org.elasticsearch.threadpool.ThreadPool;, +    private final ThreadPool threadPool;, +    public SharedStorageGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService) {, +        this.threadPool = threadPool;, +        threadPool.cached().execute(new Runnable() {, +            threadPool.cached().execute(new Runnable() {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/blobstore/BlobStoreGateway.java, +import org.elasticsearch.threadpool.ThreadPool;, +    protected BlobStoreGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService) {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/fs/FsGateway.java, +    @Inject public FsGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +                             Environment environment, ClusterName clusterName) throws IOException {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/shared/SharedStorageGateway.java, +import org.elasticsearch.threadpool.ThreadPool;, +    private final ThreadPool threadPool;, +    public SharedStorageGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService) {, +        this.threadPool = threadPool;, +        threadPool.cached().execute(new Runnable() {, +            threadPool.cached().execute(new Runnable() {, +++ b/plugins/cloud/aws/src/main/java/org/elasticsearch/gateway/s3/S3Gateway.java, +    @Inject public S3Gateway(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +                             ClusterName clusterName, AwsS3Service s3Service) throws IOException {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/blobstore/BlobStoreGateway.java, +import org.elasticsearch.threadpool.ThreadPool;, +    protected BlobStoreGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService) {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/fs/FsGateway.java, +    @Inject public FsGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +                             Environment environment, ClusterName clusterName) throws IOException {, +        super(settings, threadPool, clusterService);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/shared/SharedStorageGateway.java, +import org.elasticsearch.threadpool.ThreadPool;, +    private final ThreadPool threadPool;, +    public SharedStorageGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService) {, +        this.threadPool = threadPool;, +        threadPool.cached().execute(new Runnable() {, +            threadPool.cached().execute(new Runnable() {, +++ b/plugins/cloud/aws/src/main/java/org/elasticsearch/gateway/s3/S3Gateway.java, +    @Inject public S3Gateway(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +                             ClusterName clusterName, AwsS3Service s3Service) throws IOException {, +        super(settings, threadPool, clusterService);, +++ b/plugins/hadoop/src/main/java/org/elasticsearch/gateway/hdfs/HdfsGateway.java, +    @Inject public HdfsGateway(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +                               ClusterName clusterName) throws IOException {, +        super(settings, threadPool, clusterService);]