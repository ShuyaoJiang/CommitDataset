[+++ b/x-pack/plugin/ccr/src/main/java/org/elasticsearch/xpack/ccr/action/ShardFollowTask.java, +        String remoteCluster = in.readString();, +        ShardId followShardId = ShardId.readShardId(in);, +        ShardId leaderShardId = ShardId.readShardId(in);, +        // TODO: use ImmutableFollowParameters(StreamInput) constructor, +        int maxReadRequestOperationCount = in.readVInt();, +        ByteSizeValue maxReadRequestSize = new ByteSizeValue(in);, +        int maxOutstandingReadRequests = in.readVInt();, +        int maxWriteRequestOperationCount = in.readVInt();, +        ByteSizeValue maxWriteRequestSize = new ByteSizeValue(in);, +        int maxOutstandingWriteRequests = in.readVInt();, +        int maxWriteBufferCount = in.readVInt();, +        ByteSizeValue maxWriteBufferSize = new ByteSizeValue(in);, +        TimeValue maxRetryDelay = in.readTimeValue();, +        TimeValue readPollTimeout = in.readTimeValue();, +        Map<String, String> headers = Collections.unmodifiableMap(in.readMap(StreamInput::readString, StreamInput::readString));, +        return new ShardFollowTask(remoteCluster, followShardId, leaderShardId, maxReadRequestOperationCount,, +            maxWriteRequestOperationCount, maxOutstandingReadRequests, maxOutstandingWriteRequests, maxReadRequestSize,, +            maxWriteRequestSize, maxWriteBufferCount, maxWriteBufferSize, maxRetryDelay, readPollTimeout, headers);, +        // TODO: use super.writeTo(), +        out.writeVLong(getMaxReadRequestOperationCount());, +        getMaxReadRequestSize().writeTo(out);, +        out.writeVInt(getMaxOutstandingReadRequests());, +        out.writeVLong(getMaxWriteRequestOperationCount());, +        getMaxWriteRequestSize().writeTo(out);, +        out.writeVInt(getMaxOutstandingWriteRequests());, +        out.writeVInt(getMaxWriteBufferCount());, +        getMaxWriteBufferSize().writeTo(out);, +        out.writeTimeValue(getMaxRetryDelay());, +        out.writeTimeValue(getReadPollTimeout());]