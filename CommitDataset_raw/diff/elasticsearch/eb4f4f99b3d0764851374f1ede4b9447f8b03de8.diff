[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java, +    private boolean local = false;, +, +    public ClusterStateRequest local(boolean local) {, +        this.local = local;, +        return this;, +    }, +, +    public boolean local() {, +        return this.local;, +    }, +, +        local = in.readBoolean();, +        out.writeBoolean(local);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java, +    private boolean local = false;, +, +    public ClusterStateRequest local(boolean local) {, +        this.local = local;, +        return this;, +    }, +, +    public boolean local() {, +        return this.local;, +    }, +, +        local = in.readBoolean();, +        out.writeBoolean(local);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +    @Override protected boolean localExecute(ClusterStateRequest request) {, +        return request.local();, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java, +    private boolean local = false;, +, +    public ClusterStateRequest local(boolean local) {, +        this.local = local;, +        return this;, +    }, +, +    public boolean local() {, +        return this.local;, +    }, +, +        local = in.readBoolean();, +        out.writeBoolean(local);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +    @Override protected boolean localExecute(ClusterStateRequest request) {, +        return request.local();, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java, +    protected boolean localExecute(Request request) {, +        return false;, +    }, +, +        if (nodes.localNodeMaster() || localExecute(request)) {, +            if (clusterState.nodes().localNodeMaster() || localExecute(request)) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java, +    private boolean local = false;, +, +    public ClusterStateRequest local(boolean local) {, +        this.local = local;, +        return this;, +    }, +, +    public boolean local() {, +        return this.local;, +    }, +, +        local = in.readBoolean();, +        out.writeBoolean(local);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +    @Override protected boolean localExecute(ClusterStateRequest request) {, +        return request.local();, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java, +    protected boolean localExecute(Request request) {, +        return false;, +    }, +, +        if (nodes.localNodeMaster() || localExecute(request)) {, +            if (clusterState.nodes().localNodeMaster() || localExecute(request)) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/client/action/admin/cluster/state/ClusterStateRequestBuilder.java, +    /**, +     * Sets if the cluster state request should be executed locally on the node, and not go to the master., +     */, +    public ClusterStateRequestBuilder setLocal(boolean local) {, +        request.local(local);, +        return this;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java, +    private boolean local = false;, +, +    public ClusterStateRequest local(boolean local) {, +        this.local = local;, +        return this;]