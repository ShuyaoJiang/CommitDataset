[+++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_2_0_0 = new Version(V_2_0_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_2_0);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_2_0_0 = new Version(V_2_0_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_2_0);, +++ b/core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        return new AllTermWeight(this, searcher);, +        AllTermWeight(AllTermQuery query, IndexSearcher searcher) throws IOException {, +            super(query, searcher);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_2_0_0 = new Version(V_2_0_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_2_0);, +++ b/core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        return new AllTermWeight(this, searcher);, +        AllTermWeight(AllTermQuery query, IndexSearcher searcher) throws IOException {, +            super(query, searcher);, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_2_0_0 = new Version(V_2_0_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_2_0);, +++ b/core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        return new AllTermWeight(this, searcher);, +        AllTermWeight(AllTermQuery query, IndexSearcher searcher) throws IOException {, +            super(query, searcher);, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_2_0_0 = new Version(V_2_0_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_2_0);, +++ b/core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        return new AllTermWeight(this, searcher);, +        AllTermWeight(AllTermQuery query, IndexSearcher searcher) throws IOException {, +            super(query, searcher);, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_2_0_0 = new Version(V_2_0_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_2_0);, +++ b/core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        return new AllTermWeight(this, searcher);, +        AllTermWeight(AllTermQuery query, IndexSearcher searcher) throws IOException {, +            super(query, searcher);, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java, +            indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_2_0_0 = new Version(V_2_0_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_2_0);, +++ b/core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        return new AllTermWeight(this, searcher);, +        AllTermWeight(AllTermQuery query, IndexSearcher searcher) throws IOException {, +            super(query, searcher);, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java, +            indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java, +        setSimilarity(searcher.searcher().getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_2_0_0 = new Version(V_2_0_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_2_0);, +++ b/core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        return new AllTermWeight(this, searcher);, +        AllTermWeight(AllTermQuery query, IndexSearcher searcher) throws IOException {, +            super(query, searcher);, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java, +            indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java, +        setSimilarity(searcher.searcher().getSimilarity());, +++ b/core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java, +        assert Version.LATEST == Version.LUCENE_5_2_0;, +        assert Version.LATEST == Version.LUCENE_5_2_0;, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_2_0_0 = new Version(V_2_0_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_2_0);, +++ b/core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        return new AllTermWeight(this, searcher);, +        AllTermWeight(AllTermQuery query, IndexSearcher searcher) throws IOException {, +            super(query, searcher);, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java, +        indexSearcher.setSimilarity(searcher.getSimilarity());, +++ b/core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java]