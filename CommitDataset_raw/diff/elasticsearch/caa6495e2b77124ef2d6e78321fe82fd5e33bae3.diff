[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/local/LocalGatewayNodeAllocation.java, +            // TODO we need to also handle a case where all shards per replication group are unassigned, in that case, we ignore until we, +            // manage to find a place to allocate them..., +        // go ahead and see if we can optimize replica allocation to an existing node...]