[+++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +import org.elasticsearch.search.aggregations.metrics.MedianAbsoluteDeviationAggregationBuilder;, +import org.elasticsearch.search.aggregations.metrics.ParsedMedianAbsoluteDeviation;, +        map.put(MedianAbsoluteDeviationAggregationBuilder.NAME, (p, c) -> ParsedMedianAbsoluteDeviation.fromXContent(p, (String) c));, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +import org.elasticsearch.search.aggregations.metrics.MedianAbsoluteDeviationAggregationBuilder;, +import org.elasticsearch.search.aggregations.metrics.ParsedMedianAbsoluteDeviation;, +        map.put(MedianAbsoluteDeviationAggregationBuilder.NAME, (p, c) -> ParsedMedianAbsoluteDeviation.fromXContent(p, (String) c));, +++ b/docs/build.gradle, +// used by median absolute deviation aggregation, +buildRestTests.setups['reviews'] = ''', +  - do:, +        indices.create:, +          index: reviews, +          body:, +            settings:, +              number_of_shards: 1, +              number_of_replicas: 0, +            mappings:, +              _doc:, +                properties:, +                  product:, +                    type: keyword, +                  rating:, +                    type: long, +  - do:, +        bulk:, +          index: reviews, +          type: _doc, +          refresh: true, +          body: |, +            {"index": {"_id": "1"}}, +            {"product": "widget-foo", "rating": 1}, +            {"index": {"_id": "2"}}, +            {"product": "widget-foo", "rating": 5}, +''', +, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +import org.elasticsearch.search.aggregations.metrics.MedianAbsoluteDeviationAggregationBuilder;, +import org.elasticsearch.search.aggregations.metrics.ParsedMedianAbsoluteDeviation;, +        map.put(MedianAbsoluteDeviationAggregationBuilder.NAME, (p, c) -> ParsedMedianAbsoluteDeviation.fromXContent(p, (String) c));, +++ b/docs/build.gradle, +// used by median absolute deviation aggregation, +buildRestTests.setups['reviews'] = ''', +  - do:, +        indices.create:, +          index: reviews, +          body:, +            settings:, +              number_of_shards: 1, +              number_of_replicas: 0, +            mappings:, +              _doc:, +                properties:, +                  product:, +                    type: keyword, +                  rating:, +                    type: long, +  - do:, +        bulk:, +          index: reviews, +          type: _doc, +          refresh: true, +          body: |, +            {"index": {"_id": "1"}}, +            {"product": "widget-foo", "rating": 1}, +            {"index": {"_id": "2"}}, +            {"product": "widget-foo", "rating": 5}, +''', +, +++ b/docs/reference/aggregations/metrics.asciidoc, +include::metrics/median-absolute-deviation-aggregation.asciidoc[], +, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java, +import org.elasticsearch.search.aggregations.metrics.MedianAbsoluteDeviationAggregationBuilder;, +import org.elasticsearch.search.aggregations.metrics.ParsedMedianAbsoluteDeviation;, +        map.put(MedianAbsoluteDeviationAggregationBuilder.NAME, (p, c) -> ParsedMedianAbsoluteDeviation.fromXContent(p, (String) c));, +++ b/docs/build.gradle, +// used by median absolute deviation aggregation, +buildRestTests.setups['reviews'] = ''', +  - do:, +        indices.create:, +          index: reviews, +          body:, +            settings:, +              number_of_shards: 1, +              number_of_replicas: 0, +            mappings:, +              _doc:, +                properties:, +                  product:, +                    type: keyword, +                  rating:, +                    type: long, +  - do:, +        bulk:, +          index: reviews, +          type: _doc, +          refresh: true, +          body: |]