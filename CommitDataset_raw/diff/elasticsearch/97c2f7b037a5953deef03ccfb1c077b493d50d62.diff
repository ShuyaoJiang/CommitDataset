[+++ b/core/src/main/java/org/elasticsearch/common/rounding/Rounding.java, +import org.elasticsearch.common.ParseField;, +import java.util.Objects;, +    @Override, +    public abstract boolean equals(Object obj);, +, +    @Override, +    public abstract int hashCode();, +, +        public static final ParseField INTERVAL_FIELD = new ParseField("interval");, +, +        , +        @Override, +        public int hashCode() {, +            return Objects.hash(interval);, +        }, +        , +        @Override, +        public boolean equals(Object obj) {, +            if (obj == null) {, +                return false;, +            }, +            if (getClass() != obj.getClass()) {, +                return false;, +            }, +            Interval other = (Interval) obj;, +            return Objects.equals(interval, other.interval);, +        }, +        public static final ParseField FACTOR_FIELD = new ParseField("factor");, +, +            rounding = Rounding.Streams.read(in);, +        , +        @Override, +        public int hashCode() {, +            return Objects.hash(rounding, factor);, +        }, +        , +        @Override, +        public boolean equals(Object obj) {, +            if (obj == null) {, +                return false;, +            }, +            if (getClass() != obj.getClass()) {, +                return false;, +            }, +            FactorRounding other = (FactorRounding) obj;, +            return Objects.equals(rounding, other.rounding), +                    && Objects.equals(factor, other.factor);, +        }, +        public static final ParseField OFFSET_FIELD = new ParseField("offset");, +, +        , +        @Override, +        public int hashCode() {, +            return Objects.hash(rounding, offset);, +        }, +        , +        @Override, +        public boolean equals(Object obj) {, +            if (obj == null) {, +                return false;, +            }, +            if (getClass() != obj.getClass()) {, +                return false;, +            }, +            OffsetRounding other = (OffsetRounding) obj;, +            return Objects.equals(rounding, other.rounding), +                    && Objects.equals(offset, other.offset);, +        }, +++ b/core/src/main/java/org/elasticsearch/common/rounding/Rounding.java, +import org.elasticsearch.common.ParseField;, +import java.util.Objects;, +    @Override, +    public abstract boolean equals(Object obj);, +, +    @Override, +    public abstract int hashCode();, +, +        public static final ParseField INTERVAL_FIELD = new ParseField("interval");, +, +        , +        @Override, +        public int hashCode() {, +            return Objects.hash(interval);, +        }, +        , +        @Override, +        public boolean equals(Object obj) {, +            if (obj == null) {, +                return false;, +            }, +            if (getClass() != obj.getClass()) {, +                return false;, +            }, +            Interval other = (Interval) obj;, +            return Objects.equals(interval, other.interval);, +        }, +        public static final ParseField FACTOR_FIELD = new ParseField("factor");, +, +            rounding = Rounding.Streams.read(in);]