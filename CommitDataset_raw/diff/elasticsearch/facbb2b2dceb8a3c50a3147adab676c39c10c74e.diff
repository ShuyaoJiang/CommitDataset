[+++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MultiSearchTemplateResponse.java, +import org.elasticsearch.Version;, +import org.elasticsearch.common.unit.TimeValue;, +    private long tookInMillis; , +    public MultiSearchTemplateResponse(Item[] items, long tookInMillis) {, +        this.tookInMillis = tookInMillis;, +    /**, +     * How long the msearch_template took., +     */, +    public TimeValue getTook() {, +        return new TimeValue(tookInMillis);, +    }, +, +        if (in.getVersion().onOrAfter(Version.V_7_0_0_alpha1)) {, +            tookInMillis = in.readVLong();, +        }, +        if (out.getVersion().onOrAfter(Version.V_7_0_0_alpha1)) {, +            out.writeVLong(tookInMillis);, +        }, +        builder.field("took", tookInMillis);       , +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MultiSearchTemplateResponse.java, +import org.elasticsearch.Version;, +import org.elasticsearch.common.unit.TimeValue;, +    private long tookInMillis; , +    public MultiSearchTemplateResponse(Item[] items, long tookInMillis) {, +        this.tookInMillis = tookInMillis;, +    /**, +     * How long the msearch_template took., +     */, +    public TimeValue getTook() {, +        return new TimeValue(tookInMillis);, +    }, +, +        if (in.getVersion().onOrAfter(Version.V_7_0_0_alpha1)) {, +            tookInMillis = in.readVLong();, +        }, +        if (out.getVersion().onOrAfter(Version.V_7_0_0_alpha1)) {, +            out.writeVLong(tookInMillis);, +        }, +        builder.field("took", tookInMillis);       , +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/TransportMultiSearchTemplateAction.java, +            listener.onResponse(new MultiSearchTemplateResponse(items, r.getTook().millis()));, +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MultiSearchTemplateResponse.java, +import org.elasticsearch.Version;, +import org.elasticsearch.common.unit.TimeValue;, +    private long tookInMillis; , +    public MultiSearchTemplateResponse(Item[] items, long tookInMillis) {, +        this.tookInMillis = tookInMillis;, +    /**, +     * How long the msearch_template took., +     */, +    public TimeValue getTook() {, +        return new TimeValue(tookInMillis);, +    }, +, +        if (in.getVersion().onOrAfter(Version.V_7_0_0_alpha1)) {, +            tookInMillis = in.readVLong();, +        }, +        if (out.getVersion().onOrAfter(Version.V_7_0_0_alpha1)) {, +            out.writeVLong(tookInMillis);, +        }, +        builder.field("took", tookInMillis);       , +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/TransportMultiSearchTemplateAction.java, +            listener.onResponse(new MultiSearchTemplateResponse(items, r.getTook().millis()));, +++ b/modules/lang-mustache/src/test/java/org/elasticsearch/script/mustache/MultiSearchTemplateIT.java, +import static org.hamcrest.Matchers.greaterThan;, +        assertThat(response.getTook().millis(), greaterThan(0L));, +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MultiSearchTemplateResponse.java, +import org.elasticsearch.Version;, +import org.elasticsearch.common.unit.TimeValue;, +    private long tookInMillis; , +    public MultiSearchTemplateResponse(Item[] items, long tookInMillis) {, +        this.tookInMillis = tookInMillis;, +    /**, +     * How long the msearch_template took., +     */, +    public TimeValue getTook() {, +        return new TimeValue(tookInMillis);, +    }, +, +        if (in.getVersion().onOrAfter(Version.V_7_0_0_alpha1)) {, +            tookInMillis = in.readVLong();, +        }, +        if (out.getVersion().onOrAfter(Version.V_7_0_0_alpha1)) {, +            out.writeVLong(tookInMillis);, +        }, +        builder.field("took", tookInMillis);       , +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/TransportMultiSearchTemplateAction.java, +            listener.onResponse(new MultiSearchTemplateResponse(items, r.getTook().millis()));, +++ b/modules/lang-mustache/src/test/java/org/elasticsearch/script/mustache/MultiSearchTemplateIT.java, +import static org.hamcrest.Matchers.greaterThan;, +        assertThat(response.getTook().millis(), greaterThan(0L));, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MultiSearchTemplateResponse.java, +import org.elasticsearch.Version;, +import org.elasticsearch.common.unit.TimeValue;, +    private long tookInMillis; , +    public MultiSearchTemplateResponse(Item[] items, long tookInMillis) {]