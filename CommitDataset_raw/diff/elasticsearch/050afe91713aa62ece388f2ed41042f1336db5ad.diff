[+++ b/core/src/main/java/org/elasticsearch/index/shard/IndexShard.java, +        if (getEngine().refreshNeeded()) {, +        }, +++ b/core/src/main/java/org/elasticsearch/index/shard/IndexShard.java, +        if (getEngine().refreshNeeded()) {, +        }, +++ b/core/src/test/java/org/elasticsearch/index/IndexServiceTests.java, +    }, +    public void testNoFsyncTaskIfDisabled() {, +        Settings settings = Settings.builder(), +            .put(IndexSettings.INDEX_TRANSLOG_SYNC_INTERVAL, "0ms") // disable, +            .build();, +        IndexService indexService = createIndex("test", settings);, +        assertNull(indexService.getFsyncTask());]