[+++ b/src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/TransportDeleteMappingAction.java, +import org.elasticsearch.index.Index;, +import org.elasticsearch.index.query.BoolFilterBuilder;, +import org.elasticsearch.indices.TypeMissingException;, +                ImmutableOpenMap<String, ImmutableOpenMap<String, MappingMetaData>> result = clusterService.state().metaData().findMappings(, +                BoolFilterBuilder filterBuilder = new BoolFilterBuilder();, +                        filterBuilder.should(new TypeFilterBuilder(type.key));, +                if (types.size() == 0) {, +                    throw new TypeMissingException(new Index("_all"), request.types(), "No index has the type.");, +                }]