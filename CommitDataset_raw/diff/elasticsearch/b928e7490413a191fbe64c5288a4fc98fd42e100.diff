[+++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/MultipleFieldsVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/MultipleFieldsVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/SingleFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/MultipleFieldsVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/SingleFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +        return new SourceFieldVisitor();, +++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/MultipleFieldsVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/SingleFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +        return new SourceFieldVisitor();, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldVisitor.java, +    private BytesRef source;, +        return source != null ? Status.STOP : Status.NO;, +        source = new BytesRef(value);, +        document.add(new StoredField("_source", source));, +        return source;, +++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/MultipleFieldsVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/SingleFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +        return new SourceFieldVisitor();, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldVisitor.java, +    private BytesRef source;, +        return source != null ? Status.STOP : Status.NO;, +        source = new BytesRef(value);, +        document.add(new StoredField("_source", source));, +        return source;, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/AllButSourceFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/MultipleFieldsVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/SingleFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +        return new SourceFieldVisitor();, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldVisitor.java, +    private BytesRef source;, +        return source != null ? Status.STOP : Status.NO;, +        source = new BytesRef(value);, +        document.add(new StoredField("_source", source));, +        return source;, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/AllButSourceFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/UidAndRoutingFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/MultipleFieldsVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/SingleFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +        return new SourceFieldVisitor();, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldVisitor.java, +    private BytesRef source;, +        return source != null ? Status.STOP : Status.NO;, +        source = new BytesRef(value);, +        document.add(new StoredField("_source", source));, +        return source;, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/AllButSourceFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/UidAndRoutingFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/UidAndSourceFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/MultipleFieldsVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/SingleFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +        return new SourceFieldVisitor();, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldVisitor.java, +    private BytesRef source;, +        return source != null ? Status.STOP : Status.NO;, +        source = new BytesRef(value);, +        document.add(new StoredField("_source", source));, +        return source;, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/AllButSourceFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/UidAndRoutingFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/UidAndSourceFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/UidFieldVisitor.java, +    private String uid;, +    public UidFieldVisitor() {, +        uid = value;, +        return uid != null ? Status.STOP : Status.NO;, +        document.add(new StoredField("_uid", uid));, +        return uid;, +++ b/src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/MultipleFieldsVisitor.java, +++ b/src/main/java/org/elasticsearch/common/lucene/document/SingleFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java, +        return new SourceFieldVisitor();, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldVisitor.java, +    private BytesRef source;, +        return source != null ? Status.STOP : Status.NO;, +        source = new BytesRef(value);, +        document.add(new StoredField("_source", source));, +        return source;, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/AllButSourceFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/UidAndRoutingFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/UidAndSourceFieldVisitor.java, +++ b/src/main/java/org/elasticsearch/index/mapper/selector/UidFieldVisitor.java, +    private String uid;, +    public UidFieldVisitor() {, +        uid = value;]