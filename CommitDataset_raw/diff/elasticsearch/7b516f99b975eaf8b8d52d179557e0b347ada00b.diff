[+++ b/distribution/bwc/build.gradle, +    Closure createRunBwcGradleTask = { name, extraConfig ->, +        task "$name"(type: Exec) {, +, +            configure extraConfig, +        }, +    }, +, +    createRunBwcGradleTask("buildBwcVersion") {, +        for (String dir : projectDirs) {, +            args ":${dir.replace('/', ':')}:assemble", +        }, +                throw new InvalidUserDataException("Building ${bwcVersion} didn't generate expected files ${missing}"), +    createRunBwcGradleTask("resolveAllBwcDependencies") {, +        args 'resolveAllDependencies', +    }, +, +    resolveAllDependencies.dependsOn resolveAllBwcDependencies, +]