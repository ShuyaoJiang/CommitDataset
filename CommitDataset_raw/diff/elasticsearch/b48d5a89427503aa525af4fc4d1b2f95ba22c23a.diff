[+++ b/test/framework/src/main/java/org/elasticsearch/test/rest/yaml/restspec/ClientYamlSuiteRestApiParser.java, +                    while(parser.nextToken() != XContentParser.Token.END_OBJECT) {, +++ b/test/framework/src/main/java/org/elasticsearch/test/rest/yaml/restspec/ClientYamlSuiteRestApiParser.java, +                    while(parser.nextToken() != XContentParser.Token.END_OBJECT) {, +++ b/test/framework/src/test/java/org/elasticsearch/test/rest/yaml/restspec/ClientYamlSuiteRestApiParserTests.java, +    public void testRequiredBodyWithoutUrlParts() throws Exception {, +        String spec = "{\n" +, +            "  \"count\": {\n" +, +            "    \"documentation\": \"whatever\",\n" +, +            "    \"methods\": [ \"GET\", \"POST\" ],\n" +, +            "    \"url\": {\n" +, +            "      \"path\": \"/whatever\",\n" +, +            "      \"paths\": [ \"/whatever\" ]\n" +, +            "    },\n" +, +            "    \"body\": {\n" +, +            "      \"description\" : \"whatever\",\n" +, +            "      \"required\" : true\n" +, +            "    }\n" +, +            "  }\n" +, +            "}";, +, +        parser = createParser(YamlXContent.yamlXContent, spec);, +        ClientYamlSuiteRestApi restApi = new ClientYamlSuiteRestApiParser().parse("count.json", parser);, +, +        assertThat(restApi, notNullValue());, +        assertThat(restApi.getPathParts().isEmpty(), equalTo(true));, +        assertThat(restApi.getParams().isEmpty(), equalTo(true));, +        assertThat(restApi.isBodyRequired(), equalTo(true));, +    }, +]