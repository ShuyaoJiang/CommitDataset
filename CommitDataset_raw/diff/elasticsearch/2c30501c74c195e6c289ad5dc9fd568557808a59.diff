[+++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Verifier.java, +                                dt.typeName, value.dataType().typeName));, +                                    dt.typeName, child.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Verifier.java, +                                dt.typeName, value.dataType().typeName));, +                                    dt.typeName, child.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/SourceGenerator.java, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Verifier.java, +                                dt.typeName, value.dataType().typeName));, +                                    dt.typeName, child.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/SourceGenerator.java, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/extractor/FieldHitExtractor.java, +        out.writeOptionalString(dataType == null ? null : dataType.typeName);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Verifier.java, +                                dt.typeName, value.dataType().typeName));, +                                    dt.typeName, child.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/SourceGenerator.java, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/extractor/FieldHitExtractor.java, +        out.writeOptionalString(dataType == null ? null : dataType.typeName);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Expressions.java, +                e.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Verifier.java, +                                dt.typeName, value.dataType().typeName));, +                                    dt.typeName, child.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/SourceGenerator.java, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/extractor/FieldHitExtractor.java, +        out.writeOptionalString(dataType == null ? null : dataType.typeName);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Expressions.java, +                e.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/function/aggregate/TopHits.java, +                functionName(), field().dataType().typeName));, +                    functionName(), orderField().dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Verifier.java, +                                dt.typeName, value.dataType().typeName));, +                                    dt.typeName, child.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/SourceGenerator.java, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/extractor/FieldHitExtractor.java, +        out.writeOptionalString(dataType == null ? null : dataType.typeName);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Expressions.java, +                e.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/function/aggregate/TopHits.java, +                functionName(), field().dataType().typeName));, +                    functionName(), orderField().dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/predicate/operator/arithmetic/Sub.java, +import org.elasticsearch.xpack.sql.tree.Source;, +                right().dataType().typeName, right().source().text(), left().source().text()));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Verifier.java, +                                dt.typeName, value.dataType().typeName));, +                                    dt.typeName, child.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/SourceGenerator.java, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/extractor/FieldHitExtractor.java, +        out.writeOptionalString(dataType == null ? null : dataType.typeName);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Expressions.java, +                e.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/function/aggregate/TopHits.java, +                functionName(), field().dataType().typeName));, +                    functionName(), orderField().dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/predicate/operator/arithmetic/Sub.java, +import org.elasticsearch.xpack.sql.tree.Source;, +                right().dataType().typeName, right().source().text(), left().source().text()));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/plan/logical/command/ShowColumns.java, +                rows.add(asList(prefix != null ? prefix + "." + name : name, dt.sqlName(), dt.typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Verifier.java, +                                dt.typeName, value.dataType().typeName));, +                                    dt.typeName, child.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/SourceGenerator.java, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/execution/search/extractor/FieldHitExtractor.java, +        out.writeOptionalString(dataType == null ? null : dataType.typeName);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Expressions.java, +                e.dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/function/aggregate/TopHits.java, +                functionName(), field().dataType().typeName));, +                    functionName(), orderField().dataType().typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/predicate/operator/arithmetic/Sub.java, +import org.elasticsearch.xpack.sql.tree.Source;, +                right().dataType().typeName, right().source().text(), left().source().text()));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/plan/logical/command/ShowColumns.java, +                rows.add(asList(prefix != null ? prefix + "." + name : name, dt.sqlName(), dt.typeName));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/plan/logical/command/sys/SysColumns.java, +                            type.toString(),, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/analysis/analyzer/Analyzer.java, +                        "Cannot use field [" + fa.name() + "] type [" + fa.dataType().typeName + "] only its subfields");]