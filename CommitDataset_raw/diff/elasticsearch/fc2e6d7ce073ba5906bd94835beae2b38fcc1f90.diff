[+++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java, +        numberOfNodes = clusterState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java, +        numberOfNodes = clusterState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                int count = currentState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java, +        numberOfNodes = clusterState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                int count = currentState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java, +        return nodes.size();, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java, +        numberOfNodes = clusterState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                int count = currentState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java, +        return nodes.size();, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java, +            nodesToPublishTo = new HashSet<>(nodes.getSize());, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java, +        numberOfNodes = clusterState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                int count = currentState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java, +        return nodes.size();, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java, +            nodesToPublishTo = new HashSet<>(nodes.getSize());, +++ b/core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java, +        int numNodes = clusterService.state().getNodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java, +        numberOfNodes = clusterState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                int count = currentState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java, +        return nodes.size();, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java, +            nodesToPublishTo = new HashSet<>(nodes.getSize());, +++ b/core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java, +        int numNodes = clusterService.state().getNodes().getSize();, +++ b/core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java, +                assertThat(clusterState.nodes().getSize(), greaterThanOrEqualTo(size - j));, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java, +        numberOfNodes = clusterState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                int count = currentState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java, +        return nodes.size();, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java, +            nodesToPublishTo = new HashSet<>(nodes.getSize());, +++ b/core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java, +        int numNodes = clusterService.state().getNodes().getSize();, +++ b/core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java, +                assertThat(clusterState.nodes().getSize(), greaterThanOrEqualTo(size - j));, +++ b/core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java, +            final int discoveryNodesSize = previousState.getNodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java, +        numberOfNodes = clusterState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                int count = currentState.nodes().getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java, +        return nodes.size();, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java, +            nodesToPublishTo = new HashSet<>(nodes.getSize());, +++ b/core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java, +        int numNodes = clusterService.state().getNodes().getSize();, +++ b/core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java, +                assertThat(clusterState.nodes().getSize(), greaterThanOrEqualTo(size - j));, +++ b/core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java, +            final int discoveryNodesSize = previousState.getNodes().getSize();, +++ b/core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java, +        assertThat(state.nodes().getSize(), equalTo(1)); // verify that we still see the local node in the cluster state, +        assertThat(state.nodes().getSize(), equalTo(2));, +        assertThat(state.nodes().getSize(), equalTo(1)); // verify that we still see the local node in the cluster state, +        assertThat(state.nodes().getSize(), equalTo(2));, +        assertThat(state.nodes().getSize(), equalTo(2));, +        assertThat(state.nodes().getSize(), equalTo(4));, +        assertThat(state.nodes().getSize(), equalTo(4));, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +                expectedOps = nodes.getSize();, +++ b/core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java, +        numberOfNodes = clusterState.nodes().getSize();]