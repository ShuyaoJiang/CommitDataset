[+++ b/src/main/java/org/elasticsearch/common/util/concurrent/ConcurrentCollections.java, +import java.util.concurrent.ConcurrentLinkedQueue;, +    private final static boolean useNonBlockingMap = Boolean.parseBoolean(System.getProperty("es.useNonBlockingMap", "false"));, +    private final static boolean useLinkedTransferQueue = Boolean.parseBoolean(System.getProperty("es.useLinkedTransferQueue", "false"));, +        if (useLinkedTransferQueue) {, +        return new ConcurrentLinkedQueue<T>();, +    }]