[+++ b/core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java, +                        rewriteMethod = QueryParsers.parseRewriteMethod(parser.textOrNull(), null);, +++ b/core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java, +                        rewriteMethod = QueryParsers.parseRewriteMethod(parser.textOrNull(), null);, +++ b/core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java, +                        matchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                        matchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java, +                        rewriteMethod = QueryParsers.parseRewriteMethod(parser.textOrNull(), null);, +++ b/core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java, +                        matchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                        matchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java, +                    multiMatchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                    multiMatchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java, +                        rewriteMethod = QueryParsers.parseRewriteMethod(parser.textOrNull(), null);, +++ b/core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java, +                        matchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                        matchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java, +                    multiMatchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                    multiMatchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java, +        MultiTermQuery.RewriteMethod method = QueryParsers.parseRewriteMethod(rewriteMethod, null);, +++ b/core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java, +                        rewriteMethod = QueryParsers.parseRewriteMethod(parser.textOrNull(), null);, +++ b/core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java, +                        matchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                        matchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java, +                    multiMatchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                    multiMatchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java, +        MultiTermQuery.RewriteMethod method = QueryParsers.parseRewriteMethod(rewriteMethod, null);, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java, +                    qpSettings.fuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull()));, +                    qpSettings.rewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull()));, +++ b/core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java, +                        rewriteMethod = QueryParsers.parseRewriteMethod(parser.textOrNull(), null);, +++ b/core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java, +                        matchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                        matchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java, +                    multiMatchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                    multiMatchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java, +        MultiTermQuery.RewriteMethod method = QueryParsers.parseRewriteMethod(rewriteMethod, null);, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java, +                    qpSettings.fuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull()));, +                    qpSettings.rewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull()));, +++ b/core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java, +        MultiTermQuery.RewriteMethod method = QueryParsers.parseRewriteMethod(rewriteMethod, null);, +++ b/core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java, +                        rewriteMethod = QueryParsers.parseRewriteMethod(parser.textOrNull(), null);, +++ b/core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java, +                        matchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                        matchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java, +                    multiMatchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                    multiMatchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java, +        MultiTermQuery.RewriteMethod method = QueryParsers.parseRewriteMethod(rewriteMethod, null);, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java, +                    qpSettings.fuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull()));, +                    qpSettings.rewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull()));, +++ b/core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java, +        MultiTermQuery.RewriteMethod method = QueryParsers.parseRewriteMethod(rewriteMethod, null);, +++ b/core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java, +import org.elasticsearch.index.mapper.FieldMapper;, +        QueryParsers.setRewriteMethod(wildcardQuery, rewriteMethod);, +        wildcardQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(rewriteMethod));, +++ b/core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java, +                        rewriteMethod = QueryParsers.parseRewriteMethod(parser.textOrNull(), null);, +++ b/core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java, +                        matchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                        matchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java, +                    multiMatchQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +                    multiMatchQuery.setFuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull(), null));, +++ b/core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java, +        MultiTermQuery.RewriteMethod method = QueryParsers.parseRewriteMethod(rewriteMethod, null);, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java, +                    qpSettings.fuzzyRewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull()));, +                    qpSettings.rewriteMethod(QueryParsers.parseRewriteMethod(parser.textOrNull()));, +++ b/core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java, +        MultiTermQuery.RewriteMethod method = QueryParsers.parseRewriteMethod(rewriteMethod, null);, +++ b/core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java, +import org.elasticsearch.index.mapper.FieldMapper;, +        QueryParsers.setRewriteMethod(wildcardQuery, rewriteMethod);, +        wildcardQuery.setRewriteMethod(QueryParsers.parseRewriteMethod(rewriteMethod));, +++ b/core/src/main/java/org/elasticsearch/index/query/support/QueryParsers.java, +, +    public static void setRewriteMethod(MultiTermQuery query, @Nullable String rewriteMethod) {, +        query.setRewriteMethod(parseRewriteMethod(rewriteMethod));, +    public static MultiTermQuery.RewriteMethod parseRewriteMethod(@Nullable String rewriteMethod) {, +        return parseRewriteMethod(rewriteMethod, MultiTermQuery.CONSTANT_SCORE_FILTER_REWRITE);, +    public static MultiTermQuery.RewriteMethod parseRewriteMethod(@Nullable String rewriteMethod, @Nullable MultiTermQuery.RewriteMethod defaultRewriteMethod) {, +        if ("constant_score_auto".equals(rewriteMethod) || "constant_score_auto".equals(rewriteMethod)) {, +            return MultiTermQuery.CONSTANT_SCORE_FILTER_REWRITE;]