[+++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +    private static final ParseField IGNORE_MALFORMED_FIELD = new ParseField("ignore_malformed"), +            .withAllDeprecated("use validation_method instead");, +    private static final ParseField COERCE_FIELD = new ParseField("coerce", "normalize"), +            .withAllDeprecated("use validation_method instead");, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +    private static final ParseField IGNORE_MALFORMED_FIELD = new ParseField("ignore_malformed"), +            .withAllDeprecated("use validation_method instead");, +    private static final ParseField COERCE_FIELD = new ParseField("coerce", "normalize"), +            .withAllDeprecated("use validation_method instead");, +++ b/core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java, +    public void testFromCoerceFails() throws IOException {, +        String json =, +                "{\n" +, +                "  \"geo_distance\" : {\n" +, +                "    \"pin.location\" : [ -70.0, 40.0 ],\n" +, +                "    \"distance\" : 12000.0,\n" +, +                "    \"distance_type\" : \"sloppy_arc\",\n" +, +                "    \"optimize_bbox\" : \"memory\",\n" +, +                "    \"coerce\" : true,\n" +, +                "    \"ignore_unmapped\" : false,\n" +, +                "    \"boost\" : 1.0\n" +, +                "  }\n" +, +                "}";, +        IllegalArgumentException e = expectThrows(IllegalArgumentException.class, () -> parseQuery(json));, +        assertTrue(e.getMessage().startsWith("Deprecated field "));, +    }, +, +    public void testFromJsonIgnoreMalformedFails() throws IOException {, +        String json =, +                "{\n" +, +                "  \"geo_distance\" : {\n" +, +                "    \"pin.location\" : [ -70.0, 40.0 ],\n" +, +                "    \"distance\" : 12000.0,\n" +, +                "    \"distance_type\" : \"sloppy_arc\",\n" +, +                "    \"optimize_bbox\" : \"memory\",\n" +, +                "    \"ignore_malformed\" : true,\n" +, +                "    \"ignore_unmapped\" : false,\n" +, +                "    \"boost\" : 1.0\n" +, +                "  }\n" +, +                "}";, +        IllegalArgumentException e = expectThrows(IllegalArgumentException.class, () -> parseQuery(json));, +        assertTrue(e.getMessage().startsWith("Deprecated field "));, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +    private static final ParseField IGNORE_MALFORMED_FIELD = new ParseField("ignore_malformed"), +            .withAllDeprecated("use validation_method instead");, +    private static final ParseField COERCE_FIELD = new ParseField("coerce", "normalize"), +            .withAllDeprecated("use validation_method instead");, +++ b/core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java, +    public void testFromCoerceFails() throws IOException {, +        String json =, +                "{\n" +, +                "  \"geo_distance\" : {\n" +, +                "    \"pin.location\" : [ -70.0, 40.0 ],\n" +, +                "    \"distance\" : 12000.0,\n" +, +                "    \"distance_type\" : \"sloppy_arc\",\n" +, +                "    \"optimize_bbox\" : \"memory\",\n" +, +                "    \"coerce\" : true,\n" +, +                "    \"ignore_unmapped\" : false,\n" +, +                "    \"boost\" : 1.0\n" +, +                "  }\n" +, +                "}";, +        IllegalArgumentException e = expectThrows(IllegalArgumentException.class, () -> parseQuery(json));, +        assertTrue(e.getMessage().startsWith("Deprecated field "));, +    }, +, +    public void testFromJsonIgnoreMalformedFails() throws IOException {, +        String json =, +                "{\n" +, +                "  \"geo_distance\" : {\n" +, +                "    \"pin.location\" : [ -70.0, 40.0 ],\n" +, +                "    \"distance\" : 12000.0,\n" +, +                "    \"distance_type\" : \"sloppy_arc\",\n" +, +                "    \"optimize_bbox\" : \"memory\",\n" +, +                "    \"ignore_malformed\" : true,\n" +, +                "    \"ignore_unmapped\" : false,\n" +, +                "    \"boost\" : 1.0\n" +, +                "  }\n" +, +                "}";, +        IllegalArgumentException e = expectThrows(IllegalArgumentException.class, () -> parseQuery(json));, +        assertTrue(e.getMessage().startsWith("Deprecated field "));, +    }, +, +++ b/docs/reference/migration/migrate_5_0/search.asciidoc, +, +* Deprecated support for the coerce, normalize, ignore_malformed parameters in GeoDistanceQuery. Use parameter validation_method instead., +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +    private static final ParseField IGNORE_MALFORMED_FIELD = new ParseField("ignore_malformed"), +            .withAllDeprecated("use validation_method instead");, +    private static final ParseField COERCE_FIELD = new ParseField("coerce", "normalize"), +            .withAllDeprecated("use validation_method instead");, +++ b/core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java, +    public void testFromCoerceFails() throws IOException {, +        String json =, +                "{\n" +, +                "  \"geo_distance\" : {\n" +, +                "    \"pin.location\" : [ -70.0, 40.0 ],\n" +, +                "    \"distance\" : 12000.0,\n" +]