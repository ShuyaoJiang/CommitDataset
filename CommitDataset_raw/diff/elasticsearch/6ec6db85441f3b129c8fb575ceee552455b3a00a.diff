[+++ b/plugin/src/test/java/org/elasticsearch/xpack/monitoring/resolver/shards/ShardsTests.java, +        updateMonitoringInterval(1L, TimeUnit.SECONDS);, +        updateMonitoringInterval(1L, TimeUnit.SECONDS);, +            if (aggregation.getName().equals("agg_state_uuid")) {, +                // there is a chance that multiple documents are indexed and the cluster state uuid differs..., +                assertThat(((StringTerms) aggregation).getBuckets().size(), greaterThanOrEqualTo(1));, +            } else {, +}]