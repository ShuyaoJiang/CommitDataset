[+++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java, +    public static AllocationCommands fromXContent(XContentParser parser, ParseFieldMatcher parseFieldMatcher, AllocationCommandRegistry registry) throws IOException {, +                commands.add(registry.lookup(commandName, parser.getTokenLocation()).fromXContent(parser));, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java, +    public static AllocationCommands fromXContent(XContentParser parser, ParseFieldMatcher parseFieldMatcher, AllocationCommandRegistry registry) throws IOException {, +                commands.add(registry.lookup(commandName, parser.getTokenLocation()).fromXContent(parser));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/ParseFieldRegistry.java, +    public T lookup(String name, XContentLocation xContentLocation) {, +        T value = lookupReturningNullIfNotFound(name);, +    public T lookupReturningNullIfNotFound(String name) {, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java, +    public static AllocationCommands fromXContent(XContentParser parser, ParseFieldMatcher parseFieldMatcher, AllocationCommandRegistry registry) throws IOException {, +                commands.add(registry.lookup(commandName, parser.getTokenLocation()).fromXContent(parser));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/ParseFieldRegistry.java, +    public T lookup(String name, XContentLocation xContentLocation) {, +        T value = lookupReturningNullIfNotFound(name);, +    public T lookupReturningNullIfNotFound(String name) {, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java, +        return aggregationParserRegistry.lookupReturningNullIfNotFound(type);, +        return pipelineAggregationParserRegistry.lookupReturningNullIfNotFound(type);, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java, +    public static AllocationCommands fromXContent(XContentParser parser, ParseFieldMatcher parseFieldMatcher, AllocationCommandRegistry registry) throws IOException {, +                commands.add(registry.lookup(commandName, parser.getTokenLocation()).fromXContent(parser));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/ParseFieldRegistry.java, +    public T lookup(String name, XContentLocation xContentLocation) {, +        T value = lookupReturningNullIfNotFound(name);, +    public T lookupReturningNullIfNotFound(String name) {, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java, +        return aggregationParserRegistry.lookupReturningNullIfNotFound(type);, +        return pipelineAggregationParserRegistry.lookupReturningNullIfNotFound(type);, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java, +                                .lookupReturningNullIfNotFound(name);, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java, +    public static AllocationCommands fromXContent(XContentParser parser, ParseFieldMatcher parseFieldMatcher, AllocationCommandRegistry registry) throws IOException {, +                commands.add(registry.lookup(commandName, parser.getTokenLocation()).fromXContent(parser));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/ParseFieldRegistry.java, +    public T lookup(String name, XContentLocation xContentLocation) {, +        T value = lookupReturningNullIfNotFound(name);, +    public T lookupReturningNullIfNotFound(String name) {, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java, +        return aggregationParserRegistry.lookupReturningNullIfNotFound(type);, +        return pipelineAggregationParserRegistry.lookupReturningNullIfNotFound(type);, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java, +                                .lookupReturningNullIfNotFound(name);, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregationBuilder.java, +            MovAvgModel.AbstractModelParser modelParser = movingAverageMdelParserRegistry.lookup(model, parser.getTokenLocation());, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java, +    public static AllocationCommands fromXContent(XContentParser parser, ParseFieldMatcher parseFieldMatcher, AllocationCommandRegistry registry) throws IOException {, +                commands.add(registry.lookup(commandName, parser.getTokenLocation()).fromXContent(parser));, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/ParseFieldRegistry.java, +    public T lookup(String name, XContentLocation xContentLocation) {, +        T value = lookupReturningNullIfNotFound(name);, +    public T lookupReturningNullIfNotFound(String name) {, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java, +        return aggregationParserRegistry.lookupReturningNullIfNotFound(type);, +        return pipelineAggregationParserRegistry.lookupReturningNullIfNotFound(type);, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java, +                                .lookupReturningNullIfNotFound(name);, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregationBuilder.java, +            MovAvgModel.AbstractModelParser modelParser = movingAverageMdelParserRegistry.lookup(model, parser.getTokenLocation());, +++ b/core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java, +                            SearchExtParser searchExtParser = searchExtRegistry.lookup(extSectionName, parser.getTokenLocation());]