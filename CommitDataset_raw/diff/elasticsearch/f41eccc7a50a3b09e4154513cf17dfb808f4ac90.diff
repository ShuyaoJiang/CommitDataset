[+++ b/src/test/java/org/elasticsearch/test/integration/indices/settings/UpdateSettingsTests.java, +import org.elasticsearch.ElasticSearchIllegalArgumentException;, +        try {, +            assert false;, +        } catch (ElasticSearchIllegalArgumentException e) {, +            // all is well, +        }, +        assertThat(indexMetaData.settings().get("index.refresh_interval"), nullValue());, +        client("node1").admin().indices().prepareUpdateSettings("test"), +                .setSettings(ImmutableSettings.settingsBuilder(), +                        .put("index.refresh_interval", -1) // this one can change, +                ), +                .execute().actionGet();, +, +        indexMetaData = client("node1").admin().cluster().prepareState().execute().actionGet().getState().metaData().index("test");, +        assertThat(indexMetaData.settings().get("index.refresh_interval"), equalTo("-1"));, +]