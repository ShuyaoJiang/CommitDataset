[+++ b/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java, +                    // Check that the gateway didn't leave the shard in init or recovering stage. it is up to the gateway, +                    // to call post recovery., +                    assert shardState != IndexShardState.CREATED && shardState != IndexShardState.RECOVERING : "recovery process of " + shardId + " didn't get to post_recovery. shardState [" + shardState + "]";]