[+++ b/distribution/build.gradle, +Collection distributions = project.subprojects.findAll { it.path.contains(':tools') == false }, +, +  project.configure(distributions.findAll { it.name != 'integ-test-zip' }) { Project distribution ->, +configure(distributions) {, +      // delay add tools using closures, since they have not yet been configured, so no jar task exists yet, +      from { project(':distribution:tools:java-version-checker').jar }, +configure(distributions.findAll { ['zip', 'tar', 'integ-test-zip'].contains(it.name) }) {, +configure(distributions.findAll { ['deb', 'rpm'].contains(it.name) }) {, +++ b/distribution/build.gradle, +Collection distributions = project.subprojects.findAll { it.path.contains(':tools') == false }, +, +  project.configure(distributions.findAll { it.name != 'integ-test-zip' }) { Project distribution ->, +configure(distributions) {, +      // delay add tools using closures, since they have not yet been configured, so no jar task exists yet, +      from { project(':distribution:tools:java-version-checker').jar }, +configure(distributions.findAll { ['zip', 'tar', 'integ-test-zip'].contains(it.name) }) {, +configure(distributions.findAll { ['deb', 'rpm'].contains(it.name) }) {, +++ b/distribution/tools/java-version-checker/build.gradle, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +, +import org.gradle.api.JavaVersion, +, +apply plugin: 'elasticsearch.build', +, +targetCompatibility = JavaVersion.VERSION_1_6, +sourceCompatibility = JavaVersion.VERSION_1_6, +, +test.enabled = false, +loggerUsageCheck.enabled = false, +++ b/distribution/build.gradle, +Collection distributions = project.subprojects.findAll { it.path.contains(':tools') == false }, +, +  project.configure(distributions.findAll { it.name != 'integ-test-zip' }) { Project distribution ->, +configure(distributions) {, +      // delay add tools using closures, since they have not yet been configured, so no jar task exists yet, +      from { project(':distribution:tools:java-version-checker').jar }, +configure(distributions.findAll { ['zip', 'tar', 'integ-test-zip'].contains(it.name) }) {, +configure(distributions.findAll { ['deb', 'rpm'].contains(it.name) }) {, +++ b/distribution/tools/java-version-checker/build.gradle, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +, +import org.gradle.api.JavaVersion, +, +apply plugin: 'elasticsearch.build', +, +targetCompatibility = JavaVersion.VERSION_1_6, +sourceCompatibility = JavaVersion.VERSION_1_6, +, +test.enabled = false, +loggerUsageCheck.enabled = false, +++ b/settings.gradle, +  'distribution:tools:java-version-checker',]