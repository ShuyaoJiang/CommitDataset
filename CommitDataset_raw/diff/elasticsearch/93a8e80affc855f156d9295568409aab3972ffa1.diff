[+++ b/docs/reference/search/request/rescore.asciidoc, +, +==== Multiple Rescores, +, +It is also possible to execute multiple rescores in sequence:, +[source,js], +--------------------------------------------------, +curl -s -XPOST 'localhost:9200/_search' -d '{, +   "query" : {, +      "match" : {, +         "field1" : {, +            "operator" : "or",, +            "query" : "the quick brown",, +            "type" : "boolean", +         }, +      }, +   },, +   "rescore" : [ {, +      "window_size" : 100,, +      "query" : {, +         "rescore_query" : {, +            "match" : {, +               "field1" : {, +                  "query" : "the quick brown",, +                  "type" : "phrase",, +                  "slop" : 2, +               }, +            }, +         },, +         "query_weight" : 0.7,, +         "rescore_query_weight" : 1.2, +      }, +   }, {, +      "window_size" : 10,, +      "query" : {, +         "score_mode": "multiply",, +         "rescore_query" : {, +            "function_score" : {, +               "script_score": {, +                  "script": "log10(doc['numeric'].value + 2)", +               }, +            }, +         }, +      }, +   } ], +}, +', +--------------------------------------------------, +, +The first one gets the results of the query then the second one gets the, +results of the first, etc.  The second rescore will "see" the sorting done, +by the first rescore so it is possible to use a large window on the first, +rescore to pull documents into a smaller window for the second rescore., +++ b/docs/reference/search/request/rescore.asciidoc, +, +==== Multiple Rescores, +, +It is also possible to execute multiple rescores in sequence:, +[source,js], +--------------------------------------------------, +curl -s -XPOST 'localhost:9200/_search' -d '{, +   "query" : {, +      "match" : {, +         "field1" : {, +            "operator" : "or",, +            "query" : "the quick brown",, +            "type" : "boolean", +         }, +      }, +   },, +   "rescore" : [ {, +      "window_size" : 100,, +      "query" : {, +         "rescore_query" : {, +            "match" : {, +               "field1" : {, +                  "query" : "the quick brown",, +                  "type" : "phrase",, +                  "slop" : 2, +               }, +            }, +         },, +         "query_weight" : 0.7,, +         "rescore_query_weight" : 1.2, +      }, +   }, {, +      "window_size" : 10,, +      "query" : {, +         "score_mode": "multiply",, +         "rescore_query" : {, +            "function_score" : {, +               "script_score": {, +                  "script": "log10(doc['numeric'].value + 2)", +               }, +            }, +         }, +      }, +   } ], +}, +']