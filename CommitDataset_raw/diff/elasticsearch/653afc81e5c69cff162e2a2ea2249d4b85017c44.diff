[+++ /dev/null, +++ /dev/null, +++ b/server/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java, +    private final IndexSearcher in;, +    public ContextIndexSearcher(Engine.Searcher searcher,, +            QueryCache queryCache, QueryCachingPolicy queryCachingPolicy) {, +        in = searcher.searcher();, +        super.search(leaves, cancellableWeight, collector);, +++ /dev/null, +++ b/server/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java, +    private final IndexSearcher in;, +    public ContextIndexSearcher(Engine.Searcher searcher,, +            QueryCache queryCache, QueryCachingPolicy queryCachingPolicy) {, +        in = searcher.searcher();, +        super.search(leaves, cancellableWeight, collector);, +++ b/server/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java, +++ /dev/null, +++ b/server/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java, +    private final IndexSearcher in;, +    public ContextIndexSearcher(Engine.Searcher searcher,, +            QueryCache queryCache, QueryCachingPolicy queryCachingPolicy) {, +        in = searcher.searcher();, +        super.search(leaves, cancellableWeight, collector);, +++ b/server/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java, +++ b/test/framework/src/main/java/org/elasticsearch/test/engine/MockEngineSupport.java, +        final AssertingIndexSearcher assertingIndexSearcher = new AssertingIndexSearcher(mockContext.random, wrappedReader);]