[+++ b/.gitignore, +++ b/.gitignore, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/.gitignore, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/JarHell.java, +                    continue; // we can't fail because of sheistiness with joda-time, +                if (clazz.equals("org.joda.time.base.BaseDateTime")) {, +                    return; // apparently this is intentional... clean this up, +                }, +++ b/.gitignore, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/JarHell.java, +                    continue; // we can't fail because of sheistiness with joda-time, +                if (clazz.equals("org.joda.time.base.BaseDateTime")) {, +                    return; // apparently this is intentional... clean this up, +                }, +++ b/core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java, +final class RemovePluginCommand extends SettingCommand {, +        final Path pluginDir = env.pluginsFile().resolve(pluginName);, +            throw new UserException(, +                    ExitCodes.USAGE,, +                    "plugin " + pluginName + " not found; run 'elasticsearch-plugin list' to get list of installed plugins");, +        final List<Path> pluginPaths = new ArrayList<>();, +        final Path pluginBinDir = env.binFile().resolve(pluginName);, +        final Path tmpPluginDir = env.pluginsFile().resolve(".removing-" + pluginName);, +++ b/.gitignore, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/JarHell.java, +                    continue; // we can't fail because of sheistiness with joda-time, +                if (clazz.equals("org.joda.time.base.BaseDateTime")) {, +                    return; // apparently this is intentional... clean this up, +                }, +++ b/core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java, +final class RemovePluginCommand extends SettingCommand {, +        final Path pluginDir = env.pluginsFile().resolve(pluginName);, +            throw new UserException(, +                    ExitCodes.USAGE,, +                    "plugin " + pluginName + " not found; run 'elasticsearch-plugin list' to get list of installed plugins");, +        final List<Path> pluginPaths = new ArrayList<>();, +        final Path pluginBinDir = env.binFile().resolve(pluginName);, +        final Path tmpPluginDir = env.pluginsFile().resolve(".removing-" + pluginName);, +++ b/core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java, +    public void testBaseDateTimeLeniency() throws Exception {, +        URL[] jars = {makeJar(dir, "foo.jar", null, "org/joda/time/base/BaseDateTime.class"), makeJar(dir, "bar.jar", null, "org/joda/time/base/BaseDateTime.class")};, +++ b/.gitignore, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/JarHell.java, +                    continue; // we can't fail because of sheistiness with joda-time, +                if (clazz.equals("org.joda.time.base.BaseDateTime")) {, +                    return; // apparently this is intentional... clean this up, +                }, +++ b/core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java, +final class RemovePluginCommand extends SettingCommand {, +        final Path pluginDir = env.pluginsFile().resolve(pluginName);, +            throw new UserException(, +                    ExitCodes.USAGE,, +                    "plugin " + pluginName + " not found; run 'elasticsearch-plugin list' to get list of installed plugins");, +        final List<Path> pluginPaths = new ArrayList<>();, +        final Path pluginBinDir = env.binFile().resolve(pluginName);, +        final Path tmpPluginDir = env.pluginsFile().resolve(".removing-" + pluginName);, +++ b/core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java, +    public void testBaseDateTimeLeniency() throws Exception {, +        URL[] jars = {makeJar(dir, "foo.jar", null, "org/joda/time/base/BaseDateTime.class"), makeJar(dir, "bar.jar", null, "org/joda/time/base/BaseDateTime.class")};, +++ b/distribution/src/main/resources/config/jvm.options, +++ b/.gitignore, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/JarHell.java, +                    continue; // we can't fail because of sheistiness with joda-time, +                if (clazz.equals("org.joda.time.base.BaseDateTime")) {, +                    return; // apparently this is intentional... clean this up, +                }, +++ b/core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java, +final class RemovePluginCommand extends SettingCommand {, +        final Path pluginDir = env.pluginsFile().resolve(pluginName);, +            throw new UserException(, +                    ExitCodes.USAGE,, +                    "plugin " + pluginName + " not found; run 'elasticsearch-plugin list' to get list of installed plugins");, +        final List<Path> pluginPaths = new ArrayList<>();, +        final Path pluginBinDir = env.binFile().resolve(pluginName);, +        final Path tmpPluginDir = env.pluginsFile().resolve(".removing-" + pluginName);, +++ b/core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java, +    public void testBaseDateTimeLeniency() throws Exception {, +        URL[] jars = {makeJar(dir, "foo.jar", null, "org/joda/time/base/BaseDateTime.class"), makeJar(dir, "bar.jar", null, "org/joda/time/base/BaseDateTime.class")};, +++ b/distribution/src/main/resources/config/jvm.options, +++ b/modules/lang-mustache/build.gradle, +  compile "com.github.spullara.mustache.java:compiler:0.9.1", +++ b/.gitignore, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/JarHell.java, +                    continue; // we can't fail because of sheistiness with joda-time, +                if (clazz.equals("org.joda.time.base.BaseDateTime")) {, +                    return; // apparently this is intentional... clean this up, +                }, +++ b/core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java, +final class RemovePluginCommand extends SettingCommand {, +        final Path pluginDir = env.pluginsFile().resolve(pluginName);, +            throw new UserException(, +                    ExitCodes.USAGE,, +                    "plugin " + pluginName + " not found; run 'elasticsearch-plugin list' to get list of installed plugins");]