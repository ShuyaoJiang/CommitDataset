[+++ b/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java, +    public void add(final TimeValue timeout, final TimeoutClusterStateListener listener) {, +                NotifyTimeout notifyTimeout = new NotifyTimeout(listener, timeout);, +                notifyTimeout.future = threadPool.schedule(timeout, ThreadPool.Names.GENERIC, notifyTimeout);, +                onGoingTimeouts.add(notifyTimeout);, +                clusterStateListeners.add(listener);]