[+++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                        addUrl(urls, String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip", repo, version, repo, version));, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                        addUrl(urls, String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip", repo, version, repo, version));, +++ b/core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java, +            String expectedStagingURL = String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip",, +                    pluginName, Version.CURRENT.number(), pluginName, Version.CURRENT.number());, +            String expectedStagingUrl = String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip",, +                    randomPluginName, Version.CURRENT.number(), randomPluginName, Version.CURRENT.number());, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                        addUrl(urls, String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip", repo, version, repo, version));, +++ b/core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java, +            String expectedStagingURL = String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip",, +                    pluginName, Version.CURRENT.number(), pluginName, Version.CURRENT.number());, +            String expectedStagingUrl = String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip",, +                    randomPluginName, Version.CURRENT.number(), randomPluginName, Version.CURRENT.number());, +++ b/dev-tools/pom.xml, +    <elasticsearch.s3.repository>s3://download.elasticsearch.org/elasticsearch/staging/</elasticsearch.s3.repository>, +  <profiles>, +    <profile>, +      <id>release</id>, +      <build>, +        <!-- sign the artifacts with GPG -->, +        <plugins>, +          <plugin>, +            <groupId>org.apache.maven.plugins</groupId>, +            <artifactId>maven-gpg-plugin</artifactId>, +            <version>1.6</version>, +            <executions>, +              <execution>, +                <id>sign-artifacts</id>, +                <phase>verify</phase>, +                <goals>, +                  <goal>sign</goal>, +                </goals>, +                <configuration>, +                  <keyname>${gpg.keyname}</keyname>, +                  <passphrase>${gpg.passphrase}</passphrase>, +                  <defaultKeyring>${gpg.keyring}</defaultKeyring>, +                </configuration>, +              </execution>, +            </executions>, +          </plugin>, +        </plugins>, +      </build>, +      <distributionManagement>, +        <repository>, +          <id>aws-release</id>, +          <name>AWS Release Repository</name>, +          <url>${elasticsearch.s3.repository}</url>, +        </repository>, +      </distributionManagement>, +    </profile>, +  </profiles>, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                        addUrl(urls, String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip", repo, version, repo, version));, +++ b/core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java, +            String expectedStagingURL = String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip",, +                    pluginName, Version.CURRENT.number(), pluginName, Version.CURRENT.number());, +            String expectedStagingUrl = String.format(Locale.ROOT, "http://download.elastic.co/elasticsearch/staging/org/elasticsearch/plugin/%s/%s/%s-%s.zip",, +                    randomPluginName, Version.CURRENT.number(), randomPluginName, Version.CURRENT.number());, +++ b/dev-tools/pom.xml, +    <elasticsearch.s3.repository>s3://download.elasticsearch.org/elasticsearch/staging/</elasticsearch.s3.repository>, +  <profiles>, +    <profile>, +      <id>release</id>, +      <build>, +        <!-- sign the artifacts with GPG -->, +        <plugins>, +          <plugin>, +            <groupId>org.apache.maven.plugins</groupId>, +            <artifactId>maven-gpg-plugin</artifactId>, +            <version>1.6</version>, +            <executions>, +              <execution>, +                <id>sign-artifacts</id>, +                <phase>verify</phase>, +                <goals>, +                  <goal>sign</goal>, +                </goals>, +                <configuration>, +                  <keyname>${gpg.keyname}</keyname>, +                  <passphrase>${gpg.passphrase}</passphrase>, +                  <defaultKeyring>${gpg.keyring}</defaultKeyring>, +                </configuration>, +              </execution>, +            </executions>, +          </plugin>, +        </plugins>, +      </build>, +      <distributionManagement>, +        <repository>, +          <id>aws-release</id>, +          <name>AWS Release Repository</name>, +          <url>${elasticsearch.s3.repository}</url>, +        </repository>, +      </distributionManagement>, +    </profile>, +  </profiles>, +++ b/pom.xml]