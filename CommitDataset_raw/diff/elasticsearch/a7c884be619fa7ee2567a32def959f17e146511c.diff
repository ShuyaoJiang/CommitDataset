[+++ b/elasticsearch/x-pack/license-plugin/src/main/java/org/elasticsearch/license/plugin/rest/RestDeleteLicenseAction.java, +import org.elasticsearch.xpack.XPackClient;, +import org.elasticsearch.xpack.rest.XPackRestHandler;, +public class RestDeleteLicenseAction extends XPackRestHandler {, +        // @deprecated Remove deprecations in 6.0, +        controller.registerWithDeprecatedHandler(DELETE, URI_BASE + "/_license", this,, +                                                 DELETE, "/_license", deprecationLogger);, +, +        // Remove _licenses support entirely in 6.0, +        controller.registerAsDeprecatedHandler(DELETE, "/_licenses", this,, +                                               "[DELETE /_licenses] is deprecated! Use " +, +                                               "[DELETE /_xpack/license] instead.",, +                                               deprecationLogger);, +    public void handleRequest(final RestRequest request, final RestChannel channel, final XPackClient client) {, +        client.es().admin().cluster().execute(DeleteLicenseAction.INSTANCE,, +                                              new DeleteLicenseRequest(),, +                                              new AcknowledgedRestListener<>(channel));, +++ b/elasticsearch/x-pack/license-plugin/src/main/java/org/elasticsearch/license/plugin/rest/RestDeleteLicenseAction.java, +import org.elasticsearch.xpack.XPackClient;, +import org.elasticsearch.xpack.rest.XPackRestHandler;, +public class RestDeleteLicenseAction extends XPackRestHandler {, +        // @deprecated Remove deprecations in 6.0, +        controller.registerWithDeprecatedHandler(DELETE, URI_BASE + "/_license", this,, +                                                 DELETE, "/_license", deprecationLogger);, +, +        // Remove _licenses support entirely in 6.0, +        controller.registerAsDeprecatedHandler(DELETE, "/_licenses", this,, +                                               "[DELETE /_licenses] is deprecated! Use " +, +                                               "[DELETE /_xpack/license] instead.",, +                                               deprecationLogger);, +    public void handleRequest(final RestRequest request, final RestChannel channel, final XPackClient client) {, +        client.es().admin().cluster().execute(DeleteLicenseAction.INSTANCE,, +                                              new DeleteLicenseRequest(),, +                                              new AcknowledgedRestListener<>(channel));, +++ b/elasticsearch/x-pack/license-plugin/src/main/java/org/elasticsearch/license/plugin/rest/RestGetLicenseAction.java, +import org.elasticsearch.xpack.XPackClient;, +import org.elasticsearch.xpack.rest.XPackRestHandler;, +public class RestGetLicenseAction extends XPackRestHandler {, +        // @deprecated Remove deprecations in 6.0, +        controller.registerWithDeprecatedHandler(GET,  URI_BASE + "/_license", this,, +                                                 GET, "/_license", deprecationLogger);, +, +        // Remove _licenses support entirely in 6.0, +        controller.registerAsDeprecatedHandler(GET, "/_licenses", this,, +                                               "[GET /_licenses] is deprecated! Use " +, +                                               "[GET /_xpack/license] instead.",, +                                               deprecationLogger);, +    public void handleRequest(final RestRequest request, final RestChannel channel, final XPackClient client) {, +        client.es().admin().cluster().execute(GetLicenseAction.INSTANCE, getLicenseRequest,, +++ b/elasticsearch/x-pack/license-plugin/src/main/java/org/elasticsearch/license/plugin/rest/RestDeleteLicenseAction.java, +import org.elasticsearch.xpack.XPackClient;, +import org.elasticsearch.xpack.rest.XPackRestHandler;, +public class RestDeleteLicenseAction extends XPackRestHandler {, +        // @deprecated Remove deprecations in 6.0, +        controller.registerWithDeprecatedHandler(DELETE, URI_BASE + "/_license", this,, +                                                 DELETE, "/_license", deprecationLogger);, +, +        // Remove _licenses support entirely in 6.0, +        controller.registerAsDeprecatedHandler(DELETE, "/_licenses", this,, +                                               "[DELETE /_licenses] is deprecated! Use " +, +                                               "[DELETE /_xpack/license] instead.",, +                                               deprecationLogger);, +    public void handleRequest(final RestRequest request, final RestChannel channel, final XPackClient client) {, +        client.es().admin().cluster().execute(DeleteLicenseAction.INSTANCE,, +                                              new DeleteLicenseRequest(),, +                                              new AcknowledgedRestListener<>(channel));, +++ b/elasticsearch/x-pack/license-plugin/src/main/java/org/elasticsearch/license/plugin/rest/RestGetLicenseAction.java, +import org.elasticsearch.xpack.XPackClient;, +import org.elasticsearch.xpack.rest.XPackRestHandler;, +public class RestGetLicenseAction extends XPackRestHandler {, +        // @deprecated Remove deprecations in 6.0, +        controller.registerWithDeprecatedHandler(GET,  URI_BASE + "/_license", this,, +                                                 GET, "/_license", deprecationLogger);, +, +        // Remove _licenses support entirely in 6.0, +        controller.registerAsDeprecatedHandler(GET, "/_licenses", this,, +                                               "[GET /_licenses] is deprecated! Use " +, +                                               "[GET /_xpack/license] instead.",, +                                               deprecationLogger);, +    public void handleRequest(final RestRequest request, final RestChannel channel, final XPackClient client) {, +        client.es().admin().cluster().execute(GetLicenseAction.INSTANCE, getLicenseRequest,, +++ b/elasticsearch/x-pack/license-plugin/src/main/java/org/elasticsearch/license/plugin/rest/RestPutLicenseAction.java, +import org.elasticsearch.xpack.XPackClient;, +import org.elasticsearch.xpack.rest.XPackRestHandler;, +public class RestPutLicenseAction extends XPackRestHandler {, +        // @deprecated Remove deprecations in 6.0, +        controller.registerWithDeprecatedHandler(POST, URI_BASE + "/_license", this,, +                                                 POST, "/_license", deprecationLogger);, +        controller.registerWithDeprecatedHandler(PUT, URI_BASE + "/_license", this,, +                                                 PUT, "/_license", deprecationLogger);, +, +        // Remove _licenses support entirely in 6.0, +        controller.registerAsDeprecatedHandler(POST, "/_licenses", this,, +                                               "[POST /_licenses] is deprecated! Use " +, +                                               "[POST /_xpack/license] instead.",, +                                               deprecationLogger);, +        controller.registerAsDeprecatedHandler(PUT, "/_licenses", this,, +                                               "[PUT /_licenses] is deprecated! Use " +, +                                               "[PUT /_xpack/license] instead.",, +                                               deprecationLogger);]