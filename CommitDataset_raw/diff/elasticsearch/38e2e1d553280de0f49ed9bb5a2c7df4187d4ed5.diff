[+++ b/build.gradle, +    "org.elasticsearch:elasticsearch-cli:${version}": ':libs:elasticsearch-cli',, +  // Having the same group and name for distinct projects causes Gradle to consider them equal when resolving, +  // dependencies leading to hard to debug failures. Run a check across all project to prevent this from happening., +  // see: https://github.com/gradle/gradle/issues/847, +  Map coordsToProject = [:], +  project.allprojects.forEach { p ->, +    String coords = "${p.group}:${p.name}", +    if (false == coordsToProject.putIfAbsent(coords, p)) {, +      throw new GradleException(, +              "Detected that two projects: ${p.path} and ${coordsToProject[coords].path} " +, +                      "have the same name and group: ${coords}. " +, +                      "This doesn't currently work correctly in Gradle, see: " +, +                      "https://github.com/gradle/gradle/issues/847", +      ), +    }, +  }, +++ b/build.gradle, +    "org.elasticsearch:elasticsearch-cli:${version}": ':libs:elasticsearch-cli',, +  // Having the same group and name for distinct projects causes Gradle to consider them equal when resolving, +  // dependencies leading to hard to debug failures. Run a check across all project to prevent this from happening., +  // see: https://github.com/gradle/gradle/issues/847, +  Map coordsToProject = [:], +  project.allprojects.forEach { p ->, +    String coords = "${p.group}:${p.name}", +    if (false == coordsToProject.putIfAbsent(coords, p)) {, +      throw new GradleException(, +              "Detected that two projects: ${p.path} and ${coordsToProject[coords].path} " +, +                      "have the same name and group: ${coords}. " +, +                      "This doesn't currently work correctly in Gradle, see: " +, +                      "https://github.com/gradle/gradle/issues/847", +      ), +    }, +  }, +++ b/client/test/build.gradle, +group = "${group}.client.test", +, +++ b/build.gradle, +    "org.elasticsearch:elasticsearch-cli:${version}": ':libs:elasticsearch-cli',, +  // Having the same group and name for distinct projects causes Gradle to consider them equal when resolving, +  // dependencies leading to hard to debug failures. Run a check across all project to prevent this from happening., +  // see: https://github.com/gradle/gradle/issues/847, +  Map coordsToProject = [:], +  project.allprojects.forEach { p ->, +    String coords = "${p.group}:${p.name}", +    if (false == coordsToProject.putIfAbsent(coords, p)) {, +      throw new GradleException(, +              "Detected that two projects: ${p.path} and ${coordsToProject[coords].path} " +, +                      "have the same name and group: ${coords}. " +, +                      "This doesn't currently work correctly in Gradle, see: " +, +                      "https://github.com/gradle/gradle/issues/847", +      ), +    }, +  }, +++ b/client/test/build.gradle, +group = "${group}.client.test", +, +++ b/libs/cli/build.gradle, +++ b/build.gradle, +    "org.elasticsearch:elasticsearch-cli:${version}": ':libs:elasticsearch-cli',, +  // Having the same group and name for distinct projects causes Gradle to consider them equal when resolving, +  // dependencies leading to hard to debug failures. Run a check across all project to prevent this from happening., +  // see: https://github.com/gradle/gradle/issues/847, +  Map coordsToProject = [:], +  project.allprojects.forEach { p ->, +    String coords = "${p.group}:${p.name}", +    if (false == coordsToProject.putIfAbsent(coords, p)) {, +      throw new GradleException(, +              "Detected that two projects: ${p.path} and ${coordsToProject[coords].path} " +, +                      "have the same name and group: ${coords}. " +, +                      "This doesn't currently work correctly in Gradle, see: " +, +                      "https://github.com/gradle/gradle/issues/847", +      ), +    }, +  }, +++ b/client/test/build.gradle, +group = "${group}.client.test", +, +++ b/libs/cli/build.gradle, +++ b/plugins/discovery-ec2/qa/build.gradle, +group = "${group}.plugins.discovery-ec2.qa", +++ b/build.gradle, +    "org.elasticsearch:elasticsearch-cli:${version}": ':libs:elasticsearch-cli',, +  // Having the same group and name for distinct projects causes Gradle to consider them equal when resolving, +  // dependencies leading to hard to debug failures. Run a check across all project to prevent this from happening., +  // see: https://github.com/gradle/gradle/issues/847, +  Map coordsToProject = [:], +  project.allprojects.forEach { p ->, +    String coords = "${p.group}:${p.name}", +    if (false == coordsToProject.putIfAbsent(coords, p)) {, +      throw new GradleException(, +              "Detected that two projects: ${p.path} and ${coordsToProject[coords].path} " +, +                      "have the same name and group: ${coords}. " +, +                      "This doesn't currently work correctly in Gradle, see: " +, +                      "https://github.com/gradle/gradle/issues/847", +      ), +    }, +  }, +++ b/client/test/build.gradle, +group = "${group}.client.test"]