[+++ b/server/src/test/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregatorTests.java, +            ArrayList<Integer> collector = new ArrayList<>();, +                @SuppressWarnings("unchecked"), +                @SuppressWarnings("unchecked"), +                List<Integer> list = (List<Integer>) agg.get("collector");, +                assertEquals(numDocs, list.size());, +            Integer numDocs = randomIntBetween(1, 100);]