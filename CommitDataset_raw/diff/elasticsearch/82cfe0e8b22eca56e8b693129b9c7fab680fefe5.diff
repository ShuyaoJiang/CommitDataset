[+++ b/pom.xml, +            <version>6.5.2</version>, +            <exclusions>, +                <exclusion>, +                </exclusion>, +                <exclusion>, +                    <groupId>junit</groupId>, +                    <artifactId>junit</artifactId>, +                </exclusion>, +            </exclusions>, +            <artifactId>hamcrest-all</artifactId>, +            <version>1.3</version>, +                <version>2.12</version>, +                    <properties>, +                        <property>, +                            <name>listener</name>, +                            <value>org.elasticsearch.test.TestNGLoggingListener</value>, +                        </property>, +                    </properties>, +                        <es.node.local>${env.ES_TEST_LOCAL}</es.node.local>, +                        <es.transport.tcp.compress>${env.ES_TEST_COMPRESS}</es.transport.tcp.compress>, +                        <es.index.store.compress.stored>${env.ES_TEST_COMPRESS}</es.index.store.compress.stored>, +++ b/pom.xml, +            <version>6.5.2</version>, +            <exclusions>, +                <exclusion>, +                </exclusion>, +                <exclusion>, +                    <groupId>junit</groupId>, +                    <artifactId>junit</artifactId>, +                </exclusion>, +            </exclusions>, +            <artifactId>hamcrest-all</artifactId>, +            <version>1.3</version>, +                <version>2.12</version>, +                    <properties>, +                        <property>, +                            <name>listener</name>, +                            <value>org.elasticsearch.test.TestNGLoggingListener</value>, +                        </property>, +                    </properties>, +                        <es.node.local>${env.ES_TEST_LOCAL}</es.node.local>, +                        <es.transport.tcp.compress>${env.ES_TEST_COMPRESS}</es.transport.tcp.compress>, +                        <es.index.store.compress.stored>${env.ES_TEST_COMPRESS}</es.index.store.compress.stored>, +++ b/src/test/java/org/elasticsearch/test/TestNGLoggingListener.java, +/*, + * Licensed to ElasticSearch and Shay Banon under one, + * or more contributor license agreements.  See the NOTICE file, + * distributed with this work for additional information, + * regarding copyright ownership. ElasticSearch licenses this, + * file to you under the Apache License, Version 2.0 (the, + * "License"); you may not use this file except in compliance, + * with the License.  You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +, +package org.elasticsearch.test;, +, +import org.elasticsearch.common.logging.ESLogger;, +import org.elasticsearch.common.logging.ESLoggerFactory;, +import org.testng.ITestContext;, +import org.testng.ITestListener;, +import org.testng.ITestResult;, +, +/**, + */, +public class TestNGLoggingListener implements ITestListener {, +, +    private ESLogger logger = ESLoggerFactory.getLogger("test");, +, +    private String extractTestName(ITestResult result) {, +        String testName = result.getInstanceName();, +        if (testName.startsWith("org.elasticsearch.")) {, +            testName = testName.substring("org.elasticsearch.".length());, +        }, +        if (testName.startsWith("test.")) {, +            testName = testName.substring("test.".length());, +        }, +        return testName + "#" + result.getName();, +    }, +, +    @Override, +    public void onTestStart(ITestResult result) {, +        logger.info("==> Test Starting [{}]", extractTestName(result));, +    }, +, +    @Override, +    public void onTestSuccess(ITestResult result) {, +        logger.info("==> Test Success [{}]", extractTestName(result));, +    }, +, +    @Override]