[+++ b/TESTING.asciidoc, +++ b/TESTING.asciidoc, +++ b/Vagrantfile, +  config.vm.define "precise", autostart: false do |config|, +  config.vm.define "trusty", autostart: false do |config|, +  config.vm.define "vivid", autostart: false do |config|, +  config.vm.define "wheezy", autostart: false do |config|, +  config.vm.define "jessie", autostart: false do |config|, +  config.vm.define "centos-6", autostart: false do |config|, +  config.vm.define "centos-7", autostart: false do |config|, +  config.vm.define "oel-7", autostart: false do |config|, +  config.vm.define "fedora-22", autostart: false do |config|, +  if Vagrant.has_plugin?("vagrant-cachier"), +    config.cache.scope = :box, +  end, +  if Vagrant.has_plugin?("vagrant-cachier"), +    config.cache.scope = :box, +  end, +    config.cache.scope = :box, +  config.vm.provision "elasticsearch bats dependencies", type: "shell", inline: <<-SHELL, +export BATS=/elasticsearch/qa/vagrant/src/test/resources/packaging/scripts/, +++ b/TESTING.asciidoc, +++ b/Vagrantfile, +  config.vm.define "precise", autostart: false do |config|, +  config.vm.define "trusty", autostart: false do |config|, +  config.vm.define "vivid", autostart: false do |config|, +  config.vm.define "wheezy", autostart: false do |config|, +  config.vm.define "jessie", autostart: false do |config|, +  config.vm.define "centos-6", autostart: false do |config|, +  config.vm.define "centos-7", autostart: false do |config|, +  config.vm.define "oel-7", autostart: false do |config|, +  config.vm.define "fedora-22", autostart: false do |config|, +  if Vagrant.has_plugin?("vagrant-cachier"), +    config.cache.scope = :box, +  end, +  if Vagrant.has_plugin?("vagrant-cachier"), +    config.cache.scope = :box, +  end, +    config.cache.scope = :box, +  config.vm.provision "elasticsearch bats dependencies", type: "shell", inline: <<-SHELL, +export BATS=/elasticsearch/qa/vagrant/src/test/resources/packaging/scripts/, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java, +import org.elasticsearch.index.query.ExistsQueryBuilder;, +import org.elasticsearch.index.query.QueryShardContext;, +    public Query query(QueryShardContext context, String queryText) {, +        return new ConstantScoreQuery(ExistsQueryBuilder.newFilter(context, queryText));, +++ b/TESTING.asciidoc, +++ b/Vagrantfile, +  config.vm.define "precise", autostart: false do |config|, +  config.vm.define "trusty", autostart: false do |config|, +  config.vm.define "vivid", autostart: false do |config|, +  config.vm.define "wheezy", autostart: false do |config|, +  config.vm.define "jessie", autostart: false do |config|, +  config.vm.define "centos-6", autostart: false do |config|, +  config.vm.define "centos-7", autostart: false do |config|, +  config.vm.define "oel-7", autostart: false do |config|, +  config.vm.define "fedora-22", autostart: false do |config|, +  if Vagrant.has_plugin?("vagrant-cachier"), +    config.cache.scope = :box, +  end, +  if Vagrant.has_plugin?("vagrant-cachier"), +    config.cache.scope = :box, +  end, +    config.cache.scope = :box, +  config.vm.provision "elasticsearch bats dependencies", type: "shell", inline: <<-SHELL, +export BATS=/elasticsearch/qa/vagrant/src/test/resources/packaging/scripts/, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java, +import org.elasticsearch.index.query.ExistsQueryBuilder;, +import org.elasticsearch.index.query.QueryShardContext;, +    public Query query(QueryShardContext context, String queryText) {, +        return new ConstantScoreQuery(ExistsQueryBuilder.newFilter(context, queryText));, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/FieldQueryExtension.java, +import org.elasticsearch.index.query.QueryShardContext;, +    Query query(QueryShardContext context, String queryText);, +++ b/TESTING.asciidoc, +++ b/Vagrantfile, +  config.vm.define "precise", autostart: false do |config|, +  config.vm.define "trusty", autostart: false do |config|, +  config.vm.define "vivid", autostart: false do |config|, +  config.vm.define "wheezy", autostart: false do |config|, +  config.vm.define "jessie", autostart: false do |config|, +  config.vm.define "centos-6", autostart: false do |config|, +  config.vm.define "centos-7", autostart: false do |config|, +  config.vm.define "oel-7", autostart: false do |config|, +  config.vm.define "fedora-22", autostart: false do |config|, +  if Vagrant.has_plugin?("vagrant-cachier"), +    config.cache.scope = :box, +  end, +  if Vagrant.has_plugin?("vagrant-cachier"), +    config.cache.scope = :box, +  end, +    config.cache.scope = :box, +  config.vm.provision "elasticsearch bats dependencies", type: "shell", inline: <<-SHELL, +export BATS=/elasticsearch/qa/vagrant/src/test/resources/packaging/scripts/, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java, +import org.elasticsearch.index.query.ExistsQueryBuilder;, +import org.elasticsearch.index.query.QueryShardContext;, +    public Query query(QueryShardContext context, String queryText) {, +        return new ConstantScoreQuery(ExistsQueryBuilder.newFilter(context, queryText));, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/FieldQueryExtension.java]