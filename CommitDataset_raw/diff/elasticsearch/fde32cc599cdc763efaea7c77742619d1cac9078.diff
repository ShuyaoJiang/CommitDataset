[+++ b/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java, +    private long termsMemoryInBytes;, +    private long storedFieldsMemoryInBytes;, +    private long termVectorsMemoryInBytes;, +    private long normsMemoryInBytes;, +    private long docValuesMemoryInBytes;, +    public SegmentsStats() {}, +    public void addTermsMemoryInBytes(long termsMemoryInBytes) {, +        this.termsMemoryInBytes += termsMemoryInBytes;, +    }, +, +    public void addStoredFieldsMemoryInBytes(long storedFieldsMemoryInBytes) {, +        this.storedFieldsMemoryInBytes += storedFieldsMemoryInBytes;, +    }, +, +    public void addTermVectorsMemoryInBytes(long termVectorsMemoryInBytes) {, +        this.termVectorsMemoryInBytes += termVectorsMemoryInBytes;, +    }, +, +    public void addNormsMemoryInBytes(long normsMemoryInBytes) {, +        this.normsMemoryInBytes += normsMemoryInBytes;, +    }, +, +    public void addDocValuesMemoryInBytes(long docValuesMemoryInBytes) {, +        this.docValuesMemoryInBytes += docValuesMemoryInBytes;, +    }, +, +        addTermsMemoryInBytes(mergeStats.termsMemoryInBytes);, +        addStoredFieldsMemoryInBytes(mergeStats.storedFieldsMemoryInBytes);, +        addTermVectorsMemoryInBytes(mergeStats.termVectorsMemoryInBytes);, +        addNormsMemoryInBytes(mergeStats.normsMemoryInBytes);, +        addDocValuesMemoryInBytes(mergeStats.docValuesMemoryInBytes);, +     * The number of segments., +     * Estimation of the terms dictionary memory usage by a segment., +     */, +    public long getTermsMemoryInBytes() {, +        return this.termsMemoryInBytes;, +    }, +, +    public ByteSizeValue getTermsMemory() {, +        return new ByteSizeValue(termsMemoryInBytes);, +    }, +, +    /**, +     * Estimation of the stored fields memory usage by a segment., +     */, +    public long getStoredFieldsMemoryInBytes() {, +        return this.storedFieldsMemoryInBytes;, +    }, +, +    public ByteSizeValue getStoredFieldsMemory() {, +        return new ByteSizeValue(storedFieldsMemoryInBytes);, +    }, +, +    /**, +     * Estimation of the term vectors memory usage by a segment., +     */, +    public long getTermVectorsMemoryInBytes() {, +        return this.termVectorsMemoryInBytes;, +    }, +, +    public ByteSizeValue getTermVectorsMemory() {, +        return new ByteSizeValue(termVectorsMemoryInBytes);, +    }, +, +    /**, +     * Estimation of the norms memory usage by a segment., +     */, +    public long getNormsMemoryInBytes() {, +        return this.normsMemoryInBytes;, +    }, +, +    public ByteSizeValue getNormsMemory() {, +        return new ByteSizeValue(normsMemoryInBytes);, +    }, +, +    /**, +     * Estimation of the doc values memory usage by a segment., +     */, +    public long getDocValuesMemoryInBytes() {, +        return this.docValuesMemoryInBytes;, +    }, +, +    public ByteSizeValue getDocValuesMemory() {, +        return new ByteSizeValue(docValuesMemoryInBytes);, +    }, +, +    /**, +        builder.byteSizeField(Fields.TERMS_MEMORY_IN_BYTES, Fields.TERMS_MEMORY, termsMemoryInBytes);, +        builder.byteSizeField(Fields.STORED_FIELDS_MEMORY_IN_BYTES, Fields.STORED_FIELDS_MEMORY, storedFieldsMemoryInBytes);, +        builder.byteSizeField(Fields.TERM_VECTORS_MEMORY_IN_BYTES, Fields.TERM_VECTORS_MEMORY, termVectorsMemoryInBytes);, +        builder.byteSizeField(Fields.NORMS_MEMORY_IN_BYTES, Fields.NORMS_MEMORY, normsMemoryInBytes);, +        builder.byteSizeField(Fields.DOC_VALUES_MEMORY_IN_BYTES, Fields.DOC_VALUES_MEMORY, docValuesMemoryInBytes);, +        static final XContentBuilderString TERMS_MEMORY = new XContentBuilderString("terms_memory");, +        static final XContentBuilderString TERMS_MEMORY_IN_BYTES = new XContentBuilderString("terms_memory_in_bytes");, +        static final XContentBuilderString STORED_FIELDS_MEMORY = new XContentBuilderString("stored_fields_memory");, +        static final XContentBuilderString STORED_FIELDS_MEMORY_IN_BYTES = new XContentBuilderString("stored_fields_memory_in_bytes");, +        static final XContentBuilderString TERM_VECTORS_MEMORY = new XContentBuilderString("term_vectors_memory");, +        static final XContentBuilderString TERM_VECTORS_MEMORY_IN_BYTES = new XContentBuilderString("term_vectors_memory_in_bytes");, +        static final XContentBuilderString NORMS_MEMORY = new XContentBuilderString("norms_memory");]