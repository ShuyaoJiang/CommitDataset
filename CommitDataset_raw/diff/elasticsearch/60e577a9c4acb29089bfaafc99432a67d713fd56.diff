[+++ /dev/null, +++ /dev/null, +++ b/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/MlSingleNodeTestCase.java, +/*, + * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one, + * or more contributor license agreements. Licensed under the Elastic License;, + * you may not use this file except in compliance with the Elastic License., + */, +package org.elasticsearch.xpack.ml;, +, +import org.elasticsearch.common.settings.Settings;, +import org.elasticsearch.test.ESSingleNodeTestCase;, +, +/**, + * An extention to {@link ESSingleNodeTestCase} that adds node settings specifically needed for ML test cases., + */, +public abstract class MlSingleNodeTestCase extends ESSingleNodeTestCase {, +, +    @Override, +    protected Settings nodeSettings() {, +        Settings.Builder newSettings = Settings.builder();, +        // Disable native ML autodetect_process as the c++ controller won't be available, +        newSettings.put(MachineLearningField.AUTODETECT_PROCESS.getKey(), false);, +        return newSettings.build();, +    }, +, +}, +++ /dev/null, +++ b/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/MlSingleNodeTestCase.java, +/*, + * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one, + * or more contributor license agreements. Licensed under the Elastic License;, + * you may not use this file except in compliance with the Elastic License., + */, +package org.elasticsearch.xpack.ml;, +, +import org.elasticsearch.common.settings.Settings;, +import org.elasticsearch.test.ESSingleNodeTestCase;, +, +/**, + * An extention to {@link ESSingleNodeTestCase} that adds node settings specifically needed for ML test cases., + */, +public abstract class MlSingleNodeTestCase extends ESSingleNodeTestCase {, +, +    @Override, +    protected Settings nodeSettings() {, +        Settings.Builder newSettings = Settings.builder();, +        // Disable native ML autodetect_process as the c++ controller won't be available, +        newSettings.put(MachineLearningField.AUTODETECT_PROCESS.getKey(), false);, +        return newSettings.build();, +    }, +, +}, +++ b/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/integration/AutodetectResultProcessorIT.java, +import org.elasticsearch.xpack.ml.MlSingleNodeTestCase;, +public class AutodetectResultProcessorIT extends MlSingleNodeTestCase {, +++ /dev/null, +++ b/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/MlSingleNodeTestCase.java, +/*, + * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one, + * or more contributor license agreements. Licensed under the Elastic License;, + * you may not use this file except in compliance with the Elastic License., + */, +package org.elasticsearch.xpack.ml;, +, +import org.elasticsearch.common.settings.Settings;, +import org.elasticsearch.test.ESSingleNodeTestCase;, +, +/**, + * An extention to {@link ESSingleNodeTestCase} that adds node settings specifically needed for ML test cases., + */, +public abstract class MlSingleNodeTestCase extends ESSingleNodeTestCase {, +, +    @Override, +    protected Settings nodeSettings() {, +        Settings.Builder newSettings = Settings.builder();, +        // Disable native ML autodetect_process as the c++ controller won't be available, +        newSettings.put(MachineLearningField.AUTODETECT_PROCESS.getKey(), false);, +        return newSettings.build();, +    }, +, +}, +++ b/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/integration/AutodetectResultProcessorIT.java, +import org.elasticsearch.xpack.ml.MlSingleNodeTestCase;, +public class AutodetectResultProcessorIT extends MlSingleNodeTestCase {, +++ b/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/integration/JobProviderIT.java, +import org.elasticsearch.xpack.ml.MlSingleNodeTestCase;, +public class JobProviderIT extends MlSingleNodeTestCase {, +++ /dev/null, +++ b/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/MlSingleNodeTestCase.java, +/*, + * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one, + * or more contributor license agreements. Licensed under the Elastic License;, + * you may not use this file except in compliance with the Elastic License., + */, +package org.elasticsearch.xpack.ml;, +, +import org.elasticsearch.common.settings.Settings;, +import org.elasticsearch.test.ESSingleNodeTestCase;, +]