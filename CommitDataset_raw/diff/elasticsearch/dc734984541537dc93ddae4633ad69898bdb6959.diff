[+++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                Engine.Create create = indexShard.prepareCreate(sourceToParse).version(indexRequest.version()).versionType(indexRequest.versionType()).origin(Engine.Operation.Origin.PRIMARY), +                        .autoGeneratedId(indexRequest.autoGeneratedId());, +                                .autoGeneratedId(indexRequest.autoGeneratedId()), +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                Engine.Create create = indexShard.prepareCreate(sourceToParse).version(indexRequest.version()).versionType(indexRequest.versionType()).origin(Engine.Operation.Origin.PRIMARY), +                        .autoGeneratedId(indexRequest.autoGeneratedId());, +                                .autoGeneratedId(indexRequest.autoGeneratedId()), +++ b/src/main/java/org/elasticsearch/action/index/IndexRequest.java, +import org.elasticsearch.*;, +    private boolean autoGeneratedId = false;, +    /**, +     * Has the id been auto generated?, +     */, +    public boolean autoGeneratedId() {, +        return this.autoGeneratedId;, +    }, +, +                autoGeneratedId = true;, +        if (in.getVersion().onOrAfter(Version.V_1_2_0)) {, +            autoGeneratedId = in.readBoolean();, +        }, +        if (out.getVersion().onOrAfter(Version.V_1_2_0)) {, +            out.writeBoolean(autoGeneratedId);, +        }, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                Engine.Create create = indexShard.prepareCreate(sourceToParse).version(indexRequest.version()).versionType(indexRequest.versionType()).origin(Engine.Operation.Origin.PRIMARY), +                        .autoGeneratedId(indexRequest.autoGeneratedId());, +                                .autoGeneratedId(indexRequest.autoGeneratedId()), +++ b/src/main/java/org/elasticsearch/action/index/IndexRequest.java, +import org.elasticsearch.*;, +    private boolean autoGeneratedId = false;, +    /**, +     * Has the id been auto generated?, +     */, +    public boolean autoGeneratedId() {, +        return this.autoGeneratedId;, +    }, +, +                autoGeneratedId = true;, +        if (in.getVersion().onOrAfter(Version.V_1_2_0)) {, +            autoGeneratedId = in.readBoolean();, +        }, +        if (out.getVersion().onOrAfter(Version.V_1_2_0)) {, +            out.writeBoolean(autoGeneratedId);, +        }, +++ b/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +                    .autoGeneratedId(request.autoGeneratedId()), +                    .autoGeneratedId(request.autoGeneratedId()), +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                Engine.Create create = indexShard.prepareCreate(sourceToParse).version(indexRequest.version()).versionType(indexRequest.versionType()).origin(Engine.Operation.Origin.PRIMARY), +                        .autoGeneratedId(indexRequest.autoGeneratedId());, +                                .autoGeneratedId(indexRequest.autoGeneratedId()), +++ b/src/main/java/org/elasticsearch/action/index/IndexRequest.java, +import org.elasticsearch.*;, +    private boolean autoGeneratedId = false;, +    /**, +     * Has the id been auto generated?, +     */, +    public boolean autoGeneratedId() {, +        return this.autoGeneratedId;, +    }, +, +                autoGeneratedId = true;, +        if (in.getVersion().onOrAfter(Version.V_1_2_0)) {, +            autoGeneratedId = in.readBoolean();, +        }, +        if (out.getVersion().onOrAfter(Version.V_1_2_0)) {, +            out.writeBoolean(autoGeneratedId);, +        }, +++ b/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java, +                    .autoGeneratedId(request.autoGeneratedId()), +                    .autoGeneratedId(request.autoGeneratedId()), +++ b/src/main/java/org/elasticsearch/index/engine/Engine.java, +        private boolean autoGeneratedId = false;, +        public Create autoGeneratedId(boolean autoGeneratedId) {, +            this.autoGeneratedId = autoGeneratedId;, +            return this;, +        }, +, +        public boolean autoGeneratedId() {, +            return this.autoGeneratedId;, +        }, +, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                Engine.Create create = indexShard.prepareCreate(sourceToParse).version(indexRequest.version()).versionType(indexRequest.versionType()).origin(Engine.Operation.Origin.PRIMARY), +                        .autoGeneratedId(indexRequest.autoGeneratedId());, +                                .autoGeneratedId(indexRequest.autoGeneratedId()), +++ b/src/main/java/org/elasticsearch/action/index/IndexRequest.java, +import org.elasticsearch.*;, +    private boolean autoGeneratedId = false;, +    /**, +     * Has the id been auto generated?, +     */, +    public boolean autoGeneratedId() {, +        return this.autoGeneratedId;, +    }, +, +                autoGeneratedId = true;, +        if (in.getVersion().onOrAfter(Version.V_1_2_0)) {]