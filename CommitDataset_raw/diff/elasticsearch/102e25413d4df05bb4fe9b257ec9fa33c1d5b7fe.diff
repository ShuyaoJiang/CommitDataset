[+++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "mapper-attachments",, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "mapper-attachments",, +++ b/core/src/main/resources/org/elasticsearch/plugins/plugin-install.help, +    - mapper-attachments, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "mapper-attachments",, +++ b/core/src/main/resources/org/elasticsearch/plugins/plugin-install.help, +    - mapper-attachments, +++ b/plugins/mapper-attachments/README.md, +Mapper Attachments Type for Elasticsearch, +=========================================, +, +The mapper attachments plugin lets Elasticsearch index file attachments in common formats (such as PPT, XLS, PDF) using the Apache text extraction library [Tika](http://lucene.apache.org/tika/)., +, +In practice, the plugin adds the `attachment` type when mapping properties so that documents can be populated with file attachment contents (encoded as `base64`)., +, +Installation, +------------, +, +In order to install the plugin, run:, +, +```sh, +bin/plugin install mapper-attachments, +```, +, +Hello, world, +------------, +, +Create a property mapping using the new type `attachment`:, +, +```javascript, +POST /trying-out-mapper-attachments, +{, +  "mappings": {, +    "person": {, +      "properties": {, +        "cv": { "type": "attachment" }, +}}}}, +```, +, +Index a new document populated with a `base64`-encoded attachment:, +, +```javascript, +POST /trying-out-mapper-attachments/person/1, +{, +  "cv": "e1xydGYxXGFuc2kNCkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0DQpccGFyIH0=", +}, +```, +, +Search for the document using words in the attachment:, +, +```javascript, +POST /trying-out-mapper-attachments/person/_search, +{, +  "query": {, +    "query_string": {, +      "query": "ipsum", +}}}, +```, +, +If you get a hit for your indexed document, the plugin should be installed and working., +, +Usage, +------------------------, +, +Using the attachment type is simple, in your mapping JSON, simply set a certain JSON element as attachment, for example:, +, +```javascript, +PUT /test, +PUT /test/person/_mapping, +{, +    "person" : {, +        "properties" : {, +            "my_attachment" : { "type" : "attachment" }, +        }, +    }, +}, +```, +, +In this case, the JSON to index can be:, +, +```javascript, +PUT /test/person/1, +{, +    "my_attachment" : "... base64 encoded attachment ...", +}, +```, +, +Or it is possible to use more elaborated JSON if content type, resource name or language need to be set explicitly:, +, +```, +PUT /test/person/1, +{, +    "my_attachment" : {, +        "_content_type" : "application/pdf",, +        "_name" : "resource/name/of/my.pdf",, +        "_language" : "en",, +        "_content" : "... base64 encoded attachment ..."]