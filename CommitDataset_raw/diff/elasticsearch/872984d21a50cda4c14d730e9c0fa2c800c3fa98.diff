[+++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java, +    private static final int GUESS_HEADER_LENGTH = 20;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java, +    private static final int GUESS_HEADER_LENGTH = 20;, +++ b/core/src/test/java/org/elasticsearch/action/DocWriteResponseTests.java, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java, +    private static final int GUESS_HEADER_LENGTH = 20;, +++ b/core/src/test/java/org/elasticsearch/action/DocWriteResponseTests.java, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        try (XContentParser parser = createParser(JsonXContent.jsonXContent, bytes)) {, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java, +    private static final int GUESS_HEADER_LENGTH = 20;, +++ b/core/src/test/java/org/elasticsearch/action/DocWriteResponseTests.java, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        try (XContentParser parser = createParser(JsonXContent.jsonXContent, bytes)) {, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +        parser = createParser(JsonXContent.jsonXContent, inputBytes);, +            XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java, +    private static final int GUESS_HEADER_LENGTH = 20;, +++ b/core/src/test/java/org/elasticsearch/action/DocWriteResponseTests.java, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        try (XContentParser parser = createParser(JsonXContent.jsonXContent, bytes)) {, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +        parser = createParser(JsonXContent.jsonXContent, inputBytes);, +            XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/IndexGraveyardTests.java, +        XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes());, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java, +    private static final int GUESS_HEADER_LENGTH = 20;, +++ b/core/src/test/java/org/elasticsearch/action/DocWriteResponseTests.java, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        try (XContentParser parser = createParser(JsonXContent.jsonXContent, bytes)) {, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +        parser = createParser(JsonXContent.jsonXContent, inputBytes);, +            XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/IndexGraveyardTests.java, +        XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes());, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/IndexMetaDataTests.java, +        XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes());, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java, +    private static final int GUESS_HEADER_LENGTH = 20;, +++ b/core/src/test/java/org/elasticsearch/action/DocWriteResponseTests.java, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        try (XContentParser parser = createParser(JsonXContent.jsonXContent, bytes)) {, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +        parser = createParser(JsonXContent.jsonXContent, inputBytes);, +            XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/IndexGraveyardTests.java, +        XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes());, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/IndexMetaDataTests.java, +        XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes());, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java, +        XContentParser parser = createParser(JsonXContent.jsonXContent, metadata);, +        XContentParser parser = createParser(JsonXContent.jsonXContent, metadata);, +        XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes());, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java, +    private static final int GUESS_HEADER_LENGTH = 20;, +++ b/core/src/test/java/org/elasticsearch/action/DocWriteResponseTests.java, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +            try (XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        try (XContentParser parser = createParser(JsonXContent.jsonXContent, bytes)) {, +++ b/core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +        XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +        parser = createParser(JsonXContent.jsonXContent, inputBytes);, +            XContentParser parser = createParser(JsonXContent.jsonXContent, inputBytes);, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/IndexGraveyardTests.java, +        XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes());, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/IndexMetaDataTests.java, +        XContentParser parser = createParser(JsonXContent.jsonXContent, builder.bytes());, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java, +        XContentParser parser = createParser(JsonXContent.jsonXContent, metadata);]