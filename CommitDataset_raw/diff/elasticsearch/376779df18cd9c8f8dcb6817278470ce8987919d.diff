[+++ b/src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/TransportDeleteMappingAction.java, +                                metaDataMappingService.removeMapping(new MetaDataMappingService.RemoveRequest(request.indices(), request.type()), new MetaDataMappingService.Listener() {, +                                    @Override, +                                    public void onResponse(MetaDataMappingService.Response response) {, +                                    public void onFailure(Throwable t) {, +                                        failureRef.set(t);, +                                metaDataMappingService.removeMapping(new MetaDataMappingService.RemoveRequest(request.indices(), request.type()), new MetaDataMappingService.Listener() {, +                                    @Override, +                                    public void onResponse(MetaDataMappingService.Response response) {, +                                        latch.countDown();, +                                    }, +, +                                    @Override, +                                    public void onFailure(Throwable t) {, +                                        failureRef.set(t);, +                                        latch.countDown();, +                                    }, +                                });, +                            }, +                        });, +                    }, +, +                    @Override, +                    public void onFailure(Throwable e) {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/TransportDeleteMappingAction.java, +                                metaDataMappingService.removeMapping(new MetaDataMappingService.RemoveRequest(request.indices(), request.type()), new MetaDataMappingService.Listener() {, +                                    @Override, +                                    public void onResponse(MetaDataMappingService.Response response) {, +                                    public void onFailure(Throwable t) {, +                                        failureRef.set(t);, +                                metaDataMappingService.removeMapping(new MetaDataMappingService.RemoveRequest(request.indices(), request.type()), new MetaDataMappingService.Listener() {, +                                    @Override, +                                    public void onResponse(MetaDataMappingService.Response response) {, +                                        latch.countDown();, +                                    }, +, +                                    @Override, +                                    public void onFailure(Throwable t) {, +                                        failureRef.set(t);, +                                        latch.countDown();, +                                    }, +                                });, +                            }, +                        });, +                    }, +, +                    @Override, +                    public void onFailure(Throwable e) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +    public void removeMapping(final RemoveRequest request, final Listener listener) {, +                    listener.onFailure(new IndexMissingException(new Index("_all")));, +                try {, +                } catch (Exception e) {, +                    listener.onFailure(e);, +                    return currentState;, +                }, +                listener.onResponse(new Response(true));]