[+++ b/core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java, +        return new LateParsingQuery(parentDocMapper.typeFilter(), innerQuery, minChildren(), maxChildren(),, +++ b/core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java, +        return new LateParsingQuery(parentDocMapper.typeFilter(), innerQuery, minChildren(), maxChildren(),, +++ b/core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java, +        response = minMaxQuery(ScoreMode.None, 0, null);, +        response = minMaxQuery(ScoreMode.None, 1, null);, +        response = minMaxQuery(ScoreMode.None, 2, null);, +        response = minMaxQuery(ScoreMode.None, 3, null);, +        response = minMaxQuery(ScoreMode.None, 4, null);, +        response = minMaxQuery(ScoreMode.Total, 0, null);, +        response = minMaxQuery(ScoreMode.Total, 1, null);, +        response = minMaxQuery(ScoreMode.Total, 2, null);, +        response = minMaxQuery(ScoreMode.Total, 3, null);, +        response = minMaxQuery(ScoreMode.Total, 4, null);, +        response = minMaxQuery(ScoreMode.Max, 0, null);, +        response = minMaxQuery(ScoreMode.Max, 1, null);, +        response = minMaxQuery(ScoreMode.Max, 2, null);, +        response = minMaxQuery(ScoreMode.Max, 3, null);, +        response = minMaxQuery(ScoreMode.Max, 4, null);, +        response = minMaxQuery(ScoreMode.Avg, 0, null);, +        response = minMaxQuery(ScoreMode.Avg, 1, null);, +        response = minMaxQuery(ScoreMode.Avg, 2, null);, +        response = minMaxQuery(ScoreMode.Avg, 3, null);, +        response = minMaxQuery(ScoreMode.Avg, 4, null);, +++ b/core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java, +        return new LateParsingQuery(parentDocMapper.typeFilter(), innerQuery, minChildren(), maxChildren(),, +++ b/core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java, +        response = minMaxQuery(ScoreMode.None, 0, null);, +        response = minMaxQuery(ScoreMode.None, 1, null);, +        response = minMaxQuery(ScoreMode.None, 2, null);, +        response = minMaxQuery(ScoreMode.None, 3, null);, +        response = minMaxQuery(ScoreMode.None, 4, null);, +        response = minMaxQuery(ScoreMode.Total, 0, null);, +        response = minMaxQuery(ScoreMode.Total, 1, null);, +        response = minMaxQuery(ScoreMode.Total, 2, null);, +        response = minMaxQuery(ScoreMode.Total, 3, null);, +        response = minMaxQuery(ScoreMode.Total, 4, null);, +        response = minMaxQuery(ScoreMode.Max, 0, null);, +        response = minMaxQuery(ScoreMode.Max, 1, null);, +        response = minMaxQuery(ScoreMode.Max, 2, null);, +        response = minMaxQuery(ScoreMode.Max, 3, null);, +        response = minMaxQuery(ScoreMode.Max, 4, null);, +        response = minMaxQuery(ScoreMode.Avg, 0, null);, +        response = minMaxQuery(ScoreMode.Avg, 1, null);, +        response = minMaxQuery(ScoreMode.Avg, 2, null);, +        response = minMaxQuery(ScoreMode.Avg, 3, null);, +        response = minMaxQuery(ScoreMode.Avg, 4, null);, +++ b/docs/reference/migration/migrate_5_0/search.asciidoc]