[+++ b/docs/plugins/repository-azure.asciidoc, +            my_account:, +Note that you can also define more than one account:, +        storage:, +            my_account1:, +                account: your_azure_storage_account1, +                key: your_azure_storage_key1, +                default: true, +            my_account2:, +                account: your_azure_storage_account2, +                key: your_azure_storage_key2, +`my_account1` is the default account which will be used by a repository unless you set an explicit one., +, +, +`account`::, +, +    Azure account settings to use. Defaults to the only one if you set a single, +    account or to the one marked as `default` if you have more than one., +, +`location_mode`::, +, +    `primary_only` or `secondary_only`. Defaults to `primary_only`. Note that if you set it, +    to `secondary_only`, it will force `read_only` to true., +, +, +, +# With two accounts defined in elasticsearch.yml (my_account1 and my_account2), +PUT _snapshot/my_backup3, +{, +    "type": "azure",, +    "settings": {, +        "account": "my_account1", +    }, +}, +PUT _snapshot/my_backup4, +{, +    "type": "azure",, +    "settings": {, +        "account": "my_account2",, +        "location_mode": "primary_only", +    }, +}, +client.admin().cluster().preparePutRepository("my_backup_java1"), +++ b/docs/plugins/repository-azure.asciidoc, +            my_account:, +Note that you can also define more than one account:, +        storage:, +            my_account1:, +                account: your_azure_storage_account1, +                key: your_azure_storage_key1, +                default: true, +            my_account2:, +                account: your_azure_storage_account2, +                key: your_azure_storage_key2, +`my_account1` is the default account which will be used by a repository unless you set an explicit one., +, +, +`account`::, +, +    Azure account settings to use. Defaults to the only one if you set a single, +    account or to the one marked as `default` if you have more than one., +, +`location_mode`::, +, +    `primary_only` or `secondary_only`. Defaults to `primary_only`. Note that if you set it, +    to `secondary_only`, it will force `read_only` to true., +, +, +, +# With two accounts defined in elasticsearch.yml (my_account1 and my_account2), +PUT _snapshot/my_backup3, +{, +    "type": "azure",, +    "settings": {, +        "account": "my_account1", +    }, +}, +PUT _snapshot/my_backup4, +{, +    "type": "azure",, +    "settings": {, +        "account": "my_account2",, +        "location_mode": "primary_only", +    }, +}, +client.admin().cluster().preparePutRepository("my_backup_java1"), +++ b/plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/AzureDiscoveryModule.java, +++ b/docs/plugins/repository-azure.asciidoc, +            my_account:, +Note that you can also define more than one account:, +        storage:, +            my_account1:, +                account: your_azure_storage_account1, +                key: your_azure_storage_key1, +                default: true, +            my_account2:, +                account: your_azure_storage_account2, +                key: your_azure_storage_key2, +`my_account1` is the default account which will be used by a repository unless you set an explicit one., +]