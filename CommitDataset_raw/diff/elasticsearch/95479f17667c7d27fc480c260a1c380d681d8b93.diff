[+++ b/modules/parent-join/src/test/java/org/elasticsearch/join/query/ChildQuerySearchIT.java, +++ b/modules/parent-join/src/test/java/org/elasticsearch/join/query/ChildQuerySearchIT.java, +++ b/server/src/main/java/org/elasticsearch/action/search/SearchPhaseController.java, +                assert totalHitsRelation == Relation.EQUAL_TO;, +++ b/modules/parent-join/src/test/java/org/elasticsearch/join/query/ChildQuerySearchIT.java, +++ b/server/src/main/java/org/elasticsearch/action/search/SearchPhaseController.java, +                assert totalHitsRelation == Relation.EQUAL_TO;, +++ b/server/src/main/java/org/elasticsearch/search/query/TopDocsCollectorContext.java, +            final TopDocs topDocs = new TopDocs(totalHitsSupplier.get(), topDocsSupplier.get().scoreDocs);, +            final TopDocs topDocs = new TopDocs(totalHitsSupplier.get(), topDocsSupplier.get().scoreDocs);, +                scrollContext.totalHits = topDocs.totalHits;]