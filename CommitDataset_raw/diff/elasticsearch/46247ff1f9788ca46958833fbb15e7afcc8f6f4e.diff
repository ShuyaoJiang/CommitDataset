[+++ b/server/src/main/java/org/elasticsearch/ingest/IngestService.java, +            // validates the pipeline and processor configuration before submitting a cluster update task:, +            validatePipeline(ingestInfos, request);, +            clusterService.submitStateUpdateTask("put-pipeline-" + request.getId(),, +                new AckedClusterStateUpdateTask<AcknowledgedResponse>(request, listener) {, +, +                    @Override, +                    protected AcknowledgedResponse newResponse(boolean acknowledged) {, +                        return new AcknowledgedResponse(acknowledged);, +                    }, +, +                    @Override, +                    public ClusterState execute(ClusterState currentState) {, +                        return innerPut(request, currentState);, +                    }, +                });]