[+++ b/TESTING.asciidoc, +gradle test -Des.logger.level=DEBUG, +++ b/TESTING.asciidoc, +gradle test -Des.logger.level=DEBUG, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            systemProperty 'es.logger.level', 'WARN', +++ b/TESTING.asciidoc, +gradle test -Des.logger.level=DEBUG, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            systemProperty 'es.logger.level', 'WARN', +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/NodeInfo.groovy, +        args.addAll("-E", "es.node.portsfile=true"), +        args.addAll("-E", "es.path.conf=${confDir}"), +++ b/TESTING.asciidoc, +gradle test -Des.logger.level=DEBUG, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            systemProperty 'es.logger.level', 'WARN', +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/NodeInfo.groovy, +        args.addAll("-E", "es.node.portsfile=true"), +        args.addAll("-E", "es.path.conf=${confDir}"), +++ b/buildSrc/src/main/resources/deb/postinst.ftl, +#!/bin/sh -e, +++ b/TESTING.asciidoc, +gradle test -Des.logger.level=DEBUG, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            systemProperty 'es.logger.level', 'WARN', +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/NodeInfo.groovy, +        args.addAll("-E", "es.node.portsfile=true"), +        args.addAll("-E", "es.path.conf=${confDir}"), +++ b/buildSrc/src/main/resources/deb/postinst.ftl, +#!/bin/sh -e, +++ b/buildSrc/src/main/resources/deb/preinst.ftl, +#!/bin/sh -e, +++ b/TESTING.asciidoc, +gradle test -Des.logger.level=DEBUG, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            systemProperty 'es.logger.level', 'WARN', +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/NodeInfo.groovy, +        args.addAll("-E", "es.node.portsfile=true"), +        args.addAll("-E", "es.path.conf=${confDir}"), +++ b/buildSrc/src/main/resources/deb/postinst.ftl, +#!/bin/sh -e, +++ b/buildSrc/src/main/resources/deb/preinst.ftl, +#!/bin/sh -e, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/TESTING.asciidoc, +gradle test -Des.logger.level=DEBUG, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            systemProperty 'es.logger.level', 'WARN', +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/NodeInfo.groovy, +        args.addAll("-E", "es.node.portsfile=true"), +        args.addAll("-E", "es.path.conf=${confDir}"), +++ b/buildSrc/src/main/resources/deb/postinst.ftl, +#!/bin/sh -e, +++ b/buildSrc/src/main/resources/deb/preinst.ftl, +#!/bin/sh -e, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +                ClearIndicesCacheRequest::new, ThreadPool.Names.MANAGEMENT);, +++ b/TESTING.asciidoc, +gradle test -Des.logger.level=DEBUG, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            systemProperty 'es.logger.level', 'WARN', +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/NodeInfo.groovy, +        args.addAll("-E", "es.node.portsfile=true"), +        args.addAll("-E", "es.path.conf=${confDir}"), +++ b/buildSrc/src/main/resources/deb/postinst.ftl, +#!/bin/sh -e, +++ b/buildSrc/src/main/resources/deb/preinst.ftl, +#!/bin/sh -e, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +                ClearIndicesCacheRequest::new, ThreadPool.Names.MANAGEMENT);, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +import org.elasticsearch.search.aggregations.AggregatorBuilder;, +     * {@link PercolateSourceBuilder#addAggregation(AggregatorBuilder)}, +    public PercolateRequestBuilder addAggregation(AggregatorBuilder<?> aggregationBuilder) {, +++ b/TESTING.asciidoc, +gradle test -Des.logger.level=DEBUG, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            systemProperty 'es.logger.level', 'WARN', +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/NodeInfo.groovy, +        args.addAll("-E", "es.node.portsfile=true"), +        args.addAll("-E", "es.path.conf=${confDir}"), +++ b/buildSrc/src/main/resources/deb/postinst.ftl, +#!/bin/sh -e, +++ b/buildSrc/src/main/resources/deb/preinst.ftl, +#!/bin/sh -e, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +                ClearIndicesCacheRequest::new, ThreadPool.Names.MANAGEMENT);, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +import org.elasticsearch.search.aggregations.AggregatorBuilder;, +     * {@link PercolateSourceBuilder#addAggregation(AggregatorBuilder)}, +    public PercolateRequestBuilder addAggregation(AggregatorBuilder<?> aggregationBuilder) {, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +import org.elasticsearch.search.aggregations.AggregatorBuilder;, +    private List<AggregatorBuilder<?>> aggregationBuilders;, +    public PercolateSourceBuilder addAggregation(AggregatorBuilder<?> aggregationBuilder) {, +                for (AggregatorBuilder<?> aggregation : aggregationBuilders) {]