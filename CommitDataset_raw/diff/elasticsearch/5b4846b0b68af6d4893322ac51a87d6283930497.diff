[+++ b/modules/benchmark/micro/src/main/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java, +//                .field("numeric1", time), +//                .field("numeric2", time), +//                .field("numeric3", time), +//                .field("numeric4", time), +//                .field("numeric5", time), +//                .field("numeric6", time), +//                .field("numeric7", time), +//                .field("numeric8", time), +//                .field("numeric9", time), +//                .field("numeric10", time), +++ b/modules/benchmark/micro/src/main/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java, +//                .field("numeric1", time), +//                .field("numeric2", time), +//                .field("numeric3", time), +//                .field("numeric4", time), +//                .field("numeric5", time), +//                .field("numeric6", time), +//                .field("numeric7", time), +//                .field("numeric8", time), +//                .field("numeric9", time), +//                .field("numeric10", time), +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/status/TransportIndicesStatusAction.java, +            shardStatus.translogOperations = indexShard.translog().numberOfOperations();, +++ b/modules/benchmark/micro/src/main/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java, +//                .field("numeric1", time), +//                .field("numeric2", time), +//                .field("numeric3", time), +//                .field("numeric4", time), +//                .field("numeric5", time), +//                .field("numeric6", time), +//                .field("numeric7", time), +//                .field("numeric8", time), +//                .field("numeric9", time), +//                .field("numeric10", time), +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/status/TransportIndicesStatusAction.java, +            shardStatus.translogOperations = indexShard.translog().numberOfOperations();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/IndexShardManagement.java, +        return translog.numberOfOperations();, +++ b/modules/benchmark/micro/src/main/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java, +//                .field("numeric1", time), +//                .field("numeric2", time), +//                .field("numeric3", time), +//                .field("numeric4", time), +//                .field("numeric5", time), +//                .field("numeric6", time), +//                .field("numeric7", time), +//                .field("numeric8", time), +//                .field("numeric9", time), +//                .field("numeric10", time), +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/status/TransportIndicesStatusAction.java, +            shardStatus.translogOperations = indexShard.translog().numberOfOperations();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/IndexShardManagement.java, +        return translog.numberOfOperations();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/translog/Translog.java, +    int numberOfOperations();, +    /**, +     * Returns the size in bytes of the translog., +     */, +++ b/modules/benchmark/micro/src/main/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java, +//                .field("numeric1", time), +//                .field("numeric2", time), +//                .field("numeric3", time), +//                .field("numeric4", time), +//                .field("numeric5", time), +//                .field("numeric6", time), +//                .field("numeric7", time), +//                .field("numeric8", time), +//                .field("numeric9", time), +//                .field("numeric10", time), +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/status/TransportIndicesStatusAction.java, +            shardStatus.translogOperations = indexShard.translog().numberOfOperations();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/IndexShardManagement.java, +        return translog.numberOfOperations();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/translog/Translog.java, +    int numberOfOperations();, +    /**, +     * Returns the size in bytes of the translog., +     */, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/translog/TranslogService.java, +import org.elasticsearch.common.unit.ByteSizeUnit;, +import org.elasticsearch.common.unit.ByteSizeValue;, +    private final int flushThresholdOperations;, +, +    private final ByteSizeValue flushThresholdSize;, +, +    private final TimeValue flushThresholdPeriod;, +        this.flushThresholdOperations = componentSettings.getAsInt("flush_threshold_ops", componentSettings.getAsInt("flush_threshold", 20000));, +        this.flushThresholdSize = componentSettings.getAsBytesSize("flush_threshold_size", new ByteSizeValue(500, ByteSizeUnit.MB));, +        this.flushThresholdPeriod = componentSettings.getAsTime("flush_threshold_period", TimeValue.timeValueMinutes(60));, +, +        private volatile long lastFlushTime = System.currentTimeMillis();, +, +            int currentNumberOfOperations = translog.numberOfOperations();, +            if (currentNumberOfOperations > flushThresholdOperations) {, +                logger.trace("flushing translog, operations [{}], breached [{}]", currentNumberOfOperations, flushThresholdOperations);, +                flush();, +                return;, +            }, +]