[+++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +, +    private static void setupLogging(Settings settings, Environment environment) {, +        setupLogging(settings, environment);, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +, +    private static void setupLogging(Settings settings, Environment environment) {, +        setupLogging(settings, environment);, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +        maybeWarnFileDescriptors();, +    private void maybeWarnFileDescriptors() {, +        long maxFileDescriptorCount = ProcessProbe.getInstance().getMaxFileDescriptorCount();, +        if (maxFileDescriptorCount == -1) {, +            return;, +        }, +        int fileDescriptorCountThreshold = (1 << 16);, +        if (maxFileDescriptorCount < fileDescriptorCountThreshold) {, +            logger.warn(, +                    "max file descriptors [{}] for elasticsearch process likely too low, consider increasing to at least [{}]",, +                    maxFileDescriptorCount,, +                    fileDescriptorCountThreshold);, +        }, +    }, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +, +    private static void setupLogging(Settings settings, Environment environment) {, +        setupLogging(settings, environment);, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +        maybeWarnFileDescriptors();, +    private void maybeWarnFileDescriptors() {, +        long maxFileDescriptorCount = ProcessProbe.getInstance().getMaxFileDescriptorCount();, +        if (maxFileDescriptorCount == -1) {, +            return;, +        }, +        int fileDescriptorCountThreshold = (1 << 16);, +        if (maxFileDescriptorCount < fileDescriptorCountThreshold) {, +            logger.warn(, +                    "max file descriptors [{}] for elasticsearch process likely too low, consider increasing to at least [{}]",, +                    maxFileDescriptorCount,, +                    fileDescriptorCountThreshold);, +        }, +    }, +++ b/core/src/test/java/org/elasticsearch/bootstrap/BootstrapSettingsTests.java, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +, +    private static void setupLogging(Settings settings, Environment environment) {, +        setupLogging(settings, environment);, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +        maybeWarnFileDescriptors();, +    private void maybeWarnFileDescriptors() {, +        long maxFileDescriptorCount = ProcessProbe.getInstance().getMaxFileDescriptorCount();, +        if (maxFileDescriptorCount == -1) {, +            return;, +        }, +        int fileDescriptorCountThreshold = (1 << 16);, +        if (maxFileDescriptorCount < fileDescriptorCountThreshold) {, +            logger.warn(, +                    "max file descriptors [{}] for elasticsearch process likely too low, consider increasing to at least [{}]",, +                    maxFileDescriptorCount,, +                    fileDescriptorCountThreshold);, +        }, +    }, +++ b/core/src/test/java/org/elasticsearch/bootstrap/BootstrapSettingsTests.java, +++ b/docs/reference/indices/shadow-replicas.asciidoc, +, +The `data_path` does not have to contain the index name, in this case,, +"my_index" was used but it could easily also have been "/opt/data/", +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +, +    private static void setupLogging(Settings settings, Environment environment) {, +        setupLogging(settings, environment);, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +        maybeWarnFileDescriptors();, +    private void maybeWarnFileDescriptors() {, +        long maxFileDescriptorCount = ProcessProbe.getInstance().getMaxFileDescriptorCount();, +        if (maxFileDescriptorCount == -1) {, +            return;, +        }, +        int fileDescriptorCountThreshold = (1 << 16);, +        if (maxFileDescriptorCount < fileDescriptorCountThreshold) {, +            logger.warn(, +                    "max file descriptors [{}] for elasticsearch process likely too low, consider increasing to at least [{}]",, +                    maxFileDescriptorCount,, +                    fileDescriptorCountThreshold);, +        }, +    }, +++ b/core/src/test/java/org/elasticsearch/bootstrap/BootstrapSettingsTests.java, +++ b/docs/reference/indices/shadow-replicas.asciidoc, +, +The `data_path` does not have to contain the index name, in this case,, +"my_index" was used but it could easily also have been "/opt/data/", +++ b/docs/reference/migration/migrate_3_0.asciidoc, +==== Removed es.max-open-files, +]