[+++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/IndexSettings.java, +     * Index setting to control if a flush is executed before engine is closed. The default is <code>true</code>, +, +    private final boolean flushOnClose;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/IndexSettings.java, +     * Index setting to control if a flush is executed before engine is closed. The default is <code>true</code>, +, +    private final boolean flushOnClose;, +++ b/core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java, +        final boolean booleanValue = randomBoolean();, +        createIndex("test", settingsBuilder().put(IndexSettings.INDEX_FLUSH_ON_CLOSE, booleanValue).build());, +        assertEquals(booleanValue, shard.getIndexSettings().isFlushOnClose());]