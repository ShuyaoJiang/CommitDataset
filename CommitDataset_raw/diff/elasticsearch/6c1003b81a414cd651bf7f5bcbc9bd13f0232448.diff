[+++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RatedDocument.java, +    public static final ParseField DOC_ID_FIELD = new ParseField("_id");, +    public static final ParseField TYPE_FIELD = new ParseField("_type");, +    public static final ParseField INDEX_FIELD = new ParseField("_index");, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RatedDocument.java, +    public static final ParseField DOC_ID_FIELD = new ParseField("_id");, +    public static final ParseField TYPE_FIELD = new ParseField("_type");, +    public static final ParseField INDEX_FIELD = new ParseField("_index");, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/RatedRequestsTests.java, +         + "        {\"_index\": \"test\", \"_type\": \"testtype\", \"_id\": \"1\", \"rating\" : 1 }, ", +         + "        {\"_type\": \"testtype\", \"_index\": \"test\", \"_id\": \"2\", \"rating\" : 0 }, ", +         + "        {\"_id\": \"3\", \"_index\": \"test\", \"_type\": \"testtype\", \"rating\" : 1 }]\n", +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RatedDocument.java, +    public static final ParseField DOC_ID_FIELD = new ParseField("_id");, +    public static final ParseField TYPE_FIELD = new ParseField("_type");, +    public static final ParseField INDEX_FIELD = new ParseField("_index");, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/RatedRequestsTests.java, +         + "        {\"_index\": \"test\", \"_type\": \"testtype\", \"_id\": \"1\", \"rating\" : 1 }, ", +         + "        {\"_type\": \"testtype\", \"_index\": \"test\", \"_id\": \"2\", \"rating\" : 0 }, ", +         + "        {\"_id\": \"3\", \"_index\": \"test\", \"_type\": \"testtype\", \"rating\" : 1 }]\n", +++ b/modules/rank-eval/src/test/resources/rest-api-spec/test/rank_eval/10_basic.yaml, +                    {"_index": "foo", "_type": "bar", "_id": "doc1", "rating": 0},, +                    {"_index": "foo", "_type": "bar", "_id": "doc2", "rating": 1},, +                    {"_index": "foo", "_type": "bar", "_id": "doc3", "rating": 1}], +                "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc1", "rating": 1}], +  - match: {rank_eval.unknown_docs.amsterdam_query:  [ {"_index": "foo", "_type": "bar", "_id": "doc4"}]}, +  - match: {rank_eval.unknown_docs.berlin_query:  [ {"_index": "foo", "_type": "bar", "_id": "doc4"}]}, +                "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc4", "rating": 1}], +                "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc4", "rating": 1}], +              "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc4", "rating": 1}], +              "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc4", "rating": 1}], +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RatedDocument.java, +    public static final ParseField DOC_ID_FIELD = new ParseField("_id");, +    public static final ParseField TYPE_FIELD = new ParseField("_type");, +    public static final ParseField INDEX_FIELD = new ParseField("_index");, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/RatedRequestsTests.java, +         + "        {\"_index\": \"test\", \"_type\": \"testtype\", \"_id\": \"1\", \"rating\" : 1 }, ", +         + "        {\"_type\": \"testtype\", \"_index\": \"test\", \"_id\": \"2\", \"rating\" : 0 }, ", +         + "        {\"_id\": \"3\", \"_index\": \"test\", \"_type\": \"testtype\", \"rating\" : 1 }]\n", +++ b/modules/rank-eval/src/test/resources/rest-api-spec/test/rank_eval/10_basic.yaml, +                    {"_index": "foo", "_type": "bar", "_id": "doc1", "rating": 0},, +                    {"_index": "foo", "_type": "bar", "_id": "doc2", "rating": 1},, +                    {"_index": "foo", "_type": "bar", "_id": "doc3", "rating": 1}], +                "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc1", "rating": 1}], +  - match: {rank_eval.unknown_docs.amsterdam_query:  [ {"_index": "foo", "_type": "bar", "_id": "doc4"}]}, +  - match: {rank_eval.unknown_docs.berlin_query:  [ {"_index": "foo", "_type": "bar", "_id": "doc4"}]}, +                "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc4", "rating": 1}], +                "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc4", "rating": 1}], +              "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc4", "rating": 1}], +              "ratings": [{"_index": "foo", "_type": "bar", "_id": "doc4", "rating": 1}], +++ b/modules/rank-eval/src/test/resources/rest-api-spec/test/rank_eval/20_dcg.yaml, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc1", "rating": 3},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc2", "rating": 2},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc3", "rating": 3},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc4", "rating": 0},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc5", "rating": 1},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc6", "rating": 2}], +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc1", "rating": 3},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc2", "rating": 2},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc3", "rating": 3},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc4", "rating": 0},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc5", "rating": 1},, +                    {"_index" : "foo", "_type" : "bar", "_id" : "doc6", "rating": 2}], +                {"_index" : "foo", "_type" : "bar", "_id" : "doc1", "rating": 3},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc2", "rating": 2},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc3", "rating": 3},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc4", "rating": 0},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc5", "rating": 1},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc6", "rating": 2}], +                {"_index" : "foo", "_type" : "bar", "_id" : "doc1", "rating": 3},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc2", "rating": 2},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc3", "rating": 3},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc4", "rating": 0},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc5", "rating": 1},, +                {"_index" : "foo", "_type" : "bar", "_id" : "doc6", "rating": 2}]]