[+++ b/x-pack/plugin/watcher/src/test/java/org/elasticsearch/xpack/watcher/test/AbstractWatcherIntegrationTestCase.java, +import org.apache.logging.log4j.Logger;, +import java.util.Locale;, +import java.util.stream.StreamSupport;, +                    (ClockMock)getInstanceFromMaster(Clock.class), logger);, +        private final List<ScheduleTriggerEngineMock> schedulers;, +        private final ClockMock clock;, +        private final Logger logger;, +        TimeWarp(Iterable<ScheduleTriggerEngineMock> schedulers, ClockMock clock, Logger logger) {, +            this.schedulers = StreamSupport.stream(schedulers.spliterator(), false).collect(Collectors.toList());, +            this.logger = logger;, +            trigger(jobName, 1, null);, +        public void trigger(String watchId, int times, TimeValue timeValue) {, +            boolean isTriggered = schedulers.stream().anyMatch(scheduler -> scheduler.trigger(watchId, times, timeValue));, +            String msg = String.format(Locale.ROOT, "could not find watch [%s] to trigger", watchId);, +            assertThat(msg, isTriggered, is(true));, +++ b/x-pack/plugin/watcher/src/test/java/org/elasticsearch/xpack/watcher/test/AbstractWatcherIntegrationTestCase.java, +import org.apache.logging.log4j.Logger;, +import java.util.Locale;, +import java.util.stream.StreamSupport;, +                    (ClockMock)getInstanceFromMaster(Clock.class), logger);, +        private final List<ScheduleTriggerEngineMock> schedulers;, +        private final ClockMock clock;, +        private final Logger logger;, +        TimeWarp(Iterable<ScheduleTriggerEngineMock> schedulers, ClockMock clock, Logger logger) {, +            this.schedulers = StreamSupport.stream(schedulers.spliterator(), false).collect(Collectors.toList());, +            this.logger = logger;, +            trigger(jobName, 1, null);, +        public void trigger(String watchId, int times, TimeValue timeValue) {, +            boolean isTriggered = schedulers.stream().anyMatch(scheduler -> scheduler.trigger(watchId, times, timeValue));, +            String msg = String.format(Locale.ROOT, "could not find watch [%s] to trigger", watchId);, +            assertThat(msg, isTriggered, is(true));, +++ b/x-pack/plugin/watcher/src/test/java/org/elasticsearch/xpack/watcher/trigger/ScheduleTriggerEngineMock.java, +    public boolean trigger(String jobName) {, +        return trigger(jobName, 1, null);, +    public boolean trigger(String jobName, int times, TimeValue interval) {, +            return false;, +, +        return true;]