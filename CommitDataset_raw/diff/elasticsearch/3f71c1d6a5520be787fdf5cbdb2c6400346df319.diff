[+++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import java.util.function.Function;, +        Setting.listSetting("network.host", Arrays.asList(DEFAULT_NETWORK_HOST), Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.bind_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.publish_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import java.util.function.Function;, +        Setting.listSetting("network.host", Arrays.asList(DEFAULT_NETWORK_HOST), Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.bind_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.publish_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/http/HttpTransportSettings.java, +import java.util.function.Function;, +        listSetting("http.host", emptyList(), Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("http.publish_host", SETTING_HTTP_HOST, Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("http.bind_host", SETTING_HTTP_HOST, Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import java.util.function.Function;, +        Setting.listSetting("network.host", Arrays.asList(DEFAULT_NETWORK_HOST), Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.bind_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.publish_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/http/HttpTransportSettings.java, +import java.util.function.Function;, +        listSetting("http.host", emptyList(), Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("http.publish_host", SETTING_HTTP_HOST, Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("http.bind_host", SETTING_HTTP_HOST, Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/transport/TransportSettings.java, +import java.util.function.Function;, +        listSetting("transport.host", emptyList(), Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("transport.publish_host", HOST, Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("transport.bind_host", HOST, Function.identity(), SettingsProperty.ClusterScope);, +        new Setting<>("transport.tcp.port", "9300-9400", Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import java.util.function.Function;, +        Setting.listSetting("network.host", Arrays.asList(DEFAULT_NETWORK_HOST), Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.bind_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.publish_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/http/HttpTransportSettings.java, +import java.util.function.Function;, +        listSetting("http.host", emptyList(), Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("http.publish_host", SETTING_HTTP_HOST, Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("http.bind_host", SETTING_HTTP_HOST, Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/transport/TransportSettings.java, +import java.util.function.Function;, +        listSetting("transport.host", emptyList(), Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("transport.publish_host", HOST, Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("transport.bind_host", HOST, Function.identity(), SettingsProperty.ClusterScope);, +        new Setting<>("transport.tcp.port", "9300-9400", Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/test/java/org/elasticsearch/common/settings/SettingTests.java, +import java.util.function.Function;, +            new Setting<>("foo.bar", (s) -> s.get("old.foo.bar", "some_default"), Function.identity(), SettingsProperty.ClusterScope);, +            new Setting<>("foo.bar", secondaryDefault, Function.identity(), SettingsProperty.ClusterScope);, +        Setting<List<String>> settingWithFallback = Setting.listSetting("foo.baz", listSetting, Function.identity(),, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import java.util.function.Function;, +        Setting.listSetting("network.host", Arrays.asList(DEFAULT_NETWORK_HOST), Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.bind_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +        Setting.listSetting("network.publish_host", GLOBAL_NETWORK_HOST_SETTING, Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/http/HttpTransportSettings.java, +import java.util.function.Function;, +        listSetting("http.host", emptyList(), Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("http.publish_host", SETTING_HTTP_HOST, Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("http.bind_host", SETTING_HTTP_HOST, Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/main/java/org/elasticsearch/transport/TransportSettings.java, +import java.util.function.Function;, +        listSetting("transport.host", emptyList(), Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("transport.publish_host", HOST, Function.identity(), SettingsProperty.ClusterScope);, +        listSetting("transport.bind_host", HOST, Function.identity(), SettingsProperty.ClusterScope);, +        new Setting<>("transport.tcp.port", "9300-9400", Function.identity(), SettingsProperty.ClusterScope);, +++ b/core/src/test/java/org/elasticsearch/common/settings/SettingTests.java, +import java.util.function.Function;, +            new Setting<>("foo.bar", (s) -> s.get("old.foo.bar", "some_default"), Function.identity(), SettingsProperty.ClusterScope);, +            new Setting<>("foo.bar", secondaryDefault, Function.identity(), SettingsProperty.ClusterScope);, +        Setting<List<String>> settingWithFallback = Setting.listSetting("foo.baz", listSetting, Function.identity(),, +++ b/plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java, +import java.util.function.Function;, +        Setting.listSetting("cloud.gce.zone", Collections.emptyList(), Function.identity(), SettingsProperty.ClusterScope);]