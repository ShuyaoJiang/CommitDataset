[+++ b/test/framework/src/main/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java, +    public void testTransportStats() throws Exception {, +            assertBusy(() -> { // netty for instance invokes this concurrently so we better use assert busy here, +                    TransportStats transportStats = serviceC.transport.getStats(); // we did a single round-trip to do the initial handshake, +                    assertEquals(1, transportStats.getRxCount());, +                    assertEquals(1, transportStats.getTxCount());, +                    assertEquals(25, transportStats.getRxSize().getBytes());, +                    assertEquals(45, transportStats.getTxSize().getBytes());, +                });, +            assertBusy(() -> { // netty for instance invokes this concurrently so we better use assert busy here, +                    TransportStats transportStats = serviceC.transport.getStats(); // request has ben send, +                    assertEquals(1, transportStats.getRxCount());, +                    assertEquals(2, transportStats.getTxCount());, +                    assertEquals(25, transportStats.getRxSize().getBytes());, +                    assertEquals(91, transportStats.getTxSize().getBytes());, +                });, +    public void testTransportStatsWithException() throws Exception {, +            assertBusy(() -> { // netty for instance invokes this concurrently so we better use assert busy here, +                    TransportStats transportStats = serviceC.transport.getStats(); // request has ben send, +                    assertEquals(1, transportStats.getRxCount());, +                    assertEquals(1, transportStats.getTxCount());, +                    assertEquals(25, transportStats.getRxSize().getBytes());, +                    assertEquals(45, transportStats.getTxSize().getBytes());, +                });, +            assertBusy(() -> { // netty for instance invokes this concurrently so we better use assert busy here, +                    TransportStats transportStats = serviceC.transport.getStats(); // request has ben send, +                    assertEquals(1, transportStats.getRxCount());, +                    assertEquals(2, transportStats.getTxCount());, +                    assertEquals(25, transportStats.getRxSize().getBytes());, +                    assertEquals(91, transportStats.getTxSize().getBytes());, +                });]