[+++ b/src/main/java/org/elasticsearch/common/network/MulticastChannel.java, +    private final static class Shared extends MulticastChannel {, +, +                } else {, +                }, +                return new Delegate(listener, shared);, +                    assert ((MultiListener) shared.listener).listeners.isEmpty();, +        public void close() {, +            assert false : "Shared references should never be closed directly, only via Delegate";, +        }, +, +        @Override, +    private final static class Delegate extends MulticastChannel {]