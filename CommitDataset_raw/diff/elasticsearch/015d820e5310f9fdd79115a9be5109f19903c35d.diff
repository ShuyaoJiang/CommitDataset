[+++ b/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetMappingAction.java, +import org.elasticsearch.indices.TypeMissingException;, +                    if (mappingsByIndex.isEmpty()) {, +                        if (indices.length != 0 && types.length != 0) {, +                            channel.sendResponse(new XContentThrowableRestResponse(request, new TypeMissingException(new Index(indices[0]), types[0])));, +                        } else if (indices.length != 0) {, +                        } else if (types.length != 0) {, +                            channel.sendResponse(new XContentThrowableRestResponse(request, new TypeMissingException(new Index("_all"), types[0])));, +                        } else {, +                            builder.endObject();, +                            channel.sendResponse(new XContentRestResponse(request, OK, builder));, +                        }, +                    channel.sendResponse(new XContentRestResponse(request, OK, builder));]