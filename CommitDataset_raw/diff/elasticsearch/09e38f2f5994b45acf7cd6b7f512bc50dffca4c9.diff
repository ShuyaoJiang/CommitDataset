[+++ b/CONTRIBUTING.md, +> Note: It is also required to have `JAVA7_HOME`, `JAVA8_HOME` and, +`JAVA10_HOME` available so that the tests can pass., +, +> Warning: do not use `sdkman` for Java installations which do not have proper, +`jrunscript` for jdk distributions., +, +++ b/CONTRIBUTING.md, +> Note: It is also required to have `JAVA7_HOME`, `JAVA8_HOME` and, +`JAVA10_HOME` available so that the tests can pass., +, +> Warning: do not use `sdkman` for Java installations which do not have proper, +`jrunscript` for jdk distributions., +, +++ b/benchmarks/README.md, +Just run `gradlew -p benchmarks run` from the project root, +directory. It will build all microbenchmarks, execute them and print, +the result., +Running via an IDE is not supported as the results are meaningless, +because we have no control over the JVM running the benchmarks., +If you want to run a specific benchmark class like, say,, +`MemoryStatsBenchmark`, you can use `--args`:, +gradlew -p benchmarks run --args ' MemoryStatsBenchmark', +Everything in the `'` gets sent on the command line to JMH. The leading ` `, +inside the `'`s is important. Without it parameters are sometimes sent to, +gradle., +++ b/CONTRIBUTING.md, +> Note: It is also required to have `JAVA7_HOME`, `JAVA8_HOME` and, +`JAVA10_HOME` available so that the tests can pass., +, +> Warning: do not use `sdkman` for Java installations which do not have proper, +`jrunscript` for jdk distributions., +, +++ b/benchmarks/README.md, +Just run `gradlew -p benchmarks run` from the project root, +directory. It will build all microbenchmarks, execute them and print, +the result., +Running via an IDE is not supported as the results are meaningless, +because we have no control over the JVM running the benchmarks., +If you want to run a specific benchmark class like, say,, +`MemoryStatsBenchmark`, you can use `--args`:, +gradlew -p benchmarks run --args ' MemoryStatsBenchmark', +Everything in the `'` gets sent on the command line to JMH. The leading ` `, +inside the `'`s is important. Without it parameters are sometimes sent to, +gradle., +++ b/benchmarks/build.gradle, +apply plugin: 'application', +forbiddenApisMain.enabled = false, +++ b/CONTRIBUTING.md, +> Note: It is also required to have `JAVA7_HOME`, `JAVA8_HOME` and, +`JAVA10_HOME` available so that the tests can pass., +, +> Warning: do not use `sdkman` for Java installations which do not have proper, +`jrunscript` for jdk distributions., +, +++ b/benchmarks/README.md, +Just run `gradlew -p benchmarks run` from the project root, +directory. It will build all microbenchmarks, execute them and print, +the result., +Running via an IDE is not supported as the results are meaningless, +because we have no control over the JVM running the benchmarks., +If you want to run a specific benchmark class like, say,, +`MemoryStatsBenchmark`, you can use `--args`:, +gradlew -p benchmarks run --args ' MemoryStatsBenchmark', +Everything in the `'` gets sent on the command line to JMH. The leading ` `, +inside the `'`s is important. Without it parameters are sometimes sent to, +gradle., +++ b/benchmarks/build.gradle, +apply plugin: 'application', +forbiddenApisMain.enabled = false, +++ b/client/benchmark/README.md, +3. Start Elasticsearch on the target host (ideally *not* on the machine, +that runs the benchmarks), +4. Run the benchmark with, +```, +./gradlew -p client/benchmark run --args ' params go here', +```, +Everything in the `'` gets sent on the command line to JMH. The leading ` `, +inside the `'`s is important. Without it parameters are sometimes sent to, +gradle., +, +See below for some example invocations., +Download benchmark data from http://benchmarks.elasticsearch.org.s3.amazonaws.com/corpora/geonames and decompress them., +Example invocation:, +wget http://benchmarks.elasticsearch.org.s3.amazonaws.com/corpora/geonames/documents-2.json.bz2, +bzip2 -d documents-2.json.bz2, +mv documents-2.json client/benchmark/build, +gradlew -p client/benchmark run --args ' rest bulk localhost build/documents-2.json geonames type 8647880 5000', +The parameters are all in the `'`s and are in order:, +#### Search, +Example invocation:, +gradlew -p client/benchmark run --args ' rest search localhost geonames {"query":{"match_phrase":{"name":"Sankt Georgen"}}} 500,1000,1100,1200', +++ b/CONTRIBUTING.md, +> Note: It is also required to have `JAVA7_HOME`, `JAVA8_HOME` and, +`JAVA10_HOME` available so that the tests can pass., +, +> Warning: do not use `sdkman` for Java installations which do not have proper, +`jrunscript` for jdk distributions., +, +++ b/benchmarks/README.md]