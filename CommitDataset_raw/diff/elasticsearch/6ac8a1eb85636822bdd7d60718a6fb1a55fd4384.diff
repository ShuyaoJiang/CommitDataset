[+++ b/core/src/main/java/org/elasticsearch/script/ScriptSettings.java, +                Property.NodeScope,, +                Property.Deprecated));, +                    Setting.boolSetting(ScriptModes.operationKey(scriptContext), false, Property.NodeScope, Property.Deprecated));, +                            defaultIfNothingSet, Property.NodeScope, Property.Deprecated);, +                        defaultLangAndTypeFn, Property.NodeScope, Property.Deprecated);, +                                defaultIfNothingSet, Property.NodeScope, Property.Deprecated);, +                    Setting<Boolean> setting =, +                        Setting.boolSetting(langAndTypeAndContextName, defaultSettingFn, Property.NodeScope, Property.Deprecated);, +++ b/core/src/main/java/org/elasticsearch/script/ScriptSettings.java, +                Property.NodeScope,, +                Property.Deprecated));, +                    Setting.boolSetting(ScriptModes.operationKey(scriptContext), false, Property.NodeScope, Property.Deprecated));, +                            defaultIfNothingSet, Property.NodeScope, Property.Deprecated);, +                        defaultLangAndTypeFn, Property.NodeScope, Property.Deprecated);, +                                defaultIfNothingSet, Property.NodeScope, Property.Deprecated);, +                    Setting<Boolean> setting =, +                        Setting.boolSetting(langAndTypeAndContextName, defaultSettingFn, Property.NodeScope, Property.Deprecated);, +++ b/core/src/test/java/org/elasticsearch/script/FileScriptTests.java, +    private ScriptSettings scriptSettings;, +, +        scriptSettings = new ScriptSettings(scriptEngineRegistry, scriptContextRegistry);, +        assertSettingDeprecationsAndWarnings(ScriptSettingsTests.buildDeprecatedSettingsArray(, +            new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            scriptSettings, "script.engine." + MockScriptEngine.NAME + ".file.aggs"),, +        assertSettingDeprecationsAndWarnings(ScriptSettingsTests.buildDeprecatedSettingsArray(, +            new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING}, scriptSettings,, +            "script.engine." + MockScriptEngine.NAME + ".file.aggs",, +            "script.engine." + MockScriptEngine.NAME + ".file.search",, +            "script.engine." + MockScriptEngine.NAME + ".file.update",, +            "script.engine." + MockScriptEngine.NAME + ".file.ingest"),, +++ b/core/src/main/java/org/elasticsearch/script/ScriptSettings.java, +                Property.NodeScope,, +                Property.Deprecated));, +                    Setting.boolSetting(ScriptModes.operationKey(scriptContext), false, Property.NodeScope, Property.Deprecated));, +                            defaultIfNothingSet, Property.NodeScope, Property.Deprecated);, +                        defaultLangAndTypeFn, Property.NodeScope, Property.Deprecated);, +                                defaultIfNothingSet, Property.NodeScope, Property.Deprecated);, +                    Setting<Boolean> setting =, +                        Setting.boolSetting(langAndTypeAndContextName, defaultSettingFn, Property.NodeScope, Property.Deprecated);, +++ b/core/src/test/java/org/elasticsearch/script/FileScriptTests.java, +    private ScriptSettings scriptSettings;, +, +        scriptSettings = new ScriptSettings(scriptEngineRegistry, scriptContextRegistry);, +        assertSettingDeprecationsAndWarnings(ScriptSettingsTests.buildDeprecatedSettingsArray(, +            new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            scriptSettings, "script.engine." + MockScriptEngine.NAME + ".file.aggs"),, +        assertSettingDeprecationsAndWarnings(ScriptSettingsTests.buildDeprecatedSettingsArray(, +            new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING}, scriptSettings,, +            "script.engine." + MockScriptEngine.NAME + ".file.aggs",, +            "script.engine." + MockScriptEngine.NAME + ".file.search",, +            "script.engine." + MockScriptEngine.NAME + ".file.update",, +            "script.engine." + MockScriptEngine.NAME + ".file.ingest"),, +++ b/core/src/test/java/org/elasticsearch/script/ScriptContextTests.java, +    private static final String SCRIPT_PLUGIN_CUSTOM_SETTING = "script." + PLUGIN_NAME + "_custom_globally_disabled_op";, +    private static final String SCRIPT_ENGINE_CUSTOM_SETTING = "script.engine." + MockScriptEngine.NAME + ".inline." + PLUGIN_NAME + "_custom_exp_disabled_op";, +, +    private ScriptSettings scriptSettings;, +            .put(SCRIPT_PLUGIN_CUSTOM_SETTING, "false"), +            .put(SCRIPT_ENGINE_CUSTOM_SETTING, "false"), +        scriptSettings = new ScriptSettings(scriptEngineRegistry, scriptContextRegistry);, +, +, +        assertSettingDeprecationsAndWarnings(, +            ScriptSettingsTests.buildDeprecatedSettingsArray(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +                scriptSettings, SCRIPT_PLUGIN_CUSTOM_SETTING, SCRIPT_ENGINE_CUSTOM_SETTING));, +        assertSettingDeprecationsAndWarnings(, +            ScriptSettingsTests.buildDeprecatedSettingsArray(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +                scriptSettings, SCRIPT_PLUGIN_CUSTOM_SETTING, SCRIPT_ENGINE_CUSTOM_SETTING));, +        assertSettingDeprecationsAndWarnings(, +            ScriptSettingsTests.buildDeprecatedSettingsArray(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +                scriptSettings, SCRIPT_PLUGIN_CUSTOM_SETTING, SCRIPT_ENGINE_CUSTOM_SETTING));, +        assertSettingDeprecationsAndWarnings(, +            ScriptSettingsTests.buildDeprecatedSettingsArray(new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +                scriptSettings, SCRIPT_PLUGIN_CUSTOM_SETTING, SCRIPT_ENGINE_CUSTOM_SETTING));, +++ b/core/src/main/java/org/elasticsearch/script/ScriptSettings.java, +                Property.NodeScope,, +                Property.Deprecated));, +                    Setting.boolSetting(ScriptModes.operationKey(scriptContext), false, Property.NodeScope, Property.Deprecated));, +                            defaultIfNothingSet, Property.NodeScope, Property.Deprecated);, +                        defaultLangAndTypeFn, Property.NodeScope, Property.Deprecated);, +                                defaultIfNothingSet, Property.NodeScope, Property.Deprecated);, +                    Setting<Boolean> setting =, +                        Setting.boolSetting(langAndTypeAndContextName, defaultSettingFn, Property.NodeScope, Property.Deprecated);, +++ b/core/src/test/java/org/elasticsearch/script/FileScriptTests.java, +    private ScriptSettings scriptSettings;, +, +        scriptSettings = new ScriptSettings(scriptEngineRegistry, scriptContextRegistry);, +        assertSettingDeprecationsAndWarnings(ScriptSettingsTests.buildDeprecatedSettingsArray(, +            new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING},, +            scriptSettings, "script.engine." + MockScriptEngine.NAME + ".file.aggs"),, +        assertSettingDeprecationsAndWarnings(ScriptSettingsTests.buildDeprecatedSettingsArray(, +            new Setting[] {ScriptService.SCRIPT_AUTO_RELOAD_ENABLED_SETTING}, scriptSettings,, +            "script.engine." + MockScriptEngine.NAME + ".file.aggs",, +            "script.engine." + MockScriptEngine.NAME + ".file.search",, +            "script.engine." + MockScriptEngine.NAME + ".file.update",, +            "script.engine." + MockScriptEngine.NAME + ".file.ingest"),, +++ b/core/src/test/java/org/elasticsearch/script/ScriptContextTests.java, +    private static final String SCRIPT_PLUGIN_CUSTOM_SETTING = "script." + PLUGIN_NAME + "_custom_globally_disabled_op";, +    private static final String SCRIPT_ENGINE_CUSTOM_SETTING = "script.engine." + MockScriptEngine.NAME + ".inline." + PLUGIN_NAME + "_custom_exp_disabled_op";]