[+++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java, +                /*, +                 * Either the document didn't store _source or we didn't fetch it for some reason. Since we don't allow the user to, +                 * change the "fields" part of the search request it is unlikely that we got here because we didn't fetch _source., +                 * Thus the error message assumes that it wasn't stored., +                 */, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java, +                /*, +                 * Either the document didn't store _source or we didn't fetch it for some reason. Since we don't allow the user to, +                 * change the "fields" part of the search request it is unlikely that we got here because we didn't fetch _source., +                 * Thus the error message assumes that it wasn't stored., +                 */, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java, +        if (searchRequest.source().fields() != null) {, +            e = addValidationError("fields is not supported in this context", e);, +        }, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java, +                /*, +                 * Either the document didn't store _source or we didn't fetch it for some reason. Since we don't allow the user to, +                 * change the "fields" part of the search request it is unlikely that we got here because we didn't fetch _source., +                 * Thus the error message assumes that it wasn't stored., +                 */, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java, +        if (searchRequest.source().fields() != null) {, +            e = addValidationError("fields is not supported in this context", e);, +        }, +++ b/modules/reindex/src/test/resources/rest-api-spec/test/reindex/20_validation.yaml, +, +---, +"source fields may not be modified":, +  - do:, +      catch: /fields is not supported in this context/, +      reindex:, +        body:, +          source:, +            index: test, +            fields: [_id], +          dest:, +            index: dest, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java, +                /*, +                 * Either the document didn't store _source or we didn't fetch it for some reason. Since we don't allow the user to, +                 * change the "fields" part of the search request it is unlikely that we got here because we didn't fetch _source., +                 * Thus the error message assumes that it wasn't stored., +                 */, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java, +        if (searchRequest.source().fields() != null) {, +            e = addValidationError("fields is not supported in this context", e);, +        }, +++ b/modules/reindex/src/test/resources/rest-api-spec/test/reindex/20_validation.yaml, +, +---, +"source fields may not be modified":, +  - do:, +      catch: /fields is not supported in this context/, +      reindex:, +        body:, +          source:, +            index: test, +            fields: [_id], +          dest:, +            index: dest, +++ b/modules/reindex/src/test/resources/rest-api-spec/test/update_by_query/20_validation.yaml, +, +---, +"source fields may not be modified":, +  - do:, +      catch: /fields is not supported in this context/, +      update_by_query:, +        index: test, +        body:, +          fields: [_id]]