[+++ b/src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java, +import static org.elasticsearch.test.ElasticsearchIntegrationTest.Scope;, +        ClusterHealthResponse clusterHealth = client().admin().cluster().prepareHealth().setWaitForEvents(Priority.LANGUID).setWaitForNodes("1").get();, +        assertThat(clusterHealth.isTimedOut(), equalTo(false));, +, +        clusterHealth = client().admin().cluster().prepareHealth().setWaitForEvents(Priority.LANGUID).setWaitForNodes("2").get();, +        clusterHealth = client().admin().cluster().prepareHealth().setWaitForEvents(Priority.LANGUID).setWaitForNodes("1").get();, +        client().admin().cluster().prepareUpdateSettings().setTransientSettings(newSettings).get();, +        assertThat(client().admin().cluster().prepareHealth().setWaitForEvents(Priority.LANGUID).setLocal(true).setWaitForNodes("2").get().isTimedOut(), is(false));, +        assertThat(client().admin().cluster().prepareHealth().setWaitForEvents(Priority.LANGUID).setLocal(true).setWaitForNodes("2").get().isTimedOut(), is(false));]