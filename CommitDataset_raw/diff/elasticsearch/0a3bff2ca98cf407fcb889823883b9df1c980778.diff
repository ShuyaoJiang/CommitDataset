[+++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/RestMultiSearchTemplateAction.java, +, +        // Emit a single deprecation message if any search template contains types., +        for (SearchTemplateRequest searchTemplateRequest : multiRequest.requests()) {, +            if (searchTemplateRequest.getRequest().types().length > 0) {, +                deprecationLogger.deprecatedAndMaybeLog("msearch_with_types", TYPES_DEPRECATION_MESSAGE);, +                break;, +            }, +        }, +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/RestMultiSearchTemplateAction.java, +, +        // Emit a single deprecation message if any search template contains types., +        for (SearchTemplateRequest searchTemplateRequest : multiRequest.requests()) {, +            if (searchTemplateRequest.getRequest().types().length > 0) {, +                deprecationLogger.deprecatedAndMaybeLog("msearch_with_types", TYPES_DEPRECATION_MESSAGE);, +                break;, +            }, +        }, +++ b/modules/lang-mustache/src/test/java/org/elasticsearch/script/mustache/MultiSearchTemplateRequestTests.java, +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/RestMultiSearchTemplateAction.java, +, +        // Emit a single deprecation message if any search template contains types., +        for (SearchTemplateRequest searchTemplateRequest : multiRequest.requests()) {, +            if (searchTemplateRequest.getRequest().types().length > 0) {, +                deprecationLogger.deprecatedAndMaybeLog("msearch_with_types", TYPES_DEPRECATION_MESSAGE);, +                break;, +            }, +        }, +++ b/modules/lang-mustache/src/test/java/org/elasticsearch/script/mustache/MultiSearchTemplateRequestTests.java, +++ b/server/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java, +, +        // Emit a single deprecation message if any search request contains types., +        for (SearchRequest searchRequest : multiSearchRequest.requests()) {, +            if (searchRequest.types().length > 0) {, +                deprecationLogger.deprecatedAndMaybeLog("msearch_with_types", TYPES_DEPRECATION_MESSAGE);, +                break;, +            }, +        }]