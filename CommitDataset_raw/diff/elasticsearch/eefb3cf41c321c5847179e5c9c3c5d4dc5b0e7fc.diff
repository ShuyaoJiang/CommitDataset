[+++ b/plugins/analysis-phonetic/pom.xml, +       <tests.rest.suite>analysis_phonetic</tests.rest.suite>, +       <tests.rest.load_packaged>false</tests.rest.load_packaged>, +++ b/plugins/analysis-phonetic/pom.xml, +       <tests.rest.suite>analysis_phonetic</tests.rest.suite>, +       <tests.rest.load_packaged>false</tests.rest.load_packaged>, +++ b/plugins/analysis-phonetic/rest-api-spec/test/analysis_phonetic/10_metaphone.yaml, +# Integration tests for Phonetic analysis components, +#, +, +, +"Metaphone":, +    - do:, +        indices.create:, +            index:  phonetic_sample, +            body:, +                settings:, +                    index:, +                        analysis:, +                            analyzer:, +                                my_analyzer:, +                                    tokenizer:  standard, +                                    filter: ["standard", "lowercase", "my_metaphone"], +                            filter:, +                                my_metaphone:, +                                    type: phonetic, +                                    encoder: metaphone, +                                    replace: false, +    - do:, +        indices.analyze:, +            index: phonetic_sample, +            analyzer: my_analyzer, +            text: Joe Bloggs, +, +    - length: { tokens: 4 }, +    - match:  { tokens.0.token: J  }, +    - match:  { tokens.1.token: joe  }, +    - match:  { tokens.2.token: BLKS  }, +    - match:  { tokens.3.token: bloggs  }, +, +++ b/plugins/analysis-phonetic/pom.xml, +       <tests.rest.suite>analysis_phonetic</tests.rest.suite>, +       <tests.rest.load_packaged>false</tests.rest.load_packaged>, +++ b/plugins/analysis-phonetic/rest-api-spec/test/analysis_phonetic/10_metaphone.yaml, +# Integration tests for Phonetic analysis components, +#, +, +, +"Metaphone":, +    - do:, +        indices.create:, +            index:  phonetic_sample, +            body:, +                settings:, +                    index:, +                        analysis:, +                            analyzer:, +                                my_analyzer:, +                                    tokenizer:  standard, +                                    filter: ["standard", "lowercase", "my_metaphone"], +                            filter:, +                                my_metaphone:, +                                    type: phonetic, +                                    encoder: metaphone, +                                    replace: false, +    - do:, +        indices.analyze:, +            index: phonetic_sample, +            analyzer: my_analyzer, +            text: Joe Bloggs, +, +    - length: { tokens: 4 }, +    - match:  { tokens.0.token: J  }, +    - match:  { tokens.1.token: joe  }, +    - match:  { tokens.2.token: BLKS  }, +    - match:  { tokens.3.token: bloggs  }, +, +++ b/plugins/analysis-phonetic/rest-api-spec/test/analysis_phonetic/20_double_metaphone.yaml, +# Integration tests for Phonetic analysis components, +#, +, +, +"Double Metaphone":, +    - do:, +        indices.create:, +            index:  phonetic_sample, +            body:, +                settings:, +                    index:, +                        analysis:, +                            analyzer:, +                                my_analyzer:, +                                    tokenizer:  standard, +                                    filter: ["standard", "lowercase", "my_metaphone"], +                            filter:, +                                my_metaphone:, +                                    type: phonetic, +                                    encoder: double_metaphone, +                                    max_code_len: 6, +    - do:]