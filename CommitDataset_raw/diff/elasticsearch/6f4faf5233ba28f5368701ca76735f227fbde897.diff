[+++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java, +    public static AllocationCommands fromXContent(XContentParser parser, AllocationCommandRegistry registry) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java, +    public static AllocationCommands fromXContent(XContentParser parser, AllocationCommandRegistry registry) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/cluster/RestClusterRerouteAction.java, +        PARSER.declareField((p, v, c) -> v.commands(AllocationCommands.fromXContent(p, c.registry)),, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java, +    public static AllocationCommands fromXContent(XContentParser parser, AllocationCommandRegistry registry) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/cluster/RestClusterRerouteAction.java, +        PARSER.declareField((p, v, c) -> v.commands(AllocationCommands.fromXContent(p, c.registry)),, +++ b/core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java, +        AllocationCommands sCommands = AllocationCommands.fromXContent(parser, registry);]