[+++ b/docs/java-api/admin/indices/put-mapping.asciidoc, +["source","java",subs="attributes,callouts,macros"], +include-tagged::{client-tests}/IndicesDocumentationIT.java[index-with-mapping], +++ b/docs/java-api/admin/indices/put-mapping.asciidoc, +["source","java",subs="attributes,callouts,macros"], +include-tagged::{client-tests}/IndicesDocumentationIT.java[index-with-mapping], +++ b/docs/java-api/index.asciidoc, +:client-tests: {docdir}/../../server/src/test/java/org/elasticsearch/client/documentation, +, +++ b/docs/java-api/admin/indices/put-mapping.asciidoc, +["source","java",subs="attributes,callouts,macros"], +include-tagged::{client-tests}/IndicesDocumentationIT.java[index-with-mapping], +++ b/docs/java-api/index.asciidoc, +:client-tests: {docdir}/../../server/src/test/java/org/elasticsearch/client/documentation, +, +++ b/server/src/test/java/org/elasticsearch/client/documentation/IndicesDocumentationIT.java, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +, +package org.elasticsearch.client.documentation;, +, +import org.elasticsearch.action.admin.indices.create.CreateIndexResponse;, +import org.elasticsearch.client.Client;, +import org.elasticsearch.test.ESIntegTestCase;, +, +public class IndicesDocumentationIT extends ESIntegTestCase {, +, +    public void createMappings() {, +        Client client = client();, +, +        // tag::index-with-mapping, +        client.admin().indices().prepareCreate("twitter")   // <1>, +                .addMapping("\"tweet\": {\n" +              // <2>, +                        "  \"properties\": {\n" +, +                        "    \"message\": {\n" +, +                        "      \"type\": \"text\"\n" +, +                        "    }\n" +, +                        "  }\n" +, +                        "}"), +                .get();, +        // end::index-with-mapping, +    }, +, +}]