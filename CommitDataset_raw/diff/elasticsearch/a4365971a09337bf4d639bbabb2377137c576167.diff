[+++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +            fields = fieldsAndWeights == null ? Collections.emptyList() : fieldsAndWeights.keySet();, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +            fields = fieldsAndWeights == null ? Collections.emptyList() : fieldsAndWeights.keySet();, +++ b/core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java, +        } else {]