[+++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +    public MetaDataCreateIndexService(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +    public MetaDataCreateIndexService(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +++ b/src/main/java/org/elasticsearch/index/IndexService.java, +import org.elasticsearch.index.cache.bitset.ShardBitsetFilterCache;, +import org.elasticsearch.index.cache.query.ShardQueryCache;, +import org.elasticsearch.index.fielddata.ShardFieldData;, +import org.elasticsearch.index.gateway.IndexShardGateway;, +import org.elasticsearch.index.get.ShardGetService;, +import org.elasticsearch.index.indexing.ShardIndexingService;, +import org.elasticsearch.index.indexing.slowlog.ShardSlowLogIndexingService;, +import org.elasticsearch.index.percolator.stats.ShardPercolateService;, +import org.elasticsearch.index.search.slowlog.ShardSlowLogSearchService;, +import org.elasticsearch.index.search.stats.ShardSearchService;, +import org.elasticsearch.index.snapshots.IndexShardSnapshotAndRestoreService;, +import org.elasticsearch.index.suggest.stats.ShardSuggestService;, +import org.elasticsearch.index.termvectors.ShardTermVectorsService;, +            modules.add(new IndexShardModule(shardId, primary, indexSettings, shardFilterCache));, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +    public MetaDataCreateIndexService(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +++ b/src/main/java/org/elasticsearch/index/IndexService.java, +import org.elasticsearch.index.cache.bitset.ShardBitsetFilterCache;, +import org.elasticsearch.index.cache.query.ShardQueryCache;, +import org.elasticsearch.index.fielddata.ShardFieldData;, +import org.elasticsearch.index.gateway.IndexShardGateway;, +import org.elasticsearch.index.get.ShardGetService;, +import org.elasticsearch.index.indexing.ShardIndexingService;, +import org.elasticsearch.index.indexing.slowlog.ShardSlowLogIndexingService;, +import org.elasticsearch.index.percolator.stats.ShardPercolateService;, +import org.elasticsearch.index.search.slowlog.ShardSlowLogSearchService;, +import org.elasticsearch.index.search.stats.ShardSearchService;, +import org.elasticsearch.index.snapshots.IndexShardSnapshotAndRestoreService;, +import org.elasticsearch.index.suggest.stats.ShardSuggestService;, +import org.elasticsearch.index.termvectors.ShardTermVectorsService;, +            modules.add(new IndexShardModule(shardId, primary, indexSettings, shardFilterCache));, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +    public MetaDataCreateIndexService(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +++ b/src/main/java/org/elasticsearch/index/IndexService.java, +import org.elasticsearch.index.cache.bitset.ShardBitsetFilterCache;, +import org.elasticsearch.index.cache.query.ShardQueryCache;, +import org.elasticsearch.index.fielddata.ShardFieldData;, +import org.elasticsearch.index.gateway.IndexShardGateway;, +import org.elasticsearch.index.get.ShardGetService;, +import org.elasticsearch.index.indexing.ShardIndexingService;, +import org.elasticsearch.index.indexing.slowlog.ShardSlowLogIndexingService;, +import org.elasticsearch.index.percolator.stats.ShardPercolateService;, +import org.elasticsearch.index.search.slowlog.ShardSlowLogSearchService;, +import org.elasticsearch.index.search.stats.ShardSearchService;, +import org.elasticsearch.index.snapshots.IndexShardSnapshotAndRestoreService;, +import org.elasticsearch.index.suggest.stats.ShardSuggestService;, +import org.elasticsearch.index.termvectors.ShardTermVectorsService;, +            modules.add(new IndexShardModule(shardId, primary, indexSettings, shardFilterCache));, +++ /dev/null, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +    public MetaDataCreateIndexService(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +++ b/src/main/java/org/elasticsearch/index/IndexService.java, +import org.elasticsearch.index.cache.bitset.ShardBitsetFilterCache;, +import org.elasticsearch.index.cache.query.ShardQueryCache;, +import org.elasticsearch.index.fielddata.ShardFieldData;, +import org.elasticsearch.index.gateway.IndexShardGateway;, +import org.elasticsearch.index.get.ShardGetService;, +import org.elasticsearch.index.indexing.ShardIndexingService;, +import org.elasticsearch.index.indexing.slowlog.ShardSlowLogIndexingService;, +import org.elasticsearch.index.percolator.stats.ShardPercolateService;, +import org.elasticsearch.index.search.slowlog.ShardSlowLogSearchService;, +import org.elasticsearch.index.search.stats.ShardSearchService;, +import org.elasticsearch.index.snapshots.IndexShardSnapshotAndRestoreService;, +import org.elasticsearch.index.suggest.stats.ShardSuggestService;, +import org.elasticsearch.index.termvectors.ShardTermVectorsService;, +            modules.add(new IndexShardModule(shardId, primary, indexSettings, shardFilterCache));, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +    public MetaDataCreateIndexService(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +++ b/src/main/java/org/elasticsearch/index/IndexService.java, +import org.elasticsearch.index.cache.bitset.ShardBitsetFilterCache;, +import org.elasticsearch.index.cache.query.ShardQueryCache;, +import org.elasticsearch.index.fielddata.ShardFieldData;, +import org.elasticsearch.index.gateway.IndexShardGateway;, +import org.elasticsearch.index.get.ShardGetService;, +import org.elasticsearch.index.indexing.ShardIndexingService;, +import org.elasticsearch.index.indexing.slowlog.ShardSlowLogIndexingService;, +import org.elasticsearch.index.percolator.stats.ShardPercolateService;, +import org.elasticsearch.index.search.slowlog.ShardSlowLogSearchService;, +import org.elasticsearch.index.search.stats.ShardSearchService;, +import org.elasticsearch.index.snapshots.IndexShardSnapshotAndRestoreService;, +import org.elasticsearch.index.suggest.stats.ShardSuggestService;, +import org.elasticsearch.index.termvectors.ShardTermVectorsService;, +            modules.add(new IndexShardModule(shardId, primary, indexSettings, shardFilterCache));, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +    public MetaDataCreateIndexService(Settings settings, ThreadPool threadPool, ClusterService clusterService,, +++ b/src/main/java/org/elasticsearch/index/IndexService.java]