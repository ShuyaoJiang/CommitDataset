[+++ b/src/main/java/org/elasticsearch/search/scan/ScanContext.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +import java.util.concurrent.ConcurrentMap;, +    private final ConcurrentMap<IndexReader, ReaderState> readerStates = ConcurrentCollections.newConcurrentMap();, +        private final ConcurrentMap<IndexReader, ReaderState> readerStates;, +        ScanCollector(ConcurrentMap<IndexReader, ReaderState> readerStates, int from, int size, boolean trackScores) {, +        private final ConcurrentMap<IndexReader, ReaderState> readerStates;, +        public ScanFilter(ConcurrentMap<IndexReader, ReaderState> readerStates, ScanCollector scanCollector) {]