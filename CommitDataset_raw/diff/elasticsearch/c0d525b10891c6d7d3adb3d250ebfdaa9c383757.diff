[+++ b/docs/build.gradle, +// Used by sampler and diversified-sampler aggregation docs, +buildRestTests.setups['stackoverflow'] = ''', +  - do:, +    indices.create:, +      index: stackoverflow, +      body:, +        settings:, +          number_of_shards: 1, +          number_of_replicas: 1, +        mappings:, +          question:, +            properties:, +              author:, +                type: keyword, +              tags:, +                type: keyword, +  - do:, +    bulk:, +      index: stackoverflow, +      type: question, +      refresh: true, +      body: |''', +      , +// Make Kibana strongly connected to elasticsearch and logstash, +// Make Kibana rarer (and therefore higher-ranking) than Javascript, +// Make Javascript strongly connected to jquery and angular, +// Make Cabana strongly connected to elasticsearch but only as a result of a single author, +, +for (int i = 0; i < 150; i++) {, +  buildRestTests.setups['stackoverflow'] += """, +        {"index":{}}, +        {"author": "very_relevant_$i", "tags": ["elasticsearch", "kibana"]}""", +}, +for (int i = 0; i < 50; i++) {, +  buildRestTests.setups['stackoverflow'] += """, +        {"index":{}}, +        {"author": "very_relevant_$i", "tags": ["logstash", "kibana"]}""", +}, +for (int i = 0; i < 200; i++) {, +  buildRestTests.setups['stackoverflow'] += """, +        {"index":{}}, +        {"author": "partially_relevant_$i", "tags": ["javascript", "jquery"]}""", +}, +for (int i = 0; i < 200; i++) {, +  buildRestTests.setups['stackoverflow'] += """, +        {"index":{}}, +        {"author": "partially_relevant_$i", "tags": ["javascript", "angular"]}""", +}, +for (int i = 0; i < 50; i++) {, +  buildRestTests.setups['stackoverflow'] += """, +        {"index":{}}, +        {"author": "noisy author", "tags": ["elasticsearch", "cabana"]}""", +}, +buildRestTests.setups['stackoverflow'] += """, +""", +, +++ b/docs/build.gradle, +// Used by sampler and diversified-sampler aggregation docs, +buildRestTests.setups['stackoverflow'] = ''', +  - do:, +    indices.create:, +      index: stackoverflow, +      body:, +        settings:, +          number_of_shards: 1, +          number_of_replicas: 1, +        mappings:, +          question:, +            properties:, +              author:, +                type: keyword, +              tags:, +                type: keyword, +  - do:, +    bulk:, +      index: stackoverflow, +      type: question, +      refresh: true, +      body: |''', +      , +// Make Kibana strongly connected to elasticsearch and logstash, +// Make Kibana rarer (and therefore higher-ranking) than Javascript, +// Make Javascript strongly connected to jquery and angular, +// Make Cabana strongly connected to elasticsearch but only as a result of a single author, +, +for (int i = 0; i < 150; i++) {, +  buildRestTests.setups['stackoverflow'] += """, +        {"index":{}}, +        {"author": "very_relevant_$i", "tags": ["elasticsearch", "kibana"]}""", +}, +for (int i = 0; i < 50; i++) {, +  buildRestTests.setups['stackoverflow'] += """, +        {"index":{}}, +        {"author": "very_relevant_$i", "tags": ["logstash", "kibana"]}""", +}, +for (int i = 0; i < 200; i++) {, +  buildRestTests.setups['stackoverflow'] += """, +        {"index":{}}, +        {"author": "partially_relevant_$i", "tags": ["javascript", "jquery"]}"""]