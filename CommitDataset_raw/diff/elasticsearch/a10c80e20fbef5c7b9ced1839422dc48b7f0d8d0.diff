[+++ b/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java, +        // Do not change the order of these flags we use, +        // the ordinal for encoding! Only append to the end!, +++ b/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java, +        // Do not change the order of these flags we use, +        // the ordinal for encoding! Only append to the end!, +++ b/src/test/java/org/elasticsearch/test/integration/indices/stats/SimpleIndexStatsTests.java, +import java.util.Arrays;, +    @Test, +    public void testFlagOrdinalOrder() {, +        Flag[] flags = new Flag[] { Flag.Store, Flag.Indexing, Flag.Get, Flag.Search, Flag.Merge, Flag.Flush, Flag.Refresh,, +                Flag.FilterCache, Flag.IdCache, Flag.FieldData, Flag.Docs, Flag.Warmer };, +        , +        assertThat(flags.length, equalTo(Flag.values().length));, +        for (int i = 0; i < flags.length; i++) {, +            assertThat("ordinal has changed - this breaks the wire protocol. Only append to new values", i, equalTo(flags[i].ordinal()));, +        }, +    }, +    ]