[+++ b/NOTICE.txt, +Copyright 2009-2016 Elasticsearch, +++ b/NOTICE.txt, +Copyright 2009-2016 Elasticsearch, +++ b/README.textile, +Copyright 2009-2016 Elasticsearch <https://www.elastic.co>, +++ b/NOTICE.txt, +Copyright 2009-2016 Elasticsearch, +++ b/README.textile, +Copyright 2009-2016 Elasticsearch <https://www.elastic.co>, +++ b/build.gradle, +import org.eclipse.jgit.lib.Repository, +import org.eclipse.jgit.lib.RepositoryBuilder, +    nexus {, +      String buildSnapshot = System.getProperty('build.snapshot', 'true'), +      if (buildSnapshot == 'false') {, +        Repository repo = new RepositoryBuilder().findGitDir(new File('.')).build(), +        String shortHash = repo.resolve('HEAD')?.name?.substring(0,7), +        repositoryUrl = project.hasProperty('build.repository') ? project.property('build.repository') : "file://${System.getenv('HOME')}/elasticsearch-releases/${version}-${shortHash}/", +      }, +    }, +    // TODO: add gpg signing prompts, which is tricky, as the buildDeb/buildRpm tasks are executed before this code block, +        // no need for username/password on local deploy, +        if (project.nexus.repositoryUrl.startsWith('file://')) {, +          project.rootProject.allprojects.each {, +            it.ext.nexusUsername = 'foo', +            it.ext.nexusPassword = 'bar', +          }, +        } else {, +}, +++ b/NOTICE.txt, +Copyright 2009-2016 Elasticsearch, +++ b/README.textile, +Copyright 2009-2016 Elasticsearch <https://www.elastic.co>, +++ b/build.gradle, +import org.eclipse.jgit.lib.Repository, +import org.eclipse.jgit.lib.RepositoryBuilder, +    nexus {, +      String buildSnapshot = System.getProperty('build.snapshot', 'true'), +      if (buildSnapshot == 'false') {, +        Repository repo = new RepositoryBuilder().findGitDir(new File('.')).build(), +        String shortHash = repo.resolve('HEAD')?.name?.substring(0,7), +        repositoryUrl = project.hasProperty('build.repository') ? project.property('build.repository') : "file://${System.getenv('HOME')}/elasticsearch-releases/${version}-${shortHash}/", +      }, +    }, +    // TODO: add gpg signing prompts, which is tricky, as the buildDeb/buildRpm tasks are executed before this code block, +        // no need for username/password on local deploy, +        if (project.nexus.repositoryUrl.startsWith('file://')) {, +          project.rootProject.allprojects.each {, +            it.ext.nexusUsername = 'foo', +            it.ext.nexusPassword = 'bar', +          }, +        } else {, +}, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/NOTICE.txt, +Copyright 2009-2016 Elasticsearch, +++ b/README.textile, +Copyright 2009-2016 Elasticsearch <https://www.elastic.co>, +++ b/build.gradle, +import org.eclipse.jgit.lib.Repository, +import org.eclipse.jgit.lib.RepositoryBuilder, +    nexus {, +      String buildSnapshot = System.getProperty('build.snapshot', 'true'), +      if (buildSnapshot == 'false') {, +        Repository repo = new RepositoryBuilder().findGitDir(new File('.')).build(), +        String shortHash = repo.resolve('HEAD')?.name?.substring(0,7), +        repositoryUrl = project.hasProperty('build.repository') ? project.property('build.repository') : "file://${System.getenv('HOME')}/elasticsearch-releases/${version}-${shortHash}/", +      }, +    }, +    // TODO: add gpg signing prompts, which is tricky, as the buildDeb/buildRpm tasks are executed before this code block, +        // no need for username/password on local deploy, +        if (project.nexus.repositoryUrl.startsWith('file://')) {, +          project.rootProject.allprojects.each {, +            it.ext.nexusUsername = 'foo', +            it.ext.nexusPassword = 'bar', +          }, +        } else {, +}, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/README.textile, +Copyright 2009-2016 Elasticsearch <https://www.elastic.co>, +++ b/NOTICE.txt, +Copyright 2009-2016 Elasticsearch, +++ b/README.textile, +Copyright 2009-2016 Elasticsearch <https://www.elastic.co>, +++ b/build.gradle, +import org.eclipse.jgit.lib.Repository, +import org.eclipse.jgit.lib.RepositoryBuilder, +    nexus {, +      String buildSnapshot = System.getProperty('build.snapshot', 'true'), +      if (buildSnapshot == 'false') {, +        Repository repo = new RepositoryBuilder().findGitDir(new File('.')).build(), +        String shortHash = repo.resolve('HEAD')?.name?.substring(0,7), +        repositoryUrl = project.hasProperty('build.repository') ? project.property('build.repository') : "file://${System.getenv('HOME')}/elasticsearch-releases/${version}-${shortHash}/", +      }, +    }, +    // TODO: add gpg signing prompts, which is tricky, as the buildDeb/buildRpm tasks are executed before this code block, +        // no need for username/password on local deploy, +        if (project.nexus.repositoryUrl.startsWith('file://')) {]