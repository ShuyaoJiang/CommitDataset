[+++ b/src/main/java/org/elasticsearch/discovery/zen/ZenDiscoveryModule.java, +import com.google.common.collect.Lists;, +import org.elasticsearch.common.inject.multibindings.Multibinder;, +import org.elasticsearch.discovery.zen.ping.unicast.UnicastHostsProvider;, +, +import java.util.List;, +    private final List<Class<? extends UnicastHostsProvider>> unicastHostProviders = Lists.newArrayList();, +, +    /**, +     * Adds a custom unicast hosts provider to build a dynamic list of unicast hosts list when doing unicast discovery., +     */, +    public ZenDiscoveryModule addUnicastHostProvider(Class<? extends UnicastHostsProvider> unicastHostProvider) {, +        unicastHostProviders.add(unicastHostProvider);, +        return this;, +    }, +, +        Multibinder<UnicastHostsProvider> unicastHostsProviderMultibinder = Multibinder.newSetBinder(binder(), UnicastHostsProvider.class);, +        for (Class<? extends UnicastHostsProvider> unicastHostProvider : unicastHostProviders) {, +            unicastHostsProviderMultibinder.addBinding().to(unicastHostProvider);, +        }, +++ b/src/main/java/org/elasticsearch/discovery/zen/ZenDiscoveryModule.java, +import com.google.common.collect.Lists;, +import org.elasticsearch.common.inject.multibindings.Multibinder;, +import org.elasticsearch.discovery.zen.ping.unicast.UnicastHostsProvider;, +, +import java.util.List;, +    private final List<Class<? extends UnicastHostsProvider>> unicastHostProviders = Lists.newArrayList();, +, +    /**, +     * Adds a custom unicast hosts provider to build a dynamic list of unicast hosts list when doing unicast discovery., +     */, +    public ZenDiscoveryModule addUnicastHostProvider(Class<? extends UnicastHostsProvider> unicastHostProvider) {, +        unicastHostProviders.add(unicastHostProvider);, +        return this;, +    }, +, +        Multibinder<UnicastHostsProvider> unicastHostsProviderMultibinder = Multibinder.newSetBinder(binder(), UnicastHostsProvider.class);, +        for (Class<? extends UnicastHostsProvider> unicastHostProvider : unicastHostProviders) {, +            unicastHostsProviderMultibinder.addBinding().to(unicastHostProvider);, +        }, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java, +import org.elasticsearch.common.Nullable;, +import org.elasticsearch.discovery.zen.ping.unicast.UnicastHostsProvider;, +import java.util.Set;, +    public ZenPingService(Settings settings, ThreadPool threadPool, TransportService transportService, ClusterName clusterName, NetworkService networkService,, +                          @Nullable Set<UnicastHostsProvider> unicastHostsProviders) {, +        zenPingsBuilder.add(new UnicastZenPing(settings, threadPool, transportService, clusterName, unicastHostsProviders));, +++ b/src/main/java/org/elasticsearch/discovery/zen/ZenDiscoveryModule.java, +import com.google.common.collect.Lists;, +import org.elasticsearch.common.inject.multibindings.Multibinder;, +import org.elasticsearch.discovery.zen.ping.unicast.UnicastHostsProvider;, +, +import java.util.List;, +    private final List<Class<? extends UnicastHostsProvider>> unicastHostProviders = Lists.newArrayList();, +, +    /**, +     * Adds a custom unicast hosts provider to build a dynamic list of unicast hosts list when doing unicast discovery., +     */, +    public ZenDiscoveryModule addUnicastHostProvider(Class<? extends UnicastHostsProvider> unicastHostProvider) {, +        unicastHostProviders.add(unicastHostProvider);, +        return this;, +    }, +, +        Multibinder<UnicastHostsProvider> unicastHostsProviderMultibinder = Multibinder.newSetBinder(binder(), UnicastHostsProvider.class);, +        for (Class<? extends UnicastHostsProvider> unicastHostProvider : unicastHostProviders) {, +            unicastHostsProviderMultibinder.addBinding().to(unicastHostProvider);, +        }, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java, +import org.elasticsearch.common.Nullable;, +import org.elasticsearch.discovery.zen.ping.unicast.UnicastHostsProvider;, +import java.util.Set;, +    public ZenPingService(Settings settings, ThreadPool threadPool, TransportService transportService, ClusterName clusterName, NetworkService networkService,, +                          @Nullable Set<UnicastHostsProvider> unicastHostsProviders) {, +        zenPingsBuilder.add(new UnicastZenPing(settings, threadPool, transportService, clusterName, unicastHostsProviders));, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastHostsProvider.java, + * A pluggable provider of the list of unicast hosts to use for unicast discovery., +    /**, +     * Builds the dynamic list of unicast hosts to be used for unicast discovery., +     */, +++ b/src/main/java/org/elasticsearch/discovery/zen/ZenDiscoveryModule.java, +import com.google.common.collect.Lists;, +import org.elasticsearch.common.inject.multibindings.Multibinder;, +import org.elasticsearch.discovery.zen.ping.unicast.UnicastHostsProvider;, +, +import java.util.List;, +    private final List<Class<? extends UnicastHostsProvider>> unicastHostProviders = Lists.newArrayList();, +, +    /**, +     * Adds a custom unicast hosts provider to build a dynamic list of unicast hosts list when doing unicast discovery., +     */, +    public ZenDiscoveryModule addUnicastHostProvider(Class<? extends UnicastHostsProvider> unicastHostProvider) {, +        unicastHostProviders.add(unicastHostProvider);, +        return this;, +    }, +, +        Multibinder<UnicastHostsProvider> unicastHostsProviderMultibinder = Multibinder.newSetBinder(binder(), UnicastHostsProvider.class);, +        for (Class<? extends UnicastHostsProvider> unicastHostProvider : unicastHostProviders) {, +            unicastHostsProviderMultibinder.addBinding().to(unicastHostProvider);, +        }, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java]