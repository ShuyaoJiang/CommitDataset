[+++ b/test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java, +                boolean expectException = true;, +                    Deque<String> levels = new LinkedList<>();, +                    // Parse the valid query and inserts a new object level called "newField", +                            levels.addLast(parser.currentName());, +                                if (hasArbitraryContent) {, +                                    // The query has one or more fields that hold arbitrary content. If the current, +                                    // field is one (or a child) of those, no exception is expected when parsing the mutated query., +                                    String h = Arrays.toString(levels.toArray());, +                                    for (String marker : arbitraryMarkers) {, +                                        if (levels.contains(marker)) {, +                                            expectException = false;, +                                            break;, +                                        }, +                                    }, +                                }, +, +                        } else if (token == XContentParser.Token.END_OBJECT) {, +                            levels.removeLast();]