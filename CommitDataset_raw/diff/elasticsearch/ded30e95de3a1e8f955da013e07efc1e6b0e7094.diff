[+++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java, +        ValuesSourceParser<ValuesSource.GeoPoint> vsParser = ValuesSourceParser.geoPoint(aggregationName, InternalGeoDistance.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java, +        ValuesSourceParser<ValuesSource.GeoPoint> vsParser = ValuesSourceParser.geoPoint(aggregationName, InternalGeoDistance.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java, +        ValuesSourceParser<ValuesSource.GeoPoint> vsParser = ValuesSourceParser.geoPoint(aggregationName, InternalGeoDistance.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java, +        ValuesSourceParser<ValuesSource.GeoPoint> vsParser = ValuesSourceParser.geoPoint(aggregationName, InternalGeoDistance.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java, +        ValuesSourceParser vsParser = ValuesSourceParser.any(aggregationName, StringTerms.TYPE, context).scriptable(true).formattable(true).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java, +        ValuesSourceParser<ValuesSource.GeoPoint> vsParser = ValuesSourceParser.geoPoint(aggregationName, InternalGeoDistance.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java, +        ValuesSourceParser vsParser = ValuesSourceParser.any(aggregationName, StringTerms.TYPE, context).scriptable(true).formattable(true).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/metrics/NumericValuesSourceMetricsAggregatorParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java, +        ValuesSourceParser<ValuesSource.GeoPoint> vsParser = ValuesSourceParser.geoPoint(aggregationName, InternalGeoDistance.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java, +        ValuesSourceParser vsParser = ValuesSourceParser.any(aggregationName, StringTerms.TYPE, context).scriptable(true).formattable(true).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/metrics/NumericValuesSourceMetricsAggregatorParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java, +        ValuesSourceParser<ValuesSource.Numeric> vsParser = ValuesSourceParser.numeric(aggregationName, InternalPercentiles.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java, +        ValuesSourceParser<ValuesSource.GeoPoint> vsParser = ValuesSourceParser.geoPoint(aggregationName, InternalGeoDistance.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java, +        ValuesSourceParser vsParser = ValuesSourceParser.any(aggregationName, StringTerms.TYPE, context).scriptable(true).formattable(true).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/metrics/NumericValuesSourceMetricsAggregatorParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java, +        ValuesSourceParser<ValuesSource.Numeric> vsParser = ValuesSourceParser.numeric(aggregationName, InternalPercentiles.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java, +        ValuesSourceParser<ValuesSource.GeoPoint> vsParser = ValuesSourceParser.geoPoint(aggregationName, InternalGeoDistance.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java, +        ValuesSourceParser vsParser = ValuesSourceParser.any(aggregationName, StringTerms.TYPE, context).scriptable(true).formattable(true).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/metrics/NumericValuesSourceMetricsAggregatorParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java, +        ValuesSourceParser<ValuesSource.Numeric> vsParser = ValuesSourceParser.numeric(aggregationName, InternalPercentiles.TYPE, context).build();, +++ b/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java, +++ b/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java]