[+++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java, +, +                IndexWarmersMetaData.SearchSource source = null;, +                if (in.readBoolean()) {, +                    source = new IndexWarmersMetaData.SearchSource(in);, +                }, +                boolean hasWarmerSource = warmerEntry != null;, +                out.writeBoolean(hasWarmerSource);, +                if (hasWarmerSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java, +, +                IndexWarmersMetaData.SearchSource source = null;, +                if (in.readBoolean()) {, +                    source = new IndexWarmersMetaData.SearchSource(in);, +                }, +                boolean hasWarmerSource = warmerEntry != null;, +                out.writeBoolean(hasWarmerSource);, +                if (hasWarmerSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +                        IndexWarmersMetaData.SearchSource source = null;, +                        if (request.searchRequest().source() != null) {, +                            source = new IndexWarmersMetaData.SearchSource(request.searchRequest().source());, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java, +, +                IndexWarmersMetaData.SearchSource source = null;, +                if (in.readBoolean()) {, +                    source = new IndexWarmersMetaData.SearchSource(in);, +                }, +                boolean hasWarmerSource = warmerEntry != null;, +                out.writeBoolean(hasWarmerSource);, +                if (hasWarmerSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +                        IndexWarmersMetaData.SearchSource source = null;, +                        if (request.searchRequest().source() != null) {, +                            source = new IndexWarmersMetaData.SearchSource(request.searchRequest().source());, +++ b/core/src/main/java/org/elasticsearch/action/count/CountRequest.java, +import org.elasticsearch.index.query.QueryBuilder;, +    private SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();, +        searchSourceBuilder.size(0);, +        searchSourceBuilder.minScore(DEFAULT_MIN_SCORE);, +        searchSourceBuilder.terminateAfter(DEFAULT_TERMINATE_AFTER);, +        return searchSourceBuilder.minScore();, +        this.searchSourceBuilder.minScore(minScore);, +     * The query to execute, +    public CountRequest query(QueryBuilder<?> queryBuilder) {, +        this.searchSourceBuilder.query(queryBuilder);, +        this.searchSourceBuilder.terminateAfter(terminateAfterCount);, +        return this.searchSourceBuilder.terminateAfter();, +            sSource = XContentHelper.toString(searchSourceBuilder);, +    public String sourceBuilderString() {, +        return searchSourceBuilder.toString();, +    }, +, +        searchRequest.source(searchSourceBuilder);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java, +, +                IndexWarmersMetaData.SearchSource source = null;]