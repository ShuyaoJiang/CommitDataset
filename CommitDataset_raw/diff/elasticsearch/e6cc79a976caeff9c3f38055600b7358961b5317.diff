[+++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        INDEX_WARMER_MISSING_EXCEPTION(org.elasticsearch.search.warmer.IndexWarmerMissingException.class, org.elasticsearch.search.warmer.IndexWarmerMissingException::new, 93),, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        INDEX_WARMER_MISSING_EXCEPTION(org.elasticsearch.search.warmer.IndexWarmerMissingException.class, org.elasticsearch.search.warmer.IndexWarmerMissingException::new, 93),, +++ b/core/src/main/java/org/elasticsearch/Version.java, +import org.elasticsearch.common.lucene.Lucene;, +        assert CURRENT.luceneVersion.equals(Lucene.VERSION) : "Version must be upgraded to [" + Lucene.VERSION + "] is still set to [" + CURRENT.luceneVersion + "]";, +, +, +, +, +                return new Version(id, false, Lucene.VERSION);, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        INDEX_WARMER_MISSING_EXCEPTION(org.elasticsearch.search.warmer.IndexWarmerMissingException.class, org.elasticsearch.search.warmer.IndexWarmerMissingException::new, 93),, +++ b/core/src/main/java/org/elasticsearch/Version.java, +import org.elasticsearch.common.lucene.Lucene;, +        assert CURRENT.luceneVersion.equals(Lucene.VERSION) : "Version must be upgraded to [" + Lucene.VERSION + "] is still set to [" + CURRENT.luceneVersion + "]";, +, +, +, +, +                return new Version(id, false, Lucene.VERSION);, +++ b/core/src/main/java/org/elasticsearch/action/ActionModule.java, +import org.elasticsearch.action.admin.indices.warmer.delete.DeleteWarmerAction;, +import org.elasticsearch.action.admin.indices.warmer.delete.TransportDeleteWarmerAction;, +import org.elasticsearch.action.admin.indices.warmer.get.GetWarmersAction;, +import org.elasticsearch.action.admin.indices.warmer.get.TransportGetWarmersAction;, +import org.elasticsearch.action.admin.indices.warmer.put.PutWarmerAction;, +import org.elasticsearch.action.admin.indices.warmer.put.TransportPutWarmerAction;, +import org.elasticsearch.action.ingest.IngestActionFilter;, +import org.elasticsearch.action.ingest.IngestDisabledActionFilter;, +import org.elasticsearch.action.ingest.delete.DeletePipelineAction;, +import org.elasticsearch.action.ingest.delete.DeletePipelineTransportAction;, +import org.elasticsearch.action.ingest.get.GetPipelineAction;, +import org.elasticsearch.action.ingest.get.GetPipelineTransportAction;, +import org.elasticsearch.action.ingest.put.PutPipelineAction;, +import org.elasticsearch.action.ingest.put.PutPipelineTransportAction;, +import org.elasticsearch.action.ingest.simulate.SimulatePipelineAction;, +import org.elasticsearch.action.ingest.simulate.SimulatePipelineTransportAction;, +import org.elasticsearch.common.settings.Settings;, +    private final boolean ingestEnabled;, +    public ActionModule(Settings settings, boolean proxy) {, +        this.ingestEnabled = settings.getAsBoolean("node.ingest", false);, +        if (proxy == false) {, +            if (ingestEnabled) {, +                registerFilter(IngestActionFilter.class);, +            } else {, +                registerFilter(IngestDisabledActionFilter.class);, +            }, +        }, +        registerAction(PutWarmerAction.INSTANCE, TransportPutWarmerAction.class);, +        registerAction(DeleteWarmerAction.INSTANCE, TransportDeleteWarmerAction.class);, +        registerAction(GetWarmersAction.INSTANCE, TransportGetWarmersAction.class);, +        registerAction(PutPipelineAction.INSTANCE, PutPipelineTransportAction.class);, +        registerAction(GetPipelineAction.INSTANCE, GetPipelineTransportAction.class);, +        registerAction(DeletePipelineAction.INSTANCE, DeletePipelineTransportAction.class);, +        registerAction(SimulatePipelineAction.INSTANCE, SimulatePipelineTransportAction.class);, +, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        INDEX_WARMER_MISSING_EXCEPTION(org.elasticsearch.search.warmer.IndexWarmerMissingException.class, org.elasticsearch.search.warmer.IndexWarmerMissingException::new, 93),, +++ b/core/src/main/java/org/elasticsearch/Version.java, +import org.elasticsearch.common.lucene.Lucene;, +        assert CURRENT.luceneVersion.equals(Lucene.VERSION) : "Version must be upgraded to [" + Lucene.VERSION + "] is still set to [" + CURRENT.luceneVersion + "]";, +, +, +, +, +                return new Version(id, false, Lucene.VERSION);, +++ b/core/src/main/java/org/elasticsearch/action/ActionModule.java, +import org.elasticsearch.action.admin.indices.warmer.delete.DeleteWarmerAction;, +import org.elasticsearch.action.admin.indices.warmer.delete.TransportDeleteWarmerAction;, +import org.elasticsearch.action.admin.indices.warmer.get.GetWarmersAction;, +import org.elasticsearch.action.admin.indices.warmer.get.TransportGetWarmersAction;, +import org.elasticsearch.action.admin.indices.warmer.put.PutWarmerAction;, +import org.elasticsearch.action.admin.indices.warmer.put.TransportPutWarmerAction;, +import org.elasticsearch.action.ingest.IngestActionFilter;, +import org.elasticsearch.action.ingest.IngestDisabledActionFilter;, +import org.elasticsearch.action.ingest.delete.DeletePipelineAction;, +import org.elasticsearch.action.ingest.delete.DeletePipelineTransportAction;, +import org.elasticsearch.action.ingest.get.GetPipelineAction;, +import org.elasticsearch.action.ingest.get.GetPipelineTransportAction;, +import org.elasticsearch.action.ingest.put.PutPipelineAction;, +import org.elasticsearch.action.ingest.put.PutPipelineTransportAction;, +import org.elasticsearch.action.ingest.simulate.SimulatePipelineAction;, +import org.elasticsearch.action.ingest.simulate.SimulatePipelineTransportAction;, +import org.elasticsearch.common.settings.Settings;, +    private final boolean ingestEnabled;, +    public ActionModule(Settings settings, boolean proxy) {, +        this.ingestEnabled = settings.getAsBoolean("node.ingest", false);, +        if (proxy == false) {, +            if (ingestEnabled) {, +                registerFilter(IngestActionFilter.class);, +            } else {, +                registerFilter(IngestDisabledActionFilter.class);, +            }, +        }, +        registerAction(PutWarmerAction.INSTANCE, TransportPutWarmerAction.class);, +        registerAction(DeleteWarmerAction.INSTANCE, TransportDeleteWarmerAction.class);, +        registerAction(GetWarmersAction.INSTANCE, TransportGetWarmersAction.class);, +        registerAction(PutPipelineAction.INSTANCE, PutPipelineTransportAction.class);]