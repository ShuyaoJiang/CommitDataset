[+++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +, +[float], +==== Negative scores are not allowed in Function Score Query, +, +Negative scores in the Function Score Query are deprecated in 6.x, and are, +not allowed in this version. If a negative score is produced as a result, +of computation (e.g. in `script_score` or `field_value_factor` functions),, +an error will be thrown., +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +, +[float], +==== Negative scores are not allowed in Function Score Query, +, +Negative scores in the Function Score Query are deprecated in 6.x, and are, +not allowed in this version. If a negative score is produced as a result, +of computation (e.g. in `script_score` or `field_value_factor` functions),, +an error will be thrown., +++ b/docs/reference/query-dsl/function-score-query.asciidoc, +NOTE: Scores produced by the `script_score` function must be non-negative,, +otherwise an error will be thrown., +, + NOTE: Scores produced by the `field_value_score` function must be non-negative,, + otherwise an error will be thrown., +, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +, +[float], +==== Negative scores are not allowed in Function Score Query, +, +Negative scores in the Function Score Query are deprecated in 6.x, and are, +not allowed in this version. If a negative score is produced as a result, +of computation (e.g. in `script_score` or `field_value_factor` functions),, +an error will be thrown., +++ b/docs/reference/query-dsl/function-score-query.asciidoc, +NOTE: Scores produced by the `script_score` function must be non-negative,, +otherwise an error will be thrown., +, + NOTE: Scores produced by the `field_value_score` function must be non-negative,, + otherwise an error will be thrown., +, +++ b/modules/lang-painless/src/test/resources/rest-api-spec/test/painless/30_search.yml, +, +, +---, +, +"Exception on negative score":, +    - skip:, +        version: " - 6.99.99", +        reason: "check on negative scores was added from 7.0.0 on", +, +    - do:, +        index:, +            index: test, +            type: test, +            id: 1, +            body: { "test": "value beck", "num1": 1.0 }, +    - do:, +        indices.refresh: {}, +, +    - do:, +        catch: bad_request, +        search:, +            index: test, +            body:, +                query:, +                    function_score:, +                        query:, +                            term:, +                                test: value, +                        "functions": [{, +                            "script_score": {, +                                "script": {, +                                    "lang": "painless",, +                                    "source": "doc['num1'].value - 10.0", +                                }, +                            }, +                        }], +    - match: { error.root_cause.0.type: "illegal_argument_exception" }, +    - match: { error.root_cause.0.reason: "script score function must not produce negative scores, but got: [-9.0]"}, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +, +[float], +==== Negative scores are not allowed in Function Score Query, +, +Negative scores in the Function Score Query are deprecated in 6.x, and are, +not allowed in this version. If a negative score is produced as a result, +of computation (e.g. in `script_score` or `field_value_factor` functions),, +an error will be thrown., +++ b/docs/reference/query-dsl/function-score-query.asciidoc, +NOTE: Scores produced by the `script_score` function must be non-negative,, +otherwise an error will be thrown., +, + NOTE: Scores produced by the `field_value_score` function must be non-negative,, + otherwise an error will be thrown., +, +++ b/modules/lang-painless/src/test/resources/rest-api-spec/test/painless/30_search.yml, +, +, +---]