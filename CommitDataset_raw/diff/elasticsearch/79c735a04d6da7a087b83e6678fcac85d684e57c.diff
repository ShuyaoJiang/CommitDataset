[+++ b/distribution/archives/integ-test-zip/build.gradle, +  /*, +   * There are two unique things going on here:, +   * 1. These tests can be run against an external cluster with, +   *    -Dtests.rest.cluster=whatever and -Dtest.cluster=whatever, +   * 2. *One* of these tests is incompatible with that and should be skipped, +   *    when running against an external cluster., +   */, +  if (System.getProperty("tests.rest.cluster") == null) {, +  } else {, +    systemProperty 'tests.logfile', '--external--', +  }, +++ b/distribution/archives/integ-test-zip/build.gradle, +  /*, +   * There are two unique things going on here:, +   * 1. These tests can be run against an external cluster with, +   *    -Dtests.rest.cluster=whatever and -Dtest.cluster=whatever, +   * 2. *One* of these tests is incompatible with that and should be skipped, +   *    when running against an external cluster., +   */, +  if (System.getProperty("tests.rest.cluster") == null) {, +  } else {, +    systemProperty 'tests.logfile', '--external--', +  }, +++ b/distribution/archives/integ-test-zip/src/test/java/org/elasticsearch/test/rest/NodeNameInLogsIT.java, +        assumeFalse("Skipping test because it is being run against an external cluster.",, +                logFile.getFileName().toString().equals("--external--"));]