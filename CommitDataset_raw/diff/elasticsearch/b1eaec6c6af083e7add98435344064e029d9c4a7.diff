[+++ b/src/main/java/org/elasticsearch/common/Unicode.java, +import org.apache.lucene.util.BytesRef;, +    private static ThreadLocal<ThreadLocals.CleanableValue<BytesRef>> cachedUtf8Result = new ThreadLocal<ThreadLocals.CleanableValue<BytesRef>>() {, +        protected ThreadLocals.CleanableValue<BytesRef> initialValue() {, +            return new ThreadLocals.CleanableValue<BytesRef>(new BytesRef());, +        BytesRef result = unsafeFromStringAsUtf8(source);, +        return Arrays.copyOfRange(result.bytes, result.offset, result.length);, +    public static BytesRef fromStringAsUtf8(String source) {, +        BytesRef result = new BytesRef();, +    public static void fromStringAsUtf8(String source, BytesRef result) {, +    public static BytesRef unsafeFromStringAsUtf8(String source) {, +        BytesRef result = cachedUtf8Result.get().get();]