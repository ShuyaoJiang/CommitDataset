[+++ b/docs/reference/sql/functions/aggs.asciidoc, +[[sql-functions-aggs-mad]], +===== `MAD`, +, +.Synopsis:, +[source, sql], +--------------------------------------------------, +MAD(field_name<1>), +--------------------------------------------------, +, +*Input*:, +, +<1> a numeric field, +, +*Output*: `double` numeric value, +, +.Description:, +, +https://en.wikipedia.org/wiki/Median_absolute_deviation[Measure] the variability of the input values in the field `field_name`., +, +["source","sql",subs="attributes,macros"], +--------------------------------------------------, +include-tagged::{sql-specs}/docs.csv-spec[aggMad], +--------------------------------------------------, +, +++ b/docs/reference/sql/functions/aggs.asciidoc, +[[sql-functions-aggs-mad]], +===== `MAD`, +, +.Synopsis:, +[source, sql], +--------------------------------------------------, +MAD(field_name<1>), +--------------------------------------------------, +, +*Input*:, +, +<1> a numeric field, +, +*Output*: `double` numeric value, +, +.Description:, +, +https://en.wikipedia.org/wiki/Median_absolute_deviation[Measure] the variability of the input values in the field `field_name`., +, +["source","sql",subs="attributes,macros"], +--------------------------------------------------, +include-tagged::{sql-specs}/docs.csv-spec[aggMad], +--------------------------------------------------, +, +++ b/x-pack/plugin/sql/qa/src/main/resources/agg.csv-spec, +, +medianAbsoluteDeviation, +schema::gender:s|mad:d, +SELECT gender, MAD(salary) AS mad FROM test_emp GROUP BY gender ORDER BY gender;, +, +    gender     |      mad      , +---------------+---------------, +null           |10789.0        , +F              |12719.0        , +M              |8905.0         , +;, +, +medianAbsoluteDeviationOnTwoFields, +schema::gender:s|avg:l|mad_s:l|mad_l:d, +SELECT gender, FLOOR(AVG(salary)) AS avg, FLOOR(MAD(salary)) AS mad_s, MAD(languages) AS mad_l FROM test_emp GROUP BY gender ORDER BY gender;, +, +    gender     |      avg      |     mad_s     |     mad_l     , +---------------+---------------+---------------+---------------, +null           |48760          |10789          |2.0            , +F              |50490          |12719          |1.5            , +M              |46860          |8905           |1.0     , +;, +, +medianAbsoluteDeviationOnSecondaryFieldWithOrder, +schema::gender:s|mad:d, +SELECT gender, MAD(salary) AS mad FROM test_emp GROUP BY gender ORDER BY mad ASC;, +, +    gender     |      mad      , +---------------+---------------, +M              |8905.0         , +null           |10789.0        , +F              |12719.0         , +;, +, +, +medianAbsoluteDeviationOnSecondaryFieldWithOrderAndHaving, +schema::gender:s|mad:d, +SELECT gender, MAD(salary) AS mad FROM test_emp GROUP BY gender HAVING mad > 10000 ORDER BY mad ASC;, +, +    gender     |      mad      , +---------------+---------------, +null           |10789.0        , +F              |12719.0         , +;, +++ b/docs/reference/sql/functions/aggs.asciidoc, +[[sql-functions-aggs-mad]], +===== `MAD`, +, +.Synopsis:]