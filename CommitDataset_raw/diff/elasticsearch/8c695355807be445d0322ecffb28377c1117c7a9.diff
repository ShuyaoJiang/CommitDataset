[+++ b/rest-api-spec/test/indices.recovery/10_basic.yaml, +        wait_for_status: green, +  - gte:   { test_1.shards.0.index.source_throttle_time_in_millis: 0                       }, +  - gte:   { test_1.shards.0.index.target_throttle_time_in_millis: 0                       }, +++ b/rest-api-spec/test/indices.recovery/10_basic.yaml, +        wait_for_status: green, +  - gte:   { test_1.shards.0.index.source_throttle_time_in_millis: 0                       }, +  - gte:   { test_1.shards.0.index.target_throttle_time_in_millis: 0                       }, +++ b/rest-api-spec/test/indices.stats/11_metric.yaml, +  - is_true:  _all.total.recovery, +  - is_true:  _all.total.recovery, +  - is_false:  _all.total.recovery, +  - is_false:  _all.total.recovery, +---, +"Metric - recovery":, +  - do:, +      indices.stats: { metric: [ recovery ] }, +, +  - is_false:  _all.total.docs, +  - is_false:  _all.total.store, +  - is_false:  _all.total.indexing, +  - is_false:  _all.total.get, +  - is_false:  _all.total.search, +  - is_false:  _all.total.merges, +  - is_false:  _all.total.refresh, +  - is_false:  _all.total.flush, +  - is_false:  _all.total.warmer, +  - is_false:  _all.total.filter_cache, +  - is_false:  _all.total.id_cache, +  - is_false:  _all.total.fielddata, +  - is_false:  _all.total.percolate, +  - is_false:  _all.total.completion, +  - is_false:  _all.total.segments, +  - is_false:  _all.total.translog, +  - is_false:  _all.total.suggest, +  - is_true:   _all.total.recovery, +, +++ b/rest-api-spec/test/indices.recovery/10_basic.yaml, +        wait_for_status: green, +  - gte:   { test_1.shards.0.index.source_throttle_time_in_millis: 0                       }, +  - gte:   { test_1.shards.0.index.target_throttle_time_in_millis: 0                       }, +++ b/rest-api-spec/test/indices.stats/11_metric.yaml, +  - is_true:  _all.total.recovery, +  - is_true:  _all.total.recovery, +  - is_false:  _all.total.recovery, +  - is_false:  _all.total.recovery, +---, +"Metric - recovery":, +  - do:, +      indices.stats: { metric: [ recovery ] }, +, +  - is_false:  _all.total.docs, +  - is_false:  _all.total.store, +  - is_false:  _all.total.indexing, +  - is_false:  _all.total.get, +  - is_false:  _all.total.search, +  - is_false:  _all.total.merges, +  - is_false:  _all.total.refresh, +  - is_false:  _all.total.flush, +  - is_false:  _all.total.warmer, +  - is_false:  _all.total.filter_cache, +  - is_false:  _all.total.id_cache, +  - is_false:  _all.total.fielddata, +  - is_false:  _all.total.percolate, +  - is_false:  _all.total.completion, +  - is_false:  _all.total.segments, +  - is_false:  _all.total.translog, +  - is_false:  _all.total.suggest, +  - is_true:   _all.total.recovery, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java, +import org.elasticsearch.index.recovery.RecoveryStats;, +                case Recovery:, +                    recoveryStats = new RecoveryStats();, +                    break;, +                case Recovery:, +                    recoveryStats = indexShard.recoveryStats();, +                    break;, +    @Nullable, +    public RecoveryStats recoveryStats;, +, +        if (recoveryStats == null) {, +            if (stats.getRecoveryStats() != null) {, +                recoveryStats = new RecoveryStats();, +                recoveryStats.add(stats.getRecoveryStats());, +            }, +        } else {, +            recoveryStats.add(stats.getRecoveryStats());, +        }, +    @Nullable, +    public RecoveryStats getRecoveryStats() {, +        return recoveryStats;, +    }, +, +        recoveryStats = in.readOptionalStreamable(new RecoveryStats());, +        out.writeOptionalStreamable(recoveryStats);, +        if (recoveryStats != null) {, +            recoveryStats.toXContent(builder, params);, +        }, +++ b/rest-api-spec/test/indices.recovery/10_basic.yaml]