[+++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeAction.java, +        public static final ParseField TOKEN_FILTERS = new ParseField("filter", "token_filter");, +        for (String filter : request.paramAsStringArray("filter", request.paramAsStringArray("token_filter", Strings.EMPTY_ARRAY))) {, +                                        + " array element should contain token_filter's name or setting");, +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeAction.java, +        public static final ParseField TOKEN_FILTERS = new ParseField("filter", "token_filter");, +        for (String filter : request.paramAsStringArray("filter", request.paramAsStringArray("token_filter", Strings.EMPTY_ARRAY))) {, +                                        + " array element should contain token_filter's name or setting");, +++ b/core/src/test/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeActionTests.java, +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeAction.java, +        public static final ParseField TOKEN_FILTERS = new ParseField("filter", "token_filter");, +        for (String filter : request.paramAsStringArray("filter", request.paramAsStringArray("token_filter", Strings.EMPTY_ARRAY))) {, +                                        + " array element should contain token_filter's name or setting");, +++ b/core/src/test/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeActionTests.java, +++ b/docs/reference/indices/analyze.asciidoc, +  "token_filter" : ["lowercase"],, +deprecated[5.0.0, Use `filter`/`token_filter`/`char_filter` instead of `filters`/`token_filters`/`char_filters`], +curl -XGET 'localhost:9200/_analyze?tokenizer=keyword&token_filter=lowercase&char_filter=html_strip' -d 'this is a <b>test</b>', +// TESTRESPONSE, +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeAction.java, +        public static final ParseField TOKEN_FILTERS = new ParseField("filter", "token_filter");, +        for (String filter : request.paramAsStringArray("filter", request.paramAsStringArray("token_filter", Strings.EMPTY_ARRAY))) {, +                                        + " array element should contain token_filter's name or setting");, +++ b/core/src/test/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeActionTests.java, +++ b/docs/reference/indices/analyze.asciidoc, +  "token_filter" : ["lowercase"],, +deprecated[5.0.0, Use `filter`/`token_filter`/`char_filter` instead of `filters`/`token_filters`/`char_filters`], +curl -XGET 'localhost:9200/_analyze?tokenizer=keyword&token_filter=lowercase&char_filter=html_strip' -d 'this is a <b>test</b>', +// TESTRESPONSE, +++ b/docs/reference/indices/clearcache.asciidoc, +POST /twitter/_cache/clear, +// CONSOLE, +// TEST[setup:twitter], +POST /kimchy,elasticsearch/_cache/clear, +POST /_cache/clear, +// CONSOLE, +// TEST[s/^/PUT kimchy\nPUT elasticsearch\n/], +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeAction.java, +        public static final ParseField TOKEN_FILTERS = new ParseField("filter", "token_filter");, +        for (String filter : request.paramAsStringArray("filter", request.paramAsStringArray("token_filter", Strings.EMPTY_ARRAY))) {, +                                        + " array element should contain token_filter's name or setting");, +++ b/core/src/test/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeActionTests.java, +++ b/docs/reference/indices/analyze.asciidoc, +  "token_filter" : ["lowercase"],, +deprecated[5.0.0, Use `filter`/`token_filter`/`char_filter` instead of `filters`/`token_filters`/`char_filters`], +curl -XGET 'localhost:9200/_analyze?tokenizer=keyword&token_filter=lowercase&char_filter=html_strip' -d 'this is a <b>test</b>', +// TESTRESPONSE, +++ b/docs/reference/indices/clearcache.asciidoc, +POST /twitter/_cache/clear, +// CONSOLE, +// TEST[setup:twitter], +POST /kimchy,elasticsearch/_cache/clear, +POST /_cache/clear, +// CONSOLE, +// TEST[s/^/PUT kimchy\nPUT elasticsearch\n/], +++ b/docs/reference/indices/delete-index.asciidoc, +DELETE /twitter, +// CONSOLE, +// TEST[setup:twitter], +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeAction.java, +        public static final ParseField TOKEN_FILTERS = new ParseField("filter", "token_filter");, +        for (String filter : request.paramAsStringArray("filter", request.paramAsStringArray("token_filter", Strings.EMPTY_ARRAY))) {, +                                        + " array element should contain token_filter's name or setting");, +++ b/core/src/test/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeActionTests.java, +++ b/docs/reference/indices/analyze.asciidoc, +  "token_filter" : ["lowercase"],, +deprecated[5.0.0, Use `filter`/`token_filter`/`char_filter` instead of `filters`/`token_filters`/`char_filters`], +curl -XGET 'localhost:9200/_analyze?tokenizer=keyword&token_filter=lowercase&char_filter=html_strip' -d 'this is a <b>test</b>', +// TESTRESPONSE, +++ b/docs/reference/indices/clearcache.asciidoc, +POST /twitter/_cache/clear, +// CONSOLE, +// TEST[setup:twitter], +POST /kimchy,elasticsearch/_cache/clear, +POST /_cache/clear, +// CONSOLE, +// TEST[s/^/PUT kimchy\nPUT elasticsearch\n/], +++ b/docs/reference/indices/delete-index.asciidoc, +DELETE /twitter, +// CONSOLE, +// TEST[setup:twitter], +++ b/docs/reference/indices/forcemerge.asciidoc, +POST /twitter/_forcemerge, +// CONSOLE, +// TEST[setup:twitter], +POST /kimchy,elasticsearch/_forcemerge, +POST /_forcemerge, +// CONSOLE, +// TEST[s/^/PUT kimchy\nPUT elasticsearch\n/], +++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeAction.java, +        public static final ParseField TOKEN_FILTERS = new ParseField("filter", "token_filter");, +        for (String filter : request.paramAsStringArray("filter", request.paramAsStringArray("token_filter", Strings.EMPTY_ARRAY))) {, +                                        + " array element should contain token_filter's name or setting");, +++ b/core/src/test/java/org/elasticsearch/rest/action/admin/indices/RestAnalyzeActionTests.java, +++ b/docs/reference/indices/analyze.asciidoc, +  "token_filter" : ["lowercase"],, +deprecated[5.0.0, Use `filter`/`token_filter`/`char_filter` instead of `filters`/`token_filters`/`char_filters`], +curl -XGET 'localhost:9200/_analyze?tokenizer=keyword&token_filter=lowercase&char_filter=html_strip' -d 'this is a <b>test</b>', +// TESTRESPONSE, +++ b/docs/reference/indices/clearcache.asciidoc]