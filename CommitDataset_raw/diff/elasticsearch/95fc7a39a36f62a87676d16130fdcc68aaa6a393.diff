[+++ b/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +    private static final ConcurrentMap<ClusterName, ClusterGroup> clusterGroups = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +    private static final ConcurrentMap<ClusterName, ClusterGroup> clusterGroups = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        private ConcurrentMap<DiscoveryNode, PingResponse> responses = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +    private static final ConcurrentMap<ClusterName, ClusterGroup> clusterGroups = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        private ConcurrentMap<DiscoveryNode, PingResponse> responses = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        receivedResponses.put(id, ConcurrentCollections.<DiscoveryNode, PingResponse>newConcurrentMap());, +++ b/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +    private static final ConcurrentMap<ClusterName, ClusterGroup> clusterGroups = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        private ConcurrentMap<DiscoveryNode, PingResponse> responses = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        receivedResponses.put(id, ConcurrentCollections.<DiscoveryNode, PingResponse>newConcurrentMap());, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java, +        receivedResponses.put(sendPingsHandler.id(), ConcurrentCollections.<DiscoveryNode, PingResponse>newConcurrentMap());, +++ b/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +    private static final ConcurrentMap<ClusterName, ClusterGroup> clusterGroups = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        private ConcurrentMap<DiscoveryNode, PingResponse> responses = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        receivedResponses.put(id, ConcurrentCollections.<DiscoveryNode, PingResponse>newConcurrentMap());, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java, +        receivedResponses.put(sendPingsHandler.id(), ConcurrentCollections.<DiscoveryNode, PingResponse>newConcurrentMap());, +++ b/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicy.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +    private ConcurrentMap<Long, SnapshotHolder> snapshots = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +    private static final ConcurrentMap<ClusterName, ClusterGroup> clusterGroups = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        private ConcurrentMap<DiscoveryNode, PingResponse> responses = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        receivedResponses.put(id, ConcurrentCollections.<DiscoveryNode, PingResponse>newConcurrentMap());, +++ b/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java, +        receivedResponses.put(sendPingsHandler.id(), ConcurrentCollections.<DiscoveryNode, PingResponse>newConcurrentMap());, +++ b/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicy.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +    private ConcurrentMap<Long, SnapshotHolder> snapshots = ConcurrentCollections.newConcurrentMap();, +++ b/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +import org.elasticsearch.common.util.concurrent.ConcurrentCollections;, +        this.versionMap = ConcurrentCollections.newConcurrentMap();]