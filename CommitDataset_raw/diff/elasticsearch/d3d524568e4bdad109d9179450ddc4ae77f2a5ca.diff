[+++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java, +import org.elasticsearch.common.unit.ByteSizeValue;, +    @Nullable, +    private ByteSizeValue totalIndexingBuffer;, +, +                    @Nullable TransportInfo transport, @Nullable HttpInfo http, @Nullable PluginsAndModules plugins, @Nullable IngestInfo ingest,, +                    @Nullable ByteSizeValue totalIndexingBuffer) {, +        this.totalIndexingBuffer = totalIndexingBuffer;, +    @Nullable, +    public ByteSizeValue getTotalIndexingBuffer() {, +        return totalIndexingBuffer;, +    }, +, +            totalIndexingBuffer = new ByteSizeValue(in.readLong());, +        } else {, +            totalIndexingBuffer = null;, +        }, +        if (in.readBoolean()) {, +        if (totalIndexingBuffer == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +            out.writeLong(totalIndexingBuffer.bytes());, +        }, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java, +import org.elasticsearch.common.unit.ByteSizeValue;, +    @Nullable, +    private ByteSizeValue totalIndexingBuffer;, +, +                    @Nullable TransportInfo transport, @Nullable HttpInfo http, @Nullable PluginsAndModules plugins, @Nullable IngestInfo ingest,, +                    @Nullable ByteSizeValue totalIndexingBuffer) {, +        this.totalIndexingBuffer = totalIndexingBuffer;, +    @Nullable, +    public ByteSizeValue getTotalIndexingBuffer() {, +        return totalIndexingBuffer;, +    }, +, +            totalIndexingBuffer = new ByteSizeValue(in.readLong());, +        } else {, +            totalIndexingBuffer = null;, +        }, +        if (in.readBoolean()) {, +        if (totalIndexingBuffer == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +            out.writeLong(totalIndexingBuffer.bytes());, +        }, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java, +    private boolean indices = true;, +        indices = false;, +        indices = true;, +    /**, +     * Should information about indices (currently just indexing buffers) be returned, +     * @param indices true if you want info, +     */, +    public NodesInfoRequest indices(boolean indices) {, +        this.indices = indices;, +        return this;, +    }, +, +    /**, +     * @return true if information about indices (currently just indexing buffers), +     */, +    public boolean indices() {, +        return indices;, +    }, +, +        indices = in.readBoolean();, +        out.writeBoolean(indices);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java, +import org.elasticsearch.common.unit.ByteSizeValue;, +    @Nullable, +    private ByteSizeValue totalIndexingBuffer;, +, +                    @Nullable TransportInfo transport, @Nullable HttpInfo http, @Nullable PluginsAndModules plugins, @Nullable IngestInfo ingest,, +                    @Nullable ByteSizeValue totalIndexingBuffer) {, +        this.totalIndexingBuffer = totalIndexingBuffer;, +    @Nullable, +    public ByteSizeValue getTotalIndexingBuffer() {, +        return totalIndexingBuffer;, +    }, +, +            totalIndexingBuffer = new ByteSizeValue(in.readLong());, +        } else {, +            totalIndexingBuffer = null;, +        }, +        if (in.readBoolean()) {, +        if (totalIndexingBuffer == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +            out.writeLong(totalIndexingBuffer.bytes());, +        }, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java, +    private boolean indices = true;, +        indices = false;, +        indices = true;, +    /**, +     * Should information about indices (currently just indexing buffers) be returned]