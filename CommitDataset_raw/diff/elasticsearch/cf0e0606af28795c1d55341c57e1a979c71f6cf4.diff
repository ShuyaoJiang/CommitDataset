[+++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +*   The boundary specified using geohashes in the `geo_bounding_box` query, +    now include entire geohash cell, instead of just geohash center., +, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +*   The boundary specified using geohashes in the `geo_bounding_box` query, +    now include entire geohash cell, instead of just geohash center., +, +++ b/docs/reference/query-dsl/geo-bounding-box-query.asciidoc, +, +When geohashes are used to specify the bounding the edges of the, +bounding box, the geohashes are treated as rectangles. The bounding, +box is defined in such a way that its top left corresponds to the top, +left corner of the geohash specified in the `top_left` parameter and, +its bottom right is defined as the bottom right of the geohash, +specified in the `bottom_right` parameter., +, +In order to specify a bounding box that would match entire area of a, +geohash the geohash can be specified in both `top_left` and, +`bottom_right` parameters:, +, +[source,js], +--------------------------------------------------, +GET /_search, +{, +    "query": {, +        "geo_bounding_box" : {, +            "pin.location" : {, +                "top_left" : "dr",, +                "bottom_right" : "dr", +            }, +        }, +    }, +}, +--------------------------------------------------, +// CONSOLE, +, +In this example, the geohash `dr` will produce the bounding box, +query with the top left corner at `45.0,-78.75` and the bottom right, +corner at `39.375,-67.5`., +, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +*   The boundary specified using geohashes in the `geo_bounding_box` query, +    now include entire geohash cell, instead of just geohash center., +, +++ b/docs/reference/query-dsl/geo-bounding-box-query.asciidoc, +, +When geohashes are used to specify the bounding the edges of the, +bounding box, the geohashes are treated as rectangles. The bounding, +box is defined in such a way that its top left corresponds to the top, +left corner of the geohash specified in the `top_left` parameter and, +its bottom right is defined as the bottom right of the geohash, +specified in the `bottom_right` parameter., +, +In order to specify a bounding box that would match entire area of a, +geohash the geohash can be specified in both `top_left` and, +`bottom_right` parameters:, +, +[source,js], +--------------------------------------------------, +GET /_search, +{, +    "query": {, +        "geo_bounding_box" : {, +            "pin.location" : {, +                "top_left" : "dr",, +                "bottom_right" : "dr", +            }, +        }, +    }, +}, +--------------------------------------------------, +// CONSOLE, +, +In this example, the geohash `dr` will produce the bounding box, +query with the top left corner at `45.0,-78.75` and the bottom right, +corner at `39.375,-67.5`., +, +++ b/server/src/main/java/org/elasticsearch/common/geo/GeoPoint.java, +import org.apache.lucene.geo.Rectangle;, +            return resetFromCoordinates(value, ignoreZValue);, +        }, +        return resetFromGeoHash(value);, +    }, +, +, +    public GeoPoint resetFromCoordinates(String value, final boolean ignoreZValue) {, +, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +*   The boundary specified using geohashes in the `geo_bounding_box` query, +    now include entire geohash cell, instead of just geohash center., +, +++ b/docs/reference/query-dsl/geo-bounding-box-query.asciidoc, +, +When geohashes are used to specify the bounding the edges of the, +bounding box, the geohashes are treated as rectangles. The bounding, +box is defined in such a way that its top left corresponds to the top, +left corner of the geohash specified in the `top_left` parameter and, +its bottom right is defined as the bottom right of the geohash, +specified in the `bottom_right` parameter.]