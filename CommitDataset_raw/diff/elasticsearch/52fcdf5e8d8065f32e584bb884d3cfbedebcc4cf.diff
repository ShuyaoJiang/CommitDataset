[+++ b/README.textile, +We have just covered a very small portion of what Elasticsearch is all about. For more information, please refer to the "elastic.co":http://www.elastic.co/products/elasticsearch website. General questions can be asked on the "Elastic Discourse forum":https://discuss.elastic.co or on IRC on Freenode at "#elasticsearch":https://webchat.freenode.net/#elasticsearch. The Elasticsearch GitHub repository is reserved for bug reports and feature requests only., +Elasticsearch uses "Gradle":https://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.13 should do., +In order to create a distribution, simply run the @gradle assemble@ command in the cloned directory., +The distribution for each project will be created under the @build/distributions@ directory in that project., +++ b/README.textile, +We have just covered a very small portion of what Elasticsearch is all about. For more information, please refer to the "elastic.co":http://www.elastic.co/products/elasticsearch website. General questions can be asked on the "Elastic Discourse forum":https://discuss.elastic.co or on IRC on Freenode at "#elasticsearch":https://webchat.freenode.net/#elasticsearch. The Elasticsearch GitHub repository is reserved for bug reports and feature requests only., +Elasticsearch uses "Gradle":https://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.13 should do., +In order to create a distribution, simply run the @gradle assemble@ command in the cloned directory., +The distribution for each project will be created under the @build/distributions@ directory in that project., +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java, +        initialClusterState = ClusterState.builder(ClusterName.CLUSTER_NAME_SETTING.getDefault(Settings.EMPTY)), +            .metaData(metaData).routingTable(routingTable).nodes, +++ b/README.textile, +We have just covered a very small portion of what Elasticsearch is all about. For more information, please refer to the "elastic.co":http://www.elastic.co/products/elasticsearch website. General questions can be asked on the "Elastic Discourse forum":https://discuss.elastic.co or on IRC on Freenode at "#elasticsearch":https://webchat.freenode.net/#elasticsearch. The Elasticsearch GitHub repository is reserved for bug reports and feature requests only., +Elasticsearch uses "Gradle":https://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.13 should do., +In order to create a distribution, simply run the @gradle assemble@ command in the cloned directory., +The distribution for each project will be created under the @build/distributions@ directory in that project., +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java, +        initialClusterState = ClusterState.builder(ClusterName.CLUSTER_NAME_SETTING.getDefault(Settings.EMPTY)), +            .metaData(metaData).routingTable(routingTable).nodes, +++ b/build.gradle, +    "org.elasticsearch:client:${version}": ':client',, +    "org.elasticsearch:client-sniffer:${version}": ':client-sniffer',, +++ b/README.textile, +We have just covered a very small portion of what Elasticsearch is all about. For more information, please refer to the "elastic.co":http://www.elastic.co/products/elasticsearch website. General questions can be asked on the "Elastic Discourse forum":https://discuss.elastic.co or on IRC on Freenode at "#elasticsearch":https://webchat.freenode.net/#elasticsearch. The Elasticsearch GitHub repository is reserved for bug reports and feature requests only., +Elasticsearch uses "Gradle":https://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.13 should do., +In order to create a distribution, simply run the @gradle assemble@ command in the cloned directory., +The distribution for each project will be created under the @build/distributions@ directory in that project., +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java, +        initialClusterState = ClusterState.builder(ClusterName.CLUSTER_NAME_SETTING.getDefault(Settings.EMPTY)), +            .metaData(metaData).routingTable(routingTable).nodes, +++ b/build.gradle, +    "org.elasticsearch:client:${version}": ':client',, +    "org.elasticsearch:client-sniffer:${version}": ':client-sniffer',, +++ b/buildSrc/build.gradle, +// TODO: remove this when upgrading to a version that supports ProgressLogger, +// gradle 2.14 made internal apis unavailable to plugins, and gradle considered, +// ProgressLogger to be an internal api. Until this is made available again,, +// we can't upgrade without losing our nice progress logging, +// NOTE that this check duplicates that in BuildPlugin, but we need to check, +// early here before trying to compile the broken classes in buildSrc, +if (GradleVersion.current() != GradleVersion.version('2.13')) {, +  throw new GradleException('Gradle 2.13 is required to build elasticsearch'), +}, +, +  compile 'de.thetaphi:forbiddenapis:2.2', +  compile 'ru.vyarus:gradle-animalsniffer-plugin:1.0.1', +++ b/README.textile, +We have just covered a very small portion of what Elasticsearch is all about. For more information, please refer to the "elastic.co":http://www.elastic.co/products/elasticsearch website. General questions can be asked on the "Elastic Discourse forum":https://discuss.elastic.co or on IRC on Freenode at "#elasticsearch":https://webchat.freenode.net/#elasticsearch. The Elasticsearch GitHub repository is reserved for bug reports and feature requests only., +Elasticsearch uses "Gradle":https://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.13 should do., +In order to create a distribution, simply run the @gradle assemble@ command in the cloned directory., +The distribution for each project will be created under the @build/distributions@ directory in that project., +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java, +        initialClusterState = ClusterState.builder(ClusterName.CLUSTER_NAME_SETTING.getDefault(Settings.EMPTY)), +            .metaData(metaData).routingTable(routingTable).nodes, +++ b/build.gradle, +    "org.elasticsearch:client:${version}": ':client',, +    "org.elasticsearch:client-sniffer:${version}": ':client-sniffer',, +++ b/buildSrc/build.gradle, +// TODO: remove this when upgrading to a version that supports ProgressLogger, +// gradle 2.14 made internal apis unavailable to plugins, and gradle considered, +// ProgressLogger to be an internal api. Until this is made available again,, +// we can't upgrade without losing our nice progress logging, +// NOTE that this check duplicates that in BuildPlugin, but we need to check, +// early here before trying to compile the broken classes in buildSrc, +if (GradleVersion.current() != GradleVersion.version('2.13')) {, +  throw new GradleException('Gradle 2.13 is required to build elasticsearch'), +}, +, +  compile 'de.thetaphi:forbiddenapis:2.2', +  compile 'ru.vyarus:gradle-animalsniffer-plugin:1.0.1', +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            body(test, false), +                String body, String catchPart, boolean inSetup) {, +            /* Catch any shard failures. These only cause a non-200 response if, +             * no shard succeeds. But we need to fail the tests on all of these, +             * because they mean invalid syntax or broken queries or something, +             * else that we don't want to teach people to do. The REST test, +             * framework doesn't allow us to has assertions in the setup, +             * section so we have to skip it there. We also have to skip _cat, +             * actions because they don't return json so we can't is_false, +             * them. That is ok because they don't have this, +             * partial-success-is-success thing., +             */, +            if (false == inSetup && false == path.startsWith('_cat')) {, +                current.println("  - is_false: _shards.failures"), +            }, +            body(setup, true), +        private void body(Snippet snippet, boolean inSetup) {, +                emitDo(method, pathAndQuery, body, catchPart, inSetup), +++ b/README.textile, +We have just covered a very small portion of what Elasticsearch is all about. For more information, please refer to the "elastic.co":http://www.elastic.co/products/elasticsearch website. General questions can be asked on the "Elastic Discourse forum":https://discuss.elastic.co or on IRC on Freenode at "#elasticsearch":https://webchat.freenode.net/#elasticsearch. The Elasticsearch GitHub repository is reserved for bug reports and feature requests only., +Elasticsearch uses "Gradle":https://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.13 should do., +In order to create a distribution, simply run the @gradle assemble@ command in the cloned directory., +The distribution for each project will be created under the @build/distributions@ directory in that project., +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java, +        initialClusterState = ClusterState.builder(ClusterName.CLUSTER_NAME_SETTING.getDefault(Settings.EMPTY)), +            .metaData(metaData).routingTable(routingTable).nodes, +++ b/build.gradle]