[+++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/Monitoring.java, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/Monitoring.java, +++ /dev/null, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/Monitoring.java, +++ /dev/null, +++ /dev/null, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/Monitoring.java, +++ /dev/null, +++ /dev/null, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/collector/cluster/ClusterStatsCollector.java, +import org.elasticsearch.cluster.ClusterState;, +        final ClusterState clusterState = clusterService.state();, +                                              clusterStats, clusterState, clusterStats.getStatus()));, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/Monitoring.java, +++ /dev/null, +++ /dev/null, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/collector/cluster/ClusterStatsCollector.java, +import org.elasticsearch.cluster.ClusterState;, +        final ClusterState clusterState = clusterService.state();, +                                              clusterStats, clusterState, clusterStats.getStatus()));, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/collector/cluster/ClusterStatsMonitoringDoc.java, +import org.elasticsearch.cluster.ClusterState;, +import org.elasticsearch.cluster.health.ClusterHealthStatus;, +    private final ClusterState clusterState;, +    private final ClusterHealthStatus status;, +                                     ClusterStatsResponse clusterStats,, +                                     ClusterState clusterState, ClusterHealthStatus status) {, +        this.clusterState = clusterState;, +        this.status = status;, +, +    public ClusterState getClusterState() {, +        return clusterState;, +    }, +, +    public ClusterHealthStatus getStatus() {, +        return status;, +    }, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/Monitoring.java, +++ /dev/null, +++ /dev/null, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/collector/cluster/ClusterStatsCollector.java, +import org.elasticsearch.cluster.ClusterState;, +        final ClusterState clusterState = clusterService.state();, +                                              clusterStats, clusterState, clusterStats.getStatus()));, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/collector/cluster/ClusterStatsMonitoringDoc.java, +import org.elasticsearch.cluster.ClusterState;, +import org.elasticsearch.cluster.health.ClusterHealthStatus;, +    private final ClusterState clusterState;, +    private final ClusterHealthStatus status;, +                                     ClusterStatsResponse clusterStats,, +                                     ClusterState clusterState, ClusterHealthStatus status) {, +        this.clusterState = clusterState;, +        this.status = status;, +, +    public ClusterState getClusterState() {, +        return clusterState;, +    }, +, +    public ClusterHealthStatus getStatus() {, +        return status;, +    }, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/resolver/ResolversRegistry.java, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/Monitoring.java, +++ /dev/null, +++ /dev/null, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/collector/cluster/ClusterStatsCollector.java, +import org.elasticsearch.cluster.ClusterState;, +        final ClusterState clusterState = clusterService.state();, +                                              clusterStats, clusterState, clusterStats.getStatus()));, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/collector/cluster/ClusterStatsMonitoringDoc.java, +import org.elasticsearch.cluster.ClusterState;, +import org.elasticsearch.cluster.health.ClusterHealthStatus;, +    private final ClusterState clusterState;, +    private final ClusterHealthStatus status;, +                                     ClusterStatsResponse clusterStats,, +                                     ClusterState clusterState, ClusterHealthStatus status) {, +        this.clusterState = clusterState;, +        this.status = status;, +, +    public ClusterState getClusterState() {, +        return clusterState;, +    }, +, +    public ClusterHealthStatus getStatus() {, +        return status;, +    }, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/resolver/ResolversRegistry.java, +++ /dev/null, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/Monitoring.java, +++ /dev/null, +++ /dev/null, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/collector/cluster/ClusterStatsCollector.java, +import org.elasticsearch.cluster.ClusterState;, +        final ClusterState clusterState = clusterService.state();, +                                              clusterStats, clusterState, clusterStats.getStatus()));, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/collector/cluster/ClusterStatsMonitoringDoc.java, +import org.elasticsearch.cluster.ClusterState;]