[+++ b/.github/ISSUE_TEMPLATE.md, +in your new issue. Note that whether you're filing a bug report or a, +feature request, ensure that your submission is for an, +[OS that we support](https://www.elastic.co/support/matrix#show_os)., +Bug reports on an OS that we do not support or feature requests, +specific to an OS that we do not support will be closed., +++ b/.github/ISSUE_TEMPLATE.md, +in your new issue. Note that whether you're filing a bug report or a, +feature request, ensure that your submission is for an, +[OS that we support](https://www.elastic.co/support/matrix#show_os)., +Bug reports on an OS that we do not support or feature requests, +specific to an OS that we do not support will be closed., +++ b/client/rest/src/main/java/org/elasticsearch/client/RequestLogger.java, +import org.apache.http.RequestLine;, +            logger.debug("request [" + request.getMethod() + " " + host + getUri(request.getRequestLine()) +, +        if (logger.isDebugEnabled()) {, +            logger.debug("request [" + request.getMethod() + " " + host + getUri(request.getRequestLine()) + "] failed", e);, +        }, +        if (tracer.isTraceEnabled()) {, +        String requestLine = "curl -iX " + request.getMethod() + " '" + host + getUri(request.getRequestLine()) + "'";, +, +    private static String getUri(RequestLine requestLine) {, +        if (requestLine.getUri().charAt(0) != '/') {, +            return "/" + requestLine.getUri();, +        }, +        return requestLine.getUri();, +    }, +++ b/.github/ISSUE_TEMPLATE.md, +in your new issue. Note that whether you're filing a bug report or a, +feature request, ensure that your submission is for an, +[OS that we support](https://www.elastic.co/support/matrix#show_os)., +Bug reports on an OS that we do not support or feature requests, +specific to an OS that we do not support will be closed., +++ b/client/rest/src/main/java/org/elasticsearch/client/RequestLogger.java, +import org.apache.http.RequestLine;, +            logger.debug("request [" + request.getMethod() + " " + host + getUri(request.getRequestLine()) +, +        if (logger.isDebugEnabled()) {, +            logger.debug("request [" + request.getMethod() + " " + host + getUri(request.getRequestLine()) + "] failed", e);, +        }, +        if (tracer.isTraceEnabled()) {, +        String requestLine = "curl -iX " + request.getMethod() + " '" + host + getUri(request.getRequestLine()) + "'";, +, +    private static String getUri(RequestLine requestLine) {, +        if (requestLine.getUri().charAt(0) != '/') {, +            return "/" + requestLine.getUri();, +        }, +        return requestLine.getUri();, +    }, +++ b/client/rest/src/test/java/org/elasticsearch/client/RequestLoggerTests.java, +, +        String expectedEndpoint = "/index/type/_api";, +        URI uri;, +        if (randomBoolean()) {, +            uri = new URI(expectedEndpoint);, +        } else {, +            uri = new URI("index/type/_api");, +        }, +        String expected = "curl -iX " + request.getMethod() + " '" + host + expectedEndpoint + "'";, +++ b/.github/ISSUE_TEMPLATE.md, +in your new issue. Note that whether you're filing a bug report or a, +feature request, ensure that your submission is for an, +[OS that we support](https://www.elastic.co/support/matrix#show_os)., +Bug reports on an OS that we do not support or feature requests, +specific to an OS that we do not support will be closed., +++ b/client/rest/src/main/java/org/elasticsearch/client/RequestLogger.java, +import org.apache.http.RequestLine;, +            logger.debug("request [" + request.getMethod() + " " + host + getUri(request.getRequestLine()) +, +        if (logger.isDebugEnabled()) {, +            logger.debug("request [" + request.getMethod() + " " + host + getUri(request.getRequestLine()) + "] failed", e);, +        }, +        if (tracer.isTraceEnabled()) {, +        String requestLine = "curl -iX " + request.getMethod() + " '" + host + getUri(request.getRequestLine()) + "'";, +, +    private static String getUri(RequestLine requestLine) {, +        if (requestLine.getUri().charAt(0) != '/') {, +            return "/" + requestLine.getUri();, +        }, +        return requestLine.getUri();, +    }, +++ b/client/rest/src/test/java/org/elasticsearch/client/RequestLoggerTests.java, +, +        String expectedEndpoint = "/index/type/_api";, +        URI uri;, +        if (randomBoolean()) {, +            uri = new URI(expectedEndpoint);, +        } else {, +            uri = new URI("index/type/_api");, +        }, +        String expected = "curl -iX " + request.getMethod() + " '" + host + expectedEndpoint + "'";, +++ b/client/sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java, +        private Scheme scheme = Scheme.HTTP;, +++ b/.github/ISSUE_TEMPLATE.md, +in your new issue. Note that whether you're filing a bug report or a, +feature request, ensure that your submission is for an, +[OS that we support](https://www.elastic.co/support/matrix#show_os)., +Bug reports on an OS that we do not support or feature requests, +specific to an OS that we do not support will be closed., +++ b/client/rest/src/main/java/org/elasticsearch/client/RequestLogger.java, +import org.apache.http.RequestLine;, +            logger.debug("request [" + request.getMethod() + " " + host + getUri(request.getRequestLine()) +]