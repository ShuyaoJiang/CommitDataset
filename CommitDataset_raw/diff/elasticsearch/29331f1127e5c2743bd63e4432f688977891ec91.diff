[+++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +        if (requestCache != null && requestCache && scroll() != null) {, +            validationException =, +                addValidationError("[request_cache] cannot be used in a a scroll context", validationException);, +        }, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +        if (requestCache != null && requestCache && scroll() != null) {, +            validationException =, +                addValidationError("[request_cache] cannot be used in a a scroll context", validationException);, +        }, +++ b/core/src/main/java/org/elasticsearch/indices/IndicesService.java, +        // Queries that create a scroll context cannot use the cache., +        // They modify the search context during their execution so using the cache, +        // may invalidate the scroll for the next query., +        if (request.scroll() != null) {, +            return false;, +        }, +, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +        if (requestCache != null && requestCache && scroll() != null) {, +            validationException =, +                addValidationError("[request_cache] cannot be used in a a scroll context", validationException);, +        }, +++ b/core/src/main/java/org/elasticsearch/indices/IndicesService.java, +        // Queries that create a scroll context cannot use the cache., +        // They modify the search context during their execution so using the cache, +        // may invalidate the scroll for the next query., +        if (request.scroll() != null) {, +            return false;, +        }, +, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +, +, +==== Scroll queries cannot use the request_cache anymore, +, +Setting `request_cache:true` on a query that creates a scroll ('scroll=1m`), +has been deprecated in 6 and will now return a `400 - Bad request`., +Scroll queries are not meant to be cached., +++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +        if (requestCache != null && requestCache && scroll() != null) {, +            validationException =, +                addValidationError("[request_cache] cannot be used in a a scroll context", validationException);, +        }, +++ b/core/src/main/java/org/elasticsearch/indices/IndicesService.java, +        // Queries that create a scroll context cannot use the cache., +        // They modify the search context during their execution so using the cache, +        // may invalidate the scroll for the next query., +        if (request.scroll() != null) {, +            return false;, +        }, +, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +, +, +==== Scroll queries cannot use the request_cache anymore, +, +Setting `request_cache:true` on a query that creates a scroll ('scroll=1m`), +has been deprecated in 6 and will now return a `400 - Bad request`., +Scroll queries are not meant to be cached., +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/scroll/10_basic.yml, +---, +"Scroll cannot used the request cache":, +  - skip:, +      version: " - 6.99.99", +      reason:  the error message has been added in v7.0.0, +  - do:, +      indices.create:, +        index: test_scroll, +  - do:, +      catch: /\[request_cache\] cannot be used in a a scroll context/, +      search:, +        index: test_scroll, +        scroll: 1m, +        request_cache: true, +        body:, +          query:, +            match_all: {}]