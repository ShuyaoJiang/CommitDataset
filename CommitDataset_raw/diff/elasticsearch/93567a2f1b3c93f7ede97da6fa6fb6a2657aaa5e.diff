[+++ b/core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/Uid.java, +        return type + DELIMITER + id;, +++ b/core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/Uid.java, +        return type + DELIMITER + id;, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java, +                } else if (parentId != null && !parsedParentId.equals(Uid.createUid(parentType, parentId))) {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/Uid.java, +        return type + DELIMITER + id;, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java, +                } else if (parentId != null && !parsedParentId.equals(Uid.createUid(parentType, parentId))) {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java, +        Field uid = new Field(NAME, Uid.createUid(context.type(), context.id()), Defaults.FIELD_TYPE);]