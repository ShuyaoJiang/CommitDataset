[+++ b/docs/reference/api-conventions.asciidoc, +By default JSONP responses are disabled by default. coming[1.3,Previously JSONP was enabled by default], +, +When enabled, all REST APIs accept a `callback` parameter, +resulting in a http://en.wikipedia.org/wiki/JSONP[JSONP] result. You can enable, +    http.jsonp.enable: true, +Please note, when enabled, due to the architecture of Elasticsearch, this may pose, +a security risk. Under some circumstances, an attacker may be able to exfiltrate, +data in your Elasticsearch server if they're able to force your browser to make a, +JSONP request on your behalf (e.g. by including a <script> tag on an untrusted site, +with a legitimate query against a local Elasticsearch server)., +++ b/docs/reference/api-conventions.asciidoc, +By default JSONP responses are disabled by default. coming[1.3,Previously JSONP was enabled by default], +, +When enabled, all REST APIs accept a `callback` parameter, +resulting in a http://en.wikipedia.org/wiki/JSONP[JSONP] result. You can enable, +    http.jsonp.enable: true, +Please note, when enabled, due to the architecture of Elasticsearch, this may pose, +a security risk. Under some circumstances, an attacker may be able to exfiltrate, +data in your Elasticsearch server if they're able to force your browser to make a, +JSONP request on your behalf (e.g. by including a <script> tag on an untrusted site, +with a legitimate query against a local Elasticsearch server)., +++ b/src/main/java/org/elasticsearch/rest/RestController.java, +    public static final String HTTP_JSON_ENABLE = "http.jsonp.enable";, +, +        if (!settings.getAsBoolean(HTTP_JSON_ENABLE, false) && request.hasParam("callback")){, +++ b/docs/reference/api-conventions.asciidoc, +By default JSONP responses are disabled by default. coming[1.3,Previously JSONP was enabled by default], +, +When enabled, all REST APIs accept a `callback` parameter, +resulting in a http://en.wikipedia.org/wiki/JSONP[JSONP] result. You can enable, +    http.jsonp.enable: true, +Please note, when enabled, due to the architecture of Elasticsearch, this may pose, +a security risk. Under some circumstances, an attacker may be able to exfiltrate, +data in your Elasticsearch server if they're able to force your browser to make a, +JSONP request on your behalf (e.g. by including a <script> tag on an untrusted site, +with a legitimate query against a local Elasticsearch server)., +++ b/src/main/java/org/elasticsearch/rest/RestController.java, +    public static final String HTTP_JSON_ENABLE = "http.jsonp.enable";, +, +        if (!settings.getAsBoolean(HTTP_JSON_ENABLE, false) && request.hasParam("callback")){, +++ b/src/test/java/org/elasticsearch/options/jsonp/JsonpOptionDisabledTest.java, +import org.elasticsearch.rest.RestController;, +        // false is the default!, +        if (randomBoolean()) {, +            logger.info("using default jsonp settings (should be false)");, +            return super.nodeSettings(nodeOrdinal);, +        }, +                .put(RestController.HTTP_JSON_ENABLE, false), +++ b/docs/reference/api-conventions.asciidoc, +By default JSONP responses are disabled by default. coming[1.3,Previously JSONP was enabled by default], +, +When enabled, all REST APIs accept a `callback` parameter, +resulting in a http://en.wikipedia.org/wiki/JSONP[JSONP] result. You can enable, +    http.jsonp.enable: true, +Please note, when enabled, due to the architecture of Elasticsearch, this may pose, +a security risk. Under some circumstances, an attacker may be able to exfiltrate, +data in your Elasticsearch server if they're able to force your browser to make a, +JSONP request on your behalf (e.g. by including a <script> tag on an untrusted site, +with a legitimate query against a local Elasticsearch server)., +++ b/src/main/java/org/elasticsearch/rest/RestController.java, +    public static final String HTTP_JSON_ENABLE = "http.jsonp.enable";, +, +        if (!settings.getAsBoolean(HTTP_JSON_ENABLE, false) && request.hasParam("callback")){, +++ b/src/test/java/org/elasticsearch/options/jsonp/JsonpOptionDisabledTest.java, +import org.elasticsearch.rest.RestController;, +        // false is the default!, +        if (randomBoolean()) {, +            logger.info("using default jsonp settings (should be false)");, +            return super.nodeSettings(nodeOrdinal);, +        }, +                .put(RestController.HTTP_JSON_ENABLE, false), +++ b/src/test/java/org/elasticsearch/options/jsonp/JsonpOptionEnabledTest.java, +import org.elasticsearch.rest.RestController;, +                .put(RestController.HTTP_JSON_ENABLE, true)]