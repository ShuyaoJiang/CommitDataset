[+++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +    /**, +     * @return true if the request only has suggest, +     */, +    public boolean hasOnlySuggest() {, +        return source != null && source.hasOnlySuggest();, +    }, +, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +    /**, +     * @return true if the request only has suggest, +     */, +    public boolean hasOnlySuggest() {, +        return source != null && source.hasOnlySuggest();, +    }, +, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java, +import static org.elasticsearch.action.search.SearchType.DFS_QUERY_AND_FETCH;, +import static org.elasticsearch.action.search.SearchType.DFS_QUERY_THEN_FETCH;, +import static org.elasticsearch.action.search.SearchType.QUERY_THEN_FETCH;, +            boolean hasOnlySuggest = searchRequest.hasOnlySuggest();, +            } else if (hasOnlySuggest &&, +                (searchRequest.searchType() == DFS_QUERY_AND_FETCH || searchRequest.searchType() == DFS_QUERY_THEN_FETCH)) {, +                // convert to Q_T_F if we have only suggest, +                searchRequest.searchType(QUERY_THEN_FETCH);, +            }, +            if (hasOnlySuggest && (searchRequest.requestCache() == null || searchRequest.requestCache())) {, +                // disable request cache if we have only suggest, +                searchRequest.requestCache(false);]