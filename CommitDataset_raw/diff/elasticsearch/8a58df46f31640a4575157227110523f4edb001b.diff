[+++ b/docs/java-api/admin/indices/put-mapping.asciidoc, +[source,java], +client.admin().indices().prepareCreate("twitter")   <1>, +        .addMapping("tweet", "{\n" +                <2>, +                "    \"tweet\": {\n" +, +                "      \"properties\": {\n" +, +                "        \"message\": {\n" +, +                "          \"type\": \"text\"\n" +, +                "        }\n" +, +                "      }\n" +, +                "    }\n" +, +                "  }"), +        .get();, +[source,java], +client.admin().indices().preparePutMapping("twitter")   <1>, +        .setType("user")                                <2>, +        .setSource("{\n" +                              <3>, +                "  \"properties\": {\n" +, +                "    \"name\": {\n" +, +                "      \"type\": \"text\"\n" +, +                "    }\n" +, +                "  }\n" +, +                "}"), +        .get();, +, +// You can also provide the type in the source document, +client.admin().indices().preparePutMapping("twitter"), +        .setType("user"), +        .setSource("{\n" +, +                "    \"user\":{\n" +                        <4>, +                "        \"properties\": {\n" +, +                "            \"name\": {\n" +, +                "                \"type\": \"text\"\n" +, +                "            }\n" +, +                "        }\n" +, +                "    }\n" +, +                "}"), +        .get();, +[source,java], +client.admin().indices().preparePutMapping("twitter")   <1>, +        .setType("user")                                <2>, +        .setSource("{\n" +                              <3>, +                "  \"properties\": {\n" +, +                "    \"user_name\": {\n" +, +                "      \"type\": \"text\"\n" +, +                "    }\n" +, +                "  }\n" +, +                "}"), +        .get();, +++ b/docs/java-api/admin/indices/put-mapping.asciidoc, +[source,java], +client.admin().indices().prepareCreate("twitter")   <1>, +        .addMapping("tweet", "{\n" +                <2>, +                "    \"tweet\": {\n" +, +                "      \"properties\": {\n" +, +                "        \"message\": {\n" +, +                "          \"type\": \"text\"\n" +, +                "        }\n" +, +                "      }\n" +, +                "    }\n" +, +                "  }"), +        .get();, +[source,java], +client.admin().indices().preparePutMapping("twitter")   <1>, +        .setType("user")                                <2>, +        .setSource("{\n" +                              <3>, +                "  \"properties\": {\n" +, +                "    \"name\": {\n" +, +                "      \"type\": \"text\"\n" +, +                "    }\n" +, +                "  }\n" +, +                "}"), +        .get();, +, +// You can also provide the type in the source document, +client.admin().indices().preparePutMapping("twitter"), +        .setType("user"), +        .setSource("{\n" +, +                "    \"user\":{\n" +                        <4>, +                "        \"properties\": {\n" +, +                "            \"name\": {\n" +, +                "                \"type\": \"text\"\n" +, +                "            }\n" +, +                "        }\n" +, +                "    }\n" +, +                "}"), +        .get();, +[source,java], +client.admin().indices().preparePutMapping("twitter")   <1>, +        .setType("user")                                <2>, +        .setSource("{\n" +                              <3>, +                "  \"properties\": {\n" +, +                "    \"user_name\": {\n" +, +                "      \"type\": \"text\"\n" +, +                "    }\n" +, +                "  }\n" +, +                "}"), +        .get();, +++ b/server/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java]