[+++ b/docs/reference/migration/index.asciidoc, +include::migrate_5_0.asciidoc[], +++ b/docs/reference/migration/index.asciidoc, +include::migrate_5_0.asciidoc[], +++ /dev/null, +++ b/docs/reference/migration/index.asciidoc, +include::migrate_5_0.asciidoc[], +++ /dev/null, +++ b/docs/reference/migration/migrate_5_0.asciidoc, +[[breaking-changes-5.0]], +== Breaking changes in 5.0, +, +This section discusses the changes that you need to be aware of when migrating, +your application to Elasticsearch 5.0., +, +* <<breaking_50_search_changes>>, +* <<breaking_50_rest_api_changes>>, +* <<breaking_50_cat_api>>, +* <<breaking_50_parent_child_changes>>, +* <<breaking_50_settings_changes>>, +* <<breaking_50_mapping_changes>>, +* <<breaking_50_plugins>>, +* <<breaking_50_java_api_changes>>, +* <<breaking_50_cache_concurrency>>, +* <<breaking_50_non_loopback>>, +* <<breaking_50_thread_pool>>, +* <<breaking_50_allocation>>, +* <<breaking_50_percolator>>, +* <<breaking_50_packaging>>, +* <<breaking_50_scripting>>, +* <<breaking_50_term_vectors>>, +* <<breaking_50_security>>, +, +[[breaking_50_search_changes]], +=== Warmers, +, +Thanks to several changes like doc values by default or disk-based norms,, +warmers have become quite useless. As a consequence, warmers and the warmer, +API have been removed: it is not possible anymore to register queries that, +will run before a new IndexSearcher is published., +, +Don't worry if you have warmers defined on your indices, they will simply be, +ignored when upgrading to 5.0., +, +=== Search changes, +, +==== `search_type=count` removed, +, +The `count` search type was deprecated since version 2.0.0 and is now removed., +In order to get the same benefits, you just need to set the value of the `size`, +parameter to `0`., +, +For instance, the following request:, +, +[source,sh], +---------------, +GET /my_index/_search?search_type=count, +{, +  "aggs": {, +    "my_terms": {, +       "terms": {, +         "field": "foo", +       }, +     }, +  }, +}, +---------------, +, +can be replaced with:, +, +[source,sh], +---------------, +GET /my_index/_search, +{, +  "size": 0,, +  "aggs": {, +    "my_terms": {, +       "terms": {, +         "field": "foo", +       }, +     }, +  }, +}, +---------------, +, +==== `search_type=scan` removed, +, +The `scan` search type was deprecated since version 2.1.0 and is now removed., +All benefits from this search type can now be achieved by doing a scroll, +request that sorts documents in `_doc` order, for instance:, +, +[source,sh], +---------------, +GET /my_index/_search?scroll=2m, +{, +  "sort": [, +    "_doc", +  ], +}, +---------------]