[+++ b/qa/smoke-test-watcher-with-mustache/build.gradle, +++ b/qa/smoke-test-watcher-with-mustache/build.gradle, +++ /dev/null, +++ b/qa/smoke-test-watcher-with-mustache/build.gradle, +++ /dev/null, +++ b/qa/smoke-test-watcher/build.gradle, +    // Need to allow more compilations per minute because of the integration tests, +    setting 'script.max_compilations_per_minute', '100', +, +    //, +    // JIRA integration test settings, +    //, +    // The integration tests use a JIRA account on elasticsearch.atlassian.net. This account, +    // has been created by Edward Sy [edward@elastic.co]. It uses the "XPACK WATCHER TEST", +    // Jira project available at https://elasticsearch.atlassian.net/projects/XWT/issues/?filter=allopenissues, +    // and the "xpack-user@elastic.co" username which is also an internal Google Group., +    setting 'xpack.notification.jira.account.test.url', 'https://elasticsearch.atlassian.net/', +    setting 'xpack.notification.jira.account.test.user', 'xpack-user@elastic.co', +    setting 'xpack.notification.jira.account.test.password', 'N9M4ea9rfy', +    setting 'xpack.notification.jira.account.test.issue_defaults.project.key', 'XWT', +    setting 'xpack.notification.jira.account.test.issue_defaults.labels', ['integration-tests', project.version], +++ b/qa/smoke-test-watcher-with-mustache/build.gradle, +++ /dev/null, +++ b/qa/smoke-test-watcher/build.gradle, +    // Need to allow more compilations per minute because of the integration tests, +    setting 'script.max_compilations_per_minute', '100', +, +    //, +    // JIRA integration test settings, +    //, +    // The integration tests use a JIRA account on elasticsearch.atlassian.net. This account, +    // has been created by Edward Sy [edward@elastic.co]. It uses the "XPACK WATCHER TEST", +    // Jira project available at https://elasticsearch.atlassian.net/projects/XWT/issues/?filter=allopenissues, +    // and the "xpack-user@elastic.co" username which is also an internal Google Group., +    setting 'xpack.notification.jira.account.test.url', 'https://elasticsearch.atlassian.net/', +    setting 'xpack.notification.jira.account.test.user', 'xpack-user@elastic.co', +    setting 'xpack.notification.jira.account.test.password', 'N9M4ea9rfy', +    setting 'xpack.notification.jira.account.test.issue_defaults.project.key', 'XWT', +    setting 'xpack.notification.jira.account.test.issue_defaults.labels', ['integration-tests', project.version], +++ b/qa/smoke-test-watcher/src/test/resources/rest-api-spec/test/actions/20_jira.yaml, +---, +"Test Jira Action":, +  - do:, +      cluster.health:, +          wait_for_status: yellow, +, +  - do:, +      xpack.watcher.put_watch:, +        id: "jira_watch", +        body:  >, +          {, +            "metadata": {, +              "custom_title": "Hello from", +            },, +            "trigger": {, +              "schedule": {, +                "interval": "1d", +              }, +            },, +            "input": {, +              "simple": {, +              }, +            },, +            "condition": {, +              "always": {}, +            },, +            "actions": {, +              "create_jira_issue": {, +                "jira": {, +                  "account": "test",, +                  "fields": {, +                    "summary": "{{ctx.metadata.custom_title}} {{ctx.watch_id}}",, +                    "description": "Issue created by the REST integration test [/watcher/actions/20_jira.yaml]",, +                    "issuetype" : {, +                      "name": "Bug", +                    }, +                  }, +                }, +              }, +            }, +          }, +  - match: { _id: "jira_watch" }, +  - match: { created: true }, +, +  - do:, +      xpack.watcher.execute_watch:, +        id: "jira_watch", +        body: >, +          {, +            "trigger_data" : {, +              "triggered_time" : "2012-12-12T12:12:12.120Z",, +              "scheduled_time" : "2000-12-12T12:12:12.120Z", +            },, +            "record_execution": true, +          }, +, +  - match: { watch_record.watch_id: "jira_watch" }, +  - match: { watch_record.trigger_event.type: "manual" }, +  - match: { watch_record.trigger_event.triggered_time: "2012-12-12T12:12:12.120Z" }, +  - match: { watch_record.trigger_event.manual.schedule.scheduled_time: "2000-12-12T12:12:12.120Z" }]