[+++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/RankEvalRequestIT.java, +        assertEquals(DiscountedCumulativeGainTests.EXPECTED_DCG, response.getEvaluationResult(), 10E-14);, +        assertEquals(12.39278926071437, response.getEvaluationResult(), 10E-14);, +        double expectedMRR = (1.0 + 1.0 / 5.0) / 2.0;, +        expectedMRR = 1.0 / 2.0;, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/RankEvalRequestIT.java, +        assertEquals(DiscountedCumulativeGainTests.EXPECTED_DCG, response.getEvaluationResult(), 10E-14);, +        assertEquals(12.39278926071437, response.getEvaluationResult(), 10E-14);, +        double expectedMRR = (1.0 + 1.0 / 5.0) / 2.0;, +        expectedMRR = 1.0 / 2.0;, +++ b/modules/rank-eval/src/test/resources/rest-api-spec/test/rank_eval/10_basic.yml, +  - gt: {rank_eval.quality_level: 0.416}, +  - lt: {rank_eval.quality_level: 0.417}, +  - gt: {rank_eval.details.amsterdam_query.quality_level: 0.333}, +  - lt: {rank_eval.details.amsterdam_query.quality_level: 0.334}, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/RankEvalRequestIT.java, +        assertEquals(DiscountedCumulativeGainTests.EXPECTED_DCG, response.getEvaluationResult(), 10E-14);, +        assertEquals(12.39278926071437, response.getEvaluationResult(), 10E-14);, +        double expectedMRR = (1.0 + 1.0 / 5.0) / 2.0;, +        expectedMRR = 1.0 / 2.0;, +++ b/modules/rank-eval/src/test/resources/rest-api-spec/test/rank_eval/10_basic.yml, +  - gt: {rank_eval.quality_level: 0.416}, +  - lt: {rank_eval.quality_level: 0.417}, +  - gt: {rank_eval.details.amsterdam_query.quality_level: 0.333}, +  - lt: {rank_eval.details.amsterdam_query.quality_level: 0.334}, +++ b/modules/rank-eval/src/test/resources/rest-api-spec/test/rank_eval/20_dcg.yml, +  - gt: {rank_eval.quality_level: 13.848263 }, +  - lt: {rank_eval.quality_level: 13.848264 }, +  - gt: {rank_eval.details.dcg_query.quality_level: 13.848263}, +  - lt: {rank_eval.details.dcg_query.quality_level: 13.848264}, +  - gt: {rank_eval.quality_level: 10.299674}, +  - lt: {rank_eval.quality_level: 10.299675}, +  - gt: {rank_eval.details.dcg_query_reverse.quality_level: 10.299674}, +  - lt: {rank_eval.details.dcg_query_reverse.quality_level: 10.299675}, +  - gt: {rank_eval.quality_level: 12.073969}, +  - lt: {rank_eval.quality_level: 12.073970}, +  - gt: {rank_eval.details.dcg_query.quality_level: 13.848263}, +  - lt: {rank_eval.details.dcg_query.quality_level: 13.848264}, +  - gt: {rank_eval.details.dcg_query_reverse.quality_level: 10.299674}, +  - lt: {rank_eval.details.dcg_query_reverse.quality_level: 10.299675}]