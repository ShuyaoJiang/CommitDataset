[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            boolean assertionsEnabled = Boolean.parseBoolean(System.getProperty('tests.asserts', 'true')), +            enableSystemAssertions assertionsEnabled, +            enableAssertions assertionsEnabled, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            boolean assertionsEnabled = Boolean.parseBoolean(System.getProperty('tests.asserts', 'true')), +            enableSystemAssertions assertionsEnabled, +            enableAssertions assertionsEnabled, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +    String jvmArgs = "-Xms" + System.getProperty('tests.heap.size', '512m') +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            boolean assertionsEnabled = Boolean.parseBoolean(System.getProperty('tests.asserts', 'true')), +            enableSystemAssertions assertionsEnabled, +            enableAssertions assertionsEnabled, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +    String jvmArgs = "-Xms" + System.getProperty('tests.heap.size', '512m') +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/NodeInfo.groovy, +        if (Boolean.parseBoolean(System.getProperty('tests.asserts', 'true'))) {, +            esJavaOpts += " -ea -esa", +        }]