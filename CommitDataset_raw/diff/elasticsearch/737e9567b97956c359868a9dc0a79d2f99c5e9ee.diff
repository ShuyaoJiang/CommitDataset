[+++ b/src/main/java/org/elasticsearch/alerts/actions/AlertActionManager.java, +import org.elasticsearch.common.util.concurrent.EsExecutors;, +    private volatile Thread queueReaderThread;, +            logger.info("Stopping job queue...");, +            try {, +                if (queueReaderThread.isAlive()) {, +                    queueReaderThread.interrupt();, +                    queueReaderThread.join();, +                }, +            } catch (InterruptedException e) {, +                Thread.currentThread().interrupt();, +                return;, +            }, +            actionsToBeProcessed.clear();, +            logger.info("Job queue has been stopped");, +    private void doStart() {, +        logger.info("Starting job queue");, +        if (started.compareAndSet(false, true)) {, +            startQueueReaderThread();, +        }, +    }, +, +    private void startQueueReaderThread() {, +        queueReaderThread = new Thread(new QueueReaderThread(), EsExecutors.threadName(settings, "queue_reader"));, +        queueReaderThread.start();, +    }, +, +                    if (entry != null) {, +                }, +                    startQueueReaderThread();]