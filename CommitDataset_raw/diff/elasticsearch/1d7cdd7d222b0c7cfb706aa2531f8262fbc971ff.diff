[+++ b/docs/reference/query-dsl/queries/span-not-query.asciidoc, +In the above example all documents with the term hoya are filtered except the ones that have 'la' preceeding them., +, +Other top level options:, +, +[horizontal], +`pre`::     If set the amount of tokens before the include span can't have overlap with the exclude span., +`post`::    If set the amount of tokens after the include span can't have overlap with the exclude span., +`dist`::    If set the amount of tokens from within the include span can't have overlap with the exclude span. Equivalent, +            of setting both `pre` and `post`., +++ b/docs/reference/query-dsl/queries/span-not-query.asciidoc, +In the above example all documents with the term hoya are filtered except the ones that have 'la' preceeding them., +, +Other top level options:, +, +[horizontal], +`pre`::     If set the amount of tokens before the include span can't have overlap with the exclude span., +`post`::    If set the amount of tokens after the include span can't have overlap with the exclude span., +`dist`::    If set the amount of tokens from within the include span can't have overlap with the exclude span. Equivalent, +            of setting both `pre` and `post`., +++ b/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java, +    private Integer dist;, +    private Integer pre;, +    private Integer post;, +    private Float boost;, +        if (dist != null && (pre != null || post != null)) {, +        if (dist != null) {, +        if (pre != null) {, +        if (post != null) {, +        if (boost != null) {, +++ b/docs/reference/query-dsl/queries/span-not-query.asciidoc, +In the above example all documents with the term hoya are filtered except the ones that have 'la' preceeding them., +, +Other top level options:, +, +[horizontal], +`pre`::     If set the amount of tokens before the include span can't have overlap with the exclude span., +`post`::    If set the amount of tokens after the include span can't have overlap with the exclude span., +`dist`::    If set the amount of tokens from within the include span can't have overlap with the exclude span. Equivalent, +            of setting both `pre` and `post`., +++ b/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java, +    private Integer dist;, +    private Integer pre;, +    private Integer post;, +    private Float boost;, +        if (dist != null && (pre != null || post != null)) {, +        if (dist != null) {, +        if (pre != null) {, +        if (post != null) {, +        if (boost != null) {, +++ b/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java, +        Integer dist = null;, +        Integer pre  = null;, +        Integer post = null;, +        if (dist != null && (pre != null || post != null)) {, +        // set appropriate defaults, +        if (pre != null && post == null) {, +            post = 0;, +        } else if (pre == null && post != null){, +            pre = 0;, +        }, +, +        if (pre != null && post != null) {, +        } else if (dist != null) {, +++ b/docs/reference/query-dsl/queries/span-not-query.asciidoc, +In the above example all documents with the term hoya are filtered except the ones that have 'la' preceeding them., +, +Other top level options:, +, +[horizontal], +`pre`::     If set the amount of tokens before the include span can't have overlap with the exclude span., +`post`::    If set the amount of tokens after the include span can't have overlap with the exclude span., +`dist`::    If set the amount of tokens from within the include span can't have overlap with the exclude span. Equivalent, +            of setting both `pre` and `post`., +++ b/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java, +    private Integer dist;, +    private Integer pre;, +    private Integer post;, +    private Float boost;, +        if (dist != null && (pre != null || post != null)) {, +        if (dist != null) {, +        if (pre != null) {, +        if (post != null) {, +        if (boost != null) {, +++ b/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java, +        Integer dist = null;, +        Integer pre  = null;, +        Integer post = null;, +        if (dist != null && (pre != null || post != null)) {, +        // set appropriate defaults, +        if (pre != null && post == null) {, +            post = 0;, +        } else if (pre == null && post != null){, +            pre = 0;, +        }, +, +        if (pre != null && post != null) {, +        } else if (dist != null) {, +++ b/src/test/java/org/elasticsearch/search/query/SimpleQueryTests.java, +        try {]