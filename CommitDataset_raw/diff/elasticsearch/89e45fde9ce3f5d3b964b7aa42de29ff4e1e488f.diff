[+++ b/docs/reference/indices.asciidoc, +* <<indices-recovery>>, +include::indices/recovery.asciidoc[], +, +++ b/docs/reference/indices.asciidoc, +* <<indices-recovery>>, +include::indices/recovery.asciidoc[], +, +++ b/docs/reference/indices/recovery.asciidoc, +[[indices-recovery]], +== Indices Recovery, +, +The indices recovery API provides insight into on-going shard recoveries., +Recovery status may be reported for specific indices, or cluster-wide., +, +For example, the following command would show recovery information for the indices "index1" and "index2"., +, +[source,js], +--------------------------------------------------, +curl -XGET http://localhost:9200/index1,index2/_recovery?pretty=true, +--------------------------------------------------, +, +To see cluster-wide recovery status simply leave out the index names., +, +[source,js], +--------------------------------------------------, +curl -XGET http://localhost:9200/_recovery?pretty=true, +--------------------------------------------------, +, +Response:, +, +[source,js], +--------------------------------------------------, +{, +  "index1" : {, +    "shards" : [ {, +      "id" : 0,, +      "type" : "snapshot",, +      "stage" : "index",, +      "primary" : true,, +      "start_time" : "2014-02-24T12:15:59.716",, +      "stop_time" : 0,, +      "total_time_in_millis" : 175576,, +      "source" : {, +        "repository" : "my_repository",, +        "snapshot" : "my_snapshot",, +        "index" : "index1", +      },, +      "target" : {, +        "id" : "ryqJ5lO5S4-lSFbGntkEkg",, +        "hostname" : "my.fqdn",, +        "ip" : "10.0.1.7",, +        "name" : "my_es_node", +      },, +      "index" : {, +        "files" : {, +          "total" : 73,, +          "reused" : 0,, +          "recovered" : 69,, +          "percent" : "94.5%", +        },, +        "bytes" : {, +          "total" : 79063092,, +          "reused" : 0,, +          "recovered" : 68891939,, +          "percent" : "87.1%", +        },, +        "total_time_in_millis" : 0, +      },, +      "translog" : {, +        "recovered" : 0,, +        "total_time_in_millis" : 0, +      },, +      "start" : {, +        "check_index_time" : 0,, +        "total_time_in_millis" : 0, +      }, +    } ], +  }, +}, +--------------------------------------------------, +, +The above response shows a single index recovering a single shard. In this case, the source of the recovery is a snapshot repository, +and the target of the recovery is the node with name "my_es_node"., +, +Additionally, the output shows the number and percent of files recovered, as well as the number and percent of bytes recovered., +, +In some cases a higher level of detail may be preferable. Setting "detailed=true" will present a list of physical files in recovery., +, +[source,js], +--------------------------------------------------, +curl -XGET http://localhost:9200/_recovery?pretty=true&detailed=true, +--------------------------------------------------, +, +Response:, +, +[source,js], +--------------------------------------------------, +{, +  "index1" : {]