[+++ b/src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeLuceneTestCase.java, +import org.junit.AfterClass;, +import org.junit.BeforeClass;, +, +    @BeforeClass, +    public static void setUpClass() throws Exception {, +        ElasticsearchSingleNodeTest.setUpClass();, +    }, +, +    @AfterClass, +    public static void tearDownClass() {, +        ElasticsearchSingleNodeTest.tearDownClass();, +    }, +, +++ b/src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeLuceneTestCase.java, +import org.junit.AfterClass;, +import org.junit.BeforeClass;, +, +    @BeforeClass, +    public static void setUpClass() throws Exception {, +        ElasticsearchSingleNodeTest.setUpClass();, +    }, +, +    @AfterClass, +    public static void tearDownClass() {, +        ElasticsearchSingleNodeTest.tearDownClass();, +    }, +, +++ b/src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java, +import org.junit.*;, +        private static Node NODE = null;, +, +        private static void startNode() {, +            assert NODE == null;, +            NODE = newNode();, +        }, +, +        private static void stopNode() {, +            if (NODE != null) {, +                Node node = NODE;, +                NODE = null;, +                node.stop();, +            }, +        }, +    public void tearDown() throws Exception {, +        super.tearDown();, +    @BeforeClass, +    public static void setUpClass() throws Exception {, +        Holder.stopNode();, +        Holder.startNode();, +    }, +, +    @AfterClass, +    public static void tearDownClass() {, +        Holder.stopNode();, +    }, +]