[+++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java, +        nodeFailures) {, +        super(tasks, taskFailures, nodeFailures);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java, +        nodeFailures) {, +        super(tasks, taskFailures, nodeFailures);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java, +            indexNameExpressionResolver, CancelTasksRequest::new, CancelTasksResponse::new,, +        return new CancelTasksResponse(tasks, taskOperationFailures, failedNodeExceptions);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java, +        nodeFailures) {, +        super(tasks, taskFailures, nodeFailures);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java, +            indexNameExpressionResolver, CancelTasksRequest::new, CancelTasksResponse::new,, +        return new CancelTasksResponse(tasks, taskOperationFailures, failedNodeExceptions);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java, +        this(null, null, null);, +            List<? extends FailedNodeException> nodeFailures) {, +    /**, +     * Get the tasks found by this request grouped by parent tasks., +     */, +    /**, +     * Get the tasks found by this request., +     */, +    /**, +     * Convert this task response to XContent grouping by executing nodes., +     */, +    public XContentBuilder toXContentGroupedByNode(XContentBuilder builder, Params params, DiscoveryNodes discoveryNodes), +            throws IOException {, +        toXContentCommon(builder, params);, +        return builder;, +    }, +, +    /**, +     * Convert this response to XContent grouping by parent tasks., +     */, +    public XContentBuilder toXContentGroupedByParents(XContentBuilder builder, Params params) throws IOException {, +        toXContentCommon(builder, params);, +    public XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {, +        return toXContentGroupedByParents(builder, params);, +    }, +, +    private void toXContentCommon(XContentBuilder builder, Params params) throws IOException {, +        if (getTaskFailures() != null && getTaskFailures().size() > 0) {, +            builder.startArray("task_failures");, +            for (TaskOperationFailure ex : getTaskFailures()){, +                builder.startObject();, +                builder.value(ex);, +                builder.endObject();, +            }, +            builder.endArray();, +        }, +, +        if (getNodeFailures() != null && getNodeFailures().size() > 0) {, +            builder.startArray("node_failures");, +            for (FailedNodeException ex : getNodeFailures()) {, +                builder.startObject();, +                ex.toXContent(builder, params);, +                builder.endObject();, +            }, +            builder.endArray();, +        }, +    }, +, +    @Override, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java, +        nodeFailures) {, +        super(tasks, taskFailures, nodeFailures);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java, +            indexNameExpressionResolver, CancelTasksRequest::new, CancelTasksResponse::new,, +        return new CancelTasksResponse(tasks, taskOperationFailures, failedNodeExceptions);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java, +        this(null, null, null);, +            List<? extends FailedNodeException> nodeFailures) {, +    /**, +     * Get the tasks found by this request grouped by parent tasks., +     */, +    /**, +     * Get the tasks found by this request., +     */, +    /**, +     * Convert this task response to XContent grouping by executing nodes., +     */, +    public XContentBuilder toXContentGroupedByNode(XContentBuilder builder, Params params, DiscoveryNodes discoveryNodes), +            throws IOException {, +        toXContentCommon(builder, params);, +        return builder;, +    }, +, +    /**, +     * Convert this response to XContent grouping by parent tasks., +     */, +    public XContentBuilder toXContentGroupedByParents(XContentBuilder builder, Params params) throws IOException {, +        toXContentCommon(builder, params);, +    public XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {, +        return toXContentGroupedByParents(builder, params);, +    }, +, +    private void toXContentCommon(XContentBuilder builder, Params params) throws IOException {, +        if (getTaskFailures() != null && getTaskFailures().size() > 0) {]