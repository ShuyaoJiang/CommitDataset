[+++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.get_settings/30_defaults.yml, +---, +setup:, +  - do:, +      indices.create:, +        body:, +          settings:, +            index:, +              number_of_shards: 1, +              number_of_replicas: 1, +        index: test-index, +---, +Test retrieval of default settings:, +  - skip:, +      version: " - 6.3.99", +      reason: include_defaults will not work in mixed-mode clusters containing nodes pre-6.4, +  - do:, +      indices.get_settings:, +        flat_settings: true, +        index: test-index, +  - is_false:, +      test-index.settings.index\.refresh_interval, +  - do:, +      indices.get_settings:, +        include_defaults: true, +        flat_settings: true, +        index: test-index, +  - match:, +      test-index.defaults.index\.refresh_interval: "1s", +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.get_settings/30_defaults.yml, +---, +setup:, +  - do:, +      indices.create:, +        body:, +          settings:, +            index:, +              number_of_shards: 1, +              number_of_replicas: 1, +        index: test-index, +---, +Test retrieval of default settings:, +  - skip:, +      version: " - 6.3.99", +      reason: include_defaults will not work in mixed-mode clusters containing nodes pre-6.4, +  - do:, +      indices.get_settings:, +        flat_settings: true, +        index: test-index, +  - is_false:, +      test-index.settings.index\.refresh_interval, +  - do:, +      indices.get_settings:, +        include_defaults: true, +        flat_settings: true, +        index: test-index, +  - match:, +      test-index.defaults.index\.refresh_interval: "1s", +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.put_settings/11_reset.yml, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java, +                final BreakIterator breakers[] = new BreakIterator[UScript.CODE_LIMIT];, +    private BreakIterator parseRules(String filename, Environment env) throws IOException {, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.get_settings/30_defaults.yml, +---, +setup:, +  - do:, +      indices.create:, +        body:, +          settings:, +            index:, +              number_of_shards: 1, +              number_of_replicas: 1, +        index: test-index, +---, +Test retrieval of default settings:, +  - skip:, +      version: " - 6.3.99", +      reason: include_defaults will not work in mixed-mode clusters containing nodes pre-6.4, +  - do:, +      indices.get_settings:, +        flat_settings: true, +        index: test-index, +  - is_false:, +      test-index.settings.index\.refresh_interval, +  - do:, +      indices.get_settings:, +        include_defaults: true, +        flat_settings: true, +        index: test-index, +  - match:, +      test-index.defaults.index\.refresh_interval: "1s"]