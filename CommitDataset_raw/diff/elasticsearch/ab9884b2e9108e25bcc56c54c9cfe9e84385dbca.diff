[+++ b/core/src/main/java/org/elasticsearch/action/search/SearchPhaseController.java, +                        final int index = fetchResult.counterGetAndIncrement();, +                        assert index < fetchResult.hits().internalHits().length : "not enough hits fetched. index [" + index + "] length: ", +                            + fetchResult.hits().internalHits().length;, +                        SearchHit hit = fetchResult.hits().internalHits()[index];, +                final int index = fetchResult.counterGetAndIncrement();, +                assert index < fetchResult.hits().internalHits().length : "not enough hits fetched. index [" + index + "] length: ", +                    + fetchResult.hits().internalHits().length;]