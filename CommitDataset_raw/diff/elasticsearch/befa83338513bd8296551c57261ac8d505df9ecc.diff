[+++ b/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java, +            // we need to increment successful ops first before we compare the exit condition otherwise if we, +            // are fast we could concurrently update totalOps but then preempt one of the threads which can, +            // cause the successor to read a wrong value from successfulOps if second phase is very fast ie. count etc., +            successulOps.incrementAndGet();, +            final int xTotalOps = totalOps.addAndGet(shardIt.remaining() + 1);]