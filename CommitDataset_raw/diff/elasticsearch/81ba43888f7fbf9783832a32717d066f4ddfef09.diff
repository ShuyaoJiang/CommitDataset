[+++ b/core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java, +        failIfOverShardCountLimit(clusterService, shardCount);, +        expectedSuccessfulOps = shardCount;, +        // we need to add 1 for non active partition, since we count it in the total!, +        expectedTotalOps = shardsIts.totalSizeWith1ForEmpty();, +, +        firstResults = new AtomicArray<>(shardsIts.size());, +    }, +, +    private void failIfOverShardCountLimit(ClusterService clusterService, int shardCount) {]