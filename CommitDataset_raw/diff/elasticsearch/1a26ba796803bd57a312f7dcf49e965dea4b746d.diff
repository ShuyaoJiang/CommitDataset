[+++ b/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java, +                throw new MapperParsingException("failed to parse date field [" + value + "], tried both date format [" + dateTimeFormatter.format() + "], and timestamp number", e);, +            int location = dateTimeFormatter.parser().parseInto(dateTime, value, 0);, +            // if we parsed all the string value, we are good, +            if (location == value.length()) {, +                return dateTime.getMillis();, +            }, +            // if we did not manage to parse, or the year is really high year which is unreasonable, +            // see if its a number, +            if (location <= 0 || dateTime.getYear() > 5000) {, +                try {, +                    long time = Long.parseLong(value);, +                    return timeUnit.toMillis(time);, +                } catch (NumberFormatException e1) {, +                    throw new MapperParsingException("failed to parse date field [" + value + "], tried both date format [" + dateTimeFormatter.format() + "], and timestamp number");, +                }, +            }, +                throw new MapperParsingException("failed to parse date field [" + value + "], tried both date format [" + dateTimeFormatter.format() + "], and timestamp number", e);]