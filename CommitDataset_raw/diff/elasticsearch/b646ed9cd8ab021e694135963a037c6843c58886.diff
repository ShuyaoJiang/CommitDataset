[+++ b/core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java, +import com.carrotsearch.randomizedtesting.annotations.Repeat;, +, +import org.apache.lucene.mockfile.FilterFileSystem;, +import org.apache.lucene.mockfile.FilterFileSystemProvider;, +import org.apache.lucene.mockfile.FilterPath;, +import org.elasticsearch.cluster.metadata.IndexMetaData;, +import org.elasticsearch.common.SuppressForbidden;, +import org.elasticsearch.common.io.PathUtils;, +import org.elasticsearch.common.settings.Settings;, +import org.elasticsearch.env.Environment;, +import org.elasticsearch.env.NodeEnvironment.NodePath;, +import org.elasticsearch.env.NodeEnvironment;, +import org.elasticsearch.test.ESTestCase;, +import org.junit.AfterClass;, +import org.junit.BeforeClass;, +import org.junit.Test;, +, +import java.io.File;, +    private static String aPathPart = File.separator + 'a' + File.separator;, +    private static String bPathPart = File.separator + 'b' + File.separator;, +            if (path.toString().contains(aPathPart)) {, +        assertTrue(result.getDataPath().toString().contains(aPathPart));, +        assertTrue(result.getDataPath().toString().contains(bPathPart));]