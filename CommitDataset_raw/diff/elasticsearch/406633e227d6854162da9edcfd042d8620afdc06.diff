[+++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/RestartIndexFollowingIT.java, +import org.elasticsearch.action.admin.cluster.remote.RemoteInfoAction;, +import org.elasticsearch.action.admin.cluster.remote.RemoteInfoRequest;, +import org.elasticsearch.transport.RemoteConnectionInfo;, +import java.util.List;, +        cleanRemoteCluster();, +    private void setupRemoteCluster() throws Exception {, +, +        assertBusy(() -> {, +            List<RemoteConnectionInfo> infos =, +                followerClient().execute(RemoteInfoAction.INSTANCE, new RemoteInfoRequest()).get().getInfos();, +            assertThat(infos.size(), equalTo(1));, +            assertThat(infos.get(0).getNumNodesConnected(), equalTo(1));, +        });, +    }, +, +    private void cleanRemoteCluster() throws Exception {, +        ClusterUpdateSettingsRequest updateSettingsRequest = new ClusterUpdateSettingsRequest();, +        updateSettingsRequest.persistentSettings(Settings.builder().put("cluster.remote.leader_cluster.seeds", (String) null));, +        assertAcked(followerClient().admin().cluster().updateSettings(updateSettingsRequest).actionGet());, +, +        assertBusy(() -> {, +            List<RemoteConnectionInfo> infos =, +                followerClient().execute(RemoteInfoAction.INSTANCE, new RemoteInfoRequest()).get().getInfos();, +            assertThat(infos.size(), equalTo(0));, +        });]