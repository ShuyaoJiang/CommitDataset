[+++ b/core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +        if (pluginId == null) {, +            throw new UserException(ExitCodes.USAGE, "plugin id is required");, +        }, +++ b/core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +        if (pluginId == null) {, +            throw new UserException(ExitCodes.USAGE, "plugin id is required");, +        }, +++ b/qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java, +    public void testMissingPluginId() throws IOException {, +        final Tuple<Path, Environment> env = createEnv(fs, temp);, +        final UserException e = expectThrows(UserException.class, () -> installPlugin(null, env.v1()));, +        assertTrue(e.getMessage(), e.getMessage().contains("plugin id is required"));, +    }, +]