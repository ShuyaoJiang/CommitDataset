[+++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java, +    public static boolean isLocalNode(Settings settings) {, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java, +    public static boolean isLocalNode(Settings settings) {, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        String defaultTransport = DiscoveryNode.isLocalNode(settings) ? LOCAL_TRANSPORT : NETTY_TRANSPORT;, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java, +    public static boolean isLocalNode(Settings settings) {, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        String defaultTransport = DiscoveryNode.isLocalNode(settings) ? LOCAL_TRANSPORT : NETTY_TRANSPORT;, +++ b/core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java, +        new Setting<>("discovery.type", settings -> DiscoveryNode.isLocalNode(settings) ? "local" : "zen", Function.identity(),, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java, +    public static boolean isLocalNode(Settings settings) {, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        String defaultTransport = DiscoveryNode.isLocalNode(settings) ? LOCAL_TRANSPORT : NETTY_TRANSPORT;, +++ b/core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java, +        new Setting<>("discovery.type", settings -> DiscoveryNode.isLocalNode(settings) ? "local" : "zen", Function.identity(),, +++ b/test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java, +        assertThat(DiscoveryNode.isLocalNode(build.settings()), is(true));, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java, +    public static boolean isLocalNode(Settings settings) {, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +        String defaultTransport = DiscoveryNode.isLocalNode(settings) ? LOCAL_TRANSPORT : NETTY_TRANSPORT;, +++ b/core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java, +        new Setting<>("discovery.type", settings -> DiscoveryNode.isLocalNode(settings) ? "local" : "zen", Function.identity(),, +++ b/test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java, +        assertThat(DiscoveryNode.isLocalNode(build.settings()), is(true));, +++ b/test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java, +        if (DiscoveryNode.isLocalNode(builder.build())) {]