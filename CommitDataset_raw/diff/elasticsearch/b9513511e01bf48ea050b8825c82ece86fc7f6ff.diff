[+++ b/src/main/java/org/elasticsearch/index/percolator/PercolatorService.java, +                final Query parseQuery = percolator.parseQuery(id, fieldsVisitor.source());, +                if (parseQuery != null) {, +                    queries.put(id, parseQuery);    , +                } else {, +                    logger.warn("failed to add query [{}] - parser returned null", id);, +                }, +                ]