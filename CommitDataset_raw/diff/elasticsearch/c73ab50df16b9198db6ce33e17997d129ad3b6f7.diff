[+++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put("discovery-gce",       "org.elasticsearch.plugin.discovery.gce.GceDiscoveryPlugin");, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put("discovery-gce",       "org.elasticsearch.plugin.discovery.gce.GceDiscoveryPlugin");, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "discovery-gce",, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put("discovery-gce",       "org.elasticsearch.plugin.discovery.gce.GceDiscoveryPlugin");, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "discovery-gce",, +++ b/core/src/main/resources/org/elasticsearch/bootstrap/security.policy, +grant codeBase "${es.security.plugin.discovery-gce}" {, +  // needed because of problems in discovery-gce, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put("discovery-gce",       "org.elasticsearch.plugin.discovery.gce.GceDiscoveryPlugin");, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "discovery-gce",, +++ b/core/src/main/resources/org/elasticsearch/bootstrap/security.policy, +grant codeBase "${es.security.plugin.discovery-gce}" {, +  // needed because of problems in discovery-gce, +++ b/core/src/main/resources/org/elasticsearch/plugins/plugin-install.help, +    - discovery-gce, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put("discovery-gce",       "org.elasticsearch.plugin.discovery.gce.GceDiscoveryPlugin");, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "discovery-gce",, +++ b/core/src/main/resources/org/elasticsearch/bootstrap/security.policy, +grant codeBase "${es.security.plugin.discovery-gce}" {, +  // needed because of problems in discovery-gce, +++ b/core/src/main/resources/org/elasticsearch/plugins/plugin-install.help, +    - discovery-gce, +++ b/core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java, +import com.google.common.hash.Hashing;, +        PluginManager.checkForOfficialPlugins("discovery-gce");, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put("discovery-gce",       "org.elasticsearch.plugin.discovery.gce.GceDiscoveryPlugin");, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "discovery-gce",, +++ b/core/src/main/resources/org/elasticsearch/bootstrap/security.policy, +grant codeBase "${es.security.plugin.discovery-gce}" {, +  // needed because of problems in discovery-gce, +++ b/core/src/main/resources/org/elasticsearch/plugins/plugin-install.help, +    - discovery-gce, +++ b/core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java, +import com.google.common.hash.Hashing;, +        PluginManager.checkForOfficialPlugins("discovery-gce");, +++ b/dev-tools/smoke_test_rc.py, +                   "discovery-gce",, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put("discovery-gce",       "org.elasticsearch.plugin.discovery.gce.GceDiscoveryPlugin");, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "discovery-gce",, +++ b/core/src/main/resources/org/elasticsearch/bootstrap/security.policy, +grant codeBase "${es.security.plugin.discovery-gce}" {, +  // needed because of problems in discovery-gce, +++ b/core/src/main/resources/org/elasticsearch/plugins/plugin-install.help, +    - discovery-gce, +++ b/core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java, +import com.google.common.hash.Hashing;, +        PluginManager.checkForOfficialPlugins("discovery-gce");, +++ b/dev-tools/smoke_test_rc.py, +                   "discovery-gce",, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Security.java, +        m.put("discovery-gce",       "org.elasticsearch.plugin.discovery.gce.GceDiscoveryPlugin");, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            "discovery-gce",, +++ b/core/src/main/resources/org/elasticsearch/bootstrap/security.policy, +grant codeBase "${es.security.plugin.discovery-gce}" {, +  // needed because of problems in discovery-gce, +++ b/core/src/main/resources/org/elasticsearch/plugins/plugin-install.help, +    - discovery-gce, +++ b/core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java, +import com.google.common.hash.Hashing;, +        PluginManager.checkForOfficialPlugins("discovery-gce");, +++ b/dev-tools/smoke_test_rc.py, +                   "discovery-gce",, +++ /dev/null, +++ b/docs/plugins/discovery-gce.asciidoc, +[[discovery-gce]], +=== GCE Discovery Plugin, +, +The Google Compute Engine Discovery plugin uses the GCE API for unicast discovery., +, +[[discovery-gce-install]], +[float], +==== Installation, +, +This plugin can be installed using the plugin manager:, +, +[source,sh], +----------------------------------------------------------------, +sudo bin/plugin install discovery-gce, +----------------------------------------------------------------, +, +The plugin must be installed on every node in the cluster, and each node must, +be restarted after installation., +, +[[discovery-gce-remove]], +[float]]