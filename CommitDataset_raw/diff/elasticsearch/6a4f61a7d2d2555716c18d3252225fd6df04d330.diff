[+++ b/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java, +import org.elasticsearch.common.xcontent.XContentFactory;, +        try {, +            XContentBuilder builder = XContentFactory.jsonBuilder().prettyPrint();, +            builder.startObject();, +            toXContent(builder, EMPTY_PARAMS);, +            builder.endObject();, +            return builder.string();, +        } catch (IOException e) {, +            return "{ \"error\" : \"" + e.getMessage() + "\"}";, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java, +import org.elasticsearch.common.xcontent.XContentFactory;, +        try {, +            XContentBuilder builder = XContentFactory.jsonBuilder().prettyPrint();, +            builder.startObject();, +            toXContent(builder, EMPTY_PARAMS);, +            builder.endObject();, +            return builder.string();, +        } catch (IOException e) {, +            return "{ \"error\" : \"" + e.getMessage() + "\"}";, +++ b/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java, +        assertThat("ClusterHealthResponse has timed out - returned: [" + response + "]", response.isTimedOut(), is(false));]