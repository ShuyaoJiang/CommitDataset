[+++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java, +    private static final ParseField ENABLE_POSITION_INCREMENTS_FIELD = new ParseField("enable_position_increments");, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java, +    private static final ParseField ENABLE_POSITION_INCREMENTS_FIELD = new ParseField("enable_position_increments");, +++ b/core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java, +    /**, +     * Validates that {@code max_determinized_states} can be parsed and lowers the allowed number of determinized states., +     */, +    public void testEnabledPositionIncrements() throws Exception {, +        assumeTrue("test runs only when at least a type is registered", getCurrentTypes().length > 0);, +, +        XContentBuilder builder = JsonXContent.contentBuilder();, +        builder.startObject(); {, +            builder.startObject("query_string"); {, +                builder.field("query", "text");, +                builder.field("default_field", STRING_FIELD_NAME);, +                builder.field("enable_position_increments", false);, +            }, +            builder.endObject();, +        }, +        builder.endObject();, +, +        QueryStringQueryBuilder queryBuilder = (QueryStringQueryBuilder) new QueryParseContext(createParser(builder)), +                .parseInnerQueryBuilder();, +        assertFalse(queryBuilder.enablePositionIncrements());, +    }, +, +    public void testToQueryFuzzyQueryAutoFuziness() throws Exception {, +                "    \"enable_position_increments\" : true,\n" +, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java, +    private static final ParseField ENABLE_POSITION_INCREMENTS_FIELD = new ParseField("enable_position_increments");, +++ b/core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java, +    /**, +     * Validates that {@code max_determinized_states} can be parsed and lowers the allowed number of determinized states., +     */, +    public void testEnabledPositionIncrements() throws Exception {, +        assumeTrue("test runs only when at least a type is registered", getCurrentTypes().length > 0);, +, +        XContentBuilder builder = JsonXContent.contentBuilder();, +        builder.startObject(); {, +            builder.startObject("query_string"); {, +                builder.field("query", "text");, +                builder.field("default_field", STRING_FIELD_NAME);, +                builder.field("enable_position_increments", false);, +            }, +            builder.endObject();, +        }, +        builder.endObject();, +, +        QueryStringQueryBuilder queryBuilder = (QueryStringQueryBuilder) new QueryParseContext(createParser(builder)), +                .parseInnerQueryBuilder();, +        assertFalse(queryBuilder.enablePositionIncrements());, +    }, +, +    public void testToQueryFuzzyQueryAutoFuziness() throws Exception {, +                "    \"enable_position_increments\" : true,\n" +, +++ b/docs/reference/migration/migrate_6_0/search.asciidoc, +* The `query_string` query no longer accepts `enable_position_increment`, use, +  `enable_position_increments` instead., +]