[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java, +    private final Queue<Tuple<Timeout, NotifyTimeout>> onGoingTimeouts = new LinkedTransferQueue<Tuple<Timeout, NotifyTimeout>>();, +        for (Tuple<Timeout, NotifyTimeout> onGoingTimeout : onGoingTimeouts) {, +            onGoingTimeout.v2().listener.onClose();, +        for (Tuple<Timeout, NotifyTimeout> onGoingTimeout : onGoingTimeouts) {, +            if (onGoingTimeout.v2().listener == listener) {, +                onGoingTimeout.v1().cancel();, +            }, +        }, +        NotifyTimeout notifyTimeout = new NotifyTimeout(listener, timeout);, +        Timeout timerTimeout = timerService.newTimeout(notifyTimeout, timeout, TimerService.ExecutionType.THREADED);, +        onGoingTimeouts.add(new Tuple<Timeout, NotifyTimeout>(timerTimeout, notifyTimeout));]