[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java, +            logger.warn("disabled, failed to setup multicast (datagram) discovery : {}", e.getMessage());, +            if (logger.isDebugEnabled()) {, +                logger.debug("disabled, failed to setup multicast (datagram) discovery", e);, +            }, +            return;, +        InetAddress multicastInterface = null;, +            multicastInterface = networkService.resolvePublishHostAddress(address);, +            this.receiverThread = daemonThreadFactory(settings, "discovery#multicast#receiver").newThread(receiver);, +        } catch (Exception e) {, +            datagramPacketReceive = null;, +            datagramPacketSend = null;, +            if (multicastSocket != null) {, +                multicastSocket.close();, +                multicastSocket = null;, +            }, +            logger.warn("disabled, failed to setup multicast discovery on {}: {}", multicastInterface, e.getMessage());, +            if (logger.isDebugEnabled()) {, +                logger.debug("disabled, failed to setup multicast discovery on {}", e, multicastInterface);, +            }, +        }, +        if (receiver != null) {, +        }, +        if (receiverThread != null) {, +        }, +        if (multicastSocket != null) {, +            multicastSocket = null;, +        }, +        if (multicastSocket == null) {, +            return;, +        }]