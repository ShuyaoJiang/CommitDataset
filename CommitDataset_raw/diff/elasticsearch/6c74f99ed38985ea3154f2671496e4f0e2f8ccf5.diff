[+++ b/src/main/java/org/elasticsearch/plugins/Plugin.java, +    Collection<? extends Module> modules(Settings settings);, +    Collection<? extends Module> indexModules(Settings settings);, +    Collection<? extends Module> shardModules(Settings settings);]