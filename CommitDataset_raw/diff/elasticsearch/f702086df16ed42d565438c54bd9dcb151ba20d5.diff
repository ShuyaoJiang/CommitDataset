[+++ b/buildSrc/build.gradle, +// Make sure :buildSrc: doesn't generate classes incompatible with RUNTIME_JAVA_HOME, +// We can't use BuildPlugin here, so read from file, +String minimumRuntimeVersion = file('src/main/resources/minimumRuntimeVersion').text.trim(), +targetCompatibility = minimumRuntimeVersion, +sourceCompatibility = minimumRuntimeVersion, +, +++ b/buildSrc/build.gradle, +// Make sure :buildSrc: doesn't generate classes incompatible with RUNTIME_JAVA_HOME, +// We can't use BuildPlugin here, so read from file, +String minimumRuntimeVersion = file('src/main/resources/minimumRuntimeVersion').text.trim(), +targetCompatibility = minimumRuntimeVersion, +sourceCompatibility = minimumRuntimeVersion, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            JavaVersion minimumRuntimeVersion = JavaVersion.toVersion(, +                    BuildPlugin.class.getClassLoader().getResourceAsStream("minimumRuntimeVersion").text.trim(), +            ), +            JavaVersion minimumCompilerVersion = JavaVersion.toVersion(, +                    BuildPlugin.class.getClassLoader().getResourceAsStream("minimumCompilerVersion").text.trim(), +            ), +            project.rootProject.ext.minimumCompilerVersion = minimumCompilerVersion, +            project.rootProject.ext.minimumRuntimeVersion = minimumRuntimeVersion, +        project.targetCompatibility = project.rootProject.ext.minimumRuntimeVersion, +        project.sourceCompatibility = project.rootProject.ext.minimumRuntimeVersion, +++ b/buildSrc/build.gradle, +// Make sure :buildSrc: doesn't generate classes incompatible with RUNTIME_JAVA_HOME, +// We can't use BuildPlugin here, so read from file, +String minimumRuntimeVersion = file('src/main/resources/minimumRuntimeVersion').text.trim(), +targetCompatibility = minimumRuntimeVersion, +sourceCompatibility = minimumRuntimeVersion, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            JavaVersion minimumRuntimeVersion = JavaVersion.toVersion(, +                    BuildPlugin.class.getClassLoader().getResourceAsStream("minimumRuntimeVersion").text.trim(), +            ), +            JavaVersion minimumCompilerVersion = JavaVersion.toVersion(, +                    BuildPlugin.class.getClassLoader().getResourceAsStream("minimumCompilerVersion").text.trim(), +            ), +            project.rootProject.ext.minimumCompilerVersion = minimumCompilerVersion, +            project.rootProject.ext.minimumRuntimeVersion = minimumRuntimeVersion, +        project.targetCompatibility = project.rootProject.ext.minimumRuntimeVersion, +        project.sourceCompatibility = project.rootProject.ext.minimumRuntimeVersion, +++ b/buildSrc/src/main/resources/minimumCompilerVersion, +1.10, +++ b/buildSrc/build.gradle, +// Make sure :buildSrc: doesn't generate classes incompatible with RUNTIME_JAVA_HOME, +// We can't use BuildPlugin here, so read from file, +String minimumRuntimeVersion = file('src/main/resources/minimumRuntimeVersion').text.trim(), +targetCompatibility = minimumRuntimeVersion, +sourceCompatibility = minimumRuntimeVersion, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            JavaVersion minimumRuntimeVersion = JavaVersion.toVersion(, +                    BuildPlugin.class.getClassLoader().getResourceAsStream("minimumRuntimeVersion").text.trim(), +            ), +            JavaVersion minimumCompilerVersion = JavaVersion.toVersion(, +                    BuildPlugin.class.getClassLoader().getResourceAsStream("minimumCompilerVersion").text.trim(), +            ), +            project.rootProject.ext.minimumCompilerVersion = minimumCompilerVersion, +            project.rootProject.ext.minimumRuntimeVersion = minimumRuntimeVersion, +        project.targetCompatibility = project.rootProject.ext.minimumRuntimeVersion, +        project.sourceCompatibility = project.rootProject.ext.minimumRuntimeVersion, +++ b/buildSrc/src/main/resources/minimumCompilerVersion, +1.10, +++ b/buildSrc/src/main/resources/minimumRuntimeVersion, +1.8, +++ b/buildSrc/build.gradle, +// Make sure :buildSrc: doesn't generate classes incompatible with RUNTIME_JAVA_HOME, +// We can't use BuildPlugin here, so read from file, +String minimumRuntimeVersion = file('src/main/resources/minimumRuntimeVersion').text.trim(), +targetCompatibility = minimumRuntimeVersion, +sourceCompatibility = minimumRuntimeVersion, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            JavaVersion minimumRuntimeVersion = JavaVersion.toVersion(, +                    BuildPlugin.class.getClassLoader().getResourceAsStream("minimumRuntimeVersion").text.trim(), +            ), +            JavaVersion minimumCompilerVersion = JavaVersion.toVersion(, +                    BuildPlugin.class.getClassLoader().getResourceAsStream("minimumCompilerVersion").text.trim(), +            ), +            project.rootProject.ext.minimumCompilerVersion = minimumCompilerVersion, +            project.rootProject.ext.minimumRuntimeVersion = minimumRuntimeVersion, +        project.targetCompatibility = project.rootProject.ext.minimumRuntimeVersion, +        project.sourceCompatibility = project.rootProject.ext.minimumRuntimeVersion, +++ b/buildSrc/src/main/resources/minimumCompilerVersion, +1.10, +++ b/buildSrc/src/main/resources/minimumRuntimeVersion, +1.8, +++ b/buildSrc/src/test/java/org/elasticsearch/gradle/precommit/NamingConventionsTaskIT.java]