[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +    /** Return the name, +     */, +    static String transitiveDepConfigName(String groupId, String artifactId, String version) {, +        return "_transitive_${groupId}:${artifactId}:${version}", +    }, +, +    /**, +     * Makes dependencies non-transitive., +     *, +     * Gradle allows setting all dependencies as non-transitive very easily., +     * But this mechanism does not translate into maven pom generation. In order, +     * to effectively make the pom act as if it has no transitive dependencies,, +     * we must exclude each transitive dependency of each direct dependency., +     *, +     * Determining the transitive deps of a dependency which has been resolved as, +     * non-transitive is difficult because the process of resolving removes the, +     * transitive deps. To sidestep this issue, we create a configuration per, +     * direct dependency version. This specially named and unique configuration, +     * will contain all of the transitive dependencies of this particular, +     * dependency. We can then use this configuration during pom generation, +     * to iterate the transitive dependencies and add excludes., +     */, +                // we can determine which transitive dependencies it has, +                String depConfig = transitiveDepConfigName(dep.group, dep.name, dep.version), +                    project.dependencies.add(depConfig, "${dep.group}:${dep.name}:${dep.version}"), +                    String depConfig = transitiveDepConfigName(groupId, artifactId, version)]