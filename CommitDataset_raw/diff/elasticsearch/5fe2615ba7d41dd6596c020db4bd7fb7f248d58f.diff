[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.indices.NodeIndicesStats;, +    private NodeIndicesStats indices;, +    public NodeStats(DiscoveryNode node, NodeIndicesStats indices,, +    public NodeIndicesStats indices() {, +    public NodeIndicesStats getIndices() {, +            indices = NodeIndicesStats.readIndicesStats(in);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.indices.NodeIndicesStats;, +    private NodeIndicesStats indices;, +    public NodeStats(DiscoveryNode node, NodeIndicesStats indices,, +    public NodeIndicesStats indices() {, +    public NodeIndicesStats getIndices() {, +            indices = NodeIndicesStats.readIndicesStats(in);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/status/IndexShardStatus.java, +    /**, +     * Returns only the primary shards store size in bytes., +     */, +    public ByteSizeValue primaryStoreSize() {, +        long bytes = -1;, +        for (ShardStatus shard : shards()) {, +            if (!shard.shardRouting().primary()) {, +                // only sum docs for the primaries, +                continue;, +            }, +            if (shard.storeSize() != null) {, +                if (bytes == -1) {, +                    bytes = 0;, +                }, +                bytes += shard.storeSize().bytes();, +            }, +        }, +        if (bytes == -1) {, +            return null;, +        }, +        return new ByteSizeValue(bytes);, +    }, +, +    /**, +     * Returns only the primary shards store size in bytes., +     */, +    public ByteSizeValue getPrimaryStoreSize() {, +        return primaryStoreSize();, +    }, +, +    /**, +     * Returns the full store size in bytes, of both primaries and replicas., +     */, +    /**, +     * Returns the full store size in bytes, of both primaries and replicas., +     */, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.indices.NodeIndicesStats;, +    private NodeIndicesStats indices;, +    public NodeStats(DiscoveryNode node, NodeIndicesStats indices,, +    public NodeIndicesStats indices() {, +    public NodeIndicesStats getIndices() {, +            indices = NodeIndicesStats.readIndicesStats(in);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/status/IndexShardStatus.java, +    /**, +     * Returns only the primary shards store size in bytes., +     */, +    public ByteSizeValue primaryStoreSize() {, +        long bytes = -1;, +        for (ShardStatus shard : shards()) {, +            if (!shard.shardRouting().primary()) {, +                // only sum docs for the primaries, +                continue;, +            }, +            if (shard.storeSize() != null) {, +                if (bytes == -1) {, +                    bytes = 0;, +                }, +                bytes += shard.storeSize().bytes();, +            }, +        }, +        if (bytes == -1) {, +            return null;, +        }, +        return new ByteSizeValue(bytes);, +    }, +, +    /**, +     * Returns only the primary shards store size in bytes., +     */, +    public ByteSizeValue getPrimaryStoreSize() {, +        return primaryStoreSize();, +    }, +, +    /**, +     * Returns the full store size in bytes, of both primaries and replicas., +     */, +    /**, +     * Returns the full store size in bytes, of both primaries and replicas., +     */, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/status/IndexStatus.java, +    /**, +     * Returns only the primary shards store size in bytes., +     */, +    public ByteSizeValue primaryStoreSize() {]