[+++ b/x-pack/plugin/ccr/src/main/java/org/elasticsearch/xpack/ccr/CcrSettings.java, +            Setting.boolSetting("index.xpack.ccr.following_index", false, Property.IndexScope, Property.InternalIndex);, +++ b/x-pack/plugin/ccr/src/main/java/org/elasticsearch/xpack/ccr/CcrSettings.java, +            Setting.boolSetting("index.xpack.ccr.following_index", false, Property.IndexScope, Property.InternalIndex);, +++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/ShardChangesIT.java, +import org.elasticsearch.action.admin.indices.close.CloseIndexRequest;, +import org.elasticsearch.action.admin.indices.settings.put.UpdateSettingsRequest;, +    public void testAttemptToChangeCcrFollowingIndexSetting() throws Exception {, +        String leaderIndexSettings = getIndexSettings(1, 0, singletonMap(IndexSettings.INDEX_SOFT_DELETES_SETTING.getKey(), "true"));, +        assertAcked(client().admin().indices().prepareCreate("index1").setSource(leaderIndexSettings, XContentType.JSON).get());, +        ensureYellow("index1");, +        FollowIndexAction.Request followRequest = createFollowRequest("index1", "index2");, +        CreateAndFollowIndexAction.Request createAndFollowRequest = new CreateAndFollowIndexAction.Request(followRequest);, +        client().execute(CreateAndFollowIndexAction.INSTANCE, createAndFollowRequest).get();, +        unfollowIndex("index2");, +        client().admin().indices().close(new CloseIndexRequest("index2")).actionGet();, +, +        UpdateSettingsRequest updateSettingsRequest = new UpdateSettingsRequest("index2");, +        updateSettingsRequest.settings(Settings.builder().put(CcrSettings.CCR_FOLLOWING_INDEX_SETTING.getKey(), false).build());, +        Exception e = expectThrows(IllegalArgumentException.class,, +            () -> client().admin().indices().updateSettings(updateSettingsRequest).actionGet());, +        assertThat(e.getMessage(), equalTo("can not update internal setting [index.xpack.ccr.following_index]; " +, +            "this setting is managed via a dedicated API"));, +    }, +]