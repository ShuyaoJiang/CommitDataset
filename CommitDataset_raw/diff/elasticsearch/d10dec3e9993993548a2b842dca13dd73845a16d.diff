[+++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java, +import org.elasticsearch.common.xcontent.XContentBuilder;, +import org.elasticsearch.common.xcontent.XContentFactory;, +import org.elasticsearch.index.query.QueryBuilders;, +import java.util.HashMap;, +            {, +                CreateIndexResponse createIndexResponse = client.indices().create(request);, +                assertTrue(createIndexResponse.isAcknowledged());, +            }, +            {, +                request = new CreateIndexRequest("twitter2");, +                //tag::create-index-mappings-map, +                Map<String, Object> jsonMap = new HashMap<>();, +                Map<String, Object> message = new HashMap<>();, +                message.put("type", "text");, +                Map<String, Object> properties = new HashMap<>();, +                properties.put("message", message);, +                Map<String, Object> tweet = new HashMap<>();, +                tweet.put("properties", properties);, +                jsonMap.put("tweet", tweet);, +                request.mapping("tweet", jsonMap); // <1>, +                //end::create-index-mappings-map, +                CreateIndexResponse createIndexResponse = client.indices().create(request);, +                assertTrue(createIndexResponse.isAcknowledged());, +            }, +            {, +                request = new CreateIndexRequest("twitter3");, +                //tag::create-index-mappings-xcontent, +                XContentBuilder builder = XContentFactory.jsonBuilder();, +                builder.startObject();, +                {, +                    builder.startObject("tweet");, +                    {, +                        builder.startObject("properties");, +                        {, +                            builder.startObject("message");, +                            {, +                                builder.field("type", "text");, +                            }, +                            builder.endObject();, +                        }, +                        builder.endObject();, +                    }, +                    builder.endObject();, +                }, +                builder.endObject();, +                request.mapping("tweet", builder); // <1>, +                //end::create-index-mappings-xcontent, +                CreateIndexResponse createIndexResponse = client.indices().create(request);, +                assertTrue(createIndexResponse.isAcknowledged());, +            }, +            {, +                request = new CreateIndexRequest("twitter4");, +                //tag::create-index-mappings-shortcut, +                request.mapping("tweet", "message", "type=text"); // <1>, +                //end::create-index-mappings-shortcut, +                CreateIndexResponse createIndexResponse = client.indices().create(request);, +                assertTrue(createIndexResponse.isAcknowledged());, +            }, +, +            request = new CreateIndexRequest("twitter5");, +            request.alias(new Alias("twitter_alias").filter(QueryBuilders.termQuery("user", "kimchy")));  // <1>, +            {, +                CreateIndexResponse createIndexResponse = client.indices().create(request);, +                assertTrue(createIndexResponse.isAcknowledged());, +            }, +, +            request = new CreateIndexRequest("twitter6");, +            // tag::create-index-whole-source, +            request.source("{\n" +, +                    "    \"settings\" : {\n" +, +                    "        \"number_of_shards\" : 1,\n" +, +                    "        \"number_of_replicas\" : 0\n" +, +                    "    },\n" +, +                    "    \"mappings\" : {\n" +, +                    "        \"tweet\" : {\n" +, +                    "            \"properties\" : {\n" +, +                    "                \"message\" : { \"type\" : \"text\" }\n" +, +                    "            }\n" +, +                    "        }\n" +, +                    "    },\n" +, +                    "    \"aliases\" : {\n" +, +                    "        \"twitter_alias\" : {}\n" +, +                    "    }\n" +, +                    "}", XContentType.JSON); // <1>, +            // end::create-index-whole-source, +            {, +                //tag::put-mapping-map, +                Map<String, Object> jsonMap = new HashMap<>();, +                Map<String, Object> message = new HashMap<>();, +                message.put("type", "text");, +                Map<String, Object> properties = new HashMap<>();, +                properties.put("message", message);, +                Map<String, Object> tweet = new HashMap<>();, +                tweet.put("properties", properties);, +                jsonMap.put("tweet", tweet);, +                request.source(jsonMap); // <1>, +                //end::put-mapping-map, +                PutMappingResponse putMappingResponse = client.indices().putMapping(request);, +                assertTrue(putMappingResponse.isAcknowledged());]