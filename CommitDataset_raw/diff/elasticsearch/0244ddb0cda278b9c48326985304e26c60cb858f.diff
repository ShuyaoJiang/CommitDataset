[+++ b/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java, +import org.elasticsearch.ExceptionsHelper;, +        int joinAttempt = 0; // we retry on illegal state if the master is not yet ready, +        while (true) {, +            } catch (Throwable t) {, +                Throwable unwrap = ExceptionsHelper.unwrapCause(t);, +                if (unwrap instanceof ElasticsearchIllegalStateException) {, +                    if (++joinAttempt == this.joinRetryAttempts) {, +                        logger.info("failed to send join request to master [{}], reason [{}], tried [{}] times", masterNode, ExceptionsHelper.detailedMessage(t), joinAttempt);, +                        logger.trace("master {} failed with [{}]. retrying... (attempts done: [{}])", masterNode, ExceptionsHelper.detailedMessage(t), joinAttempt);, +                } else {, +                        logger.trace("failed to send join request to master [{}]", t);, +                        logger.info("failed to send join request to master [{}], reason [{}]", masterNode, ExceptionsHelper.detailedMessage(t));, +            }]