[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java, +import org.elasticsearch.action.search.SearchType;, +import org.elasticsearch.search.Scroll;, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +import org.elasticsearch.util.Bytes;, +import static org.elasticsearch.search.Scroll.*;, +, +    private SearchType searchType = SearchType.DEFAULT;, +    private String searchQueryHint;, +    private String[] searchIndices;, +    private String[] searchTypes;, +    private Scroll searchScroll;, +    private byte[] searchSource;, +, +, +    public MoreLikeThisRequest fields(String... fields) {, +        this.fields = fields;, +        return this;, +    }, +, +    public MoreLikeThisRequest boostTerms(Boolean boostTerms) {, +    public MoreLikeThisRequest searchSource(SearchSourceBuilder sourceBuilder) {, +        return searchSource(sourceBuilder.build());, +    }, +, +    public MoreLikeThisRequest searchSource(byte[] searchSource) {, +        this.searchSource = searchSource;, +        return this;, +    }, +, +    public byte[] searchSource() {, +        return this.searchSource;, +    }, +, +    /**, +     * Sets the search type of the mlt search query., +     */, +    public MoreLikeThisRequest searchType(SearchType searchType) {, +        this.searchType = searchType;, +        return this;, +    }, +, +    public SearchType searchType() {, +        return this.searchType;, +    }, +, +    /**, +     * Sets the indices the resulting mlt query will run against. If not set, will run, +     * against the index the document was fetched from., +     */, +    public MoreLikeThisRequest searchIndices(String... searchIndices) {, +        this.searchIndices = searchIndices;, +        return this;, +    }, +, +    public String[] searchIndices() {, +        return this.searchIndices;, +    }, +, +    /**, +     * Sets the types the resulting mlt query will run against. If not set, will run, +     * against the type of the document fetched., +     */, +    public MoreLikeThisRequest searchTypes(String... searchTypes) {, +        this.searchTypes = searchTypes;, +        return this;, +    }, +, +    public String[] searchTypes() {, +        return this.searchTypes;, +    }, +, +    public MoreLikeThisRequest searchQueryHint(String searchQueryHint) {, +        this.searchQueryHint = searchQueryHint;, +        return this;, +    }, +, +    public String searchQueryHint() {, +        return this.searchQueryHint;, +    }, +, +    public MoreLikeThisRequest searchScroll(Scroll searchScroll) {, +        this.searchScroll = searchScroll;, +        return this;, +    }, +, +    public Scroll searchScroll() {, +        return this.searchScroll;, +    }, +, +        searchType = SearchType.fromId(in.readByte());, +        if (in.readBoolean()) {, +            searchQueryHint = in.readUTF();, +        }, +        size = in.readInt();, +        if (size == -1) {, +            searchIndices = null;, +        } else if (size == 0) {, +            searchIndices = Strings.EMPTY_ARRAY;, +        } else {]