[+++ b/.idea/modules/elasticsearch-root.iml, +      <excludeFolder url="file://$MODULE_DIR$/../../data" />, +      <excludeFolder url="file://$MODULE_DIR$/../../logs" />, +++ b/.idea/modules/elasticsearch-root.iml, +      <excludeFolder url="file://$MODULE_DIR$/../../data" />, +      <excludeFolder url="file://$MODULE_DIR$/../../logs" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/env/Environment.java, +    private final File dataFile;, +, +    private final File dataWithClusterFile;, +, +        if (settings.get("path.data") != null) {, +            dataFile = new File(cleanPath(settings.get("path.data")));, +        } else {, +            dataFile = new File(homeFile, "data");, +        }, +        dataWithClusterFile = new File(dataFile, ClusterName.clusterNameFromSettings(settings).value());, +, +            logsFile = new File(homeFile, "logs");, +     * The work location with the cluster name as a sub directory., +     */, +    public File workWithClusterFile() {, +        return workWithClusterFile;, +    }, +, +    /**, +     * The data location., +     */, +    public File dataFile() {, +        return dataFile;, +    }, +, +    /**, +     * The data location with the cluster name as a sub directory., +     */, +    public File dataWithClusterFile() {, +        return dataWithClusterFile;, +    }, +, +    /**, +++ b/.idea/modules/elasticsearch-root.iml, +      <excludeFolder url="file://$MODULE_DIR$/../../data" />, +      <excludeFolder url="file://$MODULE_DIR$/../../logs" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/env/Environment.java, +    private final File dataFile;, +, +    private final File dataWithClusterFile;, +, +        if (settings.get("path.data") != null) {, +            dataFile = new File(cleanPath(settings.get("path.data")));, +        } else {, +            dataFile = new File(homeFile, "data");, +        }, +        dataWithClusterFile = new File(dataFile, ClusterName.clusterNameFromSettings(settings).value());, +, +            logsFile = new File(homeFile, "logs");, +     * The work location with the cluster name as a sub directory., +     */, +    public File workWithClusterFile() {, +        return workWithClusterFile;, +    }, +, +    /**, +     * The data location., +     */, +    public File dataFile() {, +        return dataFile;, +    }, +, +    /**, +     * The data location with the cluster name as a sub directory., +     */, +    public File dataWithClusterFile() {, +        return dataWithClusterFile;, +    }, +, +    /**, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +            dir = new File(new File(environment.dataWithClusterFile(), "nodes"), Integer.toString(i));, +    public File nodeDataLocation() {, +++ b/.idea/modules/elasticsearch-root.iml, +      <excludeFolder url="file://$MODULE_DIR$/../../data" />, +      <excludeFolder url="file://$MODULE_DIR$/../../logs" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/env/Environment.java, +    private final File dataFile;, +, +    private final File dataWithClusterFile;, +, +        if (settings.get("path.data") != null) {, +            dataFile = new File(cleanPath(settings.get("path.data")));, +        } else {, +            dataFile = new File(homeFile, "data");, +        }, +        dataWithClusterFile = new File(dataFile, ClusterName.clusterNameFromSettings(settings).value());, +, +            logsFile = new File(homeFile, "logs");, +     * The work location with the cluster name as a sub directory., +     */, +    public File workWithClusterFile() {, +        return workWithClusterFile;]