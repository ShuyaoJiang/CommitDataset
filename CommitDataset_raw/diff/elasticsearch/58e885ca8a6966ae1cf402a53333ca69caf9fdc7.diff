[+++ b/docs/reference/upgrade/close-ml.asciidoc, +If your {ml} indices were created before {prev-major-version}, you must, +<<reindex-upgrade,reindex the indices>>., +If your {ml} indices were created in {prev-major-version}, you can:, +* Leave your {ml} jobs running during the upgrade. When you shut down a, +{ml} node, its jobs automatically move to another node and restore the model, +states. This option enables your jobs to continue running during the upgrade but, +it puts increased load on the cluster., +* Temporarily halt the tasks associated with your {ml} jobs and {dfeeds} and, +prevent new jobs from opening by using the, +<<ml-set-upgrade-mode,set upgrade mode API>>:, ++, +--, +When you disable upgrade mode, the jobs resume using the last model, +state that was automatically saved. This option avoids the overhead of managing, +active jobs during the upgrade and is faster than explicitly stopping {dfeeds}, +and closing jobs., +--, +, +* {stack-ov}/stopping-ml.html[Stop all {dfeeds} and close all jobs]. This option, +saves the model state at the time of closure. When you reopen the jobs after the, +upgrade, they use the exact same model. However, saving the latest model state, +takes longer than using upgrade mode, especially if you have a lot of jobs or, +jobs with large model states., +++ b/docs/reference/upgrade/close-ml.asciidoc, +If your {ml} indices were created before {prev-major-version}, you must, +<<reindex-upgrade,reindex the indices>>., +If your {ml} indices were created in {prev-major-version}, you can:, +* Leave your {ml} jobs running during the upgrade. When you shut down a, +{ml} node, its jobs automatically move to another node and restore the model, +states. This option enables your jobs to continue running during the upgrade but, +it puts increased load on the cluster., +* Temporarily halt the tasks associated with your {ml} jobs and {dfeeds} and, +prevent new jobs from opening by using the, +<<ml-set-upgrade-mode,set upgrade mode API>>:, ++, +--, +When you disable upgrade mode, the jobs resume using the last model, +state that was automatically saved. This option avoids the overhead of managing, +active jobs during the upgrade and is faster than explicitly stopping {dfeeds}, +and closing jobs., +--, +, +* {stack-ov}/stopping-ml.html[Stop all {dfeeds} and close all jobs]. This option, +saves the model state at the time of closure. When you reopen the jobs after the, +upgrade, they use the exact same model. However, saving the latest model state, +takes longer than using upgrade mode, especially if you have a lot of jobs or, +jobs with large model states., +++ b/docs/reference/upgrade/cluster_restart.asciidoc, +. *Temporarily stop the tasks associated with active {ml} jobs and {dfeeds}.* (Optional), +++ b/docs/reference/upgrade/close-ml.asciidoc, +If your {ml} indices were created before {prev-major-version}, you must, +<<reindex-upgrade,reindex the indices>>., +If your {ml} indices were created in {prev-major-version}, you can:, +* Leave your {ml} jobs running during the upgrade. When you shut down a, +{ml} node, its jobs automatically move to another node and restore the model, +states. This option enables your jobs to continue running during the upgrade but, +it puts increased load on the cluster., +* Temporarily halt the tasks associated with your {ml} jobs and {dfeeds} and, +prevent new jobs from opening by using the, +<<ml-set-upgrade-mode,set upgrade mode API>>:, ++, +--, +When you disable upgrade mode, the jobs resume using the last model, +state that was automatically saved. This option avoids the overhead of managing, +active jobs during the upgrade and is faster than explicitly stopping {dfeeds}, +and closing jobs., +--, +, +* {stack-ov}/stopping-ml.html[Stop all {dfeeds} and close all jobs]. This option, +saves the model state at the time of closure. When you reopen the jobs after the, +upgrade, they use the exact same model. However, saving the latest model state, +takes longer than using upgrade mode, especially if you have a lot of jobs or, +jobs with large model states., +++ b/docs/reference/upgrade/cluster_restart.asciidoc, +. *Temporarily stop the tasks associated with active {ml} jobs and {dfeeds}.* (Optional), +++ b/docs/reference/upgrade/reindex_upgrade.asciidoc, +{prev-major-version}, you must temporarily halt the tasks associated with your, +{ml} jobs and {dfeeds} and prevent new jobs from opening during the reindex. Use, +the <<ml-set-upgrade-mode,set upgrade mode API>> or, +{stack-ov}/stopping-ml.html[stop all {dfeeds} and close all {ml} jobs]., +ifdef::include-xpack[], +If you use {ml-features} and you're migrating indices from a 6.5 or earlier, +cluster, the job and {dfeed} configuration information are not stored in an, +index. You must recreate your {ml} jobs in the new cluster. If you are migrating, +from a 6.6 or later cluster, it is a good idea to temporarily halt the tasks, +associated with your {ml} jobs and {dfeeds} to prevent inconsistencies between, +different {ml} indices that are reindexed at slightly different times. Use the, +<<ml-set-upgrade-mode,set upgrade mode API>> or , +{stack-ov}/stopping-ml.html[stop all {dfeeds} and close all {ml} jobs]., +endif::include-xpack[], +, +++ b/docs/reference/upgrade/close-ml.asciidoc, +If your {ml} indices were created before {prev-major-version}, you must, +<<reindex-upgrade,reindex the indices>>., +If your {ml} indices were created in {prev-major-version}, you can:, +* Leave your {ml} jobs running during the upgrade. When you shut down a, +{ml} node, its jobs automatically move to another node and restore the model, +states. This option enables your jobs to continue running during the upgrade but, +it puts increased load on the cluster.]