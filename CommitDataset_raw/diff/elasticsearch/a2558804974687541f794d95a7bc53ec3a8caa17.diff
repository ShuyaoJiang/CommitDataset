[+++ b/rest-api-spec/src/main/resources/rest-api-spec/test/field_caps/10_basic.yml, +                    level1:, +                      type: nested, +                      properties:, +                        level2:, +                          type: object, +                          properties:, +                            leaf1:, +                              type: text, +                              index: false, +, +                    level1:, +                      type: nested, +                      properties:, +                        level2:, +                          type: object, +                          properties:, +                            leaf1:, +                              type: text, +                              index: false, +                      type: nested, +                    level1:, +                      type: object, +                      properties:, +                        level2:, +                          type: object, +                          properties:, +                            leaf1:, +                              type: text, +                              index: false, +"Get leaves field caps":, +"Get object and nested field caps":, +  - skip:, +      version: " - 6.99.99", +      reason: object and nested fields are returned since 7.0, +, +  - do:, +      field_caps:, +        index: 'test1,test2,test3', +        fields: object*,level1*, +, +  - match: {fields.object.object.indices:                                 ["test1", "test2"]}, +  - match: {fields.object.object.searchable:                              false}, +  - match: {fields.object.object.aggregatable:                            false}, +  - is_false: fields.object.object.non_aggregatable_indices, +  - is_false: fields.object.object.non_searchable_indices, +  - match: {fields.object.nested.indices:                                 ["test3"]}, +  - match: {fields.object.nested.searchable:                              false}, +  - match: {fields.object.nested.aggregatable:                            false}, +  - is_false: fields.object.nested.non_aggregatable_indices, +  - is_false: fields.object.nested.non_searchable_indices, +  - match: {fields.level1.nested.indices:                                 ["test1", "test2"]}, +  - match: {fields.level1.nested.searchable:                              false}, +  - match: {fields.level1.nested.aggregatable:                            false}, +  - is_false: fields.level1.nested.non_aggregatable_indices, +  - is_false: fields.level1.nested.non_searchable_indices, +  - match: {fields.level1.object.indices:                                 ["test3"]}, +  - match: {fields.level1.object.searchable:                              false}, +  - match: {fields.level1.object.aggregatable:                            false}, +  - is_false: fields.level1.object.non_aggregatable_indices, +  - is_false: fields.level1.object.non_searchable_indices, +  - match: {fields.level1\.level2.object.searchable:                      false}, +  - match: {fields.level1\.level2.object.aggregatable:                    false}, +  - is_false: fields.level1\.level2.object.indices, +  - is_false: fields.level1\.level2.object.non_aggregatable_indices, +  - is_false: fields.level1\.level2.object.non_searchable_indices, +  - match: {fields.level1\.level2\.leaf1.text.searchable:                 false}, +  - match: {fields.level1\.level2\.leaf1.text.aggregatable:               false}, +  - is_false: fields.level1\.level2\.leaf1.text.indices, +  - is_false: fields.level1\.level2\.leaf1.text.non_aggregatable_indices, +  - is_false: fields.level1\.level2\.leaf1.text..non_searchable_indices, +---, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/field_caps/10_basic.yml, +                    level1:, +                      type: nested, +                      properties:, +                        level2:, +                          type: object, +                          properties:, +                            leaf1:, +                              type: text, +                              index: false, +, +                    level1:, +                      type: nested, +                      properties:, +                        level2:, +                          type: object, +                          properties:, +                            leaf1:, +                              type: text, +                              index: false, +                      type: nested, +                    level1:, +                      type: object, +                      properties:, +                        level2:, +                          type: object, +                          properties:, +                            leaf1:]