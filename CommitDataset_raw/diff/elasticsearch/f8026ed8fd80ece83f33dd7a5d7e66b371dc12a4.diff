[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/DependencyLicensesTask.groovy, +        if (dependencies.isEmpty()) {, +            if (licensesDir.exists()) {, +            return // no dependencies to check, +        } else if (licensesDir.exists() == false) {, +            throw new GradleException("Licences dir ${licensesDir} does not exist, but there are dependencies"), +        }, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/DependencyLicensesTask.groovy, +        if (dependencies.isEmpty()) {, +            if (licensesDir.exists()) {, +            return // no dependencies to check, +        } else if (licensesDir.exists() == false) {, +            throw new GradleException("Licences dir ${licensesDir} does not exist, but there are dependencies"), +        }, +, +++ b/test-framework/build.gradle, +, +// TODO: should we have licenses for our test deps?, +dependencyLicenses.enabled = false, +]