[+++ b/src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java, +        this(reason, shardTarget, RestStatus.INTERNAL_SERVER_ERROR);, +    }, +, +    public ShardSearchFailure(String reason, SearchShardTarget shardTarget, RestStatus status) {, +        this.status = status;, +++ b/src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java, +        this(reason, shardTarget, RestStatus.INTERNAL_SERVER_ERROR);, +    }, +, +    public ShardSearchFailure(String reason, SearchShardTarget shardTarget, RestStatus status) {, +        this.status = status;, +++ b/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java, +import org.elasticsearch.rest.RestStatus;, +                    addShardFailure(new ShardSearchFailure("No active shards", new SearchShardTarget(null, shardIt.shardId().index().name(), shardIt.shardId().id()), RestStatus.SERVICE_UNAVAILABLE));, +                        addShardFailure(new ShardSearchFailure("No active shards", new SearchShardTarget(null, shardIt.shardId().index().name(), shardIt.shardId().id()), RestStatus.SERVICE_UNAVAILABLE));]