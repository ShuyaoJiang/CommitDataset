[+++ b/src/main/java/org/elasticsearch/search/facet/terms/TermsFacetParser.java, +import org.elasticsearch.ElasticSearchParseException;, +                } else {, +                    throw new ElasticSearchParseException("unknown parameter [" + currentFieldName + "] while parsing terms facet [" + facetName + "]");, +                } else {, +                    throw new ElasticSearchParseException("unknown parameter [" + currentFieldName + "] while parsing terms facet [" + facetName + "]");, +                } else {, +                    throw new ElasticSearchParseException("unknown parameter [" + currentFieldName + "] while parsing terms facet [" + facetName + "]");, +        if (field == null && script != null) {, +        if (field == null) {, +            throw new ElasticSearchParseException("terms facet [" + facetName + "] must have a field, fields or script parameter");, +        }, +]