[+++ b/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java, +            // This means that fields in the query need to exist in the mapping prior to registering this query, +            // The reason that this is required, is that if a field doesn't exist then the query assumes defaults, which may be undesired., +            //, +            // Even worse when fields mentioned in percolator queries do go added to map after the queries have been registered, +            // then the percolator queries don't work as expected any more., +            //, +            // Query parsing can't introduce new fields in mappings (which happens when registering a percolator query),, +            // because field type can't be inferred from queries (like document do) so the best option here is to disallow, +            // the usage of unmapped fields in percolator queries to avoid unexpected behaviour, +            context.setAllowUnmappedFields(false);]