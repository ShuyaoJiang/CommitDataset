[+++ b/server/src/test/java/org/elasticsearch/index/shard/IndexShardIT.java, +import org.elasticsearch.test.junit.annotations.TestLogging;, +import java.util.Locale;, +    @TestLogging("_root:DEBUG,org.elasticsearch.index.shard:TRACE,org.elasticsearch.index.engine:TRACE"), +            final FlushStats initialStats = shard.flushStats();, +                final FlushStats currentStats = shard.flushStats();, +                String msg = String.format(Locale.ROOT, "flush stats: total=[%d vs %d], periodic=[%d vs %d]",, +                    initialStats.getTotal(), currentStats.getTotal(), initialStats.getPeriodic(), currentStats.getPeriodic());, +                assertThat(msg, currentStats.getPeriodic(), equalTo(initialStats.getPeriodic() + 1));, +                assertThat(msg, currentStats.getTotal(), equalTo(initialStats.getTotal() + 1));]