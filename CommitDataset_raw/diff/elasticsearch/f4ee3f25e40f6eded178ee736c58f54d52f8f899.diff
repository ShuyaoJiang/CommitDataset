[+++ b/docs/reference/mapping/fields/timestamp-field.asciidoc, +By default the `_timestamp` field has `store` set to `true` and `index`, +++ b/docs/reference/mapping/fields/timestamp-field.asciidoc, +By default the `_timestamp` field has `store` set to `true` and `index`, +++ b/rest-api-spec/test/create/70_timestamp.yaml, +++ b/docs/reference/mapping/fields/timestamp-field.asciidoc, +By default the `_timestamp` field has `store` set to `true` and `index`, +++ b/rest-api-spec/test/create/70_timestamp.yaml, +++ b/rest-api-spec/test/create/75_ttl.yaml, +++ b/docs/reference/mapping/fields/timestamp-field.asciidoc, +By default the `_timestamp` field has `store` set to `true` and `index`, +++ b/rest-api-spec/test/create/70_timestamp.yaml, +++ b/rest-api-spec/test/create/75_ttl.yaml, +++ b/rest-api-spec/test/update/70_timestamp.yaml, +++ b/docs/reference/mapping/fields/timestamp-field.asciidoc, +By default the `_timestamp` field has `store` set to `true` and `index`, +++ b/rest-api-spec/test/create/70_timestamp.yaml, +++ b/rest-api-spec/test/create/75_ttl.yaml, +++ b/rest-api-spec/test/update/70_timestamp.yaml, +++ b/rest-api-spec/test/update/85_fields_meta.yaml, +++ b/docs/reference/mapping/fields/timestamp-field.asciidoc, +By default the `_timestamp` field has `store` set to `true` and `index`, +++ b/rest-api-spec/test/create/70_timestamp.yaml, +++ b/rest-api-spec/test/create/75_ttl.yaml, +++ b/rest-api-spec/test/update/70_timestamp.yaml, +++ b/rest-api-spec/test/update/85_fields_meta.yaml, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java, +import org.elasticsearch.Version;, +        public static final FieldType PRE_20_FIELD_TYPE;, +            FIELD_TYPE.setStored(true);, +            PRE_20_FIELD_TYPE = new FieldType(FIELD_TYPE);, +            PRE_20_FIELD_TYPE.setStored(false);, +            PRE_20_FIELD_TYPE.freeze();, +        private boolean explicitStore = false;, +        public Builder store(boolean store) {, +            explicitStore = true;, +            return super.store(store);, +        }, +, +        @Override, +            if (explicitStore == false && context.indexCreatedVersion().before(Version.V_2_0_0)) {, +                assert fieldType.stored();, +                fieldType.setStored(false);, +            }, +    private static FieldType defaultFieldType(Settings settings) {, +        return Version.indexCreated(settings).onOrAfter(Version.V_2_0_0) ? Defaults.FIELD_TYPE : Defaults.PRE_20_FIELD_TYPE;, +    }, +    private final FieldType defaultFieldType;, +        this(new FieldType(defaultFieldType(indexSettings)), null, Defaults.ENABLED, Defaults.PATH, Defaults.DATE_TIME_FORMATTER, Defaults.DEFAULT_TIMESTAMP,, +        this.defaultFieldType = defaultFieldType(indexSettings);, +        return defaultFieldType;, +++ b/docs/reference/mapping/fields/timestamp-field.asciidoc, +By default the `_timestamp` field has `store` set to `true` and `index`, +++ b/rest-api-spec/test/create/70_timestamp.yaml, +++ b/rest-api-spec/test/create/75_ttl.yaml, +++ b/rest-api-spec/test/update/70_timestamp.yaml, +++ b/rest-api-spec/test/update/85_fields_meta.yaml, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java, +import org.elasticsearch.Version;, +        public static final FieldType PRE_20_FIELD_TYPE;, +            FIELD_TYPE.setStored(true);, +            PRE_20_FIELD_TYPE = new FieldType(FIELD_TYPE);, +            PRE_20_FIELD_TYPE.setStored(false);, +            PRE_20_FIELD_TYPE.freeze();, +        private boolean explicitStore = false;, +        public Builder store(boolean store) {, +            explicitStore = true;, +            return super.store(store);, +        }, +, +        @Override, +            if (explicitStore == false && context.indexCreatedVersion().before(Version.V_2_0_0)) {, +                assert fieldType.stored();, +                fieldType.setStored(false);, +            }, +    private static FieldType defaultFieldType(Settings settings) {, +        return Version.indexCreated(settings).onOrAfter(Version.V_2_0_0) ? Defaults.FIELD_TYPE : Defaults.PRE_20_FIELD_TYPE;, +    }, +    private final FieldType defaultFieldType;, +        this(new FieldType(defaultFieldType(indexSettings)), null, Defaults.ENABLED, Defaults.PATH, Defaults.DATE_TIME_FORMATTER, Defaults.DEFAULT_TIMESTAMP,, +        this.defaultFieldType = defaultFieldType(indexSettings);, +        return defaultFieldType;, +++ b/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java, +import org.elasticsearch.Version;, +import org.elasticsearch.cluster.metadata.IndexMetaData;, +import org.elasticsearch.common.settings.ImmutableSettings;, +import org.elasticsearch.index.mapper.ParsedDocument;, +import org.elasticsearch.index.mapper.SourceToParse;, +import org.elasticsearch.test.ElasticsearchTestCase;, +import java.util.Arrays;, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertAcked;, +import static org.hamcrest.Matchers.containsString;, +import static org.hamcrest.Matchers.equalTo;, +import static org.hamcrest.Matchers.hasKey;, +import static org.hamcrest.Matchers.instanceOf;, +import static org.hamcrest.Matchers.is;, +import static org.hamcrest.Matchers.isIn;, +import static org.hamcrest.Matchers.lessThanOrEqualTo;, +import static org.hamcrest.Matchers.notNullValue;, +        for (Version version : Arrays.asList(Version.V_1_5_0, Version.V_2_0_0, ElasticsearchTestCase.randomVersion())) {]