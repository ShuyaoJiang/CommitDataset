[+++ b/src/test/java/org/elasticsearch/index/translog/TranslogTests.java, +import java.nio.file.*;, +    private String randomNonTranslogPatternString(int min, int max) {, +        boolean validPathString = false;, +            validPathString = false;, +            try {, +                translogDir.resolve(string);, +                validPathString = true;, +            } catch (InvalidPathException ex) {, +                // some FS don't like our random file names -- let's just skip these random choices, +            }, +        } while (Translog.PARSE_ID_PATTERN.matcher(string).matches() && validPathString);]