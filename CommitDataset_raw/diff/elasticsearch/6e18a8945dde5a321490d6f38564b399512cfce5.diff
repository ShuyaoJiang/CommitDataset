[+++ b/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java, +        long sizeInBytes = 0;, +            sizeInBytes += fst.sizeInBytes();, +        final long ramBytesUsed = sizeInBytes;, +, +            @Override, +            public long ramBytesUsed() {, +                return ramBytesUsed;, +            }, +++ b/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java, +        long sizeInBytes = 0;, +            sizeInBytes += fst.sizeInBytes();, +        final long ramBytesUsed = sizeInBytes;, +, +            @Override, +            public long ramBytesUsed() {, +                return ramBytesUsed;, +            }, +++ b/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java, +            return (lookupFactory == null ? 0 : lookupFactory.ramBytesUsed()) + delegateProducer.ramBytesUsed();, +        public abstract long ramBytesUsed();, +++ b/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java, +        long sizeInBytes = 0;, +            sizeInBytes += fst.sizeInBytes();, +        final long ramBytesUsed = sizeInBytes;, +, +            @Override, +            public long ramBytesUsed() {, +                return ramBytesUsed;, +            }, +++ b/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java, +            return (lookupFactory == null ? 0 : lookupFactory.ramBytesUsed()) + delegateProducer.ramBytesUsed();, +        public abstract long ramBytesUsed();, +++ b/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java, +        long sizeInBytes = 0;, +            sizeInBytes += fst.sizeInBytes();, +        final long ramBytesUsed = sizeInBytes;, +, +            @Override, +            public long ramBytesUsed() {, +                return ramBytesUsed;, +            }]