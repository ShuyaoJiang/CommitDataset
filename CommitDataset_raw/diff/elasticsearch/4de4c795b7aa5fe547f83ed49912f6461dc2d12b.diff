[+++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RestRankEvalAction.java, +, +    @Override, +    public String getName() {, +        return "rank_eval_action";, +    }, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RestRankEvalAction.java, +, +    @Override, +    public String getName() {, +        return "rank_eval_action";, +    }, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/TransportRankEvalAction.java, +import org.elasticsearch.script.TemplateScript;, +        Map<String, TemplateScript.Factory> scriptsWithoutParams = new HashMap<>();, +                    scriptService.compile(entry.getValue(), TemplateScript.CONTEXT));, +                TemplateScript.Factory templateScript = scriptsWithoutParams.get(templateId);, +                String resolvedRequest = templateScript.newInstance(params).execute();]