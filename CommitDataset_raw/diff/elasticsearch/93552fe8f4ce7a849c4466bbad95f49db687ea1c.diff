[+++ b/dev-tools/build_release.py, +def artifact_names(release, path = ''):, +  return [os.path.join(path, 'elasticsearch-%s.%s' % (release, t)) for t in ['deb', 'tar.gz', 'zip']], +  common_artifacts = artifact_names(release, 'target/releases/'), +  for f in common_artifacts:, +    if not os.path.isfile(f):, +      raise RuntimeError('Could not find required artifact at %s' % f), +    renamed_rpm = os.path.join('target/rpm/elasticsearch/RPMS/noarch/', 'elasticsearch-%s.noarch.rpm' % release), +    shutil.move(rpm, renamed_rpm), +def generate_checksums(files):, +  for release_file in files:, +    directory = os.path.dirname(release_file), +    file = os.path.basename(release_file), +    checksum_file = '%s.sha1.txt' % file, +      raise RuntimeError('Failed to generate checksum for file %s' % release_file), +    res = res + [os.path.join(directory, checksum_file), release_file]]