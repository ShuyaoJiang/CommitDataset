[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java, +import org.elasticsearch.common.collect.Maps;, +import java.util.Map;, +, +            // the nodes we are going to ping include the core listed nodes that were added, +            // and the last round of discovered nodes, +            Map<TransportAddress, DiscoveryNode> nodesToPing = Maps.newHashMap();, +            for (DiscoveryNode node : listedNodes) {, +                nodesToPing.put(node.address(), node);, +            }, +            for (DiscoveryNode node : nodes) {, +                nodesToPing.put(node.address(), node);, +            }, +, +            final CountDownLatch latch = new CountDownLatch(nodesToPing.size());, +            for (final DiscoveryNode listedNode : nodesToPing.values()) {, +                threadPool.executor(ThreadPool.Names.MANAGEMENT).execute(new Runnable() {]