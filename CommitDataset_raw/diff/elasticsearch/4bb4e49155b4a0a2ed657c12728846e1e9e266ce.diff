[+++ b/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java, +import com.google.common.collect.ImmutableList;, +import com.google.common.collect.Iterables;, +import org.elasticsearch.common.lucene.search.Queries;, +import java.io.IOException;, +import java.util.ArrayList;, +import java.util.Collection;, +import java.util.List;, +        boolean idsProvided = false;, +                    idsProvided = true;, +        if (!idsProvided) {, +        if (ids.isEmpty()) {, +            return Queries.NO_MATCH_QUERY;, +        }, +]