[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/http/netty/NettyHttpRequest.java, +        return sValue.equals("true") || sValue.equals("1") || sValue.equals("on");, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/http/netty/NettyHttpRequest.java, +        return sValue.equals("true") || sValue.equals("1") || sValue.equals("on");, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/JsonThrowableRestResponse.java, +        super(request, status, convert(request, t));, +    private static JsonBuilder convert(RestRequest request, Throwable t) throws IOException {, +        if (request.paramAsBoolean("errorTrace", false)) {, +            builder.startObject("errorTrace");, +        }]