[+++ b/build.gradle, +++ b/build.gradle, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java, +++ b/build.gradle, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java, +import org.objectweb.asm.Type;, +        index.expected = index.actual;, +        final String desc = Type.getMethodDescriptor(after.type, definition.defType.type, index.actual.type);, +            "arrayLoad", desc, DEF_BOOTSTRAP_HANDLE, new Object[] { DefBootstrap.ARRAY_LOAD });, +        final String desc = Type.getMethodDescriptor(definition.voidType.type, definition.defType.type,, +            index.actual.type, definition.defType.type);, +            "arrayStore", desc, DEF_BOOTSTRAP_HANDLE, new Object[] { DefBootstrap.ARRAY_STORE });, +++ b/build.gradle, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java, +import org.objectweb.asm.Type;, +        index.expected = index.actual;, +        final String desc = Type.getMethodDescriptor(after.type, definition.defType.type, index.actual.type);, +            "arrayLoad", desc, DEF_BOOTSTRAP_HANDLE, new Object[] { DefBootstrap.ARRAY_LOAD });, +        final String desc = Type.getMethodDescriptor(definition.voidType.type, definition.defType.type,, +            index.actual.type, definition.defType.type);, +            "arrayStore", desc, DEF_BOOTSTRAP_HANDLE, new Object[] { DefBootstrap.ARRAY_STORE });, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java, +        signature.append(after.type.getDescriptor());, +++ b/build.gradle, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java, +import org.objectweb.asm.Type;, +        index.expected = index.actual;, +        final String desc = Type.getMethodDescriptor(after.type, definition.defType.type, index.actual.type);, +            "arrayLoad", desc, DEF_BOOTSTRAP_HANDLE, new Object[] { DefBootstrap.ARRAY_LOAD });, +        final String desc = Type.getMethodDescriptor(definition.voidType.type, definition.defType.type,, +            index.actual.type, definition.defType.type);, +            "arrayStore", desc, DEF_BOOTSTRAP_HANDLE, new Object[] { DefBootstrap.ARRAY_STORE });, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java, +        signature.append(after.type.getDescriptor());, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java, +import org.objectweb.asm.Type;, +        final String desc = Type.getMethodDescriptor(after.type, definition.defType.type);, +        adapter.visitInvokeDynamicInsn(value, desc, DEF_BOOTSTRAP_HANDLE, new Object[] { DefBootstrap.LOAD });, +        final String desc = Type.getMethodDescriptor(definition.voidType.type, definition.defType.type, definition.defType.type);, +        adapter.visitInvokeDynamicInsn(value, desc, DEF_BOOTSTRAP_HANDLE, new Object[] { DefBootstrap.STORE });]