[+++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +import org.elasticsearch.common.settings.Setting;, +import org.elasticsearch.common.settings.Setting.Scope;, +    public static final Setting<Boolean> HTTP_ENABLED = Setting.boolSetting("http.enabled", true, false, Scope.CLUSTER);, +            if (HTTP_ENABLED.get(settings)) {, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +import org.elasticsearch.common.settings.Setting;, +import org.elasticsearch.common.settings.Setting.Scope;, +    public static final Setting<Boolean> HTTP_ENABLED = Setting.boolSetting("http.enabled", true, false, Scope.CLUSTER);, +            if (HTTP_ENABLED.get(settings)) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +import org.elasticsearch.common.network.NetworkModule;, +import org.elasticsearch.http.netty.NettyHttpChannel;, +import org.elasticsearch.http.netty.NettyHttpServerTransport;, +        NetworkModule.HTTP_ENABLED,, +        NettyHttpServerTransport.SETTING_CORS_ALLOW_CREDENTIALS,, +        NettyHttpServerTransport.SETTING_CORS_ENABLED,, +        NettyHttpServerTransport.SETTING_CORS_MAX_AGE,, +        NettyHttpServerTransport.SETTING_HTTP_DETAILED_ERRORS_ENABLED,, +        NettyHttpServerTransport.SETTING_PIPELINING,       , +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +import org.elasticsearch.common.settings.Setting;, +import org.elasticsearch.common.settings.Setting.Scope;, +    public static final Setting<Boolean> HTTP_ENABLED = Setting.boolSetting("http.enabled", true, false, Scope.CLUSTER);, +            if (HTTP_ENABLED.get(settings)) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +import org.elasticsearch.common.network.NetworkModule;, +import org.elasticsearch.http.netty.NettyHttpChannel;, +import org.elasticsearch.http.netty.NettyHttpServerTransport;, +        NetworkModule.HTTP_ENABLED,, +        NettyHttpServerTransport.SETTING_CORS_ALLOW_CREDENTIALS,, +        NettyHttpServerTransport.SETTING_CORS_ENABLED,, +        NettyHttpServerTransport.SETTING_CORS_MAX_AGE,, +        NettyHttpServerTransport.SETTING_HTTP_DETAILED_ERRORS_ENABLED,, +        NettyHttpServerTransport.SETTING_PIPELINING,       , +++ b/core/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java, +            if (SETTING_CORS_ENABLED.get(transport.settings())) {, +                    resp.headers().add(ACCESS_CONTROL_MAX_AGE, SETTING_CORS_MAX_AGE.get(transport.settings()));, +                if (SETTING_CORS_ALLOW_CREDENTIALS.get(transport.settings())) {, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +import org.elasticsearch.common.settings.Setting;, +import org.elasticsearch.common.settings.Setting.Scope;, +    public static final Setting<Boolean> HTTP_ENABLED = Setting.boolSetting("http.enabled", true, false, Scope.CLUSTER);, +            if (HTTP_ENABLED.get(settings)) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +import org.elasticsearch.common.network.NetworkModule;, +import org.elasticsearch.http.netty.NettyHttpChannel;, +import org.elasticsearch.http.netty.NettyHttpServerTransport;, +        NetworkModule.HTTP_ENABLED,, +        NettyHttpServerTransport.SETTING_CORS_ALLOW_CREDENTIALS,, +        NettyHttpServerTransport.SETTING_CORS_ENABLED,, +        NettyHttpServerTransport.SETTING_CORS_MAX_AGE,, +        NettyHttpServerTransport.SETTING_HTTP_DETAILED_ERRORS_ENABLED,, +        NettyHttpServerTransport.SETTING_PIPELINING,       , +++ b/core/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java, +            if (SETTING_CORS_ENABLED.get(transport.settings())) {, +                    resp.headers().add(ACCESS_CONTROL_MAX_AGE, SETTING_CORS_MAX_AGE.get(transport.settings()));, +                if (SETTING_CORS_ALLOW_CREDENTIALS.get(transport.settings())) {, +++ b/core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java, +import org.elasticsearch.common.settings.Setting;, +import org.elasticsearch.common.settings.Setting.Scope;, +    public static final Setting<Boolean> SETTING_CORS_ENABLED = Setting.boolSetting("http.cors.enabled", false, false, Scope.CLUSTER);, +    public static final Setting<Integer> SETTING_CORS_MAX_AGE = Setting.intSetting("http.cors.max-age", 1728000, false, Scope.CLUSTER);    , +    public static final Setting<Boolean> SETTING_CORS_ALLOW_CREDENTIALS = Setting.boolSetting("http.cors.allow-credentials", false, false, Scope.CLUSTER);, +     , +    public static final Setting<Boolean> SETTING_PIPELINING = Setting.boolSetting("http.pipelining", true, false, Scope.CLUSTER);, +    public static final Setting<Boolean> SETTING_HTTP_DETAILED_ERRORS_ENABLED = Setting.boolSetting("http.detailed_errors.enabled", true, false, Scope.CLUSTER);, +        this.detailedErrorsEnabled = SETTING_HTTP_DETAILED_ERRORS_ENABLED.get(settings);, +        this.pipelining = SETTING_PIPELINING.get(settings);, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkModule.java, +import org.elasticsearch.common.settings.Setting;, +import org.elasticsearch.common.settings.Setting.Scope;, +    public static final Setting<Boolean> HTTP_ENABLED = Setting.boolSetting("http.enabled", true, false, Scope.CLUSTER);, +            if (HTTP_ENABLED.get(settings)) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +import org.elasticsearch.common.network.NetworkModule;, +import org.elasticsearch.http.netty.NettyHttpChannel;, +import org.elasticsearch.http.netty.NettyHttpServerTransport;, +        NetworkModule.HTTP_ENABLED,, +        NettyHttpServerTransport.SETTING_CORS_ALLOW_CREDENTIALS,, +        NettyHttpServerTransport.SETTING_CORS_ENABLED,, +        NettyHttpServerTransport.SETTING_CORS_MAX_AGE,, +        NettyHttpServerTransport.SETTING_HTTP_DETAILED_ERRORS_ENABLED,, +        NettyHttpServerTransport.SETTING_PIPELINING,       , +++ b/core/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java, +            if (SETTING_CORS_ENABLED.get(transport.settings())) {, +                    resp.headers().add(ACCESS_CONTROL_MAX_AGE, SETTING_CORS_MAX_AGE.get(transport.settings()));, +                if (SETTING_CORS_ALLOW_CREDENTIALS.get(transport.settings())) {, +++ b/core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java, +import org.elasticsearch.common.settings.Setting;, +import org.elasticsearch.common.settings.Setting.Scope;, +    public static final Setting<Boolean> SETTING_CORS_ENABLED = Setting.boolSetting("http.cors.enabled", false, false, Scope.CLUSTER);, +    public static final Setting<Integer> SETTING_CORS_MAX_AGE = Setting.intSetting("http.cors.max-age", 1728000, false, Scope.CLUSTER);    , +    public static final Setting<Boolean> SETTING_CORS_ALLOW_CREDENTIALS = Setting.boolSetting("http.cors.allow-credentials", false, false, Scope.CLUSTER);, +     , +    public static final Setting<Boolean> SETTING_PIPELINING = Setting.boolSetting("http.pipelining", true, false, Scope.CLUSTER);, +    public static final Setting<Boolean> SETTING_HTTP_DETAILED_ERRORS_ENABLED = Setting.boolSetting("http.detailed_errors.enabled", true, false, Scope.CLUSTER);, +        this.detailedErrorsEnabled = SETTING_HTTP_DETAILED_ERRORS_ENABLED.get(settings);, +        this.pipelining = SETTING_PIPELINING.get(settings);, +++ b/core/src/main/java/org/elasticsearch/node/Node.java]