[+++ b/server/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateServiceTests.java, +import com.google.common.collect.ImmutableList;, +            new RestoreInProgress.Entry("_uuid", snapshot, RestoreInProgress.State.INIT, ImmutableList.of(index), shardsBuilder.build());, +        return ClusterState.builder(newState), +            .putCustom(RestoreInProgress.TYPE, new RestoreInProgress.Builder().add(entry).build()), +            .build();]