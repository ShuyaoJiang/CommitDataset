[+++ b/core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java, +                throw new IllegalStateException("Field [" + entry.getKey(), +                    + "] exists in the index but not in mappings");, +++ b/core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java, +                throw new IllegalStateException("Field [" + entry.getKey(), +                    + "] exists in the index but not in mappings");, +++ b/core/src/main/java/org/elasticsearch/index/get/ShardGetService.java, +            GetResult getResult = innerGetLoadFromStoredFields(type, id, fields, fetchSourceContext, engineGetResult, mapperService, ignoreErrorsOnGeneratedFields);, +                return innerGetLoadFromStoredFields(type, id, gFields, fetchSourceContext, get, mapperService, ignoreErrorsOnGeneratedFields);, +                DocumentMapper docMapper = mapperService.documentMapper(type);, +    private GetResult innerGetLoadFromStoredFields(String type, String id, String[] gFields, FetchSourceContext fetchSourceContext, Engine.GetResult get, MapperService mapperService, boolean ignoreErrorsOnGeneratedFields) {, +                fieldVisitor.postProcess(mapperService);, +        DocumentMapper docMapper = mapperService.documentMapper(type);, +++ b/core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java, +                throw new IllegalStateException("Field [" + entry.getKey(), +                    + "] exists in the index but not in mappings");, +++ b/core/src/main/java/org/elasticsearch/index/get/ShardGetService.java, +            GetResult getResult = innerGetLoadFromStoredFields(type, id, fields, fetchSourceContext, engineGetResult, mapperService, ignoreErrorsOnGeneratedFields);, +                return innerGetLoadFromStoredFields(type, id, gFields, fetchSourceContext, get, mapperService, ignoreErrorsOnGeneratedFields);, +                DocumentMapper docMapper = mapperService.documentMapper(type);, +    private GetResult innerGetLoadFromStoredFields(String type, String id, String[] gFields, FetchSourceContext fetchSourceContext, Engine.GetResult get, MapperService mapperService, boolean ignoreErrorsOnGeneratedFields) {, +                fieldVisitor.postProcess(mapperService);, +        DocumentMapper docMapper = mapperService.documentMapper(type);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/lucene/StoredNumericValuesTests.java, +import org.elasticsearch.index.mapper.MapperService;, +import org.elasticsearch.index.mapper.MapperService.MergeReason;, +        MapperService mapperService = createIndex("test").mapperService();, +        DocumentMapper mapper = mapperService.merge("type", new CompressedXContent(mapping), MergeReason.MAPPING_UPDATE, false);, +        fieldsVisitor.postProcess(mapperService);]