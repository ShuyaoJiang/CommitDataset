[+++ b/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java, +        final GetMappingsResponse[] lastResponse = new GetMappingsResponse[1];, +                GetMappingsResponse response = lastResponse[0] = client().admin().indices().prepareGetMappings(index).setTypes(type).get();, +            String source = null;, +            ImmutableOpenMap<String, MappingMetaData> mappings = lastResponse[0].getMappings().get(index);, +            if (mappings != null) {, +                MappingMetaData mappingMetaData = mappings.get(type);, +                if (mappingMetaData != null) {, +                    try {, +                        source = mappingMetaData.source().string();, +                    } catch (IOException e) {, +                        throw ExceptionsHelper.convertToElastic(e);, +                    }, +                }, +            }, +            fail("failed to find mappings for index " + index + ", type " + type + " on master node[" + source + "]");]