[+++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/action/GetJobsAction.java, +import org.elasticsearch.ElasticsearchStatusException;, +import java.util.Arrays;, +    private static final String ALL = "_all";, +    private static final List<String> METRIC_WHITELIST = Arrays.asList(ALL, CONFIG, DATA_COUNTS,, +            MODEL_SIZE_STATS, SCHEDULER_STATE, STATUS);, +, +, +, +            for (String s : stats) {, +                if (!METRIC_WHITELIST.contains(s)) {, +                    throw new ElasticsearchStatusException("Metric [" + s + "] is not a valid metric.  ", +                            + "Accepted metrics are: [" + METRIC_WHITELIST + "]", RestStatus.BAD_REQUEST);, +                }, +            }, +            if (stats.contains(ALL)) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/action/GetJobsAction.java, +import org.elasticsearch.ElasticsearchStatusException;, +import java.util.Arrays;, +    private static final String ALL = "_all";, +    private static final List<String> METRIC_WHITELIST = Arrays.asList(ALL, CONFIG, DATA_COUNTS,, +            MODEL_SIZE_STATS, SCHEDULER_STATE, STATUS);, +, +, +, +            for (String s : stats) {, +                if (!METRIC_WHITELIST.contains(s)) {, +                    throw new ElasticsearchStatusException("Metric [" + s + "] is not a valid metric.  ", +                            + "Accepted metrics are: [" + METRIC_WHITELIST + "]", RestStatus.BAD_REQUEST);, +                }, +            }, +            if (stats.contains(ALL)) {, +++ b/elasticsearch/src/test/resources/rest-api-spec/test/jobs_get_stats.yaml, +---, +"Test bad metric":, +  - do:, +      catch: request, +      xpack.prelert.get_jobs:, +        job_id: "job-stats-test", +        metric: "foobar", +]