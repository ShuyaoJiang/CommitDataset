[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingResponse.java, +    private boolean acknowledged;, +, +    private String parsedSource;, +, +    PutMappingResponse() {, +, +    }, +, +    public PutMappingResponse(boolean acknowledged, String parsedSource) {, +        this.acknowledged = acknowledged;, +        this.parsedSource = parsedSource;, +    }, +, +    public boolean acknowledged() {, +        return acknowledged;, +    }, +, +    public String parsedSource() {, +        return parsedSource;, +    }, +, +        acknowledged = in.readBoolean();, +        parsedSource = in.readUTF();, +        out.writeBoolean(acknowledged);, +        out.writeUTF(parsedSource);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingResponse.java, +    private boolean acknowledged;, +, +    private String parsedSource;, +, +    PutMappingResponse() {, +, +    }, +, +    public PutMappingResponse(boolean acknowledged, String parsedSource) {, +        this.acknowledged = acknowledged;, +        this.parsedSource = parsedSource;, +    }, +, +    public boolean acknowledged() {, +        return acknowledged;, +    }, +, +    public String parsedSource() {, +        return parsedSource;, +    }, +, +        acknowledged = in.readBoolean();, +        parsedSource = in.readUTF();, +        out.writeBoolean(acknowledged);, +        out.writeUTF(parsedSource);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java, +        MetaDataService.PutMappingResult result = metaDataService.putMapping(indices, request.type(), request.mappingSource(), request.timeout());, +        return new PutMappingResponse(result.acknowledged(), result.parsedSource());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingResponse.java, +    private boolean acknowledged;, +, +    private String parsedSource;, +, +    PutMappingResponse() {, +, +    }, +, +    public PutMappingResponse(boolean acknowledged, String parsedSource) {, +        this.acknowledged = acknowledged;, +        this.parsedSource = parsedSource;, +    }, +, +    public boolean acknowledged() {, +        return acknowledged;, +    }, +, +    public String parsedSource() {, +        return parsedSource;, +    }, +, +        acknowledged = in.readBoolean();, +        parsedSource = in.readUTF();, +        out.writeBoolean(acknowledged);, +        out.writeUTF(parsedSource);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java, +        MetaDataService.PutMappingResult result = metaDataService.putMapping(indices, request.type(), request.mappingSource(), request.timeout());, +        return new PutMappingResponse(result.acknowledged(), result.parsedSource());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/metadata/MetaDataService.java, +    public PutMappingResult putMapping(final String[] indices, String mappingType, final String mappingSource, TimeValue timeout) throws ElasticSearchException {, +        String parsedSource = documentMapper.buildSource();, +, +        logger.info("Indices [" + Arrays.toString(indices) + "]: Put mapping [" + mappingType + "] with source [" + mappingSource + "]");, +        boolean acknowledged;, +            acknowledged = latch.await(timeout.millis(), TimeUnit.MILLISECONDS);, +            acknowledged = false;, +, +        return new PutMappingResult(acknowledged, parsedSource);, +    public static class PutMappingResult {, +, +        private final boolean acknowledged;, +, +        private final String parsedSource;, +]