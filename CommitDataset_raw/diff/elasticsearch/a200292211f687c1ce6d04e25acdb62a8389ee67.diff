[+++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java, +    public NodeInfo(Version version, Build build, DiscoveryNode node, @Nullable Settings settings,, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java, +    public NodeInfo(Version version, Build build, DiscoveryNode node, @Nullable Settings settings,, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java, +    public NodeInfo(Version version, Build build, DiscoveryNode node, @Nullable Settings settings,, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java, +++ b/core/src/main/java/org/elasticsearch/http/HttpServer.java, +    public HttpServer(Settings settings, HttpServerTransport transport, RestController restController,, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java, +    public NodeInfo(Version version, Build build, DiscoveryNode node, @Nullable Settings settings,, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java, +++ b/core/src/main/java/org/elasticsearch/http/HttpServer.java, +    public HttpServer(Settings settings, HttpServerTransport transport, RestController restController,, +++ b/core/src/main/java/org/elasticsearch/node/service/NodeService.java, +import java.io.Closeable;, +import java.io.IOException;, +, +    private final HttpServer httpServer;, +                       PluginsService pluginService, CircuitBreakerService circuitBreakerService, HttpServer httpServer,, +        this.httpServer = httpServer;, +        return new NodeInfo(Version.CURRENT, Build.CURRENT, discovery.localNode(),, +                httpServer.info(),, +        return new NodeInfo(Version.CURRENT, Build.CURRENT, discovery.localNode(),, +                http ? httpServer.info() : null,, +                httpServer.stats(),, +                http ? httpServer.stats() : null,, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java, +    public NodeInfo(Version version, Build build, DiscoveryNode node, @Nullable Settings settings,, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java, +++ b/core/src/main/java/org/elasticsearch/http/HttpServer.java, +    public HttpServer(Settings settings, HttpServerTransport transport, RestController restController,, +++ b/core/src/main/java/org/elasticsearch/node/service/NodeService.java, +import java.io.Closeable;, +import java.io.IOException;, +, +    private final HttpServer httpServer;, +                       PluginsService pluginService, CircuitBreakerService circuitBreakerService, HttpServer httpServer,, +        this.httpServer = httpServer;, +        return new NodeInfo(Version.CURRENT, Build.CURRENT, discovery.localNode(),, +                httpServer.info(),, +        return new NodeInfo(Version.CURRENT, Build.CURRENT, discovery.localNode(),, +                http ? httpServer.info() : null,, +                httpServer.stats(),, +                http ? httpServer.stats() : null,, +++ b/core/src/test/java/org/elasticsearch/nodesinfo/NodeInfoStreamingTests.java, +        return new NodeInfo(VersionUtils.randomVersion(random()), build, node, settings, osInfo, process, jvm,, +            threadPoolInfo, transport, htttpInfo, plugins, ingestInfo, indexingBuffer);]