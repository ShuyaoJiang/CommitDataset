[+++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +            return builder.rawField("doc", doc);, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +            return builder.rawField("doc", doc);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContent.java, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +            return builder.rawField("doc", doc);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContent.java, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content) throws IOException {, +        generator.writeRawField(fieldName, content);, +        generator.writeRawField(fieldName, content);, +        return this;, +    }, +, +    public XContentBuilder rawValue(BytesReference content) throws IOException {, +        generator.writeRawValue(content);, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +            return builder.rawField("doc", doc);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContent.java, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content) throws IOException {, +        generator.writeRawField(fieldName, content);, +        generator.writeRawField(fieldName, content);, +        return this;, +    }, +, +    public XContentBuilder rawValue(BytesReference content) throws IOException {, +        generator.writeRawValue(content);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content) throws IOException;, +    void writeRawField(String fieldName, BytesReference content) throws IOException;, +    void writeRawValue(BytesReference content) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +            return builder.rawField("doc", doc);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContent.java, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content) throws IOException {, +        generator.writeRawField(fieldName, content);, +        generator.writeRawField(fieldName, content);, +        return this;, +    }, +, +    public XContentBuilder rawValue(BytesReference content) throws IOException {, +        generator.writeRawValue(content);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content) throws IOException;, +    void writeRawField(String fieldName, BytesReference content) throws IOException;, +    void writeRawValue(BytesReference content) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java, +        try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(bytes.streamInput())) {, +        try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(data, offset, length)) {, +            builder.rawField(field, compressedStreamInput);, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +            return builder.rawField("doc", doc);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContent.java, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content) throws IOException {, +        generator.writeRawField(fieldName, content);, +        generator.writeRawField(fieldName, content);, +        return this;, +    }, +, +    public XContentBuilder rawValue(BytesReference content) throws IOException {, +        generator.writeRawValue(content);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content) throws IOException;, +    void writeRawField(String fieldName, BytesReference content) throws IOException;, +    void writeRawValue(BytesReference content) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java, +        try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(bytes.streamInput())) {, +        try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(data, offset, length)) {, +            builder.rawField(field, compressedStreamInput);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8), os);, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8), os, filters);, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +            return builder.rawField("doc", doc);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContent.java, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder rawField(String fieldName, InputStream content) throws IOException {, +        generator.writeRawField(fieldName, content);, +        generator.writeRawField(fieldName, content);, +        return this;, +    }, +, +    public XContentBuilder rawValue(BytesReference content) throws IOException {, +        generator.writeRawValue(content);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void writeRawField(String fieldName, InputStream content) throws IOException;, +    void writeRawField(String fieldName, BytesReference content) throws IOException;, +    void writeRawValue(BytesReference content) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java, +        try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(bytes.streamInput())) {, +        try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(data, offset, length)) {, +            builder.rawField(field, compressedStreamInput);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8), os);, +        return new CborXContentGenerator(cborFactory.createGenerator(os, JsonEncoding.UTF8), os, filters);, +++ b/core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java]