[+++ b/core/src/main/java/org/elasticsearch/action/search/RemoteClusterConnection.java, +import java.util.Set;, +import java.util.concurrent.ConcurrentHashMap;, +    private final Set<DiscoveryNode> connectedNodes = Collections.newSetFromMap(new ConcurrentHashMap<>());, +                    maybeConnect(); // now go and notify pending listeners]