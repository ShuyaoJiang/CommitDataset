[+++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +            shape(in.readNamedWriteable(ShapeBuilder.class));, +            out.writeNamedWriteable(shape);, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +            shape(in.readNamedWriteable(ShapeBuilder.class));, +            out.writeNamedWriteable(shape);, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +            shape(in.readNamedWriteable(ShapeBuilder.class));, +            out.writeNamedWriteable(shape);, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +            shape(in.readNamedWriteable(ShapeBuilder.class));, +            out.writeNamedWriteable(shape);, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java, +            shape = in.readNamedWriteable(ShapeBuilder.class);, +            out.writeNamedWriteable(shape);]