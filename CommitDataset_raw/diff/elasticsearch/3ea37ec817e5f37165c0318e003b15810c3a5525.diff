[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/MessyTestPlugin.groovy, +        // Eclipse doesn't need this because it gets the entire module as a dependency, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/MessyTestPlugin.groovy, +        // Eclipse doesn't need this because it gets the entire module as a dependency, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/TestWithDependenciesPlugin.groovy, +        if (project.isEclipse) {, +            /* The changes this plugin makes both break and aren't needed by, +             * Eclipse. This is because Eclipse flattens main and test, +             * dependencies into a single dependency. Because Eclipse is, +             * "special".... */, +            return, +        }, +]