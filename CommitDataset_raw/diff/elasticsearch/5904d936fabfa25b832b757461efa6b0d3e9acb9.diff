[+++ b/buildSrc/src/main/resources/forbidden/es-all-signatures.txt, +, +org.apache.lucene.util.IOUtils @ use @org.elasticsearch.core.internal.io instead, +++ b/buildSrc/src/main/resources/forbidden/es-all-signatures.txt, +, +org.apache.lucene.util.IOUtils @ use @org.elasticsearch.core.internal.io instead, +++ b/distribution/tools/plugin-cli/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +import org.elasticsearch.core.internal.io.IOUtils;, +++ b/buildSrc/src/main/resources/forbidden/es-all-signatures.txt, +, +org.apache.lucene.util.IOUtils @ use @org.elasticsearch.core.internal.io instead, +++ b/distribution/tools/plugin-cli/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +import org.elasticsearch.core.internal.io.IOUtils;, +++ b/distribution/tools/plugin-cli/src/main/java/org/elasticsearch/plugins/PluginCli.java, +import org.elasticsearch.core.internal.io.IOUtils;, +++ b/buildSrc/src/main/resources/forbidden/es-all-signatures.txt, +, +org.apache.lucene.util.IOUtils @ use @org.elasticsearch.core.internal.io instead, +++ b/distribution/tools/plugin-cli/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +import org.elasticsearch.core.internal.io.IOUtils;, +++ b/distribution/tools/plugin-cli/src/main/java/org/elasticsearch/plugins/PluginCli.java, +import org.elasticsearch.core.internal.io.IOUtils;, +++ b/distribution/tools/plugin-cli/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java, +import org.elasticsearch.core.internal.io.IOUtils;, +++ b/buildSrc/src/main/resources/forbidden/es-all-signatures.txt, +, +org.apache.lucene.util.IOUtils @ use @org.elasticsearch.core.internal.io instead, +++ b/distribution/tools/plugin-cli/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +import org.elasticsearch.core.internal.io.IOUtils;, +++ b/distribution/tools/plugin-cli/src/main/java/org/elasticsearch/plugins/PluginCli.java, +import org.elasticsearch.core.internal.io.IOUtils;, +++ b/distribution/tools/plugin-cli/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java, +import org.elasticsearch.core.internal.io.IOUtils;, +++ b/libs/elasticsearch-core/src/main/java/org/elasticsearch/core/internal/io/IOUtils.java, +/*, + * Licensed to the Apache Software Foundation (ASF) under one or more, + * contributor license agreements.  See the NOTICE file distributed with, + * this work for additional information regarding copyright ownership., + * The ASF licenses this file to You under the Apache License, Version 2.0, + * (the "License"); you may not use this file except in compliance with, + * the License.  You may obtain a copy of the License at, + *, + *     http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +, +package org.elasticsearch.core.internal.io;, +, +import java.io.Closeable;, +import java.io.IOException;, +import java.nio.channels.FileChannel;, +import java.nio.file.FileVisitResult;, +import java.nio.file.FileVisitor;, +import java.nio.file.Files;, +import java.nio.file.Path;, +import java.nio.file.StandardOpenOption;, +import java.nio.file.attribute.BasicFileAttributes;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.LinkedHashMap;, +import java.util.Map;, +, +/**, + * Utilities for common I/O methods. Borrowed heavily from Lucene (org.apache.lucene.util.IOUtils)., + */, +public final class IOUtils {, +, +    private IOUtils() {, +, +    }, +, +    /**, +     * Closes all given <tt>Closeable</tt>s. Some of the <tt>Closeable</tt>s may be null; they are ignored. After everything is closed, the, +     * method either throws the first exception it hit while closing, or completes normally if there were no exceptions., +     *, +     * @param objects objects to close, +     */, +    public static void close(final Closeable... objects) throws IOException {, +        close(Arrays.asList(objects));, +    }, +, +    /**, +     * Closes all given {@link Closeable}s., +     *, +     * @param objects objects to close, +     *, +     * @see #close(Closeable...), +     */, +    public static void close(final Iterable<? extends Closeable> objects) throws IOException {, +        Throwable th = null;, +, +        for (final Closeable object : objects) {, +            try {, +                if (object != null) {, +                    object.close();]