[+++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +++ b/core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +++ b/core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ b/core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java, +        String type = "doc";, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +++ b/core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ b/core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java, +        String type = "doc";, +++ b/core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +++ b/core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ b/core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java, +        String type = "doc";, +++ b/core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +++ b/core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ b/core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java, +        String type = "doc";, +++ b/core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ /dev/null, +++ b/core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java, +        context.getMapperService().merge("doc",, +                PutMappingRequest.buildFromSimplifiedDef("doc",, +        context.getMapperService().merge("doc",, +                PutMappingRequest.buildFromSimplifiedDef("doc",, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +++ b/core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ b/core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java, +        String type = "doc";, +++ b/core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ /dev/null, +++ b/core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java, +        context.getMapperService().merge("doc",, +                PutMappingRequest.buildFromSimplifiedDef("doc",, +        context.getMapperService().merge("doc",, +                PutMappingRequest.buildFromSimplifiedDef("doc",, +++ b/core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java, +        for (String field : new String[]{"field1", "field2"}) {, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +++ b/core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ b/core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java, +        String type = "doc";, +++ b/core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java, +        mapperService.merge("doc", new CompressedXContent(PutMappingRequest.buildFromSimplifiedDef("doc",, +++ /dev/null, +++ b/core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java, +        context.getMapperService().merge("doc",, +                PutMappingRequest.buildFromSimplifiedDef("doc",, +        context.getMapperService().merge("doc",, +                PutMappingRequest.buildFromSimplifiedDef("doc",, +++ b/core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java, +        for (String field : new String[]{"field1", "field2"}) {, +++ b/core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java, +import org.apache.lucene.search.MatchAllDocsQuery;, +import static org.hamcrest.Matchers.anyOf;, +import static org.hamcrest.Matchers.equalTo;, +, +, +        return new TypeQueryBuilder("doc");, +            assertThat(query,, +                anyOf(, +                    equalTo(new TypeFieldMapper.TypesQuery(new BytesRef(queryBuilder.type()))),, +                    equalTo(new MatchAllDocsQuery())), +            );, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java]