[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/fetch/FieldsParseElement.java, +import org.elasticsearch.index.mapper.FieldMapper;, +                    FieldMapper fieldMapper = context.mapperService().smartNameFieldMapper(name);, +                    if (!"*".equals(name) && (fieldMapper == null || !fieldMapper.stored())) {, +                        // script field to load from source, +                        SearchScript searchScript = new SearchScript(context.lookup(), null, "_source." + name, null, context.scriptService());, +                        context.scriptFields().add(new ScriptFieldsContext.ScriptField(name, searchScript));, +                    } else {, +            }, +                FieldMapper fieldMapper = context.mapperService().smartNameFieldMapper(name);, +                if (!"*".equals(name) && (fieldMapper == null || !fieldMapper.stored())) {, +                    // script field to load from source, +                    SearchScript searchScript = new SearchScript(context.lookup(), null, "_source." + name, null, context.scriptService());, +                    context.scriptFields().add(new ScriptFieldsContext.ScriptField(name, searchScript));, +                } else {, +}, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/fetch/FieldsParseElement.java, +import org.elasticsearch.index.mapper.FieldMapper;, +                    FieldMapper fieldMapper = context.mapperService().smartNameFieldMapper(name);, +                    if (!"*".equals(name) && (fieldMapper == null || !fieldMapper.stored())) {, +                        // script field to load from source, +                        SearchScript searchScript = new SearchScript(context.lookup(), null, "_source." + name, null, context.scriptService());, +                        context.scriptFields().add(new ScriptFieldsContext.ScriptField(name, searchScript));, +                    } else {, +            }, +                FieldMapper fieldMapper = context.mapperService().smartNameFieldMapper(name);, +                if (!"*".equals(name) && (fieldMapper == null || !fieldMapper.stored())) {, +                    // script field to load from source, +                    SearchScript searchScript = new SearchScript(context.lookup(), null, "_source." + name, null, context.scriptService());, +                    context.scriptFields().add(new ScriptFieldsContext.ScriptField(name, searchScript));, +                } else {, +}, +++ b/modules/test/integration/src/test/java/org/elasticsearch/test/integration/search/fields/SearchFieldsTests.java, +        // field2 is not stored, check that it gets extracted from source, +        assertThat(searchResponse.hits().getAt(0).fields().size(), equalTo(1));, +        assertThat(searchResponse.hits().getAt(0).fields().get("field2").value().toString(), equalTo("value2"));]