[+++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateFilter.java, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateFilter.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                                      AliasValidator aliasValidator, Environment env,, +                            List<IndexTemplateMetaData> templates = findTemplates(request, currentState);, +    private List<IndexTemplateMetaData> findTemplates(CreateIndexClusterStateUpdateRequest request, ClusterState state) throws IOException {, +            if (Regex.simpleMatch(template.template(), request.index())) {, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateFilter.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                                      AliasValidator aliasValidator, Environment env,, +                            List<IndexTemplateMetaData> templates = findTemplates(request, currentState);, +    private List<IndexTemplateMetaData> findTemplates(CreateIndexClusterStateUpdateRequest request, ClusterState state) throws IOException {, +            if (Regex.simpleMatch(template.template(), request.index())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateFilter.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                                      AliasValidator aliasValidator, Environment env,, +                            List<IndexTemplateMetaData> templates = findTemplates(request, currentState);, +    private List<IndexTemplateMetaData> findTemplates(CreateIndexClusterStateUpdateRequest request, ClusterState state) throws IOException {, +            if (Regex.simpleMatch(template.template(), request.index())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java, +++ b/core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateFilter.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                                      AliasValidator aliasValidator, Environment env,, +                            List<IndexTemplateMetaData> templates = findTemplates(request, currentState);, +    private List<IndexTemplateMetaData> findTemplates(CreateIndexClusterStateUpdateRequest request, ClusterState state) throws IOException {, +            if (Regex.simpleMatch(template.template(), request.index())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java, +++ b/core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateFilter.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                                      AliasValidator aliasValidator, Environment env,, +                            List<IndexTemplateMetaData> templates = findTemplates(request, currentState);, +    private List<IndexTemplateMetaData> findTemplates(CreateIndexClusterStateUpdateRequest request, ClusterState state) throws IOException {, +            if (Regex.simpleMatch(template.template(), request.index())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java, +++ b/core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java, +            allocationService, new AliasValidator(settings), environment,, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateFilter.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                                      AliasValidator aliasValidator, Environment env,, +                            List<IndexTemplateMetaData> templates = findTemplates(request, currentState);, +    private List<IndexTemplateMetaData> findTemplates(CreateIndexClusterStateUpdateRequest request, ClusterState state) throws IOException {, +            if (Regex.simpleMatch(template.template(), request.index())) {, +++ b/core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java, +++ b/core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java, +++ b/core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java, +            allocationService, new AliasValidator(settings), environment,, +++ /dev/null]