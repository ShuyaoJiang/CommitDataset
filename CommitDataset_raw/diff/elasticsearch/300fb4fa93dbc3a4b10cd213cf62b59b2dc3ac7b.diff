[+++ b/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import org.elasticsearch.common.transport.InetSocketTransportAddress;, +        InetSocketTransportAddress.setResolveAddress(settings.getAsBoolean("network.address.serialization.resolve", false));, +++ b/src/main/java/org/elasticsearch/common/network/NetworkService.java, +import org.elasticsearch.common.transport.InetSocketTransportAddress;, +        InetSocketTransportAddress.setResolveAddress(settings.getAsBoolean("network.address.serialization.resolve", false));, +++ b/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java, +    private static boolean resolveAddress = false;, +, +    public static void setResolveAddress(boolean resolveAddress) {, +        InetSocketTransportAddress.resolveAddress = resolveAddress;, +    }, +, +        if (!resolveAddress && address.getAddress() != null) {]