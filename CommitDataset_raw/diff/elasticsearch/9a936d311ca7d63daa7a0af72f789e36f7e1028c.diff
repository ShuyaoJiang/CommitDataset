[+++ b/buildSrc/version.properties, +elasticsearch     = 5.0.0, +++ b/buildSrc/version.properties, +elasticsearch     = 5.0.0, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_0_0_ID = 5000099;, +    public static final Version V_5_0_0 = new Version(V_5_0_0_ID, org.apache.lucene.util.Version.LUCENE_6_0_0);, +    public static final Version CURRENT = V_5_0_0;, +            case V_5_0_0_ID:, +                return V_5_0_0;, +++ b/buildSrc/version.properties, +elasticsearch     = 5.0.0, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_0_0_ID = 5000099;, +    public static final Version V_5_0_0 = new Version(V_5_0_0_ID, org.apache.lucene.util.Version.LUCENE_6_0_0);, +    public static final Version CURRENT = V_5_0_0;, +            case V_5_0_0_ID:, +                return V_5_0_0;, +++ b/core/src/main/java/org/elasticsearch/action/ActionModule.java, +import org.elasticsearch.action.admin.indices.shrink.ShrinkAction;, +import org.elasticsearch.action.admin.indices.shrink.TransportShrinkAction;, +        registerAction(ShrinkAction.INSTANCE, TransportShrinkAction.class);, +++ b/buildSrc/version.properties, +elasticsearch     = 5.0.0, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_0_0_ID = 5000099;, +    public static final Version V_5_0_0 = new Version(V_5_0_0_ID, org.apache.lucene.util.Version.LUCENE_6_0_0);, +    public static final Version CURRENT = V_5_0_0;, +            case V_5_0_0_ID:, +                return V_5_0_0;, +++ b/core/src/main/java/org/elasticsearch/action/ActionModule.java, +import org.elasticsearch.action.admin.indices.shrink.ShrinkAction;, +import org.elasticsearch.action.admin.indices.shrink.TransportShrinkAction;, +        registerAction(ShrinkAction.INSTANCE, TransportShrinkAction.class);, +++ b/core/src/main/java/org/elasticsearch/action/IndicesRequest.java, +    interface Replaceable extends IndicesRequest {, +++ b/buildSrc/version.properties, +elasticsearch     = 5.0.0, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_0_0_ID = 5000099;, +    public static final Version V_5_0_0 = new Version(V_5_0_0_ID, org.apache.lucene.util.Version.LUCENE_6_0_0);, +    public static final Version CURRENT = V_5_0_0;, +            case V_5_0_0_ID:, +                return V_5_0_0;, +++ b/core/src/main/java/org/elasticsearch/action/ActionModule.java, +import org.elasticsearch.action.admin.indices.shrink.ShrinkAction;, +import org.elasticsearch.action.admin.indices.shrink.TransportShrinkAction;, +        registerAction(ShrinkAction.INSTANCE, TransportShrinkAction.class);, +++ b/core/src/main/java/org/elasticsearch/action/IndicesRequest.java, +    interface Replaceable extends IndicesRequest {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java, +        for (RoutingNode node : routingNodes) {, +++ b/buildSrc/version.properties, +elasticsearch     = 5.0.0, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_0_0_ID = 5000099;, +    public static final Version V_5_0_0 = new Version(V_5_0_0_ID, org.apache.lucene.util.Version.LUCENE_6_0_0);, +    public static final Version CURRENT = V_5_0_0;, +            case V_5_0_0_ID:, +                return V_5_0_0;, +++ b/core/src/main/java/org/elasticsearch/action/ActionModule.java, +import org.elasticsearch.action.admin.indices.shrink.ShrinkAction;, +import org.elasticsearch.action.admin.indices.shrink.TransportShrinkAction;, +        registerAction(ShrinkAction.INSTANCE, TransportShrinkAction.class);, +++ b/core/src/main/java/org/elasticsearch/action/IndicesRequest.java, +    interface Replaceable extends IndicesRequest {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java, +        for (RoutingNode node : routingNodes) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java, +        transportService.registerRequestHandler(NAME, LivenessRequest::new, ThreadPool.Names.SAME,, +            false, false /*can not trip circuit breaker*/, this);, +++ b/buildSrc/version.properties, +elasticsearch     = 5.0.0, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_0_0_ID = 5000099;, +    public static final Version V_5_0_0 = new Version(V_5_0_0_ID, org.apache.lucene.util.Version.LUCENE_6_0_0);, +    public static final Version CURRENT = V_5_0_0;, +            case V_5_0_0_ID:, +                return V_5_0_0;, +++ b/core/src/main/java/org/elasticsearch/action/ActionModule.java, +import org.elasticsearch.action.admin.indices.shrink.ShrinkAction;, +import org.elasticsearch.action.admin.indices.shrink.TransportShrinkAction;, +        registerAction(ShrinkAction.INSTANCE, TransportShrinkAction.class);, +++ b/core/src/main/java/org/elasticsearch/action/IndicesRequest.java, +    interface Replaceable extends IndicesRequest {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java, +        for (RoutingNode node : routingNodes) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java, +        transportService.registerRequestHandler(NAME, LivenessRequest::new, ThreadPool.Names.SAME,, +            false, false /*can not trip circuit breaker*/, this);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java, +import org.elasticsearch.index.Index;, +    private Index shrinkFrom;, +    public CreateIndexClusterStateUpdateRequest(TransportMessage originalMessage, String cause, String index, boolean updateAllTypes) {, +    public CreateIndexClusterStateUpdateRequest shrinkFrom(Index shrinkFrom) {, +        this.shrinkFrom = shrinkFrom;, +        return this;, +    }, +, +    public Index shrinkFrom() {]