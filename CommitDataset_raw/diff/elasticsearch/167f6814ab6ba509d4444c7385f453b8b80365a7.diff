[+++ b/src/test/java/org/elasticsearch/alerts/condition/script/ScriptConditionSearchTests.java, +import org.elasticsearch.alerts.Alert;, +import org.elasticsearch.common.joda.time.DateTime;, +        ScriptCondition condition = new ScriptCondition(logger, scriptService, new Script("ctx.payload.aggregations.rate.buckets[0]?.doc_count >= 5"));, +        Alert alert = mock(Alert.class);, +        when(alert.name()).thenReturn("_name");, +        when(ctx.alert()).thenReturn(alert);, +        when(ctx.scheduledTime()).thenReturn(new DateTime());, +        when(ctx.fireTime()).thenReturn(new DateTime());, +        when(alert.name()).thenReturn("_name");, +        when(ctx.alert()).thenReturn(alert);, +        when(ctx.scheduledTime()).thenReturn(new DateTime());, +        when(ctx.fireTime()).thenReturn(new DateTime());, +        ScriptCondition condition = new ScriptCondition(logger, scriptService, new Script("ctx.payload.hits?.hits[0]?._score == 1.0"));, +        Alert alert = mock(Alert.class);, +        when(alert.name()).thenReturn("_name");, +        when(ctx.alert()).thenReturn(alert);, +        when(ctx.scheduledTime()).thenReturn(new DateTime());, +        when(ctx.fireTime()).thenReturn(new DateTime());]