[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +import org.elasticsearch.gradle.test.ClusterFormationTasks, +            '\\{build_type\\}' : ClusterFormationTasks.getOs().equals("windows") ? "zip" : "tar",, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +import org.elasticsearch.gradle.test.ClusterFormationTasks, +            '\\{build_type\\}' : ClusterFormationTasks.getOs().equals("windows") ? "zip" : "tar",, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +        setup = configureExtractTask(taskName(prefix, node, 'extract'), project, setup, node, distribution, config.distribution), +    static Task configureExtractTask(String name, Project project, Task setup, NodeInfo node,, +                                     Configuration configuration, String distribution) {, +            if (getOs().equals("windows") || distribution.equals("integ-test-zip")) {, +        if (Os.isFamily(Os.FAMILY_WINDOWS)) {, +        } else if (Os.isFamily(Os.FAMILY_MAC)) {, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +import org.elasticsearch.gradle.test.ClusterFormationTasks, +            '\\{build_type\\}' : ClusterFormationTasks.getOs().equals("windows") ? "zip" : "tar",, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +        setup = configureExtractTask(taskName(prefix, node, 'extract'), project, setup, node, distribution, config.distribution), +    static Task configureExtractTask(String name, Project project, Task setup, NodeInfo node,, +                                     Configuration configuration, String distribution) {, +            if (getOs().equals("windows") || distribution.equals("integ-test-zip")) {, +        if (Os.isFamily(Os.FAMILY_WINDOWS)) {, +        } else if (Os.isFamily(Os.FAMILY_MAC)) {, +++ b/docs/Versions.asciidoc, +:build_type:            tar, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +import org.elasticsearch.gradle.test.ClusterFormationTasks, +            '\\{build_type\\}' : ClusterFormationTasks.getOs().equals("windows") ? "zip" : "tar",, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +        setup = configureExtractTask(taskName(prefix, node, 'extract'), project, setup, node, distribution, config.distribution), +    static Task configureExtractTask(String name, Project project, Task setup, NodeInfo node,, +                                     Configuration configuration, String distribution) {, +            if (getOs().equals("windows") || distribution.equals("integ-test-zip")) {, +        if (Os.isFamily(Os.FAMILY_WINDOWS)) {, +        } else if (Os.isFamily(Os.FAMILY_MAC)) {, +++ b/docs/Versions.asciidoc, +:build_type:            tar, +++ b/docs/plugins/discovery-azure-classic.asciidoc, +    "build_type" : "{build_type}",, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +import org.elasticsearch.gradle.test.ClusterFormationTasks, +            '\\{build_type\\}' : ClusterFormationTasks.getOs().equals("windows") ? "zip" : "tar",, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +        setup = configureExtractTask(taskName(prefix, node, 'extract'), project, setup, node, distribution, config.distribution), +    static Task configureExtractTask(String name, Project project, Task setup, NodeInfo node,, +                                     Configuration configuration, String distribution) {, +            if (getOs().equals("windows") || distribution.equals("integ-test-zip")) {, +        if (Os.isFamily(Os.FAMILY_WINDOWS)) {, +        } else if (Os.isFamily(Os.FAMILY_MAC)) {, +++ b/docs/Versions.asciidoc, +:build_type:            tar, +++ b/docs/plugins/discovery-azure-classic.asciidoc, +    "build_type" : "{build_type}",, +++ b/docs/reference/cluster/nodes-info.asciidoc, +      "build_type": "{build_type}",, +      "build_type": "{build_type}",, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +import org.elasticsearch.gradle.test.ClusterFormationTasks, +            '\\{build_type\\}' : ClusterFormationTasks.getOs().equals("windows") ? "zip" : "tar",, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +        setup = configureExtractTask(taskName(prefix, node, 'extract'), project, setup, node, distribution, config.distribution), +    static Task configureExtractTask(String name, Project project, Task setup, NodeInfo node,, +                                     Configuration configuration, String distribution) {, +            if (getOs().equals("windows") || distribution.equals("integ-test-zip")) {, +        if (Os.isFamily(Os.FAMILY_WINDOWS)) {, +        } else if (Os.isFamily(Os.FAMILY_MAC)) {, +++ b/docs/Versions.asciidoc, +:build_type:            tar, +++ b/docs/plugins/discovery-azure-classic.asciidoc, +    "build_type" : "{build_type}",, +++ b/docs/reference/cluster/nodes-info.asciidoc, +      "build_type": "{build_type}",, +      "build_type": "{build_type}",, +++ b/docs/reference/setup/install/check-running.asciidoc, +    "build_type" : "{build_type}",]