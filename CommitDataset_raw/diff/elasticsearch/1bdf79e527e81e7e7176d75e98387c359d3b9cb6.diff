[+++ b/docs/reference/search/aggregations/bucket/terms-aggregation.asciidoc, +[[search-aggregations-bucket-terms-aggregation-script]], +==== Multi-field terms aggregation, +, +The `terms` aggregation does not support collecting terms from multiple fields, +in the same document.  The reason is that the `terms` agg doesn't collect the, +string term values themselves, but rather uses, +<<search-aggregations-bucket-terms-aggregation-execution-hint,global ordinals>>, +to produce a list of all of the unique values in the field.  Global ordinals, +results in an important performance boost which would not be possible across, +multiple fields., +, +There are two approaches that you can use to perform a `terms` agg across, +multiple fields:, +, +<<search-aggregations-bucket-terms-aggregation-script,Script>>::, +, +Use a script to retrieve terms from multiple fields.  This disables the global, +ordinals optimization and will be slower than collecting terms from a single, +field, but it gives you the flexibility to implement this option at search, +time., +, +<<copy-to,`copy_to` field>>::, +, +If you know ahead of time that you want to collect the terms from two or more, +fields, then use `copy_to` in your mapping to create a new dedicated field at, +index time which contains the values from both fields.  You can aggregate on, +this single field, which will benefit from the global ordinals optimization., +, +[[search-aggregations-bucket-terms-aggregation-execution-hint]]]