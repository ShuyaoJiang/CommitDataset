[+++ b/README.md, +The `attachment` type is provided as a plugin extension. The plugin is a simple zip file that can be downloaded and , +placed under `$ES_HOME/plugins/mapper-attachments` location. When the node will start, it will be automatically detected , +and the `attachment` type will be added., +PUT /test/person/_mapping, +PUT /test/person/1, +```, +PUT /test/person/1, +The `attachment` type not only indexes the content of the doc, but also automatically adds meta data on the attachment , +as well (when available)., +Both the meta data and the actual content are simple core type mappers (string, date, ...), thus, they can be controlled , +in the mappings. For example:, +PUT /test/person/_mapping, +In the above example, the actual content indexed is mapped under `fields` name `file`, and we decide not to index it, so , +it will only be available in the `_all` field. The other fields map to their respective metadata names, but there is no , +need to specify the `type` (like `string` or `date`) since it is already known., +, +Querying or accessing metadata, +------------------------------, +, +If you need to query on metadata fields, use the attachment field name dot the metadata field. For example:, +, +```, +DELETE /test, +PUT /test, +PUT /test/person/_mapping, +{, +  "person": {, +    "properties": {, +      "file": {, +        "type": "attachment",, +        "path": "full",, +        "fields": {, +          "content_type": {, +            "type": "string",, +            "store": true, +          }, +        }, +      }, +    }, +  }, +}, +PUT /test/person/1?refresh=true, +{, +  "file": "IkdvZCBTYXZlIHRoZSBRdWVlbiIgKGFsdGVybmF0aXZlbHkgIkdvZCBTYXZlIHRoZSBLaW5nIg==", +}, +GET /test/person/_search, +{, +  "fields": [ "file.content_type" ], , +  "query": {, +    "match": {, +      "file.content_type": "text plain", +    }, +  }, +}, +```, +, +Will give you:, +, +```, +{, +   "took": 2,, +   "timed_out": false,, +   "_shards": {, +      "total": 5,, +      "successful": 5,, +      "failed": 0, +   },, +   "hits": {, +      "total": 1,, +      "max_score": 0.16273327,, +      "hits": [, +         {, +            "_index": "test",, +            "_type": "person",, +            "_id": "1",, +            "_score": 0.16273327,, +            "fields": {, +               "file.content_type": [, +                  "text/plain; charset=ISO-8859-1", +               ], +            }, +         }, +      ], +   }, +}, +```, +By default, `100000` characters are extracted when indexing the content. This default value can be changed by setting , +the `index.mapping.attachment.indexed_chars` setting. It can also be provided on a per document indexed using the , +`_indexed_chars` parameter. `-1` can be set to extract all text, but note that all the text needs to be allowed to be , +represented in memory:, +, +```, +PUT /test/person/1, +{, +    "my_attachment" : {, +        "_indexed_chars" : -1,, +        "_content" : "... base64 encoded attachment ...", +    }, +}]