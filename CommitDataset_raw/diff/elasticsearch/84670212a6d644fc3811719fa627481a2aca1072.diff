[+++ b/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +++ b/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +++ b/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java, +import org.elasticsearch.index.cache.filter.FilterCacheStats;, +import org.elasticsearch.index.cache.id.IdCacheStats;, +    @Nullable, +    FilterCacheStats filterCache;, +, +    @Nullable, +    IdCacheStats idCache;, +, +        if (filterCache == null) {, +            if (stats.getFilterCache() != null) {, +                filterCache = new FilterCacheStats();, +                filterCache.add(stats.getFilterCache());, +            }, +        } else {, +            filterCache.add(stats.getFilterCache());, +        }, +, +        if (idCache == null) {, +            if (stats.getIdCache() != null) {, +                idCache = new IdCacheStats();, +                idCache.add(stats.getIdCache());, +            }, +        } else {, +            idCache.add(stats.getIdCache());, +        }, +    @Nullable, +    public FilterCacheStats getFilterCache() {, +        return this.filterCache;, +    }, +, +    @Nullable, +    public IdCacheStats getIdCache() {, +        return this.idCache;, +    }, +, +        if (in.readBoolean()) {, +            filterCache = FilterCacheStats.readFilterCacheStats(in);, +        }, +        if (in.readBoolean()) {, +            idCache = IdCacheStats.readIdCacheStats(in);, +        }, +        if (filterCache == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +            filterCache.writeTo(out);, +        }, +, +        if (idCache == null) {, +            out.writeBoolean(false);, +        } else {, +            out.writeBoolean(true);, +            idCache.writeTo(out);, +        }, +        if (filterCache != null) {, +            filterCache.toXContent(builder, params);, +        }, +        if (idCache != null) {, +            idCache.toXContent(builder, params);, +        }, +++ b/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java, +++ b/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java, +import org.elasticsearch.index.cache.filter.FilterCacheStats;, +import org.elasticsearch.index.cache.id.IdCacheStats;, +    @Nullable, +    FilterCacheStats filterCache;, +, +    @Nullable, +    IdCacheStats idCache;, +, +        if (filterCache == null) {, +            if (stats.getFilterCache() != null) {, +                filterCache = new FilterCacheStats();, +                filterCache.add(stats.getFilterCache());, +            }, +        } else {, +            filterCache.add(stats.getFilterCache());, +        }, +, +        if (idCache == null) {, +            if (stats.getIdCache() != null) {, +                idCache = new IdCacheStats();, +                idCache.add(stats.getIdCache());, +            }, +        } else {, +            idCache.add(stats.getIdCache());, +        }, +    @Nullable, +    public FilterCacheStats getFilterCache() {, +        return this.filterCache;, +    }, +, +    @Nullable, +    public IdCacheStats getIdCache() {, +        return this.idCache;, +    }, +]