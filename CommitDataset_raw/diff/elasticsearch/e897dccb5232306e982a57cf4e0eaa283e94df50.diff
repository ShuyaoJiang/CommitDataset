[+++ b/src/test/java/org/elasticsearch/test/InternalTestCluster.java, +        // clear all rules for mock transport services, +        for (NodeAndClient nodeAndClient : nodes.values()) {, +            TransportService transportService = nodeAndClient.node.injector().getInstance(TransportService.class);, +            if (transportService instanceof MockTransportService) {, +                ((MockTransportService) transportService).clearAllRules();, +            }, +        }, +        if (activeDisruptionScheme != null) {, +            TimeValue expectedHealingTime = activeDisruptionScheme.expectedTimeToHeal();, +            assert !client().admin().cluster().prepareHealth().setWaitForNodes("" + nodes.size()).get().isTimedOut() : "cluster failed to form after disruption was healed";, +        }]