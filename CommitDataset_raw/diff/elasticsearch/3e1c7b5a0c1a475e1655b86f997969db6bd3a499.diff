[+++ b/src/main/java/org/elasticsearch/node/Node.java, +import org.elasticsearch.Build;, +import org.elasticsearch.ElasticsearchException;, +import org.elasticsearch.ElasticsearchIllegalStateException;, +import org.elasticsearch.Version;, +import org.elasticsearch.action.ActionModule;, +import org.elasticsearch.action.bench.BenchmarkModule;, +import org.elasticsearch.cache.recycler.PageCacheRecycler;, +import org.elasticsearch.cache.recycler.PageCacheRecyclerModule;, +import org.elasticsearch.client.node.NodeClientModule;, +import org.elasticsearch.cluster.ClusterModule;, +import org.elasticsearch.cluster.ClusterNameModule;, +import org.elasticsearch.cluster.ClusterService;, +import org.elasticsearch.cluster.action.index.MappingUpdatedAction;, +import org.elasticsearch.cluster.routing.RoutingService;, +import org.elasticsearch.cluster.routing.allocation.AllocationService;, +import org.elasticsearch.common.StopWatch;, +import org.elasticsearch.common.collect.Tuple;, +import org.elasticsearch.common.component.Lifecycle;, +import org.elasticsearch.common.component.LifecycleComponent;, +import org.elasticsearch.common.compress.CompressorFactory;, +import org.elasticsearch.common.inject.Injector;, +import org.elasticsearch.common.inject.ModulesBuilder;, +import org.elasticsearch.common.lease.Releasables;, +import org.elasticsearch.common.logging.ESLogger;, +import org.elasticsearch.common.logging.Loggers;, +import org.elasticsearch.common.network.NetworkModule;, +import org.elasticsearch.common.settings.ImmutableSettings;, +import org.elasticsearch.common.settings.SettingsModule;, +import org.elasticsearch.common.util.BigArraysModule;, +import org.elasticsearch.discovery.Discovery;, +import org.elasticsearch.discovery.DiscoveryModule;, +import org.elasticsearch.discovery.DiscoveryService;, +import org.elasticsearch.env.Environment;, +import org.elasticsearch.env.EnvironmentModule;, +import org.elasticsearch.env.NodeEnvironment;, +import org.elasticsearch.env.NodeEnvironmentModule;, +import org.elasticsearch.gateway.GatewayModule;, +import org.elasticsearch.gateway.GatewayService;, +import org.elasticsearch.http.HttpServer;, +import org.elasticsearch.http.HttpServerModule;, +import org.elasticsearch.index.search.shape.ShapeModule;, +import org.elasticsearch.indices.IndicesModule;, +import org.elasticsearch.indices.IndicesService;, +import org.elasticsearch.indices.breaker.CircuitBreakerModule;, +import org.elasticsearch.indices.cache.filter.IndicesFilterCache;, +import org.elasticsearch.indices.cluster.IndicesClusterStateService;, +import org.elasticsearch.indices.fielddata.cache.IndicesFieldDataCache;, +import org.elasticsearch.indices.memory.IndexingMemoryController;, +import org.elasticsearch.indices.store.IndicesStore;, +import org.elasticsearch.indices.ttl.IndicesTTLService;, +import org.elasticsearch.monitor.MonitorModule;, +import org.elasticsearch.monitor.MonitorService;, +import org.elasticsearch.monitor.jvm.JvmInfo;, +import org.elasticsearch.node.internal.InternalSettingsPreparer;, +import org.elasticsearch.node.internal.NodeModule;, +import org.elasticsearch.percolator.PercolatorModule;, +import org.elasticsearch.percolator.PercolatorService;, +import org.elasticsearch.plugins.PluginsModule;, +import org.elasticsearch.plugins.PluginsService;, +import org.elasticsearch.repositories.RepositoriesModule;, +import org.elasticsearch.rest.RestController;, +import org.elasticsearch.rest.RestModule;, +import org.elasticsearch.river.RiversManager;, +import org.elasticsearch.river.RiversModule;, +import org.elasticsearch.script.ScriptModule;, +import org.elasticsearch.script.ScriptService;, +import org.elasticsearch.search.SearchModule;, +import org.elasticsearch.search.SearchService;, +import org.elasticsearch.snapshots.SnapshotsService;, +import org.elasticsearch.threadpool.ThreadPool;, +import org.elasticsearch.threadpool.ThreadPoolModule;, +import org.elasticsearch.transport.TransportModule;, +import org.elasticsearch.transport.TransportService;, +import org.elasticsearch.tribe.TribeModule;, +import org.elasticsearch.tribe.TribeService;, +import org.elasticsearch.watcher.ResourceWatcherModule;, +import org.elasticsearch.watcher.ResourceWatcherService;, +, +import java.io.IOException;, +import java.util.Arrays;, +import java.util.concurrent.TimeUnit;, +, +import static org.elasticsearch.common.settings.ImmutableSettings.settingsBuilder;, +public class Node implements Releasable {, +, +    private static final String CLIENT_TYPE = "node";, +    public static final String HTTP_ENABLED = "http.enabled";, +    private final Lifecycle lifecycle = new Lifecycle();, +    private final Injector injector;, +    private final Settings settings;, +    private final Environment environment;, +    private final PluginsService pluginsService;, +    private final Client client;, +, +    public Node() throws ElasticsearchException {, +        this(ImmutableSettings.Builder.EMPTY_SETTINGS, true);, +    }, +, +    public Node(Settings preparedSettings, boolean loadConfigSettings) throws ElasticsearchException {]