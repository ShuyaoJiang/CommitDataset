[+++ b/src/deb/init.d/elasticsearch, +# Required-Start:    $network $named, +# Required-Stop:     $network $named, +++ b/src/deb/init.d/elasticsearch, +# Required-Start:    $network $named, +# Required-Stop:     $network $named, +++ b/src/rpm/init.d/elasticsearch, +# Required-Start: $network $named, +# Required-Stop: $network $named, +# backwards compatibility for old config sysconfig files, pre 0.90.1, +if [ -n $USER ] && [ -z $ES_USER ] ; then , +   ES_USER=$USER, +fi, +, +    daemon --user $ES_USER --pidfile $pidfile $exec -p $pidfile -Des.default.path.home=$ES_HOME -Des.default.path.logs=$LOG_DIR -Des.default.path.data=$DATA_DIR -Des.default.path.work=$WORK_DIR -Des.default.path.conf=$CONF_DIR, +++ b/src/deb/init.d/elasticsearch, +# Required-Start:    $network $named, +# Required-Stop:     $network $named, +++ b/src/rpm/init.d/elasticsearch, +# Required-Start: $network $named, +# Required-Stop: $network $named, +# backwards compatibility for old config sysconfig files, pre 0.90.1, +if [ -n $USER ] && [ -z $ES_USER ] ; then , +   ES_USER=$USER, +fi, +, +    daemon --user $ES_USER --pidfile $pidfile $exec -p $pidfile -Des.default.path.home=$ES_HOME -Des.default.path.logs=$LOG_DIR -Des.default.path.data=$DATA_DIR -Des.default.path.work=$WORK_DIR -Des.default.path.conf=$CONF_DIR, +++ b/src/rpm/scripts/postremove, +if [ "$?" == "0" ] ; then, +if [ "$?" == "0" ] ; then, +++ b/src/deb/init.d/elasticsearch, +# Required-Start:    $network $named, +# Required-Stop:     $network $named, +++ b/src/rpm/init.d/elasticsearch, +# Required-Start: $network $named, +# Required-Stop: $network $named, +# backwards compatibility for old config sysconfig files, pre 0.90.1, +if [ -n $USER ] && [ -z $ES_USER ] ; then , +   ES_USER=$USER, +fi, +, +    daemon --user $ES_USER --pidfile $pidfile $exec -p $pidfile -Des.default.path.home=$ES_HOME -Des.default.path.logs=$LOG_DIR -Des.default.path.data=$DATA_DIR -Des.default.path.work=$WORK_DIR -Des.default.path.conf=$CONF_DIR, +++ b/src/rpm/scripts/postremove, +if [ "$?" == "0" ] ; then, +if [ "$?" == "0" ] ; then, +++ b/src/rpm/scripts/preinstall, +    useradd -r -g elasticsearch -d /usr/share/elasticsearch -s /sbin/nologin \, +++ b/src/deb/init.d/elasticsearch, +# Required-Start:    $network $named, +# Required-Stop:     $network $named, +++ b/src/rpm/init.d/elasticsearch, +# Required-Start: $network $named, +# Required-Stop: $network $named, +# backwards compatibility for old config sysconfig files, pre 0.90.1, +if [ -n $USER ] && [ -z $ES_USER ] ; then , +   ES_USER=$USER, +fi, +, +    daemon --user $ES_USER --pidfile $pidfile $exec -p $pidfile -Des.default.path.home=$ES_HOME -Des.default.path.logs=$LOG_DIR -Des.default.path.data=$DATA_DIR -Des.default.path.work=$WORK_DIR -Des.default.path.conf=$CONF_DIR, +++ b/src/rpm/scripts/postremove, +if [ "$?" == "0" ] ; then, +if [ "$?" == "0" ] ; then, +++ b/src/rpm/scripts/preinstall, +    useradd -r -g elasticsearch -d /usr/share/elasticsearch -s /sbin/nologin \, +++ b/src/rpm/sysconfig/elasticsearch, +ES_USER=elasticsearch]