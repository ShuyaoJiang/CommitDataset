[+++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java, +    FB fromXContent(QueryParseContext context) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java, +    FB fromXContent(QueryParseContext context) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/indices/IndicesService.java, +import org.elasticsearch.common.CheckedFunction;, +import org.elasticsearch.index.query.QueryBuilder;, +        CheckedFunction<byte[], QueryBuilder, IOException> filterParser = bytes -> {, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java, +    FB fromXContent(QueryParseContext context) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/indices/IndicesService.java, +import org.elasticsearch.common.CheckedFunction;, +import org.elasticsearch.index.query.QueryBuilder;, +        CheckedFunction<byte[], QueryBuilder, IOException> filterParser = bytes -> {, +++ b/core/src/main/java/org/elasticsearch/search/internal/AliasFilter.java, +import org.elasticsearch.common.CheckedFunction;, +            CheckedFunction<byte[], QueryBuilder, IOException> filterParser = bytes -> {, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java, +    FB fromXContent(QueryParseContext context) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/indices/IndicesService.java, +import org.elasticsearch.common.CheckedFunction;, +import org.elasticsearch.index.query.QueryBuilder;, +        CheckedFunction<byte[], QueryBuilder, IOException> filterParser = bytes -> {, +++ b/core/src/main/java/org/elasticsearch/search/internal/AliasFilter.java, +import org.elasticsearch.common.CheckedFunction;, +            CheckedFunction<byte[], QueryBuilder, IOException> filterParser = bytes -> {, +++ b/core/src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java, +import org.elasticsearch.common.CheckedFunction;, +    static QueryBuilder parseAliasFilter(CheckedFunction<byte[], QueryBuilder, IOException> filterParser,, +                return filterParser.apply(alias.filter().uncompressed());, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java, +    FB fromXContent(QueryParseContext context) throws IOException;, +++ b/core/src/main/java/org/elasticsearch/indices/IndicesService.java, +import org.elasticsearch.common.CheckedFunction;, +import org.elasticsearch.index.query.QueryBuilder;, +        CheckedFunction<byte[], QueryBuilder, IOException> filterParser = bytes -> {, +++ b/core/src/main/java/org/elasticsearch/search/internal/AliasFilter.java, +import org.elasticsearch.common.CheckedFunction;, +            CheckedFunction<byte[], QueryBuilder, IOException> filterParser = bytes -> {, +++ b/core/src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java, +import org.elasticsearch.common.CheckedFunction;, +    static QueryBuilder parseAliasFilter(CheckedFunction<byte[], QueryBuilder, IOException> filterParser,, +                return filterParser.apply(alias.filter().uncompressed());, +++ b/core/src/test/java/org/elasticsearch/search/internal/ShardSearchTransportRequestTests.java, +import org.elasticsearch.common.CheckedFunction;, +        CheckedFunction<byte[], QueryBuilder, IOException> filterParser = bytes -> {]