[+++ b/core/pom.xml, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java, +import java.util.Collection;, +    public ScriptContextRegistry(Collection<ScriptContext.Plugin> customScriptContexts) {, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java, +import java.util.Collection;, +    public ScriptContextRegistry(Collection<ScriptContext.Plugin> customScriptContexts) {, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java, +import java.util.Collection;, +    public ScriptContextRegistry(Collection<ScriptContext.Plugin> customScriptContexts) {, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        // TODO: fix this through some API or something, thats wrong, +        boolean expression = "expression".equals(script.getLang());, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java, +import java.util.Collection;, +    public ScriptContextRegistry(Collection<ScriptContext.Plugin> customScriptContexts) {, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        // TODO: fix this through some API or something, thats wrong, +        boolean expression = "expression".equals(script.getLang());, +++ /dev/null, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java, +import java.util.Collection;, +    public ScriptContextRegistry(Collection<ScriptContext.Plugin> customScriptContexts) {, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        // TODO: fix this through some API or something, thats wrong, +        boolean expression = "expression".equals(script.getLang());, +++ /dev/null, +++ /dev/null, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java, +import java.util.Collection;, +    public ScriptContextRegistry(Collection<ScriptContext.Plugin> customScriptContexts) {, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        // TODO: fix this through some API or something, thats wrong, +        boolean expression = "expression".equals(script.getLang());, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java, +import java.util.Collection;, +    public ScriptContextRegistry(Collection<ScriptContext.Plugin> customScriptContexts) {, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        // TODO: fix this through some API or something, thats wrong, +        boolean expression = "expression".equals(script.getLang());, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java, +import java.util.Collection;, +    public ScriptContextRegistry(Collection<ScriptContext.Plugin> customScriptContexts) {, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +        // TODO: fix this through some API or something, thats wrong, +        boolean expression = "expression".equals(script.getLang());, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +                    "lang-expression",, +++ b/core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java, +import java.util.Collection;, +    public ScriptContextRegistry(Collection<ScriptContext.Plugin> customScriptContexts) {, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java]