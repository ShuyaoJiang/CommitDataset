[+++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    ResourceWatcherService.RELOAD_INTERVAL_LOW, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    ResourceWatcherService.RELOAD_INTERVAL_LOW, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +        Settings indexSettings = settings.filter((s) -> s.startsWith("index.") && clusterSettings.get(s) == null);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    ResourceWatcherService.RELOAD_INTERVAL_LOW, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +        Settings indexSettings = settings.filter((s) -> s.startsWith("index.") && clusterSettings.get(s) == null);, +++ b/core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    ResourceWatcherService.RELOAD_INTERVAL_LOW, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +        Settings indexSettings = settings.filter((s) -> s.startsWith("index.") && clusterSettings.get(s) == null);, +++ b/core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +        BooleanQuery.setMaxClauseCount(settings.getAsInt("index.query.bool.max_clause_count",, +                settings.getAsInt("indices.query.bool.max_clause_count", BooleanQuery.getMaxClauseCount())));, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    ResourceWatcherService.RELOAD_INTERVAL_LOW, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +        Settings indexSettings = settings.filter((s) -> s.startsWith("index.") && clusterSettings.get(s) == null);, +++ b/core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +        BooleanQuery.setMaxClauseCount(settings.getAsInt("index.query.bool.max_clause_count",, +                settings.getAsInt("indices.query.bool.max_clause_count", BooleanQuery.getMaxClauseCount())));, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    ResourceWatcherService.RELOAD_INTERVAL_LOW, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +        Settings indexSettings = settings.filter((s) -> s.startsWith("index.") && clusterSettings.get(s) == null);, +++ b/core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +        BooleanQuery.setMaxClauseCount(settings.getAsInt("index.query.bool.max_clause_count",, +                settings.getAsInt("indices.query.bool.max_clause_count", BooleanQuery.getMaxClauseCount())));, +++ /dev/null, +++ b/core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreContainerTests.java, +import org.elasticsearch.test.ESBlobStoreContainerTestCase;, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    ResourceWatcherService.RELOAD_INTERVAL_LOW, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +        Settings indexSettings = settings.filter((s) -> s.startsWith("index.") && clusterSettings.get(s) == null);, +++ b/core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +        BooleanQuery.setMaxClauseCount(settings.getAsInt("index.query.bool.max_clause_count",, +                settings.getAsInt("indices.query.bool.max_clause_count", BooleanQuery.getMaxClauseCount())));, +++ /dev/null, +++ b/core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreContainerTests.java, +import org.elasticsearch.test.ESBlobStoreContainerTestCase;, +++ b/core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreTests.java, +import org.elasticsearch.test.ESBlobStoreTestCase;, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    ResourceWatcherService.RELOAD_INTERVAL_LOW, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +        Settings indexSettings = settings.filter((s) -> s.startsWith("index.") && clusterSettings.get(s) == null);, +++ b/core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +        BooleanQuery.setMaxClauseCount(settings.getAsInt("index.query.bool.max_clause_count",, +                settings.getAsInt("indices.query.bool.max_clause_count", BooleanQuery.getMaxClauseCount())));, +++ /dev/null, +++ b/core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreContainerTests.java, +import org.elasticsearch.test.ESBlobStoreContainerTestCase;, +++ b/core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreTests.java, +import org.elasticsearch.test.ESBlobStoreTestCase;, +++ b/core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +                                if (newMapper.parentFieldMapper().type().equals(mapping.value.type())) {, +                                    throw new IllegalArgumentException("can't add a _parent field that points to an already existing type");, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    ResourceWatcherService.RELOAD_INTERVAL_LOW, +++ b/core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java, +        Settings indexSettings = settings.filter((s) -> s.startsWith("index.") && clusterSettings.get(s) == null);]