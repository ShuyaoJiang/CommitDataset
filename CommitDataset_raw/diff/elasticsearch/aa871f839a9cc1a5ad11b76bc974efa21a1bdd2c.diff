[+++ b/Vagrantfile, +    cat \<\<SUDOERS_VARS > /etc/sudoers.d/elasticsearch_vars, +Defaults   env_keep += "ZIP", +Defaults   env_keep += "TAR", +Defaults   env_keep += "RPM", +Defaults   env_keep += "DEB", +Defaults   env_keep += "BATS", +Defaults   env_keep += "BATS_UTILS", +Defaults   env_keep += "BATS_TESTS", +Defaults   env_keep += "BATS_ARCHIVES", +SUDOERS_VARS, +++ b/Vagrantfile, +    cat \<\<SUDOERS_VARS > /etc/sudoers.d/elasticsearch_vars, +Defaults   env_keep += "ZIP", +Defaults   env_keep += "TAR", +Defaults   env_keep += "RPM", +Defaults   env_keep += "DEB", +Defaults   env_keep += "BATS", +Defaults   env_keep += "BATS_UTILS", +Defaults   env_keep += "BATS_TESTS", +Defaults   env_keep += "BATS_ARCHIVES", +SUDOERS_VARS, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/vagrant/VagrantTestPlugin.groovy, +    private static final String BATS_TEST_COMMAND ="cd \$BATS_ARCHIVES && sudo bats --tap \$BATS_TESTS/*.$BATS", +++ b/Vagrantfile, +    cat \<\<SUDOERS_VARS > /etc/sudoers.d/elasticsearch_vars, +Defaults   env_keep += "ZIP", +Defaults   env_keep += "TAR", +Defaults   env_keep += "RPM", +Defaults   env_keep += "DEB", +Defaults   env_keep += "BATS", +Defaults   env_keep += "BATS_UTILS", +Defaults   env_keep += "BATS_TESTS", +Defaults   env_keep += "BATS_ARCHIVES", +SUDOERS_VARS, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/vagrant/VagrantTestPlugin.groovy, +    private static final String BATS_TEST_COMMAND ="cd \$BATS_ARCHIVES && sudo bats --tap \$BATS_TESTS/*.$BATS", +++ b/core/src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java, +++ b/Vagrantfile, +    cat \<\<SUDOERS_VARS > /etc/sudoers.d/elasticsearch_vars, +Defaults   env_keep += "ZIP", +Defaults   env_keep += "TAR", +Defaults   env_keep += "RPM", +Defaults   env_keep += "DEB", +Defaults   env_keep += "BATS", +Defaults   env_keep += "BATS_UTILS", +Defaults   env_keep += "BATS_TESTS", +Defaults   env_keep += "BATS_ARCHIVES", +SUDOERS_VARS, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/vagrant/VagrantTestPlugin.groovy, +    private static final String BATS_TEST_COMMAND ="cd \$BATS_ARCHIVES && sudo bats --tap \$BATS_TESTS/*.$BATS", +++ b/core/src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/UnicastZenPing.java, +import org.elasticsearch.common.lease.Releasable;, +import org.elasticsearch.common.lease.Releasables;, +import java.io.IOException;, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.HashSet;, +import java.util.List;, +import java.util.Map;, +import java.util.Queue;, +import java.util.Set;, +import java.util.concurrent.CountDownLatch;, +import java.util.concurrent.ExecutorService;, +import java.util.concurrent.RejectedExecutionException;, +import java.util.concurrent.ThreadFactory;, +import java.util.concurrent.TimeUnit;, +import java.util.concurrent.atomic.AtomicBoolean;, +import java.util.concurrent.atomic.AtomicInteger;, +import java.util.concurrent.atomic.AtomicReference;, +import java.util.function.Function;, +, +    public void close() {, +        Releasables.close(receivedResponses.values());, +    class SendPingsHandler implements Releasable {, +++ b/Vagrantfile, +    cat \<\<SUDOERS_VARS > /etc/sudoers.d/elasticsearch_vars, +Defaults   env_keep += "ZIP", +Defaults   env_keep += "TAR", +Defaults   env_keep += "RPM", +Defaults   env_keep += "DEB", +Defaults   env_keep += "BATS", +Defaults   env_keep += "BATS_UTILS", +Defaults   env_keep += "BATS_TESTS", +Defaults   env_keep += "BATS_ARCHIVES", +SUDOERS_VARS, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/vagrant/VagrantTestPlugin.groovy, +    private static final String BATS_TEST_COMMAND ="cd \$BATS_ARCHIVES && sudo bats --tap \$BATS_TESTS/*.$BATS", +++ b/core/src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/UnicastZenPing.java, +import org.elasticsearch.common.lease.Releasable;, +import org.elasticsearch.common.lease.Releasables;, +import java.io.IOException;, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.HashSet;, +import java.util.List;]