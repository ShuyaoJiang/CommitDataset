[+++ b/src/main/java/org/elasticsearch/common/util/concurrent/EsAbortPolicy.java, +        StringBuilder sb = new StringBuilder("rejected execution ");, +        if (executor.isShutdown()) {, +            sb.append("(shutting down) ");, +        } else {, +            if (executor.getQueue() instanceof SizeBlockingQueue) {, +                sb.append("(queue capacity ").append(((SizeBlockingQueue) executor.getQueue()).capacity()).append(") ");, +            }, +        }, +        sb.append("on ").append(r.toString());, +        throw new EsRejectedExecutionException(sb.toString());, +++ b/src/main/java/org/elasticsearch/common/util/concurrent/EsAbortPolicy.java, +        StringBuilder sb = new StringBuilder("rejected execution ");, +        if (executor.isShutdown()) {, +            sb.append("(shutting down) ");, +        } else {, +            if (executor.getQueue() instanceof SizeBlockingQueue) {, +                sb.append("(queue capacity ").append(((SizeBlockingQueue) executor.getQueue()).capacity()).append(") ");, +            }, +        }, +        sb.append("on ").append(r.toString());, +        throw new EsRejectedExecutionException(sb.toString());, +++ b/src/main/java/org/elasticsearch/common/util/concurrent/SizeBlockingQueue.java, +    public int capacity() {, +        return this.capacity;, +    }, +]