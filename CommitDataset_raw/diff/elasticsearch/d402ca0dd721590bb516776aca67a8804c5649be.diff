[+++ b/core/src/main/java/org/elasticsearch/search/fetch/FetchSearchResult.java, +import org.elasticsearch.search.SearchHit;, +        assert assertNoSearchTarget(hits);, +    private boolean assertNoSearchTarget(InternalSearchHits hits) {, +        for (SearchHit hit : hits.hits()) {, +            assert hit.getShard() == null : "expected null but got: " + hit.getShard();, +        }, +        return true;, +    }, +, +        hits = InternalSearchHits.readSearchHits(in);, +        hits.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/fetch/FetchSearchResult.java, +import org.elasticsearch.search.SearchHit;, +        assert assertNoSearchTarget(hits);, +    private boolean assertNoSearchTarget(InternalSearchHits hits) {, +        for (SearchHit hit : hits.hits()) {, +            assert hit.getShard() == null : "expected null but got: " + hit.getShard();, +        }, +        return true;, +    }, +, +        hits = InternalSearchHits.readSearchHits(in);, +        hits.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java, +    public static InternalSearchHit readSearchHit(StreamInput in) throws IOException {, +        hit.readFrom(in);, +        shard = in.readOptionalWriteable(SearchShardTarget::new);, +                InternalSearchHits value = InternalSearchHits.readSearchHits(in);, +        out.writeOptionalWriteable(shard);, +                entry.getValue().writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/fetch/FetchSearchResult.java, +import org.elasticsearch.search.SearchHit;, +        assert assertNoSearchTarget(hits);, +    private boolean assertNoSearchTarget(InternalSearchHits hits) {, +        for (SearchHit hit : hits.hits()) {, +            assert hit.getShard() == null : "expected null but got: " + hit.getShard();, +        }, +        return true;, +    }, +, +        hits = InternalSearchHits.readSearchHits(in);, +        hits.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java, +    public static InternalSearchHit readSearchHit(StreamInput in) throws IOException {, +        hit.readFrom(in);, +        shard = in.readOptionalWriteable(SearchShardTarget::new);, +                InternalSearchHits value = InternalSearchHits.readSearchHits(in);, +        out.writeOptionalWriteable(shard);, +                entry.getValue().writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java, +                hits[i] = readSearchHit(in);, +                hit.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/fetch/FetchSearchResult.java, +import org.elasticsearch.search.SearchHit;, +        assert assertNoSearchTarget(hits);, +    private boolean assertNoSearchTarget(InternalSearchHits hits) {, +        for (SearchHit hit : hits.hits()) {, +            assert hit.getShard() == null : "expected null but got: " + hit.getShard();, +        }, +        return true;, +    }, +, +        hits = InternalSearchHits.readSearchHits(in);, +        hits.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java, +    public static InternalSearchHit readSearchHit(StreamInput in) throws IOException {, +        hit.readFrom(in);, +        shard = in.readOptionalWriteable(SearchShardTarget::new);, +                InternalSearchHits value = InternalSearchHits.readSearchHits(in);, +        out.writeOptionalWriteable(shard);, +                entry.getValue().writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java, +                hits[i] = readSearchHit(in);, +                hit.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestion.java, +                    this.hit = InternalSearchHit.readSearchHit(in);, +                    hit.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/fetch/FetchSearchResult.java, +import org.elasticsearch.search.SearchHit;, +        assert assertNoSearchTarget(hits);, +    private boolean assertNoSearchTarget(InternalSearchHits hits) {, +        for (SearchHit hit : hits.hits()) {, +            assert hit.getShard() == null : "expected null but got: " + hit.getShard();, +        }, +        return true;, +    }, +, +        hits = InternalSearchHits.readSearchHits(in);, +        hits.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java, +    public static InternalSearchHit readSearchHit(StreamInput in) throws IOException {, +        hit.readFrom(in);, +        shard = in.readOptionalWriteable(SearchShardTarget::new);, +                InternalSearchHits value = InternalSearchHits.readSearchHits(in);, +        out.writeOptionalWriteable(shard);, +                entry.getValue().writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java, +                hits[i] = readSearchHit(in);, +                hit.writeTo(out);]