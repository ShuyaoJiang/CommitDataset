[+++ b/src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java, +public class ContextAndHeaderHolder implements HasContextAndHeaders {, +    public final void putHeader(String key, Object value) {, +++ b/src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java, +public class ContextAndHeaderHolder implements HasContextAndHeaders {, +    public final void putHeader(String key, Object value) {, +++ b/src/main/java/org/elasticsearch/common/HasHeaders.java, +    <V> void putHeader(String key, V value);, +++ b/src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java, +public class ContextAndHeaderHolder implements HasContextAndHeaders {, +    public final void putHeader(String key, Object value) {, +++ b/src/main/java/org/elasticsearch/common/HasHeaders.java, +    <V> void putHeader(String key, V value);, +++ b/src/main/java/org/elasticsearch/percolator/PercolateContext.java, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +    public <V> void putHeader(String key, V value) {, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +++ b/src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java, +public class ContextAndHeaderHolder implements HasContextAndHeaders {, +    public final void putHeader(String key, Object value) {, +++ b/src/main/java/org/elasticsearch/common/HasHeaders.java, +    <V> void putHeader(String key, V value);, +++ b/src/main/java/org/elasticsearch/percolator/PercolateContext.java, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +    public <V> void putHeader(String key, V value) {, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +++ b/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java, +    public <V> void putHeader(String key, V value) {, +        request.putHeader(key, value);, +++ b/src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java, +public class ContextAndHeaderHolder implements HasContextAndHeaders {, +    public final void putHeader(String key, Object value) {, +++ b/src/main/java/org/elasticsearch/common/HasHeaders.java, +    <V> void putHeader(String key, V value);, +++ b/src/main/java/org/elasticsearch/percolator/PercolateContext.java, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +    public <V> void putHeader(String key, V value) {, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +++ b/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java, +    public <V> void putHeader(String key, V value) {, +        request.putHeader(key, value);, +++ b/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java, +    public <V> void putHeader(String key, V value) {, +        in.putHeader(key, value);, +++ b/src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java, +public class ContextAndHeaderHolder implements HasContextAndHeaders {, +    public final void putHeader(String key, Object value) {, +++ b/src/main/java/org/elasticsearch/common/HasHeaders.java, +    <V> void putHeader(String key, V value);, +++ b/src/main/java/org/elasticsearch/percolator/PercolateContext.java, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +    public <V> void putHeader(String key, V value) {, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +++ b/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java, +    public <V> void putHeader(String key, V value) {, +        request.putHeader(key, value);, +++ b/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java, +    public <V> void putHeader(String key, V value) {, +        in.putHeader(key, value);, +++ b/src/main/java/org/elasticsearch/transport/TransportMessage.java, +public abstract class TransportMessage<TM extends TransportMessage<TM>> extends ContextAndHeaderHolder implements Streamable {, +        copyContextAndHeadersFrom(message);, +++ b/src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java, +public class ContextAndHeaderHolder implements HasContextAndHeaders {, +    public final void putHeader(String key, Object value) {, +++ b/src/main/java/org/elasticsearch/common/HasHeaders.java, +    <V> void putHeader(String key, V value);, +++ b/src/main/java/org/elasticsearch/percolator/PercolateContext.java, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +    public <V> void putHeader(String key, V value) {, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +        assert false : "percolatecontext does not support contexts & headers";, +++ b/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java, +    public <V> void putHeader(String key, V value) {, +        request.putHeader(key, value);, +++ b/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java, +    public <V> void putHeader(String key, V value) {, +        in.putHeader(key, value);, +++ b/src/main/java/org/elasticsearch/transport/TransportMessage.java, +public abstract class TransportMessage<TM extends TransportMessage<TM>> extends ContextAndHeaderHolder implements Streamable {, +        copyContextAndHeadersFrom(message);, +++ b/src/test/java/org/elasticsearch/test/TestSearchContext.java, +    public <V> void putHeader(String key, V value) {}, +++ b/src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java, +public class ContextAndHeaderHolder implements HasContextAndHeaders {, +    public final void putHeader(String key, Object value) {]