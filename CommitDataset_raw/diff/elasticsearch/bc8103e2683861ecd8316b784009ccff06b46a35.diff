[+++ b/dev-tools/checkstyle_suppressions.xml, +++ b/dev-tools/checkstyle_suppressions.xml, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +        return Objects.equals(location(), location) ? this : clone(location, name(), dataType(), qualifier(),, +                nullable(), id(), synthetic());, +        return Objects.equals(qualifier(), qualifier) ? this : clone(location(), name(), dataType(), qualifier,, +                nullable(), id(), synthetic());, +        return Objects.equals(name(), name) ? this : clone(location(), name, dataType(), qualifier(), nullable(),, +                id(), synthetic());, +        return Objects.equals(nullable(), nullable) ? this : clone(location(), name(), dataType(), qualifier(),, +                nullable, id(), synthetic());, +        return Objects.equals(id(), id) ? this : clone(location(), name(), dataType(), qualifier(), nullable(),, +                id, synthetic());, +    protected abstract Attribute clone(Location location, String name, DataType dataType, String qualifier,, +            boolean nullable, ExpressionId id, boolean synthetic);, +++ b/dev-tools/checkstyle_suppressions.xml, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +        return Objects.equals(location(), location) ? this : clone(location, name(), dataType(), qualifier(),, +                nullable(), id(), synthetic());, +        return Objects.equals(qualifier(), qualifier) ? this : clone(location(), name(), dataType(), qualifier,, +                nullable(), id(), synthetic());, +        return Objects.equals(name(), name) ? this : clone(location(), name, dataType(), qualifier(), nullable(),, +                id(), synthetic());, +        return Objects.equals(nullable(), nullable) ? this : clone(location(), name(), dataType(), qualifier(),, +                nullable, id(), synthetic());, +        return Objects.equals(id(), id) ? this : clone(location(), name(), dataType(), qualifier(), nullable(),, +                id, synthetic());, +    protected abstract Attribute clone(Location location, String name, DataType dataType, String qualifier,, +            boolean nullable, ExpressionId id, boolean synthetic);, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/ExpressionIdGenerator.java, +//TODO: this class is thread-safe but used across multiple sessions might cause the, +// id to roll over and potentially generate an already assigned id, +++ b/dev-tools/checkstyle_suppressions.xml, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +        return Objects.equals(location(), location) ? this : clone(location, name(), dataType(), qualifier(),, +                nullable(), id(), synthetic());, +        return Objects.equals(qualifier(), qualifier) ? this : clone(location(), name(), dataType(), qualifier,, +                nullable(), id(), synthetic());, +        return Objects.equals(name(), name) ? this : clone(location(), name, dataType(), qualifier(), nullable(),, +                id(), synthetic());, +        return Objects.equals(nullable(), nullable) ? this : clone(location(), name(), dataType(), qualifier(),, +                nullable, id(), synthetic());, +        return Objects.equals(id(), id) ? this : clone(location(), name(), dataType(), qualifier(), nullable(),, +                id, synthetic());, +    protected abstract Attribute clone(Location location, String name, DataType dataType, String qualifier,, +            boolean nullable, ExpressionId id, boolean synthetic);, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/ExpressionIdGenerator.java, +//TODO: this class is thread-safe but used across multiple sessions might cause the, +// id to roll over and potentially generate an already assigned id, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/FieldAttribute.java, +    protected Attribute clone(Location location, String name, DataType dataType, String qualifier, boolean nullable,, +            ExpressionId id, boolean synthetic) {, +++ b/dev-tools/checkstyle_suppressions.xml, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +        return Objects.equals(location(), location) ? this : clone(location, name(), dataType(), qualifier(),, +                nullable(), id(), synthetic());, +        return Objects.equals(qualifier(), qualifier) ? this : clone(location(), name(), dataType(), qualifier,, +                nullable(), id(), synthetic());, +        return Objects.equals(name(), name) ? this : clone(location(), name, dataType(), qualifier(), nullable(),, +                id(), synthetic());, +        return Objects.equals(nullable(), nullable) ? this : clone(location(), name(), dataType(), qualifier(),, +                nullable, id(), synthetic());, +        return Objects.equals(id(), id) ? this : clone(location(), name(), dataType(), qualifier(), nullable(),, +                id, synthetic());, +    protected abstract Attribute clone(Location location, String name, DataType dataType, String qualifier,, +            boolean nullable, ExpressionId id, boolean synthetic);, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/ExpressionIdGenerator.java, +//TODO: this class is thread-safe but used across multiple sessions might cause the, +// id to roll over and potentially generate an already assigned id, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/FieldAttribute.java, +    protected Attribute clone(Location location, String name, DataType dataType, String qualifier, boolean nullable,, +            ExpressionId id, boolean synthetic) {, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/LiteralAttribute.java, +    protected LiteralAttribute clone(Location location, String name, DataType dataType, String qualifier, boolean nullable,, +            ExpressionId id, boolean synthetic) {, +++ b/dev-tools/checkstyle_suppressions.xml, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +        return Objects.equals(location(), location) ? this : clone(location, name(), dataType(), qualifier(),, +                nullable(), id(), synthetic());, +        return Objects.equals(qualifier(), qualifier) ? this : clone(location(), name(), dataType(), qualifier,, +                nullable(), id(), synthetic());, +        return Objects.equals(name(), name) ? this : clone(location(), name, dataType(), qualifier(), nullable(),, +                id(), synthetic());, +        return Objects.equals(nullable(), nullable) ? this : clone(location(), name(), dataType(), qualifier(),, +                nullable, id(), synthetic());, +        return Objects.equals(id(), id) ? this : clone(location(), name(), dataType(), qualifier(), nullable(),, +                id, synthetic());, +    protected abstract Attribute clone(Location location, String name, DataType dataType, String qualifier,, +            boolean nullable, ExpressionId id, boolean synthetic);, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/ExpressionIdGenerator.java, +//TODO: this class is thread-safe but used across multiple sessions might cause the, +// id to roll over and potentially generate an already assigned id, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/FieldAttribute.java, +    protected Attribute clone(Location location, String name, DataType dataType, String qualifier, boolean nullable,, +            ExpressionId id, boolean synthetic) {, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/LiteralAttribute.java, +    protected LiteralAttribute clone(Location location, String name, DataType dataType, String qualifier, boolean nullable,, +            ExpressionId id, boolean synthetic) {, +++ b/sql/server/src/main/java/org/elasticsearch/xpack/sql/expression/TypedAttribute.java, +    protected TypedAttribute(Location location, String name, DataType dataType, String qualifier, boolean nullable,]