[+++ b/src/main/java/org/elasticsearch/gateway/local/LocalGatewayAllocator.java, +                } else if ("one".equals(initialShards)) {, +                    requiredAllocation = 1;, +                } else if ("full".equals(initialShards) || "all".equals(initialShards)) {, +                } else if ("full-1".equals(initialShards) || "all-1".equals(initialShards)) {, +++ b/src/main/java/org/elasticsearch/gateway/local/LocalGatewayAllocator.java, +                } else if ("one".equals(initialShards)) {, +                    requiredAllocation = 1;, +                } else if ("full".equals(initialShards) || "all".equals(initialShards)) {, +                } else if ("full-1".equals(initialShards) || "all-1".equals(initialShards)) {, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java, +++ b/src/main/java/org/elasticsearch/gateway/local/LocalGatewayAllocator.java, +                } else if ("one".equals(initialShards)) {, +                    requiredAllocation = 1;, +                } else if ("full".equals(initialShards) || "all".equals(initialShards)) {, +                } else if ("full-1".equals(initialShards) || "all-1".equals(initialShards)) {, +++ b/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java, +++ b/src/test/java/org/elasticsearch/test/integration/ttl/SimpleTTLTests.java, +        // Index one doc without routing and one doc with routing]