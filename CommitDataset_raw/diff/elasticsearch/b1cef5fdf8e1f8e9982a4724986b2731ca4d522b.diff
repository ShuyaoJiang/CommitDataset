[+++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_1_2_ID_UNRELEASED = 5010299;, +    public static final Version V_5_1_2_UNRELEASED = new Version(V_5_1_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +            case V_5_1_2_ID_UNRELEASED:, +                return V_5_1_2_UNRELEASED;, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_1_2_ID_UNRELEASED = 5010299;, +    public static final Version V_5_1_2_UNRELEASED = new Version(V_5_1_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +            case V_5_1_2_ID_UNRELEASED:, +                return V_5_1_2_UNRELEASED;, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java, +        private final Throwable cause;, +        public Failure(String index, String type, String id, Throwable cause) {, +        public Throwable getCause() {, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_1_2_ID_UNRELEASED = 5010299;, +    public static final Version V_5_1_2_UNRELEASED = new Version(V_5_1_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +            case V_5_1_2_ID_UNRELEASED:, +                return V_5_1_2_UNRELEASED;, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java, +        private final Throwable cause;, +        public Failure(String index, String type, String id, Throwable cause) {, +        public Throwable getCause() {, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +import java.util.HashSet;, +import java.util.Set;, +    private final Set<String> indices = new HashSet<>();, +        indices.add(request.index());, +        indices.add(request.index());, +        indices.add(request.index());, +        indices.add(request.index());, +, +    @Override, +    public String getDescription() {, +        return "requests[" + requests.size() + "], indices[" + Strings.collectionToDelimitedString(indices, ", ") + "]";, +    }, +, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_1_2_ID_UNRELEASED = 5010299;, +    public static final Version V_5_1_2_UNRELEASED = new Version(V_5_1_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +            case V_5_1_2_ID_UNRELEASED:, +                return V_5_1_2_UNRELEASED;, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java, +        private final Throwable cause;, +        public Failure(String index, String type, String id, Throwable cause) {, +        public Throwable getCause() {, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +import java.util.HashSet;, +import java.util.Set;, +    private final Set<String> indices = new HashSet<>();, +        indices.add(request.index());, +        indices.add(request.index());, +        indices.add(request.index());, +        indices.add(request.index());, +, +    @Override, +    public String getDescription() {, +        return "requests[" + requests.size() + "], indices[" + Strings.collectionToDelimitedString(indices, ", ") + "]";, +    }, +, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java, +    public String getDescription() {, +        return "requests[" + items.length + "], index[" + index + "]";, +    }, +, +    @Override, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_5_1_2_ID_UNRELEASED = 5010299;, +    public static final Version V_5_1_2_UNRELEASED = new Version(V_5_1_2_ID_UNRELEASED, org.apache.lucene.util.Version.LUCENE_6_3_0);, +            case V_5_1_2_ID_UNRELEASED:, +                return V_5_1_2_UNRELEASED;, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java, +        private final Throwable cause;, +        public Failure(String index, String type, String id, Throwable cause) {, +        public Throwable getCause() {, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +import java.util.HashSet;, +import java.util.Set;, +    private final Set<String> indices = new HashSet<>();, +        indices.add(request.index());, +        indices.add(request.index());, +        indices.add(request.index());, +        indices.add(request.index());, +, +    @Override, +    public String getDescription() {, +        return "requests[" + requests.size() + "], indices[" + Strings.collectionToDelimitedString(indices, ", ") + "]";, +    }, +, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java, +    public String getDescription() {, +        return "requests[" + items.length + "], index[" + index + "]";, +    }, +, +    @Override, +++ b/core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java, +                                try {, +                                } catch (Exception e) {, +                                    listener.onFailure(e);, +                                }]