[+++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/AttachmentProcessorFactoryTests.java, +import static org.hamcrest.Matchers.containsString;, +            assertThat(e.getMessage(), containsString("[fields] illegal field option [invalid]"));, +            // ensure allowed fields are mentioned, +            for (AttachmentProcessor.Field field : AttachmentProcessor.Field.values()) {, +                assertThat(e.getMessage(), containsString(field.name()));, +            }]