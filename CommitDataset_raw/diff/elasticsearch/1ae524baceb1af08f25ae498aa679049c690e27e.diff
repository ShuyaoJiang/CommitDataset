[+++ b/plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/RetryHttpInitializerWrapperTests.java, +import static org.hamcrest.Matchers.lessThan;, +        int maxWaitTime = 10;, +        int maxRetryTimes = 50;, +                new FailThenSuccessBackoffTransport(HttpStatusCodes.STATUS_CODE_SERVER_ERROR, maxRetryTimes);, +                Thread.sleep(maxWaitTime);, +        RetryHttpInitializerWrapper retryHttpInitializerWrapper = new RetryHttpInitializerWrapper(credential, oneTimeSleeper, maxWaitTime);, +            assertThat(oneTimeSleeper.getCount(), lessThan(maxRetryTimes));]