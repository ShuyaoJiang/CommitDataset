[+++ b/docs/build.gradle, +            {"name": "The Hitchhiker's Guide to the Galaxy", "author": "Douglas Adams", "release_date": "1979-10-12", "page_count": 180}, +++ b/docs/build.gradle, +            {"name": "The Hitchhiker's Guide to the Galaxy", "author": "Douglas Adams", "release_date": "1979-10-12", "page_count": 180}, +++ b/docs/en/sql/endpoints/sql-rest.asciidoc, +[[sql-rest-filtering]], +, +You can filter the results that SQL will run on using a standard, +Elasticsearch query DSL by specifying the query in the filter, +parameter., +, +[source,js], +--------------------------------------------------, +POST /_sql, +{, +    "query": "SELECT * FROM library ORDER BY page_count DESC",, +    "filter": {, +        "range": {, +            "page_count": {, +                "gte" : 100,, +                "lte" : 200, +            }, +        }, +    },, +    "fetch_size": 5, +}, +--------------------------------------------------, +// CONSOLE, +// TEST[setup:library], +, +Which returns:, +, +[source,js], +--------------------------------------------------, +{, +    "columns": [, +        {"name": "author",       "type": "keyword"},, +        {"name": "name",         "type": "keyword"},, +        {"name": "page_count",   "type": "short"},, +        {"name": "release_date", "type": "date"}, +    ],, +    "size": 1,, +    "rows": [, +        ["Douglas Adams",  "The Hitchhiker's Guide to the Galaxy",       180, 308534400000], +    ], +}, +--------------------------------------------------, +// TESTRESPONSE, +, +++ b/docs/build.gradle, +            {"name": "The Hitchhiker's Guide to the Galaxy", "author": "Douglas Adams", "release_date": "1979-10-12", "page_count": 180}, +++ b/docs/en/sql/endpoints/sql-rest.asciidoc, +[[sql-rest-filtering]], +, +You can filter the results that SQL will run on using a standard, +Elasticsearch query DSL by specifying the query in the filter, +parameter., +, +[source,js], +--------------------------------------------------, +POST /_sql, +{, +    "query": "SELECT * FROM library ORDER BY page_count DESC",, +    "filter": {, +        "range": {, +            "page_count": {, +                "gte" : 100,, +                "lte" : 200, +            }, +        }, +    },, +    "fetch_size": 5, +}, +--------------------------------------------------, +// CONSOLE, +// TEST[setup:library], +, +Which returns:, +, +[source,js], +--------------------------------------------------, +{, +    "columns": [, +        {"name": "author",       "type": "keyword"},, +        {"name": "name",         "type": "keyword"},, +        {"name": "page_count",   "type": "short"},, +        {"name": "release_date", "type": "date"}, +    ],, +    "size": 1,, +    "rows": [, +        ["Douglas Adams",  "The Hitchhiker's Guide to the Galaxy",       180, 308534400000], +    ], +}, +--------------------------------------------------, +// TESTRESPONSE, +, +++ b/qa/sql/src/main/java/org/elasticsearch/xpack/qa/sql/rest/RestSqlTestCase.java, +    private Map<String, Object> runSql(String sql, String filter, String suffix) throws IOException {, +        return runSql(suffix, new StringEntity("{\"query\":\"" + sql + "\", \"filter\":" + filter + "}", ContentType.APPLICATION_JSON));, +    }]