[+++ b/server/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +        new ActionRunnable<>(listener) {, +                ActionListener.completeWith(listener,, +                    () -> new WritePrimaryResult<>(, +                        context.getBulkShardRequest(), context.buildShardResponse(), context.getLocationToSync(), null,, +                        context.getPrimary(), logger));, +++ b/server/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +        new ActionRunnable<>(listener) {, +                ActionListener.completeWith(listener,, +                    () -> new WritePrimaryResult<>(, +                        context.getBulkShardRequest(), context.buildShardResponse(), context.getLocationToSync(), null,, +                        context.getPrimary(), logger));, +++ b/x-pack/plugin/ml/src/test/java/org/elasticsearch/xpack/ml/integration/AnnotationIndexIT.java]