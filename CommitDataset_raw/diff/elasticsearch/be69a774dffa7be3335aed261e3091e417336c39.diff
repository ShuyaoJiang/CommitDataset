[+++ b/server/src/main/java/org/elasticsearch/index/search/QueryStringQueryParser.java, +            if (q != null) {, +        }, +        if (queries.isEmpty()) {, +            return null;, +        } else if (queries.size() == 1) {, +            return null;, +++ b/server/src/main/java/org/elasticsearch/index/search/QueryStringQueryParser.java, +            if (q != null) {, +        }, +        if (queries.isEmpty()) {, +            return null;, +        } else if (queries.size() == 1) {, +            return null;, +++ b/server/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java, +    public void testAnalyzedPrefix() throws Exception {, +        Query query = new QueryStringQueryBuilder("quick* @&*"), +            .field(STRING_FIELD_NAME), +            .analyzer("standard"), +            .analyzeWildcard(true), +            .toQuery(createShardContext());, +        Query expected = new PrefixQuery(new Term(STRING_FIELD_NAME, "quick"));, +        assertEquals(expected, query);, +    }, +]