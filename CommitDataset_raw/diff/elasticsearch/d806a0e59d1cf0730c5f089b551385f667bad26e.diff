[+++ b/server/src/test/java/org/elasticsearch/index/shard/GlobalCheckpointListenersTests.java, +import static org.hamcrest.Matchers.any;, +import static org.mockito.Matchers.argThat;, +import static org.mockito.Mockito.doAnswer;, +        final CountDownLatch latch = new CountDownLatch(1);, +        doAnswer(invocationOnMock -> {, +            latch.countDown();, +            return null;, +        }).when(mockLogger).warn(argThat(any(String.class)), argThat(any(RuntimeException.class)));]