[+++ b/src/main/java/org/elasticsearch/index/query/RangeFilterParser.java, +                filter = smartNameFieldMappers.mapper().rangeFilter(from != null ? from.utf8ToString() : null, to != null ? to.utf8ToString() : null, includeLower, includeUpper, parseContext);, +++ b/src/main/java/org/elasticsearch/index/query/RangeFilterParser.java, +                filter = smartNameFieldMappers.mapper().rangeFilter(from != null ? from.utf8ToString() : null, to != null ? to.utf8ToString() : null, includeLower, includeUpper, parseContext);, +++ b/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java, +                query = smartNameFieldMappers.mapper().rangeQuery(from != null ? from.utf8ToString() : null, to != null ? to.utf8ToString() : null, includeLower, includeUpper, parseContext);]