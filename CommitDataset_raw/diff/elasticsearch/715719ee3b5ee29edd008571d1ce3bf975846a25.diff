[+++ b/client/rest/src/main/java/org/elasticsearch/client/Response.java, +            "\"((?:\t| |!|[\\x23-\\x5B]|[\\x5D-\\x7E]|[\\x80-\\xFF]|\\\\|\\\\\")*)\"( " + // quoted warning value, captured, +            "\")?"); // closing quote (optional, since an older version can still send a warn-date), +++ b/client/rest/src/main/java/org/elasticsearch/client/Response.java, +            "\"((?:\t| |!|[\\x23-\\x5B]|[\\x5D-\\x7E]|[\\x80-\\xFF]|\\\\|\\\\\")*)\"( " + // quoted warning value, captured, +            "\")?"); // closing quote (optional, since an older version can still send a warn-date), +++ b/server/src/main/java/org/elasticsearch/common/logging/DeprecationLogger.java, +    public static final Pattern WARNING_HEADER_PATTERN = Pattern.compile(, +                    "\"((?:\t| |!|[\\x23-\\x5B]|[\\x5D-\\x7E]|[\\x80-\\xFF]|\\\\|\\\\\")*)\"( " + // quoted warning value, captured, +                    "\")?"); // closing quote (optional, since an older version can still send a warn-date), +     * {@code 299 Elasticsearch-6.0.0 "warning value"}, the return value of this method would be {@code warning value}., +         * quote and we know the last quote is at the end of the string, +         *   299 Elasticsearch-6.0.0 "warning value", +         *                           ^             ^, +         *                           firstQuote    lastQuote, +        final int lastQuote = s.length() - 1;, +        final String warningValue = s.substring(firstQuote + 1, lastQuote);, +        return WARNING_PREFIX + " " + "\"" + escapeAndEncode(s) + "\"";, +                } while (i < s.length() && doesNotNeedEncoding.get(s.charAt(i)) == false);]