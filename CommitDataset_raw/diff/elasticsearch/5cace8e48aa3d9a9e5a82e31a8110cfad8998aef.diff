[+++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java, +                                Replicas<ReplicaRequest> replicas,, +            if (shard.unassigned()) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java, +                                Replicas<ReplicaRequest> replicas,, +            if (shard.unassigned()) {, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                            primaryShardReference), +            PrimaryShardReference primaryShardReference) {, +                    replicasProxy, clusterService::state, logger, actionName);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java, +                                Replicas<ReplicaRequest> replicas,, +            if (shard.unassigned()) {, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                            primaryShardReference), +            PrimaryShardReference primaryShardReference) {, +                    replicasProxy, clusterService::state, logger, actionName);, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java, +                                Replicas<ReplicaRequest> replicas,, +            if (shard.unassigned()) {, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                            primaryShardReference), +            PrimaryShardReference primaryShardReference) {, +                    replicasProxy, clusterService::state, logger, actionName);, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java, +                                Replicas<ReplicaRequest> replicas,, +            if (shard.unassigned()) {, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                            primaryShardReference), +            PrimaryShardReference primaryShardReference) {, +                    replicasProxy, clusterService::state, logger, actionName);, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                            logger.info("[{}] creating index, cause [{}], templates {}, shards [{}]/[{}], mappings {}",, +                                    indexMetaData.getNumberOfReplicas(), mappings.keySet());, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java, +                                Replicas<ReplicaRequest> replicas,, +            if (shard.unassigned()) {, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                            primaryShardReference), +            PrimaryShardReference primaryShardReference) {, +                    replicasProxy, clusterService::state, logger, actionName);, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                            logger.info("[{}] creating index, cause [{}], templates {}, shards [{}]/[{}], mappings {}",, +                                    indexMetaData.getNumberOfReplicas(), mappings.keySet());, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java, +                if (shardRouting.primary() && shardRouting.initializing() && shardRouting.relocating() == false &&, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java, +                                Replicas<ReplicaRequest> replicas,, +            if (shard.unassigned()) {, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                            primaryShardReference), +            PrimaryShardReference primaryShardReference) {, +                    replicasProxy, clusterService::state, logger, actionName);, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                            logger.info("[{}] creating index, cause [{}], templates {}, shards [{}]/[{}], mappings {}",, +                                    indexMetaData.getNumberOfReplicas(), mappings.keySet());, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java, +                if (shardRouting.primary() && shardRouting.initializing() && shardRouting.relocating() == false &&, +++ b/core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java, +++ b/core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java, +                                Replicas<ReplicaRequest> replicas,]