[+++ b/client/src/main/java/org/elasticsearch/client/Transport.java, +import java.util.Locale;, +    ElasticsearchResponse performRequest(String method, String endpoint, Map<String, Object> params, HttpEntity entity) throws IOException {, +        HttpRequestBase request = createHttpRequest(method, uri, entity);, +    private static HttpRequestBase createHttpRequest(String method, URI uri, HttpEntity entity) {, +        switch(method.toUpperCase(Locale.ROOT)) {, +            case HttpDeleteWithEntity.METHOD_NAME:, +            case HttpGetWithEntity.METHOD_NAME:, +            case HttpHead.METHOD_NAME:, +            case HttpPost.METHOD_NAME:, +            case HttpPut.METHOD_NAME:, +                throw new UnsupportedOperationException("http method not supported: " + method);]