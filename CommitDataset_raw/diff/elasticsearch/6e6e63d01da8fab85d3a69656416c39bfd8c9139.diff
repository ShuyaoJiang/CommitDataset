[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +    /**, +     * Whether the initial_master_nodes setting should be automatically derived from the nodes, +     * in the cluster. Only takes effect if all nodes in the cluster understand this setting, +     * and the discovery type is not explicitly set., +     */, +    @Input, +    boolean autoSetInitialMasterNodes = true, +, +    /**, +     * Whether the file-based discovery provider should be automatically setup based on, +     * the nodes in the cluster. Only takes effect if no other hosts provider is already, +     * configured., +     */, +    @Input, +    boolean autoSetHostsProvider = true, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +    /**, +     * Whether the initial_master_nodes setting should be automatically derived from the nodes, +     * in the cluster. Only takes effect if all nodes in the cluster understand this setting, +     * and the discovery type is not explicitly set., +     */, +    @Input, +    boolean autoSetInitialMasterNodes = true, +, +    /**, +     * Whether the file-based discovery provider should be automatically setup based on, +     * the nodes in the cluster. Only takes effect if no other hosts provider is already, +     * configured., +     */, +    @Input, +    boolean autoSetHostsProvider = true, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                    if (config.getAutoSetHostsProvider()) {, +                    }, +                    boolean supportsInitialMasterNodes = hasBwcNodes == false || config.bwcVersion.onOrAfter("7.0.0"), +                    if (esConfig['discovery.type'] == null && config.getAutoSetInitialMasterNodes() && supportsInitialMasterNodes) {, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +    /**, +     * Whether the initial_master_nodes setting should be automatically derived from the nodes, +     * in the cluster. Only takes effect if all nodes in the cluster understand this setting, +     * and the discovery type is not explicitly set., +     */, +    @Input, +    boolean autoSetInitialMasterNodes = true, +, +    /**, +     * Whether the file-based discovery provider should be automatically setup based on, +     * the nodes in the cluster. Only takes effect if no other hosts provider is already, +     * configured., +     */, +    @Input, +    boolean autoSetHostsProvider = true, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                    if (config.getAutoSetHostsProvider()) {, +                    }, +                    boolean supportsInitialMasterNodes = hasBwcNodes == false || config.bwcVersion.onOrAfter("7.0.0"), +                    if (esConfig['discovery.type'] == null && config.getAutoSetInitialMasterNodes() && supportsInitialMasterNodes) {, +++ b/plugins/discovery-azure-classic/src/test/java/org/elasticsearch/cloud/azure/classic/AbstractAzureComputeServiceTestCase.java, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +    /**, +     * Whether the initial_master_nodes setting should be automatically derived from the nodes, +     * in the cluster. Only takes effect if all nodes in the cluster understand this setting, +     * and the discovery type is not explicitly set., +     */, +    @Input, +    boolean autoSetInitialMasterNodes = true, +, +    /**, +     * Whether the file-based discovery provider should be automatically setup based on, +     * the nodes in the cluster. Only takes effect if no other hosts provider is already, +     * configured., +     */, +    @Input, +    boolean autoSetHostsProvider = true, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                    if (config.getAutoSetHostsProvider()) {, +                    }, +                    boolean supportsInitialMasterNodes = hasBwcNodes == false || config.bwcVersion.onOrAfter("7.0.0"), +                    if (esConfig['discovery.type'] == null && config.getAutoSetInitialMasterNodes() && supportsInitialMasterNodes) {, +++ b/plugins/discovery-azure-classic/src/test/java/org/elasticsearch/cloud/azure/classic/AbstractAzureComputeServiceTestCase.java, +++ /dev/null, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +    /**, +     * Whether the initial_master_nodes setting should be automatically derived from the nodes, +     * in the cluster. Only takes effect if all nodes in the cluster understand this setting, +     * and the discovery type is not explicitly set., +     */, +    @Input, +    boolean autoSetInitialMasterNodes = true, +, +    /**, +     * Whether the file-based discovery provider should be automatically setup based on, +     * the nodes in the cluster. Only takes effect if no other hosts provider is already, +     * configured., +     */]