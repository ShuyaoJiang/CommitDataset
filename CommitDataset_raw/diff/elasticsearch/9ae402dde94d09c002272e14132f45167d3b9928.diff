[+++ b/src/main/java/org/elasticsearch/index/query/NestedFilterParser.java, +        try {, +, +        } finally {, +            // restore the thread local one..., +            NestedQueryParser.parentFilterContext.set(currentParentFilterContext);, +        }, +++ b/src/main/java/org/elasticsearch/index/query/NestedFilterParser.java, +        try {, +, +        } finally {, +            // restore the thread local one..., +            NestedQueryParser.parentFilterContext.set(currentParentFilterContext);, +        }, +++ b/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java, +        try {, +            if (usAsParentFilter.filter == null) {, +                System.out.println("HELLO");, +            }, +        } finally {, +            // restore the thread local one..., +            parentFilterContext.set(currentParentFilterContext);, +        }]