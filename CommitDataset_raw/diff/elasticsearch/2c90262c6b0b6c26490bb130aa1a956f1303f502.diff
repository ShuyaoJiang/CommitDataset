[+++ b/modules/lang-painless/src/test/java/org/elasticsearch/painless/StandardCastTests.java, +, +    public void testPrimitiveDoubleCasts() {, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Object n = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Object n = (Object)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Number n = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Number n = (Number)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; String n = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; String n = (String)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; boolean b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; boolean b = (boolean)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; byte b = o;"));, +        exec("double o = 0; byte b = (byte)o;");, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; short b = o;"));, +        exec("double o = 0; short b = (short)o;");, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; char b = o;"));, +        exec("double o = 0; char b = (char)o;");, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; int b = o;"));, +        exec("double o = 0; int b = (int)o;");, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; long b = o;"));, +        exec("double o = 0; long b = (long)o;");, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; float b = o;"));, +        exec("double o = 0; float b = (float)o;");, +, +        exec("double o = 0; double b = o;");, +        exec("double o = 0; double b = (double)o;");, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Boolean b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Boolean b = (Boolean)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Byte b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Byte b = (Byte)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Short b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Short b = (Short)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Character b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Character b = (Character)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Integer b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Integer b = (Integer)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Long b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Long b = (Long)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Float b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Float b = (Float)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Double b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; Double b = (Double)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; ArrayList b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("double o = 0; ArrayList b = (ArrayList)o;"));, +    }, +, +    public void testDoubleCasts() {, +        exec("Double o = Double.valueOf((double)0); Object n = o;");, +        exec("Double o = null; Object n = o;");, +        exec("Double o = Double.valueOf((double)0); Object n = (Object)o;");, +        exec("Double o = null; Object n = (Object)o;");, +, +        exec("Double o = Double.valueOf((double)0); Number n = o;");, +        exec("Double o = null; Number n = o;");, +        exec("Double o = Double.valueOf((double)0); Number n = (Number)o;");, +        exec("Double o = null; Number n = (Number)o;");, +, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); String n = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; String n = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); String n = (String)o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; String n = (String)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); boolean b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; boolean b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); boolean b = (boolean)o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; boolean b = (boolean)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); byte b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; byte b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); byte b = (byte)o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; byte b = (byte)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); short b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; short b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); short b = (short)o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; short b = (short)o;"));, +, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); char b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; char b = o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = Double.valueOf((double)0); char b = (char)o;"));, +        expectScriptThrows(ClassCastException.class, () -> exec("Double o = null; char b = (char)o;"));, +]