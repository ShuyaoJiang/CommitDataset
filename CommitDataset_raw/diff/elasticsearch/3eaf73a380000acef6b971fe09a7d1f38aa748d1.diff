[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java, +                    builder.field(Fields.NUM_COMMITTED_SEGMENTS, shardSegments.numberOfCommitted());, +                    builder.field(Fields.NUM_SEARCH_SEGMENTS, shardSegments.numberOfSearch());, +, +        static final XContentBuilderString NUM_COMMITTED_SEGMENTS = new XContentBuilderString("num_committed_segments");, +        static final XContentBuilderString NUM_SEARCH_SEGMENTS = new XContentBuilderString("num_search_segments");, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java, +                    builder.field(Fields.NUM_COMMITTED_SEGMENTS, shardSegments.numberOfCommitted());, +                    builder.field(Fields.NUM_SEARCH_SEGMENTS, shardSegments.numberOfSearch());, +, +        static final XContentBuilderString NUM_COMMITTED_SEGMENTS = new XContentBuilderString("num_committed_segments");, +        static final XContentBuilderString NUM_SEARCH_SEGMENTS = new XContentBuilderString("num_search_segments");, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java, +    public int numberOfCommitted() {, +        int count = 0;, +        for (Segment segment : segments) {, +            if (segment.committed()) {, +                count++;, +            }, +        }, +        return count;, +    }, +, +    public int numberOfSearch() {, +        int count = 0;, +        for (Segment segment : segments) {, +            if (segment.search()) {, +                count++;, +            }, +        }, +        return count;, +    }, +]