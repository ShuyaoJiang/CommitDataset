[+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/DiffableStringMap.java, +        this.innerMap = Collections.unmodifiableMap(map);, +        this((Map<String, String>) (Map) in.readMap());, +++ b/server/src/main/java/org/elasticsearch/cluster/metadata/DiffableStringMap.java, +        this.innerMap = Collections.unmodifiableMap(map);, +        this((Map<String, String>) (Map) in.readMap());, +++ b/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +        return this.customData.get(key);, +++ b/server/src/main/java/org/elasticsearch/cluster/metadata/DiffableStringMap.java, +        this.innerMap = Collections.unmodifiableMap(map);, +        this((Map<String, String>) (Map) in.readMap());, +++ b/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +        return this.customData.get(key);, +++ b/server/src/test/java/org/elasticsearch/cluster/metadata/DiffableStringMapTests.java, +        Map<String, String> expected = new HashMap<>(m);, +            dsm = new DiffableStringMap(expected).diff(dsm).apply(dsm);]