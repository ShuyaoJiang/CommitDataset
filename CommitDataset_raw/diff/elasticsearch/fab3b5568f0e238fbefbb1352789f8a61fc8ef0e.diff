[+++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                                        TransportService transportService, IndicesService indicesService,, +                                        ScriptService scriptService, PageCacheRecycler pageCacheRecycler,, +                                        BigArrays bigArrays, ActionFilters actionFilters, IndexNameExpressionResolver indexNameExpressionResolver) {, +        final QueryShardContext queryShardContext = indexService.newQueryShardContext();, +        queryShardContext.setTypes(request.types());, +                new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()),, +                null, searcher, indexService, indexShard,, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher,, +                SearchService.NO_TIMEOUT, +        );, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                                        TransportService transportService, IndicesService indicesService,, +                                        ScriptService scriptService, PageCacheRecycler pageCacheRecycler,, +                                        BigArrays bigArrays, ActionFilters actionFilters, IndexNameExpressionResolver indexNameExpressionResolver) {, +        final QueryShardContext queryShardContext = indexService.newQueryShardContext();, +        queryShardContext.setTypes(request.types());, +                new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()),, +                null, searcher, indexService, indexShard,, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher,, +                SearchService.NO_TIMEOUT, +        );, +++ b/core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java, +                                  TransportService transportService, IndicesService indicesService,, +                                  ScriptService scriptService, PageCacheRecycler pageCacheRecycler,, +                                  BigArrays bigArrays, ActionFilters actionFilters, IndexNameExpressionResolver indexNameExpressionResolver) {, +        SearchContext context = new DefaultSearchContext(, +                0, new ShardSearchLocalRequest(new String[]{request.type()}, request.nowInMillis, request.filteringAlias()),, +                null, result.searcher(), indexService, indexShard,, +                scriptService, pageCacheRecycler,, +                bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher,, +                SearchService.NO_TIMEOUT, +        );, +            context.parsedQuery(context.getQueryShardContext().toQuery(request.query()));, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                                        TransportService transportService, IndicesService indicesService,, +                                        ScriptService scriptService, PageCacheRecycler pageCacheRecycler,, +                                        BigArrays bigArrays, ActionFilters actionFilters, IndexNameExpressionResolver indexNameExpressionResolver) {, +        final QueryShardContext queryShardContext = indexService.newQueryShardContext();, +        queryShardContext.setTypes(request.types());, +                new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()),, +                null, searcher, indexService, indexShard,, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher,, +                SearchService.NO_TIMEOUT, +        );, +++ b/core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java, +                                  TransportService transportService, IndicesService indicesService,, +                                  ScriptService scriptService, PageCacheRecycler pageCacheRecycler,, +                                  BigArrays bigArrays, ActionFilters actionFilters, IndexNameExpressionResolver indexNameExpressionResolver) {, +        SearchContext context = new DefaultSearchContext(, +                0, new ShardSearchLocalRequest(new String[]{request.type()}, request.nowInMillis, request.filteringAlias()),, +                null, result.searcher(), indexService, indexShard,, +                scriptService, pageCacheRecycler,, +                bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher,, +                SearchService.NO_TIMEOUT, +        );, +            context.parsedQuery(context.getQueryShardContext().toQuery(request.query()));, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +import org.elasticsearch.search.aggregations.AbstractAggregationBuilder;, +     * Delegates to {@link PercolateSourceBuilder#addAggregation(AbstractAggregationBuilder)}, +    public PercolateRequestBuilder addAggregation(AbstractAggregationBuilder aggregationBuilder) {, +     * Sets the percolate request definition directly on the request., +     * This will overwrite any definitions set by any of the delegate methods., +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                                        TransportService transportService, IndicesService indicesService,, +                                        ScriptService scriptService, PageCacheRecycler pageCacheRecycler,, +                                        BigArrays bigArrays, ActionFilters actionFilters, IndexNameExpressionResolver indexNameExpressionResolver) {, +        final QueryShardContext queryShardContext = indexService.newQueryShardContext();, +        queryShardContext.setTypes(request.types());, +                new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()),, +                null, searcher, indexService, indexShard,, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher,, +                SearchService.NO_TIMEOUT, +        );, +++ b/core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java, +                                  TransportService transportService, IndicesService indicesService,, +                                  ScriptService scriptService, PageCacheRecycler pageCacheRecycler,, +                                  BigArrays bigArrays, ActionFilters actionFilters, IndexNameExpressionResolver indexNameExpressionResolver) {, +        SearchContext context = new DefaultSearchContext(, +                0, new ShardSearchLocalRequest(new String[]{request.type()}, request.nowInMillis, request.filteringAlias()),, +                null, result.searcher(), indexService, indexShard,, +                scriptService, pageCacheRecycler,, +                bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher,, +                SearchService.NO_TIMEOUT, +        );, +            context.parsedQuery(context.getQueryShardContext().toQuery(request.query()));, +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java, +import org.elasticsearch.search.aggregations.AbstractAggregationBuilder;, +     * Delegates to {@link PercolateSourceBuilder#addAggregation(AbstractAggregationBuilder)}, +    public PercolateRequestBuilder addAggregation(AbstractAggregationBuilder aggregationBuilder) {, +     * Sets the percolate request definition directly on the request., +     * This will overwrite any definitions set by any of the delegate methods., +++ b/core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java, +import org.elasticsearch.search.aggregations.AbstractAggregationBuilder;, +    private List<AbstractAggregationBuilder> aggregations;]