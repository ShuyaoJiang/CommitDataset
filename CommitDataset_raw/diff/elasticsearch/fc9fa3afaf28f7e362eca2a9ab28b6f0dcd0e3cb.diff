[+++ b/docs/reference/release-notes/5.0.0-alpha4.asciidoc, +[[release-notes-5.0.0-alpha4]], +== 5.0.0-alpha4 Release Notes, +, +Also see <<breaking-changes-5.0>>., +, +IMPORTANT: This is an alpha release and is intended for _testing purposes only_. Indices created in this version will *not be compatible with Elasticsearch 5.0.0 GA*. Upgrading 5.0.0-alpha4 to any other version is not supported., +, +[[breaking-5.0.0-alpha4]], +[float], +=== Breaking changes, +, +Aggregations::, +* Remove size 0 options in aggregations {pull}18854[#18854] (issue: {issue}18838[#18838]), +, +CRUD::, +* Wait for changes to be visible by search {pull}17986[#17986] (issue: {issue}1063[#1063]), +, +Core::, +* Register thread pool settings {pull}18674[#18674] (issues: {issue}18613[#18613], {issue}9216[#9216]), +* Remove cluster name from data path {pull}18554[#18554] (issue: {issue}17810[#17810]), +, +Highlighting::, +* Register Highlighter instances instead of classes {pull}18859[#18859], +, +Inner Hits::, +* Also do not serialize `_index` key in search response for parent/child inner hits {pull}19011[#19011], +* Don't include `_id`, `_type` and `_index` keys in search response for inner hits {pull}18995[#18995] (issue: {issue}18091[#18091]), +* Nested inner hits shouldn't use relative paths {pull}18567[#18567] (issue: {issue}16653[#16653]), +, +Internal::, +* Cleanup ClusterService dependencies and detached from Guice {pull}18941[#18941], +* Simplify SubFetchPhase interface {pull}18881[#18881], +* Simplify FetchSubPhase registration and detach it from Guice {pull}18862[#18862], +, +Java API::, +* Remove setRefresh {pull}18752[#18752] (issue: {issue}1063[#1063]), +, +Mapping::, +* Remove `_timestamp` and `_ttl` on 5.x indices. {pull}18980[#18980] (issue: {issue}18280[#18280]), +, +Packaging::, +* Remove allow running as root {pull}18694[#18694] (issue: {issue}18688[#18688]), +, +Plugins::, +* Fail to start if plugin tries broken onModule {pull}19025[#19025], +* Simplify ScriptModule and script registration {pull}18903[#18903], +* Cut over settings registration to a pull model {pull}18890[#18890], +* Plugins cleanup {pull}18594[#18594] (issue: {issue}18588[#18588]), +, +Scripting::, +* Move search template to lang-mustache module {pull}18765[#18765] (issue: {issue}17906[#17906]), +, +Search::, +* Remove only node preference {pull}18875[#18875] (issue: {issue}18822[#18822]), +* Add search preference to prefer multiple nodes {pull}18872[#18872] (issue: {issue}18822[#18822]), +, +Settings::, +* Rename boostrap.mlockall to bootstrap.memory_lock {pull}18669[#18669], +, +Snapshot/Restore::, +* Change the default of `include_global_state` from true to false for snapshot restores {pull}18773[#18773] (issue: {issue}18569[#18569]), +, +, +, +[[feature-5.0.0-alpha4]], +[float], +=== New features, +, +Aggregations::, +* Adds aggregation profiling to the profile API {pull}18414[#18414] (issue: {issue}10538[#10538]), +* New Matrix Stats Aggregation module {pull}18300[#18300] (issue: {issue}16826[#16826]), +, +Index APIs::, +* Add rollover API to switch index aliases given some predicates {pull}18732[#18732] (issue: {issue}18647[#18647]), +, +Mapping::, +* Expose half-floats. {pull}18887[#18887], +, +REST::, +* Low level Rest Client {pull}18735[#18735] (issue: {issue}7743[#7743]), +, +Scroll::, +* Add the ability to partition a scroll in multiple slices. {pull}18237[#18237] (issue: {issue}13494[#13494]), +, +Store::, +* Expose MMapDirectory.preLoad(). {pull}18880[#18880], +* Add primitive to shrink an index into a single shard {pull}18270[#18270], +, +, +, +[[enhancement-5.0.0-alpha4]], +[float], +=== Enhancements, +, +Aggregations::, +* Automatically set the collection mode to breadth_first in the terms aggregation when the cardinality of the field is unknown or smaller than the requested size. {pull}18779[#18779] (issue: {issue}9825[#9825]), +* Rename PipelineAggregatorBuilder to PipelineAggregationBuilder. {pull}18677[#18677] (issue: {issue}18377[#18377]), +* AggregatorBuilder and PipelineAggregatorBuilder do not need generics. {pull}18368[#18368] (issue: {issue}18133[#18133]), +]