[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java, +import org.elasticsearch.common.Strings;, + * @author kimchy (shay.banon), +    private boolean filterRoutingTable = false;, +, +    private boolean filterNodes = false;, +, +    private boolean filterMetaData = false;, +, +    private String[] filteredIndices = Strings.EMPTY_ARRAY;, +, +    public boolean filterRoutingTable() {, +        return filterRoutingTable;, +    }, +, +    public ClusterStateRequest filterRoutingTable(boolean filterRoutingTable) {, +        this.filterRoutingTable = filterRoutingTable;, +        return this;, +    }, +, +    public boolean filterNodes() {, +        return filterNodes;, +    }, +, +    public ClusterStateRequest filterNodes(boolean filterNodes) {, +        this.filterNodes = filterNodes;, +        return this;, +    }, +, +    public boolean filterMetaData() {, +        return filterMetaData;, +    }, +, +    public ClusterStateRequest filterMetaData(boolean filterMetaData) {, +        this.filterMetaData = filterMetaData;, +        return this;, +    }, +, +    public String[] filteredIndices() {, +        return filteredIndices;, +    }, +, +    public ClusterStateRequest filteredIndices(String... filteredIndices) {, +        this.filteredIndices = filteredIndices;, +        return this;, +    }, +, +        filterRoutingTable = in.readBoolean();, +        filterNodes = in.readBoolean();, +        filterMetaData = in.readBoolean();, +        int size = in.readVInt();, +        if (size > 0) {, +            filteredIndices = new String[size];, +            for (int i = 0; i < filteredIndices.length; i++) {, +                filteredIndices[i] = in.readUTF();, +            }, +        }, +        out.writeBoolean(filterRoutingTable);, +        out.writeBoolean(filterNodes);, +        out.writeBoolean(filterMetaData);, +        out.writeVInt(filteredIndices.length);, +        for (String filteredIndex : filteredIndices) {, +            out.writeUTF(filteredIndex);, +        }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java, +import org.elasticsearch.common.Strings;, + * @author kimchy (shay.banon), +    private boolean filterRoutingTable = false;, +, +    private boolean filterNodes = false;, +, +    private boolean filterMetaData = false;, +, +    private String[] filteredIndices = Strings.EMPTY_ARRAY;, +, +    public boolean filterRoutingTable() {, +        return filterRoutingTable;, +    }, +, +    public ClusterStateRequest filterRoutingTable(boolean filterRoutingTable) {, +        this.filterRoutingTable = filterRoutingTable;, +        return this;, +    }, +, +    public boolean filterNodes() {, +        return filterNodes;, +    }, +, +    public ClusterStateRequest filterNodes(boolean filterNodes) {, +        this.filterNodes = filterNodes;, +        return this;, +    }, +, +    public boolean filterMetaData() {, +        return filterMetaData;, +    }, +, +    public ClusterStateRequest filterMetaData(boolean filterMetaData) {, +        this.filterMetaData = filterMetaData;, +        return this;]