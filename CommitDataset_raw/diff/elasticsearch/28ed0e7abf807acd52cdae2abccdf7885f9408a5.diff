[+++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +    @Deprecated, +    @Deprecated, +    private static final ParseField OPTIMIZE_BBOX_FIELD = new ParseField("optimize_bbox"), +            .withAllDeprecated("no replacement: `optimize_bbox` is no longer supported due to recent improvements");, +    private String optimizeBbox = null;, +        optimizeBbox = in.readOptionalString();, +        out.writeOptionalString(optimizeBbox);, +     * @deprecated, +    @Deprecated, +     * distance query for optimization purposes., +     * @deprecated, +     **/, +    @Deprecated, +            String bboxOptimization = Strings.isEmpty(optimizeBbox) ? DEFAULT_OPTIMIZE_BBOX : optimizeBbox;, +                    geoFieldType, indexFieldData, bboxOptimization);, +        if (Strings.isEmpty(optimizeBbox) == false) {, +        }, +        String optimizeBbox = null;, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +    @Deprecated, +    @Deprecated, +    private static final ParseField OPTIMIZE_BBOX_FIELD = new ParseField("optimize_bbox"), +            .withAllDeprecated("no replacement: `optimize_bbox` is no longer supported due to recent improvements");, +    private String optimizeBbox = null;, +        optimizeBbox = in.readOptionalString();, +        out.writeOptionalString(optimizeBbox);, +     * @deprecated, +    @Deprecated, +     * distance query for optimization purposes., +     * @deprecated, +     **/, +    @Deprecated, +            String bboxOptimization = Strings.isEmpty(optimizeBbox) ? DEFAULT_OPTIMIZE_BBOX : optimizeBbox;, +                    geoFieldType, indexFieldData, bboxOptimization);, +        if (Strings.isEmpty(optimizeBbox) == false) {, +        }, +        String optimizeBbox = null;, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java, +    @Deprecated, +    @Deprecated, +    private static final ParseField OPTIMIZE_BBOX_FIELD = new ParseField("optimize_bbox"), +            .withAllDeprecated("no replacement: `optimize_bbox` is no longer supported due to recent improvements");, +    private String optimizeBbox = null;, +        optimizeBbox = in.readOptionalString();, +        out.writeOptionalString(optimizeBbox);, +    @Deprecated, +    @Deprecated, +            String bboxOptimization = Strings.isEmpty(optimizeBbox) ? DEFAULT_OPTIMIZE_BBOX : optimizeBbox;, +                indexFieldData, bboxOptimization);, +        if (Strings.isEmpty(optimizeBbox) == false) {, +        }, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +    @Deprecated, +    @Deprecated, +    private static final ParseField OPTIMIZE_BBOX_FIELD = new ParseField("optimize_bbox"), +            .withAllDeprecated("no replacement: `optimize_bbox` is no longer supported due to recent improvements");, +    private String optimizeBbox = null;, +        optimizeBbox = in.readOptionalString();, +        out.writeOptionalString(optimizeBbox);, +     * @deprecated, +    @Deprecated, +     * distance query for optimization purposes., +     * @deprecated, +     **/, +    @Deprecated, +            String bboxOptimization = Strings.isEmpty(optimizeBbox) ? DEFAULT_OPTIMIZE_BBOX : optimizeBbox;, +                    geoFieldType, indexFieldData, bboxOptimization);, +        if (Strings.isEmpty(optimizeBbox) == false) {, +        }, +        String optimizeBbox = null;, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java, +    @Deprecated, +    @Deprecated, +    private static final ParseField OPTIMIZE_BBOX_FIELD = new ParseField("optimize_bbox"), +            .withAllDeprecated("no replacement: `optimize_bbox` is no longer supported due to recent improvements");, +    private String optimizeBbox = null;, +        optimizeBbox = in.readOptionalString();, +        out.writeOptionalString(optimizeBbox);, +    @Deprecated, +    @Deprecated, +            String bboxOptimization = Strings.isEmpty(optimizeBbox) ? DEFAULT_OPTIMIZE_BBOX : optimizeBbox;, +                indexFieldData, bboxOptimization);, +        if (Strings.isEmpty(optimizeBbox) == false) {, +        }, +++ b/core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java, + * Query geo_point fields by distance ranges. Used for indexes created prior to 2.2, + * @deprecated, +@Deprecated, +                boundingBoxFilter = IndexedGeoBoundingBoxQuery.create(distanceBoundingCheck.topLeft(),, +                    distanceBoundingCheck.bottomRight(), fieldType);, +        return "GeoDistanceRangeQuery(" + indexFieldData.getFieldName() + ", " + geoDistance + ", [", +            + inclusiveLowerPoint + " - " + inclusiveUpperPoint + "], " + lat + ", " + lon + ")";, +++ b/core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java, +    @Deprecated, +    @Deprecated, +    private static final ParseField OPTIMIZE_BBOX_FIELD = new ParseField("optimize_bbox"), +            .withAllDeprecated("no replacement: `optimize_bbox` is no longer supported due to recent improvements");, +    private String optimizeBbox = null;, +        optimizeBbox = in.readOptionalString();]