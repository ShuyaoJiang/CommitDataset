[+++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +    , +    // TODO: note that this will fail if source and target are on different NIO.2 filesystems., +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +    , +    // TODO: note that this will fail if source and target are on different NIO.2 filesystems., +++ b/src/test/java/org/elasticsearch/NamingConventionTests.java, +            final Path startPath = getDataPath(path);, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +    , +    // TODO: note that this will fail if source and target are on different NIO.2 filesystems., +++ b/src/test/java/org/elasticsearch/NamingConventionTests.java, +            final Path startPath = getDataPath(path);, +++ b/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java, +        Path dir = getDataPath(".");, +        Path backwardsIndex = getDataPath(indexFile);, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +    , +    // TODO: note that this will fail if source and target are on different NIO.2 filesystems., +++ b/src/test/java/org/elasticsearch/NamingConventionTests.java, +            final Path startPath = getDataPath(path);, +++ b/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java, +        Path dir = getDataPath(".");, +        Path backwardsIndex = getDataPath(indexFile);, +++ b/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java, +        Path repoFiles = getDataPath(".");, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +    , +    // TODO: note that this will fail if source and target are on different NIO.2 filesystems., +++ b/src/test/java/org/elasticsearch/NamingConventionTests.java, +            final Path startPath = getDataPath(path);, +++ b/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java, +        Path dir = getDataPath(".");, +        Path backwardsIndex = getDataPath(indexFile);, +++ b/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java, +        Path repoFiles = getDataPath(".");, +++ b/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java, +        Path zippedIndexDir = getDataPath("/org/elasticsearch/cluster/routing/" + name + ".zip");, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +    , +    // TODO: note that this will fail if source and target are on different NIO.2 filesystems., +++ b/src/test/java/org/elasticsearch/NamingConventionTests.java, +            final Path startPath = getDataPath(path);, +++ b/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java, +        Path dir = getDataPath(".");, +        Path backwardsIndex = getDataPath(indexFile);, +++ b/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java, +        Path repoFiles = getDataPath(".");, +++ b/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java, +        Path zippedIndexDir = getDataPath("/org/elasticsearch/cluster/routing/" + name + ".zip");, +++ b/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java, +        try (InputStream stream = Files.newInputStream(getDataPath("/org/elasticsearch/cluster/routing/issue_9023.zip"))) {, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +    , +    // TODO: note that this will fail if source and target are on different NIO.2 filesystems., +++ b/src/test/java/org/elasticsearch/NamingConventionTests.java, +            final Path startPath = getDataPath(path);, +++ b/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java, +        Path dir = getDataPath(".");, +        Path backwardsIndex = getDataPath(indexFile);, +++ b/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java, +        Path repoFiles = getDataPath(".");, +++ b/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java, +        Path zippedIndexDir = getDataPath("/org/elasticsearch/cluster/routing/" + name + ".zip");, +++ b/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java, +        try (InputStream stream = Files.newInputStream(getDataPath("/org/elasticsearch/cluster/routing/issue_9023.zip"))) {, +++ b/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java, +        final Path path = getDataPath("/org/elasticsearch/common/io/copyappend");, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +    , +    // TODO: note that this will fail if source and target are on different NIO.2 filesystems., +++ b/src/test/java/org/elasticsearch/NamingConventionTests.java, +            final Path startPath = getDataPath(path);, +++ b/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java, +        Path dir = getDataPath(".");, +        Path backwardsIndex = getDataPath(indexFile);, +++ b/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java, +        Path repoFiles = getDataPath(".");, +++ b/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java, +        Path zippedIndexDir = getDataPath("/org/elasticsearch/cluster/routing/" + name + ".zip");, +++ b/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java, +        try (InputStream stream = Files.newInputStream(getDataPath("/org/elasticsearch/cluster/routing/issue_9023.zip"))) {, +++ b/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java, +        final Path path = getDataPath("/org/elasticsearch/common/io/copyappend");, +++ b/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java, +        Path configDir = getDataPath("config");, +++ b/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java, +    , +    // TODO: note that this will fail if source and target are on different NIO.2 filesystems., +++ b/src/test/java/org/elasticsearch/NamingConventionTests.java, +            final Path startPath = getDataPath(path);, +++ b/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java, +        Path dir = getDataPath(".");, +        Path backwardsIndex = getDataPath(indexFile);, +++ b/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java, +        Path repoFiles = getDataPath(".");, +++ b/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java, +        Path zippedIndexDir = getDataPath("/org/elasticsearch/cluster/routing/" + name + ".zip");, +++ b/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java, +        try (InputStream stream = Files.newInputStream(getDataPath("/org/elasticsearch/cluster/routing/issue_9023.zip"))) {]