[+++ b/docs/en/commands/index.asciidoc, +++ b/docs/en/commands/index.asciidoc, +++ /dev/null, +++ b/docs/en/commands/index.asciidoc, +++ /dev/null, +++ b/docs/en/settings/notification-settings.asciidoc, +You configure `xpack.notification` settings in `elasticsearch.yml` to, +send set up {watcher} and send notifications via <<email-notification-settings, email>>,, +<<hipchat-notification-settings, HipChat>>, <<slack-notification-settings,, +Slack>>, and <<pagerduty-notification-settings, PagerDuty>>., +++ b/docs/en/commands/index.asciidoc, +++ /dev/null, +++ b/docs/en/settings/notification-settings.asciidoc, +You configure `xpack.notification` settings in `elasticsearch.yml` to, +send set up {watcher} and send notifications via <<email-notification-settings, email>>,, +<<hipchat-notification-settings, HipChat>>, <<slack-notification-settings,, +Slack>>, and <<pagerduty-notification-settings, PagerDuty>>., +++ b/plugin/src/main/java/org/elasticsearch/xpack/security/authc/esnative/tool/SetupPasswordTool.java, +            URL route = new URL(url, (url.toURI().getPath() + "/_xpack/security/_authenticate").replaceAll("/+", "/") + "?pretty");, +            URL route = new URL(url, (url.toURI().getPath() + "/_xpack/security/user/" + user + "/_password").replaceAll("/+", "/") +, +                    "?pretty");, +++ b/docs/en/commands/index.asciidoc, +++ /dev/null, +++ b/docs/en/settings/notification-settings.asciidoc, +You configure `xpack.notification` settings in `elasticsearch.yml` to, +send set up {watcher} and send notifications via <<email-notification-settings, email>>,, +<<hipchat-notification-settings, HipChat>>, <<slack-notification-settings,, +Slack>>, and <<pagerduty-notification-settings, PagerDuty>>., +++ b/plugin/src/main/java/org/elasticsearch/xpack/security/authc/esnative/tool/SetupPasswordTool.java, +            URL route = new URL(url, (url.toURI().getPath() + "/_xpack/security/_authenticate").replaceAll("/+", "/") + "?pretty");, +            URL route = new URL(url, (url.toURI().getPath() + "/_xpack/security/user/" + user + "/_password").replaceAll("/+", "/") +, +                    "?pretty");, +++ b/plugin/src/test/java/org/elasticsearch/xpack/security/authc/esnative/tool/SetupPasswordToolTests.java, +import java.net.URISyntaxException;, +import static org.mockito.Mockito.doThrow;, +        doThrow(randomFrom(new IOException(), new SSLException(""))).when(httpClient).postURL(eq("GET"), eq(authnURL), eq(ElasticUser.NAME),, +                any(SecureString.class), any(CheckedSupplier.class), any(CheckedConsumer.class));, +        doThrow(new IOException()).when(httpClient).postURL(eq("PUT"), eq(userToFailURL), anyString(), any(SecureString.class),, +                any(CheckedSupplier.class), any(CheckedConsumer.class));, +    private URL checkURL(URL url) throws MalformedURLException, URISyntaxException {, +        return new URL(url, (url.toURI().getPath() + "/_xpack/security/_authenticate").replaceAll("/+", "/") + "?pretty");, +    private URL passwdURL(URL url, String user) throws MalformedURLException, URISyntaxException {, +        return new URL(url, (url.toURI().getPath() + "/_xpack/security/user/" + user + "/_password").replaceAll("/+", "/") + "?pretty");]