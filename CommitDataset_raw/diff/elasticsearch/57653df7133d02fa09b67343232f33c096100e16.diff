[+++ b/rest-api-spec/test/search/10_source_filtering.yaml, +  , +  , +  - do:, +      search:, +        fielddata_fields: ["count"], +  - match: { hits.hits.0.fields.count: [1] }  , +++ b/rest-api-spec/test/search/10_source_filtering.yaml, +  , +  , +  - do:, +      search:, +        fielddata_fields: ["count"], +  - match: { hits.hits.0.fields.count: [1] }  , +++ b/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java, +        String sFieldDataFields = request.param("fielddata_fields");, +        if (sFieldDataFields != null) {, +            if (searchSourceBuilder == null) {, +                searchSourceBuilder = new SearchSourceBuilder();, +            }, +            if (Strings.hasText(sFieldDataFields)) {, +                String[] sFields = Strings.splitStringByCommaToArray(sFieldDataFields);, +                if (sFields != null) {, +                    for (String field : sFields) {, +                        searchSourceBuilder.fieldDataField(field);, +                    }, +                }, +            }, +        }]