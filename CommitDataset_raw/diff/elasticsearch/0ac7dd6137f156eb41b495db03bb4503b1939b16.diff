[+++ b/core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +        if (parser.currentToken() != XContentParser.Token.END_OBJECT) {, +            throw new ParsingException(parser.getTokenLocation(),, +                    "[" + queryName + "] malformed query, expected [END_OBJECT] but found [" + parser.currentToken() + "]");, +        parser.nextToken();]