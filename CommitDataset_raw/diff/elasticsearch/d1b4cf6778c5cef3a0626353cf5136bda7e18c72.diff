[+++ b/core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java, +            List<Integer> tasks = new ArrayList<>();, +                this.tasks.addAll(tasks);, +                logger.debug("unexpected failure: [{}]", t, source);, +            assertEquals(tasksSubmittedPerThread, executors[i].tasks.size());, +            for (int j = 0; j < tasksSubmittedPerThread; j++) {, +                assertNotNull(executors[i].tasks.get(j));, +                assertEquals("cluster state update task executed out of order", j, (int)executors[i].tasks.get(j));, +            }]