[+++ b/docs/reference/ml/apis/find-file-structure.asciidoc, +      "min_value" : 180,, +      "max_value" : 768,, +          "value" : 180,, +          "value" : 208,, +          "value" : 224,, +          "value" : 227,, +          "value" : 268,, +          "value" : 271,, +          "value" : 275,, +          "value" : 288,, +          "value" : 304,, +          "value" : 311,, +++ b/docs/reference/ml/apis/find-file-structure.asciidoc, +      "min_value" : 180,, +      "max_value" : 768,, +          "value" : 180,, +          "value" : 208,, +          "value" : 224,, +          "value" : 227,, +          "value" : 268,, +          "value" : 271,, +          "value" : 275,, +          "value" : 288,, +          "value" : 304,, +          "value" : 311,, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/filestructurefinder/FieldStats.java, +            builder.field(MIN_VALUE.getPreferredName(), toIntegerIfInteger(minValue));, +            builder.field(MAX_VALUE.getPreferredName(), toIntegerIfInteger(maxValue));, +            builder.field(MEAN_VALUE.getPreferredName(), toIntegerIfInteger(meanValue));, +            builder.field(MEDIAN_VALUE.getPreferredName(), toIntegerIfInteger(medianValue));, +    public static Number toIntegerIfInteger(double d) {, +, +        if (d >= Integer.MIN_VALUE && d <= Integer.MAX_VALUE && Double.compare(d, StrictMath.rint(d)) == 0) {, +            return (int) d;, +        }, +, +        return d;, +    }, +, +++ b/docs/reference/ml/apis/find-file-structure.asciidoc, +      "min_value" : 180,, +      "max_value" : 768,, +          "value" : 180,, +          "value" : 208,, +          "value" : 224,, +          "value" : 227,, +          "value" : 268,, +          "value" : 271,, +          "value" : 275,, +          "value" : 288,, +          "value" : 304,, +          "value" : 311,, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/filestructurefinder/FieldStats.java, +            builder.field(MIN_VALUE.getPreferredName(), toIntegerIfInteger(minValue));, +            builder.field(MAX_VALUE.getPreferredName(), toIntegerIfInteger(maxValue));, +            builder.field(MEAN_VALUE.getPreferredName(), toIntegerIfInteger(meanValue));, +            builder.field(MEDIAN_VALUE.getPreferredName(), toIntegerIfInteger(medianValue));, +    public static Number toIntegerIfInteger(double d) {, +, +        if (d >= Integer.MIN_VALUE && d <= Integer.MAX_VALUE && Double.compare(d, StrictMath.rint(d)) == 0) {, +            return (int) d;, +        }, +, +        return d;, +    }, +, +++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/filestructurefinder/FieldStatsTests.java, +            if (randomBoolean()) {, +            } else {, +                minValue = (double) randomInt();, +                maxValue = (double) randomInt();, +            }, +                topHit.put("value", randomBoolean() ? randomDouble() : (double) randomInt());, +++ b/docs/reference/ml/apis/find-file-structure.asciidoc, +      "min_value" : 180,, +      "max_value" : 768,, +          "value" : 180,, +          "value" : 208,, +          "value" : 224,, +          "value" : 227,, +          "value" : 268,, +          "value" : 271,, +          "value" : 275,, +          "value" : 288,, +          "value" : 304,, +          "value" : 311,, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/filestructurefinder/FieldStats.java, +            builder.field(MIN_VALUE.getPreferredName(), toIntegerIfInteger(minValue));, +            builder.field(MAX_VALUE.getPreferredName(), toIntegerIfInteger(maxValue));, +            builder.field(MEAN_VALUE.getPreferredName(), toIntegerIfInteger(meanValue));, +            builder.field(MEDIAN_VALUE.getPreferredName(), toIntegerIfInteger(medianValue));, +    public static Number toIntegerIfInteger(double d) {, +, +        if (d >= Integer.MIN_VALUE && d <= Integer.MAX_VALUE && Double.compare(d, StrictMath.rint(d)) == 0) {, +            return (int) d;, +        }, +, +        return d;, +    }]