[+++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_2_3_0_ID = 2030099;, +    public static final Version V_2_3_0 = new Version(V_2_3_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +            case V_2_3_0_ID:, +                return V_2_3_0;, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_2_3_0_ID = 2030099;, +    public static final Version V_2_3_0 = new Version(V_2_3_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +            case V_2_3_0_ID:, +                return V_2_3_0;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_2_3_0_ID = 2030099;, +    public static final Version V_2_3_0 = new Version(V_2_3_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +            case V_2_3_0_ID:, +                return V_2_3_0;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_2_3_0_ID = 2030099;, +    public static final Version V_2_3_0 = new Version(V_2_3_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +            case V_2_3_0_ID:, +                return V_2_3_0;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source) throws MapperParsingException {, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source, String defaultSource) throws MapperParsingException {, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_2_3_0_ID = 2030099;, +    public static final Version V_2_3_0 = new Version(V_2_3_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +            case V_2_3_0_ID:, +                return V_2_3_0;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source) throws MapperParsingException {, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source, String defaultSource) throws MapperParsingException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            DocumentMapper mapper = documentParser.parse(type, mappingSource);, +        return documentParser.parse(mappingType, mappingSource, applyDefault ? defaultMappingSource : null);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_2_3_0_ID = 2030099;, +    public static final Version V_2_3_0 = new Version(V_2_3_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +            case V_2_3_0_ID:, +                return V_2_3_0;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source) throws MapperParsingException {, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source, String defaultSource) throws MapperParsingException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            DocumentMapper mapper = documentParser.parse(type, mappingSource);, +        return documentParser.parse(mappingType, mappingSource, applyDefault ? defaultMappingSource : null);, +++ b/core/src/main/java/org/elasticsearch/index/shard/IndexShard.java, +                return translog.sizeInBytes() > flushThresholdSize.bytes();, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_2_3_0_ID = 2030099;, +    public static final Version V_2_3_0 = new Version(V_2_3_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +            case V_2_3_0_ID:, +                return V_2_3_0;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source) throws MapperParsingException {, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source, String defaultSource) throws MapperParsingException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            DocumentMapper mapper = documentParser.parse(type, mappingSource);, +        return documentParser.parse(mappingType, mappingSource, applyDefault ? defaultMappingSource : null);, +++ b/core/src/main/java/org/elasticsearch/index/shard/IndexShard.java, +                return translog.sizeInBytes() > flushThresholdSize.bytes();, +++ b/core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_2_3_0_ID = 2030099;, +    public static final Version V_2_3_0 = new Version(V_2_3_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +            case V_2_3_0_ID:, +                return V_2_3_0;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source) throws MapperParsingException {, +    public DocumentMapper parse(@Nullable String type, CompressedXContent source, String defaultSource) throws MapperParsingException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            DocumentMapper mapper = documentParser.parse(type, mappingSource);, +        return documentParser.parse(mappingType, mappingSource, applyDefault ? defaultMappingSource : null);, +++ b/core/src/main/java/org/elasticsearch/index/shard/IndexShard.java, +                return translog.sizeInBytes() > flushThresholdSize.bytes();, +++ b/core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java, +++ b/core/src/test/java/org/elasticsearch/codecs/CodecTests.java, +import org.elasticsearch.common.compress.CompressedXContent;, +                parser.parse("type", new CompressedXContent(mapping));, +                parser.parse("type", new CompressedXContent(mapping));, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final int V_2_3_0_ID = 2030099;, +    public static final Version V_2_3_0 = new Version(V_2_3_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +            case V_2_3_0_ID:, +                return V_2_3_0;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +++ b/core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java]