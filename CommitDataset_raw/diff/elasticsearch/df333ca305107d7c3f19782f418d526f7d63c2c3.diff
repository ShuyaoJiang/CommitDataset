[+++ b/server/src/test/java/org/elasticsearch/search/aggregations/metrics/InternalTopHitsTests.java, +        float maxScore = Float.NEGATIVE_INFINITY;, +        // Lucene's TopDocs initializes the maxScore to Float.NaN, if there is no maxScore, +        TopDocsAndMaxScore topDocsAndMaxScore = new TopDocsAndMaxScore(topDocs, maxScore == Float.NEGATIVE_INFINITY ? Float.NaN : maxScore);, +        float maxScore = Float.NEGATIVE_INFINITY;, +        SearchHits expectedHits = new SearchHits(expectedHitsHits, totalHits, maxScore == Float.NEGATIVE_INFINITY ? Float.NaN : maxScore);]