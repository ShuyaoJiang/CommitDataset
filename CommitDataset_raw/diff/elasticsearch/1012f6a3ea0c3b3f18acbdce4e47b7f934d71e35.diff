[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java, +import org.elasticsearch.index.analysis.NamedAnalyzer;, +                NamedAnalyzer analyzer = analysisService.analyzer(fieldNode.toString());, +                if (analyzer == null) {, +                    throw new MapperParsingException("Analyzer [" + fieldNode.toString() + "] not found for index_analyzer setting on root type [" + type + "]");, +                }, +                docBuilder.indexAnalyzer(analyzer);, +                NamedAnalyzer analyzer = analysisService.analyzer(fieldNode.toString());, +                if (analyzer == null) {, +                    throw new MapperParsingException("Analyzer [" + fieldNode.toString() + "] not found for search_analyzer setting on root type [" + type + "]");, +                }, +                docBuilder.searchAnalyzer(analyzer);, +                NamedAnalyzer analyzer = analysisService.analyzer(fieldNode.toString());, +                if (analyzer == null) {, +                    throw new MapperParsingException("Analyzer [" + fieldNode.toString() + "] not found for analyzer setting on root type [" + type + "]");, +                }, +                docBuilder.indexAnalyzer(analyzer);, +                docBuilder.searchAnalyzer(analyzer);]