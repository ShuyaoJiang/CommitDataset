[+++ b/server/src/test/java/org/elasticsearch/common/util/BigArraysTests.java, +            final int maxSize = randomIntBetween(1 << 8, 1 << 14);, +            final int size = scaledRandomIntBetween(10, maxSize / 16);, +            while (true) {, +                long newSize = array.size() * 2;, +                try {, +                    array = (BigArray) resize.invoke(bigArrays, array, newSize);, +                } catch (InvocationTargetException e) {, +                    break;, +                }, +            }]