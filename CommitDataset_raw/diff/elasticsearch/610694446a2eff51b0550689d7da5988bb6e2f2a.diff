[+++ b/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java, +                    // The bucket ordinal may be out of range in case of eg. a terms/filter/terms where, +                    // the filter matches no document in the highest buckets of the first terms agg, +                    if (owningBucketOrdinal >= aggregators.size() || aggregators.get(owningBucketOrdinal) == null) {, +                        return first.buildEmptyAggregation();, +                    } else {, +                }]