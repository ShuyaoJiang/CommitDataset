[+++ b/src/test/java/org/elasticsearch/test/integration/indexlifecycle/IndexLifecycleActionTests.java, +import org.elasticsearch.discovery.Discovery;, +        final String node1 = getLocalNodeId("server1");, +        final String node2 = getLocalNodeId("server2");, +, +        final String node3 = getLocalNodeId("server3");, +, +    private String getLocalNodeId(String name) {, +        assert node(name) != null : "no node for name: " + name;, +        Discovery discovery = ((InternalNode) node(name)).injector().getInstance(Discovery.class);, +        String nodeId = discovery.localNode().getId();, +        assertThat(nodeId, not(nullValue()));, +        return nodeId;, +    }, +        final String node1 = getLocalNodeId("server1");, +        final String node2 = getLocalNodeId("server2");, +        final String node3 = getLocalNodeId("server3");]