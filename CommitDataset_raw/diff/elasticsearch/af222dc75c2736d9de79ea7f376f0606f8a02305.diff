[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java, +import org.elasticsearch.common.Strings;, +            tokenizerFactoryFactory = tokenizerFactories.get(Strings.toCamelCase(tokenizerName));, +            if (tokenizerFactoryFactory == null) {, +                tokenizerFactoryFactory = tokenizerFactories.get(Strings.toUnderscoreCase(tokenizerName));, +                if (tokenizerFactoryFactory == null) {, +            }, +        }, +        TokenizerFactory tokenizerFactory = tokenizerFactoryFactory.create(tokenizerName, tokenizerSettings);, +                charFilterFactoryFactory = charFilterFactories.get(Strings.toCamelCase(charFilterName));, +                if (charFilterFactoryFactory == null) {, +                    charFilterFactoryFactory = charFilterFactories.get(Strings.toUnderscoreCase(charFilterName));, +                    if (charFilterFactoryFactory == null) {, +                }, +            }, +        CharFilterFactory[] charFilterFactories1 = charFilters.toArray(new CharFilterFactory[charFilters.size()]);, +                tokenFilterFactoryFactory = tokenFilterFactories.get(Strings.toCamelCase(tokenFilterName));, +                if (tokenFilterFactoryFactory == null) {, +                    tokenFilterFactoryFactory = tokenFilterFactories.get(Strings.toUnderscoreCase(tokenFilterName));, +                    if (tokenFilterFactoryFactory == null) {, +                }, +            }, +        TokenFilterFactory[] tokenFilterFactories1 = tokenFilters.toArray(new TokenFilterFactory[tokenFilters.size()]);, +        this.customAnalyzer = new CustomAnalyzer(tokenizerFactory, charFilterFactories1, tokenFilterFactories1);]