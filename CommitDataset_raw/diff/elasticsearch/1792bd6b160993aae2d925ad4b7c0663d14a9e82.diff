[+++ b/src/main/java/org/elasticsearch/index/shard/IndexShardState.java, +    private static final IndexShardState[] ORDS = new IndexShardState[IndexShardState.values().length];, +, +    static {, +        for (IndexShardState state : IndexShardState.values()) {, +            ORDS[state.id()] = state;, +        }, +    }, +, +        if (id < ORDS[0].id && id > ORDS[ORDS.length - 1].id) {, +        return ORDS[id];, +    }]