[+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/support/TokensInvalidationResult.java, +    private final int attemptCount;, +                                    @Nullable List<ElasticsearchException> errors, int attemptCount) {, +        this.attemptCount = attemptCount;, +        this.attemptCount = in.readVInt();, +        return new TokensInvalidationResult(Collections.emptyList(), Collections.emptyList(), Collections.emptyList(), 0);, +    public int getAttemptCount() {, +        return attemptCount;, +    }, +, +        out.writeVInt(attemptCount);, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/support/TokensInvalidationResult.java, +    private final int attemptCount;, +                                    @Nullable List<ElasticsearchException> errors, int attemptCount) {, +        this.attemptCount = attemptCount;, +        this.attemptCount = in.readVInt();, +        return new TokensInvalidationResult(Collections.emptyList(), Collections.emptyList(), Collections.emptyList(), 0);, +    public int getAttemptCount() {, +        return attemptCount;, +    }, +, +        out.writeVInt(attemptCount);, +++ b/x-pack/plugin/core/src/main/resources/security-index-template.json, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/support/TokensInvalidationResult.java, +    private final int attemptCount;, +                                    @Nullable List<ElasticsearchException> errors, int attemptCount) {, +        this.attemptCount = attemptCount;, +        this.attemptCount = in.readVInt();, +        return new TokensInvalidationResult(Collections.emptyList(), Collections.emptyList(), Collections.emptyList(), 0);, +    public int getAttemptCount() {, +        return attemptCount;, +    }, +, +        out.writeVInt(attemptCount);, +++ b/x-pack/plugin/core/src/main/resources/security-index-template.json, +++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/token/InvalidateTokenResponseTests.java, +                new ElasticsearchException("bar", new IllegalArgumentException("this is an error message2"))),, +            randomIntBetween(0, 5));, +            Arrays.asList(generateRandomStringArray(20, 15, false)),, +            Collections.emptyList(), randomIntBetween(0, 5));, +                new ElasticsearchException("bar", new IllegalArgumentException("this is an error message2"))),, +            randomIntBetween(0, 5));, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/support/TokensInvalidationResult.java, +    private final int attemptCount;, +                                    @Nullable List<ElasticsearchException> errors, int attemptCount) {, +        this.attemptCount = attemptCount;, +        this.attemptCount = in.readVInt();, +        return new TokensInvalidationResult(Collections.emptyList(), Collections.emptyList(), Collections.emptyList(), 0);, +    public int getAttemptCount() {, +        return attemptCount;, +    }, +, +        out.writeVInt(attemptCount);, +++ b/x-pack/plugin/core/src/main/resources/security-index-template.json, +++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/token/InvalidateTokenResponseTests.java, +                new ElasticsearchException("bar", new IllegalArgumentException("this is an error message2"))),, +            randomIntBetween(0, 5));, +            Arrays.asList(generateRandomStringArray(20, 15, false)),, +            Collections.emptyList(), randomIntBetween(0, 5));, +                new ElasticsearchException("bar", new IllegalArgumentException("this is an error message2"))),, +            randomIntBetween(0, 5));, +++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/action/saml/TransportSamlAuthenticateAction.java, +                            final String tokenString = tokenService.getUserTokenString(tuple.v1());, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/support/TokensInvalidationResult.java, +    private final int attemptCount;, +                                    @Nullable List<ElasticsearchException> errors, int attemptCount) {, +        this.attemptCount = attemptCount;, +        this.attemptCount = in.readVInt();, +        return new TokensInvalidationResult(Collections.emptyList(), Collections.emptyList(), Collections.emptyList(), 0);, +    public int getAttemptCount() {, +        return attemptCount;, +    }, +, +        out.writeVInt(attemptCount);, +++ b/x-pack/plugin/core/src/main/resources/security-index-template.json, +++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/token/InvalidateTokenResponseTests.java, +                new ElasticsearchException("bar", new IllegalArgumentException("this is an error message2"))),, +            randomIntBetween(0, 5));, +            Arrays.asList(generateRandomStringArray(20, 15, false)),, +            Collections.emptyList(), randomIntBetween(0, 5));, +                new ElasticsearchException("bar", new IllegalArgumentException("this is an error message2"))),, +            randomIntBetween(0, 5));, +++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/action/saml/TransportSamlAuthenticateAction.java, +                            final String tokenString = tokenService.getUserTokenString(tuple.v1());, +++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/action/token/TransportCreateTokenAction.java, +                final String tokenStr = tokenService.getUserTokenString(tuple.v1());, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/support/TokensInvalidationResult.java, +    private final int attemptCount;, +                                    @Nullable List<ElasticsearchException> errors, int attemptCount) {, +        this.attemptCount = attemptCount;, +        this.attemptCount = in.readVInt();, +        return new TokensInvalidationResult(Collections.emptyList(), Collections.emptyList(), Collections.emptyList(), 0);, +    public int getAttemptCount() {, +        return attemptCount;, +    }, +, +        out.writeVInt(attemptCount);, +++ b/x-pack/plugin/core/src/main/resources/security-index-template.json, +++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/token/InvalidateTokenResponseTests.java, +                new ElasticsearchException("bar", new IllegalArgumentException("this is an error message2"))),]