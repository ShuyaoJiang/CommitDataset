[+++ b/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java, +                    XContentBuilder builder = restContentBuilder(request, false);, +++ b/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java, +                    XContentBuilder builder = restContentBuilder(request, false);, +++ b/src/main/java/org/elasticsearch/rest/action/support/RestXContentBuilder.java, +        return restContentBuilder(request, true);, +    }, +, +    public static XContentBuilder restContentBuilder(RestRequest request, boolean autoDetect) throws IOException {, +            if (autoDetect && request.hasContent()) {]