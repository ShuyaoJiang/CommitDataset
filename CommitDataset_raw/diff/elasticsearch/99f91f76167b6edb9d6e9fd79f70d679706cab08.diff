[+++ b/src/main/java/org/elasticsearch/action/bulk/BulkItemRequest.java, +import org.elasticsearch.Version;, +    private volatile BulkItemResponse primaryResponse;, +    private volatile boolean ignoreOnReplica;, +    BulkItemResponse getPrimaryResponse() {, +        return primaryResponse;, +    }, +, +    void setPrimaryResponse(BulkItemResponse primaryResponse) {, +        this.primaryResponse = primaryResponse;, +    }, +, +    /**, +     * Marks this request to be ignored and *not* execute on a replica., +     */, +    void setIgnoreOnReplica() {, +        this.ignoreOnReplica = true;, +    }, +, +    boolean isIgnoreOnReplica() {, +        return ignoreOnReplica;, +    }, +, +        if (in.getVersion().onOrAfter(Version.V_1_4_0_Beta1)) {, +            if (in.readBoolean()) {, +                primaryResponse = BulkItemResponse.readBulkItem(in);, +            }, +            ignoreOnReplica = in.readBoolean();, +        }, +        if (out.getVersion().onOrAfter(Version.V_1_4_0_Beta1)) {, +            out.writeOptionalStreamable(primaryResponse);, +            out.writeBoolean(ignoreOnReplica);, +        }, +++ b/src/main/java/org/elasticsearch/action/bulk/BulkItemRequest.java, +import org.elasticsearch.Version;, +    private volatile BulkItemResponse primaryResponse;, +    private volatile boolean ignoreOnReplica;, +    BulkItemResponse getPrimaryResponse() {, +        return primaryResponse;, +    }, +, +    void setPrimaryResponse(BulkItemResponse primaryResponse) {, +        this.primaryResponse = primaryResponse;, +    }, +, +    /**, +     * Marks this request to be ignored and *not* execute on a replica., +     */, +    void setIgnoreOnReplica() {, +        this.ignoreOnReplica = true;, +    }, +, +    boolean isIgnoreOnReplica() {, +        return ignoreOnReplica;, +    }, +, +        if (in.getVersion().onOrAfter(Version.V_1_4_0_Beta1)) {, +            if (in.readBoolean()) {, +                primaryResponse = BulkItemResponse.readBulkItem(in);, +            }, +            ignoreOnReplica = in.readBoolean();, +        }, +        if (out.getVersion().onOrAfter(Version.V_1_4_0_Beta1)) {, +            out.writeOptionalStreamable(primaryResponse);, +            out.writeBoolean(ignoreOnReplica);, +        }, +++ b/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java, +import org.elasticsearch.Version;, +                // if we are serializing to a node that is pre 1.4, make sure to pass null to maintain, +                // the old behavior of putting null in the request to be ignored on the replicas, +                if (item.isIgnoreOnReplica() && out.getVersion().before(Version.V_1_4_0_Beta1)) {, +                    out.writeBoolean(false);, +                } else {, +                }, +++ b/src/main/java/org/elasticsearch/action/bulk/BulkItemRequest.java, +import org.elasticsearch.Version;, +    private volatile BulkItemResponse primaryResponse;, +    private volatile boolean ignoreOnReplica;, +    BulkItemResponse getPrimaryResponse() {, +        return primaryResponse;, +    }, +, +    void setPrimaryResponse(BulkItemResponse primaryResponse) {, +        this.primaryResponse = primaryResponse;, +    }, +, +    /**, +     * Marks this request to be ignored and *not* execute on a replica., +     */, +    void setIgnoreOnReplica() {, +        this.ignoreOnReplica = true;, +    }, +, +    boolean isIgnoreOnReplica() {, +        return ignoreOnReplica;, +    }, +, +        if (in.getVersion().onOrAfter(Version.V_1_4_0_Beta1)) {, +            if (in.readBoolean()) {, +                primaryResponse = BulkItemResponse.readBulkItem(in);]