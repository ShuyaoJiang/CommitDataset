[+++ b/server/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java, +import org.elasticsearch.cluster.action.index.MappingUpdatedAction;, +import org.elasticsearch.common.unit.TimeValue;, +        client().admin().cluster().prepareUpdateSettings().setTransientSettings(, +            Settings.builder().put(MappingUpdatedAction.INDICES_MAPPING_DYNAMIC_TIMEOUT_SETTING.getKey(), TimeValue.timeValueMinutes(5))), +            .get();, +        int recCount = randomIntBetween(20, 200);, +            indexRequests.add(client().prepareIndex("test", type, Integer.toString(rec)), +                .setTimeout(TimeValue.timeValueMinutes(5)).setSource(fieldName, "some_value"));, +        indexRandom(true, false, indexRequests);, +, +        client().admin().cluster().prepareUpdateSettings().setTransientSettings(, +            Settings.builder().putNull(MappingUpdatedAction.INDICES_MAPPING_DYNAMIC_TIMEOUT_SETTING.getKey())).get();, +                        ).setMasterNodeTimeout(TimeValue.timeValueMinutes(5)).get();]