[+++ b/core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java, +        BlobContainer testBlobContainer = blobStore.blobContainer(basePath.add(testBlobPrefix(seed)));, +        if (testBlobContainer.blobExists("master.dat")) {, +            try (OutputStream outputStream = testBlobContainer.createOutput("data-" + localNode.getId() + ".dat")) {, +++ b/core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java, +        BlobContainer testBlobContainer = blobStore.blobContainer(basePath.add(testBlobPrefix(seed)));, +        if (testBlobContainer.blobExists("master.dat")) {, +            try (OutputStream outputStream = testBlobContainer.createOutput("data-" + localNode.getId() + ".dat")) {, +++ b/core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java, +            BlobContainer testContainer = blobStore().blobContainer(basePath().add(testBlobPrefix(seed)));, +            String blobName = "master.dat";, +            try (OutputStream outputStream = testContainer.createOutput(blobName + "-temp")) {, +            testContainer.move(blobName + "-temp", blobName);, +            blobStore().delete(basePath().add(testBlobPrefix(seed)));]