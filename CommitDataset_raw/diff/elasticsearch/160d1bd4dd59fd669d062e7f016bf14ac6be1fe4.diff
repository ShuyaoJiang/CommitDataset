[+++ b/server/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java, +        assertAcked(prepareCreate("test").addMapping("type", "past", "type=date"));, +++ b/server/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java, +        assertAcked(prepareCreate("test").addMapping("type", "past", "type=date"));, +++ b/test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java, +import org.elasticsearch.bootstrap.JavaVersion;, +        // work around a JDK bug, where java 8 cannot parse the timezone GMT0 back into a temporal accessor, +        // see https://bugs.openjdk.java.net/browse/JDK-8138664, +        if (JavaVersion.current().getVersion().get(0) == 8) {, +            ZoneId timeZone;, +            do {, +                timeZone = ZoneId.of(randomFrom(JAVA_ZONE_IDS));, +            } while (timeZone.equals(ZoneId.of("GMT0")));, +            return timeZone;, +        } else {, +    }]