[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java, +import org.elasticsearch.common.unit.TimeValue;, +import org.elasticsearch.common.xcontent.XContentParser;, +            long ttl;, +            if (context.parser().currentToken() == XContentParser.Token.VALUE_STRING) {, +                ttl = TimeValue.parseTimeValue(context.parser().text(), null).millis();, +            } else {, +                ttl = context.parser().longValue();, +            }]