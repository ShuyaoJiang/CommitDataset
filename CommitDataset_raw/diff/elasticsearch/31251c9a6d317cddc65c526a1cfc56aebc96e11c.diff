[+++ b/docs/reference/migration/migrate_7_0/settings.asciidoc, +* The setting `http.enabled` previously allowed disabling binding to HTTP, only allowing, +, +[[remove-http-pipelining-setting]], +==== Http pipelining setting removed, +, +* The setting `http.pipelining` previously allowed disabling HTTP pipelining support., +This setting has been removed, as disabling http pipelining support on the server, +provided little value. The setting `http.pipelining.max_events` can still be used to, +limit the number of pipelined requests in-flight., +++ b/docs/reference/migration/migrate_7_0/settings.asciidoc, +* The setting `http.enabled` previously allowed disabling binding to HTTP, only allowing, +, +[[remove-http-pipelining-setting]], +==== Http pipelining setting removed, +, +* The setting `http.pipelining` previously allowed disabling HTTP pipelining support., +This setting has been removed, as disabling http pipelining support on the server, +provided little value. The setting `http.pipelining.max_events` can still be used to, +limit the number of pipelined requests in-flight., +++ b/docs/reference/modules/http.asciidoc, +++ b/docs/reference/migration/migrate_7_0/settings.asciidoc, +* The setting `http.enabled` previously allowed disabling binding to HTTP, only allowing, +, +[[remove-http-pipelining-setting]], +==== Http pipelining setting removed, +, +* The setting `http.pipelining` previously allowed disabling HTTP pipelining support., +This setting has been removed, as disabling http pipelining support on the server, +provided little value. The setting `http.pipelining.max_events` can still be used to, +limit the number of pipelined requests in-flight., +++ b/docs/reference/modules/http.asciidoc, +++ b/modules/transport-netty4/src/main/java/org/elasticsearch/http/netty4/Netty4HttpChannel.java, +    private final int sequence;, +     * @param sequence         The pipelining sequence number for this request, +     * @param handlingSettings true if error messages should include stack traces., +    Netty4HttpChannel(Netty4HttpServerTransport transport, Netty4HttpRequest request, int sequence, HttpHandlingSettings handlingSettings,, +                      ThreadContext threadContext) {, +        this.sequence = sequence;, +            Netty4HttpResponse newResponse = new Netty4HttpResponse(sequence, resp);, +, +            channel.writeAndFlush(newResponse, promise);, +++ b/docs/reference/migration/migrate_7_0/settings.asciidoc, +* The setting `http.enabled` previously allowed disabling binding to HTTP, only allowing, +, +[[remove-http-pipelining-setting]], +==== Http pipelining setting removed, +, +* The setting `http.pipelining` previously allowed disabling HTTP pipelining support., +This setting has been removed, as disabling http pipelining support on the server, +provided little value. The setting `http.pipelining.max_events` can still be used to, +limit the number of pipelined requests in-flight., +++ b/docs/reference/modules/http.asciidoc, +++ b/modules/transport-netty4/src/main/java/org/elasticsearch/http/netty4/Netty4HttpChannel.java, +    private final int sequence;, +     * @param sequence         The pipelining sequence number for this request, +     * @param handlingSettings true if error messages should include stack traces., +    Netty4HttpChannel(Netty4HttpServerTransport transport, Netty4HttpRequest request, int sequence, HttpHandlingSettings handlingSettings,, +                      ThreadContext threadContext) {, +        this.sequence = sequence;, +            Netty4HttpResponse newResponse = new Netty4HttpResponse(sequence, resp);, +, +            channel.writeAndFlush(newResponse, promise);, +++ b/modules/transport-netty4/src/main/java/org/elasticsearch/http/netty4/Netty4HttpPipeliningHandler.java, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +, +package org.elasticsearch.http.netty4;, +, +import io.netty.channel.ChannelDuplexHandler;, +import io.netty.channel.ChannelHandlerContext;, +import io.netty.channel.ChannelPromise;, +import io.netty.handler.codec.http.LastHttpContent;, +import org.apache.logging.log4j.Logger;, +import org.elasticsearch.common.collect.Tuple;, +import org.elasticsearch.http.HttpPipelinedRequest;, +import org.elasticsearch.http.HttpPipeliningAggregator;, +import org.elasticsearch.transport.netty4.Netty4Utils;, +, +import java.nio.channels.ClosedChannelException;, +import java.util.Collections;, +import java.util.List;, +, +/**]