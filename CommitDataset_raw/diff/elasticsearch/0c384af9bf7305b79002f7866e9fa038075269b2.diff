[+++ b/plugins/transport/thrift/src/main/java/org/elasticsearch/thrift/ThriftRestImpl.java, +import org.elasticsearch.rest.StringRestResponse;, +import static org.elasticsearch.rest.RestStatus.*;, +, +        boolean dispatched = restController.dispatchRequest(new ThriftRestRequest(request), new RestChannel() {, +        if (!dispatched) {, +            try {, +                ref.set(convert(new StringRestResponse(BAD_REQUEST, "No handler found for uri [" + request.getUri() + "] and method [" + request.getMethod() + "]")));, +            } catch (IOException e) {, +                // ignore, will not happen... (from convert), +            }, +            latch.countDown();, +        }, +++ b/plugins/transport/thrift/src/main/java/org/elasticsearch/thrift/ThriftRestImpl.java, +import org.elasticsearch.rest.StringRestResponse;, +import static org.elasticsearch.rest.RestStatus.*;, +, +        boolean dispatched = restController.dispatchRequest(new ThriftRestRequest(request), new RestChannel() {, +        if (!dispatched) {, +            try {, +                ref.set(convert(new StringRestResponse(BAD_REQUEST, "No handler found for uri [" + request.getUri() + "] and method [" + request.getMethod() + "]")));, +            } catch (IOException e) {, +                // ignore, will not happen... (from convert), +            }, +            latch.countDown();, +        }, +++ b/plugins/transport/thrift/src/test/java/org/elasticsearch/thrift/test/SimpleThriftTests.java, +, +        request = new RestRequest(Method.GET, "/bogusindex");, +        response = client.execute(request);, +        assertThat(response.getStatus(), equalTo(Status.BAD_REQUEST));]