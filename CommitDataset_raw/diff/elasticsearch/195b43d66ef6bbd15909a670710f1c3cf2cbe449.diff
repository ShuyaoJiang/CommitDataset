[+++ b/core/src/main/java/org/elasticsearch/action/ActionListener.java, + *, + *, +, +     * A response handler., +     * A failure handler., +++ b/core/src/main/java/org/elasticsearch/action/ActionListener.java, + *, + *, +, +     * A response handler., +     * A failure handler., +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java, +    public static class Failure {, +            String fIndex = in.readString();, +            String fType = in.readString();, +            String fId = in.readOptionalString();, +            Throwable throwable = in.readThrowable();, +            failure = new Failure(fIndex, fType, fId, throwable);, +            out.writeString(failure.getIndex());, +            out.writeString(failure.getType());, +            out.writeOptionalString(failure.getId());, +            out.writeThrowable(failure.getCause());, +++ b/core/src/main/java/org/elasticsearch/action/ActionListener.java, + *, + *, +, +     * A response handler., +     * A failure handler., +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java, +    public static class Failure {, +            String fIndex = in.readString();, +            String fType = in.readString();, +            String fId = in.readOptionalString();, +            Throwable throwable = in.readThrowable();, +            failure = new Failure(fIndex, fType, fId, throwable);, +            out.writeString(failure.getIndex());, +            out.writeString(failure.getType());, +            out.writeOptionalString(failure.getId());, +            out.writeThrowable(failure.getCause());, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java, +        return "shard bulk {" + super.toString() + "}";, +++ b/core/src/main/java/org/elasticsearch/action/ActionListener.java, + *, + *, +, +     * A response handler., +     * A failure handler., +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java, +    public static class Failure {, +            String fIndex = in.readString();, +            String fType = in.readString();, +            String fId = in.readOptionalString();, +            Throwable throwable = in.readThrowable();, +            failure = new Failure(fIndex, fType, fId, throwable);, +            out.writeString(failure.getIndex());, +            out.writeString(failure.getType());, +            out.writeOptionalString(failure.getId());, +            out.writeThrowable(failure.getCause());, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java, +        return "shard bulk {" + super.toString() + "}";, +++ b/core/src/main/java/org/elasticsearch/action/bulk/Retry.java, +class Retry {, +++ b/core/src/main/java/org/elasticsearch/action/ActionListener.java, + *, + *, +, +     * A response handler., +     * A failure handler., +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java, +    public static class Failure {, +            String fIndex = in.readString();, +            String fType = in.readString();, +            String fId = in.readOptionalString();, +            Throwable throwable = in.readThrowable();, +            failure = new Failure(fIndex, fType, fId, throwable);, +            out.writeString(failure.getIndex());, +            out.writeString(failure.getType());, +            out.writeOptionalString(failure.getId());, +            out.writeThrowable(failure.getCause());, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java, +        return "shard bulk {" + super.toString() + "}";, +++ b/core/src/main/java/org/elasticsearch/action/bulk/Retry.java, +class Retry {, +++ b/core/src/main/java/org/elasticsearch/action/index/IndexRequest.java, +        type = in.readString();, +        out.writeString(type);, +++ b/core/src/main/java/org/elasticsearch/action/ActionListener.java, + *, + *, +, +     * A response handler., +     * A failure handler., +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java, +    public static class Failure {, +            String fIndex = in.readString();, +            String fType = in.readString();, +            String fId = in.readOptionalString();, +            Throwable throwable = in.readThrowable();, +            failure = new Failure(fIndex, fType, fId, throwable);]