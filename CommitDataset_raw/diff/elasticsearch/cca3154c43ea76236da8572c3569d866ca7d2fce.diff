[+++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +     * Is the source available or not. A source with no fields will return true. This will return false if {@code fields} doesn't contain, +     * {@code _source} or if source is disabled in the mapping., +    boolean hasSource();, +++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +     * Is the source available or not. A source with no fields will return true. This will return false if {@code fields} doesn't contain, +     * {@code _source} or if source is disabled in the mapping., +    boolean hasSource();, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java, +    public boolean hasSource() {, +++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +     * Is the source available or not. A source with no fields will return true. This will return false if {@code fields} doesn't contain, +     * {@code _source} or if source is disabled in the mapping., +    boolean hasSource();, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java, +    public boolean hasSource() {, +++ b/modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java, +        assertThat(response.getHits().getAt(0).hasSource(), equalTo(true));, +++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +     * Is the source available or not. A source with no fields will return true. This will return false if {@code fields} doesn't contain, +     * {@code _source} or if source is disabled in the mapping., +    boolean hasSource();, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java, +    public boolean hasSource() {, +++ b/modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java, +        assertThat(response.getHits().getAt(0).hasSource(), equalTo(true));, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java, +            if (doc.hasSource()) {, +++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +     * Is the source available or not. A source with no fields will return true. This will return false if {@code fields} doesn't contain, +     * {@code _source} or if source is disabled in the mapping., +    boolean hasSource();, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java, +    public boolean hasSource() {, +++ b/modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java, +        assertThat(response.getHits().getAt(0).hasSource(), equalTo(true));, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java, +            if (doc.hasSource()) {, +++ b/modules/reindex/src/test/resources/rest-api-spec/test/reindex/10_basic.yaml, +, +---, +"Source document without any fields works":, +  - do:, +      index:, +        index:   source, +        type:    foo, +        id:      1, +        body:    {}, +  - do:, +      indices.refresh: {}, +, +  - do:, +      reindex:, +        body:, +          source:, +            index: source, +          dest:, +            index: dest, +  - match: {created: 1}, +, +  - do:, +      get:, +        index:   dest, +        type:    foo, +        id:      1, +  - match: { _source: {} }, +++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +     * Is the source available or not. A source with no fields will return true. This will return false if {@code fields} doesn't contain, +     * {@code _source} or if source is disabled in the mapping., +    boolean hasSource();, +++ b/core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java, +    public boolean hasSource() {, +++ b/modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java, +        assertThat(response.getHits().getAt(0).hasSource(), equalTo(true));, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java, +            if (doc.hasSource()) {, +++ b/modules/reindex/src/test/resources/rest-api-spec/test/reindex/10_basic.yaml, +, +---, +"Source document without any fields works":, +  - do:, +      index:, +        index:   source, +        type:    foo, +        id:      1, +        body:    {}, +  - do:, +      indices.refresh: {}, +, +  - do:, +      reindex:, +        body:, +          source:, +            index: source, +          dest:, +            index: dest, +  - match: {created: 1}, +, +  - do:, +      get:]