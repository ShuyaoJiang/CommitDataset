[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/field/FieldData.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/field/FieldData.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/util/lucene/search/AndFilter.java, +, +    @Override public int hashCode() {, +        int hash = 7;, +        hash = 31 * hash + (null == filters ? 0 : filters.hashCode());, +        return hash;, +    }, +, +    @Override public boolean equals(Object obj) {, +        if (this == obj), +            return true;, +, +        if ((obj == null) || (obj.getClass() != this.getClass())), +            return false;, +, +        AndFilter other = (AndFilter) obj;, +        return equalFilters(filters, other.filters);, +    }, +, +    private boolean equalFilters(List<? extends Filter> filters1, List<? extends Filter> filters2) {, +        return (filters1 == filters2) || ((filters1 != null) && filters1.equals(filters2));, +    }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/field/FieldData.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/util/lucene/search/AndFilter.java, +, +    @Override public int hashCode() {, +        int hash = 7;, +        hash = 31 * hash + (null == filters ? 0 : filters.hashCode());, +        return hash;, +    }, +, +    @Override public boolean equals(Object obj) {, +        if (this == obj), +            return true;, +, +        if ((obj == null) || (obj.getClass() != this.getClass())), +            return false;, +, +        AndFilter other = (AndFilter) obj;, +        return equalFilters(filters, other.filters);, +    }, +, +    private boolean equalFilters(List<? extends Filter> filters1, List<? extends Filter> filters2) {, +        return (filters1 == filters2) || ((filters1 != null) && filters1.equals(filters2));, +    }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/util/lucene/search/NotFilter.java, +, +    @Override, +    public boolean equals(Object o) {, +        if (this == o) return true;, +        if (o == null || getClass() != o.getClass()) return false;, +, +        NotFilter notFilter = (NotFilter) o;, +        return !(filter != null ? !filter.equals(notFilter.filter) : notFilter.filter != null);, +    }, +, +    @Override, +    public int hashCode() {, +        return filter != null ? filter.hashCode() : 0;, +    }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/field/FieldData.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/util/lucene/search/AndFilter.java, +, +    @Override public int hashCode() {, +        int hash = 7;, +        hash = 31 * hash + (null == filters ? 0 : filters.hashCode());, +        return hash;, +    }, +, +    @Override public boolean equals(Object obj) {, +        if (this == obj), +            return true;, +, +        if ((obj == null) || (obj.getClass() != this.getClass())), +            return false;, +, +        AndFilter other = (AndFilter) obj;, +        return equalFilters(filters, other.filters);, +    }, +, +    private boolean equalFilters(List<? extends Filter> filters1, List<? extends Filter> filters2) {, +        return (filters1 == filters2) || ((filters1 != null) && filters1.equals(filters2));, +    }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/util/lucene/search/NotFilter.java, +, +    @Override, +    public boolean equals(Object o) {, +        if (this == o) return true;, +        if (o == null || getClass() != o.getClass()) return false;, +, +        NotFilter notFilter = (NotFilter) o;, +        return !(filter != null ? !filter.equals(notFilter.filter) : notFilter.filter != null);, +    }, +, +    @Override, +    public int hashCode() {, +        return filter != null ? filter.hashCode() : 0;, +    }]