[+++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java, +import org.elasticsearch.common.settings.SettingsException;, +import java.nio.file.FileVisitOption;, +import java.nio.file.FileVisitResult;, +import java.nio.file.Files;, +import java.nio.file.Path;, +import java.nio.file.SimpleFileVisitor;, +            settingsBuilder.loadFromPath(file);, +        } catch (SettingsException | NoClassDefFoundError e) {, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java, +import org.elasticsearch.common.settings.SettingsException;, +import java.nio.file.FileVisitOption;, +import java.nio.file.FileVisitResult;, +import java.nio.file.Files;, +import java.nio.file.Path;, +import java.nio.file.SimpleFileVisitor;, +            settingsBuilder.loadFromPath(file);, +        } catch (SettingsException | NoClassDefFoundError e) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java, +import org.elasticsearch.common.settings.SettingsException;, +import java.nio.file.FileVisitOption;, +import java.nio.file.FileVisitResult;, +import java.nio.file.Files;, +import java.nio.file.Path;, +import java.nio.file.SimpleFileVisitor;, +            settingsBuilder.loadFromPath(file);, +        } catch (SettingsException | NoClassDefFoundError e) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java, +import org.elasticsearch.common.settings.SettingsException;, +import java.nio.file.FileVisitOption;, +import java.nio.file.FileVisitResult;, +import java.nio.file.Files;, +import java.nio.file.Path;, +import java.nio.file.SimpleFileVisitor;, +            settingsBuilder.loadFromPath(file);, +        } catch (SettingsException | NoClassDefFoundError e) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java, +import org.elasticsearch.common.settings.SettingsException;, +import java.nio.file.FileVisitOption;, +import java.nio.file.FileVisitResult;, +import java.nio.file.Files;, +import java.nio.file.Path;, +import java.nio.file.SimpleFileVisitor;, +            settingsBuilder.loadFromPath(file);, +        } catch (SettingsException | NoClassDefFoundError e) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/analysis/Analysis.java, +import java.nio.file.Path;, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.List;, +import java.util.Locale;, +import java.util.Map;, +import java.util.Set;, +        final Path wordListFile = env.configFile().resolve(wordListPath);, +        try (BufferedReader reader = FileSystemUtils.newBufferedReader(wordListFile.toUri().toURL(), Charsets.UTF_8)) {, +        final Path path = env.configFile().resolve(filePath);, +            return FileSystemUtils.newBufferedReader(path.toUri().toURL(), Charsets.UTF_8);, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java, +import org.elasticsearch.common.settings.SettingsException;, +import java.nio.file.FileVisitOption;, +import java.nio.file.FileVisitResult;, +import java.nio.file.Files;, +import java.nio.file.Path;, +import java.nio.file.SimpleFileVisitor;, +            settingsBuilder.loadFromPath(file);, +        } catch (SettingsException | NoClassDefFoundError e) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +++ b/core/src/main/java/org/elasticsearch/env/Environment.java, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/index/analysis/Analysis.java, +import java.nio.file.Path;, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.List;]