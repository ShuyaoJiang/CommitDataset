[+++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IngestClientIT.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IngestClientIT.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IngestClientDocumentationIT.java, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IngestClientIT.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IngestClientDocumentationIT.java, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +++ b/docs/reference/ingest/apis/simulate-pipeline.asciidoc, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IngestClientIT.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IngestClientDocumentationIT.java, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +++ b/docs/reference/ingest/apis/simulate-pipeline.asciidoc, +++ b/docs/reference/ingest/processors/date-index-name.asciidoc, +        "_type" : "_doc",, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IngestClientIT.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IngestClientDocumentationIT.java, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +++ b/docs/reference/ingest/apis/simulate-pipeline.asciidoc, +++ b/docs/reference/ingest/processors/date-index-name.asciidoc, +        "_type" : "_doc",, +++ b/docs/reference/ingest/processors/grok.asciidoc, +        "_type": "_doc",, +        "_type": "_doc",, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IngestClientIT.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IngestClientDocumentationIT.java, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +++ b/docs/reference/ingest/apis/simulate-pipeline.asciidoc, +++ b/docs/reference/ingest/processors/date-index-name.asciidoc, +        "_type" : "_doc",, +++ b/docs/reference/ingest/processors/grok.asciidoc, +        "_type": "_doc",, +        "_type": "_doc",, +++ b/server/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java, +import org.apache.logging.log4j.LogManager;, +import org.apache.logging.log4j.Logger;, +import org.elasticsearch.common.logging.DeprecationLogger;, +    private static final Logger logger = LogManager.getLogger(SimulatePipelineRequest.class);, +    private static final DeprecationLogger deprecationLogger = new DeprecationLogger(logger);, +, +            if (dataMap.containsKey(MetaData.TYPE.getFieldName())) {, +                deprecationLogger.deprecatedAndMaybeLog("simulate_pipeline_with_types",, +                    "[types removal] specifying _type in pipeline simulation requests is deprecated");, +            }, +                dataMap, MetaData.TYPE.getFieldName(), "_doc");, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/IngestClientIT.java, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IngestClientDocumentationIT.java, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                        "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"bar\"}}," +, +                    "{\"_index\":\"index\",\"_id\":\"id\",\"_source\":{\"foo\":\"rab\"}}" +, +++ b/docs/reference/ingest/apis/simulate-pipeline.asciidoc, +++ b/docs/reference/ingest/processors/date-index-name.asciidoc, +        "_type" : "_doc",, +++ b/docs/reference/ingest/processors/grok.asciidoc, +        "_type": "_doc",, +        "_type": "_doc",, +++ b/server/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java, +import org.apache.logging.log4j.LogManager;, +import org.apache.logging.log4j.Logger;, +import org.elasticsearch.common.logging.DeprecationLogger;, +    private static final Logger logger = LogManager.getLogger(SimulatePipelineRequest.class);, +    private static final DeprecationLogger deprecationLogger = new DeprecationLogger(logger);, +, +            if (dataMap.containsKey(MetaData.TYPE.getFieldName())) {, +                deprecationLogger.deprecatedAndMaybeLog("simulate_pipeline_with_types",, +                    "[types removal] specifying _type in pipeline simulation requests is deprecated");, +            }, +                dataMap, MetaData.TYPE.getFieldName(), "_doc");, +++ b/server/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineRequestParsingTests.java, +import java.io.IOException;, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collections;, +import java.util.HashMap;, +import java.util.Iterator;, +import java.util.List;, +import java.util.Map;, +, +    public void testParseUsingPipelineStoreNoType() throws Exception {, +        innerTestParseUsingPipelineStore(false);, +    }, +, +    public void testParseUsingPipelineStoreWithType() throws Exception {, +        innerTestParseUsingPipelineStore(true);, +    }]