[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/engine/Engine.java, +     * Returns <tt>true</tt> if a refresh is really needed., +     */, +    boolean refreshNeeded();, +, +    /**, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/engine/Engine.java, +     * Returns <tt>true</tt> if a refresh is really needed., +     */, +    boolean refreshNeeded();, +, +    /**, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +    @Override public boolean refreshNeeded() {, +        return dirty;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/engine/Engine.java, +     * Returns <tt>true</tt> if a refresh is really needed., +     */, +    boolean refreshNeeded();, +, +    /**, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +    @Override public boolean refreshNeeded() {, +        return dirty;, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java, +                if (engine.refreshNeeded()) {, +                }]