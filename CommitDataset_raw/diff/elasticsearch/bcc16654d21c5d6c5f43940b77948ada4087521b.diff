[+++ b/src/main/java/org/elasticsearch/index/codec/CodecModule.java, +import org.elasticsearch.common.settings.NoClassSettingsException;, +            String sType = settings.get("type");, +            if (sType == null || sType.trim().isEmpty()) {, +, +            Class<? extends PostingsFormatProvider> type;, +            try {, +                type = settings.getAsClass("type", null, "org.elasticsearch.index.codec.postingsformat.", "PostingsFormatProvider");, +            } catch (NoClassSettingsException e) {, +                throw new ElasticSearchIllegalArgumentException("The specified type [" + sType + "] for postingsFormat Factory [" + name + "] can't be found");, +            }, +++ b/src/main/java/org/elasticsearch/index/codec/CodecModule.java, +import org.elasticsearch.common.settings.NoClassSettingsException;, +            String sType = settings.get("type");, +            if (sType == null || sType.trim().isEmpty()) {, +, +            Class<? extends PostingsFormatProvider> type;, +            try {, +                type = settings.getAsClass("type", null, "org.elasticsearch.index.codec.postingsformat.", "PostingsFormatProvider");, +            } catch (NoClassSettingsException e) {, +                throw new ElasticSearchIllegalArgumentException("The specified type [" + sType + "] for postingsFormat Factory [" + name + "] can't be found");, +            }, +++ b/src/main/java/org/elasticsearch/index/codec/postingsformat/PostingsFormatService.java, +        if (provider == null) {, +++ b/src/main/java/org/elasticsearch/index/codec/CodecModule.java, +import org.elasticsearch.common.settings.NoClassSettingsException;, +            String sType = settings.get("type");, +            if (sType == null || sType.trim().isEmpty()) {, +, +            Class<? extends PostingsFormatProvider> type;, +            try {, +                type = settings.getAsClass("type", null, "org.elasticsearch.index.codec.postingsformat.", "PostingsFormatProvider");, +            } catch (NoClassSettingsException e) {, +                throw new ElasticSearchIllegalArgumentException("The specified type [" + sType + "] for postingsFormat Factory [" + name + "] can't be found");, +            }, +++ b/src/main/java/org/elasticsearch/index/codec/postingsformat/PostingsFormatService.java, +        if (provider == null) {, +++ b/src/main/java/org/elasticsearch/indices/IndexCreationException.java, +import org.elasticsearch.ElasticSearchWrapperException;, +public class IndexCreationException extends IndexException implements ElasticSearchWrapperException {]