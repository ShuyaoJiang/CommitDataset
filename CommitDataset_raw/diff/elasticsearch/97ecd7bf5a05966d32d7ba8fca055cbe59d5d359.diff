[+++ b/core/pom.xml, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +++ b/core/pom.xml, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +++ /dev/null, +++ b/core/pom.xml, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +++ /dev/null, +++ /dev/null, +++ b/core/pom.xml, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/core/pom.xml, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.discovery.DiscoveryStats;, +    @Nullable, +    private DiscoveryStats discoveryStats;, +, +                     @Nullable ScriptStats scriptStats,, +                     @Nullable DiscoveryStats discoveryStats) {, +        this.discoveryStats = discoveryStats;, +    @Nullable, +    public DiscoveryStats getDiscoveryStats() {, +        return this.discoveryStats;, +    }, +, +        discoveryStats = in.readOptionalStreamable(new DiscoveryStats(null));, +        out.writeOptionalStreamable(discoveryStats);, +        if (getDiscoveryStats() != null) {, +            getDiscoveryStats().toXContent(builder, params);, +        }, +, +++ b/core/pom.xml, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.discovery.DiscoveryStats;, +    @Nullable, +    private DiscoveryStats discoveryStats;, +, +                     @Nullable ScriptStats scriptStats,, +                     @Nullable DiscoveryStats discoveryStats) {, +        this.discoveryStats = discoveryStats;, +    @Nullable, +    public DiscoveryStats getDiscoveryStats() {, +        return this.discoveryStats;, +    }, +, +        discoveryStats = in.readOptionalStreamable(new DiscoveryStats(null));, +        out.writeOptionalStreamable(discoveryStats);, +        if (getDiscoveryStats() != null) {, +            getDiscoveryStats().toXContent(builder, params);, +        }, +, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java, +    private boolean discovery;, +        this.discovery = true;, +        this.discovery = false;, +, +    public boolean discovery() {, +        return this.discovery;, +    }, +, +    /**, +     * Should the node's discovery stats be returned., +     */, +    public NodesStatsRequest discovery(boolean discovery) {, +        this.discovery = discovery;, +        return this;, +    }, +, +, +        discovery = in.readBoolean();, +        out.writeBoolean(discovery);, +++ b/core/pom.xml, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +                                <include>org/elasticsearch/bootstrap/BootstrapForTesting$*.class</include>, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java, +import org.elasticsearch.discovery.DiscoveryStats;, +    @Nullable, +    private DiscoveryStats discoveryStats;, +, +                     @Nullable ScriptStats scriptStats,]