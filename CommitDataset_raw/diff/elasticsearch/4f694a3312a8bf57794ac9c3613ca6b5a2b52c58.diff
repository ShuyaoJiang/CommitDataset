[+++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +                          Version indexCreatedVersion, Version indexUpgradedVersion,, +                indexCreatedVersion, indexUpgradedVersion, getRoutingNumShards(), routingPartitionSize, waitForActiveShards);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +                          Version indexCreatedVersion, Version indexUpgradedVersion,, +                indexCreatedVersion, indexUpgradedVersion, getRoutingNumShards(), routingPartitionSize, waitForActiveShards);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +                          Version indexCreatedVersion, Version indexUpgradedVersion,, +                indexCreatedVersion, indexUpgradedVersion, getRoutingNumShards(), routingPartitionSize, waitForActiveShards);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +                          Version indexCreatedVersion, Version indexUpgradedVersion,, +                indexCreatedVersion, indexUpgradedVersion, getRoutingNumShards(), routingPartitionSize, waitForActiveShards);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +++ b/core/src/main/java/org/elasticsearch/snapshots/RestoreService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +                          Version indexCreatedVersion, Version indexUpgradedVersion,, +                indexCreatedVersion, indexUpgradedVersion, getRoutingNumShards(), routingPartitionSize, waitForActiveShards);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +++ b/core/src/main/java/org/elasticsearch/snapshots/RestoreService.java, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +                          Version indexCreatedVersion, Version indexUpgradedVersion,, +                indexCreatedVersion, indexUpgradedVersion, getRoutingNumShards(), routingPartitionSize, waitForActiveShards);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +++ b/core/src/main/java/org/elasticsearch/snapshots/RestoreService.java, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java, +++ b/core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTests.java, +            .build());, +            .build());]