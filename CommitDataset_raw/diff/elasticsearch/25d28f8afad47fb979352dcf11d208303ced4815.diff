[+++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +    public final void writeRawField(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +        XContentType contentType = XContentFactory.xContentType(content);, +        if (contentType != null) {, +            writeObjectRaw(fieldName, content, bos);, +        } else {, +            writeFieldName(fieldName);, +            // we could potentially optimize this to not rely on exception logic..., +            String sValue = content.toUtf8();, +            try {, +                writeNumber(Long.parseLong(sValue));, +            } catch (NumberFormatException e) {, +                try {, +                    writeNumber(Double.parseDouble(sValue));, +                } catch (NumberFormatException e1) {, +                    writeString(sValue);, +                }, +            }, +        }, +    }, +, +    protected void writeObjectRaw(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +    public final void writeRawField(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +        XContentType contentType = XContentFactory.xContentType(content);, +        if (contentType != null) {, +            writeObjectRaw(fieldName, content, bos);, +        } else {, +            writeFieldName(fieldName);, +            // we could potentially optimize this to not rely on exception logic..., +            String sValue = content.toUtf8();, +            try {, +                writeNumber(Long.parseLong(sValue));, +            } catch (NumberFormatException e) {, +                try {, +                    writeNumber(Double.parseDouble(sValue));, +                } catch (NumberFormatException e1) {, +                    writeString(sValue);, +                }, +            }, +        }, +    }, +, +    protected void writeObjectRaw(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java, +    protected void writeObjectRaw(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +    public final void writeRawField(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +        XContentType contentType = XContentFactory.xContentType(content);, +        if (contentType != null) {, +            writeObjectRaw(fieldName, content, bos);, +        } else {, +            writeFieldName(fieldName);, +            // we could potentially optimize this to not rely on exception logic..., +            String sValue = content.toUtf8();, +            try {, +                writeNumber(Long.parseLong(sValue));, +            } catch (NumberFormatException e) {, +                try {, +                    writeNumber(Double.parseDouble(sValue));, +                } catch (NumberFormatException e1) {, +                    writeString(sValue);, +                }, +            }, +        }, +    }, +, +    protected void writeObjectRaw(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java, +    protected void writeObjectRaw(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContentGenerator.java, +    protected void writeObjectRaw(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +    public final void writeRawField(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +        XContentType contentType = XContentFactory.xContentType(content);, +        if (contentType != null) {, +            writeObjectRaw(fieldName, content, bos);, +        } else {, +            writeFieldName(fieldName);, +            // we could potentially optimize this to not rely on exception logic..., +            String sValue = content.toUtf8();, +            try {, +                writeNumber(Long.parseLong(sValue));, +            } catch (NumberFormatException e) {, +                try {, +                    writeNumber(Double.parseDouble(sValue));, +                } catch (NumberFormatException e1) {, +                    writeString(sValue);, +                }, +            }, +        }, +    }, +, +    protected void writeObjectRaw(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java, +    protected void writeObjectRaw(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +++ b/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContentGenerator.java, +    protected void writeObjectRaw(String fieldName, BytesReference content, OutputStream bos) throws IOException {, +++ b/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java, +                    } else if (token.isValue()) {]