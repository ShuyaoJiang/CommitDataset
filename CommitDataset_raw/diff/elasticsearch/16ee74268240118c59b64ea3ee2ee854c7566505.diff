[+++ b/pom.xml, +                                <include>org/apache/lucene/util/AbstractRandomizedTest.class</include>, +++ b/pom.xml, +                                <include>org/apache/lucene/util/AbstractRandomizedTest.class</include>, +++ b/src/test/java/org/elasticsearch/cluster/ack/AckTests.java, +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +++ b/pom.xml, +                                <include>org/apache/lucene/util/AbstractRandomizedTest.class</include>, +++ b/src/test/java/org/elasticsearch/cluster/ack/AckTests.java, +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +++ b/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteTests.java, +        assertThat(cluster().size(), equalTo(2));, +        assertThat(client().admin().cluster().prepareHealth().setWaitForNodes("2").execute().actionGet().getStatus(), equalTo(ClusterHealthStatus.RED));, +++ b/pom.xml, +                                <include>org/apache/lucene/util/AbstractRandomizedTest.class</include>, +++ b/src/test/java/org/elasticsearch/cluster/ack/AckTests.java, +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +++ b/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteTests.java, +        assertThat(cluster().size(), equalTo(2));, +        assertThat(client().admin().cluster().prepareHealth().setWaitForNodes("2").execute().actionGet().getStatus(), equalTo(ClusterHealthStatus.RED));, +++ b/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationTests.java, +        assertThat(cluster().size(), equalTo(2));, +        assertThat(cluster().size(), equalTo(2));, +++ b/pom.xml, +                                <include>org/apache/lucene/util/AbstractRandomizedTest.class</include>, +++ b/src/test/java/org/elasticsearch/cluster/ack/AckTests.java, +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +++ b/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteTests.java, +        assertThat(cluster().size(), equalTo(2));, +        assertThat(client().admin().cluster().prepareHealth().setWaitForNodes("2").execute().actionGet().getStatus(), equalTo(ClusterHealthStatus.RED));, +++ b/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationTests.java, +        assertThat(cluster().size(), equalTo(2));, +        assertThat(cluster().size(), equalTo(2));, +++ b/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleTests.java, +        while (cluster().size() != 0) {, +++ b/pom.xml, +                                <include>org/apache/lucene/util/AbstractRandomizedTest.class</include>, +++ b/src/test/java/org/elasticsearch/cluster/ack/AckTests.java, +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +++ b/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteTests.java, +        assertThat(cluster().size(), equalTo(2));, +        assertThat(client().admin().cluster().prepareHealth().setWaitForNodes("2").execute().actionGet().getStatus(), equalTo(ClusterHealthStatus.RED));, +++ b/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationTests.java, +        assertThat(cluster().size(), equalTo(2));, +        assertThat(cluster().size(), equalTo(2));, +++ b/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleTests.java, +        while (cluster().size() != 0) {, +++ b/src/test/java/org/elasticsearch/document/BulkTests.java, +        BulkResponse bulkResponse = client().prepareBulk(), +                .add(client().prepareIndex("test", "type", "1").setSource("field", "2")).get();, +        bulkResponse = client().prepareBulk(), +                .add(client().prepareUpdate("test", "type", "1").setVersion(2l).setDoc("field", "3")).get();, +        bulkResponse = client().prepareBulk(), +                .add(client().prepareIndex("test", "type", "e1").setSource("field", "2").setVersion(12).setVersionType(VersionType.EXTERNAL)).get();, +        bulkResponse = client().prepareBulk(), +                .add(client().prepareUpdate("test", "type", "e1").setVersion(2l).setDoc("field", "3").setVersion(15).setVersionType(VersionType.EXTERNAL)).get();, +++ b/pom.xml, +                                <include>org/apache/lucene/util/AbstractRandomizedTest.class</include>, +++ b/src/test/java/org/elasticsearch/cluster/ack/AckTests.java, +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +                        .put("number_of_shards", atLeast(cluster().size())), +++ b/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteTests.java, +        assertThat(cluster().size(), equalTo(2));, +        assertThat(client().admin().cluster().prepareHealth().setWaitForNodes("2").execute().actionGet().getStatus(), equalTo(ClusterHealthStatus.RED));, +++ b/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationTests.java, +        assertThat(cluster().size(), equalTo(2));, +        assertThat(cluster().size(), equalTo(2));, +++ b/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleTests.java, +        while (cluster().size() != 0) {, +++ b/src/test/java/org/elasticsearch/document/BulkTests.java, +        BulkResponse bulkResponse = client().prepareBulk()]