[+++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch](https://github.com/elastic/elasticsearch), +++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch](https://github.com/elastic/elasticsearch), +++ b/Vagrantfile, +    ubuntu_common config, +def ubuntu_common(config), +  deb_common config, 'apt-add-repository -y ppa:openjdk-r/ppa > /dev/null 2>&1', 'openjdk-r-*', +def deb_common(config, add_openjdk_repository_command, openjdk_list), +++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch](https://github.com/elastic/elasticsearch), +++ b/Vagrantfile, +    ubuntu_common config, +def ubuntu_common(config), +  deb_common config, 'apt-add-repository -y ppa:openjdk-r/ppa > /dev/null 2>&1', 'openjdk-r-*', +def deb_common(config, add_openjdk_repository_command, openjdk_list), +++ /dev/null, +++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch](https://github.com/elastic/elasticsearch), +++ b/Vagrantfile, +    ubuntu_common config, +def ubuntu_common(config), +  deb_common config, 'apt-add-repository -y ppa:openjdk-r/ppa > /dev/null 2>&1', 'openjdk-r-*', +def deb_common(config, add_openjdk_repository_command, openjdk_list), +++ /dev/null, +++ b/core/pom.xml, +            <groupId>com.google.guava</groupId>, +            <artifactId>guava</artifactId>, +        </dependency>, +        <dependency>, +                                <include>org/elasticsearch/index/shard/MockEngineFactoryPlugin.class</include>, +                        <exclude>src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java</exclude>, +                        <!-- t-digest -->, +                        <exclude>src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestState.java</exclude>, +++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch](https://github.com/elastic/elasticsearch), +++ b/Vagrantfile, +    ubuntu_common config, +def ubuntu_common(config), +  deb_common config, 'apt-add-repository -y ppa:openjdk-r/ppa > /dev/null 2>&1', 'openjdk-r-*', +def deb_common(config, add_openjdk_repository_command, openjdk_list), +++ /dev/null, +++ b/core/pom.xml, +            <groupId>com.google.guava</groupId>, +            <artifactId>guava</artifactId>, +        </dependency>, +        <dependency>, +                                <include>org/elasticsearch/index/shard/MockEngineFactoryPlugin.class</include>, +                        <exclude>src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java</exclude>, +                        <!-- t-digest -->, +                        <exclude>src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestState.java</exclude>, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +import com.google.common.collect.ImmutableMap;, +import org.apache.lucene.search.*;, +import org.apache.lucene.util.IOUtils;, +    public static final ImmutableMap<String, FieldQueryExtension> fieldQueryExtensions;, +        fieldQueryExtensions = ImmutableMap.<String, FieldQueryExtension>builder(), +                .put(ExistsFieldQueryExtension.NAME, new ExistsFieldQueryExtension()), +                .put(MissingFieldQueryExtension.NAME, new MissingFieldQueryExtension()), +                .build();, +        FieldQueryExtension fieldQueryExtension = fieldQueryExtensions.get(field);, +                return fieldQueryExtensions.get(ExistsFieldQueryExtension.NAME).query(context, actualField);, +++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch](https://github.com/elastic/elasticsearch), +++ b/Vagrantfile, +    ubuntu_common config, +def ubuntu_common(config), +  deb_common config, 'apt-add-repository -y ppa:openjdk-r/ppa > /dev/null 2>&1', 'openjdk-r-*', +def deb_common(config, add_openjdk_repository_command, openjdk_list), +++ /dev/null, +++ b/core/pom.xml, +            <groupId>com.google.guava</groupId>, +            <artifactId>guava</artifactId>, +        </dependency>, +        <dependency>, +                                <include>org/elasticsearch/index/shard/MockEngineFactoryPlugin.class</include>, +                        <exclude>src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java</exclude>, +                        <!-- t-digest -->, +                        <exclude>src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestState.java</exclude>, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +import com.google.common.collect.ImmutableMap;, +import org.apache.lucene.search.*;, +import org.apache.lucene.util.IOUtils;, +    public static final ImmutableMap<String, FieldQueryExtension> fieldQueryExtensions;, +        fieldQueryExtensions = ImmutableMap.<String, FieldQueryExtension>builder(), +                .put(ExistsFieldQueryExtension.NAME, new ExistsFieldQueryExtension()), +                .put(MissingFieldQueryExtension.NAME, new MissingFieldQueryExtension()), +                .build();, +        FieldQueryExtension fieldQueryExtension = fieldQueryExtensions.get(field);, +                return fieldQueryExtensions.get(ExistsFieldQueryExtension.NAME).query(context, actualField);, +++ b/core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java, + * Licensed to Elasticsearch under one, + * or more contributor license agreements. See the NOTICE file, + * distributed with this work for additional information, + * regarding copyright ownership. Elasticsearch licenses this, + * file to you under the Apache License, Version 2.0 (the, + * "License"); you may not use this file except in compliance, + * with the License.  You may obtain a copy of the License at, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT]