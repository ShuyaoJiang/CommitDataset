[+++ b/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +            return;, +        final CountDown count = new CountDown(request.indices().length);, +                    if (count.countDown()) {, +                    if (count.countDown()) {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +            return;, +        final CountDown count = new CountDown(request.indices().length);, +                    if (count.countDown()) {, +                    if (count.countDown()) {, +++ b/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        final CountDown expectedOps;, +            this.expectedOps = new CountDown(expectedOps);, +            if (expectedOps.isCountedDown()) {, +            if (expectedOps.countDown()) {, +            if (expectedOps.countDown()) {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +            return;, +        final CountDown count = new CountDown(request.indices().length);, +                    if (count.countDown()) {, +                    if (count.countDown()) {, +++ b/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        final CountDown expectedOps;, +            this.expectedOps = new CountDown(expectedOps);, +            if (expectedOps.isCountedDown()) {, +            if (expectedOps.countDown()) {, +            if (expectedOps.countDown()) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        private final CountDown countDown;, +            this.countDown = new CountDown(countDown);, +                if (countDown.countDown()) {, +            if (countDown.fastForward()) {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +            return;, +        final CountDown count = new CountDown(request.indices().length);, +                    if (count.countDown()) {, +                    if (count.countDown()) {, +++ b/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        final CountDown expectedOps;, +            this.expectedOps = new CountDown(expectedOps);, +            if (expectedOps.isCountedDown()) {, +            if (expectedOps.countDown()) {, +            if (expectedOps.countDown()) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        private final CountDown countDown;, +            this.countDown = new CountDown(countDown);, +                if (countDown.countDown()) {, +            if (countDown.fastForward()) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        private final CountDown countDown;, +        public CountDownListener(int count, Listener listener, long version) {, +            this.countDown = new CountDown(count);, +                if (countDown.countDown()) {, +            if (countDown.fastForward()) {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +            return;, +        final CountDown count = new CountDown(request.indices().length);, +                    if (count.countDown()) {, +                    if (count.countDown()) {, +++ b/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        final CountDown expectedOps;, +            this.expectedOps = new CountDown(expectedOps);, +            if (expectedOps.isCountedDown()) {, +            if (expectedOps.countDown()) {, +            if (expectedOps.countDown()) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        private final CountDown countDown;, +            this.countDown = new CountDown(countDown);, +                if (countDown.countDown()) {, +            if (countDown.fastForward()) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        private final CountDown countDown;, +        public CountDownListener(int count, Listener listener, long version) {, +            this.countDown = new CountDown(count);, +                if (countDown.countDown()) {, +            if (countDown.fastForward()) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +        private final CountDown countDown;, +            this.countDown = new CountDown(countDown);, +            if (countDown.countDown()) {, +            if (countDown.fastForward()) {, +++ b/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java, +import org.elasticsearch.common.util.concurrent.CountDown;, +            return;, +        final CountDown count = new CountDown(request.indices().length);]