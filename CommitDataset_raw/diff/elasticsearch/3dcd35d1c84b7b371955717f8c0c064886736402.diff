[+++ b/core/src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java, +    public final AllocationId allocationId; // can be null if we read from legacy format (see fromXContent and MultiDataPathUpgrader), +            if (shardStateMetaData.allocationId != null) {, +        }]