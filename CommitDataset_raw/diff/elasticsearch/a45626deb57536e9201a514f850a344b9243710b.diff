[+++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java, + * <p>The first is simply specifying the locale (defaults to the default, + * locale). The {@code language} parameter is the lowercase two-letter, + * ISO-639 code. An additional {@code country} and {@code variant}, + * <p>The second option is to specify collation rules as defined in the, + * <a href="http://www.icu-project.org/userguide/Collate_Customization.html">, + * Collation customization</a> chapter in icu docs. The {@code rules}, + * parameter can either embed the rules definition, + * in the settings or refer to an external location (preferable located under, + * the {@code config} location, relative to it)., +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java, + * <p>The first is simply specifying the locale (defaults to the default, + * locale). The {@code language} parameter is the lowercase two-letter, + * ISO-639 code. An additional {@code country} and {@code variant}, + * <p>The second option is to specify collation rules as defined in the, + * <a href="http://www.icu-project.org/userguide/Collate_Customization.html">, + * Collation customization</a> chapter in icu docs. The {@code rules}, + * parameter can either embed the rules definition, + * in the settings or refer to an external location (preferable located under, + * the {@code config} location, relative to it)., +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java, + * Can be filtered to handle certain characters in a specified way, + * (see http://icu-project.org/apiref/icu4j/com/ibm/icu/text/UnicodeSet.html), + * <p>The {@code unicodeSetFilter} attribute can be used to provide the, + * UniCodeSet for filtering., +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java, + * <p>The first is simply specifying the locale (defaults to the default, + * locale). The {@code language} parameter is the lowercase two-letter, + * ISO-639 code. An additional {@code country} and {@code variant}, + * <p>The second option is to specify collation rules as defined in the, + * <a href="http://www.icu-project.org/userguide/Collate_Customization.html">, + * Collation customization</a> chapter in icu docs. The {@code rules}, + * parameter can either embed the rules definition, + * in the settings or refer to an external location (preferable located under, + * the {@code config} location, relative to it)., +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java, + * Can be filtered to handle certain characters in a specified way, + * (see http://icu-project.org/apiref/icu4j/com/ibm/icu/text/UnicodeSet.html), + * <p>The {@code unicodeSetFilter} attribute can be used to provide the, + * UniCodeSet for filtering., +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IndexableBinaryStringTools.java, +        outputArray[outputCharNum++] = (char) (, +            (   ((inputArray[inputByteNum] & 0xFF) << codingCase.initialShift), +              + ((inputArray[inputByteNum + 1] & 0xFF) << codingCase.middleShift), +            ) & (short) 0x7FFF);, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java, + * <p>The first is simply specifying the locale (defaults to the default, + * locale). The {@code language} parameter is the lowercase two-letter, + * ISO-639 code. An additional {@code country} and {@code variant}, + * <p>The second option is to specify collation rules as defined in the, + * <a href="http://www.icu-project.org/userguide/Collate_Customization.html">, + * Collation customization</a> chapter in icu docs. The {@code rules}, + * parameter can either embed the rules definition, + * in the settings or refer to an external location (preferable located under, + * the {@code config} location, relative to it)., +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java, + * Can be filtered to handle certain characters in a specified way, + * (see http://icu-project.org/apiref/icu4j/com/ibm/icu/text/UnicodeSet.html), + * <p>The {@code unicodeSetFilter} attribute can be used to provide the, + * UniCodeSet for filtering., +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IndexableBinaryStringTools.java, +        outputArray[outputCharNum++] = (char) (, +            (   ((inputArray[inputByteNum] & 0xFF) << codingCase.initialShift), +              + ((inputArray[inputByteNum + 1] & 0xFF) << codingCase.middleShift), +            ) & (short) 0x7FFF);, +++ b/plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java, +        this.stopWords = Analysis.parseWords(env, settings, "stopwords",, +                JapaneseAnalyzer.getDefaultStopSet(), NAMED_STOP_WORDS, ignoreCase);, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java, + * <p>The first is simply specifying the locale (defaults to the default, + * locale). The {@code language} parameter is the lowercase two-letter, + * ISO-639 code. An additional {@code country} and {@code variant}, + * <p>The second option is to specify collation rules as defined in the, + * <a href="http://www.icu-project.org/userguide/Collate_Customization.html">, + * Collation customization</a> chapter in icu docs. The {@code rules}, + * parameter can either embed the rules definition, + * in the settings or refer to an external location (preferable located under, + * the {@code config} location, relative to it)., +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java, + * Can be filtered to handle certain characters in a specified way, + * (see http://icu-project.org/apiref/icu4j/com/ibm/icu/text/UnicodeSet.html), + * <p>The {@code unicodeSetFilter} attribute can be used to provide the, + * UniCodeSet for filtering., +++ b/plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IndexableBinaryStringTools.java, +        outputArray[outputCharNum++] = (char) (, +            (   ((inputArray[inputByteNum] & 0xFF) << codingCase.initialShift), +              + ((inputArray[inputByteNum + 1] & 0xFF) << codingCase.middleShift), +            ) & (short) 0x7FFF);, +++ b/plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java, +        this.stopWords = Analysis.parseWords(env, settings, "stopwords",, +                JapaneseAnalyzer.getDefaultStopSet(), NAMED_STOP_WORDS, ignoreCase);, +++ b/plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java, +        String[] expected_tokens_katakana = new String[] {, +                "明後日", "パーティ", "に", "行く", "予定", "が", "ある", "図書館", "で", "資料", "を", "コピー", "し", "まし", "た"};]