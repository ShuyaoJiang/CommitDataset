[+++ b/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +    public void combineNamedFilters(QueryParseContext context) {, +        namedFilters.putAll(context.namedFilters);, +    }, +, +++ b/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +    public void combineNamedFilters(QueryParseContext context) {, +        namedFilters.putAll(context.namedFilters);, +    }, +, +++ b/src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java, +            parseContext.combineNamedFilters(context);, +++ b/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +    public void combineNamedFilters(QueryParseContext context) {, +        namedFilters.putAll(context.namedFilters);, +    }, +, +++ b/src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java, +            parseContext.combineNamedFilters(context);, +++ b/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java, +            parseContext.combineNamedFilters(context);, +++ b/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +    public void combineNamedFilters(QueryParseContext context) {, +        namedFilters.putAll(context.namedFilters);, +    }, +, +++ b/src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java, +            parseContext.combineNamedFilters(context);, +++ b/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java, +            parseContext.combineNamedFilters(context);, +++ b/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesTests.java, +import org.elasticsearch.index.query.QueryBuilder;, +, +    @Test, +    public void testMatchedWithWrapperQuery() throws Exception {, +        createIndex("test");, +        ensureGreen();, +, +        client().prepareIndex("test", "type1", "1").setSource("content", "Lorem ipsum dolor sit amet").get();, +        refresh();, +, +        QueryBuilder[] queries = new QueryBuilder[]{, +                wrapperQuery(matchQuery("content", "amet").queryName("abc").buildAsBytes().toUtf8()),, +                constantScoreQuery(wrapperFilter(termFilter("content", "amet").filterName("abc").buildAsBytes().toUtf8())), +        };, +        for (QueryBuilder query : queries) {, +            SearchResponse searchResponse = client().prepareSearch(), +                    .setQuery(query), +                    .get();, +            assertHitCount(searchResponse, 1l);, +            assertThat(searchResponse.getHits().getAt(0).getMatchedQueries()[0], equalTo("abc"));, +        }, +    }]