[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/RestIntegTestTask.groovy, +, +        if (System.getProperty("tests.rest.cluster") == null) {, +            if (System.getProperty("tests.cluster") != null) {, +                throw new IllegalArgumentException("tests.rest.cluster and tests.cluster must both be null or non-null"), +            }, +        } else {, +            if (System.getProperty("tests.cluster") == null) {, +                throw new IllegalArgumentException("tests.rest.cluster and tests.cluster must both be null or non-null"), +            }, +            // an external cluster was specified and all responsibility for cluster configuration is taken by the user, +            runner.systemProperty('tests.rest.cluster', System.getProperty("tests.rest.cluster")), +            runner.systemProperty('test.cluster', System.getProperty("tests.cluster")), +        }, +            // only create the cluster if needed as otherwise an external cluster to use was specified, +            if (System.getProperty("tests.rest.cluster") == null) {, +            }]