[+++ b/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java, +import org.elasticsearch.common.xcontent.XContentBuilder;, +    @Override, +    public final XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {, +        builder.startObject(name);, +        doXContentBody(builder, params);, +        builder.endObject();, +        return builder;, +    }, +, +    public abstract XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException;, +, +++ b/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java, +import org.elasticsearch.common.xcontent.XContentBuilder;, +    @Override, +    public final XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {, +        builder.startObject(name);, +        doXContentBody(builder, params);, +        builder.endObject();, +        return builder;, +    }, +, +    public abstract XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException;, +, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +        return builder;, +++ b/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java, +import org.elasticsearch.common.xcontent.XContentBuilder;, +    @Override, +    public final XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {, +        builder.startObject(name);, +        doXContentBody(builder, params);, +        builder.endObject();, +        return builder;, +    }, +, +    public abstract XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException;, +, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +        return builder;, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +++ b/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java, +import org.elasticsearch.common.xcontent.XContentBuilder;, +    @Override, +    public final XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {, +        builder.startObject(name);, +        doXContentBody(builder, params);, +        builder.endObject();, +        return builder;, +    }, +, +    public abstract XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException;, +, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +        return builder;, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +        return builder;, +++ b/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java, +import org.elasticsearch.common.xcontent.XContentBuilder;, +    @Override, +    public final XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {, +        builder.startObject(name);, +        doXContentBody(builder, params);, +        builder.endObject();, +        return builder;, +    }, +, +    public abstract XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException;, +, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +        return builder;, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +        return builder;, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java, +    public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {, +        return builder;, +++ b/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java, +import org.elasticsearch.common.xcontent.XContentBuilder;, +    @Override, +    public final XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {, +        builder.startObject(name);, +        doXContentBody(builder, params);, +        builder.endObject();, +        return builder;, +    }, +, +    public abstract XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException;, +, +++ b/src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java]