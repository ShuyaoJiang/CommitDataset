[+++ b/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestGetIndicesAction.java, +, +/**, + * The REST handler for get index and head index APIs., + */, +    public RestGetIndicesAction(, +            final Settings settings,, +            final RestController controller,, +            final IndexScopedSettings indexScopedSettings,, +            final SettingsFilter settingsFilter) {, +            public RestResponse buildResponse(final GetIndexResponse response, final XContentBuilder builder) throws Exception {, +                {, +                    for (final String index : response.indices()) {, +                        {, +                            for (final Feature feature : getIndexRequest.features()) {, +                                        writeMappings(response.mappings().get(index), builder);, +                        }, +                }, +            private void writeAliases(, +                    final List<AliasMetaData> aliases,, +                    final XContentBuilder builder,, +                    final Params params) throws IOException {, +                builder.startObject("aliases");, +                {, +                        for (final AliasMetaData alias : aliases) {, +                }, +            private void writeMappings(final ImmutableOpenMap<String, MappingMetaData> mappings, final XContentBuilder builder), +                builder.startObject("mappings");, +                {, +                        for (final ObjectObjectCursor<String, MappingMetaData> typeEntry : mappings) {, +                }, +            private void writeSettings(, +                    final Settings settings,, +                    final XContentBuilder builder,, +                    final Params params,, +                    final boolean defaults) throws IOException {, +                builder.startObject("settings");, +                {, +                }, +                    {, +                    }]