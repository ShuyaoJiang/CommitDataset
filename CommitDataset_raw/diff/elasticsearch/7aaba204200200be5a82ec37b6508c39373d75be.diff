[+++ b/core/pom.xml, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        CREATE_FAILED_ENGINE_EXCEPTION(org.elasticsearch.index.engine.CreateFailedEngineException.class, org.elasticsearch.index.engine.CreateFailedEngineException::new, 22),, +        DOCUMENT_ALREADY_EXISTS_EXCEPTION(org.elasticsearch.index.engine.DocumentAlreadyExistsException.class, org.elasticsearch.index.engine.DocumentAlreadyExistsException::new, 54),, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        CREATE_FAILED_ENGINE_EXCEPTION(org.elasticsearch.index.engine.CreateFailedEngineException.class, org.elasticsearch.index.engine.CreateFailedEngineException::new, 22),, +        DOCUMENT_ALREADY_EXISTS_EXCEPTION(org.elasticsearch.index.engine.DocumentAlreadyExistsException.class, org.elasticsearch.index.engine.DocumentAlreadyExistsException::new, 54),, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        CREATE_FAILED_ENGINE_EXCEPTION(org.elasticsearch.index.engine.CreateFailedEngineException.class, org.elasticsearch.index.engine.CreateFailedEngineException::new, 22),, +        DOCUMENT_ALREADY_EXISTS_EXCEPTION(org.elasticsearch.index.engine.DocumentAlreadyExistsException.class, org.elasticsearch.index.engine.DocumentAlreadyExistsException::new, 54),, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java, +    public UnavailableShardsException(@Nullable ShardId shardId, String message) {, +        super(buildMessage(shardId, message));, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        CREATE_FAILED_ENGINE_EXCEPTION(org.elasticsearch.index.engine.CreateFailedEngineException.class, org.elasticsearch.index.engine.CreateFailedEngineException::new, 22),, +        DOCUMENT_ALREADY_EXISTS_EXCEPTION(org.elasticsearch.index.engine.DocumentAlreadyExistsException.class, org.elasticsearch.index.engine.DocumentAlreadyExistsException::new, 54),, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java, +    public UnavailableShardsException(@Nullable ShardId shardId, String message) {, +        super(buildMessage(shardId, message));, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        CREATE_FAILED_ENGINE_EXCEPTION(org.elasticsearch.index.engine.CreateFailedEngineException.class, org.elasticsearch.index.engine.CreateFailedEngineException::new, 22),, +        DOCUMENT_ALREADY_EXISTS_EXCEPTION(org.elasticsearch.index.engine.DocumentAlreadyExistsException.class, org.elasticsearch.index.engine.DocumentAlreadyExistsException::new, 54),, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java, +    public UnavailableShardsException(@Nullable ShardId shardId, String message) {, +        super(buildMessage(shardId, message));, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java, +import com.google.common.collect.Iterators;, +        return Iterators.forArray(shards);, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        CREATE_FAILED_ENGINE_EXCEPTION(org.elasticsearch.index.engine.CreateFailedEngineException.class, org.elasticsearch.index.engine.CreateFailedEngineException::new, 22),, +        DOCUMENT_ALREADY_EXISTS_EXCEPTION(org.elasticsearch.index.engine.DocumentAlreadyExistsException.class, org.elasticsearch.index.engine.DocumentAlreadyExistsException::new, 54),, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java, +    public UnavailableShardsException(@Nullable ShardId shardId, String message) {, +        super(buildMessage(shardId, message));, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java, +import com.google.common.collect.Iterators;, +        return Iterators.forArray(shards);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexShardStats.java, +import com.google.common.collect.Iterators;, +        return Iterators.forArray(shards);, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        CREATE_FAILED_ENGINE_EXCEPTION(org.elasticsearch.index.engine.CreateFailedEngineException.class, org.elasticsearch.index.engine.CreateFailedEngineException::new, 22),, +        DOCUMENT_ALREADY_EXISTS_EXCEPTION(org.elasticsearch.index.engine.DocumentAlreadyExistsException.class, org.elasticsearch.index.engine.DocumentAlreadyExistsException::new, 54),, +++ b/core/src/main/java/org/elasticsearch/Version.java, +++ b/core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java, +    public UnavailableShardsException(@Nullable ShardId shardId, String message) {, +        super(buildMessage(shardId, message));, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java, +import com.google.common.collect.Iterators;, +        return Iterators.forArray(shards);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexShardStats.java, +import com.google.common.collect.Iterators;, +        return Iterators.forArray(shards);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java, +import com.google.common.collect.Iterators;, +        return Iterators.forArray(shards);, +++ b/core/pom.xml, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        CREATE_FAILED_ENGINE_EXCEPTION(org.elasticsearch.index.engine.CreateFailedEngineException.class, org.elasticsearch.index.engine.CreateFailedEngineException::new, 22),, +        DOCUMENT_ALREADY_EXISTS_EXCEPTION(org.elasticsearch.index.engine.DocumentAlreadyExistsException.class, org.elasticsearch.index.engine.DocumentAlreadyExistsException::new, 54),]