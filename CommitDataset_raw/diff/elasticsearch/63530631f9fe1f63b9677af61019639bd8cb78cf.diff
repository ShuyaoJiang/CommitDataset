[+++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +        } catch (AssertionError|IOException e) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +        } catch (AssertionError|IOException e) {, +++ b/core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +        } catch (AssertionError|IOException e) {, +++ b/core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher);, +++ b/core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java, +                bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +        } catch (AssertionError|IOException e) {, +++ b/core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher);, +++ b/core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java, +                bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +import org.elasticsearch.common.ParseFieldMatcher;, +        return searchType(SearchType.fromString(searchType, ParseFieldMatcher.EMPTY));, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +        } catch (AssertionError|IOException e) {, +++ b/core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher);, +++ b/core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java, +                bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +import org.elasticsearch.common.ParseFieldMatcher;, +        return searchType(SearchType.fromString(searchType, ParseFieldMatcher.EMPTY));, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchType.java, +import org.elasticsearch.common.ParseFieldMatcher;, +    public static SearchType fromString(String searchType, ParseFieldMatcher parseFieldMatcher) {, +        } else if (parseFieldMatcher.match(searchType, COUNT_VALUE)) {, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +        } catch (AssertionError|IOException e) {, +++ b/core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher);, +++ b/core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java, +                bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +import org.elasticsearch.common.ParseFieldMatcher;, +        return searchType(SearchType.fromString(searchType, ParseFieldMatcher.EMPTY));, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchType.java, +import org.elasticsearch.common.ParseFieldMatcher;, +    public static SearchType fromString(String searchType, ParseFieldMatcher parseFieldMatcher) {, +        } else if (parseFieldMatcher.match(searchType, COUNT_VALUE)) {, +++ b/core/src/main/java/org/elasticsearch/action/support/TransportAction.java, +import org.elasticsearch.common.ParseFieldMatcher;, +    protected final ParseFieldMatcher parseFieldMatcher;, +        this.parseFieldMatcher = new ParseFieldMatcher(settings);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +        } catch (AssertionError|IOException e) {, +++ b/core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher);, +++ b/core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java, +                bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +import org.elasticsearch.common.ParseFieldMatcher;, +        return searchType(SearchType.fromString(searchType, ParseFieldMatcher.EMPTY));, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchType.java, +import org.elasticsearch.common.ParseFieldMatcher;, +    public static SearchType fromString(String searchType, ParseFieldMatcher parseFieldMatcher) {, +        } else if (parseFieldMatcher.match(searchType, COUNT_VALUE)) {, +++ b/core/src/main/java/org/elasticsearch/action/support/TransportAction.java, +import org.elasticsearch.common.ParseFieldMatcher;, +    protected final ParseFieldMatcher parseFieldMatcher;, +        this.parseFieldMatcher = new ParseFieldMatcher(settings);, +++ b/core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java, +import org.elasticsearch.common.ParseFieldMatcher;, +            HashMap<String, Object> scriptParams = new HashMap<>();, +                scriptParams = new HashMap<>();, +                    //here we don't have settings available, unable to throw strict deprecation exceptions, +                    script = Script.parse(parser, ParseFieldMatcher.EMPTY);, +                    //here we don't have settings available, unable to throw deprecation exceptions, +                    scriptParameterParser.token(currentFieldName, token, parser, ParseFieldMatcher.EMPTY);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +        } catch (AssertionError|IOException e) {, +++ b/core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java, +                scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher);, +++ b/core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java, +                bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +import org.elasticsearch.common.ParseFieldMatcher;, +        return searchType(SearchType.fromString(searchType, ParseFieldMatcher.EMPTY));, +++ b/core/src/main/java/org/elasticsearch/action/search/SearchType.java, +import org.elasticsearch.common.ParseFieldMatcher;, +    public static SearchType fromString(String searchType, ParseFieldMatcher parseFieldMatcher) {, +        } else if (parseFieldMatcher.match(searchType, COUNT_VALUE)) {, +++ b/core/src/main/java/org/elasticsearch/action/support/TransportAction.java, +import org.elasticsearch.common.ParseFieldMatcher;, +    protected final ParseFieldMatcher parseFieldMatcher;]