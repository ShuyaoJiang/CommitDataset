[+++ b/src/main/java/org/elasticsearch/index/analysis/AbstractIndexAnalyzerProvider.java, +    /**, +     * Returns the injected name of the analyzer., +     */, +    public final String name() {, +    public final AnalyzerScope scope() {, +++ b/src/main/java/org/elasticsearch/index/analysis/AbstractIndexAnalyzerProvider.java, +    /**, +     * Returns the injected name of the analyzer., +     */, +    public final String name() {, +    public final AnalyzerScope scope() {, +++ b/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java, +import org.apache.lucene.analysis.Analyzer;, +import org.elasticsearch.ElasticSearchIllegalArgumentException;, +            Analyzer analyzerF = analyzerFactory.get();, +            if (analyzerF == null) {, +                throw new ElasticSearchIllegalArgumentException("analyzer [" + analyzerFactory.name() + "] created null analyzer");, +            }, +            NamedAnalyzer analyzer = new NamedAnalyzer(analyzerFactory.name(), analyzerFactory.scope(), analyzerF);, +        if (defaultAnalyzer == null) {, +            throw new ElasticSearchIllegalArgumentException("no default analyzer configured");, +        }]