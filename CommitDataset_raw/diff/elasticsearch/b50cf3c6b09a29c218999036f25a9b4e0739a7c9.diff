[+++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.split/10_basic.yml, +      version: " - 6.99.99", +      reason: Automatic preparation for splitting was added in 7.0.0, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.split/10_basic.yml, +      version: " - 6.99.99", +      reason: Automatic preparation for splitting was added in 7.0.0, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.split/20_source_mapping.yml, +      version: " - 6.3.99", +      reason: expects warnings that pre-6.4.0 will not send, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.split/10_basic.yml, +      version: " - 6.99.99", +      reason: Automatic preparation for splitting was added in 7.0.0, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.split/20_source_mapping.yml, +      version: " - 6.3.99", +      reason: expects warnings that pre-6.4.0 will not send, +++ b/server/src/main/java/org/elasticsearch/index/store/Store.java, +        StoreDirectory(Directory delegateDirectory, Logger deletesLogger) {, +        public void close() {, +, +        @Override, +        public boolean checkPendingDeletions() throws IOException {, +            if (super.checkPendingDeletions()) {, +                deletesLogger.warn("directory has still pending deletes");, +            }, +            // we skip this check since our IW usage always goes forward., +            // we still might run into situations where we have pending deletes ie. in shrink / split case, +            // and that will cause issues on windows since we open multiple IW instance one after another during the split/shrink recovery, +            return false;, +        }, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.split/10_basic.yml, +      version: " - 6.99.99", +      reason: Automatic preparation for splitting was added in 7.0.0, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.split/20_source_mapping.yml, +      version: " - 6.3.99", +      reason: expects warnings that pre-6.4.0 will not send, +++ b/server/src/main/java/org/elasticsearch/index/store/Store.java, +        StoreDirectory(Directory delegateDirectory, Logger deletesLogger) {, +        public void close() {, +, +        @Override, +        public boolean checkPendingDeletions() throws IOException {, +            if (super.checkPendingDeletions()) {, +                deletesLogger.warn("directory has still pending deletes");, +            }, +            // we skip this check since our IW usage always goes forward., +            // we still might run into situations where we have pending deletes ie. in shrink / split case, +            // and that will cause issues on windows since we open multiple IW instance one after another during the split/shrink recovery, +            return false;, +        }, +++ b/server/src/test/java/org/elasticsearch/action/admin/indices/create/ShrinkIndexIT.java, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.split/10_basic.yml, +      version: " - 6.99.99", +      reason: Automatic preparation for splitting was added in 7.0.0, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/indices.split/20_source_mapping.yml, +      version: " - 6.3.99", +      reason: expects warnings that pre-6.4.0 will not send, +++ b/server/src/main/java/org/elasticsearch/index/store/Store.java, +        StoreDirectory(Directory delegateDirectory, Logger deletesLogger) {, +        public void close() {, +, +        @Override, +        public boolean checkPendingDeletions() throws IOException {, +            if (super.checkPendingDeletions()) {, +                deletesLogger.warn("directory has still pending deletes");, +            }, +            // we skip this check since our IW usage always goes forward., +            // we still might run into situations where we have pending deletes ie. in shrink / split case, +            // and that will cause issues on windows since we open multiple IW instance one after another during the split/shrink recovery, +            return false;, +        }, +++ b/server/src/test/java/org/elasticsearch/action/admin/indices/create/ShrinkIndexIT.java, +++ b/server/src/test/java/org/elasticsearch/action/admin/indices/create/SplitIndexIT.java]