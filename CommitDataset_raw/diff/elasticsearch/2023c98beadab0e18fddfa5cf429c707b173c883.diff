[+++ b/server/src/main/java/org/elasticsearch/node/Node.java, +                .map(p -> p.getPersistentTasksExecutor(clusterService, threadPool, client)), +++ b/server/src/main/java/org/elasticsearch/node/Node.java, +                .map(p -> p.getPersistentTasksExecutor(clusterService, threadPool, client)), +++ b/server/src/main/java/org/elasticsearch/plugins/PersistentTaskPlugin.java, +import org.elasticsearch.client.Client;, +import org.elasticsearch.threadpool.ThreadPool;, +    default List<PersistentTasksExecutor<?>> getPersistentTasksExecutor(ClusterService clusterService,, +                                                                        ThreadPool threadPool, Client client) {, +++ b/server/src/main/java/org/elasticsearch/node/Node.java, +                .map(p -> p.getPersistentTasksExecutor(clusterService, threadPool, client)), +++ b/server/src/main/java/org/elasticsearch/plugins/PersistentTaskPlugin.java, +import org.elasticsearch.client.Client;, +import org.elasticsearch.threadpool.ThreadPool;, +    default List<PersistentTasksExecutor<?>> getPersistentTasksExecutor(ClusterService clusterService,, +                                                                        ThreadPool threadPool, Client client) {, +++ b/server/src/test/java/org/elasticsearch/persistent/TestPersistentTasksPlugin.java, +    public List<PersistentTasksExecutor<?>> getPersistentTasksExecutor(ClusterService clusterService,, +                                                                       ThreadPool threadPool, Client client) {]