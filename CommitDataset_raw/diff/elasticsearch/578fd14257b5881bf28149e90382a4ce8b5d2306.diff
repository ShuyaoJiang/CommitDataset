[+++ b/qa/full-cluster-restart/src/test/java/org/elasticsearch/upgrades/FullClusterRestartIT.java, +        createTemplateRequest.setOptions(allowTypeRemovalWarnings());, +        getTemplateRequest.setOptions(allowTypeRemovalWarnings());, +++ b/qa/full-cluster-restart/src/test/java/org/elasticsearch/upgrades/FullClusterRestartIT.java, +        createTemplateRequest.setOptions(allowTypeRemovalWarnings());, +        getTemplateRequest.setOptions(allowTypeRemovalWarnings());, +++ b/test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java, +    , +    /**, +     * Creates RequestOptions designed to ignore [types removal] warnings but nothing else , +     * @deprecated this method is only required while we deprecate types and can be removed in 8.0, +     */, +    @Deprecated, +    public static RequestOptions allowTypeRemovalWarnings() {, +        Builder builder = RequestOptions.DEFAULT.toBuilder();, +        builder.setWarningsHandler(new WarningsHandler() {, +                @Override, +                public boolean warningsShouldFailRequest(List<String> warnings) {, +                    for (String warning : warnings) {, +                        if(warning.startsWith("[types removal]") == false) {, +                            //Something other than a types removal message - return true, +                            return true;, +                        }, +                    }, +                    return false;, +                }, +            });, +        return builder.build();, +    }    ]