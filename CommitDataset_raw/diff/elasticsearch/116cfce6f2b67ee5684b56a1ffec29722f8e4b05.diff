[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/gateway/fs/FsIndexGateway.java, +                indexGatewayHome = new File(new File(((FsGateway) gateway).gatewayHome(), "indices"), index.name());, +                indexGatewayHome = new File(new File(new File(environment.workWithClusterFile(), "gateway"), "indices"), index.name());, +            indexGatewayHome = new File(new File(location), index.name());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/gateway/fs/FsIndexGateway.java, +                indexGatewayHome = new File(new File(((FsGateway) gateway).gatewayHome(), "indices"), index.name());, +                indexGatewayHome = new File(new File(new File(environment.workWithClusterFile(), "gateway"), "indices"), index.name());, +            indexGatewayHome = new File(new File(location), index.name());, +++ b/plugins/hadoop/src/test/java/org/elasticsearch/hadoop/gateway/HdfsGatewayTests.java, +import org.testng.annotations.AfterMethod;, +import org.testng.annotations.BeforeMethod;, +    @BeforeMethod void setUpNodes() throws Exception {, +    @AfterMethod void closeNodes() throws Exception {]