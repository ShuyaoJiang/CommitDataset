[+++ b/rest-api-spec/src/main/resources/rest-api-spec/test/scroll/12_slices.yaml, +setup:, +        id:     1, +      index:, +        index:  test_sliced_scroll, +        type:   test, +        id:     2, +        body:   { foo: 2 }, +, +  - do:, +      index:, +        index:  test_sliced_scroll, +        type:   test, +        id:     3, +        body:   { foo: 3 }, +, +  - do:, +      index:, +        index:  test_sliced_scroll, +        type:   test, +        id:     4, +        body:   { foo: 4 }, +, +  - do:, +---, +"Sliced scroll":, +  - skip:, +      version: " - 5.3.0", +      reason: Prior version uses a random seed per node to compute the hash of the keys., +, +            max: 2, +  - match: {hits.total:      3    }, +  - length: {hits.hits:      3    }, +  - match: {hits.hits.0._id: "2" }, +  - match: {hits.hits.1._id: "3" }, +  - match: {hits.hits.2._id: "4" }, +, +  - do:, +      scroll:, +        scroll_id: $scroll_id, +        scroll: 1m, +, +  - match: {hits.total:      3    }, +  - length: {hits.hits:      0    }, +      search:, +        index: test_sliced_scroll, +        scroll: 1m, +        sort: foo, +        body:, +          slice:, +            id: 1, +            max: 2, +          query:, +            match_all: {}, +, +  - set: {_scroll_id: scroll_id}, +  - match: {hits.total:      1    }, +  - length: {hits.hits:      1    }, +  - match: {hits.hits.0._id: "1" }, +, +  - do:, +      scroll:, +        scroll_id: $scroll_id, +        scroll: 1m, +, +  - match: {hits.total:      1    }, +  - length: {hits.hits:      0    }, +, +  - do:, +        clear_scroll:, +          scroll_id: $scroll_id, +, +---, +"Sliced scroll with invalid arguments":, +  - do:]