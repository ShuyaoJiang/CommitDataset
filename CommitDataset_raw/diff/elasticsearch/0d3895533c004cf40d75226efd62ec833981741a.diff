[+++ b/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java, +import org.elasticsearch.Version;, +    private long nowInMillis;, +        this.nowInMillis = request.nowInMillis;, +    public long nowInMillis() {, +        return this.nowInMillis;, +    }, +, +, +        if (in.getVersion().onOrAfter(Version.V_0_90_6)) {, +            nowInMillis = in.readVLong();, +        } else {, +            nowInMillis = System.currentTimeMillis();, +        }, +, +        if (out.getVersion().onOrAfter(Version.V_0_90_6)) {, +            out.writeVLong(nowInMillis);, +        }, +++ b/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java, +import org.elasticsearch.Version;, +    private long nowInMillis;, +        this.nowInMillis = request.nowInMillis;, +    public long nowInMillis() {, +        return this.nowInMillis;, +    }, +, +, +        if (in.getVersion().onOrAfter(Version.V_0_90_6)) {, +            nowInMillis = in.readVLong();, +        } else {, +            nowInMillis = System.currentTimeMillis();, +        }, +, +        if (out.getVersion().onOrAfter(Version.V_0_90_6)) {, +            out.writeVLong(nowInMillis);, +        }, +++ b/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +import org.elasticsearch.action.ActionListener;, +    protected void doExecute(ValidateQueryRequest request, ActionListener<ValidateQueryResponse> listener) {, +        request.nowInMillis = System.currentTimeMillis();, +        super.doExecute(request, listener);, +    }, +, +    @Override, +                    new ShardSearchRequest().types(request.types()).nowInMillis(request.nowInMillis()),, +++ b/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java, +import org.elasticsearch.Version;, +    private long nowInMillis;, +        this.nowInMillis = request.nowInMillis;, +    public long nowInMillis() {, +        return this.nowInMillis;, +    }, +, +, +        if (in.getVersion().onOrAfter(Version.V_0_90_6)) {, +            nowInMillis = in.readVLong();, +        } else {, +            nowInMillis = System.currentTimeMillis();, +        }, +, +        if (out.getVersion().onOrAfter(Version.V_0_90_6)) {, +            out.writeVLong(nowInMillis);, +        }, +++ b/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +import org.elasticsearch.action.ActionListener;, +    protected void doExecute(ValidateQueryRequest request, ActionListener<ValidateQueryResponse> listener) {, +        request.nowInMillis = System.currentTimeMillis();, +        super.doExecute(request, listener);, +    }, +, +    @Override, +                    new ShardSearchRequest().types(request.types()).nowInMillis(request.nowInMillis()),, +++ b/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java, +    long nowInMillis;, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java, +import org.elasticsearch.Version;, +    private long nowInMillis;, +        this.nowInMillis = request.nowInMillis;, +    public long nowInMillis() {, +        return this.nowInMillis;, +    }, +, +, +        if (in.getVersion().onOrAfter(Version.V_0_90_6)) {, +            nowInMillis = in.readVLong();, +        } else {, +            nowInMillis = System.currentTimeMillis();, +        }, +, +        if (out.getVersion().onOrAfter(Version.V_0_90_6)) {, +            out.writeVLong(nowInMillis);, +        }, +++ b/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java, +import org.elasticsearch.action.ActionListener;, +    protected void doExecute(ValidateQueryRequest request, ActionListener<ValidateQueryResponse> listener) {, +        request.nowInMillis = System.currentTimeMillis();, +        super.doExecute(request, listener);, +    }, +]