[+++ b/core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java, +        if (position+targetBuffer.remaining() > getWrittenOffset()) {, +        // we don't have to have a lock here because we only write ahead to the file, so all writes has been complete]