[+++ b/TESTING.asciidoc, +To run tests instrumented with jacoco and produce a coverage report in, +`target/site/jacoco/`:, +++ b/TESTING.asciidoc, +To run tests instrumented with jacoco and produce a coverage report in, +`target/site/jacoco/`:, +++ b/core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java, +                // jacoco coverage output file, +                if (Boolean.getBoolean("tests.coverage")) {, +                    Path coverageDir = PathUtils.get(System.getProperty("tests.coverage.dir"));, +                    perms.add(new FilePermission(coverageDir.resolve("jacoco.exec").toString(), "read,write"));, +                    // in case we get fancy and use the -integration goals later:, +                    perms.add(new FilePermission(coverageDir.resolve("jacoco-it.exec").toString(), "read,write"));, +                }, +++ b/TESTING.asciidoc, +To run tests instrumented with jacoco and produce a coverage report in, +`target/site/jacoco/`:, +++ b/core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java, +                // jacoco coverage output file, +                if (Boolean.getBoolean("tests.coverage")) {, +                    Path coverageDir = PathUtils.get(System.getProperty("tests.coverage.dir"));, +                    perms.add(new FilePermission(coverageDir.resolve("jacoco.exec").toString(), "read,write"));, +                    // in case we get fancy and use the -integration goals later:, +                    perms.add(new FilePermission(coverageDir.resolve("jacoco-it.exec").toString(), "read,write"));, +                }, +++ b/pom.xml, +        <jacoco.version>0.7.5.201505241946</jacoco.version>, +                            <tests.coverage>${tests.coverage}</tests.coverage>, +                            <tests.coverage.dir>${project.build.directory}</tests.coverage.dir>, +                <!-- in case activated otherwise -->, +                <tests.coverage>true</tests.coverage>]