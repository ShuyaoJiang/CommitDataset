[+++ b/core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java, +import java.lang.reflect.Type;, +                if (to.equals(binding.getKey().getTypeLiteral().getType())) {, +                    assertSame(clazz, binding.getLinkedKey().getTypeLiteral().getType());, +        Set<Type> bindings = new HashSet<>();, +                if (to.equals(binding.getKey().getTypeLiteral().getType())) {, +                    bindings.add(binding.getLinkedKey().getTypeLiteral().getType());, +                String setType = binding.getKey().getTypeLiteral().getType().toString();, +            if (bindings.contains(clazz) == false) {]