[+++ b/build.gradle, +      javadoc = true, +  project.afterEvaluate {, +    // ignore missing javadocs, +    tasks.withType(Javadoc) { Javadoc javadoc ->, +      // the -quiet here is because of a bug in gradle, in that adding a string option, +      // by itself is not added to the options. By adding quiet, both this option and, +      // the "value" -quiet is added, separated by a space. This is ok since the javadoc, +      // command already adds -quiet, so we are just duplicating it, +      // see https://discuss.gradle.org/t/add-custom-javadoc-option-that-does-not-take-an-argument/5959, +      javadoc.options.addStringOption('Xdoclint:all,-missing', '-quiet'), +    }, +task clean(type: GradleBuild) {, +  buildFile = 'buildSrc/build.gradle', +  tasks = ['clean'], +}, +, +++ b/build.gradle, +      javadoc = true, +  project.afterEvaluate {, +    // ignore missing javadocs, +    tasks.withType(Javadoc) { Javadoc javadoc ->, +      // the -quiet here is because of a bug in gradle, in that adding a string option, +      // by itself is not added to the options. By adding quiet, both this option and, +      // the "value" -quiet is added, separated by a space. This is ok since the javadoc, +      // command already adds -quiet, so we are just duplicating it, +      // see https://discuss.gradle.org/t/add-custom-javadoc-option-that-does-not-take-an-argument/5959, +      javadoc.options.addStringOption('Xdoclint:all,-missing', '-quiet'), +    }, +task clean(type: GradleBuild) {, +  buildFile = 'buildSrc/build.gradle', +  tasks = ['clean'], +}, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            String javaHome = System.getenv('JAVA_HOME'), +            println "  JDK Version    : ${System.getProperty('java.runtime.version')} (${System.getProperty('java.vendor')})", +            println "  JAVA_HOME      : ${javaHome == null ? 'not set' : javaHome}", +            if (JavaVersion.current() < minimumJava) {, +            // find java home so eg tests can use it to set java to run with, +            project.rootProject.ext.javaHome = javaHome, +            project.rootProject.ext.buildChecksDone = true, +        }, +        project.targetCompatibility = minimumJava, +        project.sourceCompatibility = minimumJava, +        // set java home for each project, so they dont have to find it in the root project, +        project.ext.javaHome = project.rootProject.ext.javaHome, +    /** Return the name, +     */, +    static String transitiveDepConfigName(String groupId, String artifactId, String version) {, +            project.tasks.withType(JavaCompile) { JavaCompile compile ->, +                compile.options.compilerArgs << '-Werror' << '-Xlint:all' << '-Xdoclint:all/private,-missing', +                compile.options.encoding = 'UTF-8', +                        'Build-Date': ZonedDateTime.now(ZoneOffset.UTC)), +++ b/build.gradle, +      javadoc = true, +  project.afterEvaluate {, +    // ignore missing javadocs, +    tasks.withType(Javadoc) { Javadoc javadoc ->, +      // the -quiet here is because of a bug in gradle, in that adding a string option, +      // by itself is not added to the options. By adding quiet, both this option and, +      // the "value" -quiet is added, separated by a space. This is ok since the javadoc, +      // command already adds -quiet, so we are just duplicating it, +      // see https://discuss.gradle.org/t/add-custom-javadoc-option-that-does-not-take-an-argument/5959, +      javadoc.options.addStringOption('Xdoclint:all,-missing', '-quiet'), +    }, +task clean(type: GradleBuild) {, +  buildFile = 'buildSrc/build.gradle', +  tasks = ['clean'], +}, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            String javaHome = System.getenv('JAVA_HOME'), +            println "  JDK Version    : ${System.getProperty('java.runtime.version')} (${System.getProperty('java.vendor')})", +            println "  JAVA_HOME      : ${javaHome == null ? 'not set' : javaHome}", +            if (JavaVersion.current() < minimumJava) {, +            // find java home so eg tests can use it to set java to run with, +            project.rootProject.ext.javaHome = javaHome, +            project.rootProject.ext.buildChecksDone = true, +        }, +        project.targetCompatibility = minimumJava, +        project.sourceCompatibility = minimumJava, +        // set java home for each project, so they dont have to find it in the root project, +        project.ext.javaHome = project.rootProject.ext.javaHome, +    /** Return the name, +     */, +    static String transitiveDepConfigName(String groupId, String artifactId, String version) {, +            project.tasks.withType(JavaCompile) { JavaCompile compile ->, +                compile.options.compilerArgs << '-Werror' << '-Xlint:all' << '-Xdoclint:all/private,-missing', +                compile.options.encoding = 'UTF-8', +                        'Build-Date': ZonedDateTime.now(ZoneOffset.UTC)), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +                configureForbiddenPatterns(project.tasks)], +++ b/build.gradle, +      javadoc = true, +  project.afterEvaluate {, +    // ignore missing javadocs, +    tasks.withType(Javadoc) { Javadoc javadoc ->, +      // the -quiet here is because of a bug in gradle, in that adding a string option, +      // by itself is not added to the options. By adding quiet, both this option and]