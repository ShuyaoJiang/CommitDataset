[+++ b/docs/plugins/analysis-nori.asciidoc, +, +--, +, +`user_dictionary_rules`::, ++, +--, +, +You can also inline the rules directly in the tokenizer definition using, +the `user_dictionary_rules` option:, +, +[source,js], +--------------------------------------------------, +PUT nori_sample, +{, +  "settings": {, +    "index": {, +      "analysis": {, +        "tokenizer": {, +          "nori_user_dict": {, +            "type": "nori_tokenizer",, +            "decompound_mode": "mixed",, +            "user_dictionary_rules": ["c++", "C샤프", "세종", "세종시 세종 시"], +          }, +        },, +        "analyzer": {, +          "my_analyzer": {, +            "type": "custom",, +            "tokenizer": "nori_user_dict", +          }, +        }, +      }, +    }, +  }, +}, +--------------------------------------------------, +// CONSOLE, +--, +++ b/docs/plugins/analysis-nori.asciidoc, +, +--, +, +`user_dictionary_rules`::, ++, +--, +, +You can also inline the rules directly in the tokenizer definition using, +the `user_dictionary_rules` option:, +, +[source,js], +--------------------------------------------------, +PUT nori_sample, +{, +  "settings": {, +    "index": {, +      "analysis": {, +        "tokenizer": {, +          "nori_user_dict": {, +            "type": "nori_tokenizer",, +            "decompound_mode": "mixed",, +            "user_dictionary_rules": ["c++", "C샤프", "세종", "세종시 세종 시"], +          }, +        },, +        "analyzer": {, +          "my_analyzer": {, +            "type": "custom",, +            "tokenizer": "nori_user_dict", +          }, +        }, +      }, +    }, +  }, +}, +--------------------------------------------------, +// CONSOLE, +--, +++ b/plugins/analysis-nori/src/main/java/org/elasticsearch/index/analysis/NoriTokenizerFactory.java, +import java.io.StringReader;, +import java.util.List;, +    private static final String USER_DICT_PATH_OPTION = "user_dictionary";, +    private static final String USER_DICT_RULES_OPTION = "user_dictionary_rules";, +        if (settings.get(USER_DICT_PATH_OPTION) != null && settings.get(USER_DICT_RULES_OPTION) != null) {, +            throw new IllegalArgumentException("It is not allowed to use [" + USER_DICT_PATH_OPTION + "] in conjunction" +, +                " with [" + USER_DICT_RULES_OPTION + "]");, +        List<String> ruleList = Analysis.getWordList(env, settings, USER_DICT_PATH_OPTION, USER_DICT_RULES_OPTION);, +        StringBuilder sb = new StringBuilder();, +        if (ruleList == null || ruleList.isEmpty()) {, +            return null;, +        }, +        for (String line : ruleList) {, +            sb.append(line).append(System.lineSeparator());, +        }, +        try (Reader rulesReader = new StringReader(sb.toString())) {, +            return UserDictionary.open(rulesReader);, +++ b/docs/plugins/analysis-nori.asciidoc, +, +--, +, +`user_dictionary_rules`::, ++]