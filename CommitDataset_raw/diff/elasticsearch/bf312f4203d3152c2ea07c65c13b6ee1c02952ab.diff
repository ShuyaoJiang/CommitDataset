[+++ b/core/src/main/java/org/elasticsearch/index/SearchSlowLog.java, +        this.queryLogger = Loggers.getLogger(INDEX_SEARCH_SLOWLOG_PREFIX + ".query", indexSettings.getSettings());, +        this.fetchLogger = Loggers.getLogger(INDEX_SEARCH_SLOWLOG_PREFIX + ".fetch", indexSettings.getSettings());, +            queryLogger.warn("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            queryLogger.info("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            queryLogger.debug("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            queryLogger.trace("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            fetchLogger.warn("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            fetchLogger.info("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            fetchLogger.debug("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            fetchLogger.trace("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +        public SlowLogSearchContextPrinter(SearchContext context, long tookInNanos, boolean reformat) {, +            sb.append(context.indexShard().shardId()).append(" ");, +++ b/core/src/main/java/org/elasticsearch/index/SearchSlowLog.java, +        this.queryLogger = Loggers.getLogger(INDEX_SEARCH_SLOWLOG_PREFIX + ".query", indexSettings.getSettings());, +        this.fetchLogger = Loggers.getLogger(INDEX_SEARCH_SLOWLOG_PREFIX + ".fetch", indexSettings.getSettings());, +            queryLogger.warn("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            queryLogger.info("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            queryLogger.debug("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            queryLogger.trace("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            fetchLogger.warn("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            fetchLogger.info("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            fetchLogger.debug("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +            fetchLogger.trace("{}", new SlowLogSearchContextPrinter(context, tookInNanos, reformat));, +        public SlowLogSearchContextPrinter(SearchContext context, long tookInNanos, boolean reformat) {, +            sb.append(context.indexShard().shardId()).append(" ");, +++ b/core/src/test/java/org/elasticsearch/index/SearchSlowLogTests.java, +                        return new ShardId(indexService.index(), 0);, +        SearchSlowLog.SlowLogSearchContextPrinter p = new SearchSlowLog.SlowLogSearchContextPrinter(searchContext, 10, true);, +        assertThat(p.toString(), startsWith("[foo][0]"));]