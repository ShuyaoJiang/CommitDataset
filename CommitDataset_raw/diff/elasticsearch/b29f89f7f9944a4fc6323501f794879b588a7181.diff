[+++ b/pom.xml, +                                <tests.network>${tests.network}</tests.network>, +++ b/pom.xml, +                                <tests.network>${tests.network}</tests.network>, +++ b/src/test/java/org/elasticsearch/plugin/PluginManagerTests.java, +import org.elasticsearch.test.ElasticsearchIntegrationTest;, +import org.elasticsearch.test.junit.annotations.Network;, +@ClusterScope(scope = Scope.TEST, numNodes = 0, transportClientRatio = 0.0), +        logger.info("--> tested http address [{}]", httpServerTransport.info().getAddress());, +        HttpClientResponse response = checkHttpResponseOK(httpClient, nodeName, "");, +        checkHttpResponseOK(httpClient, nodeName, "_plugin/" + pluginName + "/");, +    }, +, +    private HttpClientResponse checkHttpResponseOK(HttpClient httpClient, String nodeName, String url) {, +        logger.info("--> trying node [{}], url [/{}]", nodeName, url);, +        HttpClientResponse response = httpClient.request(url);, +        if (response.errorCode() != RestStatus.OK.getStatus()) {, +            // We want to trace what's going on here before failing the test, +            logger.info("--> error caught [{}], headers [{}]", response.errorCode(), response.getHeaders());, +            logger.info("--> cluster state [{}]", cluster().clusterService().state());, +        }, +        return response;]