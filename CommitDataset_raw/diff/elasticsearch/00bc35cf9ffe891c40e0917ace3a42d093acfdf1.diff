[+++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetCategoriesAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, Client client, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.jobId);, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetCategoriesAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, Client client, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.jobId);, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetInfluencersAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, Client client, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.jobId);, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetCategoriesAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, Client client, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.jobId);, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetInfluencersAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, Client client, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.jobId);, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetModelSnapshotsAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.getJobId());, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetCategoriesAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, Client client, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.jobId);, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetInfluencersAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, Client client, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.jobId);, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetModelSnapshotsAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.getJobId());, +, +++ b/plugin/src/test/resources/rest-api-spec/test/ml/delete_model_snapshot.yaml, +, +---, +"Test with unknown job id":, +  - do:, +      catch: missing, +      xpack.ml.delete_model_snapshot:, +        job_id: "non-existent-job", +        snapshot_id: "foo", +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetCategoriesAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, Client client, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.jobId);, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetInfluencersAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, Client client, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.jobId);, +, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/GetModelSnapshotsAction.java, +import org.elasticsearch.xpack.ml.job.JobManager;, +        private final JobManager jobManager;, +                IndexNameExpressionResolver indexNameExpressionResolver, JobProvider jobProvider, JobManager jobManager) {, +            this.jobManager = jobManager;, +            jobManager.getJobOrThrowIfUnknown(request.getJobId());, +, +++ b/plugin/src/test/resources/rest-api-spec/test/ml/delete_model_snapshot.yaml, +, +---, +"Test with unknown job id":, +  - do:, +      catch: missing, +      xpack.ml.delete_model_snapshot:]