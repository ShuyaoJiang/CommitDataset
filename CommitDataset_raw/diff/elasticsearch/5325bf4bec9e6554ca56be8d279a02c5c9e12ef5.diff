[+++ b/src/main/java/org/elasticsearch/plugins/AbstractPlugin.java, +    public Collection<Module> modules(Settings settings) {, +        return ImmutableList.of();, +    }, +, +    /**, +     * Defaults to return an empty list., +     */, +    @Override, +    public Collection<Module> indexModules(Settings settings) {, +        return ImmutableList.of();, +    }, +, +    /**, +     * Defaults to return an empty list., +     */, +    @Override, +    public Collection<Module> shardModules(Settings settings) {, +        return ImmutableList.of();, +    }, +, +    /**, +     * Defaults to return an empty list., +     */, +    @Override, +++ b/src/main/java/org/elasticsearch/plugins/AbstractPlugin.java, +    public Collection<Module> modules(Settings settings) {, +        return ImmutableList.of();, +    }, +, +    /**, +     * Defaults to return an empty list., +     */, +    @Override, +    public Collection<Module> indexModules(Settings settings) {, +        return ImmutableList.of();, +    }, +, +    /**, +     * Defaults to return an empty list., +     */, +    @Override, +    public Collection<Module> shardModules(Settings settings) {, +        return ImmutableList.of();, +    }, +, +    /**, +     * Defaults to return an empty list., +     */, +    @Override, +++ b/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java, +        modules.addAll(pluginsService.indexModules(settings));, +++ b/src/main/java/org/elasticsearch/plugins/AbstractPlugin.java, +    public Collection<Module> modules(Settings settings) {, +        return ImmutableList.of();, +    }, +, +    /**, +     * Defaults to return an empty list., +     */, +    @Override, +    public Collection<Module> indexModules(Settings settings) {, +        return ImmutableList.of();, +    }, +, +    /**, +     * Defaults to return an empty list., +     */, +    @Override, +    public Collection<Module> shardModules(Settings settings) {, +        return ImmutableList.of();, +    }, +, +    /**, +     * Defaults to return an empty list., +     */, +    @Override, +++ b/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java, +        modules.addAll(pluginsService.indexModules(settings));, +++ b/src/main/java/org/elasticsearch/plugins/Plugin.java, +     * Node level modules (classes, will automatically be created)., +     * Node level modules (instances), +     *, +     * @param settings The node level settings., +     */, +    Collection<Module> modules(Settings settings);, +, +    /**, +     * Per index modules., +     */, +    Collection<Module> indexModules(Settings settings);, +, +    /**, +     * Per index shard module., +     */, +    Collection<Module> shardModules(Settings settings);, +, +    /**, +++ b/src/main/java/org/elasticsearch/plugins/AbstractPlugin.java, +    public Collection<Module> modules(Settings settings) {]