[+++ b/x-pack/plugin/ccr/src/main/java/org/elasticsearch/xpack/ccr/action/AutoFollowCoordinator.java, +import org.elasticsearch.action.support.GroupedActionListener;, +            final GroupedActionListener<Tuple<Index, Exception>> groupedListener = new GroupedActionListener<>(, +                ActionListener.wrap(, +                    rs -> resultHandler.accept(new AutoFollowResult(autoFollowPattenName, new ArrayList<>(rs))),, +                    e -> { throw new AssertionError("must never happen", e); }),, +                leaderIndicesToFollow.size(), Collections.emptyList());, +            for (final Index indexToFollow : leaderIndicesToFollow) {, +                    groupedListener.onResponse(, +                        new Tuple<>(indexToFollow, new ElasticsearchException("index to follow [" + indexToFollow.getName() +, +                            groupedListener.onResponse(new Tuple<>(indexToFollow, failure));, +                        updateAutoFollowMetadata(recordLeaderIndexAsFollowFunction(autoFollowPattenName, indexToFollow),, +                            error -> groupedListener.onResponse(new Tuple<>(indexToFollow, error)));, +                    } else {, +                        followLeaderIndex(autoFollowPattenName, remoteCluster, indexToFollow, autoFollowPattern, headers,, +                            error -> groupedListener.onResponse(new Tuple<>(indexToFollow, error)));]