[+++ b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/action/user/TransportChangePasswordActionTests.java, +        Settings settings = Settings.builder().put(AnonymousUser.ROLES_SETTING.getKey(), "superuser"), +            .put(XPackSettings.PASSWORD_HASHING_ALGORITHM.getKey(), hashingAlgorithm).build();, +        TransportService transportService = new TransportService(Settings.EMPTY, mock(Transport.class), null,, +        ChangePasswordRequest request = new ChangePasswordRequest();, +        TransportService transportService = new TransportService(Settings.EMPTY, mock(Transport.class), null,, +        TransportChangePasswordAction action = new TransportChangePasswordAction(passwordHashingSettings, transportService,, +        // Request will fail before the request hashing algorithm is checked, but we use the same algorithm as in settings for consistency]