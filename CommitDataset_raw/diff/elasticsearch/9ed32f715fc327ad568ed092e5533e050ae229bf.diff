[+++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +        executionService.executeIndexRequest(indexRequest, t -> {, +        executionService.executeBulkRequest(() -> bulkRequestModifier, (indexRequest, throwable) -> {, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +        executionService.executeIndexRequest(indexRequest, t -> {, +        executionService.executeBulkRequest(() -> bulkRequestModifier, (indexRequest, throwable) -> {, +++ b/core/src/main/java/org/elasticsearch/ingest/PipelineExecutionService.java, +    public void executeIndexRequest(IndexRequest request, Consumer<Throwable> failureHandler, Consumer<Boolean> completionHandler) {, +    public void executeBulkRequest(Iterable<ActionRequest<?>> actionRequests,, +        threadPool.executor(ThreadPool.Names.BULK).execute(new AbstractRunnable() {, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +        executionService.executeIndexRequest(indexRequest, t -> {, +        executionService.executeBulkRequest(() -> bulkRequestModifier, (indexRequest, throwable) -> {, +++ b/core/src/main/java/org/elasticsearch/ingest/PipelineExecutionService.java, +    public void executeIndexRequest(IndexRequest request, Consumer<Throwable> failureHandler, Consumer<Boolean> completionHandler) {, +    public void executeBulkRequest(Iterable<ActionRequest<?>> actionRequests,, +        threadPool.executor(ThreadPool.Names.BULK).execute(new AbstractRunnable() {, +++ b/core/src/test/java/org/elasticsearch/action/ingest/IngestActionFilterTests.java, +        verify(executionService).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +        doAnswer(answer).when(executionService).executeIndexRequest(any(IndexRequest.class), any(Consumer.class), any(Consumer.class));, +        verify(executionService).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +        doAnswer(answer).when(executionService).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +        verify(executionService).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +        doAnswer(answer).when(executionService).executeIndexRequest(any(IndexRequest.class), any(Consumer.class), any(Consumer.class));, +        verify(executionService, times(1)).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +        executionService.executeIndexRequest(indexRequest, t -> {, +        executionService.executeBulkRequest(() -> bulkRequestModifier, (indexRequest, throwable) -> {, +++ b/core/src/main/java/org/elasticsearch/ingest/PipelineExecutionService.java, +    public void executeIndexRequest(IndexRequest request, Consumer<Throwable> failureHandler, Consumer<Boolean> completionHandler) {, +    public void executeBulkRequest(Iterable<ActionRequest<?>> actionRequests,, +        threadPool.executor(ThreadPool.Names.BULK).execute(new AbstractRunnable() {, +++ b/core/src/test/java/org/elasticsearch/action/ingest/IngestActionFilterTests.java, +        verify(executionService).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +        doAnswer(answer).when(executionService).executeIndexRequest(any(IndexRequest.class), any(Consumer.class), any(Consumer.class));, +        verify(executionService).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +        doAnswer(answer).when(executionService).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +        verify(executionService).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +        doAnswer(answer).when(executionService).executeIndexRequest(any(IndexRequest.class), any(Consumer.class), any(Consumer.class));, +        verify(executionService, times(1)).executeIndexRequest(same(indexRequest), any(Consumer.class), any(Consumer.class));, +++ b/core/src/test/java/org/elasticsearch/ingest/PipelineExecutionServiceTests.java, +            executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeBulkRequest(bulkRequest.requests(), failureHandler, completionHandler);, +        executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeIndexRequest(indexRequest, failureHandler, completionHandler);, +        executionService.executeBulkRequest(bulkRequest.requests(), requestItemErrorHandler, completionHandler);, +        executionService.executeBulkRequest(bulkRequest.requests(), requestItemErrorHandler, completionHandler);]