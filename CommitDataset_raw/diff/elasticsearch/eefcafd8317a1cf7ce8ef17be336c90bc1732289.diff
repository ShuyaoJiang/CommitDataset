[+++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java, +        if (indexCreated.onOrAfter(Version.V_2_1_0)) {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java, +        if (indexCreated.onOrAfter(Version.V_2_1_0)) {, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java, +        if (indexCreated.onOrAfter(Version.V_2_1_0)) {, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java, +        if (indexCreated.onOrAfter(Version.V_2_1_0)) {, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java, +++ b/docs/reference/mapping/fields/type-field.asciidoc, +The value of the `_type` field is accessible in queries and scripts:, +      "script": "doc['_type']" <2>, +<2> Accessing the `_type` field in scripts (inline scripts must be <<enable-dynamic-scripting,enabled>> for this example to work), +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java, +        if (indexCreated.onOrAfter(Version.V_2_1_0)) {, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java, +++ b/docs/reference/mapping/fields/type-field.asciidoc, +The value of the `_type` field is accessible in queries and scripts:, +      "script": "doc['_type']" <2>, +<2> Accessing the `_type` field in scripts (inline scripts must be <<enable-dynamic-scripting,enabled>> for this example to work), +++ b/modules/lang-painless/src/main/antlr/PainlessLexer.g4, +REF:     '::';, +DOTID: [_a-zA-Z] [_a-zA-Z0-9]*                            -> mode(DEFAULT_MODE);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java, +        if (indexCreated.onOrAfter(Version.V_2_1_0)) {, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java, +++ b/docs/reference/mapping/fields/type-field.asciidoc, +The value of the `_type` field is accessible in queries and scripts:, +      "script": "doc['_type']" <2>, +<2> Accessing the `_type` field in scripts (inline scripts must be <<enable-dynamic-scripting,enabled>> for this example to work), +++ b/modules/lang-painless/src/main/antlr/PainlessLexer.g4, +REF:     '::';, +DOTID: [_a-zA-Z] [_a-zA-Z0-9]*                            -> mode(DEFAULT_MODE);, +++ b/modules/lang-painless/src/main/antlr/PainlessLexer.tokens, +REF=49, +INCR=50, +DECR=51, +ASSIGN=52, +AADD=53, +ASUB=54, +AMUL=55, +ADIV=56, +AREM=57, +AAND=58, +AXOR=59, +AOR=60, +ALSH=61, +ARSH=62, +AUSH=63, +OCTAL=64, +HEX=65, +INTEGER=66, +DECIMAL=67, +STRING=68, +TRUE=69, +FALSE=70, +NULL=71, +TYPE=72, +ID=73, +DOTINTEGER=74, +DOTID=75, +'::'=49, +'++'=50, +'--'=51, +'='=52, +'+='=53, +'-='=54, +'*='=55, +'/='=56, +'%='=57, +'&='=58, +'^='=59, +'|='=60, +'<<='=61, +'>>='=62, +'>>>='=63, +'true'=69, +'false'=70, +'null'=71, +++ b/core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java, +        if (indexCreated.onOrAfter(Version.V_2_1_0)) {, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java, +++ b/docs/reference/mapping/fields/type-field.asciidoc, +The value of the `_type` field is accessible in queries and scripts:, +      "script": "doc['_type']" <2>, +<2> Accessing the `_type` field in scripts (inline scripts must be <<enable-dynamic-scripting,enabled>> for this example to work), +++ b/modules/lang-painless/src/main/antlr/PainlessLexer.g4, +REF:     '::';, +DOTID: [_a-zA-Z] [_a-zA-Z0-9]*                            -> mode(DEFAULT_MODE);, +++ b/modules/lang-painless/src/main/antlr/PainlessLexer.tokens, +REF=49, +INCR=50, +DECR=51]