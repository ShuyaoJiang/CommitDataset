[+++ b/core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java, +                if (fieldName != null) {, +                    throw new ParsingException(parser.getTokenLocation(), "[range] query doesn't support multiple fields, found [", +                            + fieldName + "] and [" + currentFieldName + "]");, +                }, +++ b/core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java, +                if (fieldName != null) {, +                    throw new ParsingException(parser.getTokenLocation(), "[range] query doesn't support multiple fields, found [", +                            + fieldName + "] and [" + currentFieldName + "]");, +                }, +++ b/core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java, +import org.elasticsearch.common.ParsingException;, +, +    public void testParseFailsWithMultipleFields() throws IOException {, +        String json =, +                "{\n" +, +                "    \"range\": {\n" +, +                "      \"age\": {\n" +, +                "        \"gte\": 30,\n" +, +                "        \"lte\": 40\n" +, +                "      },\n" +, +                "      \"price\": {\n" +, +                "        \"gte\": 10,\n" +, +                "        \"lte\": 30\n" +, +                "      }\n" +, +                "    }\n" +, +                "  }";, +, +        try {, +            parseQuery(json);, +            fail("parseQuery should have failed");, +        } catch(ParsingException e) {, +            assertEquals("[range] query doesn't support multiple fields, found [age] and [price]", e.getMessage());, +        }, +    }]