[+++ b/server/src/main/java/org/elasticsearch/script/ParameterMap.java, +import org.apache.logging.log4j.LogManager;, +import org.elasticsearch.common.logging.DeprecationLogger;, +, +    public ParameterMap(Map<String, Object> params, Map<String, String> deprecations) {, +++ b/server/src/main/java/org/elasticsearch/script/ParameterMap.java, +import org.apache.logging.log4j.LogManager;, +import org.elasticsearch.common.logging.DeprecationLogger;, +, +    public ParameterMap(Map<String, Object> params, Map<String, String> deprecations) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/Watcher.java, +import org.elasticsearch.xpack.watcher.condition.WatcherConditionScript;, +import org.elasticsearch.xpack.watcher.transform.script.WatcherTransformScript;, +        return Arrays.asList(Watcher.SCRIPT_SEARCH_CONTEXT, WatcherTransformScript.CONTEXT,, +            WatcherConditionScript.CONTEXT, Watcher.SCRIPT_TEMPLATE_CONTEXT);, +++ b/server/src/main/java/org/elasticsearch/script/ParameterMap.java, +import org.apache.logging.log4j.LogManager;, +import org.elasticsearch.common.logging.DeprecationLogger;, +, +    public ParameterMap(Map<String, Object> params, Map<String, String> deprecations) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/Watcher.java, +import org.elasticsearch.xpack.watcher.condition.WatcherConditionScript;, +import org.elasticsearch.xpack.watcher.transform.script.WatcherTransformScript;, +        return Arrays.asList(Watcher.SCRIPT_SEARCH_CONTEXT, WatcherTransformScript.CONTEXT,, +            WatcherConditionScript.CONTEXT, Watcher.SCRIPT_TEMPLATE_CONTEXT);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/email/ExecutableEmailAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/server/src/main/java/org/elasticsearch/script/ParameterMap.java, +import org.apache.logging.log4j.LogManager;, +import org.elasticsearch.common.logging.DeprecationLogger;, +, +    public ParameterMap(Map<String, Object> params, Map<String, String> deprecations) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/Watcher.java, +import org.elasticsearch.xpack.watcher.condition.WatcherConditionScript;, +import org.elasticsearch.xpack.watcher.transform.script.WatcherTransformScript;, +        return Arrays.asList(Watcher.SCRIPT_SEARCH_CONTEXT, WatcherTransformScript.CONTEXT,, +            WatcherConditionScript.CONTEXT, Watcher.SCRIPT_TEMPLATE_CONTEXT);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/email/ExecutableEmailAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/hipchat/ExecutableHipChatAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/server/src/main/java/org/elasticsearch/script/ParameterMap.java, +import org.apache.logging.log4j.LogManager;, +import org.elasticsearch.common.logging.DeprecationLogger;, +, +    public ParameterMap(Map<String, Object> params, Map<String, String> deprecations) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/Watcher.java, +import org.elasticsearch.xpack.watcher.condition.WatcherConditionScript;, +import org.elasticsearch.xpack.watcher.transform.script.WatcherTransformScript;, +        return Arrays.asList(Watcher.SCRIPT_SEARCH_CONTEXT, WatcherTransformScript.CONTEXT,, +            WatcherConditionScript.CONTEXT, Watcher.SCRIPT_TEMPLATE_CONTEXT);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/email/ExecutableEmailAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/hipchat/ExecutableHipChatAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/jira/ExecutableJiraAction.java, +        final Function<String, String> render = s -> engine.render(new TextTemplate(s), Variables.createCtxParamsMap(ctx, payload));, +++ b/server/src/main/java/org/elasticsearch/script/ParameterMap.java, +import org.apache.logging.log4j.LogManager;, +import org.elasticsearch.common.logging.DeprecationLogger;, +, +    public ParameterMap(Map<String, Object> params, Map<String, String> deprecations) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/Watcher.java, +import org.elasticsearch.xpack.watcher.condition.WatcherConditionScript;, +import org.elasticsearch.xpack.watcher.transform.script.WatcherTransformScript;, +        return Arrays.asList(Watcher.SCRIPT_SEARCH_CONTEXT, WatcherTransformScript.CONTEXT,, +            WatcherConditionScript.CONTEXT, Watcher.SCRIPT_TEMPLATE_CONTEXT);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/email/ExecutableEmailAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/hipchat/ExecutableHipChatAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/jira/ExecutableJiraAction.java, +        final Function<String, String> render = s -> engine.render(new TextTemplate(s), Variables.createCtxParamsMap(ctx, payload));, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/logging/ExecutableLoggingAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/server/src/main/java/org/elasticsearch/script/ParameterMap.java, +import org.apache.logging.log4j.LogManager;, +import org.elasticsearch.common.logging.DeprecationLogger;, +, +    public ParameterMap(Map<String, Object> params, Map<String, String> deprecations) {, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/Watcher.java, +import org.elasticsearch.xpack.watcher.condition.WatcherConditionScript;, +import org.elasticsearch.xpack.watcher.transform.script.WatcherTransformScript;, +        return Arrays.asList(Watcher.SCRIPT_SEARCH_CONTEXT, WatcherTransformScript.CONTEXT,, +            WatcherConditionScript.CONTEXT, Watcher.SCRIPT_TEMPLATE_CONTEXT);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/email/ExecutableEmailAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/hipchat/ExecutableHipChatAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/jira/ExecutableJiraAction.java, +        final Function<String, String> render = s -> engine.render(new TextTemplate(s), Variables.createCtxParamsMap(ctx, payload));, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/logging/ExecutableLoggingAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/actions/pagerduty/ExecutablePagerDutyAction.java, +        Map<String, Object> model = Variables.createCtxParamsMap(ctx, payload);, +++ b/server/src/main/java/org/elasticsearch/script/ParameterMap.java, +import org.apache.logging.log4j.LogManager;, +import org.elasticsearch.common.logging.DeprecationLogger;, +, +    public ParameterMap(Map<String, Object> params, Map<String, String> deprecations) {]