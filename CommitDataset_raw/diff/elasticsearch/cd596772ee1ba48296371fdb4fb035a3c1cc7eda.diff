[+++ b/build.gradle, +    "org.elasticsearch.plugin:transport-netty4-client:${version}": ':modules:transport-netty4',, +++ b/build.gradle, +    "org.elasticsearch.plugin:transport-netty4-client:${version}": ':modules:transport-netty4',, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        repos.maven {, +            name 'netty-snapshots', +            url "http://s3.amazonaws.com/download.elasticsearch.org/nettysnapshots/20160722", +        }, +++ b/build.gradle, +    "org.elasticsearch.plugin:transport-netty4-client:${version}": ':modules:transport-netty4',, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        repos.maven {, +            name 'netty-snapshots', +            url "http://s3.amazonaws.com/download.elasticsearch.org/nettysnapshots/20160722", +        }, +++ b/client/transport/build.gradle, +  compile project(path: ':modules:transport-netty4', configuration: 'runtime'), +++ b/build.gradle, +    "org.elasticsearch.plugin:transport-netty4-client:${version}": ':modules:transport-netty4',, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        repos.maven {, +            name 'netty-snapshots', +            url "http://s3.amazonaws.com/download.elasticsearch.org/nettysnapshots/20160722", +        }, +++ b/client/transport/build.gradle, +  compile project(path: ':modules:transport-netty4', configuration: 'runtime'), +++ b/client/transport/src/main/java/org/elasticsearch/transport/client/PreBuiltTransportClient.java, +, +import org.elasticsearch.common.network.NetworkModule;, +import org.elasticsearch.common.settings.Setting;, +import org.elasticsearch.transport.Netty4Plugin;, +import java.util.List;, + * This class pre-installs the, + * {@link Netty3Plugin},, + * {@link Netty4Plugin},, + * {@link ReindexPlugin},, + * {@link PercolatorPlugin},, + * and {@link MustachePlugin}, +, +    private static final Collection<Class<? extends Plugin>> PRE_INSTALLED_PLUGINS =, +            Collections.unmodifiableList(, +                    Arrays.asList(, +                            Netty3Plugin.class,, +                            Netty4Plugin.class,, +                            TransportPlugin.class,, +                            ReindexPlugin.class,, +                            PercolatorPlugin.class,, +                            MustachePlugin.class));, +    public static final class TransportPlugin extends Plugin {, +, +        private static final Setting<Boolean> ASSERT_NETTY_BUGLEVEL =, +                Setting.boolSetting("netty.assert.buglevel", true, Setting.Property.NodeScope);, +, +        @Override, +        public List<Setting<?>> getSettings() {, +            return Collections.singletonList(ASSERT_NETTY_BUGLEVEL);, +, +        @Override, +        public Settings additionalSettings() {, +            return Settings.builder(), +                    .put(NetworkModule.TRANSPORT_TYPE_KEY, Netty3Plugin.NETTY_TRANSPORT_NAME), +                    .put(NetworkModule.HTTP_TYPE_KEY, Netty3Plugin.NETTY_HTTP_TRANSPORT_NAME), +                    .put("netty.assert.buglevel", true), +                    .build();, +, +    }, +, +++ b/build.gradle, +    "org.elasticsearch.plugin:transport-netty4-client:${version}": ':modules:transport-netty4',, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +        repos.maven {, +            name 'netty-snapshots', +            url "http://s3.amazonaws.com/download.elasticsearch.org/nettysnapshots/20160722", +        }, +++ b/client/transport/build.gradle, +  compile project(path: ':modules:transport-netty4', configuration: 'runtime'), +++ b/client/transport/src/main/java/org/elasticsearch/transport/client/PreBuiltTransportClient.java, +, +import org.elasticsearch.common.network.NetworkModule;, +import org.elasticsearch.common.settings.Setting;, +import org.elasticsearch.transport.Netty4Plugin;, +import java.util.List;, + * This class pre-installs the, + * {@link Netty3Plugin},, + * {@link Netty4Plugin},, + * {@link ReindexPlugin},, + * {@link PercolatorPlugin},, + * and {@link MustachePlugin}, +, +    private static final Collection<Class<? extends Plugin>> PRE_INSTALLED_PLUGINS =, +            Collections.unmodifiableList(, +                    Arrays.asList(, +                            Netty3Plugin.class,, +                            Netty4Plugin.class,, +                            TransportPlugin.class,, +                            ReindexPlugin.class,, +                            PercolatorPlugin.class,, +                            MustachePlugin.class));, +    public static final class TransportPlugin extends Plugin {]