[+++ b/src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java, +import org.elasticsearch.common.Booleans;, +            if (Booleans.parseBoolean(checkIndexOnStartup, false)) {, +        if (Booleans.parseBoolean(checkIndexOnStartup, false)) {, +                } else {, +                    // only throw a failure if we are not going to fix the index, +                    if (throwException) {, +                        throw new IndexShardException(shardId, "index check failure");, +                    }]