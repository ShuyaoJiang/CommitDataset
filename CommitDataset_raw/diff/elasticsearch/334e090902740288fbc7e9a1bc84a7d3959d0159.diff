[+++ b/marvel/pom.xml, +        <dependency>, +            <groupId>org.elasticsearch.plugin</groupId>, +            <artifactId>shield</artifactId>, +            <version>${project.version}</version>, +            <scope>provided</scope>, +        </dependency>, +, +++ b/marvel/pom.xml, +        <dependency>, +            <groupId>org.elasticsearch.plugin</groupId>, +            <artifactId>shield</artifactId>, +            <version>${project.version}</version>, +            <scope>provided</scope>, +        </dependency>, +, +++ b/marvel/src/main/java/org/elasticsearch/marvel/MarvelPlugin.java, +import org.elasticsearch.marvel.shield.MarvelShieldModule;, +    private final Settings settings;, +        this.settings = settings;, +            new ExporterModule(settings),, +            new MarvelShieldModule(settings),, +++ b/marvel/pom.xml, +        <dependency>, +            <groupId>org.elasticsearch.plugin</groupId>, +            <artifactId>shield</artifactId>, +            <version>${project.version}</version>, +            <scope>provided</scope>, +        </dependency>, +, +++ b/marvel/src/main/java/org/elasticsearch/marvel/MarvelPlugin.java, +import org.elasticsearch.marvel.shield.MarvelShieldModule;, +    private final Settings settings;, +        this.settings = settings;, +            new ExporterModule(settings),, +            new MarvelShieldModule(settings),, +++ b/marvel/src/main/java/org/elasticsearch/marvel/agent/collector/cluster/ClusterInfoCollector.java, +import org.elasticsearch.marvel.shield.SecuredClient;, +                                ClusterName clusterName, SecuredClient client) {, +++ b/marvel/pom.xml, +        <dependency>, +            <groupId>org.elasticsearch.plugin</groupId>, +            <artifactId>shield</artifactId>, +            <version>${project.version}</version>, +            <scope>provided</scope>, +        </dependency>, +, +++ b/marvel/src/main/java/org/elasticsearch/marvel/MarvelPlugin.java, +import org.elasticsearch.marvel.shield.MarvelShieldModule;, +    private final Settings settings;, +        this.settings = settings;, +            new ExporterModule(settings),, +            new MarvelShieldModule(settings),, +++ b/marvel/src/main/java/org/elasticsearch/marvel/agent/collector/cluster/ClusterInfoCollector.java, +import org.elasticsearch.marvel.shield.SecuredClient;, +                                ClusterName clusterName, SecuredClient client) {, +++ b/marvel/src/main/java/org/elasticsearch/marvel/agent/collector/cluster/ClusterStateCollector.java, +import org.elasticsearch.marvel.shield.SecuredClient;, +                                 SecuredClient client) {, +++ b/marvel/pom.xml, +        <dependency>, +            <groupId>org.elasticsearch.plugin</groupId>, +            <artifactId>shield</artifactId>, +            <version>${project.version}</version>, +            <scope>provided</scope>, +        </dependency>, +, +++ b/marvel/src/main/java/org/elasticsearch/marvel/MarvelPlugin.java, +import org.elasticsearch.marvel.shield.MarvelShieldModule;, +    private final Settings settings;, +        this.settings = settings;, +            new ExporterModule(settings),, +            new MarvelShieldModule(settings),, +++ b/marvel/src/main/java/org/elasticsearch/marvel/agent/collector/cluster/ClusterInfoCollector.java, +import org.elasticsearch.marvel.shield.SecuredClient;, +                                ClusterName clusterName, SecuredClient client) {, +++ b/marvel/src/main/java/org/elasticsearch/marvel/agent/collector/cluster/ClusterStateCollector.java, +import org.elasticsearch.marvel.shield.SecuredClient;, +                                 SecuredClient client) {, +++ b/marvel/src/main/java/org/elasticsearch/marvel/agent/collector/cluster/ClusterStatsCollector.java, +import org.elasticsearch.marvel.shield.SecuredClient;, +                                 SecuredClient client) {, +++ b/marvel/pom.xml, +        <dependency>, +            <groupId>org.elasticsearch.plugin</groupId>, +            <artifactId>shield</artifactId>, +            <version>${project.version}</version>, +            <scope>provided</scope>, +        </dependency>, +, +++ b/marvel/src/main/java/org/elasticsearch/marvel/MarvelPlugin.java, +import org.elasticsearch.marvel.shield.MarvelShieldModule;, +    private final Settings settings;, +        this.settings = settings;, +            new ExporterModule(settings),, +            new MarvelShieldModule(settings),, +++ b/marvel/src/main/java/org/elasticsearch/marvel/agent/collector/cluster/ClusterInfoCollector.java, +import org.elasticsearch.marvel.shield.SecuredClient;, +                                ClusterName clusterName, SecuredClient client) {, +++ b/marvel/src/main/java/org/elasticsearch/marvel/agent/collector/cluster/ClusterStateCollector.java]