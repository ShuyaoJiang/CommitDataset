[+++ b/core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +public abstract class ShapeBuilder implements ToXContent {, +    @Override, +    public String toString() {, +        try {, +            XContentBuilder xcontent = JsonXContent.contentBuilder();, +            return toXContent(xcontent, EMPTY_PARAMS).prettyPrint().string();, +        } catch (IOException e) {, +            return super.toString();, +        }, +    }, +, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +public abstract class ShapeBuilder implements ToXContent {, +    @Override, +    public String toString() {, +        try {, +            XContentBuilder xcontent = JsonXContent.contentBuilder();, +            return toXContent(xcontent, EMPTY_PARAMS).prettyPrint().string();, +        } catch (IOException e) {, +            return super.toString();, +        }, +    }, +, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +public abstract class ShapeBuilder implements ToXContent {, +    @Override, +    public String toString() {, +        try {, +            XContentBuilder xcontent = JsonXContent.contentBuilder();, +            return toXContent(xcontent, EMPTY_PARAMS).prettyPrint().string();, +        } catch (IOException e) {, +            return super.toString();, +        }, +    }, +, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +public abstract class ShapeBuilder implements ToXContent {, +    @Override, +    public String toString() {, +        try {, +            XContentBuilder xcontent = JsonXContent.contentBuilder();, +            return toXContent(xcontent, EMPTY_PARAMS).prettyPrint().string();, +        } catch (IOException e) {, +            return super.toString();, +        }, +    }, +, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java, +public enum CombineFunction {, +    MULT {, +        public String getName() {, +            return "multiply";, +        }, +, +        @Override, +        public String getName() {, +            return "replace";, +        }, +, +        @Override, +        public String getName() {, +            return "sum";, +        }, +, +        @Override, +        public String getName() {, +            return "avg";, +        }, +, +        @Override, +        public String getName() {, +            return "min";, +        }, +, +        @Override, +        public String getName() {, +            return "max";, +        }, +, +        @Override, +    public abstract String getName();, +, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java, +import org.elasticsearch.common.xcontent.json.JsonXContent;, +public abstract class ShapeBuilder implements ToXContent {, +    @Override, +    public String toString() {, +        try {, +            XContentBuilder xcontent = JsonXContent.contentBuilder();, +            return toXContent(xcontent, EMPTY_PARAMS).prettyPrint().string();]