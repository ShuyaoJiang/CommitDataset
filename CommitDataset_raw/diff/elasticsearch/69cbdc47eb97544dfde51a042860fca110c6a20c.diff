[+++ b/buildSrc/src/main/java/org/elasticsearch/gradle/precommit/NamingConventionsTask.java, +import java.net.URISyntaxException;, +import java.net.URL;, +        final FileCollection classpath;, +        try {, +            URL location = NamingConventionsCheck.class.getProtectionDomain().getCodeSource().getLocation();, +            if (location.getProtocol().equals("file") == false) {, +                throw new GradleException("Unexpected location for NamingConventionCheck class: "+ location);, +            }, +            classpath = project.files(, +                    location.toURI().getPath(),, +        } catch (URISyntaxException e) {, +            throw new AssertionError(e);, +        }]