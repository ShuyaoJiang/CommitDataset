[+++ b/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder lfAtEnd() {, +        generator.usePrintLineFeedAtEnd();, +        return this;, +    }, +, +++ b/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder lfAtEnd() {, +        generator.usePrintLineFeedAtEnd();, +        return this;, +    }, +, +++ b/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void usePrintLineFeedAtEnd();, +, +++ b/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder lfAtEnd() {, +        generator.usePrintLineFeedAtEnd();, +        return this;, +    }, +, +++ b/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void usePrintLineFeedAtEnd();, +, +++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +import com.fasterxml.jackson.core.io.SerializedString;, +    private boolean writeLineFeedAtEnd;, +    public void usePrintLineFeedAtEnd() {, +        writeLineFeedAtEnd = true;, +    }, +, +    @Override, +        if (writeLineFeedAtEnd) {, +            flush();, +            generator.writeRaw(LF);, +        }, +, +    private static final SerializedString LF = new SerializedString("\n");, +++ b/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder lfAtEnd() {, +        generator.usePrintLineFeedAtEnd();, +        return this;, +    }, +, +++ b/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void usePrintLineFeedAtEnd();, +, +++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +import com.fasterxml.jackson.core.io.SerializedString;, +    private boolean writeLineFeedAtEnd;, +    public void usePrintLineFeedAtEnd() {, +        writeLineFeedAtEnd = true;, +    }, +, +    @Override, +        if (writeLineFeedAtEnd) {, +            flush();, +            generator.writeRaw(LF);, +        }, +, +    private static final SerializedString LF = new SerializedString("\n");, +++ b/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java, +    public void usePrintLineFeedAtEnd() {, +        // nothing here, +    }, +, +    @Override, +++ b/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder lfAtEnd() {, +        generator.usePrintLineFeedAtEnd();, +        return this;, +    }, +, +++ b/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java, +    void usePrintLineFeedAtEnd();, +, +++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +import com.fasterxml.jackson.core.io.SerializedString;, +    private boolean writeLineFeedAtEnd;, +    public void usePrintLineFeedAtEnd() {, +        writeLineFeedAtEnd = true;, +    }, +, +    @Override, +        if (writeLineFeedAtEnd) {, +            flush();, +            generator.writeRaw(LF);, +        }, +, +    private static final SerializedString LF = new SerializedString("\n");, +++ b/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java, +    public void usePrintLineFeedAtEnd() {, +        // nothing here, +    }, +, +    @Override, +++ b/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContentGenerator.java, +    public void usePrintLineFeedAtEnd() {, +        // nothing here, +    }]