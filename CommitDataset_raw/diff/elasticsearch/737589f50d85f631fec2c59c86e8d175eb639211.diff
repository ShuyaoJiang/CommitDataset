[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.Collections;, +import java.util.Comparator;, +import java.util.Iterator;, +import java.util.List;, +            if (totalCount == 0) {, +                return totalCount;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.Collections;, +import java.util.Comparator;, +import java.util.Iterator;, +import java.util.List;, +            if (totalCount == 0) {, +                return totalCount;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacet.java, +            if (totalCount == 0) {, +                return 0;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.Collections;, +import java.util.Comparator;, +import java.util.Iterator;, +import java.util.List;, +            if (totalCount == 0) {, +                return totalCount;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacet.java, +            if (totalCount == 0) {, +                return 0;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/histogram/bounded/InternalBoundedFullHistogramFacet.java, +            if (totalCount == 0) {, +                return 0;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.Collections;, +import java.util.Comparator;, +import java.util.Iterator;, +import java.util.List;, +            if (totalCount == 0) {, +                return totalCount;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacet.java, +            if (totalCount == 0) {, +                return 0;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/histogram/bounded/InternalBoundedFullHistogramFacet.java, +            if (totalCount == 0) {, +                return 0;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/range/RangeFacet.java, +            if (totalCount == 0) {, +                return 0;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.Collections;, +import java.util.Comparator;, +import java.util.Iterator;, +import java.util.List;, +            if (totalCount == 0) {, +                return totalCount;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacet.java, +            if (totalCount == 0) {, +                return 0;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/histogram/bounded/InternalBoundedFullHistogramFacet.java, +            if (totalCount == 0) {, +                return 0;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/range/RangeFacet.java, +            if (totalCount == 0) {, +                return 0;, +            }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/statistical/InternalStatisticalFacet.java, +        if (count == 0) {, +            return 0;, +        }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java, +import java.util.ArrayList;, +import java.util.Arrays;, +import java.util.Collection;, +import java.util.Collections;]