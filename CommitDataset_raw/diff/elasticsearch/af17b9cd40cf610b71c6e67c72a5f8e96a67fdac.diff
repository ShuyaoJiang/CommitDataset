[+++ b/core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java, +        public static final FormatDateTimeFormatter DATE_TIME_FORMATTER = Joda.forPattern("strict_date_optional_time||epoch_millis", Locale.ROOT);, +        public static final FormatDateTimeFormatter DATE_TIME_FORMATTER_BEFORE_2_0 = Joda.forPattern("date_optional_time", Locale.ROOT);, +++ b/core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java, +        public static final FormatDateTimeFormatter DATE_TIME_FORMATTER = Joda.forPattern("strict_date_optional_time||epoch_millis", Locale.ROOT);, +        public static final FormatDateTimeFormatter DATE_TIME_FORMATTER_BEFORE_2_0 = Joda.forPattern("date_optional_time", Locale.ROOT);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java, +        assertDateFormat("epoch_millis||date_optional_time");, +                .startObject("properties").startObject("date_field").field("type", "date").field("format", "date_optional_time").endObject().endObject(), +        assertDateFormat("epoch_millis||date_optional_time");, +                .field("format", "strict_date_optional_time||epoch_millis"), +        assertDateFormat("strict_date_optional_time||epoch_millis");]