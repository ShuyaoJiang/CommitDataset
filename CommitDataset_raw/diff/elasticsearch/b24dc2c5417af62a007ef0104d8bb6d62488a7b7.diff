[+++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/ReindexIT.java, +import org.elasticsearch.common.CheckedRunnable;, +    public void testReindexTask() throws Exception {, +            assertBusy(checkCompletionStatus(client(), taskId));, +    static CheckedRunnable<Exception> checkCompletionStatus(RestClient client, String taskId) {, +            Response response = client.performRequest(new Request("GET", "/_tasks/" + taskId));, +            assertTrue((boolean) entityAsMap(response).get("completed"));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/ReindexIT.java, +import org.elasticsearch.common.CheckedRunnable;, +    public void testReindexTask() throws Exception {, +            assertBusy(checkCompletionStatus(client(), taskId));, +    static CheckedRunnable<Exception> checkCompletionStatus(RestClient client, String taskId) {, +            Response response = client.performRequest(new Request("GET", "/_tasks/" + taskId));, +            assertTrue((boolean) entityAsMap(response).get("completed"));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/TasksIT.java, +    public void testGetValidTask() throws Exception {, +        if (taskResponse.isCompleted() == false) {, +            assertBusy(ReindexIT.checkCompletionStatus(client(), taskId.toString()));, +        }]