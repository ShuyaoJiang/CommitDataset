[+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/AliasOrIndex.java, +, +            if (writeIndices.isEmpty() && referenceIndexMetaDatas.size() == 1, +                    && referenceIndexMetaDatas.get(0).getAliases().get(aliasName).writeIndex() == null) {, +                writeIndices.add(referenceIndexMetaDatas.get(0));, +            }, +, +            if (writeIndices.size() == 1) {, +++ b/server/src/main/java/org/elasticsearch/cluster/metadata/AliasOrIndex.java, +, +            if (writeIndices.isEmpty() && referenceIndexMetaDatas.size() == 1, +                    && referenceIndexMetaDatas.get(0).getAliases().get(aliasName).writeIndex() == null) {, +                writeIndices.add(referenceIndexMetaDatas.get(0));, +            }, +, +            if (writeIndices.size() == 1) {, +++ b/server/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesServiceTests.java, +        assertNull(((AliasOrIndex.Alias) after.metaData().getAliasAndIndexLookup().get("alias")).getWriteIndex());]