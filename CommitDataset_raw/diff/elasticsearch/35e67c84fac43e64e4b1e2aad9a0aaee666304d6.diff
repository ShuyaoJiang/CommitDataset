[+++ b/docs/reference/modules/http.asciidoc, +|`http.cors.allow-credentials` | Whether the `Access-Control-Allow-Credentials`, +header should be returned. Note: This header is only returned, when the setting is, +set to `true`. Defaults to `false`, +, +++ b/docs/reference/modules/http.asciidoc, +|`http.cors.allow-credentials` | Whether the `Access-Control-Allow-Credentials`, +header should be returned. Note: This header is only returned, when the setting is, +set to `true`. Defaults to `false`, +, +++ b/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java, +import static org.elasticsearch.http.netty.NettyHttpServerTransport.*;, +            if (transport.settings().getAsBoolean(SETTING_CORS_ENABLED, true)) {, +                        resp.headers().add(ACCESS_CONTROL_ALLOW_ORIGIN, transport.settings().get(SETTING_CORS_ALLOW_ORIGIN, "*"));, +                    resp.headers().add(ACCESS_CONTROL_MAX_AGE, transport.settings().getAsInt(SETTING_CORS_MAX_AGE, 1728000));, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_METHODS, transport.settings().get(SETTING_CORS_ALLOW_METHODS, "OPTIONS, HEAD, GET, POST, PUT, DELETE"));, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_HEADERS, transport.settings().get(SETTING_CORS_ALLOW_HEADERS, "X-Requested-With, Content-Type, Content-Length"));, +                }, +, +                if (transport.settings().getAsBoolean(SETTING_CORS_ALLOW_CREDENTIALS, false)) {, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_CREDENTIALS, "true");, +++ b/docs/reference/modules/http.asciidoc, +|`http.cors.allow-credentials` | Whether the `Access-Control-Allow-Credentials`, +header should be returned. Note: This header is only returned, when the setting is, +set to `true`. Defaults to `false`, +, +++ b/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java, +import static org.elasticsearch.http.netty.NettyHttpServerTransport.*;, +            if (transport.settings().getAsBoolean(SETTING_CORS_ENABLED, true)) {, +                        resp.headers().add(ACCESS_CONTROL_ALLOW_ORIGIN, transport.settings().get(SETTING_CORS_ALLOW_ORIGIN, "*"));, +                    resp.headers().add(ACCESS_CONTROL_MAX_AGE, transport.settings().getAsInt(SETTING_CORS_MAX_AGE, 1728000));, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_METHODS, transport.settings().get(SETTING_CORS_ALLOW_METHODS, "OPTIONS, HEAD, GET, POST, PUT, DELETE"));, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_HEADERS, transport.settings().get(SETTING_CORS_ALLOW_HEADERS, "X-Requested-With, Content-Type, Content-Length"));, +                }, +, +                if (transport.settings().getAsBoolean(SETTING_CORS_ALLOW_CREDENTIALS, false)) {, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_CREDENTIALS, "true");, +++ b/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java, +    public static final String SETTING_CORS_ENABLED = "http.cors.enabled";, +    public static final String SETTING_CORS_ALLOW_ORIGIN = "http.cors.allow-origin";, +    public static final String SETTING_CORS_MAX_AGE = "http.cors.max-age";, +    public static final String SETTING_CORS_ALLOW_METHODS = "http.cors.allow-methods";, +    public static final String SETTING_CORS_ALLOW_HEADERS = "http.cors.allow-headers";, +    public static final String SETTING_CORS_ALLOW_CREDENTIALS = "http.cors.allow-credentials";, +, +++ b/docs/reference/modules/http.asciidoc, +|`http.cors.allow-credentials` | Whether the `Access-Control-Allow-Credentials`, +header should be returned. Note: This header is only returned, when the setting is, +set to `true`. Defaults to `false`, +, +++ b/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java, +import static org.elasticsearch.http.netty.NettyHttpServerTransport.*;, +            if (transport.settings().getAsBoolean(SETTING_CORS_ENABLED, true)) {, +                        resp.headers().add(ACCESS_CONTROL_ALLOW_ORIGIN, transport.settings().get(SETTING_CORS_ALLOW_ORIGIN, "*"));, +                    resp.headers().add(ACCESS_CONTROL_MAX_AGE, transport.settings().getAsInt(SETTING_CORS_MAX_AGE, 1728000));, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_METHODS, transport.settings().get(SETTING_CORS_ALLOW_METHODS, "OPTIONS, HEAD, GET, POST, PUT, DELETE"));, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_HEADERS, transport.settings().get(SETTING_CORS_ALLOW_HEADERS, "X-Requested-With, Content-Type, Content-Length"));, +                }, +, +                if (transport.settings().getAsBoolean(SETTING_CORS_ALLOW_CREDENTIALS, false)) {, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_CREDENTIALS, "true");, +++ b/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java, +    public static final String SETTING_CORS_ENABLED = "http.cors.enabled";, +    public static final String SETTING_CORS_ALLOW_ORIGIN = "http.cors.allow-origin";, +    public static final String SETTING_CORS_MAX_AGE = "http.cors.max-age";, +    public static final String SETTING_CORS_ALLOW_METHODS = "http.cors.allow-methods";, +    public static final String SETTING_CORS_ALLOW_HEADERS = "http.cors.allow-headers";, +    public static final String SETTING_CORS_ALLOW_CREDENTIALS = "http.cors.allow-credentials";, +, +++ b/src/test/java/org/elasticsearch/rest/CorsRegexDefaultTests.java, +        assertThat(response.getHeaders(), not(hasKey("Access-Control-Allow-Credentials")));, +        assertThat(response.getHeaders(), not(hasKey("Access-Control-Allow-Credentials")));, +++ b/docs/reference/modules/http.asciidoc, +|`http.cors.allow-credentials` | Whether the `Access-Control-Allow-Credentials`, +header should be returned. Note: This header is only returned, when the setting is, +set to `true`. Defaults to `false`, +, +++ b/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java, +import static org.elasticsearch.http.netty.NettyHttpServerTransport.*;, +            if (transport.settings().getAsBoolean(SETTING_CORS_ENABLED, true)) {, +                        resp.headers().add(ACCESS_CONTROL_ALLOW_ORIGIN, transport.settings().get(SETTING_CORS_ALLOW_ORIGIN, "*"));, +                    resp.headers().add(ACCESS_CONTROL_MAX_AGE, transport.settings().getAsInt(SETTING_CORS_MAX_AGE, 1728000));, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_METHODS, transport.settings().get(SETTING_CORS_ALLOW_METHODS, "OPTIONS, HEAD, GET, POST, PUT, DELETE"));, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_HEADERS, transport.settings().get(SETTING_CORS_ALLOW_HEADERS, "X-Requested-With, Content-Type, Content-Length"));, +                }, +, +                if (transport.settings().getAsBoolean(SETTING_CORS_ALLOW_CREDENTIALS, false)) {, +                    resp.headers().add(ACCESS_CONTROL_ALLOW_CREDENTIALS, "true");, +++ b/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java, +    public static final String SETTING_CORS_ENABLED = "http.cors.enabled";, +    public static final String SETTING_CORS_ALLOW_ORIGIN = "http.cors.allow-origin";, +    public static final String SETTING_CORS_MAX_AGE = "http.cors.max-age";, +    public static final String SETTING_CORS_ALLOW_METHODS = "http.cors.allow-methods";, +    public static final String SETTING_CORS_ALLOW_HEADERS = "http.cors.allow-headers";, +    public static final String SETTING_CORS_ALLOW_CREDENTIALS = "http.cors.allow-credentials";, +, +++ b/src/test/java/org/elasticsearch/rest/CorsRegexDefaultTests.java, +        assertThat(response.getHeaders(), not(hasKey("Access-Control-Allow-Credentials")));, +        assertThat(response.getHeaders(), not(hasKey("Access-Control-Allow-Credentials")));, +++ b/src/test/java/org/elasticsearch/rest/CorsRegexTests.java]