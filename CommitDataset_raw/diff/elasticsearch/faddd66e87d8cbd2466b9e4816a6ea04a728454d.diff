[+++ b/docs/reference/index-modules/store.asciidoc, +[[mmapfs]], +++ b/docs/reference/index-modules/store.asciidoc, +[[mmapfs]], +++ b/docs/reference/index.asciidoc, +include::migration/migrate_1_0.asciidoc[], +, +, +, +++ b/docs/reference/index-modules/store.asciidoc, +[[mmapfs]], +++ b/docs/reference/index.asciidoc, +include::migration/migrate_1_0.asciidoc[], +, +, +, +++ b/docs/reference/migration/migrate_1_0.asciidoc, +[[breaking-changes]], += Breaking changes in 1.0, +, +This section discusses the changes that you need to be aware of when migrating, +your application to Elasticsearch 1.0:, +, +== System and settings, +, +* Elasticsearch now runs in the foreground by default.  There is no more `-f`, +  flag on the command line.  Instead, to run elasticsearch as a daemon, use, +  the `-d` flag:, +, +[source,sh], +---------------, +./bin/elasticsearch -d, +---------------, +, +* Command line settings can now be passed without the `-Des.` prefix, for, +  instance:, +, +[source,sh], +---------------, +./bin/elasticsearch --node.name=search_1 --cluster.name=production, +---------------, +, +* Elasticsearch on 64 bit Linux now uses <<mmapfs,`mmapfs`>> by default.  Make, +  sure that you set <<setup-service,`MAX_MAP_COUNT`>> to a sufficiently high, +  number.  The RPM and Debian packages default this value to `262144`., +, +* The RPM and Debian packages no longer start Elasticsearch by default., +, +* The `cluster.routing.allocation` settings (`disable_allocation`,, +  `disable_new_allocation` and `disable_replica_location`) have been, +  <<modules-cluster,replaced by the single setting>>:, +, +[source,yaml], +---------------, +cluster.routing.allocation.enable: all|primaries|new_primaries|none, +---------------, +, +== Stats and Info APIs, +, +The <<cluster-state,`cluster_state`>>, <<cluster-nodes-info,`nodes_info`>>,, +<<cluster-nodes-stats,`nodes_stats`>> and <<indices-stats,`indices_stats`>>, +APIs have all been changed to make their format more RESTful and less clumsy., +, +For instance, if you just want the `nodes` section of the the `cluster_state`,, +instead of:, +, +[source,sh], +---------------, +GET /_cluster/state?filter_metadata&filter_routing_table&filter_blocks, +---------------, +, +you now use:, +, +[source,sh], +---------------, +GET /_cluster/state/nodes, +---------------, +, +Simliarly for the `nodes_stats` API, if you want the `transport` and `http`, +metrics only, instead of:, +, +[source,sh], +---------------, +GET /_nodes/stats?clear&transport&http, +---------------, +, +you now use:, +, +[source,sh], +---------------, +GET /_nodes/stats/transport,http, +---------------, +, +See the links above for full details., +, +, +== Indices APIs, +, +The `mapping`, `alias`, `settings`, and `warmer` index APIs are all similar, +but there are subtle differences in the order of the URL and the response]