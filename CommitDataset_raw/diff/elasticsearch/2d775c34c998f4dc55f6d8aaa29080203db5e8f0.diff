[+++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicOrdinalsFieldData.java, +                return DocValues.emptySortedSet();, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicOrdinalsFieldData.java, +                return DocValues.emptySortedSet();, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java, +import org.apache.lucene.index.LeafReaderContext;, +        if (context.reader().getFieldInfos().fieldInfo(fieldNames.indexName()) == null) {, +            // If the field doesn't exist, then don't bother with loading and adding an empty instance to the field data cache, +            return empty(context.reader().maxDoc());, +        }, +, +     * @param maxDoc of the current reader, +     * @return an empty field data instances for field data lookups of empty segments (returning no values), +     */, +    protected abstract FD empty(int maxDoc);, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicOrdinalsFieldData.java, +                return DocValues.emptySortedSet();, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java, +import org.apache.lucene.index.LeafReaderContext;, +        if (context.reader().getFieldInfos().fieldInfo(fieldNames.indexName()) == null) {, +            // If the field doesn't exist, then don't bother with loading and adding an empty instance to the field data cache, +            return empty(context.reader().maxDoc());, +        }, +, +     * @param maxDoc of the current reader, +     * @return an empty field data instances for field data lookups of empty segments (returning no values), +     */, +    protected abstract FD empty(int maxDoc);, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java, +    @Override, +    protected AtomicGeoPointFieldData empty(int maxDoc) {, +        return AbstractAtomicGeoPointFieldData.empty(maxDoc);, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicOrdinalsFieldData.java, +                return DocValues.emptySortedSet();, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java, +import org.apache.lucene.index.LeafReaderContext;, +        if (context.reader().getFieldInfos().fieldInfo(fieldNames.indexName()) == null) {, +            // If the field doesn't exist, then don't bother with loading and adding an empty instance to the field data cache, +            return empty(context.reader().maxDoc());, +        }, +, +     * @param maxDoc of the current reader, +     * @return an empty field data instances for field data lookups of empty segments (returning no values), +     */, +    protected abstract FD empty(int maxDoc);, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java, +    @Override, +    protected AtomicGeoPointFieldData empty(int maxDoc) {, +        return AbstractAtomicGeoPointFieldData.empty(maxDoc);, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java, +    @Override, +    protected AtomicOrdinalsFieldData empty(int maxDoc) {, +        return AbstractAtomicOrdinalsFieldData.empty();, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicOrdinalsFieldData.java, +                return DocValues.emptySortedSet();, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java, +import org.apache.lucene.index.LeafReaderContext;, +        if (context.reader().getFieldInfos().fieldInfo(fieldNames.indexName()) == null) {, +            // If the field doesn't exist, then don't bother with loading and adding an empty instance to the field data cache, +            return empty(context.reader().maxDoc());, +        }, +, +     * @param maxDoc of the current reader, +     * @return an empty field data instances for field data lookups of empty segments (returning no values), +     */, +    protected abstract FD empty(int maxDoc);, +, +    /**, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java, +    @Override, +    protected AtomicGeoPointFieldData empty(int maxDoc) {, +        return AbstractAtomicGeoPointFieldData.empty(maxDoc);, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java, +    @Override, +    protected AtomicOrdinalsFieldData empty(int maxDoc) {, +        return AbstractAtomicOrdinalsFieldData.empty();, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java, +    protected AtomicFieldData empty(int maxDoc) {, +        throw fail();, +    }, +, +    @Override, +++ b/core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicOrdinalsFieldData.java, +                return DocValues.emptySortedSet();]