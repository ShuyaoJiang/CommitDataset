[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/XContentNumberFieldMapper.java, +            TIntObjectHashMap<Deque<CachedNumericTokenStream>> cached = cachedStreams.get().get();, +            if (cached != null) {, +                Deque<CachedNumericTokenStream> cachedDeque = cached.get(precisionStep);, +                if (cachedDeque != null) {, +                    cachedDeque.add(this);, +                }, +            }]