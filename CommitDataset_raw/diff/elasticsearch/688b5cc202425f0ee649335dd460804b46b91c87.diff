[+++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/influencers/RestGetInfluencersAction.java, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST,, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/influencers/RestGetInfluencersAction.java, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST,, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/modelsnapshots/RestGetModelSnapshotsAction.java, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST, PrelertPlugin.BASE_PATH + "modelsnapshots/{jobId}", this);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/influencers/RestGetInfluencersAction.java, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST,, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/modelsnapshots/RestGetModelSnapshotsAction.java, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST, PrelertPlugin.BASE_PATH + "modelsnapshots/{jobId}", this);, +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.close_data.json, +      "path": "/_xpack/prelert/data/{job_id}/_close",, +      "paths": [ "/_xpack/prelert/data/{job_id}/_close" ],, +        "job_id": {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/influencers/RestGetInfluencersAction.java, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST,, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/modelsnapshots/RestGetModelSnapshotsAction.java, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST, PrelertPlugin.BASE_PATH + "modelsnapshots/{jobId}", this);, +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.close_data.json, +      "path": "/_xpack/prelert/data/{job_id}/_close",, +      "paths": [ "/_xpack/prelert/data/{job_id}/_close" ],, +        "job_id": {, +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.delete_model_snapshot.json, +      "path": "/_xpack/prelert/modelsnapshots/{job_id}/{snapshot_id}",, +      "paths": [ "/_xpack/prelert/modelsnapshots/{job_id}/{snapshot_id}" ],, +        "job_id": {, +        "snapshot_id": {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/influencers/RestGetInfluencersAction.java, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST,, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/modelsnapshots/RestGetModelSnapshotsAction.java, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST, PrelertPlugin.BASE_PATH + "modelsnapshots/{jobId}", this);, +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.close_data.json, +      "path": "/_xpack/prelert/data/{job_id}/_close",, +      "paths": [ "/_xpack/prelert/data/{job_id}/_close" ],, +        "job_id": {, +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.delete_model_snapshot.json, +      "path": "/_xpack/prelert/modelsnapshots/{job_id}/{snapshot_id}",, +      "paths": [ "/_xpack/prelert/modelsnapshots/{job_id}/{snapshot_id}" ],, +        "job_id": {, +        "snapshot_id": {, +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.flush_data.json, +      "path": "/_xpack/prelert/data/{job_id}/_flush",, +        "/_xpack/prelert/data/{job_id}/_flush", +        "job_id": {, +    },, +    "body": {, +      "description": "Flush parameters", +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/influencers/RestGetInfluencersAction.java, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST,, +                PrelertPlugin.BASE_PATH + "results/{" + Job.ID.getPreferredName() + "}/influencers", this);, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/prelert/rest/modelsnapshots/RestGetModelSnapshotsAction.java, +        // endpoints that support body parameters must also accept POST, +        controller.registerHandler(RestRequest.Method.POST, PrelertPlugin.BASE_PATH + "modelsnapshots/{jobId}", this);, +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.close_data.json, +      "path": "/_xpack/prelert/data/{job_id}/_close",, +      "paths": [ "/_xpack/prelert/data/{job_id}/_close" ],, +        "job_id": {, +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.delete_model_snapshot.json, +      "path": "/_xpack/prelert/modelsnapshots/{job_id}/{snapshot_id}",, +      "paths": [ "/_xpack/prelert/modelsnapshots/{job_id}/{snapshot_id}" ],, +        "job_id": {, +        "snapshot_id": {, +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.flush_data.json, +      "path": "/_xpack/prelert/data/{job_id}/_flush",, +        "/_xpack/prelert/data/{job_id}/_flush", +        "job_id": {, +    },, +    "body": {, +      "description": "Flush parameters", +++ b/elasticsearch/src/test/resources/rest-api-spec/api/xpack.prelert.get_buckets.json, +      "path": "/_xpack/prelert/results/{job_id}/buckets/{timestamp}",, +        "/_xpack/prelert/results/{job_id}/buckets/{timestamp}",, +        "/_xpack/prelert/results/{job_id}/buckets", +        "job_id": {, +          "required": true,, +          "description": "ID of the job to get bucket results from", +          "type" : "string",, +          "description" : "The timestamp of the desired single bucket result", +          "type": "boolean",]