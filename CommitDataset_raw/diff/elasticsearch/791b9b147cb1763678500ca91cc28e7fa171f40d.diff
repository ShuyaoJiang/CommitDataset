[+++ b/x-pack/docs/en/rest-api/rollup/rollup-index-caps.asciidoc, +[role="xpack"], +[[rollup-get-rollup-index-caps]], +=== Get Rollup Index Capabilities, +++++, +<titleabbrev>Get Rollup Index Caps</titleabbrev>, +++++, +, +experimental[], +, +This API returns the rollup capabilities of all jobs inside of a rollup index (e.g. the index where rollup data is stored)., +A single rollup index may store the data for multiple rollup jobs, and may have a variety of capabilities depending on those jobs., +, +This API will allow you to determine:, +, +1. What jobs are stored in an index (or indices specified via a pattern)?, +2. What target indices were rolled up, what fields were used in those rollups and what aggregations can be performed on each job?, +, +==== Request, +, +`GET {index}/_xpack/rollup/data`, +, +//===== Description, +, +==== Path Parameters, +, +`index`::, +  (string) Index or index-pattern of concrete rollup indices to check for capabilities., +, +, +, +==== Request Body, +, +There is no request body for the Get Jobs API., +, +==== Authorization, +, +You must have `monitor`, `monitor_rollup`, `manage` or `manage_rollup` cluster privileges to use this API., +For more information, see, +{xpack-ref}/security-privileges.html[Security Privileges]., +, +==== Examples, +, +Imagine we have an index named `sensor-1` full of raw data.  We know that the data will grow over time, so there, +will be a `sensor-2`, `sensor-3`, etc.  Let's create a Rollup job, which stores it's data in `sensor_rollup`:, +, +[source,js], +--------------------------------------------------, +PUT _xpack/rollup/job/sensor, +{, +    "index_pattern": "sensor-*",, +    "rollup_index": "sensor_rollup",, +    "cron": "*/30 * * * * ?",, +    "page_size" :1000,, +    "groups" : {, +      "date_histogram": {, +        "field": "timestamp",, +        "interval": "1h",, +        "delay": "7d", +      },, +      "terms": {, +        "fields": ["node"], +      }, +    },, +    "metrics": [, +        {, +            "field": "temperature",, +            "metrics": ["min", "max", "sum"], +        },, +        {, +            "field": "voltage",, +            "metrics": ["avg"], +        }, +    ], +}, +--------------------------------------------------, +// CONSOLE, +// TEST[setup:sensor_index], +, +If at a later date, we'd like to determine what jobs and capabilities were stored in the `sensor_rollup` index, we can use the Get Rollup, +Index API:, +, +[source,js], +--------------------------------------------------, +GET /sensor_rollup/_xpack/rollup/data, +--------------------------------------------------, +// CONSOLE, +// TEST[continued], +, +Note how we are requesting the concrete rollup index name (`sensor_rollup`) as the first part of the URL., +This  will yield the following response:, +, +[source,js], +----, +{, +  "sensor_rollup" : {, +    "rollup_jobs" : [, +      {, +        "job_id" : "sensor",, +        "rollup_index" : "sensor_rollup",]