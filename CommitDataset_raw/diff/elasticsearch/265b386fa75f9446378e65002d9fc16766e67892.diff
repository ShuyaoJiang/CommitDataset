[+++ b/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java, +                final int numberOfUpdatableParents = numParentDocs - filteredOrDeletedDocs.size();, +                int numberOfUpdates = scaledRandomIntBetween(0, numberOfUpdatableParents);, +++ b/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java, +                final int numberOfUpdatableParents = numParentDocs - filteredOrDeletedDocs.size();, +                int numberOfUpdates = scaledRandomIntBetween(0, numberOfUpdatableParents);, +++ b/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomInts;, +                final int numberOfUpdatableParents = numParentDocs - filteredOrDeletedDocs.size();, +                int numberOfUpdates = RandomInts.randomIntBetween(random(), 0, Math.min(numberOfUpdatableParents, TEST_NIGHTLY ? 25 : 5));, +++ b/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java, +                final int numberOfUpdatableParents = numParentDocs - filteredOrDeletedDocs.size();, +                int numberOfUpdates = scaledRandomIntBetween(0, numberOfUpdatableParents);, +++ b/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomInts;, +                final int numberOfUpdatableParents = numParentDocs - filteredOrDeletedDocs.size();, +                int numberOfUpdates = RandomInts.randomIntBetween(random(), 0, Math.min(numberOfUpdatableParents, TEST_NIGHTLY ? 25 : 5));, +++ b/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java, +                int numberOfUpdates = childIdToParentId.isEmpty() ? 0 : scaledRandomIntBetween(1, 25);, +++ b/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java, +                final int numberOfUpdatableParents = numParentDocs - filteredOrDeletedDocs.size();, +                int numberOfUpdates = scaledRandomIntBetween(0, numberOfUpdatableParents);, +++ b/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomInts;, +                final int numberOfUpdatableParents = numParentDocs - filteredOrDeletedDocs.size();, +                int numberOfUpdates = RandomInts.randomIntBetween(random(), 0, Math.min(numberOfUpdatableParents, TEST_NIGHTLY ? 25 : 5));, +++ b/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java, +                int numberOfUpdates = childIdToParentId.isEmpty() ? 0 : scaledRandomIntBetween(1, 25);, +++ b/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java, +                int numberOfUpdates = childIdToParentId.isEmpty() ? 0 : scaledRandomIntBetween(1, 5);]