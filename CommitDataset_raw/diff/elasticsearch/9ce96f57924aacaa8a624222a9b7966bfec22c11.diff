[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            current = dest.newPrintWriter('UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            current = dest.newPrintWriter('UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                commandLine execArgs, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            current = dest.newPrintWriter('UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                commandLine execArgs, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessLexer\.java" checks="." />, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessParser(|BaseVisitor|Visitor)\.java" checks="." />, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            current = dest.newPrintWriter('UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                commandLine execArgs, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessLexer\.java" checks="." />, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessParser(|BaseVisitor|Visitor)\.java" checks="." />, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java, +import org.elasticsearch.index.shard.ShardId;, +    private ShardId shardId;, +    public ClusterSearchShardsGroup(ShardId shardId, ShardRouting[] shards) {, +        return shardId.getIndexName();, +        return shardId.id();, +        shardId = ShardId.readShardId(in);, +            shards[i] = new ShardRouting(shardId, in);, +        shardId.writeTo(out);, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            current = dest.newPrintWriter('UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                commandLine execArgs, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessLexer\.java" checks="." />, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessParser(|BaseVisitor|Visitor)\.java" checks="." />, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java, +import org.elasticsearch.index.shard.ShardId;, +    private ShardId shardId;, +    public ClusterSearchShardsGroup(ShardId shardId, ShardRouting[] shards) {, +        return shardId.getIndexName();, +        return shardId.id();, +        shardId = ShardId.readShardId(in);, +            shards[i] = new ShardRouting(shardId, in);, +        shardId.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java, +import org.elasticsearch.index.shard.ShardId;, +            ShardId shardId = shardIt.shardId();, +            groupResponses[currentGroup++] = new ClusterSearchShardsGroup(shardId, shardRoutings);, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            current = dest.newPrintWriter('UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                commandLine execArgs, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessLexer\.java" checks="." />, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessParser(|BaseVisitor|Visitor)\.java" checks="." />, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java, +import org.elasticsearch.index.shard.ShardId;, +    private ShardId shardId;, +    public ClusterSearchShardsGroup(ShardId shardId, ShardRouting[] shards) {, +        return shardId.getIndexName();, +        return shardId.id();, +        shardId = ShardId.readShardId(in);, +            shards[i] = new ShardRouting(shardId, in);, +        shardId.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java, +import org.elasticsearch.index.shard.ShardId;, +            ShardId shardId = shardIt.shardId();, +            groupResponses[currentGroup++] = new ClusterSearchShardsGroup(shardId, shardRoutings);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java, +        shardRouting = new ShardRouting(in);, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            current = dest.newPrintWriter('UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                commandLine execArgs, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessLexer\.java" checks="." />, +  <suppress files="org[/\\]elasticsearch[/\\]painless[/\\]antlr[/\\]PainlessParser(|BaseVisitor|Visitor)\.java" checks="." />, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java, +import org.elasticsearch.index.shard.ShardId;, +    private ShardId shardId;, +    public ClusterSearchShardsGroup(ShardId shardId, ShardRouting[] shards) {, +        return shardId.getIndexName();, +        return shardId.id();, +        shardId = ShardId.readShardId(in);, +            shards[i] = new ShardRouting(shardId, in);, +        shardId.writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java, +import org.elasticsearch.index.shard.ShardId;, +            ShardId shardId = shardIt.shardId();, +            groupResponses[currentGroup++] = new ClusterSearchShardsGroup(shardId, shardRoutings);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java, +        shardRouting = new ShardRouting(in);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java, +        shardRouting = new ShardRouting(in);, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            current = dest.newPrintWriter('UTF-8'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                commandLine execArgs, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml]