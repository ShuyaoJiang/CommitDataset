[+++ b/modules/lang-painless/src/test/resources/rest-api-spec/test/painless/50_script_doc_values.yaml, +++ b/modules/lang-painless/src/test/resources/rest-api-spec/test/painless/50_script_doc_values.yaml, +++ b/modules/lang-painless/src/test/resources/rest-api-spec/test/painless/60_script_doc_values_binary.yaml, +---, +"binary":, +    - skip:, +        features: ["headers"], +    - do:, +        indices.create:, +            index: test, +            body:, +                mappings:, +                    test:, +                        properties:, +                            binary:, +                                type: binary, +                                doc_values: true, +, +    - do:, +        #set the header so we won't randomize it, +        headers:, +            Content-Type: application/json, +        index:, +            index: test, +            type: test, +            id: 1, +            body:, +                binary: U29tZSBiaW5hcnkgYmxvYg==, +, +    - do:, +        indices.refresh: {}, +, +    - do:, +        search:, +            body:, +                script_fields:, +                    field:, +                        script:, +                            inline: "doc['binary'].get(0).utf8ToString()", +    - match: { hits.hits.0.fields.field.0: "Some binary blob" }, +, +    - do:, +        search:, +            body:, +                script_fields:, +                    field:, +                        script:, +                            inline: "doc['binary'].value.utf8ToString()", +    - match: { hits.hits.0.fields.field.0: "Some binary blob" }, +]