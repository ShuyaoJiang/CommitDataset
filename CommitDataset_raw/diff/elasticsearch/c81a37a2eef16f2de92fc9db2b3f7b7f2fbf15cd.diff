[+++ b/src/test/java/org/elasticsearch/alerts/actions/EmailTemplateTest.java, +import org.elasticsearch.action.search.ShardSearchFailure;, +import org.elasticsearch.common.settings.ImmutableSettings;, +import org.elasticsearch.common.settings.Settings;, +import org.elasticsearch.env.Environment;, +import org.elasticsearch.script.ScriptEngineService;, +import org.elasticsearch.script.mustache.MustacheScriptEngineService;, +import org.elasticsearch.search.internal.InternalSearchResponse;, +import org.elasticsearch.test.ElasticsearchTestCase;, +import org.elasticsearch.threadpool.ThreadPool;, +import org.elasticsearch.watcher.ResourceWatcherService;, +import java.util.*;, +public class EmailTemplateTest extends ElasticsearchTestCase {, +        //createIndex("my-trigger-index");, +        SearchRequest triggerRequest = new SearchRequest();, +        SearchResponse searchResponse = new SearchResponse(InternalSearchResponse.empty(),"",0,0,0L, new ShardSearchFailure[0]);, +, +        Settings settings = ImmutableSettings.settingsBuilder().build();, +        MustacheScriptEngineService mustacheScriptEngineService = new MustacheScriptEngineService(settings);, +        ThreadPool tp;, +        tp = new ThreadPool(ThreadPool.Names.SAME);, +        Set<ScriptEngineService> engineServiceSet = new HashSet<>();, +        engineServiceSet.add(mustacheScriptEngineService);, +        ScriptService scriptService = new ScriptService(settings, new Environment(), engineServiceSet, new ResourceWatcherService(settings, tp));, +        tp.shutdownNow();]