[+++ b/server/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java, +import org.elasticsearch.index.cache.query.QueryCacheStats;, +import org.elasticsearch.index.engine.SegmentsStats;, +import org.elasticsearch.index.fielddata.FieldDataStats;, +import org.elasticsearch.index.flush.FlushStats;, +import org.elasticsearch.index.get.GetStats;, +import org.elasticsearch.index.merge.MergeStats;, +import org.elasticsearch.index.refresh.RefreshStats;, +import org.elasticsearch.index.search.stats.SearchStats;, +import org.elasticsearch.index.seqno.SeqNoStats;, +import org.elasticsearch.index.shard.DocsStats;, +import org.elasticsearch.index.store.StoreStats;, +import org.elasticsearch.index.warmer.WarmerStats;, +import org.elasticsearch.search.suggest.completion.CompletionStats;, +import java.util.function.Function;, +    private static <S, T> Object getOrNull(S stats, Function<S, T> accessor, Function<T, Object> func) {, +        if(stats != null) {, +            T t = accessor.apply(stats);, +            return func.apply(t);, +        }, +        return null;, +    }, +, +            table.addCell(getOrNull(commonStats, CommonStats::getDocs, DocsStats::getCount));, +            table.addCell(getOrNull(commonStats, CommonStats::getStore, StoreStats::getSize));, +            table.addCell(getOrNull(commonStats, CommonStats::getCompletion, CompletionStats::getSize));, +            table.addCell(getOrNull(commonStats, CommonStats::getFieldData, FieldDataStats::getMemorySize));, +            table.addCell(getOrNull(commonStats, CommonStats::getFieldData, FieldDataStats::getEvictions));, +            table.addCell(getOrNull(commonStats, CommonStats::getQueryCache, QueryCacheStats::getMemorySize));, +            table.addCell(getOrNull(commonStats, CommonStats::getQueryCache, QueryCacheStats::getEvictions));, +            table.addCell(getOrNull(commonStats, CommonStats::getFlush, FlushStats::getTotal));, +            table.addCell(getOrNull(commonStats, CommonStats::getFlush, FlushStats::getTotalTime));, +            table.addCell(getOrNull(commonStats, CommonStats::getGet, GetStats::current));, +            table.addCell(getOrNull(commonStats, CommonStats::getGet, GetStats::getTime));, +            table.addCell(getOrNull(commonStats, CommonStats::getGet, GetStats::getCount));, +            table.addCell(getOrNull(commonStats, CommonStats::getGet, GetStats::getExistsTime));, +            table.addCell(getOrNull(commonStats, CommonStats::getGet, GetStats::getExistsCount));, +            table.addCell(getOrNull(commonStats, CommonStats::getGet, GetStats::getMissingTime));, +            table.addCell(getOrNull(commonStats, CommonStats::getGet, GetStats::getMissingCount));, +            table.addCell(getOrNull(commonStats, CommonStats::getIndexing, i -> i.getTotal().getDeleteCurrent()));, +            table.addCell(getOrNull(commonStats, CommonStats::getIndexing, i -> i.getTotal().getDeleteTime()));, +            table.addCell(getOrNull(commonStats, CommonStats::getIndexing, i -> i.getTotal().getDeleteCount()));, +            table.addCell(getOrNull(commonStats, CommonStats::getIndexing, i -> i.getTotal().getIndexCurrent()));, +            table.addCell(getOrNull(commonStats, CommonStats::getIndexing, i -> i.getTotal().getIndexTime()));, +            table.addCell(getOrNull(commonStats, CommonStats::getIndexing, i -> i.getTotal().getIndexCount()));, +            table.addCell(getOrNull(commonStats, CommonStats::getIndexing, i -> i.getTotal().getIndexFailedCount()));, +            table.addCell(getOrNull(commonStats, CommonStats::getMerge, MergeStats::getCurrent));, +            table.addCell(getOrNull(commonStats, CommonStats::getMerge, MergeStats::getCurrentNumDocs));, +            table.addCell(getOrNull(commonStats, CommonStats::getMerge, MergeStats::getCurrentSize));, +            table.addCell(getOrNull(commonStats, CommonStats::getMerge, MergeStats::getTotal));, +            table.addCell(getOrNull(commonStats, CommonStats::getMerge, MergeStats::getTotalNumDocs));, +            table.addCell(getOrNull(commonStats, CommonStats::getMerge, MergeStats::getTotalSize));, +            table.addCell(getOrNull(commonStats, CommonStats::getMerge, MergeStats::getTotalTime));, +            table.addCell(getOrNull(commonStats, CommonStats::getRefresh, RefreshStats::getTotal));, +            table.addCell(getOrNull(commonStats, CommonStats::getRefresh, RefreshStats::getTotalTime));, +            table.addCell(getOrNull(commonStats, CommonStats::getRefresh, RefreshStats::getListeners));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, i -> i.getTotal().getFetchCurrent()));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, i -> i.getTotal().getFetchTime()));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, i -> i.getTotal().getFetchCount()));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, SearchStats::getOpenContexts));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, i -> i.getTotal().getQueryCurrent()));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, i -> i.getTotal().getQueryTime()));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, i -> i.getTotal().getQueryCount()));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, i -> i.getTotal().getScrollCurrent()));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, i -> i.getTotal().getScrollTime()));, +            table.addCell(getOrNull(commonStats, CommonStats::getSearch, i -> i.getTotal().getScrollCount()));, +            table.addCell(getOrNull(commonStats, CommonStats::getSegments, SegmentsStats::getCount));, +            table.addCell(getOrNull(commonStats, CommonStats::getSegments, SegmentsStats::getMemory));, +            table.addCell(getOrNull(commonStats, CommonStats::getSegments, SegmentsStats::getIndexWriterMemory));, +            table.addCell(getOrNull(commonStats, CommonStats::getSegments, SegmentsStats::getVersionMapMemory));, +            table.addCell(getOrNull(commonStats, CommonStats::getSegments, SegmentsStats::getBitsetMemory));, +            table.addCell(getOrNull(shardStats, ShardStats::getSeqNoStats, SeqNoStats::getMaxSeqNo));, +            table.addCell(getOrNull(shardStats, ShardStats::getSeqNoStats, SeqNoStats::getLocalCheckpoint));, +            table.addCell(getOrNull(shardStats, ShardStats::getSeqNoStats, SeqNoStats::getGlobalCheckpoint));, +            table.addCell(getOrNull(commonStats, CommonStats::getWarmer, WarmerStats::current));, +            table.addCell(getOrNull(commonStats, CommonStats::getWarmer, WarmerStats::total));, +            table.addCell(getOrNull(commonStats, CommonStats::getWarmer, WarmerStats::totalTime));]