[+++ b/server/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java, +        // A new engine may have more than one empty translog files - the test should account this extra., +        final long extraTranslogSizeInNewEngine = engine.getTranslog().uncommittedSizeInBytes() - Translog.DEFAULT_HEADER_SIZE_IN_BYTES;, +        long flushThreshold = RandomNumbers.randomLongBetween(random(), 100,, +            engine.getTranslog().uncommittedSizeInBytes() - extraTranslogSizeInNewEngine);]