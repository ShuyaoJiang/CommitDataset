[+++ b/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.elasticsearch.index.query.support.QueryParsers;, +                    Query fuzzyQuery = currentMapper.fuzzyQuery(termStr, minSimilarity, fuzzyPrefixLength, settings.fuzzyMaxExpansions());, +    protected Query newFuzzyQuery(Term term, float minimumSimilarity, int prefixLength) {, +        FuzzyQuery query = new FuzzyQuery(term, minimumSimilarity, prefixLength, settings.fuzzyMaxExpansions());, +        QueryParsers.setRewriteMethod(query, settings.fuzzyRewriteMethod());, +        return query;, +    }, +, +    @Override, +++ b/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.elasticsearch.index.query.support.QueryParsers;, +                    Query fuzzyQuery = currentMapper.fuzzyQuery(termStr, minSimilarity, fuzzyPrefixLength, settings.fuzzyMaxExpansions());, +    protected Query newFuzzyQuery(Term term, float minimumSimilarity, int prefixLength) {, +        FuzzyQuery query = new FuzzyQuery(term, minimumSimilarity, prefixLength, settings.fuzzyMaxExpansions());, +        QueryParsers.setRewriteMethod(query, settings.fuzzyRewriteMethod());, +        return query;, +    }, +, +    @Override, +++ b/src/main/java/org/apache/lucene/queryParser/QueryParserSettings.java, +    private int fuzzyMaxExpansions = FuzzyQuery.defaultMaxExpansions;, +    private MultiTermQuery.RewriteMethod fuzzyRewriteMethod = null;, +    public int fuzzyMaxExpansions() {, +        return fuzzyMaxExpansions;, +    }, +, +    public void fuzzyMaxExpansions(int fuzzyMaxExpansions) {, +        this.fuzzyMaxExpansions = fuzzyMaxExpansions;, +    }, +, +    public MultiTermQuery.RewriteMethod fuzzyRewriteMethod() {, +        return fuzzyRewriteMethod;, +    }, +, +    public void fuzzyRewriteMethod(MultiTermQuery.RewriteMethod fuzzyRewriteMethod) {, +        this.fuzzyRewriteMethod = fuzzyRewriteMethod;, +    }, +, +        if (fuzzyMaxExpansions != that.fuzzyMaxExpansions) return false;, +        if (fuzzyRewriteMethod != null ? !fuzzyRewriteMethod.equals(that.fuzzyRewriteMethod) : that.fuzzyRewriteMethod != null), +            return false;, +++ b/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.elasticsearch.index.query.support.QueryParsers;, +                    Query fuzzyQuery = currentMapper.fuzzyQuery(termStr, minSimilarity, fuzzyPrefixLength, settings.fuzzyMaxExpansions());, +    protected Query newFuzzyQuery(Term term, float minimumSimilarity, int prefixLength) {, +        FuzzyQuery query = new FuzzyQuery(term, minimumSimilarity, prefixLength, settings.fuzzyMaxExpansions());, +        QueryParsers.setRewriteMethod(query, settings.fuzzyRewriteMethod());, +        return query;, +    }, +, +    @Override, +++ b/src/main/java/org/apache/lucene/queryParser/QueryParserSettings.java, +    private int fuzzyMaxExpansions = FuzzyQuery.defaultMaxExpansions;, +    private MultiTermQuery.RewriteMethod fuzzyRewriteMethod = null;, +    public int fuzzyMaxExpansions() {, +        return fuzzyMaxExpansions;, +    }, +, +    public void fuzzyMaxExpansions(int fuzzyMaxExpansions) {, +        this.fuzzyMaxExpansions = fuzzyMaxExpansions;, +    }, +, +    public MultiTermQuery.RewriteMethod fuzzyRewriteMethod() {, +        return fuzzyRewriteMethod;, +    }, +, +    public void fuzzyRewriteMethod(MultiTermQuery.RewriteMethod fuzzyRewriteMethod) {, +        this.fuzzyRewriteMethod = fuzzyRewriteMethod;, +    }, +, +        if (fuzzyMaxExpansions != that.fuzzyMaxExpansions) return false;, +        if (fuzzyRewriteMethod != null ? !fuzzyRewriteMethod.equals(that.fuzzyRewriteMethod) : that.fuzzyRewriteMethod != null), +            return false;, +++ b/src/main/java/org/elasticsearch/index/query/FieldQueryBuilder.java, +    private int fuzzyPrefixLength = -1;, +    private int fuzzyMaxExpansions = -1;, +    private String fuzzyRewrite;, +    public FieldQueryBuilder fuzzyMaxExpansions(int fuzzyMaxExpansions) {, +        this.fuzzyMaxExpansions = fuzzyMaxExpansions;, +        return this;, +    }, +, +    public FieldQueryBuilder fuzzyRewrite(String fuzzyRewrite) {, +        this.fuzzyRewrite = fuzzyRewrite;, +        return this;, +    }, +, +, +            if (fuzzyMaxExpansions != -1) {, +                builder.field("fuzzy_max_expansions", fuzzyMaxExpansions);, +            }, +            if (fuzzyRewrite != null) {, +                builder.field("fuzzy_rewrite", fuzzyRewrite);, +            }, +++ b/src/main/java/org/apache/lucene/queryParser/MapperQueryParser.java, +import org.elasticsearch.index.query.support.QueryParsers;, +                    Query fuzzyQuery = currentMapper.fuzzyQuery(termStr, minSimilarity, fuzzyPrefixLength, settings.fuzzyMaxExpansions());, +    protected Query newFuzzyQuery(Term term, float minimumSimilarity, int prefixLength) {, +        FuzzyQuery query = new FuzzyQuery(term, minimumSimilarity, prefixLength, settings.fuzzyMaxExpansions());]