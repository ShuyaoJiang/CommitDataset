[+++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +, +import org.apache.lucene.index.SegmentInfos;, +    // If enabled, the [verbose] SegmentInfos.infoStream logging is sent to System.out:, +    public static final String SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE = "node.enable_lucene_segment_infos_trace";, +, +    @SuppressForbidden(reason = "System.out.*"), +, +        if (settings.getAsBoolean(SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE, false)) {, +            SegmentInfos.setInfoStream(System.out);, +        }, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +, +import org.apache.lucene.index.SegmentInfos;, +    // If enabled, the [verbose] SegmentInfos.infoStream logging is sent to System.out:, +    public static final String SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE = "node.enable_lucene_segment_infos_trace";, +, +    @SuppressForbidden(reason = "System.out.*"), +, +        if (settings.getAsBoolean(SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE, false)) {, +            SegmentInfos.setInfoStream(System.out);, +        }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +            if (mapper instanceof FieldMapper) {, +                if (!((FieldMapper) mapper).supportsNullValue()) {, +                    throw new MapperParsingException("no object mapping found for null value in [" + lastFieldName + "]");, +                }, +            }, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +, +import org.apache.lucene.index.SegmentInfos;, +    // If enabled, the [verbose] SegmentInfos.infoStream logging is sent to System.out:, +    public static final String SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE = "node.enable_lucene_segment_infos_trace";, +, +    @SuppressForbidden(reason = "System.out.*"), +, +        if (settings.getAsBoolean(SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE, false)) {, +            SegmentInfos.setInfoStream(System.out);, +        }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +            if (mapper instanceof FieldMapper) {, +                if (!((FieldMapper) mapper).supportsNullValue()) {, +                    throw new MapperParsingException("no object mapping found for null value in [" + lastFieldName + "]");, +                }, +            }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java, +    boolean supportsNullValue();, +, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +, +import org.apache.lucene.index.SegmentInfos;, +    // If enabled, the [verbose] SegmentInfos.infoStream logging is sent to System.out:, +    public static final String SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE = "node.enable_lucene_segment_infos_trace";, +, +    @SuppressForbidden(reason = "System.out.*"), +, +        if (settings.getAsBoolean(SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE, false)) {, +            SegmentInfos.setInfoStream(System.out);, +        }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +            if (mapper instanceof FieldMapper) {, +                if (!((FieldMapper) mapper).supportsNullValue()) {, +                    throw new MapperParsingException("no object mapping found for null value in [" + lastFieldName + "]");, +                }, +            }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java, +    boolean supportsNullValue();, +, +++ b/core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +, +import org.apache.lucene.index.SegmentInfos;, +    // If enabled, the [verbose] SegmentInfos.infoStream logging is sent to System.out:, +    public static final String SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE = "node.enable_lucene_segment_infos_trace";, +, +    @SuppressForbidden(reason = "System.out.*"), +, +        if (settings.getAsBoolean(SETTING_ENABLE_LUCENE_SEGMENT_INFOS_TRACE, false)) {, +            SegmentInfos.setInfoStream(System.out);, +        }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +            if (mapper instanceof FieldMapper) {, +                if (!((FieldMapper) mapper).supportsNullValue()) {, +                    throw new MapperParsingException("no object mapping found for null value in [" + lastFieldName + "]");, +                }, +            }, +++ b/core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java, +    boolean supportsNullValue();, +, +++ b/core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java, +++ b/core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java, +    public Query nullValueFilter() {, +        return null;, +    @Override, +    public boolean supportsNullValue() {, +        return true;, +    }, +, +++ b/core/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +]