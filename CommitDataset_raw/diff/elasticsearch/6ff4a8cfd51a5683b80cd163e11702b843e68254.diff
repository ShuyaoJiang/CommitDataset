[+++ b/docs/reference/settings/security-settings.asciidoc, +[[api-key-service-settings]], +==== API key service settings, +, +You can set the following API key service settings in, +`elasticsearch.yml`., +, +`xpack.security.authc.api_key.enabled`::, +Set to `false` to disable the built-in API key service. Defaults to `true` unless, + `xpack.security.http.ssl.enabled` is `false`. This prevents sniffing the API key, +  from a connection over plain http., +, +`xpack.security.authc.api_key.hashing.algorithm`::, +Specifies the hashing algorithm that is used for securing API key credentials., +See <<password-hashing-algorithms>>. Defaults to `pbkdf2`., +, +`xpack.security.authc.api_key.cache.ttl`::, +The time-to-live for cached API key entries. A API key id and a hash of its, +API key are cached for this period of time. Specify the time period using, +the standard {es} <<time-units,time units>>. Defaults to `1d`., +, +`xpack.security.authc.api_key.cache.max_keys`::, +The maximum number of API key entries that can live in the, +cache at any given time. Defaults to 10,000., +, +`xpack.security.authc.api_key.cache.hash_algo`:: (Expert Setting), +The hashing algorithm that is used for the, +in-memory cached API key credentials. For possible values, see <<cache-hash-algo>>., +Defaults to `ssha256`., +, +[float], +++ b/docs/reference/settings/security-settings.asciidoc, +[[api-key-service-settings]], +==== API key service settings, +, +You can set the following API key service settings in, +`elasticsearch.yml`., +, +`xpack.security.authc.api_key.enabled`::, +Set to `false` to disable the built-in API key service. Defaults to `true` unless, + `xpack.security.http.ssl.enabled` is `false`. This prevents sniffing the API key, +  from a connection over plain http., +, +`xpack.security.authc.api_key.hashing.algorithm`::, +Specifies the hashing algorithm that is used for securing API key credentials., +See <<password-hashing-algorithms>>. Defaults to `pbkdf2`., +, +`xpack.security.authc.api_key.cache.ttl`::, +The time-to-live for cached API key entries. A API key id and a hash of its, +API key are cached for this period of time. Specify the time period using, +the standard {es} <<time-units,time units>>. Defaults to `1d`., +, +`xpack.security.authc.api_key.cache.max_keys`::, +The maximum number of API key entries that can live in the, +cache at any given time. Defaults to 10,000., +, +`xpack.security.authc.api_key.cache.hash_algo`:: (Expert Setting), +The hashing algorithm that is used for the, +in-memory cached API key credentials. For possible values, see <<cache-hash-algo>>., +Defaults to `ssha256`., +, +[float], +++ b/x-pack/docs/en/rest-api/security/create-api-keys.asciidoc, +See <<api-key-service-settings>> for configuration settings related to API key service., +, +, +The API key returned by this API can then be used by sending a request with a, +`Authorization` header with a value having the prefix `ApiKey ` followed, +by the _credentials_, where _credentials_ is the base64 encoding of `id` and `api_key` joined by a colon., +, +[source,shell], +--------------------------------------------------, +curl -H "Authorization: ApiKey VnVhQ2ZHY0JDZGJrUW0tZTVhT3g6dWkybHAyYXhUTm1zeWFrdzl0dk5udw==" http://localhost:9200/_cluster/health, +--------------------------------------------------, +// NOTCONSOLE, +++ b/docs/reference/settings/security-settings.asciidoc, +[[api-key-service-settings]], +==== API key service settings, +, +You can set the following API key service settings in, +`elasticsearch.yml`., +, +`xpack.security.authc.api_key.enabled`::, +Set to `false` to disable the built-in API key service. Defaults to `true` unless, + `xpack.security.http.ssl.enabled` is `false`. This prevents sniffing the API key, +  from a connection over plain http., +, +`xpack.security.authc.api_key.hashing.algorithm`::, +Specifies the hashing algorithm that is used for securing API key credentials., +See <<password-hashing-algorithms>>. Defaults to `pbkdf2`., +, +`xpack.security.authc.api_key.cache.ttl`::, +The time-to-live for cached API key entries. A API key id and a hash of its, +API key are cached for this period of time. Specify the time period using, +the standard {es} <<time-units,time units>>. Defaults to `1d`., +, +`xpack.security.authc.api_key.cache.max_keys`::, +The maximum number of API key entries that can live in the, +cache at any given time. Defaults to 10,000., +]