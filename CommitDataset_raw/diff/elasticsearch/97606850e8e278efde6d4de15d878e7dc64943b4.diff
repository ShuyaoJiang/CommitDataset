[+++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/modules/reindex/src/test/resources/rest-api-spec/test/update_by_query/10_basic.yaml, +---, +"Basic response":, +  - do:, +      index:, +        index:   test, +        type:    foo, +        id:      1, +        body:    { "text": "test" }, +  - do:, +      indices.refresh: {}, +, +  - do:, +      update_by_query:, +        index: test, +  - is_false: timed_out, +  - match: {updated: 1}, +  - match: {version_conflicts: 0}, +  - match: {batches: 1}, +  - match: {failures: []}, +  - match: {noops: 0}, +  - match: {throttled_millis: 0}, +  - gte: { took: 0 }, +  - is_false: created # Update by query can't create, +  - is_false: task, +, +---, +"wait_for_completion=false":, +  - do:, +      index:, +        index:   test, +        type:    foo, +        id:      1, +        body:    { "text": "test" }, +  - do:, +      indices.refresh: {}, +, +  - do:, +      update_by_query:, +        wait_for_completion: false, +        index: test, +  - match: {task: '/.+:\d+/'}, +  - set: {task: task}, +  - is_false: updated, +  - is_false: version_conflicts, +  - is_false: batches, +  - is_false: failures, +  - is_false: noops, +  - is_false: took, +  - is_false: throttled_millis, +  - is_false: created, +, +  - do:, +      tasks.list:, +        wait_for_completion: true, +        task_id: $task, +, +---, +"Response for version conflict":, +  - do:, +      indices.create:, +        index: test, +        body:, +          settings:, +            index.refresh_interval: -1, +  - do:, +      index:, +        index:   test, +        type:    foo, +        id:      1, +        body:    { "text": "test" }, +  - do:, +      indices.refresh: {}, +  - do: # Creates a new version for reindex to miss on scan., +      index:, +        index:   test, +        type:    foo, +        id:      1, +        body:    { "text": "test2" }, +]