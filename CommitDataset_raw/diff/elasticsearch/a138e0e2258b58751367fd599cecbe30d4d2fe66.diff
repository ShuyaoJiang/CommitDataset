[+++ b/server/src/main/java/org/elasticsearch/Version.java, +    private static class DeclaredVersionsHolder {, +        static final List<Version> DECLARED_VERSIONS = Collections.unmodifiableList(getDeclaredVersions(Version.class));, +    }, +, +, +            for (int i = DeclaredVersionsHolder.DECLARED_VERSIONS.size() - 1; i >= 0; i--) {, +                final Version candidateVersion = DeclaredVersionsHolder.DECLARED_VERSIONS.get(i);]