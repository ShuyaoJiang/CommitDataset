[+++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java, +import org.elasticsearch.index.cache.query.QueryCacheStats;, +    private QueryCacheStats queryCache;, +        this.queryCache = new QueryCacheStats();, +                queryCache.add(shardCommonStats.queryCache);, +    public QueryCacheStats getQueryCache() {, +        return queryCache;, +        queryCache = QueryCacheStats.readQueryCacheStats(in);, +        queryCache.writeTo(out);, +        queryCache.toXContent(builder, params);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java, +import org.elasticsearch.index.cache.query.QueryCacheStats;, +    private QueryCacheStats queryCache;, +        this.queryCache = new QueryCacheStats();, +                queryCache.add(shardCommonStats.queryCache);, +    public QueryCacheStats getQueryCache() {, +        return queryCache;, +        queryCache = QueryCacheStats.readQueryCacheStats(in);, +        queryCache.writeTo(out);, +        queryCache.toXContent(builder, params);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java, +            CommonStatsFlags.Flag.FieldData, CommonStatsFlags.Flag.QueryCache, CommonStatsFlags.Flag.Completion, CommonStatsFlags.Flag.Segments,, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java, +import org.elasticsearch.index.cache.query.QueryCacheStats;, +    private QueryCacheStats queryCache;, +        this.queryCache = new QueryCacheStats();, +                queryCache.add(shardCommonStats.queryCache);, +    public QueryCacheStats getQueryCache() {, +        return queryCache;, +        queryCache = QueryCacheStats.readQueryCacheStats(in);, +        queryCache.writeTo(out);, +        queryCache.toXContent(builder, params);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java, +            CommonStatsFlags.Flag.FieldData, CommonStatsFlags.Flag.QueryCache, CommonStatsFlags.Flag.Completion, CommonStatsFlags.Flag.Segments,, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java, +    private boolean queryCache = false;, +    private boolean requestCache = false;, +        return queryCache;, +    public boolean requestCache() {, +        return this.requestCache;, +    }, +, +    public ClearIndicesCacheRequest requestCache(boolean requestCache) {, +        this.requestCache = requestCache;, +        return this;, +    }, +, +        queryCache = in.readBoolean();, +        requestCache = in.readBoolean();, +        out.writeBoolean(queryCache);, +        out.writeBoolean(requestCache);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java, +import org.elasticsearch.index.cache.query.QueryCacheStats;, +    private QueryCacheStats queryCache;, +        this.queryCache = new QueryCacheStats();, +                queryCache.add(shardCommonStats.queryCache);, +    public QueryCacheStats getQueryCache() {, +        return queryCache;, +        queryCache = QueryCacheStats.readQueryCacheStats(in);, +        queryCache.writeTo(out);, +        queryCache.toXContent(builder, params);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java, +            CommonStatsFlags.Flag.FieldData, CommonStatsFlags.Flag.QueryCache, CommonStatsFlags.Flag.Completion, CommonStatsFlags.Flag.Segments,, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java, +    private boolean queryCache = false;, +    private boolean requestCache = false;, +        return queryCache;, +    public boolean requestCache() {, +        return this.requestCache;, +    }, +, +    public ClearIndicesCacheRequest requestCache(boolean requestCache) {, +        this.requestCache = requestCache;, +        return this;, +    }, +, +        queryCache = in.readBoolean();, +        requestCache = in.readBoolean();, +        out.writeBoolean(queryCache);, +        out.writeBoolean(requestCache);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java, +    public ClearIndicesCacheRequestBuilder setQueryCache(boolean queryCache) {, +        request.queryCache(queryCache);, +    public ClearIndicesCacheRequestBuilder setRequestCache(boolean requestCache) {, +        request.requestCache(requestCache);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java, +import org.elasticsearch.index.cache.query.QueryCacheStats;, +    private QueryCacheStats queryCache;, +        this.queryCache = new QueryCacheStats();, +                queryCache.add(shardCommonStats.queryCache);, +    public QueryCacheStats getQueryCache() {, +        return queryCache;, +        queryCache = QueryCacheStats.readQueryCacheStats(in);, +        queryCache.writeTo(out);, +        queryCache.toXContent(builder, params);, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java, +            CommonStatsFlags.Flag.FieldData, CommonStatsFlags.Flag.QueryCache, CommonStatsFlags.Flag.Completion, CommonStatsFlags.Flag.Segments,, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java, +    private boolean queryCache = false;, +    private boolean requestCache = false;]