[+++ b/src/main/java/org/elasticsearch/alerts/ConfigurationManager.java, +, +    private volatile boolean readyToRead = false;, +, +, +    /**, +     * Registers an component to receive config updates, +     */, +    public void registerListener(ConfigurableComponentListener configListener) {, +        if (!registeredComponents.contains(configListener)) {, +            registeredComponents.add(configListener);, +        }, +    }, +, +++ b/src/main/java/org/elasticsearch/alerts/ConfigurationManager.java, +, +    private volatile boolean readyToRead = false;, +, +, +    /**, +     * Registers an component to receive config updates, +     */, +    public void registerListener(ConfigurableComponentListener configListener) {, +        if (!registeredComponents.contains(configListener)) {, +            registeredComponents.add(configListener);, +        }, +    }, +, +++ b/src/main/java/org/elasticsearch/alerts/actions/AlertActionRegistry.java, +                .fPut("email", new SmtpAlertActionFactory(configurationManager))]