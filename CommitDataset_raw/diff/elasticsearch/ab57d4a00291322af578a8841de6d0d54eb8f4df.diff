[+++ b/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java, +                randomSettingsBuilder.put(SETTING_NUMBER_OF_SHARDS, numberOfShards()), +                        .put(SETTING_NUMBER_OF_REPLICAS, numberOfReplicas());, +        //use either 0 or 1 replica, yet a higher amount when possible, but only rarely, +        int maxNumReplicas = Math.max(0, cluster().numDataNodes() - 1);, +        return frequently() ? Math.min(1, maxNumReplicas) : maxNumReplicas;]