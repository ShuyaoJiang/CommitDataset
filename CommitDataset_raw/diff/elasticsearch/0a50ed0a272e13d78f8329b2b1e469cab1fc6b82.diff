[+++ b/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java, +import java.io.IOException;, +import java.util.Map;, +, +import static com.google.common.collect.Maps.newHashMap;, +, +        Map<String, SuggestionContext> suggestionContexts = newHashMap();, +, +                SuggestionContext suggestionContext = null;, +                        suggestionContext = contextParser.parse(parser, mapperService);, +                if (suggestionContext != null) {, +                    suggestionContext.setText(suggestText);, +                    suggestionContexts.put(suggestionName, suggestionContext);, +                }, +, +, +        for (Map.Entry<String, SuggestionContext> entry : suggestionContexts.entrySet()) {, +            String suggestionName = entry.getKey();, +            SuggestionContext suggestionContext = entry.getValue();, +, +            suggestionContext.setShard(shardId);, +            suggestionContext.setIndex(index);, +            SuggestUtils.verifySuggestion(mapperService, globalText, suggestionContext);, +            suggestionSearchContext.addSuggestion(suggestionName, suggestionContext);, +        }, +]