[+++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +        InetAddress[] resolveIfPossible(String value) throws IOException;, +    private InetAddress[] resolveInetAddress(String host) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +        InetAddress[] resolveIfPossible(String value) throws IOException;, +    private InetAddress[] resolveInetAddress(String host) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +                Mapper update = parseObject(context, mapping.root);, +    static ObjectMapper parseObject(ParseContext context, ObjectMapper mapper) throws IOException {, +            return parseObject(context, (ObjectMapper) mapper);, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +        InetAddress[] resolveIfPossible(String value) throws IOException;, +    private InetAddress[] resolveInetAddress(String host) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +                Mapper update = parseObject(context, mapping.root);, +    static ObjectMapper parseObject(ParseContext context, ObjectMapper mapper) throws IOException {, +            return parseObject(context, (ObjectMapper) mapper);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java, +        return DocumentParser.parseObject(ctx, mapper.root());, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +        InetAddress[] resolveIfPossible(String value) throws IOException;, +    private InetAddress[] resolveInetAddress(String host) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +                Mapper update = parseObject(context, mapping.root);, +    static ObjectMapper parseObject(ParseContext context, ObjectMapper mapper) throws IOException {, +            return parseObject(context, (ObjectMapper) mapper);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java, +        return DocumentParser.parseObject(ctx, mapper.root());, +++ b/core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +        InetAddress[] resolveIfPossible(String value) throws IOException;, +    private InetAddress[] resolveInetAddress(String host) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +                Mapper update = parseObject(context, mapping.root);, +    static ObjectMapper parseObject(ParseContext context, ObjectMapper mapper) throws IOException {, +            return parseObject(context, (ObjectMapper) mapper);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java, +        return DocumentParser.parseObject(ctx, mapper.root());, +++ b/core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +        InetAddress[] resolveIfPossible(String value) throws IOException;, +    private InetAddress[] resolveInetAddress(String host) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +                Mapper update = parseObject(context, mapping.root);, +    static ObjectMapper parseObject(ParseContext context, ObjectMapper mapper) throws IOException {, +            return parseObject(context, (ObjectMapper) mapper);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java, +        return DocumentParser.parseObject(ctx, mapper.root());, +++ b/core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java, +    public void testParentNotSet() throws Exception {, +        ParsedDocument doc = docMapper.parse(SourceToParse.source(XContentFactory.jsonBuilder(), +                .startObject(), +                .field("_parent", "1122"), +                .field("x_field", "x_value"), +                .endObject(), +                .bytes()).type("type").id("1"));, +, +        // no _parent mapping, dynamically used as a string field, +        assertNull(doc.parent());, +        assertNotNull(doc.rootDoc().get("_parent"));, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +        InetAddress[] resolveIfPossible(String value) throws IOException;, +    private InetAddress[] resolveInetAddress(String host) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +                Mapper update = parseObject(context, mapping.root);, +    static ObjectMapper parseObject(ParseContext context, ObjectMapper mapper) throws IOException {, +            return parseObject(context, (ObjectMapper) mapper);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java, +        return DocumentParser.parseObject(ctx, mapper.root());, +++ b/core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java, +    public void testParentNotSet() throws Exception {, +        ParsedDocument doc = docMapper.parse(SourceToParse.source(XContentFactory.jsonBuilder(), +                .startObject(), +                .field("_parent", "1122"), +                .field("x_field", "x_value"), +                .endObject(), +                .bytes()).type("type").id("1"));, +, +        // no _parent mapping, dynamically used as a string field, +        assertNull(doc.parent());, +        assertNotNull(doc.rootDoc().get("_parent"));, +++ b/core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java, +        XContentBuilder doc = XContentFactory.jsonBuilder().startObject().field("_timestamp", 2000000).endObject();, +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +        InetAddress[] resolveIfPossible(String value) throws IOException;, +    private InetAddress[] resolveInetAddress(String host) throws IOException {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java, +                Mapper update = parseObject(context, mapping.root);, +    static ObjectMapper parseObject(ParseContext context, ObjectMapper mapper) throws IOException {, +            return parseObject(context, (ObjectMapper) mapper);, +++ b/core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java, +        return DocumentParser.parseObject(ctx, mapper.root());, +++ b/core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java, +++ b/core/src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java]