[+++ b/core/src/main/java/org/elasticsearch/index/shard/IndexShard.java, +    public QueryCachingPolicy getQueryCachingPolicy() {, +        return this.engineConfig.getQueryCachingPolicy();, +    }, +, +++ b/core/src/main/java/org/elasticsearch/index/shard/IndexShard.java, +    public QueryCachingPolicy getQueryCachingPolicy() {, +        return this.engineConfig.getQueryCachingPolicy();, +    }, +, +++ b/core/src/main/java/org/elasticsearch/search/SearchService.java, +        IndexShard indexShard = context.indexShard();, +            final IndexCache indexCache = indexShard.indexService().cache();, +            final QueryCachingPolicy cachingPolicy = indexShard.getQueryCachingPolicy();, +        ShardSearchStats shardSearchStats = indexShard.searchService();, +            final IndexShard indexShard = context.indexShard();, +            final IndexCache indexCache = indexShard.indexService().cache();, +            final QueryCachingPolicy cachingPolicy = indexShard.getQueryCachingPolicy();]