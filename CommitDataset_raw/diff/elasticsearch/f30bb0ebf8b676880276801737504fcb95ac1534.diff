[+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/AnalysisConfig.java, +                           Boolean multivariateByFields, boolean usePerPartitionNormalization) {, +, +        // BWC for removed multiple_bucket_spans, +        // TODO Remove in 7.0.0, +        if (in.getVersion().before(Version.V_6_5_0)) {, +                    in.readTimeValue();, +        }, +, +, +        // BWC for removed multiple_bucket_spans, +        // TODO Remove in 7.0.0, +        if (out.getVersion().before(Version.V_6_5_0)) {, +, +                Objects.equals(multivariateByFields, that.multivariateByFields);, +                multivariateByFields, usePerPartitionNormalization, +                    resultFinalizationWindow, multivariateByFields, usePerPartitionNormalization);, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/AnalysisConfig.java, +                           Boolean multivariateByFields, boolean usePerPartitionNormalization) {, +, +        // BWC for removed multiple_bucket_spans, +        // TODO Remove in 7.0.0, +        if (in.getVersion().before(Version.V_6_5_0)) {, +                    in.readTimeValue();, +        }, +, +, +        // BWC for removed multiple_bucket_spans, +        // TODO Remove in 7.0.0, +        if (out.getVersion().before(Version.V_6_5_0)) {, +, +                Objects.equals(multivariateByFields, that.multivariateByFields);, +                multivariateByFields, usePerPartitionNormalization, +                    resultFinalizationWindow, multivariateByFields, usePerPartitionNormalization);, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/messages/Messages.java, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/AnalysisConfig.java, +                           Boolean multivariateByFields, boolean usePerPartitionNormalization) {, +, +        // BWC for removed multiple_bucket_spans, +        // TODO Remove in 7.0.0, +        if (in.getVersion().before(Version.V_6_5_0)) {, +                    in.readTimeValue();, +        }, +, +, +        // BWC for removed multiple_bucket_spans, +        // TODO Remove in 7.0.0, +        if (out.getVersion().before(Version.V_6_5_0)) {, +, +                Objects.equals(multivariateByFields, that.multivariateByFields);, +                multivariateByFields, usePerPartitionNormalization, +                    resultFinalizationWindow, multivariateByFields, usePerPartitionNormalization);, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/messages/Messages.java, +++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/job/config/AnalysisConfigTests.java, +        switch (between(0, 11)) {, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/AnalysisConfig.java, +                           Boolean multivariateByFields, boolean usePerPartitionNormalization) {, +, +        // BWC for removed multiple_bucket_spans, +        // TODO Remove in 7.0.0, +        if (in.getVersion().before(Version.V_6_5_0)) {, +                    in.readTimeValue();, +        }, +, +, +        // BWC for removed multiple_bucket_spans, +        // TODO Remove in 7.0.0, +        if (out.getVersion().before(Version.V_6_5_0)) {, +, +                Objects.equals(multivariateByFields, that.multivariateByFields);, +                multivariateByFields, usePerPartitionNormalization, +                    resultFinalizationWindow, multivariateByFields, usePerPartitionNormalization);, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/messages/Messages.java, +++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/job/config/AnalysisConfigTests.java, +        switch (between(0, 11)) {, +++ b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/job/process/ProcessCtrl.java]