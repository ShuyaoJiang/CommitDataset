[+++ /dev/null, +++ /dev/null, +++ b/modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/IngestCommonPlugin.java, +import org.elasticsearch.ingest.DropProcessor;, +++ /dev/null, +++ b/modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/IngestCommonPlugin.java, +import org.elasticsearch.ingest.DropProcessor;, +++ b/modules/ingest-common/src/test/resources/rest-api-spec/test/ingest/220_drop_processor.yml, +---, +teardown:, +- do:, +    ingest.delete_pipeline:, +      id: "my_pipeline", +      ignore: 404, +, +---, +"Test Drop Processor":, +- do:, +    ingest.put_pipeline:, +      id: "my_pipeline", +      body:  >, +        {, +          "description" : "pipeline with drop",, +          "processors" : [, +            {, +              "drop" : {, +                "if": "ctx.foo == 'bar'", +              }, +            }, +          ], +        }, +- match: { acknowledged: true }, +, +- do:, +    index:, +      index: test, +      type: test, +      id: 1, +      pipeline: "my_pipeline", +      body: {, +        foo: "bar", +      }, +, +- do:, +    index:, +      index: test, +      type: test, +      id: 2, +      pipeline: "my_pipeline", +      body: {, +        foo: "blub", +      }, +, +- do:, +    catch: missing, +    get:, +      index: test, +      type: test, +      id: 1, +- match: { found: false }, +, +- do:, +    get:, +      index: test, +      type: test, +      id: 2, +- match: { _source.foo: "blub" }, +++ /dev/null, +++ b/modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/IngestCommonPlugin.java, +import org.elasticsearch.ingest.DropProcessor;, +++ b/modules/ingest-common/src/test/resources/rest-api-spec/test/ingest/220_drop_processor.yml, +---, +teardown:, +- do:, +    ingest.delete_pipeline:, +      id: "my_pipeline", +      ignore: 404, +, +---, +"Test Drop Processor":, +- do:, +    ingest.put_pipeline:, +      id: "my_pipeline", +      body:  >, +        {, +          "description" : "pipeline with drop",, +          "processors" : [, +            {, +              "drop" : {, +                "if": "ctx.foo == 'bar'", +              }, +            }, +          ], +        }, +- match: { acknowledged: true }, +, +- do:, +    index:, +      index: test, +      type: test]