[+++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +        registerIndexDynamicSetting(IndexSettings.INDEX_REFRESH_INTERVAL, Validator.TIME);, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +        registerIndexDynamicSetting(IndexSettings.INDEX_REFRESH_INTERVAL, Validator.TIME);, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +    /** Name of the setting to use to disable required units for byte size, time settings. */, +    public static final String SETTINGS_REQUIRE_UNITS = "settings_require_units";, +, +    private static boolean settingsRequireUnits = true;, +, +    public static void setSettingsRequireUnits(boolean v) {, +        settingsRequireUnits = v;, +    }, +, +    public static boolean getSettingsRequireUnits() {, +        return settingsRequireUnits;, +    }, +, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +        registerIndexDynamicSetting(IndexSettings.INDEX_REFRESH_INTERVAL, Validator.TIME);, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +    /** Name of the setting to use to disable required units for byte size, time settings. */, +    public static final String SETTINGS_REQUIRE_UNITS = "settings_require_units";, +, +    private static boolean settingsRequireUnits = true;, +, +    public static void setSettingsRequireUnits(boolean v) {, +        settingsRequireUnits = v;, +    }, +, +    public static boolean getSettingsRequireUnits() {, +        return settingsRequireUnits;, +    }, +, +++ b/core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to bytes:, +                    bytes = Long.parseLong(sValue);, +                }, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +        registerIndexDynamicSetting(IndexSettings.INDEX_REFRESH_INTERVAL, Validator.TIME);, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +    /** Name of the setting to use to disable required units for byte size, time settings. */, +    public static final String SETTINGS_REQUIRE_UNITS = "settings_require_units";, +, +    private static boolean settingsRequireUnits = true;, +, +    public static void setSettingsRequireUnits(boolean v) {, +        settingsRequireUnits = v;, +    }, +, +    public static boolean getSettingsRequireUnits() {, +        return settingsRequireUnits;, +    }, +, +++ b/core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to bytes:, +                    bytes = Long.parseLong(sValue);, +                }, +++ b/core/src/main/java/org/elasticsearch/common/unit/TimeValue.java, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to msec for bwc:, +                    millis = Long.parseLong(sValue);, +                }, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterModule.java, +        registerIndexDynamicSetting(IndexSettings.INDEX_REFRESH_INTERVAL, Validator.TIME);, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +    /** Name of the setting to use to disable required units for byte size, time settings. */, +    public static final String SETTINGS_REQUIRE_UNITS = "settings_require_units";, +, +    private static boolean settingsRequireUnits = true;, +, +    public static void setSettingsRequireUnits(boolean v) {, +        settingsRequireUnits = v;, +    }, +, +    public static boolean getSettingsRequireUnits() {, +        return settingsRequireUnits;, +    }, +, +++ b/core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to bytes:, +                    bytes = Long.parseLong(sValue);, +                }, +++ b/core/src/main/java/org/elasticsearch/common/unit/TimeValue.java, +                if (Settings.getSettingsRequireUnits()) {, +                } else {, +                    // Leniency default to msec for bwc:, +                    millis = Long.parseLong(sValue);, +                }, +++ b/core/src/main/java/org/elasticsearch/index/IndexService.java, +import java.util.concurrent.ScheduledFuture;, +import org.elasticsearch.common.unit.TimeValue;, +import org.elasticsearch.common.util.concurrent.FutureUtils;]