[+++ b/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java, +        String decoderType = settings.get("compress.lzf.decoder", "optimal");, +        if ("optimal".equalsIgnoreCase(decoderType)) {, +            this.decoder = ChunkDecoderFactory.optimalInstance();, +            Loggers.getLogger(LZFCompressor.class).debug("using [{}] decoder", this.decoder.getClass().getSimpleName());, +        } else if ("safe".equalsIgnoreCase(decoderType)) {, +            this.decoder = ChunkDecoderFactory.safeInstance();, +            Loggers.getLogger(LZFCompressor.class).debug("using [{}] decoder", this.decoder.getClass().getSimpleName());, +        } else {, +            Loggers.getLogger(LZFCompressor.class).warn("decoder type not recognized [{}], still using [{}]", decoderType, this.decoder.getClass().getSimpleName());, +        }]