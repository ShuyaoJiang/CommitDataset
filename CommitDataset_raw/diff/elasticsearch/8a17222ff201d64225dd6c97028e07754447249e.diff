[+++ b/src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java, +        while (((token = parser.nextToken()) != XContentParser.Token.END_OBJECT && token != XContentParser.Token.END_ARRAY)) {, +++ b/src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java, +        while (((token = parser.nextToken()) != XContentParser.Token.END_OBJECT && token != XContentParser.Token.END_ARRAY)) {, +++ b/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java, +        while (((token = parser.nextToken()) != XContentParser.Token.END_OBJECT && token != XContentParser.Token.END_ARRAY)) {, +++ b/src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java, +        while (((token = parser.nextToken()) != XContentParser.Token.END_OBJECT && token != XContentParser.Token.END_ARRAY)) {, +++ b/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java, +        while (((token = parser.nextToken()) != XContentParser.Token.END_OBJECT && token != XContentParser.Token.END_ARRAY)) {, +++ b/src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java, +    public void testMatchAllEmpty1() throws Exception {, +        IndexQueryParserService queryParser = queryParser();, +        String query = copyToStringFromClasspath("/org/elasticsearch/test/unit/index/query/match_all_empty1.json");, +        Query parsedQuery = queryParser.parse(query).query();, +        assertThat(parsedQuery, sameInstance(Queries.MATCH_ALL_QUERY));, +    }, +, +    @Test, +    public void testMatchAllEmpty2() throws Exception {, +        IndexQueryParserService queryParser = queryParser();, +        String query = copyToStringFromClasspath("/org/elasticsearch/test/unit/index/query/match_all_empty2.json");, +        Query parsedQuery = queryParser.parse(query).query();, +        assertThat(parsedQuery, sameInstance(Queries.MATCH_ALL_QUERY));, +    }, +, +    @Test, +++ b/src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java, +        while (((token = parser.nextToken()) != XContentParser.Token.END_OBJECT && token != XContentParser.Token.END_ARRAY)) {, +++ b/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java, +        while (((token = parser.nextToken()) != XContentParser.Token.END_OBJECT && token != XContentParser.Token.END_ARRAY)) {, +++ b/src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java, +    public void testMatchAllEmpty1() throws Exception {, +        IndexQueryParserService queryParser = queryParser();, +        String query = copyToStringFromClasspath("/org/elasticsearch/test/unit/index/query/match_all_empty1.json");, +        Query parsedQuery = queryParser.parse(query).query();, +        assertThat(parsedQuery, sameInstance(Queries.MATCH_ALL_QUERY));, +    }, +, +    @Test, +    public void testMatchAllEmpty2() throws Exception {, +        IndexQueryParserService queryParser = queryParser();, +        String query = copyToStringFromClasspath("/org/elasticsearch/test/unit/index/query/match_all_empty2.json");, +        Query parsedQuery = queryParser.parse(query).query();, +        assertThat(parsedQuery, sameInstance(Queries.MATCH_ALL_QUERY));, +    }, +, +    @Test, +++ b/src/test/java/org/elasticsearch/test/unit/index/query/match_all_empty1.json, +{, +    "match_all": {}, +}, +++ b/src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java, +        while (((token = parser.nextToken()) != XContentParser.Token.END_OBJECT && token != XContentParser.Token.END_ARRAY)) {, +++ b/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java, +        while (((token = parser.nextToken()) != XContentParser.Token.END_OBJECT && token != XContentParser.Token.END_ARRAY)) {, +++ b/src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java, +    public void testMatchAllEmpty1() throws Exception {, +        IndexQueryParserService queryParser = queryParser();, +        String query = copyToStringFromClasspath("/org/elasticsearch/test/unit/index/query/match_all_empty1.json");, +        Query parsedQuery = queryParser.parse(query).query();, +        assertThat(parsedQuery, sameInstance(Queries.MATCH_ALL_QUERY));, +    }, +, +    @Test, +    public void testMatchAllEmpty2() throws Exception {, +        IndexQueryParserService queryParser = queryParser();, +        String query = copyToStringFromClasspath("/org/elasticsearch/test/unit/index/query/match_all_empty2.json");, +        Query parsedQuery = queryParser.parse(query).query();, +        assertThat(parsedQuery, sameInstance(Queries.MATCH_ALL_QUERY));, +    }, +, +    @Test, +++ b/src/test/java/org/elasticsearch/test/unit/index/query/match_all_empty1.json, +{, +    "match_all": {}, +}, +++ b/src/test/java/org/elasticsearch/test/unit/index/query/match_all_empty2.json, +{, +    "match_all": [], +}]