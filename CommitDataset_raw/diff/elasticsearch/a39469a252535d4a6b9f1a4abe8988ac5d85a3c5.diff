[+++ b/src/main/java/org/elasticsearch/index/mapper/MergeContext.java, +import java.util.ArrayList;, +import java.util.Collections;, +    private List<FieldMapper> fieldDataChanges = null;, +, +, +    public void addFieldDataChange(FieldMapper mapper) {, +        if (fieldDataChanges == null) {, +            fieldDataChanges = new ArrayList<FieldMapper>();, +        }, +        fieldDataChanges.add(mapper);, +    }, +, +    public List<FieldMapper> fieldMapperChanges() {, +        if (fieldDataChanges == null) {, +            return Collections.emptyList();, +        }, +        return fieldDataChanges;, +    }, +++ b/src/main/java/org/elasticsearch/index/mapper/MergeContext.java, +import java.util.ArrayList;, +import java.util.Collections;, +    private List<FieldMapper> fieldDataChanges = null;, +, +, +    public void addFieldDataChange(FieldMapper mapper) {, +        if (fieldDataChanges == null) {, +            fieldDataChanges = new ArrayList<FieldMapper>();, +        }, +        fieldDataChanges.add(mapper);, +    }, +, +    public List<FieldMapper> fieldMapperChanges() {, +        if (fieldDataChanges == null) {, +            return Collections.emptyList();, +        }, +        return fieldDataChanges;, +    }, +++ b/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java, +import com.google.common.base.Objects;, +                if (!Objects.equal(fieldMergeWith.customFieldDataSettings, this.customFieldDataSettings)) {, +                    mergeContext.addFieldDataChange(this);, +                }]