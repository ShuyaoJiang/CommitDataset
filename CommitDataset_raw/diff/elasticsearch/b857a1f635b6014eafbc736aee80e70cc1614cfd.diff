[+++ b/src/main/java/org/elasticsearch/indices/IndicesService.java, +        IOUtils.closeWhileHandlingException(injector.getInstance(RecoverySettings.class),, +            indicesAnalysisService);, +++ b/src/main/java/org/elasticsearch/indices/IndicesService.java, +        IOUtils.closeWhileHandlingException(injector.getInstance(RecoverySettings.class),, +            indicesAnalysisService);, +++ b/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java, +import java.io.Closeable;, +public class IndicesAnalysisService extends AbstractComponent implements Closeable {, +++ b/src/main/java/org/elasticsearch/indices/IndicesService.java, +        IOUtils.closeWhileHandlingException(injector.getInstance(RecoverySettings.class),, +            indicesAnalysisService);, +++ b/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java, +import java.io.Closeable;, +public class IndicesAnalysisService extends AbstractComponent implements Closeable {, +++ b/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java, +import java.io.Closeable;, +public class RecoverySettings extends AbstractComponent implements Closeable {, +++ b/src/main/java/org/elasticsearch/indices/IndicesService.java, +        IOUtils.closeWhileHandlingException(injector.getInstance(RecoverySettings.class),, +            indicesAnalysisService);, +++ b/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java, +import java.io.Closeable;, +public class IndicesAnalysisService extends AbstractComponent implements Closeable {, +++ b/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java, +import java.io.Closeable;, +public class RecoverySettings extends AbstractComponent implements Closeable {, +++ b/src/main/java/org/elasticsearch/indices/store/IndicesStore.java, +import org.elasticsearch.ElasticsearchException;, +import org.elasticsearch.common.component.AbstractLifecycleComponent;, +import java.io.Closeable;, +public class IndicesStore extends AbstractComponent implements ClusterStateListener, Closeable {, +    @Override, +++ b/src/main/java/org/elasticsearch/indices/IndicesService.java, +        IOUtils.closeWhileHandlingException(injector.getInstance(RecoverySettings.class),, +            indicesAnalysisService);, +++ b/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java, +import java.io.Closeable;, +public class IndicesAnalysisService extends AbstractComponent implements Closeable {, +++ b/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java, +import java.io.Closeable;, +public class RecoverySettings extends AbstractComponent implements Closeable {, +++ b/src/main/java/org/elasticsearch/indices/store/IndicesStore.java, +import org.elasticsearch.ElasticsearchException;, +import org.elasticsearch.common.component.AbstractLifecycleComponent;, +import java.io.Closeable;, +public class IndicesStore extends AbstractComponent implements ClusterStateListener, Closeable {, +    @Override, +++ b/src/main/java/org/elasticsearch/node/internal/InternalNode.java, +import org.elasticsearch.indices.store.IndicesStore;, +        injector.getInstance(IndicesStore.class).close();]