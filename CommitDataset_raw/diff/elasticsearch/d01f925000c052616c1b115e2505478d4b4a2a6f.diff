[+++ b/src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java, +        this.segmentsPerTier = componentSettings.getAsDouble("segments_per_tier", 9.2d);, +        fixSettingsIfNeeded();, +, +    private void fixSettingsIfNeeded() {, +        // fixing maxMergeAtOnce, see TieredMergePolicy#setMaxMergeAtOnce, +        if (!(segmentsPerTier >= maxMergeAtOnce)) {, +            int newMaxMergeAtOnce = (int) segmentsPerTier;, +            logger.debug("[tiered] merge policy changing max_merge_at_once from [{}] to [{}] because segments_per_tier [{}] has to be higher or equal to it", maxMergeAtOnce, newMaxMergeAtOnce, segmentsPerTier);, +            this.maxMergeAtOnce = newMaxMergeAtOnce;, +        }, +    }, +, +, +            fixSettingsIfNeeded();]