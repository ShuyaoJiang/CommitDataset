[+++ b/qa/smoke-test-ml-with-security/build.gradle, +    // TODO - review, +    'ml/jobs_crud/Test close job',, +    'ml/jobs_crud/Test force close job',, +    'ml/start_stop_datafeed/Test force stop datafeed',, +    // Non-temporary, +++ b/qa/smoke-test-ml-with-security/build.gradle, +    // TODO - review, +    'ml/jobs_crud/Test close job',, +    'ml/jobs_crud/Test force close job',, +    'ml/start_stop_datafeed/Test force stop datafeed',, +    // Non-temporary, +++ b/qa/smoke-test-ml-with-security/src/test/java/org/elasticsearch/xpack/ml/integration/MlRestTestStateCleaner.java, +                if (e.getMessage().contains("expected job state [opened], but got [closed]"), +                        || e.getMessage().contains("expected job state [opened], but got [closing]")) {, +                    logger.warn("failed to close job [" + jobId + "]. Forcing closed.", e);, +, +                    try {, +                        adminClient.performRequest("POST", "/_xpack/ml/anomaly_detectors/" + jobId + "/_close?force=true");, +                        throw new RuntimeException("Had to resort to force-closing job, something went wrong?");, +                    } catch (Exception e2) {, +                        throw new RuntimeException("Force-closing job [" + jobId + "] failed.", e2);, +                    }]