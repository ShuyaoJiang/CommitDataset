[+++ b/core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java, +            if (sendingController.markAsFailed("unexpected error [" + t.getMessage() + "]")) {, +    private void sendFullClusterState(ClusterState clusterState, Map<Version, BytesReference> serializedStates,, +, +            // -> no need to put a timeout on the options here, because we want the response to eventually be received, +            // -> no need to compress, we already compressed the bytes, +            TransportRequestOptions options = TransportRequestOptions.options().withType(TransportRequestOptions.Type.STATE).withCompress(false);, +                    options,, +            TransportRequestOptions options = TransportRequestOptions.options().withType(TransportRequestOptions.Type.STATE);, +                    options,, +++ b/core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java, +            if (sendingController.markAsFailed("unexpected error [" + t.getMessage() + "]")) {, +    private void sendFullClusterState(ClusterState clusterState, Map<Version, BytesReference> serializedStates,, +, +            // -> no need to put a timeout on the options here, because we want the response to eventually be received, +            // -> no need to compress, we already compressed the bytes, +            TransportRequestOptions options = TransportRequestOptions.options().withType(TransportRequestOptions.Type.STATE).withCompress(false);, +                    options,, +            TransportRequestOptions options = TransportRequestOptions.options().withType(TransportRequestOptions.Type.STATE);, +                    options,, +++ b/core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTest.java]