[+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java, +++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkAction.java, +        return TransportRequestOptions.builder().withType(TransportRequestOptions.Type.BULK).build();, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java, +++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkAction.java, +        return TransportRequestOptions.builder().withType(TransportRequestOptions.Type.BULK).build();, +++ b/server/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java, +++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkAction.java, +        return TransportRequestOptions.builder().withType(TransportRequestOptions.Type.BULK).build();, +++ b/server/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java, +++ b/server/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java, +++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkAction.java, +        return TransportRequestOptions.builder().withType(TransportRequestOptions.Type.BULK).build();, +++ b/server/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java, +++ b/server/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java, +++ b/server/src/main/java/org/elasticsearch/cluster/coordination/PublicationTransportHandler.java, +    // -> no need to put a timeout on the options here, because we want the response to eventually be received, +    //  and not log an error if it arrives after the timeout, +    private final TransportRequestOptions stateRequestOptions = TransportRequestOptions.builder(), +        .withType(TransportRequestOptions.Type.STATE).build();, +                transportService.sendRequest(destination, actionName, transportRequest, stateRequestOptions,, +            transportService.sendRequest(node, actionName, request, stateRequestOptions, transportResponseHandler);, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java, +++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkAction.java, +        return TransportRequestOptions.builder().withType(TransportRequestOptions.Type.BULK).build();, +++ b/server/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java, +++ b/server/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java, +++ b/server/src/main/java/org/elasticsearch/cluster/coordination/PublicationTransportHandler.java, +    // -> no need to put a timeout on the options here, because we want the response to eventually be received, +    //  and not log an error if it arrives after the timeout, +    private final TransportRequestOptions stateRequestOptions = TransportRequestOptions.builder(), +        .withType(TransportRequestOptions.Type.STATE).build();, +                transportService.sendRequest(destination, actionName, transportRequest, stateRequestOptions,, +            transportService.sendRequest(node, actionName, request, stateRequestOptions, transportResponseHandler);, +++ b/server/src/main/java/org/elasticsearch/discovery/zen/PublishClusterStateAction.java, +    // -> no need to put a timeout on the options, because we want the state response to eventually be received, +    //  and not log an error if it arrives after the timeout, +    private final TransportRequestOptions stateRequestOptions = TransportRequestOptions.builder(), +        .withType(TransportRequestOptions.Type.STATE).build();, +, +                    stateRequestOptions,, +                    stateRequestOptions,, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java, +++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkAction.java, +        return TransportRequestOptions.builder().withType(TransportRequestOptions.Type.BULK).build();, +++ b/server/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java, +++ b/server/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java, +++ b/server/src/main/java/org/elasticsearch/cluster/coordination/PublicationTransportHandler.java, +    // -> no need to put a timeout on the options here, because we want the response to eventually be received, +    //  and not log an error if it arrives after the timeout, +    private final TransportRequestOptions stateRequestOptions = TransportRequestOptions.builder(), +        .withType(TransportRequestOptions.Type.STATE).build();, +                transportService.sendRequest(destination, actionName, transportRequest, stateRequestOptions,, +            transportService.sendRequest(node, actionName, request, stateRequestOptions, transportResponseHandler);, +++ b/server/src/main/java/org/elasticsearch/discovery/zen/PublishClusterStateAction.java, +    // -> no need to put a timeout on the options, because we want the state response to eventually be received, +    //  and not log an error if it arrives after the timeout, +    private final TransportRequestOptions stateRequestOptions = TransportRequestOptions.builder(), +        .withType(TransportRequestOptions.Type.STATE).build();, +, +                    stateRequestOptions,, +                    stateRequestOptions,, +++ b/server/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java, +++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkAction.java, +        return TransportRequestOptions.builder().withType(TransportRequestOptions.Type.BULK).build();, +++ b/server/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java, +++ b/server/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java, +++ b/server/src/main/java/org/elasticsearch/cluster/coordination/PublicationTransportHandler.java, +    // -> no need to put a timeout on the options here, because we want the response to eventually be received, +    //  and not log an error if it arrives after the timeout, +    private final TransportRequestOptions stateRequestOptions = TransportRequestOptions.builder(), +        .withType(TransportRequestOptions.Type.STATE).build();, +                transportService.sendRequest(destination, actionName, transportRequest, stateRequestOptions,, +            transportService.sendRequest(node, actionName, request, stateRequestOptions, transportResponseHandler);, +++ b/server/src/main/java/org/elasticsearch/discovery/zen/PublishClusterStateAction.java, +    // -> no need to put a timeout on the options, because we want the state response to eventually be received, +    //  and not log an error if it arrives after the timeout, +    private final TransportRequestOptions stateRequestOptions = TransportRequestOptions.builder(), +        .withType(TransportRequestOptions.Type.STATE).build();, +, +                    stateRequestOptions,, +                    stateRequestOptions,, +++ b/server/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java, +++ b/server/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java, +++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java, +++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkAction.java]