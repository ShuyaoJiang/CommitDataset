[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/field/data/support/FieldDataLoader.java, +        int[] idx = new int[reader.maxDoc()];, +                    int[] ordinal;, +                    if (idx[doc] >= ordinals.size()) {, +                        ordinal = new int[reader.maxDoc()];, +                    } else {, +                        ordinal = ordinals.get(idx[doc]);, +                    ordinal[doc] = t;, +                    idx[doc]++;                    ]