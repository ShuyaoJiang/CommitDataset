[+++ b/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/UpgradeClusterClientYamlTestSuiteIT.java, +import org.elasticsearch.test.rest.ESRestTestCase;, +                // we increase the timeout here to 90 seconds to handle long waits for a green, +                // cluster health. the waits for green need to be longer than a minute to, +                // account for delayed shards, +                .put(ESRestTestCase.CLIENT_RETRY_TIMEOUT, "90s"), +                .put(ESRestTestCase.CLIENT_SOCKET_TIMEOUT, "90s"), +++ b/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/UpgradeClusterClientYamlTestSuiteIT.java, +import org.elasticsearch.test.rest.ESRestTestCase;, +                // we increase the timeout here to 90 seconds to handle long waits for a green, +                // cluster health. the waits for green need to be longer than a minute to, +                // account for delayed shards, +                .put(ESRestTestCase.CLIENT_RETRY_TIMEOUT, "90s"), +                .put(ESRestTestCase.CLIENT_SOCKET_TIMEOUT, "90s"), +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/10_basic.yml, +++ b/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/UpgradeClusterClientYamlTestSuiteIT.java, +import org.elasticsearch.test.rest.ESRestTestCase;, +                // we increase the timeout here to 90 seconds to handle long waits for a green, +                // cluster health. the waits for green need to be longer than a minute to, +                // account for delayed shards, +                .put(ESRestTestCase.CLIENT_RETRY_TIMEOUT, "90s"), +                .put(ESRestTestCase.CLIENT_SOCKET_TIMEOUT, "90s"), +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/10_basic.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/UpgradeClusterClientYamlTestSuiteIT.java, +import org.elasticsearch.test.rest.ESRestTestCase;, +                // we increase the timeout here to 90 seconds to handle long waits for a green, +                // cluster health. the waits for green need to be longer than a minute to, +                // account for delayed shards, +                .put(ESRestTestCase.CLIENT_RETRY_TIMEOUT, "90s"), +                .put(ESRestTestCase.CLIENT_SOCKET_TIMEOUT, "90s"), +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/10_basic.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_kibana_write.yml, +++ b/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/UpgradeClusterClientYamlTestSuiteIT.java, +import org.elasticsearch.test.rest.ESRestTestCase;, +                // we increase the timeout here to 90 seconds to handle long waits for a green, +                // cluster health. the waits for green need to be longer than a minute to, +                // account for delayed shards, +                .put(ESRestTestCase.CLIENT_RETRY_TIMEOUT, "90s"), +                .put(ESRestTestCase.CLIENT_SOCKET_TIMEOUT, "90s"), +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/10_basic.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_kibana_write.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_ml_jobs_crud.yml, +++ b/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/UpgradeClusterClientYamlTestSuiteIT.java, +import org.elasticsearch.test.rest.ESRestTestCase;, +                // we increase the timeout here to 90 seconds to handle long waits for a green, +                // cluster health. the waits for green need to be longer than a minute to, +                // account for delayed shards, +                .put(ESRestTestCase.CLIENT_RETRY_TIMEOUT, "90s"), +                .put(ESRestTestCase.CLIENT_SOCKET_TIMEOUT, "90s"), +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/10_basic.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_kibana_write.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_ml_jobs_crud.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/40_ml_datafeed_crud.yml, +++ b/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/UpgradeClusterClientYamlTestSuiteIT.java, +import org.elasticsearch.test.rest.ESRestTestCase;, +                // we increase the timeout here to 90 seconds to handle long waits for a green, +                // cluster health. the waits for green need to be longer than a minute to, +                // account for delayed shards, +                .put(ESRestTestCase.CLIENT_RETRY_TIMEOUT, "90s"), +                .put(ESRestTestCase.CLIENT_SOCKET_TIMEOUT, "90s"), +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/10_basic.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_kibana_write.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_ml_jobs_crud.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/40_ml_datafeed_crud.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/old_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/UpgradeClusterClientYamlTestSuiteIT.java, +import org.elasticsearch.test.rest.ESRestTestCase;, +                // we increase the timeout here to 90 seconds to handle long waits for a green, +                // cluster health. the waits for green need to be longer than a minute to, +                // account for delayed shards, +                .put(ESRestTestCase.CLIENT_RETRY_TIMEOUT, "90s"), +                .put(ESRestTestCase.CLIENT_SOCKET_TIMEOUT, "90s"), +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/10_basic.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_kibana_write.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_ml_jobs_crud.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/40_ml_datafeed_crud.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/old_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/upgraded_cluster/10_basic.yml, +        # wait for long enough that we give delayed unassigned shards to stop being delayed, +        timeout: 70s, +++ b/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/UpgradeClusterClientYamlTestSuiteIT.java, +import org.elasticsearch.test.rest.ESRestTestCase;, +                // we increase the timeout here to 90 seconds to handle long waits for a green, +                // cluster health. the waits for green need to be longer than a minute to, +                // account for delayed shards, +                .put(ESRestTestCase.CLIENT_RETRY_TIMEOUT, "90s"), +                .put(ESRestTestCase.CLIENT_SOCKET_TIMEOUT, "90s"), +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/10_basic.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_kibana_write.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/30_ml_jobs_crud.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/mixed_cluster/40_ml_datafeed_crud.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/old_cluster/20_security.yml, +++ b/qa/rolling-upgrade/src/test/resources/rest-api-spec/test/upgraded_cluster/10_basic.yml]