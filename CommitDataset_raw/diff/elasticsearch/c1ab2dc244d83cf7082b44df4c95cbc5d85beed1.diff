[+++ b/core/pom.xml, +            <groupId>org.codehaus.groovy</groupId>, +            <artifactId>groovy-all</artifactId>, +            <classifier>indy</classifier>, +            <optional>true</optional>, +        </dependency>, +        <dependency>, +++ b/core/pom.xml, +            <groupId>org.codehaus.groovy</groupId>, +            <artifactId>groovy-all</artifactId>, +            <classifier>indy</classifier>, +            <optional>true</optional>, +        </dependency>, +        <dependency>, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        GROOVY_SCRIPT_COMPILATION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptCompilationException.class, org.elasticsearch.script.groovy.GroovyScriptCompilationException::new, 95),, +        GROOVY_SCRIPT_EXECUTION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptExecutionException.class, org.elasticsearch.script.groovy.GroovyScriptExecutionException::new, 122),, +++ b/core/pom.xml, +            <groupId>org.codehaus.groovy</groupId>, +            <artifactId>groovy-all</artifactId>, +            <classifier>indy</classifier>, +            <optional>true</optional>, +        </dependency>, +        <dependency>, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        GROOVY_SCRIPT_COMPILATION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptCompilationException.class, org.elasticsearch.script.groovy.GroovyScriptCompilationException::new, 95),, +        GROOVY_SCRIPT_EXECUTION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptExecutionException.class, org.elasticsearch.script.groovy.GroovyScriptExecutionException::new, 122),, +++ b/core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java, +                injectionPoints = unmodifiableSet(new HashSet<>(e.getPartialValue()));, +            injectionPoints = unmodifiableSet(new HashSet<>(e.getPartialValue()));, +++ b/core/pom.xml, +            <groupId>org.codehaus.groovy</groupId>, +            <artifactId>groovy-all</artifactId>, +            <classifier>indy</classifier>, +            <optional>true</optional>, +        </dependency>, +        <dependency>, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        GROOVY_SCRIPT_COMPILATION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptCompilationException.class, org.elasticsearch.script.groovy.GroovyScriptCompilationException::new, 95),, +        GROOVY_SCRIPT_EXECUTION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptExecutionException.class, org.elasticsearch.script.groovy.GroovyScriptExecutionException::new, 122),, +++ b/core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java, +                injectionPoints = unmodifiableSet(new HashSet<>(e.getPartialValue()));, +            injectionPoints = unmodifiableSet(new HashSet<>(e.getPartialValue()));, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +++ b/core/pom.xml, +            <groupId>org.codehaus.groovy</groupId>, +            <artifactId>groovy-all</artifactId>, +            <classifier>indy</classifier>, +            <optional>true</optional>, +        </dependency>, +        <dependency>, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        GROOVY_SCRIPT_COMPILATION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptCompilationException.class, org.elasticsearch.script.groovy.GroovyScriptCompilationException::new, 95),, +        GROOVY_SCRIPT_EXECUTION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptExecutionException.class, org.elasticsearch.script.groovy.GroovyScriptExecutionException::new, 122),, +++ b/core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java, +                injectionPoints = unmodifiableSet(new HashSet<>(e.getPartialValue()));, +            injectionPoints = unmodifiableSet(new HashSet<>(e.getPartialValue()));, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +import org.elasticsearch.script.groovy.GroovyScriptEngineService;, +            Class.forName("groovy.lang.GroovyClassLoader");, +            multibinder.addBinding().to(GroovyScriptEngineService.class).asEagerSingleton();, +        } catch (Throwable t) {, +            Loggers.getLogger(ScriptService.class, settings).debug("failed to load groovy", t);, +        }, +        , +        try {, +++ b/core/pom.xml, +            <groupId>org.codehaus.groovy</groupId>, +            <artifactId>groovy-all</artifactId>, +            <classifier>indy</classifier>, +            <optional>true</optional>, +        </dependency>, +        <dependency>, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        GROOVY_SCRIPT_COMPILATION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptCompilationException.class, org.elasticsearch.script.groovy.GroovyScriptCompilationException::new, 95),, +        GROOVY_SCRIPT_EXECUTION_EXCEPTION(org.elasticsearch.script.groovy.GroovyScriptExecutionException.class, org.elasticsearch.script.groovy.GroovyScriptExecutionException::new, 122),, +++ b/core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java, +                injectionPoints = unmodifiableSet(new HashSet<>(e.getPartialValue()));, +            injectionPoints = unmodifiableSet(new HashSet<>(e.getPartialValue()));, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManager.java, +++ b/core/src/main/java/org/elasticsearch/script/ScriptModule.java, +import org.elasticsearch.script.groovy.GroovyScriptEngineService;, +            Class.forName("groovy.lang.GroovyClassLoader");, +            multibinder.addBinding().to(GroovyScriptEngineService.class).asEagerSingleton();, +        } catch (Throwable t) {, +            Loggers.getLogger(ScriptService.class, settings).debug("failed to load groovy", t);, +        }, +        , +        try {, +++ b/core/src/main/java/org/elasticsearch/script/ScriptService.java, +import org.elasticsearch.script.groovy.GroovyScriptEngineService;, +    public static final String DEFAULT_LANG = GroovyScriptEngineService.NAME;, +++ b/core/pom.xml, +            <groupId>org.codehaus.groovy</groupId>, +            <artifactId>groovy-all</artifactId>, +            <classifier>indy</classifier>, +            <optional>true</optional>, +        </dependency>, +        <dependency>]