[+++ b/server/src/main/java/org/elasticsearch/common/bytes/BytesReference.java, +public abstract class BytesReference implements Comparable<BytesReference>, ToXContentFragment {, +     * The amount of memory used by this BytesReference, +     */, +    public abstract long ramBytesUsed();, +, +    /**, +++ b/server/src/main/java/org/elasticsearch/common/bytes/BytesReference.java, +public abstract class BytesReference implements Comparable<BytesReference>, ToXContentFragment {, +     * The amount of memory used by this BytesReference, +     */, +    public abstract long ramBytesUsed();, +, +    /**, +++ b/server/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java, +import org.elasticsearch.common.bytes.BytesReference;, +    public void onCached(Accountable key, BytesReference value) {, +    public void onRemoval(Accountable key, BytesReference value, boolean evicted) {, +++ b/server/src/main/java/org/elasticsearch/common/bytes/BytesReference.java, +public abstract class BytesReference implements Comparable<BytesReference>, ToXContentFragment {, +     * The amount of memory used by this BytesReference, +     */, +    public abstract long ramBytesUsed();, +, +    /**, +++ b/server/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java, +import org.elasticsearch.common.bytes.BytesReference;, +    public void onCached(Accountable key, BytesReference value) {, +    public void onRemoval(Accountable key, BytesReference value, boolean evicted) {, +++ b/server/src/test/java/org/elasticsearch/indices/IndicesRequestCacheTests.java]