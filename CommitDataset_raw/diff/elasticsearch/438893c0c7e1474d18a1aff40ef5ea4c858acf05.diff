[+++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankEvalPlugin.java, +import org.elasticsearch.common.io.stream.NamedWriteable;, +import org.elasticsearch.common.io.stream.NamedWriteableRegistry;, +import java.util.ArrayList;, +, +    /**, +     * Returns parsers for {@link NamedWriteable} this plugin will use over the transport protocol., +     * @see NamedWriteableRegistry, +     */, +    @Override, +    public List<NamedWriteableRegistry.Entry> getNamedWriteables() {, +        List<NamedWriteableRegistry.Entry> metrics = new ArrayList<>();, +        metrics.add(new NamedWriteableRegistry.Entry(RankedListQualityMetric.class, PrecisionAtN.NAME, PrecisionAtN::new));, +        metrics.add(new NamedWriteableRegistry.Entry(RankedListQualityMetric.class, ReciprocalRank.NAME, ReciprocalRank::new));, +        return metrics;, +    }, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankEvalPlugin.java, +import org.elasticsearch.common.io.stream.NamedWriteable;, +import org.elasticsearch.common.io.stream.NamedWriteableRegistry;, +import java.util.ArrayList;, +, +    /**, +     * Returns parsers for {@link NamedWriteable} this plugin will use over the transport protocol., +     * @see NamedWriteableRegistry, +     */, +    @Override, +    public List<NamedWriteableRegistry.Entry> getNamedWriteables() {, +        List<NamedWriteableRegistry.Entry> metrics = new ArrayList<>();, +        metrics.add(new NamedWriteableRegistry.Entry(RankedListQualityMetric.class, PrecisionAtN.NAME, PrecisionAtN::new));, +        metrics.add(new NamedWriteableRegistry.Entry(RankedListQualityMetric.class, ReciprocalRank.NAME, ReciprocalRank::new));, +        return metrics;, +    }, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/TransportRankEvalAction.java, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankEvalPlugin.java, +import org.elasticsearch.common.io.stream.NamedWriteable;, +import org.elasticsearch.common.io.stream.NamedWriteableRegistry;, +import java.util.ArrayList;, +, +    /**, +     * Returns parsers for {@link NamedWriteable} this plugin will use over the transport protocol., +     * @see NamedWriteableRegistry, +     */, +    @Override, +    public List<NamedWriteableRegistry.Entry> getNamedWriteables() {, +        List<NamedWriteableRegistry.Entry> metrics = new ArrayList<>();, +        metrics.add(new NamedWriteableRegistry.Entry(RankedListQualityMetric.class, PrecisionAtN.NAME, PrecisionAtN::new));, +        metrics.add(new NamedWriteableRegistry.Entry(RankedListQualityMetric.class, ReciprocalRank.NAME, ReciprocalRank::new));, +        return metrics;, +    }, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/TransportRankEvalAction.java, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/QuerySpecTests.java, +        searchModule = new SearchModule(Settings.EMPTY, false, emptyList());]