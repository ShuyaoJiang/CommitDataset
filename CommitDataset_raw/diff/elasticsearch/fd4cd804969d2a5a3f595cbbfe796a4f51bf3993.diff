[+++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/MigrationClient.java, +import org.elasticsearch.action.ActionListener;, +import org.elasticsearch.client.tasks.TaskSubmissionResponse;, +import org.elasticsearch.index.reindex.BulkByScrollResponse;, +import org.elasticsearch.client.migration.IndexUpgradeRequest;, +, +, +    public BulkByScrollResponse upgrade(IndexUpgradeRequest request, RequestOptions options) throws IOException {, +        return restHighLevelClient.performRequestAndParseEntity(request, MigrationRequestConverters::migrate, options,, +            BulkByScrollResponse::fromXContent, Collections.emptySet());, +    }, +, +    public TaskSubmissionResponse submitUpgradeTask(IndexUpgradeRequest request, RequestOptions options) throws IOException {, +        return restHighLevelClient.performRequestAndParseEntity(request, MigrationRequestConverters::submitMigrateTask, options,, +            TaskSubmissionResponse::fromXContent, Collections.emptySet());, +    }, +, +    public void upgradeAsync(IndexUpgradeRequest request, RequestOptions options, ActionListener<BulkByScrollResponse> listener)  {, +        restHighLevelClient.performRequestAsyncAndParseEntity(request, MigrationRequestConverters::migrate, options,, +            BulkByScrollResponse::fromXContent, listener, Collections.emptySet());, +    }, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/MigrationClient.java, +import org.elasticsearch.action.ActionListener;, +import org.elasticsearch.client.tasks.TaskSubmissionResponse;, +import org.elasticsearch.index.reindex.BulkByScrollResponse;, +import org.elasticsearch.client.migration.IndexUpgradeRequest;, +, +, +    public BulkByScrollResponse upgrade(IndexUpgradeRequest request, RequestOptions options) throws IOException {, +        return restHighLevelClient.performRequestAndParseEntity(request, MigrationRequestConverters::migrate, options,, +            BulkByScrollResponse::fromXContent, Collections.emptySet());, +    }, +, +    public TaskSubmissionResponse submitUpgradeTask(IndexUpgradeRequest request, RequestOptions options) throws IOException {, +        return restHighLevelClient.performRequestAndParseEntity(request, MigrationRequestConverters::submitMigrateTask, options,, +            TaskSubmissionResponse::fromXContent, Collections.emptySet());, +    }, +, +    public void upgradeAsync(IndexUpgradeRequest request, RequestOptions options, ActionListener<BulkByScrollResponse> listener)  {, +        restHighLevelClient.performRequestAsyncAndParseEntity(request, MigrationRequestConverters::migrate, options,, +            BulkByScrollResponse::fromXContent, listener, Collections.emptySet());, +    }, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/MigrationRequestConverters.java, +import org.apache.http.client.methods.HttpPost;, +import org.elasticsearch.client.migration.IndexUpgradeRequest;, +    private MigrationRequestConverters() {, +    }, +, +    static Request migrate(IndexUpgradeRequest indexUpgradeRequest) {, +        return prepareMigrateRequest(indexUpgradeRequest, true);, +    }, +, +    static Request submitMigrateTask(IndexUpgradeRequest indexUpgradeRequest) {, +        return prepareMigrateRequest(indexUpgradeRequest, false);, +    }, +, +    private static Request prepareMigrateRequest(IndexUpgradeRequest indexUpgradeRequest, boolean waitForCompletion) {, +        String endpoint = new RequestConverters.EndpointBuilder(), +            .addPathPartAsIs("_xpack", "migration", "upgrade"), +            .addPathPart(indexUpgradeRequest.index()), +            .build();, +, +        Request request = new Request(HttpPost.METHOD_NAME, endpoint);, +, +        RequestConverters.Params params = new RequestConverters.Params(request), +            .withWaitForCompletion(waitForCompletion);, +, +        return request;, +    }, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/MigrationClient.java, +import org.elasticsearch.action.ActionListener;, +import org.elasticsearch.client.tasks.TaskSubmissionResponse;, +import org.elasticsearch.index.reindex.BulkByScrollResponse;, +import org.elasticsearch.client.migration.IndexUpgradeRequest;, +, +, +    public BulkByScrollResponse upgrade(IndexUpgradeRequest request, RequestOptions options) throws IOException {, +        return restHighLevelClient.performRequestAndParseEntity(request, MigrationRequestConverters::migrate, options,, +            BulkByScrollResponse::fromXContent, Collections.emptySet());, +    }, +, +    public TaskSubmissionResponse submitUpgradeTask(IndexUpgradeRequest request, RequestOptions options) throws IOException {, +        return restHighLevelClient.performRequestAndParseEntity(request, MigrationRequestConverters::submitMigrateTask, options,, +            TaskSubmissionResponse::fromXContent, Collections.emptySet());, +    }, +, +    public void upgradeAsync(IndexUpgradeRequest request, RequestOptions options, ActionListener<BulkByScrollResponse> listener)  {, +        restHighLevelClient.performRequestAsyncAndParseEntity(request, MigrationRequestConverters::migrate, options,, +            BulkByScrollResponse::fromXContent, listener, Collections.emptySet());, +    }, +++ b/client/rest-high-level/src/main/java/org/elasticsearch/client/MigrationRequestConverters.java, +import org.apache.http.client.methods.HttpPost;, +import org.elasticsearch.client.migration.IndexUpgradeRequest;, +    private MigrationRequestConverters() {, +    }, +, +    static Request migrate(IndexUpgradeRequest indexUpgradeRequest) {, +        return prepareMigrateRequest(indexUpgradeRequest, true);, +    }, +]