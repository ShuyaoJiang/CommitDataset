[+++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAt.java, +public class DiscountedCumulativeGainAt extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAt.java, +public class DiscountedCumulativeGainAt extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/PrecisionAtN.java, +public class PrecisionAtN extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAt.java, +public class DiscountedCumulativeGainAt extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/PrecisionAtN.java, +public class PrecisionAtN extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankEvalSpec.java, +    private RankedListQualityMetric metric;, +    public RankEvalSpec(String specId, Collection<RatedRequest> specs, RankedListQualityMetric metric) {, +    public void setEval(RankedListQualityMetric eval) {, +    public RankedListQualityMetric getEvaluator() {, +    public void setEvaluator(RankedListQualityMetric config) {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAt.java, +public class DiscountedCumulativeGainAt extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/PrecisionAtN.java, +public class PrecisionAtN extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankEvalSpec.java, +    private RankedListQualityMetric metric;, +    public RankEvalSpec(String specId, Collection<RatedRequest> specs, RankedListQualityMetric metric) {, +    public void setEval(RankedListQualityMetric eval) {, +    public RankedListQualityMetric getEvaluator() {, +    public void setEvaluator(RankedListQualityMetric config) {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankedListQualityMetric.java, +public abstract class RankedListQualityMetric extends ToXContentToBytes implements NamedWriteable {, +    public static RankedListQualityMetric fromXContent(XContentParser parser, ParseFieldMatcherSupplier context) throws IOException {, +        RankedListQualityMetric rc;, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAt.java, +public class DiscountedCumulativeGainAt extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/PrecisionAtN.java, +public class PrecisionAtN extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankEvalSpec.java, +    private RankedListQualityMetric metric;, +    public RankEvalSpec(String specId, Collection<RatedRequest> specs, RankedListQualityMetric metric) {, +    public void setEval(RankedListQualityMetric eval) {, +    public RankedListQualityMetric getEvaluator() {, +    public void setEvaluator(RankedListQualityMetric config) {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankedListQualityMetric.java, +public abstract class RankedListQualityMetric extends ToXContentToBytes implements NamedWriteable {, +    public static RankedListQualityMetric fromXContent(XContentParser parser, ParseFieldMatcherSupplier context) throws IOException {, +        RankedListQualityMetric rc;, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/ReciprocalRank.java, +public class ReciprocalRank extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAt.java, +public class DiscountedCumulativeGainAt extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/PrecisionAtN.java, +public class PrecisionAtN extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankEvalSpec.java, +    private RankedListQualityMetric metric;, +    public RankEvalSpec(String specId, Collection<RatedRequest> specs, RankedListQualityMetric metric) {, +    public void setEval(RankedListQualityMetric eval) {, +    public RankedListQualityMetric getEvaluator() {, +    public void setEvaluator(RankedListQualityMetric config) {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankedListQualityMetric.java, +public abstract class RankedListQualityMetric extends ToXContentToBytes implements NamedWriteable {, +    public static RankedListQualityMetric fromXContent(XContentParser parser, ParseFieldMatcherSupplier context) throws IOException {, +        RankedListQualityMetric rc;, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/ReciprocalRank.java, +public class ReciprocalRank extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAtTests.java, +        DiscountedCumulativeGainAt parsedItem = DiscountedCumulativeGainAt.fromXContent(itemParser, () -> ParseFieldMatcher.STRICT);, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAt.java, +public class DiscountedCumulativeGainAt extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/PrecisionAtN.java, +public class PrecisionAtN extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankEvalSpec.java, +    private RankedListQualityMetric metric;, +    public RankEvalSpec(String specId, Collection<RatedRequest> specs, RankedListQualityMetric metric) {, +    public void setEval(RankedListQualityMetric eval) {, +    public RankedListQualityMetric getEvaluator() {, +    public void setEvaluator(RankedListQualityMetric config) {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankedListQualityMetric.java, +public abstract class RankedListQualityMetric extends ToXContentToBytes implements NamedWriteable {, +    public static RankedListQualityMetric fromXContent(XContentParser parser, ParseFieldMatcherSupplier context) throws IOException {, +        RankedListQualityMetric rc;, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/ReciprocalRank.java, +public class ReciprocalRank extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAtTests.java, +        DiscountedCumulativeGainAt parsedItem = DiscountedCumulativeGainAt.fromXContent(itemParser, () -> ParseFieldMatcher.STRICT);, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/PrecisionAtNTests.java, +        PrecisionAtN parsedItem = PrecisionAtN.fromXContent(itemParser, () -> ParseFieldMatcher.STRICT);, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainAt.java, +public class DiscountedCumulativeGainAt extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/PrecisionAtN.java, +public class PrecisionAtN extends RankedListQualityMetric {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankEvalSpec.java, +    private RankedListQualityMetric metric;, +    public RankEvalSpec(String specId, Collection<RatedRequest> specs, RankedListQualityMetric metric) {, +    public void setEval(RankedListQualityMetric eval) {, +    public RankedListQualityMetric getEvaluator() {, +    public void setEvaluator(RankedListQualityMetric config) {, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/RankedListQualityMetric.java, +public abstract class RankedListQualityMetric extends ToXContentToBytes implements NamedWriteable {, +    public static RankedListQualityMetric fromXContent(XContentParser parser, ParseFieldMatcherSupplier context) throws IOException {, +        RankedListQualityMetric rc;, +++ b/modules/rank-eval/src/main/java/org/elasticsearch/index/rankeval/ReciprocalRank.java, +public class ReciprocalRank extends RankedListQualityMetric {]