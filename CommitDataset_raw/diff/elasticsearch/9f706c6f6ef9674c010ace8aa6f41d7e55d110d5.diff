[+++ b/src/main/java/org/elasticsearch/index/field/data/support/FieldDataLoader.java, +            // bulk read (in lucene 4 it won't be needed)., +            int size = Math.min(128, reader.maxDoc());, +            int[] docs = new int[size];, +            int[] freqs = new int[size];, +, +                int number = termDocs.read(docs, freqs);, +                while (number > 0) {, +                    for (int i = 0; i < number; i++) {, +                        int doc = docs[i];, +                    number = termDocs.read(docs, freqs);, +                }]