[+++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkDoc.java, +        if (in.getVersion().before(Version.V_6_0_0_rc1)) {, +            in.readOptionalString(); // Monitoring version, removed in 6.0 rc1, +            in.readOptionalString(); // Cluster UUID, removed in 6.0 rc1, +        if (in.getVersion().before(Version.V_6_0_0_rc1)) {, +            in.readOptionalWriteable(MonitoringDoc.Node::new);// Source node, removed in 6.0 rc1, +            MonitoringIndex.readFrom(in);// Monitoring index, removed in 6.0 rc1, +        if (in.getVersion().onOrAfter(Version.V_6_0_0_rc1)) {, +        if (out.getVersion().before(Version.V_6_0_0_rc1)) {, +        if (out.getVersion().before(Version.V_6_0_0_rc1)) {, +        if (out.getVersion().onOrAfter(Version.V_6_0_0_rc1)) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkDoc.java, +        if (in.getVersion().before(Version.V_6_0_0_rc1)) {, +            in.readOptionalString(); // Monitoring version, removed in 6.0 rc1, +            in.readOptionalString(); // Cluster UUID, removed in 6.0 rc1, +        if (in.getVersion().before(Version.V_6_0_0_rc1)) {, +            in.readOptionalWriteable(MonitoringDoc.Node::new);// Source node, removed in 6.0 rc1, +            MonitoringIndex.readFrom(in);// Monitoring index, removed in 6.0 rc1, +        if (in.getVersion().onOrAfter(Version.V_6_0_0_rc1)) {, +        if (out.getVersion().before(Version.V_6_0_0_rc1)) {, +        if (out.getVersion().before(Version.V_6_0_0_rc1)) {, +        if (out.getVersion().onOrAfter(Version.V_6_0_0_rc1)) {, +++ b/plugin/src/test/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequestTests.java, +        final Version version = randomVersionBetween(random(), Version.V_5_0_0, Version.V_6_0_0_rc1);, +            if (version.onOrAfter(Version.V_6_0_0_rc1)) {]