[+++ b/docs/build.gradle, +++ b/docs/build.gradle, +++ b/docs/reference/aggregations/bucket/missing-aggregation.asciidoc, +POST /sales/_search?size=0, +// CONSOLE, +// TEST[setup:sales], +    "aggregations" : {, +            "doc_count" : 00, +// TESTRESPONSE[s/\.\.\./"took": $body.took,"timed_out": false,"_shards": $body._shards,"hits": $body.hits,/], +++ b/docs/build.gradle, +++ b/docs/reference/aggregations/bucket/missing-aggregation.asciidoc, +POST /sales/_search?size=0, +// CONSOLE, +// TEST[setup:sales], +    "aggregations" : {, +            "doc_count" : 00, +// TESTRESPONSE[s/\.\.\./"took": $body.took,"timed_out": false,"_shards": $body._shards,"hits": $body.hits,/], +++ b/docs/reference/aggregations/metrics/cardinality-aggregation.asciidoc, +POST /sales/_search?size=0, +        "type_count" : {, +                "field" : "type", +// CONSOLE, +// TEST[setup:sales], +, +Response:, +, +[source,js], +--------------------------------------------------, +{, +    ..., +    "aggregations" : {, +        "type_count" : {, +            "value" : 3, +        }, +    }, +}, +--------------------------------------------------, +// TESTRESPONSE[s/\.\.\./"took": $body.took,"timed_out": false,"_shards": $body._shards,"hits": $body.hits,/], +POST /sales/_search?size=0, +        "type_count" : {, +                "field" : "type",, +// CONSOLE, +// TEST[setup:sales], +POST /sales/_search?size=0, +        "type_promoted_count" : {, +                    "inline": "doc['type'].value + ' ' + doc['promoted'].value", +// CONSOLE, +// TEST[setup:sales], +POST /sales/_search?size=0, +        "type_promoted_count" : {, +                        "type_field": "type",, +                        "promoted_field": "promoted", +// CONSOLE, +// TEST[skip:no script], +POST /sales/_search?size=0, +// CONSOLE, +// TEST[setup:sales]]