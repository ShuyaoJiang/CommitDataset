[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                    if (esConfig.containsKey("discovery.seed_providers") == false) {, +                        esConfig["discovery.seed_providers"] = 'file', +                    esConfig["discovery.seed_hosts"] = [], +                if (esConfig['discovery.type'] == null && config.getAutoSetInitialMasterNodes()) {, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                    if (esConfig.containsKey("discovery.seed_providers") == false) {, +                        esConfig["discovery.seed_providers"] = 'file', +                    esConfig["discovery.seed_hosts"] = [], +                if (esConfig['discovery.type'] == null && config.getAutoSetInitialMasterNodes()) {, +++ b/docs/plugins/integrations.asciidoc, +  Protocol dissection for HTTP and the transport protocol, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                    if (esConfig.containsKey("discovery.seed_providers") == false) {, +                        esConfig["discovery.seed_providers"] = 'file', +                    esConfig["discovery.seed_hosts"] = [], +                if (esConfig['discovery.type'] == null && config.getAutoSetInitialMasterNodes()) {, +++ b/docs/plugins/integrations.asciidoc, +  Protocol dissection for HTTP and the transport protocol, +++ b/docs/reference/getting-started.asciidoc, +[2018-09-13T12:20:08,355][INFO ][o.e.c.s.MasterService    ] [localhost.localdomain] elected-as-master ([0] nodes joined)[, ], reason: master node changed {previous [], current [{localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test}]}, +[2018-09-13T12:20:08,360][INFO ][o.e.c.s.ClusterApplierService] [localhost.localdomain] master node changed {previous [], current [{localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test}]}, reason: apply cluster state (from master [master {localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test} committed version [1] source [elected-as-master ([0] nodes joined)[, ]]]), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                    if (esConfig.containsKey("discovery.seed_providers") == false) {, +                        esConfig["discovery.seed_providers"] = 'file', +                    esConfig["discovery.seed_hosts"] = [], +                if (esConfig['discovery.type'] == null && config.getAutoSetInitialMasterNodes()) {, +++ b/docs/plugins/integrations.asciidoc, +  Protocol dissection for HTTP and the transport protocol, +++ b/docs/reference/getting-started.asciidoc, +[2018-09-13T12:20:08,355][INFO ][o.e.c.s.MasterService    ] [localhost.localdomain] elected-as-master ([0] nodes joined)[, ], reason: master node changed {previous [], current [{localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test}]}, +[2018-09-13T12:20:08,360][INFO ][o.e.c.s.ClusterApplierService] [localhost.localdomain] master node changed {previous [], current [{localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test}]}, reason: apply cluster state (from master [master {localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test} committed version [1] source [elected-as-master ([0] nodes joined)[, ]]]), +++ b/docs/reference/migration/migrate_8_0.asciidoc, +* <<breaking_80_discovery_changes>>, +include::migrate_8_0/discovery.asciidoc[], +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                    if (esConfig.containsKey("discovery.seed_providers") == false) {, +                        esConfig["discovery.seed_providers"] = 'file', +                    esConfig["discovery.seed_hosts"] = [], +                if (esConfig['discovery.type'] == null && config.getAutoSetInitialMasterNodes()) {, +++ b/docs/plugins/integrations.asciidoc, +  Protocol dissection for HTTP and the transport protocol, +++ b/docs/reference/getting-started.asciidoc, +[2018-09-13T12:20:08,355][INFO ][o.e.c.s.MasterService    ] [localhost.localdomain] elected-as-master ([0] nodes joined)[, ], reason: master node changed {previous [], current [{localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test}]}, +[2018-09-13T12:20:08,360][INFO ][o.e.c.s.ClusterApplierService] [localhost.localdomain] master node changed {previous [], current [{localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test}]}, reason: apply cluster state (from master [master {localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test} committed version [1] source [elected-as-master ([0] nodes joined)[, ]]]), +++ b/docs/reference/migration/migrate_8_0.asciidoc, +* <<breaking_80_discovery_changes>>, +include::migrate_8_0/discovery.asciidoc[], +++ b/docs/reference/migration/migrate_8_0/discovery.asciidoc, +[float], +[[breaking_80_discovery_changes]], +=== Discovery changes, +, +[float], +==== Removal of old discovery settings, +, +All settings under the `discovery.zen` namespace, which existed only for BWC reasons in 7.x,, +will no longer be supported. In particular, this includes:, +, +- `discovery.zen.no_master_block`, +- `discovery.zen.hosts_provider`, +- `discovery.zen.publish_timeout`, +- `discovery.zen.commit_timeout`, +- `discovery.zen.publish_diff.enable`, +- `discovery.zen.ping.unicast.concurrent_connects`, +- `discovery.zen.ping.unicast.hosts.resolve_timeout`, +- `discovery.zen.ping.unicast.hosts`, +- `discovery.zen.unsafe_rolling_upgrades_enabled`, +- `discovery.zen.commit_timeout`, +- `discovery.zen.fd.connect_on_network_disconnect`, +- `discovery.zen.fd.ping_interval`, +- `discovery.zen.fd.ping_timeout`, +- `discovery.zen.fd.ping_retries`, +- `discovery.zen.fd.register_connection_listener`, +- `discovery.zen.join_retry_attempts`, +- `discovery.zen.join_retry_delay`, +- `discovery.zen.max_pings_from_another_master`, +- `discovery.zen.send_leave_request`, +- `discovery.zen.master_election.wait_for_joins_timeout`, +- `discovery.zen.master_election.ignore_non_master_pings`, +- `discovery.zen.publish.max_pending_cluster_states`, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterConfiguration.groovy, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                    if (esConfig.containsKey("discovery.seed_providers") == false) {, +                        esConfig["discovery.seed_providers"] = 'file', +                    esConfig["discovery.seed_hosts"] = [], +                if (esConfig['discovery.type'] == null && config.getAutoSetInitialMasterNodes()) {, +++ b/docs/plugins/integrations.asciidoc, +  Protocol dissection for HTTP and the transport protocol, +++ b/docs/reference/getting-started.asciidoc, +[2018-09-13T12:20:08,355][INFO ][o.e.c.s.MasterService    ] [localhost.localdomain] elected-as-master ([0] nodes joined)[, ], reason: master node changed {previous [], current [{localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test}]}, +[2018-09-13T12:20:08,360][INFO ][o.e.c.s.ClusterApplierService] [localhost.localdomain] master node changed {previous [], current [{localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test}]}, reason: apply cluster state (from master [master {localhost.localdomain}{B0aEHNagTiWx7SYj-l4NTw}{hzsQz6CVQMCTpMCVLM4IHg}{127.0.0.1}{127.0.0.1:9300}{testattr=test} committed version [1] source [elected-as-master ([0] nodes joined)[, ]]]), +++ b/docs/reference/migration/migrate_8_0.asciidoc, +* <<breaking_80_discovery_changes>>]