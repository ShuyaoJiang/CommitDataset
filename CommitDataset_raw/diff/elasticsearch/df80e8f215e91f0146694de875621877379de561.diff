[+++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +                    .put(NetworkService.NETWORK_SERVER.getKey(), false), +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +                    .put(NetworkService.NETWORK_SERVER.getKey(), false), +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +    public static final Setting<Boolean> NETWORK_SERVER = Setting.boolSetting("network.server", true, false, Setting.Scope.CLUSTER);, +        if (publishHosts == null || publishHosts.length == 0) {, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +                    .put(NetworkService.NETWORK_SERVER.getKey(), false), +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +    public static final Setting<Boolean> NETWORK_SERVER = Setting.boolSetting("network.server", true, false, Setting.Scope.CLUSTER);, +        if (publishHosts == null || publishHosts.length == 0) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    TransportSettings.HOST,, +                    TransportSettings.PUBLISH_HOST,, +                    TransportSettings.BIND_HOST,, +                    TransportSettings.PUBLISH_PORT,, +                    NetworkService.NETWORK_SERVER,, +                    NettyTransport.TCP_NO_DELAY,, +                    NettyTransport.TCP_KEEP_ALIVE,, +                    NettyTransport.TCP_REUSE_ADDRESS,, +                    NettyTransport.TCP_SEND_BUFFER_SIZE,, +                    NettyTransport.TCP_RECEIVE_BUFFER_SIZE,, +                    NettyTransport.TCP_BLOCKING_SERVER,, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +                    .put(NetworkService.NETWORK_SERVER.getKey(), false), +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +    public static final Setting<Boolean> NETWORK_SERVER = Setting.boolSetting("network.server", true, false, Setting.Scope.CLUSTER);, +        if (publishHosts == null || publishHosts.length == 0) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    TransportSettings.HOST,, +                    TransportSettings.PUBLISH_HOST,, +                    TransportSettings.BIND_HOST,, +                    TransportSettings.PUBLISH_PORT,, +                    NetworkService.NETWORK_SERVER,, +                    NettyTransport.TCP_NO_DELAY,, +                    NettyTransport.TCP_KEEP_ALIVE,, +                    NettyTransport.TCP_REUSE_ADDRESS,, +                    NettyTransport.TCP_SEND_BUFFER_SIZE,, +                    NettyTransport.TCP_RECEIVE_BUFFER_SIZE,, +                    NettyTransport.TCP_BLOCKING_SERVER,, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +, +        /**, +         * Sets the setting with the provided setting key and an array of values., +         *, +         * @param setting The setting key, +         * @param values  The values, +         * @return The builder, +         */, +            return putArray(setting, Arrays.asList(values));, +        }, +, +        /**, +         * Sets the setting with the provided setting key and a list of values., +         *, +         * @param setting The setting key, +         * @param values  The values, +         * @return The builder, +         */, +        public Builder putArray(String setting, List<String> values) {, +            for (int i = 0; i < values.size(); i++) {, +                put(setting + "." + i, values.get(i));, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +                    .put(NetworkService.NETWORK_SERVER.getKey(), false), +++ b/core/src/main/java/org/elasticsearch/common/network/NetworkService.java, +    public static final Setting<Boolean> NETWORK_SERVER = Setting.boolSetting("network.server", true, false, Setting.Scope.CLUSTER);, +        if (publishHosts == null || publishHosts.length == 0) {, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +                    TransportSettings.HOST,, +                    TransportSettings.PUBLISH_HOST,, +                    TransportSettings.BIND_HOST,, +                    TransportSettings.PUBLISH_PORT,, +                    NetworkService.NETWORK_SERVER,, +                    NettyTransport.TCP_NO_DELAY,, +                    NettyTransport.TCP_KEEP_ALIVE,, +                    NettyTransport.TCP_REUSE_ADDRESS,, +                    NettyTransport.TCP_SEND_BUFFER_SIZE,, +                    NettyTransport.TCP_RECEIVE_BUFFER_SIZE,, +                    NettyTransport.TCP_BLOCKING_SERVER,, +++ b/core/src/main/java/org/elasticsearch/common/settings/Settings.java, +, +        /**, +         * Sets the setting with the provided setting key and an array of values., +         *, +         * @param setting The setting key, +         * @param values  The values, +         * @return The builder, +         */, +            return putArray(setting, Arrays.asList(values));, +        }, +, +        /**, +         * Sets the setting with the provided setting key and a list of values., +         *, +         * @param setting The setting key, +         * @param values  The values, +         * @return The builder, +         */, +        public Builder putArray(String setting, List<String> values) {]