[+++ b/core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java, +        ClusterHealthStatus status = client().admin().cluster().prepareHealth("test").get().getStatus();;, +            // first, verify that search normal search works, +            SearchResponse searchResponse = client().prepareSearch("test").setQuery(QueryBuilders.termQuery("field", "test")).execute().actionGet();, +            searchResponse = client.prepareSearch("test").setPreference(preference + Integer.toString(counter++)).setQuery(QueryBuilders.termQuery("field", "test")).execute().actionGet();]