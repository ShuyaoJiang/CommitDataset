[+++ b/core/src/main/java/org/elasticsearch/cluster/ClusterState.java, +, +import org.elasticsearch.cluster.routing.IndexRoutingTable;, +import org.elasticsearch.cluster.routing.IndexShardRoutingTable;, +import org.elasticsearch.cluster.routing.RoutingNode;, +import org.elasticsearch.cluster.routing.RoutingNodes;, +import org.elasticsearch.cluster.routing.RoutingTable;, +import org.elasticsearch.cluster.routing.ShardRouting;, +import java.util.EnumSet;, +import java.util.HashMap;, +import java.util.Locale;, +import java.util.Map;, +import java.util.Set;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterState.java, +, +import org.elasticsearch.cluster.routing.IndexRoutingTable;, +import org.elasticsearch.cluster.routing.IndexShardRoutingTable;, +import org.elasticsearch.cluster.routing.RoutingNode;, +import org.elasticsearch.cluster.routing.RoutingNodes;, +import org.elasticsearch.cluster.routing.RoutingTable;, +import org.elasticsearch.cluster.routing.ShardRouting;, +import java.util.EnumSet;, +import java.util.HashMap;, +import java.util.Locale;, +import java.util.Map;, +import java.util.Set;, +++ b/core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java, +import org.elasticsearch.common.inject.internal.BindingImpl;, +import org.elasticsearch.common.inject.internal.Errors;, +import org.elasticsearch.common.inject.internal.ErrorsException;, +import org.elasticsearch.common.inject.internal.InternalContext;, +import org.elasticsearch.common.inject.internal.InternalFactory;, +import org.elasticsearch.common.inject.internal.Scoping;, +import org.elasticsearch.common.inject.internal.ToStringBuilder;, +import java.util.HashSet;, +        Set<InjectionPoint> dependencies = new HashSet<>();, +        dependencies.add(getConstructor());, +        dependencies.addAll(getInjectableMembers());, +        return Dependency.forInjectionPoints(dependencies);, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterState.java, +, +import org.elasticsearch.cluster.routing.IndexRoutingTable;, +import org.elasticsearch.cluster.routing.IndexShardRoutingTable;, +import org.elasticsearch.cluster.routing.RoutingNode;, +import org.elasticsearch.cluster.routing.RoutingNodes;, +import org.elasticsearch.cluster.routing.RoutingTable;, +import org.elasticsearch.cluster.routing.ShardRouting;, +import java.util.EnumSet;, +import java.util.HashMap;, +import java.util.Locale;, +import java.util.Map;, +import java.util.Set;, +++ b/core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java, +import org.elasticsearch.common.inject.internal.BindingImpl;, +import org.elasticsearch.common.inject.internal.Errors;, +import org.elasticsearch.common.inject.internal.ErrorsException;, +import org.elasticsearch.common.inject.internal.InternalContext;, +import org.elasticsearch.common.inject.internal.InternalFactory;, +import org.elasticsearch.common.inject.internal.Scoping;, +import org.elasticsearch.common.inject.internal.ToStringBuilder;, +import java.util.HashSet;, +        Set<InjectionPoint> dependencies = new HashSet<>();, +        dependencies.add(getConstructor());, +        dependencies.addAll(getInjectableMembers());, +        return Dependency.forInjectionPoints(dependencies);, +++ b/core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java, +import org.elasticsearch.common.inject.internal.Errors;, +import org.elasticsearch.common.inject.internal.ErrorsException;, +import org.elasticsearch.common.inject.internal.InternalContext;, +import org.elasticsearch.common.inject.internal.InternalFactory;, +import org.elasticsearch.common.inject.internal.PrivateElementsImpl;, +import org.elasticsearch.common.inject.internal.ProviderInstanceBindingImpl;, +import org.elasticsearch.common.inject.internal.Scoping;, +import org.elasticsearch.common.inject.internal.SourceProvider;, +import org.elasticsearch.common.inject.internal.Stopwatch;, +import org.elasticsearch.common.inject.spi.Dependency;, +import org.elasticsearch.common.inject.spi.Element;, +import org.elasticsearch.common.inject.spi.Elements;, +import org.elasticsearch.common.inject.spi.InjectionPoint;, +import org.elasticsearch.common.inject.spi.PrivateElements;, +import org.elasticsearch.common.inject.spi.TypeListenerBinding;, +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterState.java, +, +import org.elasticsearch.cluster.routing.IndexRoutingTable;, +import org.elasticsearch.cluster.routing.IndexShardRoutingTable;, +import org.elasticsearch.cluster.routing.RoutingNode;, +import org.elasticsearch.cluster.routing.RoutingNodes;, +import org.elasticsearch.cluster.routing.RoutingTable;, +import org.elasticsearch.cluster.routing.ShardRouting;, +import java.util.EnumSet;, +import java.util.HashMap;, +import java.util.Locale;, +import java.util.Map;, +import java.util.Set;, +++ b/core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java, +import org.elasticsearch.common.inject.internal.BindingImpl;, +import org.elasticsearch.common.inject.internal.Errors;, +import org.elasticsearch.common.inject.internal.ErrorsException;, +import org.elasticsearch.common.inject.internal.InternalContext;, +import org.elasticsearch.common.inject.internal.InternalFactory;]