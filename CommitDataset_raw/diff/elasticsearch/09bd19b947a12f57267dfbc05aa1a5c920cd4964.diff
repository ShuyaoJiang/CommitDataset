[+++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +        setFuzzyMinSim(settings.getFuzziness().asFloat());, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +        setFuzzyMinSim(settings.getFuzziness().asFloat());, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java, +import org.elasticsearch.common.unit.Fuzziness;, +    private Fuzziness fuzziness = Fuzziness.AUTO;, +        if (fuzziness != null ? fuzziness.equals(that.fuzziness) == false : fuzziness != null) return false;, +        result = 31 * result + (fuzziness.hashCode());, +, +    public void setFuzziness(Fuzziness fuzziness) {, +        this.fuzziness = fuzziness;, +    }, +, +    public Fuzziness getFuzziness() {, +        return fuzziness;, +    }, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +        setFuzzyMinSim(settings.getFuzziness().asFloat());, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java, +import org.elasticsearch.common.unit.Fuzziness;, +    private Fuzziness fuzziness = Fuzziness.AUTO;, +        if (fuzziness != null ? fuzziness.equals(that.fuzziness) == false : fuzziness != null) return false;, +        result = 31 * result + (fuzziness.hashCode());, +, +    public void setFuzziness(Fuzziness fuzziness) {, +        this.fuzziness = fuzziness;, +    }, +, +    public Fuzziness getFuzziness() {, +        return fuzziness;, +    }, +++ b/core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java, +    private final String fuzziness;, +        this.fuzziness = Integer.toString(fuzziness);, +        return Math.min(2, asInt());, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +        setFuzzyMinSim(settings.getFuzziness().asFloat());, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java, +import org.elasticsearch.common.unit.Fuzziness;, +    private Fuzziness fuzziness = Fuzziness.AUTO;, +        if (fuzziness != null ? fuzziness.equals(that.fuzziness) == false : fuzziness != null) return false;, +        result = 31 * result + (fuzziness.hashCode());, +, +    public void setFuzziness(Fuzziness fuzziness) {, +        this.fuzziness = fuzziness;, +    }, +, +    public Fuzziness getFuzziness() {, +        return fuzziness;, +    }, +++ b/core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java, +    private final String fuzziness;, +        this.fuzziness = Integer.toString(fuzziness);, +        return Math.min(2, asInt());, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java, +                    qpSettings.setFuzziness(Fuzziness.parse(parser));, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +        setFuzzyMinSim(settings.getFuzziness().asFloat());, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java, +import org.elasticsearch.common.unit.Fuzziness;, +    private Fuzziness fuzziness = Fuzziness.AUTO;, +        if (fuzziness != null ? fuzziness.equals(that.fuzziness) == false : fuzziness != null) return false;, +        result = 31 * result + (fuzziness.hashCode());, +, +    public void setFuzziness(Fuzziness fuzziness) {, +        this.fuzziness = fuzziness;, +    }, +, +    public Fuzziness getFuzziness() {, +        return fuzziness;, +    }, +++ b/core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java, +    private final String fuzziness;, +        this.fuzziness = Integer.toString(fuzziness);, +        return Math.min(2, asInt());, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java, +                    qpSettings.setFuzziness(Fuzziness.parse(parser));, +++ b/core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java, +        setFuzzyMinSim(settings.getFuzziness().asFloat());, +++ b/core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java, +import org.elasticsearch.common.unit.Fuzziness;, +    private Fuzziness fuzziness = Fuzziness.AUTO;, +        if (fuzziness != null ? fuzziness.equals(that.fuzziness) == false : fuzziness != null) return false;, +        result = 31 * result + (fuzziness.hashCode());, +, +    public void setFuzziness(Fuzziness fuzziness) {, +        this.fuzziness = fuzziness;, +    }, +, +    public Fuzziness getFuzziness() {, +        return fuzziness;, +    }, +++ b/core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java, +    private final String fuzziness;, +        this.fuzziness = Integer.toString(fuzziness);, +        return Math.min(2, asInt());, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java, +                    qpSettings.setFuzziness(Fuzziness.parse(parser));]