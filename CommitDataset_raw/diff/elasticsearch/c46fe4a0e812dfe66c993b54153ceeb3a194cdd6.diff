[+++ b/src/test/java/org/elasticsearch/percolator/MultiPercolatorTests.java, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertMatchCount;, +        assertMatchCount(item.response(), 2l);, +        assertMatchCount(item.response(), 2l);, +        assertMatchCount(item.response(), 4l);, +        assertMatchCount(item.response(), 1l);, +            assertMatchCount(item.response(), numQueries);, +        assertMatchCount(response.items()[numPercolateRequest].response(), numQueries);, +            assertMatchCount(item.response(), numQueries);, +        assertMatchCount(response.items()[numPercolateRequest].response(), numQueries);, +++ b/src/test/java/org/elasticsearch/percolator/MultiPercolatorTests.java, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertMatchCount;, +        assertMatchCount(item.response(), 2l);, +        assertMatchCount(item.response(), 2l);, +        assertMatchCount(item.response(), 4l);, +        assertMatchCount(item.response(), 1l);, +            assertMatchCount(item.response(), numQueries);, +        assertMatchCount(response.items()[numPercolateRequest].response(), numQueries);, +            assertMatchCount(item.response(), numQueries);, +        assertMatchCount(response.items()[numPercolateRequest].response(), numQueries);, +++ b/src/test/java/org/elasticsearch/percolator/PercolatorFacetsTests.java, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertMatchCount;, +            assertMatchCount(response, expectedCount[i % numUniqueQueries]);, +++ b/src/test/java/org/elasticsearch/percolator/MultiPercolatorTests.java, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertMatchCount;, +        assertMatchCount(item.response(), 2l);, +        assertMatchCount(item.response(), 2l);, +        assertMatchCount(item.response(), 4l);, +        assertMatchCount(item.response(), 1l);, +            assertMatchCount(item.response(), numQueries);, +        assertMatchCount(response.items()[numPercolateRequest].response(), numQueries);, +            assertMatchCount(item.response(), numQueries);, +        assertMatchCount(response.items()[numPercolateRequest].response(), numQueries);, +++ b/src/test/java/org/elasticsearch/percolator/PercolatorFacetsTests.java, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertMatchCount;, +            assertMatchCount(response, expectedCount[i % numUniqueQueries]);, +++ b/src/test/java/org/elasticsearch/percolator/PercolatorTests.java, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.*;, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 4l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, 0l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, 100l);, +        assertMatchCount(response, 50l);, +        assertMatchCount(response, 50l);, +        assertMatchCount(percolate, 1l);, +            assertMatchCount(percolate, 1l);, +            assertMatchCount(percolate, 1l);, +        assertHitCount(countResponse, 0l);, +        assertMatchCount(percolate, 1l);, +        assertMatchCount(percolate, 1l);, +        assertMatchCount(percolate, 1l);, +        assertMatchCount(percolate, 1l);, +        assertMatchCount(percolate, 1l);, +        assertMatchCount(percolate, 0l);, +        assertMatchCount(percolate, 1l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 4l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 4l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 10l);, +        assertMatchCount(response, 5l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 4l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 4l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, totalQueries);, +        assertMatchCount(response, totalQueries);, +            assertMatchCount(response, numQueriesPerLevel);, +            assertMatchCount(response, numQueriesPerLevel);, +            assertMatchCount(response, numQueriesPerLevel);, +            assertMatchCount(response, numQueries);, +            assertMatchCount(response, numQueries);, +            assertMatchCount(response, levels.size());, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 0l);, +        assertMatchCount(response, 0l);, +        assertMatchCount(response, 5l);, +        assertMatchCount(response, 5l);, +        assertMatchCount(response, 5l);, +        assertMatchCount(response, 2l);, +        assertMatchCount(response, 1l);, +        assertMatchCount(response, 0l);, +++ b/src/test/java/org/elasticsearch/percolator/MultiPercolatorTests.java]