[+++ b/build.gradle, +if (project.projectDir.name != 'x-pack-elasticsearch') {, +  throw new GradleException('You must checkout x-pack-elasticsearch in the following directory: <path to Elasticsearch checkout>/../elasticsearch-extra/x-pack'), +    // Use x-pack-elasticsearch specific suppressions file rather than the open source one., +  ext.projectSubstitutions += [ "org.elasticsearch.plugin:x-pack-api:${version}": ':x-pack-elasticsearch:plugin' ], +++ b/build.gradle, +if (project.projectDir.name != 'x-pack-elasticsearch') {, +  throw new GradleException('You must checkout x-pack-elasticsearch in the following directory: <path to Elasticsearch checkout>/../elasticsearch-extra/x-pack'), +    // Use x-pack-elasticsearch specific suppressions file rather than the open source one., +  ext.projectSubstitutions += [ "org.elasticsearch.plugin:x-pack-api:${version}": ':x-pack-elasticsearch:plugin' ], +++ b/buildSrc/settings.gradle, +  throw new GradleException("x-pack-elasticsearch must be checked out under an elasticsearch-extra directory, found ${extrasDir.name}"), +++ b/build.gradle, +if (project.projectDir.name != 'x-pack-elasticsearch') {, +  throw new GradleException('You must checkout x-pack-elasticsearch in the following directory: <path to Elasticsearch checkout>/../elasticsearch-extra/x-pack'), +    // Use x-pack-elasticsearch specific suppressions file rather than the open source one., +  ext.projectSubstitutions += [ "org.elasticsearch.plugin:x-pack-api:${version}": ':x-pack-elasticsearch:plugin' ], +++ b/buildSrc/settings.gradle, +  throw new GradleException("x-pack-elasticsearch must be checked out under an elasticsearch-extra directory, found ${extrasDir.name}"), +++ b/license-tools/build.gradle, +  compile project(':x-pack-elasticsearch:plugin'), +++ b/build.gradle, +if (project.projectDir.name != 'x-pack-elasticsearch') {, +  throw new GradleException('You must checkout x-pack-elasticsearch in the following directory: <path to Elasticsearch checkout>/../elasticsearch-extra/x-pack'), +    // Use x-pack-elasticsearch specific suppressions file rather than the open source one., +  ext.projectSubstitutions += [ "org.elasticsearch.plugin:x-pack-api:${version}": ':x-pack-elasticsearch:plugin' ], +++ b/buildSrc/settings.gradle, +  throw new GradleException("x-pack-elasticsearch must be checked out under an elasticsearch-extra directory, found ${extrasDir.name}"), +++ b/license-tools/build.gradle, +  compile project(':x-pack-elasticsearch:plugin'), +++ b/plugin/build.gradle, +  from(parent.projectDir) {, +++ b/build.gradle, +if (project.projectDir.name != 'x-pack-elasticsearch') {, +  throw new GradleException('You must checkout x-pack-elasticsearch in the following directory: <path to Elasticsearch checkout>/../elasticsearch-extra/x-pack'), +    // Use x-pack-elasticsearch specific suppressions file rather than the open source one., +  ext.projectSubstitutions += [ "org.elasticsearch.plugin:x-pack-api:${version}": ':x-pack-elasticsearch:plugin' ], +++ b/buildSrc/settings.gradle, +  throw new GradleException("x-pack-elasticsearch must be checked out under an elasticsearch-extra directory, found ${extrasDir.name}"), +++ b/license-tools/build.gradle, +  compile project(':x-pack-elasticsearch:plugin'), +++ b/plugin/build.gradle, +  from(parent.projectDir) {, +++ b/qa/audit-tests/build.gradle, +  testCompile project(path: ':x-pack-elasticsearch:plugin', configuration: 'runtime'), +  from project(':x-pack-elasticsearch:plugin').file('src/main/plugin-metadata'), +  from project(':x-pack-elasticsearch:plugin').tasks.pluginProperties, +    plugin ':x-pack-elasticsearch:plugin', +++ b/build.gradle, +if (project.projectDir.name != 'x-pack-elasticsearch') {, +  throw new GradleException('You must checkout x-pack-elasticsearch in the following directory: <path to Elasticsearch checkout>/../elasticsearch-extra/x-pack'), +    // Use x-pack-elasticsearch specific suppressions file rather than the open source one., +  ext.projectSubstitutions += [ "org.elasticsearch.plugin:x-pack-api:${version}": ':x-pack-elasticsearch:plugin' ], +++ b/buildSrc/settings.gradle, +  throw new GradleException("x-pack-elasticsearch must be checked out under an elasticsearch-extra directory, found ${extrasDir.name}"), +++ b/license-tools/build.gradle, +  compile project(':x-pack-elasticsearch:plugin'), +++ b/plugin/build.gradle, +  from(parent.projectDir) {, +++ b/qa/audit-tests/build.gradle, +  testCompile project(path: ':x-pack-elasticsearch:plugin', configuration: 'runtime'), +  from project(':x-pack-elasticsearch:plugin').file('src/main/plugin-metadata'), +  from project(':x-pack-elasticsearch:plugin').tasks.pluginProperties, +    plugin ':x-pack-elasticsearch:plugin', +++ b/qa/core-rest-tests-with-security/build.gradle, +  testCompile project(path: ':x-pack-elasticsearch:plugin', configuration: 'runtime'), +    plugin ':x-pack-elasticsearch:plugin', +++ b/build.gradle, +if (project.projectDir.name != 'x-pack-elasticsearch') {, +  throw new GradleException('You must checkout x-pack-elasticsearch in the following directory: <path to Elasticsearch checkout>/../elasticsearch-extra/x-pack'), +    // Use x-pack-elasticsearch specific suppressions file rather than the open source one., +  ext.projectSubstitutions += [ "org.elasticsearch.plugin:x-pack-api:${version}": ':x-pack-elasticsearch:plugin' ], +++ b/buildSrc/settings.gradle, +  throw new GradleException("x-pack-elasticsearch must be checked out under an elasticsearch-extra directory, found ${extrasDir.name}"), +++ b/license-tools/build.gradle, +  compile project(':x-pack-elasticsearch:plugin'), +++ b/plugin/build.gradle, +  from(parent.projectDir) {, +++ b/qa/audit-tests/build.gradle, +  testCompile project(path: ':x-pack-elasticsearch:plugin', configuration: 'runtime'), +  from project(':x-pack-elasticsearch:plugin').file('src/main/plugin-metadata'), +  from project(':x-pack-elasticsearch:plugin').tasks.pluginProperties, +    plugin ':x-pack-elasticsearch:plugin', +++ b/qa/core-rest-tests-with-security/build.gradle, +  testCompile project(path: ':x-pack-elasticsearch:plugin', configuration: 'runtime'), +    plugin ':x-pack-elasticsearch:plugin', +++ b/qa/ml-basic-multi-node/build.gradle, +    testCompile project(path: ':x-pack-elasticsearch:plugin', configuration: 'runtime'), +        plugin ':x-pack-elasticsearch:plugin', +++ b/build.gradle, +if (project.projectDir.name != 'x-pack-elasticsearch') {, +  throw new GradleException('You must checkout x-pack-elasticsearch in the following directory: <path to Elasticsearch checkout>/../elasticsearch-extra/x-pack'), +    // Use x-pack-elasticsearch specific suppressions file rather than the open source one., +  ext.projectSubstitutions += [ "org.elasticsearch.plugin:x-pack-api:${version}": ':x-pack-elasticsearch:plugin' ], +++ b/buildSrc/settings.gradle, +  throw new GradleException("x-pack-elasticsearch must be checked out under an elasticsearch-extra directory, found ${extrasDir.name}"), +++ b/license-tools/build.gradle, +  compile project(':x-pack-elasticsearch:plugin'), +++ b/plugin/build.gradle, +  from(parent.projectDir) {]