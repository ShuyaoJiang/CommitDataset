[+++ b/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java, +    public static final TimeValue DEFAULT_PUBLISH_TIMEOUT = TimeValue.timeValueSeconds(30);, +++ b/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java, +    public static final TimeValue DEFAULT_PUBLISH_TIMEOUT = TimeValue.timeValueSeconds(30);, +++ b/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java, +import static org.elasticsearch.test.ElasticsearchIntegrationTest.*;, +import static org.elasticsearch.test.ElasticsearchIntegrationTest.Scope.TEST;, +import static org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertAcked;, +@ClusterScope(scope = TEST), +        assertAcked(response);, +        assertAcked(response1);, +        assertAcked(response2);, +        assertAcked(response3);, +, +        DiscoverySettings discoverySettings = cluster().getInstance(DiscoverySettings.class);, +, +        assertThat(discoverySettings.getPublishTimeout(), equalTo(DiscoverySettings.DEFAULT_PUBLISH_TIMEOUT));, +, +        assertAcked(response);, +        assertThat(discoverySettings.getPublishTimeout().seconds(), equalTo(1l));, +        assertAcked(response);, +        assertThat(discoverySettings.getPublishTimeout().seconds(), equalTo(1l));, +        assertAcked(response);, +        assertThat(discoverySettings.getPublishTimeout().seconds(), equalTo(1l));]