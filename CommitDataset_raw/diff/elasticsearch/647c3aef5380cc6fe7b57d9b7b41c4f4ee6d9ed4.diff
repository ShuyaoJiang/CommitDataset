[+++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/job/persistence/JobStorageDeletionTask.java, +        // Step 5. DBQ state done, delete the alias, +        ActionListener<BulkByScrollResponse> dbqHandler = ActionListener.wrap(, +                bulkByScrollResponse -> {, +                    deleteAlias(jobId, aliasName, indexName, client, deleteAliasHandler);, +                failureHandler);, +        // Step 4. Delete categoriser state done, DeleteByQuery on the index, matching all docs with the right job_id, +        ActionListener<Boolean> deleteCategorizerStateHandler = ActionListener.wrap(, +                response -> {, +                    ConstantScoreQueryBuilder query =, +                            new ConstantScoreQueryBuilder(new TermQueryBuilder(Job.ID.getPreferredName(), jobId));, +                },, +                failureHandler);, +, +        // Step 3. Delete quantiles done, delete the categorizer state, +        ActionListener<DeleteResponse> deleteQuantilesHandler = ActionListener.wrap(, +                response -> deleteCategorizerState(jobId, client, deleteCategorizerStateHandler),, +                failureHandler);, +, +        // Step 2. Delete state done, delete the quantiles, +        ActionListener<BulkResponse> deleteStateHandler = ActionListener.wrap(, +                bulkResponse -> deleteQuantiles(jobId, client, deleteQuantilesHandler),, +                failureHandler);, +, +        // Step 1. Delete the model state, +        deleteModelState(jobId, client, deleteStateHandler);]