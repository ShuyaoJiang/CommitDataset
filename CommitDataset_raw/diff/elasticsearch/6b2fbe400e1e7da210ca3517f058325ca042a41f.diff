[+++ /dev/null, +++ /dev/null, +++ b/README.md, +alerting, +========, +This is the elasticsearch alerting plugin repo., +````, +POST _search/template/webErrors, +  "template": { "range" : {, +      "response" : {, +        "from" :400,, +        "to" : 600, +      }, +  }  , +  }, +}, +, +DELETE /_alerting/_delete/myNewAlert, +POST /_alerting/_create/myNewAlert, +    "query" : "webErrors",, +    "schedule" : "05 * * * * ?",, +    "trigger" : {, +         "numberOfEvents" : ">2", +    "timeperiod" : "300s",, +     "action" : {, +         "email" : {, +           "addresses" : [ "brian.murphy@elasticsearch.com" ],, +           "display": "message", +         }, +     },, +    "indices" : [ "logstash*" ],, +    "enabled" : false, +}, +, +, +, +POST /_alerting/_enable/myNewAlert, +, +DELETE /_alerting/_delete/myIndexAlert, +POST /_alerting/_create/myIndexAlert, +    "query" : "webErrors",, +    "schedule" : "05 * * * * ?",, +    "trigger" : {, +         "numberOfEvents" : ">0", +     },, +    "timeperiod" : "300s",, +     "action" : {, +         "index" : {, +           "index" : "weberrorhistory",, +           "type" : "weberrorresult", +     },, +    "indices" : [ "logstash*" ],, +    "enabled" : true, +POST /_search/template/testFilteredAgg, +  "query" : { , +    "filtered" : {, +      "query" : { , +        "match_all" : {}, +     },, +     "filter": {, +       "range" : {, +         "@timestamp" : {, +             "gte" : "{{from}}",, +             "lt" : "{{to}}", +         }, +       }, +     }, +    } , +  },, +    "aggs" : { , +      "response" : {, +        "terms" : {, +          "field" : "response",, +          "size" : 100, +        }, +      }, +}, "size" : 0  }, +, +, +POST /_scripts/groovy/testScript , +  "script" : "ok_count = 0.0;error_count = 0.0;for(bucket in aggregations.response.buckets) {if (bucket.key < 400){ok_count += bucket.doc_count;} else {error_count += bucket.doc_count;}}; return error_count/(ok_count+1) >= 0.1;", +DELETE /_alerting/_delete/myScriptedAlert, +POST /_alerting/_create/myScriptedAlert, +    "query" : "testFilteredAgg",, +    "schedule" : "05 * * * * ?",, +    "trigger" : {, +         "script" : {, +           "script" : "testScript",, +           "script_lang" : "groovy",, +           "script_type" : "INDEXED", +     },, +    "timeperiod" : "300s",, +     "action" : {, +         "index" : {, +           "index" : "weberrorhistory",, +           "type" : "weberrorresult", +         },, +        "email" : {, +           "addresses" : [ "brian.murphy@elasticsearch.com" ],, +           "display": "message"]