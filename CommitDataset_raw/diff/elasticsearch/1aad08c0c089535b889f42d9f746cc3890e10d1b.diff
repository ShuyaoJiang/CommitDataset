[+++ b/server/src/main/java/org/elasticsearch/search/SearchHits.java, +        if (in.getVersion().onOrAfter(Version.V_6_6_0)) {, +        if (out.getVersion().onOrAfter(Version.V_6_6_0)) {, +++ b/server/src/main/java/org/elasticsearch/search/SearchHits.java, +        if (in.getVersion().onOrAfter(Version.V_6_6_0)) {, +        if (out.getVersion().onOrAfter(Version.V_6_6_0)) {, +++ b/server/src/test/java/org/elasticsearch/search/SearchHitsTests.java, +    public void testReadFromPre6_6_0() throws IOException {, +            in.setVersion(VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, VersionUtils.getPreviousVersion(Version.V_6_6_0)));, +    public void testSerializationPre6_6_0() throws IOException {, +        Version version = VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, VersionUtils.getPreviousVersion(Version.V_6_6_0));]