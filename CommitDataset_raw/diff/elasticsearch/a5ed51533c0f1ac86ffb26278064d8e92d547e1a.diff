[+++ b/.gitignore, +.local-execution-hints.log, +++ b/.gitignore, +.local-execution-hints.log, +++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch-mapper-attachments](https://github.com/elasticsearch/elasticsearch-mapper-attachments), +cd elasticsearch-mapper-attachments/, +++ b/.gitignore, +.local-execution-hints.log, +++ b/CONTRIBUTING.md, +**Repository:** [https://github.com/elasticsearch/elasticsearch-mapper-attachments](https://github.com/elasticsearch/elasticsearch-mapper-attachments), +cd elasticsearch-mapper-attachments/, +++ b/README.md, +Mapper Attachments Type for Elasticsearch, +=========================================, +The mapper attachments plugin adds the `attachment` type to Elasticsearch using [Apache Tika](http://lucene.apache.org/tika/)., +The `attachment` type allows to index different "attachment" type field (encoded as `base64`), for example,, +microsoft office formats, open document formats, ePub, HTML, and so on (full list can be found [here](http://tika.apache.org/1.5/formats.html))., +bin/plugin -install elasticsearch/elasticsearch-mapper-attachments/2.4.1, +|       Elasticsearch    | Attachments Plugin|                                                             Docs                                                                   |, +|------------------------|-------------------|------------------------------------------------------------------------------------------------------------------------------------|, +|    es-1.x              | Build from source | [2.5.0-SNAPSHOT](https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/es-1.x/#version-250-snapshot-for-elasticsearch-1x)|, +|    es-1.4              |     2.4.1         | [2.4.1](https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v2.4.1/#version-241-for-elasticsearch-14)                  |, +|    es-1.3              |     2.3.2         | [2.3.2](https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v2.3.2/#version-232-for-elasticsearch-13)                  |, +|    es-1.2              |     2.2.1         | [2.2.1](https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v2.2.1/#version-221-for-elasticsearch-12)                  |, +|    es-1.1              |     2.0.0         | [2.0.0](https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v2.0.0/#mapper-attachments-type-for-elasticsearch)  |, +|    es-1.0              |     2.0.0         | [2.0.0](https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v2.0.0/#mapper-attachments-type-for-elasticsearch)  |, +|    es-0.90             |     1.9.0         | [1.9.0](https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v1.9.0/#mapper-attachments-type-for-elasticsearch)  |, +plugin --install mapper-attachments \ , +       --url file:target/releases/elasticsearch-mapper-attachments-X.X.X-SNAPSHOT.zip, +Using mapper attachments, +------------------------, +Using the attachment type is simple, in your mapping JSON, simply set a certain JSON element as attachment, for example:, +```javascript, +PUT /test/person/_mapping, +    "person" : {, +        "properties" : {, +            "my_attachment" : { "type" : "attachment" }, +    }, +}, +```, +, +In this case, the JSON to index can be:, +, +```javascript, +PUT /test/person/1, +{, +    "my_attachment" : "... base64 encoded attachment ...", +}, +```, +, +Or it is possible to use more elaborated JSON if content type, resource name or language need to be set explicitly:, +, +```, +PUT /test/person/1, +{, +    "my_attachment" : {, +        "_content_type" : "application/pdf",, +        "_name" : "resource/name/of/my.pdf",, +        "_language" : "en",, +        "_content" : "... base64 encoded attachment ...", +    }, +}, +```, +, +The `attachment` type not only indexes the content of the doc, but also automatically adds meta data on the attachment , +as well (when available)., +, +The metadata supported are:, +, +* `date`, +* `title`, +* `name` only available if you set `_name` see above, +* `author`, +* `keywords`, +* `content_type`, +* `content_length` is the original content_length before text extraction (aka file size), +* `language`, +, +They can be queried using the "dot notation", for example: `my_attachment.author`., +, +Both the meta data and the actual content are simple core type mappers (string, date, ...), thus, they can be controlled , +in the mappings. For example:, +, +```javascript, +PUT /test/person/_mapping, +{, +    "person" : {, +        "properties" : {, +            "file" : {, +                "type" : "attachment",, +                "fields" : {, +                    "file" : {"index" : "no"},, +                    "title" : {"store" : "yes"},, +                    "date" : {"store" : "yes"},, +                    "author" : {"analyzer" : "myAnalyzer"},, +                    "keywords" : {"store" : "yes"},, +                    "content_type" : {"store" : "yes"},, +                    "content_length" : {"store" : "yes"},, +                    "language" : {"store" : "yes"}]