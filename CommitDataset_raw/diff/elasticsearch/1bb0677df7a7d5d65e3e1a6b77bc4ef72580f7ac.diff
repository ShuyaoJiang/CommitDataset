[+++ b/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java, +import org.elasticsearch.common.inject.Injector;, +                boolean shardHasBeenRemoved = false;, +                    shardHasBeenRemoved = true;, +                            shardHasBeenRemoved = true;, +                if (shardHasBeenRemoved == false && !shardRouting.equals(indexShard.routingEntry())) {, +                    // if we happen to remove the shardRouting by id above we don't need to jump in here!, +++ b/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java, +import org.elasticsearch.common.inject.Injector;, +                boolean shardHasBeenRemoved = false;, +                    shardHasBeenRemoved = true;, +                            shardHasBeenRemoved = true;, +                if (shardHasBeenRemoved == false && !shardRouting.equals(indexShard.routingEntry())) {, +                    // if we happen to remove the shardRouting by id above we don't need to jump in here!, +++ b/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java, +            ensureGreen();, +                client().prepareIndex("test", "initial", "" + i).setSource("test", "init").get();]