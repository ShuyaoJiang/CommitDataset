[+++ b/src/test/java/org/elasticsearch/percolator/PercolatorTests.java, +        client().admin().cluster().prepareHealth().setWaitForEvents(Priority.LANGUID).get();, +        boolean applied = awaitBusy(new Predicate<Object>() {, +                for (Client client : clients()) {, +                    PendingClusterTasksResponse pendingTasks = client.admin().cluster().preparePendingClusterTasks().get();, +                    if (!pendingTasks.pendingTasks().isEmpty()) {, +                        return false;, +                    }, +                }, +                return true;, +        assertThat(applied, is(true));, +        client().admin().cluster().prepareHealth().setWaitForEvents(Priority.LANGUID).get();]