[+++ b/core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java, +                    // we need to update to actual analyzers if they are not set in this case..., +                    // so we can inject the position increment gap..., +                    if (builder.fieldType().indexAnalyzer() == null) {, +                        builder.fieldType().setIndexAnalyzer(parserContext.analysisService().defaultIndexAnalyzer());, +                    }, +                    if (builder.fieldType().searchAnalyzer() == null) {, +                        builder.fieldType().setSearchAnalyzer(parserContext.analysisService().defaultSearchAnalyzer());, +                    }, +                    if (builder.fieldType().searchQuoteAnalyzer() == null) {, +                        builder.fieldType().setSearchQuoteAnalyzer(parserContext.analysisService().defaultSearchQuoteAnalyzer());, +                    }]