[+++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/AutoFollowIT.java, +        if (randomBoolean()) {, +            request.setMaxWriteRequestSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/AutoFollowIT.java, +        if (randomBoolean()) {, +            request.setMaxWriteRequestSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/action/PutAutoFollowPatternRequestTests.java, +            request.setMaxWriteRequestOperationCount(randomIntBetween(0, Integer.MAX_VALUE));, +        }, +        if (randomBoolean()) {, +            request.setMaxWriteBufferSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +        if (randomBoolean()) {, +            request.setMaxWriteRequestSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +        if (randomBoolean()) {, +++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/AutoFollowIT.java, +        if (randomBoolean()) {, +            request.setMaxWriteRequestSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/action/PutAutoFollowPatternRequestTests.java, +            request.setMaxWriteRequestOperationCount(randomIntBetween(0, Integer.MAX_VALUE));, +        }, +        if (randomBoolean()) {, +            request.setMaxWriteBufferSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +        if (randomBoolean()) {, +            request.setMaxWriteRequestSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +        if (randomBoolean()) {, +++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/action/ResumeFollowActionRequestTests.java, +            request.setMaxWriteRequestOperationCount(randomIntBetween(1, Integer.MAX_VALUE));, +        }, +        if (randomBoolean()) {, +            request.setMaxWriteRequestSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +        if (randomBoolean()) {, +++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/AutoFollowIT.java, +        if (randomBoolean()) {, +            request.setMaxWriteRequestSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/action/PutAutoFollowPatternRequestTests.java, +            request.setMaxWriteRequestOperationCount(randomIntBetween(0, Integer.MAX_VALUE));, +        }, +        if (randomBoolean()) {, +            request.setMaxWriteBufferSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +        if (randomBoolean()) {, +            request.setMaxWriteRequestSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +        if (randomBoolean()) {, +++ b/x-pack/plugin/ccr/src/test/java/org/elasticsearch/xpack/ccr/action/ResumeFollowActionRequestTests.java, +            request.setMaxWriteRequestOperationCount(randomIntBetween(1, Integer.MAX_VALUE));, +        }, +        if (randomBoolean()) {, +            request.setMaxWriteRequestSize(new ByteSizeValue(randomNonNegativeLong()));, +        }, +        if (randomBoolean()) {, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ccr/action/ResumeFollowAction.java, +            maxWriteRequestOperationCount = in.readOptionalVInt();, +            maxWriteRequestSize = in.readOptionalWriteable(ByteSizeValue::new);, +            out.writeOptionalVInt(maxWriteRequestOperationCount);, +            out.writeOptionalWriteable(maxWriteRequestSize);]