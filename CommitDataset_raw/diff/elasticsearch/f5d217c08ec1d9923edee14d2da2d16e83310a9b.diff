[+++ b/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java, +                    DiscoveryNodes.Builder builder = DiscoveryNodes.builder(currentState.nodes()).remove(node.id());, +                    DiscoveryNodes.Builder builder = DiscoveryNodes.builder(currentState.nodes());, +                    for (DiscoveryNode existingNode : currentState.nodes()) {, +                        if (node.address().equals(existingNode.address())) {, +                            builder.remove(existingNode.id());, +                            logger.warn("received join request from node [{}], but found existing node {} with same address, removing existing node", node, existingNode);, +                        }, +                    }, +                    latestDiscoNodes = builder.build();, +                    // add the new node now (will update latestDiscoNodes on publish), +                    return ClusterState.builder(currentState).nodes(latestDiscoNodes.newNode(node)).build();]