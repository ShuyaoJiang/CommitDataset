[+++ b/core/src/main/java/org/elasticsearch/action/support/AutoCreateIndex.java, +        String value = settings.get("action.auto_create_index");, +        if (value == null || Booleans.isExplicitTrue(value)) {, +            matches = null;, +        } else if (Booleans.isExplicitFalse(value)) {, +        } else {, +            needToCheck = true;, +            globallyDisabled = false;, +            matches = Strings.commaDelimitedListToStringArray(value);, +            matches2 = new String[matches.length];, +            for (int i = 0; i < matches.length; i++) {, +                matches2[i] = matches[i].substring(1);, +            }, +++ b/core/src/main/java/org/elasticsearch/action/support/AutoCreateIndex.java, +        String value = settings.get("action.auto_create_index");, +        if (value == null || Booleans.isExplicitTrue(value)) {, +            matches = null;, +        } else if (Booleans.isExplicitFalse(value)) {, +        } else {, +            needToCheck = true;, +            globallyDisabled = false;, +            matches = Strings.commaDelimitedListToStringArray(value);, +            matches2 = new String[matches.length];, +            for (int i = 0; i < matches.length; i++) {, +                matches2[i] = matches[i].substring(1);, +            }, +++ b/core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java, +    public static final String FORCE_LOCAL_SETTING = "action.master.force_local";, +    private Boolean forceLocal;, +        this.forceLocal = settings.getAsBoolean(FORCE_LOCAL_SETTING, null);, +        if (forceLocal != null) {, +            return forceLocal;, +        }, +        return request.local();, +++ b/core/src/main/java/org/elasticsearch/action/support/AutoCreateIndex.java, +        String value = settings.get("action.auto_create_index");, +        if (value == null || Booleans.isExplicitTrue(value)) {, +            matches = null;, +        } else if (Booleans.isExplicitFalse(value)) {, +        } else {, +            needToCheck = true;, +            globallyDisabled = false;, +            matches = Strings.commaDelimitedListToStringArray(value);, +            matches2 = new String[matches.length];, +            for (int i = 0; i < matches.length; i++) {, +                matches2[i] = matches[i].substring(1);, +            }, +++ b/core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java, +    public static final String FORCE_LOCAL_SETTING = "action.master.force_local";, +    private Boolean forceLocal;, +        this.forceLocal = settings.getAsBoolean(FORCE_LOCAL_SETTING, null);, +        if (forceLocal != null) {, +            return forceLocal;, +        }, +        return request.local();, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +                .put(InternalSettingsPreparer.IGNORE_SYSTEM_PROPERTIES_SETTING, true), +++ b/core/src/main/java/org/elasticsearch/action/support/AutoCreateIndex.java, +        String value = settings.get("action.auto_create_index");, +        if (value == null || Booleans.isExplicitTrue(value)) {, +            matches = null;, +        } else if (Booleans.isExplicitFalse(value)) {, +        } else {, +            needToCheck = true;, +            globallyDisabled = false;, +            matches = Strings.commaDelimitedListToStringArray(value);, +            matches2 = new String[matches.length];, +            for (int i = 0; i < matches.length; i++) {, +                matches2[i] = matches[i].substring(1);, +            }, +++ b/core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java, +    public static final String FORCE_LOCAL_SETTING = "action.master.force_local";, +    private Boolean forceLocal;, +        this.forceLocal = settings.getAsBoolean(FORCE_LOCAL_SETTING, null);, +        if (forceLocal != null) {, +            return forceLocal;, +        }, +        return request.local();, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +                .put(InternalSettingsPreparer.IGNORE_SYSTEM_PROPERTIES_SETTING, true), +++ b/core/src/main/java/org/elasticsearch/cluster/ClusterName.java, +    public static final String SETTING = "cluster.name";, +    public static final ClusterName DEFAULT = new ClusterName("elasticsearch".intern());, +        return new ClusterName(settings.get("cluster.name", ClusterName.DEFAULT.value()));, +, +++ b/core/src/main/java/org/elasticsearch/action/support/AutoCreateIndex.java, +        String value = settings.get("action.auto_create_index");, +        if (value == null || Booleans.isExplicitTrue(value)) {, +            matches = null;, +        } else if (Booleans.isExplicitFalse(value)) {, +        } else {, +            needToCheck = true;, +            globallyDisabled = false;, +            matches = Strings.commaDelimitedListToStringArray(value);, +            matches2 = new String[matches.length];, +            for (int i = 0; i < matches.length; i++) {, +                matches2[i] = matches[i].substring(1);, +            }, +++ b/core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java, +    public static final String FORCE_LOCAL_SETTING = "action.master.force_local";]