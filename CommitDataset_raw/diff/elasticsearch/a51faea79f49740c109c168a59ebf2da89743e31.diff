[+++ b/docs/plugins/discovery-ec2.asciidoc, +The plugin provides a hosts provider for zen discovery named `ec2`. This hosts provider, +finds other Elasticsearch instances in EC2 through AWS metadata. Authentication is done using , +credentials by default. The only necessary configuration change to enable the plugin, +is setting the unicast host provider for zen discovery:, +discovery.zen.hosts_provider: ec2, +==== Settings, +EC2 host discovery supports a number of settings.  , +Some settings are sensitive and must be stored in the {ref}/secure-settings.html[elasticsearch keystore]., +For example, to use explicit AWS access keys:, +[source,sh], +bin/elasticsearch-keystore add discovery.ec2.access_key, +bin/elasticsearch-keystore add discovery.ec2.secret_key, +The following are the available discovery settings. All should be prefixed with `discovery.ec2.`., +Those that must be stored in the keystore are marked as `Secure`., +`access_key`::, +    An s3 access key. The `secret_key` setting must also be specified. (Secure), +`secret_key`::, +    An s3 secret key. The `access_key` setting must also be specified. (Secure), +`endpoint`::, +    The ec2 service endpoint to connect to. This will be automatically, +    figured out by the ec2 client based on the instance location, but, +    can be specified explicitly. See http://docs.aws.amazon.com/general/latest/gr/rande.html#ec2_region., +`protocol`::, +    The protocol to use to connect to ec2. Valid values are either `http`, +    or `https`. Defaults to `https`. , +`proxy.host`::, +    The host name of a proxy to connect to ec2 through., +, +`proxy.port`::, +, +    The port of a proxy to connect to ec2 through., +, +`proxy.username`::, +, +    The username to connect to the `proxy.host` with. (Secure)    , +, +`proxy.password`::, +, +    The password to connect to the `proxy.host` with. (Secure)    , +, +`read_timeout`::, +, +    The socket timeout for connecting to ec2. The value should specify the unit. For example,, +    a value of `5s` specifies a 5 second timeout. The default value is 50 seconds.]