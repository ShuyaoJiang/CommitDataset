[+++ b/src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java, +        String bodySettingsStr = request.content().toUtf8();, +        if (Strings.hasText(bodySettingsStr)) {, +                Settings buildSettings = ImmutableSettings.settingsBuilder().loadFromSource(bodySettingsStr).build();, +                for (Map.Entry<String, String> entry : buildSettings.getAsMap().entrySet()) {, +                    String key = entry.getKey();, +                    String value = entry.getValue();, +                    // clean up in case the body is wrapped with "settings" : { ... }, +                    if (key.startsWith("settings.")) {, +                        key = key.substring("settings.".length());, +                    }, +                    updateSettings.put(key, value);, +                }]