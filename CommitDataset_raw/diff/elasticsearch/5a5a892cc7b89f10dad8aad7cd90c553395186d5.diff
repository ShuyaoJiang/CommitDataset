[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/xcontent/XContentType.java, +    JSON(0) {, +        @Override public String restContentType() {, +            return "application/json; charset=UTF-8";, +        }},, +    SMILE(1) {, +        @Override public String restContentType() {, +            return "application/smile";, +        }};, +, +    public abstract String restContentType();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/xcontent/XContentType.java, +    JSON(0) {, +        @Override public String restContentType() {, +            return "application/json; charset=UTF-8";, +        }},, +    SMILE(1) {, +        @Override public String restContentType() {, +            return "application/smile";, +        }};, +, +    public abstract String restContentType();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/XContentRestResponse.java, +        return builder.contentType().restContentType();]