[+++ b/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java, +                ClusterState newState = ClusterState.builder(currentState).routingResult(routingResult).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java, +                ClusterState newState = ClusterState.builder(currentState).routingResult(routingResult).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                        return ClusterState.builder(currentState).routingResult(routingResult).build();, +                return builder(currentState).metaData(metaData).blocks(blocks).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java, +                ClusterState newState = ClusterState.builder(currentState).routingResult(routingResult).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                        return ClusterState.builder(currentState).routingResult(routingResult).build();, +                return builder(currentState).metaData(metaData).blocks(blocks).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +        ClusterState.Builder builder = ClusterState.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java, +                ClusterState newState = ClusterState.builder(currentState).routingResult(routingResult).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                        return ClusterState.builder(currentState).routingResult(routingResult).build();, +                return builder(currentState).metaData(metaData).blocks(blocks).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +        ClusterState.Builder builder = ClusterState.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java, +                return ClusterState.builder(currentState).metaData(mdBuilder).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java, +                ClusterState newState = ClusterState.builder(currentState).routingResult(routingResult).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                        return ClusterState.builder(currentState).routingResult(routingResult).build();, +                return builder(currentState).metaData(metaData).blocks(blocks).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +        ClusterState.Builder builder = ClusterState.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java, +                return ClusterState.builder(currentState).metaData(mdBuilder).build();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +                        return ClusterState.builder(currentState).metaData(mdBuilder).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java, +                ClusterState newState = ClusterState.builder(currentState).routingResult(routingResult).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                        return ClusterState.builder(currentState).routingResult(routingResult).build();, +                return builder(currentState).metaData(metaData).blocks(blocks).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +        ClusterState.Builder builder = ClusterState.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java, +                return ClusterState.builder(currentState).metaData(mdBuilder).build();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +                        return ClusterState.builder(currentState).metaData(mdBuilder).build();, +++ b/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public static Builder builder(ClusterState state) {, +        return new Builder(state);, +        public Builder() {, +, +        }, +, +        public Builder(ClusterState state) {, +            this.version = state.version();, +            this.nodes = state.nodes();, +            this.routingTable = state.routingTable();, +            this.metaData = state.metaData();, +            this.blocks = state.blocks();, +            this.allocationExplanation = state.allocationExplanation();, +            this.customs.putAll(state.customs());, +        }, +, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java, +                ClusterState newState = ClusterState.builder(currentState).routingResult(routingResult).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                        return ClusterState.builder(currentState).routingResult(routingResult).build();, +                return builder(currentState).metaData(metaData).blocks(blocks).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +        ClusterState.Builder builder = ClusterState.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java, +                return ClusterState.builder(currentState).metaData(mdBuilder).build();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +                        return ClusterState.builder(currentState).metaData(mdBuilder).build();, +++ b/src/main/java/org/elasticsearch/cluster/ClusterState.java, +    public static Builder builder(ClusterState state) {, +        return new Builder(state);, +        public Builder() {, +, +        }, +, +        public Builder(ClusterState state) {, +            this.version = state.version();, +            this.nodes = state.nodes();, +            this.routingTable = state.routingTable();, +            this.metaData = state.metaData();, +            this.blocks = state.blocks();, +            this.allocationExplanation = state.allocationExplanation();, +            this.customs.putAll(state.customs());, +        }, +, +++ b/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java, +                return ClusterState.builder(currentState).routingResult(routingResult).build();, +                        return ClusterState.builder(currentState).routingResult(routingResult).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java, +                ClusterState newState = ClusterState.builder(currentState).routingResult(routingResult).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                        return ClusterState.builder(currentState).routingResult(routingResult).build();, +                return builder(currentState).metaData(metaData).blocks(blocks).build();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +        ClusterState.Builder builder = ClusterState.builder();]