[+++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +import com.fasterxml.jackson.core.base.GeneratorBase;, +    private final GeneratorBase base;, +        if (generator instanceof GeneratorBase) {, +            base = (GeneratorBase) generator;, +        } else {, +            base = null;, +        }, +, +        generator.writeFieldName(fieldName);, +        generator.writeRaw(':');, +        finishWriteRaw();, +        generator.writeFieldName(fieldName);, +        generator.writeRaw(':');, +        finishWriteRaw();, +        generator.writeFieldName(fieldName);, +        generator.writeRaw(':');, +        finishWriteRaw();, +        finishWriteRaw();, +    }, +, +    private void finishWriteRaw() {, +        assert base != null : "JsonGenerator should be of instance GeneratorBase but was: " + generator.getClass();, +        if (base != null) {, +            base.getOutputContext().writeValue();, +        }, +++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +import com.fasterxml.jackson.core.base.GeneratorBase;, +    private final GeneratorBase base;, +        if (generator instanceof GeneratorBase) {, +            base = (GeneratorBase) generator;, +        } else {, +            base = null;, +        }, +, +        generator.writeFieldName(fieldName);, +        generator.writeRaw(':');, +        finishWriteRaw();, +        generator.writeFieldName(fieldName);, +        generator.writeRaw(':');, +        finishWriteRaw();, +        generator.writeFieldName(fieldName);, +        generator.writeRaw(':');, +        finishWriteRaw();, +        finishWriteRaw();, +    }, +, +    private void finishWriteRaw() {, +        assert base != null : "JsonGenerator should be of instance GeneratorBase but was: " + generator.getClass();, +        if (base != null) {, +            base.getOutputContext().writeValue();, +        }, +++ b/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java, +            xContentBuilder.rawField("foo", new BytesArray("{\"test\":\"value\"}"));, +            xContentBuilder.rawField("foo1", new BytesArray("{\"test\":\"value\"}"));, +            xContentBuilder.endObject();, +            assertThat(xContentBuilder.bytes().toUtf8(), equalTo("{\"foo\":{\"test\":\"value\"},\"foo1\":{\"test\":\"value\"}}"));, +        }, +        {, +            XContentBuilder xContentBuilder = XContentFactory.contentBuilder(XContentType.JSON);, +            xContentBuilder.startObject();, +        {, +            XContentBuilder xContentBuilder = XContentFactory.contentBuilder(XContentType.JSON);, +            xContentBuilder.startObject();, +            xContentBuilder.field("test", "value");, +            xContentBuilder.rawField("foo", new BytesArray("{\"test\":\"value\"}"));, +            xContentBuilder.rawField("foo1", new BytesArray("{\"test\":\"value\"}"));, +            xContentBuilder.field("test1", "value1");, +            xContentBuilder.endObject();, +            assertThat(xContentBuilder.bytes().toUtf8(), equalTo("{\"test\":\"value\",\"foo\":{\"test\":\"value\"},\"foo1\":{\"test\":\"value\"},\"test1\":\"value1\"}"));, +        }, +++ b/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java, +import com.fasterxml.jackson.core.base.GeneratorBase;, +    private final GeneratorBase base;, +        if (generator instanceof GeneratorBase) {, +            base = (GeneratorBase) generator;, +        } else {, +            base = null;, +        }, +, +        generator.writeFieldName(fieldName);, +        generator.writeRaw(':');, +        finishWriteRaw();, +        generator.writeFieldName(fieldName);, +        generator.writeRaw(':');, +        finishWriteRaw();, +        generator.writeFieldName(fieldName);, +        generator.writeRaw(':');, +        finishWriteRaw();, +        finishWriteRaw();, +    }, +, +    private void finishWriteRaw() {, +        assert base != null : "JsonGenerator should be of instance GeneratorBase but was: " + generator.getClass();, +        if (base != null) {, +            base.getOutputContext().writeValue();, +        }, +++ b/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java, +            xContentBuilder.rawField("foo", new BytesArray("{\"test\":\"value\"}"));, +            xContentBuilder.rawField("foo1", new BytesArray("{\"test\":\"value\"}"));]