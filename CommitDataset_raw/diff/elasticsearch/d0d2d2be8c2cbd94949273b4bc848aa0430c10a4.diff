[+++ b/core/src/main/java/org/elasticsearch/common/component/Lifecycle.java, +    public enum State {, +            throw new IllegalStateException("Can't move to stopped state when closed");, +        throw new IllegalStateException("Can't move to stopped with unknown state");, +            throw new IllegalStateException("Can't move to stopped state when closed");, +        throw new IllegalStateException("Can't move to stopped with unknown state");, +]