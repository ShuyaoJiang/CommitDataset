[+++ b/docs/plugins/repository-azure.asciidoc, +azure.client.default.timeout: 10s, +++ b/docs/plugins/repository-azure.asciidoc, +azure.client.default.timeout: 10s, +++ b/docs/reference/migration/migrate_7_0.asciidoc, +* <<breaking_70_plugins_changes>>, +include::migrate_7_0/plugins.asciidoc[], +++ b/docs/plugins/repository-azure.asciidoc, +azure.client.default.timeout: 10s, +++ b/docs/reference/migration/migrate_7_0.asciidoc, +* <<breaking_70_plugins_changes>>, +include::migrate_7_0/plugins.asciidoc[], +++ b/docs/reference/migration/migrate_7_0/plugins.asciidoc, +[[breaking_70_plugins_changes]], +=== Plugins changes, +, +==== Azure Repository plugin, +, +* The legacy azure settings which where starting with `cloud.azure.storage.` prefix have been removed., +This includes `account`, `key`, `default` and `timeout`., +You need to use settings which are starting with `azure.client.` prefix instead., +, +* Global timeout setting `cloud.azure.storage.timeout` has been removed., +You must set it per azure client instead. Like `azure.client.default.timeout: 10s` for example., +, +See {plugins}/repository-azure-usage.html#repository-azure-repository-settings[Azure Repository settings]., +, +++ b/docs/plugins/repository-azure.asciidoc, +azure.client.default.timeout: 10s, +++ b/docs/reference/migration/migrate_7_0.asciidoc, +* <<breaking_70_plugins_changes>>, +include::migrate_7_0/plugins.asciidoc[], +++ b/docs/reference/migration/migrate_7_0/plugins.asciidoc, +[[breaking_70_plugins_changes]], +=== Plugins changes, +, +==== Azure Repository plugin, +, +* The legacy azure settings which where starting with `cloud.azure.storage.` prefix have been removed., +This includes `account`, `key`, `default` and `timeout`., +You need to use settings which are starting with `azure.client.` prefix instead., +, +* Global timeout setting `cloud.azure.storage.timeout` has been removed., +You must set it per azure client instead. Like `azure.client.default.timeout: 10s` for example., +, +See {plugins}/repository-azure-usage.html#repository-azure-repository-settings[Azure Repository settings]., +, +++ b/plugins/repository-azure/build.gradle, +++ b/docs/plugins/repository-azure.asciidoc, +azure.client.default.timeout: 10s, +++ b/docs/reference/migration/migrate_7_0.asciidoc, +* <<breaking_70_plugins_changes>>, +include::migrate_7_0/plugins.asciidoc[], +++ b/docs/reference/migration/migrate_7_0/plugins.asciidoc, +[[breaking_70_plugins_changes]], +=== Plugins changes, +, +==== Azure Repository plugin, +, +* The legacy azure settings which where starting with `cloud.azure.storage.` prefix have been removed., +This includes `account`, `key`, `default` and `timeout`., +You need to use settings which are starting with `azure.client.` prefix instead., +, +* Global timeout setting `cloud.azure.storage.timeout` has been removed., +You must set it per azure client instead. Like `azure.client.default.timeout: 10s` for example., +, +See {plugins}/repository-azure-usage.html#repository-azure-repository-settings[Azure Repository settings]., +, +++ b/plugins/repository-azure/build.gradle, +++ b/plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java, +++ b/docs/plugins/repository-azure.asciidoc, +azure.client.default.timeout: 10s, +++ b/docs/reference/migration/migrate_7_0.asciidoc, +* <<breaking_70_plugins_changes>>, +include::migrate_7_0/plugins.asciidoc[], +++ b/docs/reference/migration/migrate_7_0/plugins.asciidoc, +[[breaking_70_plugins_changes]], +=== Plugins changes, +, +==== Azure Repository plugin, +, +* The legacy azure settings which where starting with `cloud.azure.storage.` prefix have been removed., +This includes `account`, `key`, `default` and `timeout`., +You need to use settings which are starting with `azure.client.` prefix instead., +, +* Global timeout setting `cloud.azure.storage.timeout` has been removed., +You must set it per azure client instead. Like `azure.client.default.timeout: 10s` for example., +, +See {plugins}/repository-azure-usage.html#repository-azure-repository-settings[Azure Repository settings]., +, +++ b/plugins/repository-azure/build.gradle, +++ b/plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java, +++ b/plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java, +    final Map<String, CloudBlobClient> clients = new HashMap<>();, +    public AzureStorageServiceImpl(Settings settings, Map<String, AzureStorageSettings> storageSettings) {, +        this.storageSettings = storageSettings;, +, +        if (storageSettings.isEmpty()) {, +            // If someone did not register any settings, they basically can't use the plugin, +    CloudBlobClient getSelectedClient(String clientName, LocationMode mode) {]