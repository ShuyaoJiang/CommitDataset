[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +++ b/buildSrc/src/main/resources/checkstyle.xml, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +++ b/buildSrc/src/main/resources/checkstyle.xml, +++ /dev/null, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +++ b/buildSrc/src/main/resources/checkstyle.xml, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        QUERY_SHARD_EXCEPTION(org.elasticsearch.index.query.QueryShardException.class, org.elasticsearch.index.query.QueryShardException::new, 141);, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +++ b/buildSrc/src/main/resources/checkstyle.xml, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        QUERY_SHARD_EXCEPTION(org.elasticsearch.index.query.QueryShardException.class, org.elasticsearch.index.query.QueryShardException::new, 141);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_1_7_4 = new Version(V_1_7_4_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final Version V_2_1_2 = new Version(V_2_1_2_ID, true, org.apache.lucene.util.Version.LUCENE_5_3_1);, +    public static final Version V_2_2_0 = new Version(V_2_2_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +++ b/buildSrc/src/main/resources/checkstyle.xml, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        QUERY_SHARD_EXCEPTION(org.elasticsearch.index.query.QueryShardException.class, org.elasticsearch.index.query.QueryShardException::new, 141);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_1_7_4 = new Version(V_1_7_4_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final Version V_2_1_2 = new Version(V_2_1_2_ID, true, org.apache.lucene.util.Version.LUCENE_5_3_1);, +    public static final Version V_2_2_0 = new Version(V_2_2_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +++ b/core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java, +import org.elasticsearch.common.xcontent.StatusToXContent;, +import org.elasticsearch.ingest.core.PipelineFactoryError;, +import org.elasticsearch.rest.RestStatus;, +public class SimulatePipelineResponse extends ActionResponse implements StatusToXContent {, +    private PipelineFactoryError error;, +    public SimulatePipelineResponse(PipelineFactoryError error) {, +        this.error = error;, +    }, +, +    public boolean isError() {, +        return error != null;, +    }, +, +    @Override, +    public RestStatus status() {, +        if (isError()) {, +            return RestStatus.BAD_REQUEST;, +        }, +        return RestStatus.OK;, +    }, +, +        out.writeBoolean(isError());, +        if (isError()) {, +            error.writeTo(out);, +        } else {, +    }, +        boolean isError = in.readBoolean();, +        if (isError) {, +            error = new PipelineFactoryError();, +            error.readFrom(in);, +        } else {, +    }, +        if (isError()) {, +            error.toXContent(builder, params);, +        } else {, +        }, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +++ b/buildSrc/src/main/resources/checkstyle.xml, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/ElasticsearchException.java, +        QUERY_SHARD_EXCEPTION(org.elasticsearch.index.query.QueryShardException.class, org.elasticsearch.index.query.QueryShardException::new, 141);, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_1_7_4 = new Version(V_1_7_4_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final Version V_2_1_2 = new Version(V_2_1_2_ID, true, org.apache.lucene.util.Version.LUCENE_5_3_1);, +    public static final Version V_2_2_0 = new Version(V_2_2_0_ID, true, org.apache.lucene.util.Version.LUCENE_5_4_0);, +++ b/core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java, +import org.elasticsearch.common.xcontent.StatusToXContent;, +import org.elasticsearch.ingest.core.PipelineFactoryError;, +import org.elasticsearch.rest.RestStatus;, +public class SimulatePipelineResponse extends ActionResponse implements StatusToXContent {, +    private PipelineFactoryError error;, +    public SimulatePipelineResponse(PipelineFactoryError error) {, +        this.error = error;, +    }, +, +    public boolean isError() {, +        return error != null;, +    }, +, +    @Override, +    public RestStatus status() {, +        if (isError()) {, +            return RestStatus.BAD_REQUEST;, +        }, +        return RestStatus.OK;, +    }, +, +        out.writeBoolean(isError());, +        if (isError()) {, +            error.writeTo(out);]