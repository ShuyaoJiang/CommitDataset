[+++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +                            .replaceFirst("^(\\d+)\\.(\\d+)(.(\\d+))+$", "LUCENE_$1_$2");, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +                            .replaceFirst("^(\\d+)\\.(\\d+)(.(\\d+))+$", "LUCENE_$1_$2");, +++ b/src/test/java/org/elasticsearch/VersionTests.java, +                if (randomBoolean()) {, +                    string = string + "." + randomIntBetween(0, 100);, +                }]