[+++ b/docs/reference/index-modules.asciidoc, +     Defaults to `1000000`., +++ b/docs/reference/index-modules.asciidoc, +     Defaults to `1000000`., +++ b/docs/reference/migration/migrate_7_0/analysis.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/docs/reference/index-modules.asciidoc, +     Defaults to `1000000`., +++ b/docs/reference/migration/migrate_7_0/analysis.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/docs/reference/search/request/highlighting.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/docs/reference/index-modules.asciidoc, +     Defaults to `1000000`., +++ b/docs/reference/migration/migrate_7_0/analysis.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/docs/reference/search/request/highlighting.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/server/src/main/java/org/apache/lucene/search/uhighlight/CustomUnifiedHighlighter.java, +                                    int noMatchSize) {, +++ b/docs/reference/index-modules.asciidoc, +     Defaults to `1000000`., +++ b/docs/reference/migration/migrate_7_0/analysis.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/docs/reference/search/request/highlighting.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/server/src/main/java/org/apache/lucene/search/uhighlight/CustomUnifiedHighlighter.java, +                                    int noMatchSize) {, +++ b/server/src/main/java/org/elasticsearch/index/IndexSettings.java, +     * The default maximum of 1M characters is defensive as for highlighting larger texts,, +        Setting.intSetting("index.highlight.max_analyzed_offset", 1000000, 1, Property.Dynamic, Property.IndexScope);, +++ b/docs/reference/index-modules.asciidoc, +     Defaults to `1000000`., +++ b/docs/reference/migration/migrate_7_0/analysis.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/docs/reference/search/request/highlighting.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/server/src/main/java/org/apache/lucene/search/uhighlight/CustomUnifiedHighlighter.java, +                                    int noMatchSize) {, +++ b/server/src/main/java/org/elasticsearch/index/IndexSettings.java, +     * The default maximum of 1M characters is defensive as for highlighting larger texts,, +        Setting.intSetting("index.highlight.max_analyzed_offset", 1000000, 1, Property.Dynamic, Property.IndexScope);, +++ b/server/src/main/java/org/elasticsearch/search/fetch/subphase/highlight/PlainHighlighter.java, +                        "The length of [" + highlighterContext.fieldName + "] field of [" + hitContext.hit().getId() +, +                            "] doc of [" + context.indexShard().shardId().getIndexName() + "] index " +, +                            "has exceeded [" + maxAnalyzedOffset + "] - maximum allowed to be analyzed for highlighting. " +, +                            "This maximum can be set by changing the [" + IndexSettings.MAX_ANALYZED_OFFSET_SETTING.getKey() +, +                            "] index level setting. " + "For large texts, indexing with offsets or term vectors, and highlighting " +, +                            "with unified or fvh highlighter is recommended!");, +++ b/docs/reference/index-modules.asciidoc, +     Defaults to `1000000`., +++ b/docs/reference/migration/migrate_7_0/analysis.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/docs/reference/search/request/highlighting.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/server/src/main/java/org/apache/lucene/search/uhighlight/CustomUnifiedHighlighter.java, +                                    int noMatchSize) {, +++ b/server/src/main/java/org/elasticsearch/index/IndexSettings.java, +     * The default maximum of 1M characters is defensive as for highlighting larger texts,, +        Setting.intSetting("index.highlight.max_analyzed_offset", 1000000, 1, Property.Dynamic, Property.IndexScope);, +++ b/server/src/main/java/org/elasticsearch/search/fetch/subphase/highlight/PlainHighlighter.java, +                        "The length of [" + highlighterContext.fieldName + "] field of [" + hitContext.hit().getId() +, +                            "] doc of [" + context.indexShard().shardId().getIndexName() + "] index " +, +                            "has exceeded [" + maxAnalyzedOffset + "] - maximum allowed to be analyzed for highlighting. " +, +                            "This maximum can be set by changing the [" + IndexSettings.MAX_ANALYZED_OFFSET_SETTING.getKey() +, +                            "] index level setting. " + "For large texts, indexing with offsets or term vectors, and highlighting " +, +                            "with unified or fvh highlighter is recommended!");, +++ b/server/src/main/java/org/elasticsearch/search/fetch/subphase/highlight/UnifiedHighlighter.java, +import org.elasticsearch.index.IndexSettings;, +            if ((offsetSource == OffsetSource.ANALYSIS) && (fieldValue.length() > maxAnalyzedOffset)) {, +                throw new IllegalArgumentException(, +                    "The length of [" + highlighterContext.fieldName + "] field of [" + hitContext.hit().getId() +, +                        "] doc of [" + context.indexShard().shardId().getIndexName() + "] index " + "has exceeded [" +, +                        maxAnalyzedOffset + "] - maximum allowed to be analyzed for highlighting. " +, +                        "This maximum can be set by changing the [" + IndexSettings.MAX_ANALYZED_OFFSET_SETTING.getKey() +, +                        "] index level setting. " + "For large texts, indexing with offsets or term vectors is recommended!");, +            }, +                    field.fieldOptions().boundaryScannerLocale(), breakIterator, fieldValue, field.fieldOptions().noMatchSize());, +                    fieldValue, field.fieldOptions().noMatchSize());, +++ b/docs/reference/index-modules.asciidoc, +     Defaults to `1000000`., +++ b/docs/reference/migration/migrate_7_0/analysis.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/docs/reference/search/request/highlighting.asciidoc, +limited to 1000000. This default limit can be changed, +++ b/server/src/main/java/org/apache/lucene/search/uhighlight/CustomUnifiedHighlighter.java, +                                    int noMatchSize) {, +++ b/server/src/main/java/org/elasticsearch/index/IndexSettings.java, +     * The default maximum of 1M characters is defensive as for highlighting larger texts,, +        Setting.intSetting("index.highlight.max_analyzed_offset", 1000000, 1, Property.Dynamic, Property.IndexScope);, +++ b/server/src/main/java/org/elasticsearch/search/fetch/subphase/highlight/PlainHighlighter.java, +                        "The length of [" + highlighterContext.fieldName + "] field of [" + hitContext.hit().getId() +, +                            "] doc of [" + context.indexShard().shardId().getIndexName() + "] index " +, +                            "has exceeded [" + maxAnalyzedOffset + "] - maximum allowed to be analyzed for highlighting. " +, +                            "This maximum can be set by changing the [" + IndexSettings.MAX_ANALYZED_OFFSET_SETTING.getKey() +, +                            "] index level setting. " + "For large texts, indexing with offsets or term vectors, and highlighting " +, +                            "with unified or fvh highlighter is recommended!");, +++ b/server/src/main/java/org/elasticsearch/search/fetch/subphase/highlight/UnifiedHighlighter.java, +import org.elasticsearch.index.IndexSettings;, +            if ((offsetSource == OffsetSource.ANALYSIS) && (fieldValue.length() > maxAnalyzedOffset)) {]