[+++ b/core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java, +        builder.field(FIELD_TYPE, TYPE.shapeName());, +++ b/core/src/main/java/org/elasticsearch/common/geo/builders/PointBuilder.java, +import java.util.Objects;, +import org.elasticsearch.common.io.stream.StreamInput;, +import org.elasticsearch.common.io.stream.StreamOutput;, +    public static final PointBuilder PROTOTYPE = new PointBuilder();, +, +       builder.field(FIELD_TYPE, TYPE.shapeName());, +, +    @Override, +    public int hashCode() {, +        return Objects.hash(coordinate);, +    }, +, +    @Override, +    public boolean equals(Object obj) {, +        if (this == obj) {, +            return true;, +        }, +        if (obj == null || getClass() != obj.getClass()) {, +            return false;, +        }, +        PointBuilder other = (PointBuilder) obj;, +        return Objects.equals(coordinate, other.coordinate);, +    }, +, +    @Override, +    public void writeTo(StreamOutput out) throws IOException {, +        out.writeDouble(coordinate.x);, +        out.writeDouble(coordinate.y);, +    }]