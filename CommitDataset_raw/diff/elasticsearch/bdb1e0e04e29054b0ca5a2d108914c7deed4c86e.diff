[+++ b/server/src/main/java/org/elasticsearch/cluster/coordination/JoinHelper.java, +            (request, channel, task) -> joinHandler.accept(new JoinRequest(request.getNode(), Optional.empty()), // treat as non-voting join, +++ b/server/src/main/java/org/elasticsearch/cluster/coordination/JoinHelper.java, +            (request, channel, task) -> joinHandler.accept(new JoinRequest(request.getNode(), Optional.empty()), // treat as non-voting join, +++ b/server/src/main/java/org/elasticsearch/discovery/zen/MembershipAction.java, +        private DiscoveryNode node;, +, +        public DiscoveryNode getNode() {, +            return node;, +        }, +            listener.onJoin(request.getNode(), new JoinCallback() {]