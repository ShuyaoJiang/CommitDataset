[+++ b/bin/elasticsearch, +                   "$ES_HOME/bin/elasticsearch.in.sh" \, +        eval exec "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +        eval exec "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +            eval "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +++ b/bin/elasticsearch, +                   "$ES_HOME/bin/elasticsearch.in.sh" \, +        eval exec "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +        eval exec "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +            eval "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +++ b/bin/elasticsearch.in.bat, +if "%ES_GC_LOG_FILE%" == "" goto nogclog, +, +:gclog, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCDetails, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCTimeStamps, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintClassHistogram, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintTenuringDistribution, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCApplicationStoppedTime, +set JAVA_OPTS=%JAVA_OPTS% -Xloggc:%ES_GC_LOG_FILE%, +for %%F in ("%ES_GC_LOG_FILE%") do set ES_GC_LOG_FILE_DIRECTORY=%%~dpF, +if NOT EXIST "%ES_GC_LOG_FILE_DIRECTORY%\." mkdir "%ES_GC_LOG_FILE_DIRECTORY%", +, +:nogclog, +++ b/bin/elasticsearch, +                   "$ES_HOME/bin/elasticsearch.in.sh" \, +        eval exec "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +        eval exec "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +            eval "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +++ b/bin/elasticsearch.in.bat, +if "%ES_GC_LOG_FILE%" == "" goto nogclog, +, +:gclog, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCDetails, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCTimeStamps, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintClassHistogram, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintTenuringDistribution, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCApplicationStoppedTime, +set JAVA_OPTS=%JAVA_OPTS% -Xloggc:%ES_GC_LOG_FILE%, +for %%F in ("%ES_GC_LOG_FILE%") do set ES_GC_LOG_FILE_DIRECTORY=%%~dpF, +if NOT EXIST "%ES_GC_LOG_FILE_DIRECTORY%\." mkdir "%ES_GC_LOG_FILE_DIRECTORY%", +, +:nogclog, +++ b/bin/elasticsearch.in.sh, +ES_CLASSPATH="$ES_CLASSPATH:$ES_HOME/lib/${project.build.finalName}.jar:$ES_HOME/lib/*:$ES_HOME/lib/sigar/*", +if [ -n "$ES_GC_LOG_FILE" ]; then, +  JAVA_OPTS="$JAVA_OPTS \"-Xloggc:$ES_GC_LOG_FILE\"", +, +  # Ensure that the directory for the log file exists: the JVM will not create it., +  mkdir -p "`dirname \"$ES_GC_LOG_FILE\"`", +++ b/bin/elasticsearch, +                   "$ES_HOME/bin/elasticsearch.in.sh" \, +        eval exec "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +        eval exec "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +            eval "$JAVA" $JAVA_OPTS $ES_JAVA_OPTS $es_parms "\"-Des.path.home=$ES_HOME\"" -cp "\"$ES_CLASSPATH\"" $props \, +++ b/bin/elasticsearch.in.bat, +if "%ES_GC_LOG_FILE%" == "" goto nogclog, +, +:gclog, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCDetails, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCTimeStamps, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintClassHistogram, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintTenuringDistribution, +set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCApplicationStoppedTime, +set JAVA_OPTS=%JAVA_OPTS% -Xloggc:%ES_GC_LOG_FILE%, +for %%F in ("%ES_GC_LOG_FILE%") do set ES_GC_LOG_FILE_DIRECTORY=%%~dpF, +if NOT EXIST "%ES_GC_LOG_FILE_DIRECTORY%\." mkdir "%ES_GC_LOG_FILE_DIRECTORY%", +, +:nogclog, +++ b/bin/elasticsearch.in.sh, +ES_CLASSPATH="$ES_CLASSPATH:$ES_HOME/lib/${project.build.finalName}.jar:$ES_HOME/lib/*:$ES_HOME/lib/sigar/*", +if [ -n "$ES_GC_LOG_FILE" ]; then, +  JAVA_OPTS="$JAVA_OPTS \"-Xloggc:$ES_GC_LOG_FILE\"", +, +  # Ensure that the directory for the log file exists: the JVM will not create it., +  mkdir -p "`dirname \"$ES_GC_LOG_FILE\"`", +++ b/docs/reference/migration/migrate_2_0.asciidoc, +==== Removed short name field access, +Field names in queries, aggregations, etc. must now use the complete name.  Use of the short name, +caused ambiguities in field lookups when the same name existed within multiple object mappings., +, +The following example illustrates the difference between 1.x and 2.0., +, +Given these mappings:, +---------------, +curl -XPUT 'localhost:9200/index', +{, +  "mappings": {, +    "type": {, +      "properties": {, +        "name": {, +          "type": "object",, +          "properties": {, +            "first": {"type": "string"},, +            "last": {"type": "string"}, +          }, +        }, +      }, +    }, +  }]