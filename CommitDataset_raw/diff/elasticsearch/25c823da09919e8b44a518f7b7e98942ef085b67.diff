[+++ b/test/framework/src/main/java/org/elasticsearch/test/rest/yaml/section/DoSection.java, +import org.elasticsearch.Version;, +            checkWarningHeaders(response.getWarningHeaders(), executionContext.masterVersion());, +    void checkWarningHeaders(final List<String> warningHeaders, final Version masterVersion) {, +                // noinspection StatementWithEmptyBody, +                if (masterVersion.before(Version.V_7_0_0_alpha1), +                        && message.equals("the default number of shards will change from [5] to [1] in 7.0.0; ", +                        + "if you wish to continue using the default of [5] shards, ", +                        + "you must manage this on the create index request or with an index template")) {, +                    /*, +                     * This warning header will come back in the vast majority of our tests that create an index when running against an, +                     * older master. Rather than rewrite our tests to assert this warning header, we assume that it is expected., +                     */, +                } else {, +                }]