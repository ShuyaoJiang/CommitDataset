[+++ b/src/test/java/org/elasticsearch/test/rest/client/RestClient.java, +                .path(RandomizedTest.randomFrom(restApi.getFinalPaths(pathParts)));, +++ b/src/test/java/org/elasticsearch/test/rest/client/RestClient.java, +                .path(RandomizedTest.randomFrom(restApi.getFinalPaths(pathParts)));, +++ b/src/test/java/org/elasticsearch/test/rest/spec/RestApi.java, +    public String[] getFinalPaths(Map<String, String> pathParams) {, +, +        List<RestPath> matchingRestPaths = findMatchingRestPaths(pathParams.keySet());, +        if (matchingRestPaths == null || matchingRestPaths.isEmpty()) {, +            throw new IllegalArgumentException("unable to find matching rest path for api [" + name + "] and params " + pathParams);, +        }, +, +        String[] paths = new String[matchingRestPaths.size()];, +        for (int i = 0; i < matchingRestPaths.size(); i++) {, +            RestPath restPath = matchingRestPaths.get(i);, +            String path = restPath.path;, +            for (Map.Entry<String, String> paramEntry : restPath.params.entrySet()) {, +                }, +            paths[i] = path;, +        return paths;, +     * Finds the matching rest paths out of the available ones with the current api (based on REST spec)., +    private List<RestPath> findMatchingRestPaths(Set<String> restParams) {, +        List<RestPath> matchingRestPaths = Lists.newArrayList();, +            if (restPath.params.size() == restParams.size()) {, +                    matchingRestPaths.add(restPath);, +                }, +        return matchingRestPaths;]