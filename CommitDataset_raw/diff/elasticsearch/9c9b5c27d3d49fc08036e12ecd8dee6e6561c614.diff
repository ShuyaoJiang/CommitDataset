[+++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1657571</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1657571</url>, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1657571</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1657571</url>, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +, +        @Override, +        public boolean needsScores() {, +            return delegate.needsScores();, +        }, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1657571</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1657571</url>, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +, +        @Override, +        public boolean needsScores() {, +            return delegate.needsScores();, +        }, +++ b/src/main/java/org/elasticsearch/common/lucene/MinimumScoreCollector.java, +, +    @Override, +    public boolean needsScores() {, +        return true;, +    }, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1657571</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1657571</url>, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +, +        @Override, +        public boolean needsScores() {, +            return delegate.needsScores();, +        }, +++ b/src/main/java/org/elasticsearch/common/lucene/MinimumScoreCollector.java, +, +    @Override, +    public boolean needsScores() {, +        return true;, +    }, +++ b/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        public AllTermSpanScorer scorer(LeafReaderContext context, Bits acceptDocs, boolean needsScores) throws IOException {, +            AllTermSpanScorer scorer = scorer(context, context.reader().getLiveDocs(), true);, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1657571</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1657571</url>, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +, +        @Override, +        public boolean needsScores() {, +            return delegate.needsScores();, +        }, +++ b/src/main/java/org/elasticsearch/common/lucene/MinimumScoreCollector.java, +, +    @Override, +    public boolean needsScores() {, +        return true;, +    }, +++ b/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        public AllTermSpanScorer scorer(LeafReaderContext context, Bits acceptDocs, boolean needsScores) throws IOException {, +            AllTermSpanScorer scorer = scorer(context, context.reader().getLiveDocs(), true);, +++ b/src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java, +    @Override, +    public boolean needsScores() {, +        return collector.needsScores();, +    }, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1657571</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1657571</url>, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +, +        @Override, +        public boolean needsScores() {, +            return delegate.needsScores();, +        }, +++ b/src/main/java/org/elasticsearch/common/lucene/MinimumScoreCollector.java, +, +    @Override, +    public boolean needsScores() {, +        return true;, +    }, +++ b/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java, +        public AllTermSpanScorer scorer(LeafReaderContext context, Bits acceptDocs, boolean needsScores) throws IOException {, +            AllTermSpanScorer scorer = scorer(context, context.reader().getLiveDocs(), true);, +++ b/src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java, +    @Override, +    public boolean needsScores() {, +        return collector.needsScores();, +    }, +++ b/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java, +        public Scorer scorer(LeafReaderContext context, Bits acceptDocs, boolean needsScores) throws IOException {, +++ b/pom.xml, +        <lucene.maven.version>5.1.0-snapshot-1657571</lucene.maven.version>, +            <url>https://download.elasticsearch.org/lucenesnapshots/1657571</url>, +++ b/src/main/java/org/elasticsearch/common/lucene/Lucene.java, +, +        @Override, +        public boolean needsScores() {]