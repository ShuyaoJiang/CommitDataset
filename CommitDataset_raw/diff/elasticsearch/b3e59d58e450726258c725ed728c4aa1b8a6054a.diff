[+++ b/src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java, +import org.apache.lucene.queries.FilterClause;, +++ b/src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java, +import org.apache.lucene.queries.FilterClause;, +++ b/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +import org.apache.lucene.queries.FilterClause;, +                typesTerms[i] = new Term(TypeFieldMapper.NAME, types[i]);, +                    bool.add(new FilterClause(new TermFilter(new Term(TypeFieldMapper.NAME, type)), BooleanClause.Occur.SHOULD));]