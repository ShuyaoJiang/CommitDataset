[+++ b/dev-tools/create-bwc-index.py, +    mappings['custom_formats'] = {, +      'properties': {, +        'string_with_custom_postings': {, +          'type': 'string',, +          'postings_format': 'Lucene41', +        },, +        'long_with_custom_doc_values': {, +          'type': 'long',, +          'doc_values_format': 'Lucene42', +        }, +      }, +    }, +++ b/dev-tools/create-bwc-index.py, +    mappings['custom_formats'] = {, +      'properties': {, +        'string_with_custom_postings': {, +          'type': 'string',, +          'postings_format': 'Lucene41', +        },, +        'long_with_custom_doc_values': {, +          'type': 'long',, +          'doc_values_format': 'Lucene42', +        }, +      }, +    }, +++ b/docs/reference/migration/migrate_2_0.asciidoc, +=== Codecs, +, +It is no longer possible to specify per-field postings and doc values formats, +in the mappings. This setting will be ignored on indices created before, +elasticsearch 2.0 and will cause mapping parsing to fail on indices created on, +or after 2.0. For old indices, this means that new segments will be written, +with the default postings and doc values formats of the current codec., +, +It is still possible to change the whole codec by using the `index.codec`, +setting. Please however note that using a non-default codec is discouraged as, +it could prevent future versions of Elasticsearch from being able to read the, +index., +++ b/dev-tools/create-bwc-index.py, +    mappings['custom_formats'] = {, +      'properties': {, +        'string_with_custom_postings': {, +          'type': 'string',, +          'postings_format': 'Lucene41', +        },, +        'long_with_custom_doc_values': {, +          'type': 'long',, +          'doc_values_format': 'Lucene42', +        }, +      }, +    }, +++ b/docs/reference/migration/migrate_2_0.asciidoc, +=== Codecs, +, +It is no longer possible to specify per-field postings and doc values formats, +in the mappings. This setting will be ignored on indices created before, +elasticsearch 2.0 and will cause mapping parsing to fail on indices created on, +or after 2.0. For old indices, this means that new segments will be written, +with the default postings and doc values formats of the current codec., +, +It is still possible to change the whole codec by using the `index.codec`, +setting. Please however note that using a non-default codec is discouraged as, +it could prevent future versions of Elasticsearch from being able to read the, +index., +++ /dev/null, +++ b/dev-tools/create-bwc-index.py, +    mappings['custom_formats'] = {, +      'properties': {, +        'string_with_custom_postings': {, +          'type': 'string',, +          'postings_format': 'Lucene41', +        },, +        'long_with_custom_doc_values': {, +          'type': 'long',, +          'doc_values_format': 'Lucene42', +        }, +      }, +    }, +++ b/docs/reference/migration/migrate_2_0.asciidoc, +=== Codecs, +, +It is no longer possible to specify per-field postings and doc values formats, +in the mappings. This setting will be ignored on indices created before, +elasticsearch 2.0 and will cause mapping parsing to fail on indices created on, +or after 2.0. For old indices, this means that new segments will be written, +with the default postings and doc values formats of the current codec., +, +It is still possible to change the whole codec by using the `index.codec`, +setting. Please however note that using a non-default codec is discouraged as, +it could prevent future versions of Elasticsearch from being able to read the, +index., +++ /dev/null, +++ b/src/main/java/org/elasticsearch/index/codec/CodecService.java, +        this(index, indexSettings, null);, +    public CodecService(Index index, @IndexSettings Settings indexSettings, MapperService mapperService) {, +                    new PerFieldMappingPostingFormatCodec(Mode.BEST_SPEED, mapperService, logger));, +                    new PerFieldMappingPostingFormatCodec(Mode.BEST_COMPRESSION, mapperService, logger));, +++ b/dev-tools/create-bwc-index.py, +    mappings['custom_formats'] = {]