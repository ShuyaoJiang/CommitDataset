[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/recovery/RecoverySource.java, +    private final boolean compress;, +, +        this.compress = componentSettings.getAsBoolean("compress", true);, +                                                    TransportRequestOptions.options().withCompress(compress), VoidTransportResponseHandler.INSTANCE).txGet();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/recovery/RecoverySource.java, +    private final boolean compress;, +, +        this.compress = componentSettings.getAsBoolean("compress", true);, +                                                    TransportRequestOptions.options().withCompress(compress), VoidTransportResponseHandler.INSTANCE).txGet();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/TransportRequestOptions.java, +    public TransportRequestOptions withCompress(boolean compress) {, +        this.compress = compress;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/recovery/RecoverySource.java, +    private final boolean compress;, +, +        this.compress = componentSettings.getAsBoolean("compress", true);, +                                                    TransportRequestOptions.options().withCompress(compress), VoidTransportResponseHandler.INSTANCE).txGet();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/TransportRequestOptions.java, +    public TransportRequestOptions withCompress(boolean compress) {, +        this.compress = compress;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java, +            options.withCompress(true);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/recovery/RecoverySource.java, +    private final boolean compress;, +, +        this.compress = componentSettings.getAsBoolean("compress", true);, +                                                    TransportRequestOptions.options().withCompress(compress), VoidTransportResponseHandler.INSTANCE).txGet();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/TransportRequestOptions.java, +    public TransportRequestOptions withCompress(boolean compress) {, +        this.compress = compress;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java, +            options.withCompress(true);, +++ b/modules/elasticsearch/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java, +                new StringMessage("moshe"), TransportRequestOptions.options().withCompress(true), new BaseTransportResponseHandler<StringMessage>() {]