[+++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +    private CloseableThreadLocal<ParseContext.InternalParseContext> cache = new CloseableThreadLocal<ParseContext.InternalParseContext>() {, +        protected ParseContext.InternalParseContext initialValue() {, +            return new ParseContext.InternalParseContext(index, indexSettings, docMapperParser, DocumentMapper.this, new ContentPath(0));, +        ParseContext.InternalParseContext context = cache.get();, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +    private CloseableThreadLocal<ParseContext.InternalParseContext> cache = new CloseableThreadLocal<ParseContext.InternalParseContext>() {, +        protected ParseContext.InternalParseContext initialValue() {, +            return new ParseContext.InternalParseContext(index, indexSettings, docMapperParser, DocumentMapper.this, new ContentPath(0));, +        ParseContext.InternalParseContext context = cache.get();, +++ b/src/main/java/org/elasticsearch/index/mapper/ParseContext.java, +import org.elasticsearch.index.mapper.DocumentMapper.ParseListener;, +public abstract class ParseContext {, +    private static class FilterParseContext extends ParseContext {, +, +        private final ParseContext in;, +, +        private FilterParseContext(ParseContext in) {, +            this.in = in;, +        }, +, +        @Override, +        public boolean flyweight() {, +            return in.flyweight();, +        }, +, +        @Override, +        public DocumentMapperParser docMapperParser() {, +            return in.docMapperParser();, +        }, +, +        @Override, +        public boolean mappingsModified() {, +            return in.mappingsModified();, +        }, +, +        @Override, +        public void setMappingsModified() {, +            in.setMappingsModified();, +        }, +, +        @Override, +        public void setWithinNewMapper() {, +            in.setWithinNewMapper();, +        }, +, +        @Override, +        public void clearWithinNewMapper() {, +            in.clearWithinNewMapper();, +        }, +, +        @Override, +        public boolean isWithinNewMapper() {, +            return in.isWithinNewMapper();, +        }, +, +        @Override, +        public boolean isWithinCopyTo() {, +            return in.isWithinCopyTo();, +        }, +, +        @Override, +        public boolean isWithinMultiFields() {, +            return in.isWithinMultiFields();, +        }, +, +        @Override, +        public String index() {, +            return in.index();, +        }, +, +        @Override, +        public Settings indexSettings() {, +            return in.indexSettings();, +        }, +, +        @Override, +        public String type() {, +            return in.type();, +        }, +, +        @Override, +        public SourceToParse sourceToParse() {, +            return in.sourceToParse();, +        }, +, +        @Override, +        public BytesReference source() {, +            return in.source();, +        }, +, +        @Override, +        public void source(BytesReference source) {, +            in.source(source);, +        }, +, +        @Override, +        public ContentPath path() {, +            return in.path();, +        }]