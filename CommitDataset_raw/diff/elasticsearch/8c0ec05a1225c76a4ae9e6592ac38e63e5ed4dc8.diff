[+++ b/docs/reference/analysis/tokenfilters.asciidoc, +, +include::tokenfilters/remove-duplicates-tokenfilter.asciidoc[], +++ b/docs/reference/analysis/tokenfilters.asciidoc, +, +include::tokenfilters/remove-duplicates-tokenfilter.asciidoc[], +++ b/docs/reference/analysis/tokenfilters/remove-duplicates-tokenfilter.asciidoc, +[[analysis-remove-duplicates-tokenfilter]], +=== Remove Duplicates Token Filter, +, +A token filter of type `remove_duplicates` that drops identical tokens at the, +same position., +++ b/docs/reference/analysis/tokenfilters.asciidoc, +, +include::tokenfilters/remove-duplicates-tokenfilter.asciidoc[], +++ b/docs/reference/analysis/tokenfilters/remove-duplicates-tokenfilter.asciidoc, +[[analysis-remove-duplicates-tokenfilter]], +=== Remove Duplicates Token Filter, +, +A token filter of type `remove_duplicates` that drops identical tokens at the, +same position., +++ b/modules/analysis-common/src/main/java/org/elasticsearch/analysis/common/CommonAnalysisPlugin.java, +        filters.put("remove_duplicates", RemoveDuplicatesTokenFilterFactory::new);, +++ b/docs/reference/analysis/tokenfilters.asciidoc, +, +include::tokenfilters/remove-duplicates-tokenfilter.asciidoc[], +++ b/docs/reference/analysis/tokenfilters/remove-duplicates-tokenfilter.asciidoc, +[[analysis-remove-duplicates-tokenfilter]], +=== Remove Duplicates Token Filter, +, +A token filter of type `remove_duplicates` that drops identical tokens at the, +same position., +++ b/modules/analysis-common/src/main/java/org/elasticsearch/analysis/common/CommonAnalysisPlugin.java, +        filters.put("remove_duplicates", RemoveDuplicatesTokenFilterFactory::new);, +++ b/modules/analysis-common/src/main/java/org/elasticsearch/analysis/common/RemoveDuplicatesTokenFilterFactory.java, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +, +package org.elasticsearch.analysis.common;, +, +import org.apache.lucene.analysis.TokenStream;, +import org.apache.lucene.analysis.miscellaneous.RemoveDuplicatesTokenFilter;, +import org.elasticsearch.common.settings.Settings;, +import org.elasticsearch.env.Environment;, +import org.elasticsearch.index.IndexSettings;, +import org.elasticsearch.index.analysis.AbstractTokenFilterFactory;, +, +/**, + * Filter factory for the lucene RemoveDuplicatesTokenFilter, + */, +class RemoveDuplicatesTokenFilterFactory extends AbstractTokenFilterFactory {, +, +    RemoveDuplicatesTokenFilterFactory(IndexSettings indexSettings, Environment env, String name, Settings settings) {, +        super(indexSettings, name, settings);, +    }, +, +    @Override, +    public TokenStream create(TokenStream tokenStream) {, +        return new RemoveDuplicatesTokenFilter(tokenStream);, +    }, +}, +++ b/docs/reference/analysis/tokenfilters.asciidoc, +, +include::tokenfilters/remove-duplicates-tokenfilter.asciidoc[], +++ b/docs/reference/analysis/tokenfilters/remove-duplicates-tokenfilter.asciidoc, +[[analysis-remove-duplicates-tokenfilter]], +=== Remove Duplicates Token Filter, +, +A token filter of type `remove_duplicates` that drops identical tokens at the, +same position., +++ b/modules/analysis-common/src/main/java/org/elasticsearch/analysis/common/CommonAnalysisPlugin.java, +        filters.put("remove_duplicates", RemoveDuplicatesTokenFilterFactory::new);, +++ b/modules/analysis-common/src/main/java/org/elasticsearch/analysis/common/RemoveDuplicatesTokenFilterFactory.java, +/*, + * Licensed to Elasticsearch under one or more contributor, + * license agreements. See the NOTICE file distributed with, + * this work for additional information regarding copyright, + * ownership. Elasticsearch licenses this file to you under, + * the Apache License, Version 2.0 (the "License"); you may, + * not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *]