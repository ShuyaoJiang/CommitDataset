[+++ b/docs/reference/docs/reindex.asciidoc, +[[reindex-from-remote]], +++ b/docs/reference/docs/reindex.asciidoc, +[[reindex-from-remote]], +++ b/docs/reference/setup/cluster_restart.asciidoc, +. *Disable shard allocation*, ++, +--, +--, +. *Perform a synced flush*, ++, +--, +--, +. *Shutdown and upgrade all nodes*, ++, +--, +--, +. *Upgrade any plugins*, ++, +--, +--, +. *Start the cluster*, ++, +--, +--, +. *Wait for yellow*, ++, +--, +--, +. *Reenable allocation*, ++, +--, +--, +++ b/docs/reference/docs/reindex.asciidoc, +[[reindex-from-remote]], +++ b/docs/reference/setup/cluster_restart.asciidoc, +. *Disable shard allocation*, ++, +--, +--, +. *Perform a synced flush*, ++, +--, +--, +. *Shutdown and upgrade all nodes*, ++, +--, +--, +. *Upgrade any plugins*, ++, +--, +--, +. *Start the cluster*, ++, +--, +--, +. *Wait for yellow*, ++, +--, +--, +. *Reenable allocation*, ++, +--, +--, +++ b/docs/reference/setup/reindex_upgrade.asciidoc, +[[reindex-upgrade]], +=== Reindex to upgrade, +, +Elasticsearch is able to use indices created in the previous major version, +only.  For instance, Elasticsearch 6.x can use indices created in, +Elasticsearch 5.x, but not those created in Elasticsearch 2.x or before., +, +NOTE: Elasticsearch 6.x nodes will fail to start in the presence of too old indices., +, +If you are running an Elasticsearch 5.x cluster which contains indices that, +were created before 5.x, you will either need to delete those old indices or, +to reindex them before upgrading to 6.x.  See <<reindex-upgrade-inplace>>., +, +If you are running an Elasticsearch 2.x cluster or older, you have two options:, +, +* First upgrade to Elasticsearch 5.x, reindex the old indices, then upgrade, +  to 6.x. See <<reindex-upgrade-inplace>>., +, +* Create a new 6.x cluster and use reindex-from-remote to import indices, +  directly from the 2.x cluster. See <<reindex-upgrade-remote>>., +, +[[reindex-upgrade-inplace]], +==== Reindex in place, +, +If you are running a 5.x cluster which contains indices created in, +Elasticsearch 2.x, you will need to reindex (or delete) those indices before, +upgrading to Elasticsearch 6.x., +, +The reindex process works as follows:, +, +* Create a new index, copying the mappings and settings from the old index., +  Set the `refresh_interval` to `-1` and the `number_of_replicas` to `0` for, +  efficient reindexing., +, +* Reindex all documents from the old index to the new index using the]