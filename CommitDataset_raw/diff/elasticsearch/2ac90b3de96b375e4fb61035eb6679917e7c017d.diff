[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            argLine System.getProperty('tests.jvm.argline'), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            argLine System.getProperty('tests.jvm.argline'), +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]TransportSearchAction.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]RemoteClusterServiceTests.java" checks="LineLength" />, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            argLine System.getProperty('tests.jvm.argline'), +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]TransportSearchAction.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]RemoteClusterServiceTests.java" checks="LineLength" />, +++ /dev/null, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            argLine System.getProperty('tests.jvm.argline'), +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]TransportSearchAction.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]RemoteClusterServiceTests.java" checks="LineLength" />, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java, +import org.elasticsearch.action.support.PlainListenableActionFuture;, +import org.elasticsearch.threadpool.ThreadPool;, +public abstract class ActionRequestBuilder<Request extends ActionRequest, Response extends ActionResponse, RequestBuilder extends ActionRequestBuilder<Request, Response, RequestBuilder>> {, +    private final ThreadPool threadPool;, +        threadPool = client.threadPool();, +, +    public ListenableActionFuture<Response> execute() {, +        PlainListenableActionFuture<Response> future = new PlainListenableActionFuture<>(threadPool);, +        execute(future);, +        return future;, +        client.execute(action, beforeExecute(request), listener);, +    }, +, +    /**, +     * A callback to additionally process the request before its executed, +     */, +    protected Request beforeExecute(Request request) {, +        return request;, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            argLine System.getProperty('tests.jvm.argline'), +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]TransportSearchAction.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]RemoteClusterServiceTests.java" checks="LineLength" />, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java, +import org.elasticsearch.action.support.PlainListenableActionFuture;, +import org.elasticsearch.threadpool.ThreadPool;, +public abstract class ActionRequestBuilder<Request extends ActionRequest, Response extends ActionResponse, RequestBuilder extends ActionRequestBuilder<Request, Response, RequestBuilder>> {, +    private final ThreadPool threadPool;, +        threadPool = client.threadPool();, +, +    public ListenableActionFuture<Response> execute() {, +        PlainListenableActionFuture<Response> future = new PlainListenableActionFuture<>(threadPool);, +        execute(future);, +        return future;, +        client.execute(action, beforeExecute(request), listener);, +    }, +, +    /**, +     * A callback to additionally process the request before its executed, +     */, +    protected Request beforeExecute(Request request) {, +        return request;, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/remote/RemoteInfoResponse.java, +import org.elasticsearch.action.search.RemoteConnectionInfo;, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            argLine System.getProperty('tests.jvm.argline'), +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]TransportSearchAction.java" checks="LineLength" />, +  <suppress files="core[/\\]src[/\\]test[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]RemoteClusterServiceTests.java" checks="LineLength" />, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java, +import org.elasticsearch.action.support.PlainListenableActionFuture;, +import org.elasticsearch.threadpool.ThreadPool;, +public abstract class ActionRequestBuilder<Request extends ActionRequest, Response extends ActionResponse, RequestBuilder extends ActionRequestBuilder<Request, Response, RequestBuilder>> {, +    private final ThreadPool threadPool;, +        threadPool = client.threadPool();, +, +    public ListenableActionFuture<Response> execute() {, +        PlainListenableActionFuture<Response> future = new PlainListenableActionFuture<>(threadPool);, +        execute(future);, +        return future;, +        client.execute(action, beforeExecute(request), listener);, +    }, +, +    /**, +     * A callback to additionally process the request before its executed, +     */, +    protected Request beforeExecute(Request request) {, +        return request;, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/remote/RemoteInfoResponse.java, +import org.elasticsearch.action.search.RemoteConnectionInfo;, +++ b/core/src/main/java/org/elasticsearch/action/admin/cluster/remote/TransportRemoteInfoAction.java, +import org.elasticsearch.action.search.RemoteClusterService;, +import java.util.ArrayList;, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            argLine System.getProperty('tests.jvm.argline'), +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +  <suppress files="core[/\\]src[/\\]main[/\\]java[/\\]org[/\\]elasticsearch[/\\]action[/\\]search[/\\]TransportSearchAction.java" checks="LineLength" />]