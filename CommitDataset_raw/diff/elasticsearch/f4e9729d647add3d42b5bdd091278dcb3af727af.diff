[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +                    // caveat 0 - the last supported snapshot of the line is on a version that we don't support (N-2), +                    maintenanceBugfixSnapshot = null, +        SortedSet<Version> result = versionSet.headSet(Version.fromString("${nextMajorVersion}.0.0")), +        return result.isEmpty() ? null : result.last(), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +                    // caveat 0 - the last supported snapshot of the line is on a version that we don't support (N-2), +                    maintenanceBugfixSnapshot = null, +        SortedSet<Version> result = versionSet.headSet(Version.fromString("${nextMajorVersion}.0.0")), +        return result.isEmpty() ? null : result.last(), +++ b/buildSrc/src/test/groovy/org/elasticsearch/gradle/VersionCollectionTests.groovy, +    assertNull(vc.maintenanceBugfixSnapshot), +    assertNull(vc.maintenanceBugfixSnapshot), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +                    // caveat 0 - the last supported snapshot of the line is on a version that we don't support (N-2), +                    maintenanceBugfixSnapshot = null, +        SortedSet<Version> result = versionSet.headSet(Version.fromString("${nextMajorVersion}.0.0")), +        return result.isEmpty() ? null : result.last(), +++ b/buildSrc/src/test/groovy/org/elasticsearch/gradle/VersionCollectionTests.groovy, +    assertNull(vc.maintenanceBugfixSnapshot), +    assertNull(vc.maintenanceBugfixSnapshot), +++ b/docs/reference/cat/thread_pool.asciidoc, +// TESTRESPONSE[s/\.\.\./(node-0 .+ 0 0 0\n)+/], +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +                    // caveat 0 - the last supported snapshot of the line is on a version that we don't support (N-2), +                    maintenanceBugfixSnapshot = null, +        SortedSet<Version> result = versionSet.headSet(Version.fromString("${nextMajorVersion}.0.0")), +        return result.isEmpty() ? null : result.last(), +++ b/buildSrc/src/test/groovy/org/elasticsearch/gradle/VersionCollectionTests.groovy, +    assertNull(vc.maintenanceBugfixSnapshot), +    assertNull(vc.maintenanceBugfixSnapshot), +++ b/docs/reference/cat/thread_pool.asciidoc, +// TESTRESPONSE[s/\.\.\./(node-0 .+ 0 0 0\n)+/], +++ b/docs/reference/indices/flush.asciidoc, +                     "max_unsafe_auto_id_timestamp" : "-1", +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +                    // caveat 0 - the last supported snapshot of the line is on a version that we don't support (N-2), +                    maintenanceBugfixSnapshot = null, +        SortedSet<Version> result = versionSet.headSet(Version.fromString("${nextMajorVersion}.0.0")), +        return result.isEmpty() ? null : result.last(), +++ b/buildSrc/src/test/groovy/org/elasticsearch/gradle/VersionCollectionTests.groovy, +    assertNull(vc.maintenanceBugfixSnapshot), +    assertNull(vc.maintenanceBugfixSnapshot), +++ b/docs/reference/cat/thread_pool.asciidoc, +// TESTRESPONSE[s/\.\.\./(node-0 .+ 0 0 0\n)+/], +++ b/docs/reference/indices/flush.asciidoc, +                     "max_unsafe_auto_id_timestamp" : "-1", +++ b/modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/CommonAnalysisPluginTests.java, +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_3_0)), +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_3_0)), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +                    // caveat 0 - the last supported snapshot of the line is on a version that we don't support (N-2), +                    maintenanceBugfixSnapshot = null, +        SortedSet<Version> result = versionSet.headSet(Version.fromString("${nextMajorVersion}.0.0")), +        return result.isEmpty() ? null : result.last(), +++ b/buildSrc/src/test/groovy/org/elasticsearch/gradle/VersionCollectionTests.groovy, +    assertNull(vc.maintenanceBugfixSnapshot), +    assertNull(vc.maintenanceBugfixSnapshot), +++ b/docs/reference/cat/thread_pool.asciidoc, +// TESTRESPONSE[s/\.\.\./(node-0 .+ 0 0 0\n)+/], +++ b/docs/reference/indices/flush.asciidoc, +                     "max_unsafe_auto_id_timestamp" : "-1", +++ b/modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/CommonAnalysisPluginTests.java, +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_3_0)), +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_3_0)), +++ b/modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/HtmlStripCharFilterFactoryTests.java, +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_2_4)), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +                    // caveat 0 - the last supported snapshot of the line is on a version that we don't support (N-2), +                    maintenanceBugfixSnapshot = null, +        SortedSet<Version> result = versionSet.headSet(Version.fromString("${nextMajorVersion}.0.0")), +        return result.isEmpty() ? null : result.last(), +++ b/buildSrc/src/test/groovy/org/elasticsearch/gradle/VersionCollectionTests.groovy, +    assertNull(vc.maintenanceBugfixSnapshot), +    assertNull(vc.maintenanceBugfixSnapshot), +++ b/docs/reference/cat/thread_pool.asciidoc, +// TESTRESPONSE[s/\.\.\./(node-0 .+ 0 0 0\n)+/], +++ b/docs/reference/indices/flush.asciidoc, +                     "max_unsafe_auto_id_timestamp" : "-1", +++ b/modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/CommonAnalysisPluginTests.java, +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_3_0)), +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_3_0)), +++ b/modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/HtmlStripCharFilterFactoryTests.java, +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_2_4)), +++ b/modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MultiSearchTemplateRequest.java, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/VersionCollection.groovy, +                    // caveat 0 - the last supported snapshot of the line is on a version that we don't support (N-2), +                    maintenanceBugfixSnapshot = null, +        SortedSet<Version> result = versionSet.headSet(Version.fromString("${nextMajorVersion}.0.0")), +        return result.isEmpty() ? null : result.last(), +++ b/buildSrc/src/test/groovy/org/elasticsearch/gradle/VersionCollectionTests.groovy, +    assertNull(vc.maintenanceBugfixSnapshot), +    assertNull(vc.maintenanceBugfixSnapshot), +++ b/docs/reference/cat/thread_pool.asciidoc, +// TESTRESPONSE[s/\.\.\./(node-0 .+ 0 0 0\n)+/], +++ b/docs/reference/indices/flush.asciidoc, +                     "max_unsafe_auto_id_timestamp" : "-1", +++ b/modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/CommonAnalysisPluginTests.java, +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_3_0)), +                        VersionUtils.randomVersionBetween(random(), Version.V_6_0_0, Version.V_6_3_0))]