[+++ b/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java, +            if (indexShard.state() == IndexShardState.STARTED || indexShard.state() == IndexShardState.POST_RECOVERY) {, +                // the master thinks we are initializing, but we are already started or on POST_RECOVERY and waiting, +                // for master to confirm a shard started message (either master failover, or a cluster event before, +                // we managed to tell the master we started), mark us as started, +                    logger.trace("[{}][{}] master [{}] marked shard as initializing, but shard has state [{}], mark shard as started", indexShard.state());, +                        "master " + nodes.masterNode() + " marked shard as initializing, but shard state is [" + indexShard.state() + "], mark shard as started");]