[+++ b/server/src/main/java/org/elasticsearch/action/search/SearchType.java, +    QUERY_THEN_FETCH((byte) 1);, +    // 3 used to be QUERY_AND_FETCH, +++ b/server/src/main/java/org/elasticsearch/action/search/SearchType.java, +    QUERY_THEN_FETCH((byte) 1);, +    // 3 used to be QUERY_AND_FETCH, +++ b/server/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java, +import org.elasticsearch.search.SearchPhaseResult;, +            AbstractSearchAsyncAction<? extends SearchPhaseResult> searchAsyncAction;]