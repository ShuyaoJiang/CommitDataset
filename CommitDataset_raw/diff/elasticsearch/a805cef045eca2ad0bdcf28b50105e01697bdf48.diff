[+++ b/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +                        } else if (token != XContentParser.Token.VALUE_NULL) {, +++ b/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +                        } else if (token != XContentParser.Token.VALUE_NULL) {, +++ b/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +, +    @Test, +    public void testSimpleBulk10() throws Exception {, +        String bulkAction = copyToStringFromClasspath("/org/elasticsearch/action/bulk/simple-bulk10.json");, +        BulkRequest bulkRequest = new BulkRequest();, +        bulkRequest.add(bulkAction.getBytes(Charsets.UTF_8), 0, bulkAction.length(), null, null);, +        assertThat(bulkRequest.numberOfActions(), equalTo(9));, +    }, +++ b/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +                        } else if (token != XContentParser.Token.VALUE_NULL) {, +++ b/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +, +    @Test, +    public void testSimpleBulk10() throws Exception {, +        String bulkAction = copyToStringFromClasspath("/org/elasticsearch/action/bulk/simple-bulk10.json");, +        BulkRequest bulkRequest = new BulkRequest();, +        bulkRequest.add(bulkAction.getBytes(Charsets.UTF_8), 0, bulkAction.length(), null, null);, +        assertThat(bulkRequest.numberOfActions(), equalTo(9));, +    }, +++ b/src/test/java/org/elasticsearch/action/bulk/simple-bulk10.json, +{ "index"  : {"_index":null, "_type":"type1", "_id":"0"} }, +{ "field1" : "value1" }, +{ "index"  : {"_index":"test", "_type":null, "_id":"0"} }, +{ "field1" : "value1" }, +{ "index"  : {"_index":"test", "_type":"type1", "_id":null} }, +{ "field1" : "value1" }, +{ "delete"  : {"_index":null, "_type":"type1", "_id":"0"} }, +{ "delete"  : {"_index":"test", "_type":null, "_id":"0"} }, +{ "delete"  : {"_index":"test", "_type":"type1", "_id":null} }, +{ "create"  : {"_index":null, "_type":"type1", "_id":"0"} }, +{ "field1" : "value1" }, +{ "create"  : {"_index":"test", "_type":null, "_id":"0"} }, +{ "field1" : "value1" }, +{ "create"  : {"_index":"test", "_type":"type1", "_id":null} }, +{ "field1" : "value1" }]