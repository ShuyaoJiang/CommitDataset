[+++ b/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java, +import org.elasticsearch.common.Booleans;, +                        if ("data".equals(matchAttrName)) {, +                            if (Booleans.parseBoolean(matchAttrValue, true)) {, +                                resolvedNodesIds.addAll(dataNodes.keySet());, +                            } else {, +                                resolvedNodesIds.removeAll(dataNodes.keySet());, +                            }, +                        } else if ("master".equals(matchAttrName)) {, +                            if (Booleans.parseBoolean(matchAttrValue, true)) {, +                                resolvedNodesIds.addAll(masterNodes.keySet());, +                            } else {, +                                resolvedNodesIds.removeAll(masterNodes.keySet());, +                            }, +                        } else {, +            }]