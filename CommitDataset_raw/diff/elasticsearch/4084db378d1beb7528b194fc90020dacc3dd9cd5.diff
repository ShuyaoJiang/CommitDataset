[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +        // we obtain a read lock here, since we don't want a flush to happen while we are refreshing, +        // since it flushes the index as well (though, in terms of concurrency, we are allowed to do it), +        rwl.readLock().lock();, +                    // we eagerly set dirty to false so we won't miss refresh requests]