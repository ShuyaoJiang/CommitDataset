[+++ b/test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java, +        try {, +        } catch (ResponseException e) {, +            if (e.getResponse().getStatusLine().getStatusCode() == HttpStatus.SC_REQUEST_TIMEOUT) {, +                try {, +                    final Response clusterStateResponse = client().performRequest(new Request("GET", "/_cluster/state"));, +                    fail("timed out waiting for green state for index [" + index + "] " +, +                        "cluster state [" + EntityUtils.toString(clusterStateResponse.getEntity()) + "]");, +                } catch (Exception inner) {, +                    e.addSuppressed(inner);, +                }, +            }, +            throw e;, +        }]