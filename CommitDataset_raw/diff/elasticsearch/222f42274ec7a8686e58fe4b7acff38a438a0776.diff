[+++ b/x-pack/plugin/ccr/src/main/java/org/elasticsearch/xpack/ccr/action/ShardFollowTasksExecutor.java, +import org.elasticsearch.common.util.concurrent.EsRejectedExecutionException;, +        BiConsumer<TimeValue, Runnable> scheduler = (delay, command) -> {, +            try {, +                threadPool.schedule(delay, Ccr.CCR_THREAD_POOL_NAME, command);, +            } catch (EsRejectedExecutionException e) {, +                if (e.isExecutorShutdown()) {, +                    logger.debug("couldn't schedule command, executor is shutting down", e);, +                } else {, +                    throw e;, +                }, +            }, +        };]