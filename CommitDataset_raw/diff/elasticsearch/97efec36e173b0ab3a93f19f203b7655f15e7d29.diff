[+++ b/modules/reindex/src/test/java/org/elasticsearch/index/reindex/RethrottleTests.java, +import org.elasticsearch.ExceptionsHelper;, +import static org.hamcrest.Matchers.equalTo;, +                Throwable unwrapped = ExceptionsHelper.unwrap(e, IllegalArgumentException.class);, +                if (unwrapped == null) {, +                // We want to retry in this case so we throw an assertion error, +                assertThat(unwrapped.getMessage(), equalTo("task [" + taskToRethrottle.getId(), +                    + "] has not yet been initialized to the point where it knows how to rethrottle itself"));, +                logger.info("caught unprepared task, retrying until prepared");, +                throw new AssertionError("Rethrottle request for task [" + taskToRethrottle.getId() + "] failed", e);]