[+++ b/qa/smoke-test-shaded/pom.xml, +        <skip.unit.tests>true</skip.unit.tests>, +++ b/qa/smoke-test-shaded/pom.xml, +        <skip.unit.tests>true</skip.unit.tests>, +++ b/qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java, +import org.junit.Test;, +, +    @Test, +    public void testLoadShadedClasses() throws ClassNotFoundException {, +        Class.forName("org.elasticsearch.common.collect.ImmutableList");, +        Class.forName("org.elasticsearch.common.joda.time.DateTime");, +        Class.forName("org.elasticsearch.common.util.concurrent.jsr166e.LongAdder");, +    }, +, +    @Test(expected = ClassNotFoundException.class), +    public void testGuavaIsNotOnTheCP() throws ClassNotFoundException {, +        Class.forName("com.google.common.collect.ImmutableList");, +    }, +, +    @Test(expected = ClassNotFoundException.class), +    public void testJodaIsNotOnTheCP() throws ClassNotFoundException {, +        Class.forName("org.joda.time.DateTime");, +    }, +, +    @Test(expected = ClassNotFoundException.class), +    public void testjsr166eIsNotOnTheCP() throws ClassNotFoundException {, +        Class.forName("com.twitter.jsr166e.LongAdder");, +    }, +++ b/qa/smoke-test-shaded/pom.xml, +        <skip.unit.tests>true</skip.unit.tests>, +++ b/qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java, +import org.junit.Test;, +, +    @Test, +    public void testLoadShadedClasses() throws ClassNotFoundException {, +        Class.forName("org.elasticsearch.common.collect.ImmutableList");, +        Class.forName("org.elasticsearch.common.joda.time.DateTime");, +        Class.forName("org.elasticsearch.common.util.concurrent.jsr166e.LongAdder");, +    }, +, +    @Test(expected = ClassNotFoundException.class), +    public void testGuavaIsNotOnTheCP() throws ClassNotFoundException {, +        Class.forName("com.google.common.collect.ImmutableList");, +    }, +, +    @Test(expected = ClassNotFoundException.class), +    public void testJodaIsNotOnTheCP() throws ClassNotFoundException {, +        Class.forName("org.joda.time.DateTime");, +    }, +, +    @Test(expected = ClassNotFoundException.class), +    public void testjsr166eIsNotOnTheCP() throws ClassNotFoundException {, +        Class.forName("com.twitter.jsr166e.LongAdder");, +    }, +++ /dev/null]