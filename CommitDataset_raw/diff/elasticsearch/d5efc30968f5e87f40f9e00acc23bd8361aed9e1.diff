[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            // enforce Gradle version, +            final GradleVersion currentGradleVersion = GradleVersion.current();, +, +            final GradleVersion minGradle = GradleVersion.version('3.3'), +            if (currentGradleVersion < minGradle) {, +            final GradleVersion maxGradle = GradleVersion.version('4.2'), +            if (currentGradleVersion >= maxGradle) {, +                throw new GradleException("${maxGradle} or above is not compatible with the elasticsearch build"), +            }, +]