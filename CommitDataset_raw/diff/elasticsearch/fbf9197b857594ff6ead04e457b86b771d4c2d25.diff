[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/query/support/MapperQueryParser.java, +import org.apache.lucene.search.BooleanClause;, +import java.util.List;, +, +    @Override protected Query getBooleanQuery(List<BooleanClause> clauses, boolean disableCoord) throws ParseException {, +        Query q = super.getBooleanQuery(clauses, disableCoord);, +        if (q == null) {, +            return null;, +        }, +        return fixNegativeQueryIfNeeded(q);, +    }, +]