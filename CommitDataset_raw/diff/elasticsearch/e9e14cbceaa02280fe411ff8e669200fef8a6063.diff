[+++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/StartDatafeedAction.java, +            stop(getReasonCancelled());, +        public void stop(String reason) {, +            stop(reason, TimeValue.timeValueSeconds(20));, +        public void stop(String reason, TimeValue timeout) {, +            holder.stop(reason, timeout, null);, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/StartDatafeedAction.java, +            stop(getReasonCancelled());, +        public void stop(String reason) {, +            stop(reason, TimeValue.timeValueSeconds(20));, +        public void stop(String reason, TimeValue timeout) {, +            holder.stop(reason, timeout, null);, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/StopDatafeedAction.java, +            task.stop("stop_datafeed_api", request.getTimeout());, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/StartDatafeedAction.java, +            stop(getReasonCancelled());, +        public void stop(String reason) {, +            stop(reason, TimeValue.timeValueSeconds(20));, +        public void stop(String reason, TimeValue timeout) {, +            holder.stop(reason, timeout, null);, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/StopDatafeedAction.java, +            task.stop("stop_datafeed_api", request.getTimeout());, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/datafeed/DatafeedJobRunner.java, +                    logger.info("[{}] try lock [{}] to stop datafeed [{}] for job [{}]...", source, timeout, datafeed.getId(),, +                            datafeed.getJobId());, +                } catch (InterruptedException e1) {, +                    Thread.currentThread().interrupt();, +                } finally {, +                    logger.info("[{}] stopping datafeed [{}] for job [{}], acquired [{}]...", source, datafeed.getId(),, +                            datafeed.getJobId(), acquired);, +                    handler.accept(e);, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/StartDatafeedAction.java, +            stop(getReasonCancelled());, +        public void stop(String reason) {, +            stop(reason, TimeValue.timeValueSeconds(20));, +        public void stop(String reason, TimeValue timeout) {, +            holder.stop(reason, timeout, null);, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/action/StopDatafeedAction.java, +            task.stop("stop_datafeed_api", request.getTimeout());, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/datafeed/DatafeedJobRunner.java, +                    logger.info("[{}] try lock [{}] to stop datafeed [{}] for job [{}]...", source, timeout, datafeed.getId(),, +                            datafeed.getJobId());, +                } catch (InterruptedException e1) {, +                    Thread.currentThread().interrupt();, +                } finally {, +                    logger.info("[{}] stopping datafeed [{}] for job [{}], acquired [{}]...", source, datafeed.getId(),, +                            datafeed.getJobId(), acquired);, +                    handler.accept(e);, +++ b/plugin/src/test/java/org/elasticsearch/xpack/ml/datafeed/DatafeedJobRunnerTests.java, +            task.stop("test");]