[+++ b/Vagrantfile, +++ b/Vagrantfile, +++ b/benchmarks/build.gradle, +buildscript {, +    repositories {, +        maven {, +            url 'https://plugins.gradle.org/m2/', +        }, +    }, +    dependencies {, +        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.4', +    }, +}, +, +shadowJar {, +    classifier = 'benchmarks', +}, +, +++ b/Vagrantfile, +++ b/benchmarks/build.gradle, +buildscript {, +    repositories {, +        maven {, +            url 'https://plugins.gradle.org/m2/', +        }, +    }, +    dependencies {, +        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.4', +    }, +}, +, +shadowJar {, +    classifier = 'benchmarks', +}, +, +++ b/build.gradle, +, +final boolean bwc_tests_enabled = false, +final String bwc_tests_disabled_issue = "https://github.com/elastic/elasticsearch/issues/32006" // BWC handled at a later time, +    "org.elasticsearch:elasticsearch-cli:${version}": ':libs:cli',, +      Closure depJavadocClosure = { dep ->, +        if (dep.group != null && dep.group.startsWith('org.elasticsearch')) {, +          if (upstreamProject != null) {, +      project.configurations.compile.dependencies.findAll().toSorted(sortClosure).each(depJavadocClosure), +      project.configurations.compileOnly.dependencies.findAll().toSorted(sortClosure).each(depJavadocClosure), +      gradleVersion = "4.8.1" // does not default to gradle weapper of project dir, but current version, +++ b/Vagrantfile, +++ b/benchmarks/build.gradle, +buildscript {, +    repositories {, +        maven {, +            url 'https://plugins.gradle.org/m2/', +        }, +    }, +    dependencies {, +        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.4', +    }, +}, +, +shadowJar {, +    classifier = 'benchmarks', +}, +, +++ b/build.gradle, +, +final boolean bwc_tests_enabled = false, +final String bwc_tests_disabled_issue = "https://github.com/elastic/elasticsearch/issues/32006" // BWC handled at a later time, +    "org.elasticsearch:elasticsearch-cli:${version}": ':libs:cli',, +      Closure depJavadocClosure = { dep ->, +        if (dep.group != null && dep.group.startsWith('org.elasticsearch')) {, +          if (upstreamProject != null) {, +      project.configurations.compile.dependencies.findAll().toSorted(sortClosure).each(depJavadocClosure), +      project.configurations.compileOnly.dependencies.findAll().toSorted(sortClosure).each(depJavadocClosure), +      gradleVersion = "4.8.1" // does not default to gradle weapper of project dir, but current version, +++ b/buildSrc/build.gradle, +if (GradleVersion.current() < GradleVersion.version('3.3')) {, +  throw new GradleException('Gradle 3.3+ is required to build elasticsearch'), +++ b/Vagrantfile, +++ b/benchmarks/build.gradle, +buildscript {, +    repositories {, +        maven {, +            url 'https://plugins.gradle.org/m2/', +        }, +    }, +    dependencies {, +        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.4', +    }, +}, +, +shadowJar {, +    classifier = 'benchmarks', +}, +, +++ b/build.gradle, +, +final boolean bwc_tests_enabled = false, +final String bwc_tests_disabled_issue = "https://github.com/elastic/elasticsearch/issues/32006" // BWC handled at a later time, +    "org.elasticsearch:elasticsearch-cli:${version}": ':libs:cli',, +      Closure depJavadocClosure = { dep ->]