[+++ b/x-pack/qa/smoke-test-watcher/src/test/java/org/elasticsearch/smoketest/SmokeTestWatcherTestSuiteIT.java, +import org.elasticsearch.client.ResponseException;, +        logger.info("Successfully indexed watch with id [{}]", watchId);, +            logger.info("Refreshing watcher history");, +            try {, +            } catch (ResponseException e) {, +                final String err = "Failed to perform refresh of watcher history - " + e;, +                logger.info(err);, +                fail(err);, +            }, +                logger.info("Searching watcher history");, +                logger.info("Found [{}] hits in watcher history", totalHits);, +                String foundWatchId = objectPath.evaluate("hits.hits.0._source.watch_id");, +                logger.info("Watch hit 0 has id [{}] (expecting [{}])", foundWatchId,  watchId);, +                assertThat("watch_id for hit 0 in watcher history", foundWatchId, is(watchId));, +            } catch (ResponseException e) {, +                final String err = "Failed to perform search of watcher history - " + e;, +                logger.info(err);, +                fail(err);, +        assertThat("Watch count (from _watcher/stats)", watchCount, is(expectedWatches));, +        logger.info("Watch count is [{}]", watchCount);]