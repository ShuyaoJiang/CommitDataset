[+++ b/src/main/java/org/elasticsearch/common/lucene/uid/UidField.java, +    // this works fine for nested docs since they don't have the payload which has the version, +    // so we iterate till we find the one with the payload, +++ b/src/main/java/org/elasticsearch/common/lucene/uid/UidField.java, +    // this works fine for nested docs since they don't have the payload which has the version, +    // so we iterate till we find the one with the payload, +++ b/src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java, +import static org.hamcrest.Matchers.notNullValue;, +        assertThat(getResponse.source(), notNullValue());]