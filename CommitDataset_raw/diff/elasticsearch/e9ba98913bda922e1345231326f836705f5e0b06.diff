[+++ b/src/main/java/org/elasticsearch/cluster/routing/operation/plain/PlainOperationRouting.java, +import java.util.Collections;, +    private static final Map<String, Set<String>> EMPTY_ROUTING = Collections.emptyMap();, +, +        routing = routing == null ? EMPTY_ROUTING : routing; // just use an empty map , +        final Set<ShardIterator> set = new HashSet<ShardIterator>();, +                final IndexRoutingTable indexRouting = indexRoutingTable(clusterState, index);, +                final Set<String> effectiveRouting = routing.get(index);]