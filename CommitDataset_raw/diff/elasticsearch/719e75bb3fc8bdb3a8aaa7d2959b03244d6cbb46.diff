[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'           : 'test', +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'           : 'test', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'           : 'test', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ /dev/null, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'           : 'test', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ /dev/null, +++ /dev/null, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'           : 'test', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'           : 'test', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +++ b/core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java, +import java.util.Collections;, +import java.util.HashMap;, +import java.util.List;, +import java.util.Map;, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'           : 'test', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +++ b/core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java, +import java.util.Collections;, +import java.util.HashMap;, +import java.util.List;, +import java.util.Map;, +, +++ /dev/null, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'           : 'test', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +++ b/core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java, +import java.util.Collections;, +import java.util.HashMap;, +import java.util.List;, +import java.util.Map;, +, +++ /dev/null, +++ b/core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java, +import org.elasticsearch.common.io.FileTestUtils;, +import org.elasticsearch.repositories.fs.FsRepository;, +import org.elasticsearch.snapshots.mockstore.MockRepository;, +import org.junit.BeforeClass;, +    private static Path repoPath;, +, +            .put(Environment.PATH_REPO_SETTING.getKey(), repoPath), +    @BeforeClass, +    public static void repoSetup() throws IOException {, +        repoPath = createTempDir("repositories");, +        Path repoFileFromBuild = getBwcIndicesPath().resolve(prefix + "-" + version + ".zip");, +        String repoFileName = repoFileFromBuild.getFileName().toString().split(".zip")[0];, +        Path fsRepoPath = repoPath.resolve(repoFileName);, +        FileTestUtils.unzip(repoFileFromBuild, fsRepoPath, null);, +            .setType(MockRepository.TYPE).setSettings(Settings.builder(), +                .put(FsRepository.REPOSITORIES_LOCATION_SETTING.getKey(), fsRepoPath.getParent().relativize(fsRepoPath).resolve("repo").toString())));, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'           : 'test', +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java, +++ b/core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java, +import java.util.Collections;, +import java.util.HashMap;, +import java.util.List;, +import java.util.Map;, +, +++ /dev/null, +++ b/core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java, +import org.elasticsearch.common.io.FileTestUtils;, +import org.elasticsearch.repositories.fs.FsRepository;, +import org.elasticsearch.snapshots.mockstore.MockRepository;, +import org.junit.BeforeClass;, +    private static Path repoPath;, +, +            .put(Environment.PATH_REPO_SETTING.getKey(), repoPath), +    @BeforeClass, +    public static void repoSetup() throws IOException {, +        repoPath = createTempDir("repositories");, +        Path repoFileFromBuild = getBwcIndicesPath().resolve(prefix + "-" + version + ".zip");]