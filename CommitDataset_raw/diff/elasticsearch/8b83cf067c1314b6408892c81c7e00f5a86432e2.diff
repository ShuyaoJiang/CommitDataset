[+++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequest.java, +        for (ActionRequest request : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequest.java, +        for (ActionRequest request : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/condition/script/ExecutableScriptCondition.java, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequest.java, +        for (ActionRequest request : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/condition/script/ExecutableScriptCondition.java, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/monitoring/exporter/http/HttpExporterIT.java, +        for (ActionRequest actionRequest : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequest.java, +        for (ActionRequest request : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/condition/script/ExecutableScriptCondition.java, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/monitoring/exporter/http/HttpExporterIT.java, +        for (ActionRequest actionRequest : bulkRequest.requests()) {, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/condition/script/ScriptConditionTests.java, +        expectThrows(IllegalArgumentException.class,, +        IllegalArgumentException exception = expectThrows(IllegalArgumentException.class,, +        assertThat(exception.getMessage(), containsString("script_lang not supported [not_a_valid_lang]"));, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequest.java, +        for (ActionRequest request : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/condition/script/ExecutableScriptCondition.java, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/monitoring/exporter/http/HttpExporterIT.java, +        for (ActionRequest actionRequest : bulkRequest.requests()) {, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/condition/script/ScriptConditionTests.java, +        expectThrows(IllegalArgumentException.class,, +        IllegalArgumentException exception = expectThrows(IllegalArgumentException.class,, +        assertThat(exception.getMessage(), containsString("script_lang not supported [not_a_valid_lang]"));, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/test/integration/HttpSecretsIntegrationTests.java, +import org.elasticsearch.xpack.security.crypto.CryptoService;, +import org.elasticsearch.xpack.watcher.client.WatcherClient;, +import org.elasticsearch.xpack.watcher.execution.ActionExecutionMode;, +        webServer.start();, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequest.java, +        for (ActionRequest request : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/condition/script/ExecutableScriptCondition.java, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/monitoring/exporter/http/HttpExporterIT.java, +        for (ActionRequest actionRequest : bulkRequest.requests()) {, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/condition/script/ScriptConditionTests.java, +        expectThrows(IllegalArgumentException.class,, +        IllegalArgumentException exception = expectThrows(IllegalArgumentException.class,, +        assertThat(exception.getMessage(), containsString("script_lang not supported [not_a_valid_lang]"));, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/test/integration/HttpSecretsIntegrationTests.java, +import org.elasticsearch.xpack.security.crypto.CryptoService;, +import org.elasticsearch.xpack.watcher.client.WatcherClient;, +import org.elasticsearch.xpack.watcher.execution.ActionExecutionMode;, +        webServer.start();, +++ /dev/null, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequest.java, +        for (ActionRequest request : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/condition/script/ExecutableScriptCondition.java, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/monitoring/exporter/http/HttpExporterIT.java, +        for (ActionRequest actionRequest : bulkRequest.requests()) {, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/condition/script/ScriptConditionTests.java, +        expectThrows(IllegalArgumentException.class,, +        IllegalArgumentException exception = expectThrows(IllegalArgumentException.class,, +        assertThat(exception.getMessage(), containsString("script_lang not supported [not_a_valid_lang]"));, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/test/integration/HttpSecretsIntegrationTests.java, +import org.elasticsearch.xpack.security.crypto.CryptoService;, +import org.elasticsearch.xpack.watcher.client.WatcherClient;, +import org.elasticsearch.xpack.watcher.execution.ActionExecutionMode;, +        webServer.start();, +++ /dev/null, +++ /dev/null, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequest.java, +        for (ActionRequest request : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/condition/script/ExecutableScriptCondition.java, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/monitoring/exporter/http/HttpExporterIT.java, +        for (ActionRequest actionRequest : bulkRequest.requests()) {, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/condition/script/ScriptConditionTests.java, +        expectThrows(IllegalArgumentException.class,, +        IllegalArgumentException exception = expectThrows(IllegalArgumentException.class,, +        assertThat(exception.getMessage(), containsString("script_lang not supported [not_a_valid_lang]"));, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/test/integration/HttpSecretsIntegrationTests.java, +import org.elasticsearch.xpack.security.crypto.CryptoService;, +import org.elasticsearch.xpack.watcher.client.WatcherClient;, +import org.elasticsearch.xpack.watcher.execution.ActionExecutionMode;, +        webServer.start();, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/monitoring/action/MonitoringBulkRequest.java, +        for (ActionRequest request : bulkRequest.requests()) {, +++ b/elasticsearch/src/main/java/org/elasticsearch/xpack/watcher/condition/script/ExecutableScriptCondition.java, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/monitoring/exporter/http/HttpExporterIT.java, +        for (ActionRequest actionRequest : bulkRequest.requests()) {, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/condition/script/ScriptConditionTests.java, +        expectThrows(IllegalArgumentException.class,, +        IllegalArgumentException exception = expectThrows(IllegalArgumentException.class,, +        assertThat(exception.getMessage(), containsString("script_lang not supported [not_a_valid_lang]"));, +++ b/elasticsearch/src/test/java/org/elasticsearch/xpack/watcher/test/integration/HttpSecretsIntegrationTests.java, +import org.elasticsearch.xpack.security.crypto.CryptoService;, +import org.elasticsearch.xpack.watcher.client.WatcherClient;, +import org.elasticsearch.xpack.watcher.execution.ActionExecutionMode;, +        webServer.start();, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/qa/smoke-test-watcher-with-painless/src/test/resources/rest-api-spec/test/watcher_painless/10_basic.yaml, +---]