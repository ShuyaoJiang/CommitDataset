[+++ b/.gitignore, +html_docs, +++ b/.gitignore, +html_docs, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        // Scripts might use _score so we return true here, +        // TODO: Make scripts able to tell us whether they use scores, +        return true;, +++ b/.gitignore, +html_docs, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        // Scripts might use _score so we return true here, +        // TODO: Make scripts able to tell us whether they use scores, +        return true;, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +        if (query != null) {, +    }, +++ b/.gitignore, +html_docs, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        // Scripts might use _score so we return true here, +        // TODO: Make scripts able to tell us whether they use scores, +        return true;, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +        if (query != null) {, +    }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +++ b/.gitignore, +html_docs, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        // Scripts might use _score so we return true here, +        // TODO: Make scripts able to tell us whether they use scores, +        return true;, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +        if (query != null) {, +    }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java, +++ b/.gitignore, +html_docs, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        // Scripts might use _score so we return true here, +        // TODO: Make scripts able to tell us whether they use scores, +        return true;, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +        if (query != null) {, +    }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java, +++ b/core/src/main/java/org/elasticsearch/script/SearchScript.java, +++ b/.gitignore, +html_docs, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        // Scripts might use _score so we return true here, +        // TODO: Make scripts able to tell us whether they use scores, +        return true;, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +        if (query != null) {, +    }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java, +++ b/core/src/main/java/org/elasticsearch/script/SearchScript.java, +++ b/core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java, +, +            return new ExpressionSearchScript(compiledScript, bindings, specialValue);, +++ b/.gitignore, +html_docs, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        // Scripts might use _score so we return true here, +        // TODO: Make scripts able to tell us whether they use scores, +        return true;, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +        if (query != null) {, +    }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java, +++ b/core/src/main/java/org/elasticsearch/script/SearchScript.java, +++ b/core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java, +, +            return new ExpressionSearchScript(compiledScript, bindings, specialValue);, +++ b/core/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java, +    ExpressionSearchScript(CompiledScript c, SimpleBindings b, ReplaceableConstValueSource v) {, +++ b/.gitignore, +html_docs, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        // Scripts might use _score so we return true here, +        // TODO: Make scripts able to tell us whether they use scores, +        return true;, +++ b/core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java, +        if (query != null) {, +    }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java, +++ b/core/src/main/java/org/elasticsearch/script/SearchScript.java, +++ b/core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java, +, +            return new ExpressionSearchScript(compiledScript, bindings, specialValue);, +++ b/core/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java, +    ExpressionSearchScript(CompiledScript c, SimpleBindings b, ReplaceableConstValueSource v) {, +++ b/core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java]