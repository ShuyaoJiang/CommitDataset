[+++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +Setting a negative `boost` for a query or a field, deprecated in 6x, is not allowed in this version., +To deboost a specific query or field you can use a `boost` comprise between 0 and 1., +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +Setting a negative `boost` for a query or a field, deprecated in 6x, is not allowed in this version., +To deboost a specific query or field you can use a `boost` comprise between 0 and 1., +++ b/server/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java, +        checkNegativeBoost(boost);, +    protected final void checkNegativeBoost(float boost) {, +        if (Float.compare(boost, 0f) < 0) {, +            throw new IllegalArgumentException("negative [boost] are not allowed in [" + toString() + "], " +, +                "use a value between 0 and 1 to deboost");, +        }, +    }, +, +        checkNegativeBoost(boost);, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +Setting a negative `boost` for a query or a field, deprecated in 6x, is not allowed in this version., +To deboost a specific query or field you can use a `boost` comprise between 0 and 1., +++ b/server/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java, +        checkNegativeBoost(boost);, +    protected final void checkNegativeBoost(float boost) {, +        if (Float.compare(boost, 0f) < 0) {, +            throw new IllegalArgumentException("negative [boost] are not allowed in [" + toString() + "], " +, +                "use a value between 0 and 1 to deboost");, +        }, +    }, +, +        checkNegativeBoost(boost);, +++ b/server/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java, +            String field = in.readString();, +            float boost = in.readFloat();, +            checkNegativeBoost(boost);, +            fieldsBoosts.put(field, boost);, +        checkNegativeBoost(boost);, +        for (float fieldBoost : fields.values()) {, +            checkNegativeBoost(fieldBoost);, +        }, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +Setting a negative `boost` for a query or a field, deprecated in 6x, is not allowed in this version., +To deboost a specific query or field you can use a `boost` comprise between 0 and 1., +++ b/server/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java, +        checkNegativeBoost(boost);, +    protected final void checkNegativeBoost(float boost) {, +        if (Float.compare(boost, 0f) < 0) {, +            throw new IllegalArgumentException("negative [boost] are not allowed in [" + toString() + "], " +, +                "use a value between 0 and 1 to deboost");, +        }, +    }, +, +        checkNegativeBoost(boost);, +++ b/server/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java, +            String field = in.readString();, +            float boost = in.readFloat();, +            checkNegativeBoost(boost);, +            fieldsBoosts.put(field, boost);, +        checkNegativeBoost(boost);, +        for (float fieldBoost : fields.values()) {, +            checkNegativeBoost(fieldBoost);, +        }, +++ b/server/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java, +            String field = in.readString();, +            Float weight = in.readFloat();, +            checkNegativeBoost(weight);, +            fieldsAndWeights.put(field, weight);, +        checkNegativeBoost(boost);, +        for (float fieldBoost : fields.values()) {, +            checkNegativeBoost(fieldBoost);, +        }, +++ b/docs/reference/migration/migrate_7_0/search.asciidoc, +Setting a negative `boost` for a query or a field, deprecated in 6x, is not allowed in this version., +To deboost a specific query or field you can use a `boost` comprise between 0 and 1., +++ b/server/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java, +        checkNegativeBoost(boost);, +    protected final void checkNegativeBoost(float boost) {, +        if (Float.compare(boost, 0f) < 0) {, +            throw new IllegalArgumentException("negative [boost] are not allowed in [" + toString() + "], " +, +                "use a value between 0 and 1 to deboost");, +        }, +    }, +, +        checkNegativeBoost(boost);, +++ b/server/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java, +            String field = in.readString();, +            float boost = in.readFloat();, +            checkNegativeBoost(boost);, +            fieldsBoosts.put(field, boost);, +        checkNegativeBoost(boost);, +        for (float fieldBoost : fields.values()) {, +            checkNegativeBoost(fieldBoost);, +        }, +++ b/server/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java, +            String field = in.readString();, +            Float weight = in.readFloat();, +            checkNegativeBoost(weight);, +            fieldsAndWeights.put(field, weight);, +        checkNegativeBoost(boost);, +        for (float fieldBoost : fields.values()) {, +            checkNegativeBoost(fieldBoost);, +        }]