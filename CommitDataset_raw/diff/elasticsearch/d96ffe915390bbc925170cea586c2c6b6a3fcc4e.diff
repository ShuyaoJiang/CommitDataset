[+++ b/modules/benchmark/micro/src/main/java/org/elasticsearch/benchmark/index/engine/SimpleEngineBenchmark.java, +import org.elasticsearch.index.mapper.ParsedDocument;, +            ParsedDocument pDoc = new ParsedDocument(sId, sId, "type", doc, TRANSLOG_PAYLOAD, false);, +                engine.create(new Engine.Create(pDoc, Lucene.STANDARD_ANALYZER));, +                engine.index(new Engine.Index(new Term("_id", sId), pDoc, Lucene.STANDARD_ANALYZER));, +                    ParsedDocument pDoc = new ParsedDocument(sId, sId, "type", doc, TRANSLOG_PAYLOAD, false);, +                        engine.create(new Engine.Create(pDoc, Lucene.STANDARD_ANALYZER));, +                        engine.index(new Engine.Index(new Term("_id", sId), pDoc, Lucene.STANDARD_ANALYZER));, +++ b/modules/benchmark/micro/src/main/java/org/elasticsearch/benchmark/index/engine/SimpleEngineBenchmark.java, +import org.elasticsearch.index.mapper.ParsedDocument;, +            ParsedDocument pDoc = new ParsedDocument(sId, sId, "type", doc, TRANSLOG_PAYLOAD, false);, +                engine.create(new Engine.Create(pDoc, Lucene.STANDARD_ANALYZER));, +                engine.index(new Engine.Index(new Term("_id", sId), pDoc, Lucene.STANDARD_ANALYZER));, +                    ParsedDocument pDoc = new ParsedDocument(sId, sId, "type", doc, TRANSLOG_PAYLOAD, false);, +                        engine.create(new Engine.Create(pDoc, Lucene.STANDARD_ANALYZER));, +                        engine.index(new Engine.Index(new Term("_id", sId), pDoc, Lucene.STANDARD_ANALYZER));, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/engine/Engine.java, +import org.elasticsearch.index.mapper.ParsedDocument;, +    EngineException[] bulk(Bulk bulk) throws EngineException;, +, +    static interface Operation {, +        static enum Type {, +            CREATE,, +            INDEX,, +            DELETE, +        }, +        Type opType();, +    }, +, +    static class Bulk {, +        private final Operation[] ops;, +, +        public Bulk(Operation[] ops) {, +            this.ops = ops;, +        }, +, +        public Operation[] ops() {, +            return this.ops;, +        }, +    }, +, +    static class Create implements Operation {, +        private final ParsedDocument doc;, +        private final Analyzer analyzer;, +, +        public Create(ParsedDocument doc, Analyzer analyzer) {, +            this.doc = doc;, +        }, +, +        @Override public Type opType() {, +            return Type.CREATE;, +        }, +, +        public ParsedDocument parsedDoc() {, +            return this.doc;, +            return this.doc.type();, +            return this.doc.id();, +            return this.doc.doc();, +            return this.doc.source();, +    static class Index implements Operation {, +        private final ParsedDocument doc;, +        public Index(Term uid, ParsedDocument doc, Analyzer analyzer) {, +            this.doc = doc;, +        }, +, +        @Override public Type opType() {, +            return Type.INDEX;, +        public ParsedDocument parsedDoc() {, +            return this.doc;, +        }, +, +            return this.doc.doc();, +            return this.doc.id();, +            return this.doc.type();, +            return this.doc.source();, +    static class Delete implements Operation {, +        @Override public Type opType() {, +            return Type.DELETE;, +        }, +, +++ b/modules/benchmark/micro/src/main/java/org/elasticsearch/benchmark/index/engine/SimpleEngineBenchmark.java, +import org.elasticsearch.index.mapper.ParsedDocument;, +            ParsedDocument pDoc = new ParsedDocument(sId, sId, "type", doc, TRANSLOG_PAYLOAD, false);, +                engine.create(new Engine.Create(pDoc, Lucene.STANDARD_ANALYZER));, +                engine.index(new Engine.Index(new Term("_id", sId), pDoc, Lucene.STANDARD_ANALYZER));, +                    ParsedDocument pDoc = new ParsedDocument(sId, sId, "type", doc, TRANSLOG_PAYLOAD, false);, +                        engine.create(new Engine.Create(pDoc, Lucene.STANDARD_ANALYZER));, +                        engine.index(new Engine.Index(new Term("_id", sId), pDoc, Lucene.STANDARD_ANALYZER));, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/engine/Engine.java, +import org.elasticsearch.index.mapper.ParsedDocument;, +    EngineException[] bulk(Bulk bulk) throws EngineException;, +, +    static interface Operation {, +        static enum Type {, +            CREATE,, +            INDEX,, +            DELETE, +        }, +        Type opType();, +    }]