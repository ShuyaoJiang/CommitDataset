[+++ b/core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java, +import org.elasticsearch.index.shard.ShardId;, +        String clusterAlias = shardIt.getClusterAlias();, +            filter, indexBoost, timeProvider.getAbsoluteStartMillis(), clusterAlias);, +++ b/core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java, +import org.elasticsearch.index.shard.ShardId;, +        String clusterAlias = shardIt.getClusterAlias();, +            filter, indexBoost, timeProvider.getAbsoluteStartMillis(), clusterAlias);, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java, +                aliasFilterMap.put(shardId.getIndex().getUUID(), aliasFilter);, +                SearchShardIterator shardIterator = new SearchShardIterator(clusterAlias, shardId,, +++ b/core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java, +import org.elasticsearch.index.shard.ShardId;, +        String clusterAlias = shardIt.getClusterAlias();, +            filter, indexBoost, timeProvider.getAbsoluteStartMillis(), clusterAlias);, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java, +                aliasFilterMap.put(shardId.getIndex().getUUID(), aliasFilter);, +                SearchShardIterator shardIterator = new SearchShardIterator(clusterAlias, shardId,, +++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +import org.elasticsearch.transport.RemoteClusterAware;, +    private transient String clusterAlias;, +            this.clusterAlias = target.getClusterAlias();, +    /**, +     * Returns the cluster alias this hit comes from or null if it comes from a local cluster, +     */, +    public String getClusterAlias() {, +        return clusterAlias;, +    }, +, +                builder.field(Fields._INDEX, RemoteClusterAware.buildRemoteIndexName(clusterAlias, index));, +++ b/core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java, +import org.elasticsearch.index.shard.ShardId;, +        String clusterAlias = shardIt.getClusterAlias();, +            filter, indexBoost, timeProvider.getAbsoluteStartMillis(), clusterAlias);, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java, +                aliasFilterMap.put(shardId.getIndex().getUUID(), aliasFilter);, +                SearchShardIterator shardIterator = new SearchShardIterator(clusterAlias, shardId,, +++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +import org.elasticsearch.transport.RemoteClusterAware;, +    private transient String clusterAlias;, +            this.clusterAlias = target.getClusterAlias();, +    /**, +     * Returns the cluster alias this hit comes from or null if it comes from a local cluster, +     */, +    public String getClusterAlias() {, +        return clusterAlias;, +    }, +, +                builder.field(Fields._INDEX, RemoteClusterAware.buildRemoteIndexName(clusterAlias, index));, +++ b/core/src/main/java/org/elasticsearch/search/SearchHits.java, +++ b/core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java, +import org.elasticsearch.index.shard.ShardId;, +        String clusterAlias = shardIt.getClusterAlias();, +            filter, indexBoost, timeProvider.getAbsoluteStartMillis(), clusterAlias);, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java, +                aliasFilterMap.put(shardId.getIndex().getUUID(), aliasFilter);, +                SearchShardIterator shardIterator = new SearchShardIterator(clusterAlias, shardId,, +++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +import org.elasticsearch.transport.RemoteClusterAware;, +    private transient String clusterAlias;, +            this.clusterAlias = target.getClusterAlias();, +    /**, +     * Returns the cluster alias this hit comes from or null if it comes from a local cluster, +     */, +    public String getClusterAlias() {, +        return clusterAlias;, +    }, +, +                builder.field(Fields._INDEX, RemoteClusterAware.buildRemoteIndexName(clusterAlias, index));, +++ b/core/src/main/java/org/elasticsearch/search/SearchHits.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchService.java, +                indexShard.shardId(), request.getClusterAlias(), OriginalIndices.NONE);, +++ b/core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java, +import org.elasticsearch.index.shard.ShardId;, +        String clusterAlias = shardIt.getClusterAlias();, +            filter, indexBoost, timeProvider.getAbsoluteStartMillis(), clusterAlias);, +++ b/core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java, +                aliasFilterMap.put(shardId.getIndex().getUUID(), aliasFilter);, +                SearchShardIterator shardIterator = new SearchShardIterator(clusterAlias, shardId,, +++ b/core/src/main/java/org/elasticsearch/search/SearchHit.java, +import org.elasticsearch.transport.RemoteClusterAware;, +    private transient String clusterAlias;, +            this.clusterAlias = target.getClusterAlias();, +    /**, +     * Returns the cluster alias this hit comes from or null if it comes from a local cluster, +     */, +    public String getClusterAlias() {, +        return clusterAlias;, +    }, +, +                builder.field(Fields._INDEX, RemoteClusterAware.buildRemoteIndexName(clusterAlias, index));, +++ b/core/src/main/java/org/elasticsearch/search/SearchHits.java, +++ b/core/src/main/java/org/elasticsearch/search/SearchService.java, +                indexShard.shardId(), request.getClusterAlias(), OriginalIndices.NONE);, +++ b/core/src/main/java/org/elasticsearch/search/SearchShardTarget.java, +import org.elasticsearch.Version;, +import org.elasticsearch.transport.RemoteClusterAware;, +    private final String clusterAlias;, +        if (in.getVersion().onOrAfter(Version.V_6_0_0_beta1)) {, +            clusterAlias = in.readOptionalString();]