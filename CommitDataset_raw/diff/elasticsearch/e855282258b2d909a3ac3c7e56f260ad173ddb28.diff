[+++ b/core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java, +        private int numShards = 0;, +            numShards++;, +            numShards--;]