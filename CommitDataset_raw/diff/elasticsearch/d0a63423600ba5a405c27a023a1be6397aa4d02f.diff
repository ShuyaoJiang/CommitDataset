[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +    private static volatile Thread keepAliveThread;, +, +    private static volatile CountDownLatch keepAliveLatch;, +            keepAliveLatch = new CountDownLatch(1);, +                    keepAliveLatch.countDown();, +                        keepAliveLatch.await();]