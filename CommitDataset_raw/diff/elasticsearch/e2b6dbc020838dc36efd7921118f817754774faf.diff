[+++ b/test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java, +import static org.hamcrest.Matchers.containsString;, +import static org.hamcrest.Matchers.either;, +import static org.hamcrest.Matchers.equalTo;, +import static org.hamcrest.Matchers.instanceOf;, +import static org.hamcrest.Matchers.not;, +, +import java.io.Closeable;, +import java.io.IOException;, +import java.lang.reflect.InvocationHandler;, +import java.lang.reflect.Method;, +import java.lang.reflect.Proxy;, +import java.util.ArrayList;, +import java.util.Collection;, +import java.util.Collections;, +import java.util.HashSet;, +import java.util.List;, +import java.util.Locale;, +import java.util.Map;, +import java.util.Set;, +import java.util.concurrent.ExecutionException;, +import org.apache.lucene.util.IOUtils;, +import org.elasticsearch.common.inject.Module;, +import org.elasticsearch.common.settings.IndexScopedSettings;, +import org.elasticsearch.index.query.AbstractQueryBuilder;, +import org.elasticsearch.index.query.QueryBuilder;, +import org.elasticsearch.index.query.QueryParseContext;, +import org.elasticsearch.index.query.QueryRewriteContext;, +import org.elasticsearch.index.query.QueryShardContext;, +import org.elasticsearch.node.internal.InternalSettingsPreparer;, +import org.elasticsearch.plugins.Plugin;, +import org.elasticsearch.plugins.PluginsModule;, +import org.elasticsearch.plugins.PluginsService;, +import com.carrotsearch.randomizedtesting.generators.CodepointSetGenerator;, +import com.fasterxml.jackson.core.JsonParseException;, +import com.fasterxml.jackson.core.io.JsonStringEncoder;, +            assertNotNull("toQuery should not return null", firstLuceneQuery);, +        @Override]