[+++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception t) {, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), t);, +                logger.info("Shut down remote connection");, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception t) {, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), t);, +                logger.info("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +import org.elasticsearch.common.io.PathUtils;, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files/";, +        logger.debug("unzipping all tika sample files");, +        try (DirectoryStream<Path> stream = Files.newDirectoryStream(PathUtils.get(getClass().getResource(TIKA_FILES).toURI()))) {, +            for (Path doc : stream) {, +                String filename = doc.getFileName().toString();, +                TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES + filename), tmp);, +            }, +        }, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception t) {, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), t);, +                logger.info("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +import org.elasticsearch.common.io.PathUtils;, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files/";, +        logger.debug("unzipping all tika sample files");, +        try (DirectoryStream<Path> stream = Files.newDirectoryStream(PathUtils.get(getClass().getResource(TIKA_FILES).toURI()))) {, +            for (Path doc : stream) {, +                String filename = doc.getFileName().toString();, +                TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES + filename), tmp);, +            }, +        }, +++ /dev/null, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception t) {, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), t);, +                logger.info("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +import org.elasticsearch.common.io.PathUtils;, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files/";, +        logger.debug("unzipping all tika sample files");, +        try (DirectoryStream<Path> stream = Files.newDirectoryStream(PathUtils.get(getClass().getResource(TIKA_FILES).toURI()))) {, +            for (Path doc : stream) {, +                String filename = doc.getFileName().toString();, +                TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES + filename), tmp);, +            }, +        }, +++ /dev/null, +++ b/plugins/ingest-attachment/src/test/resources/org/elasticsearch/ingest/attachment/test/tika-files/Doc1_ole.doc.zip, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception t) {, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), t);, +                logger.info("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +import org.elasticsearch.common.io.PathUtils;, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files/";, +        logger.debug("unzipping all tika sample files");, +        try (DirectoryStream<Path> stream = Files.newDirectoryStream(PathUtils.get(getClass().getResource(TIKA_FILES).toURI()))) {, +            for (Path doc : stream) {, +                String filename = doc.getFileName().toString();, +                TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES + filename), tmp);, +            }, +        }, +++ /dev/null, +++ b/plugins/ingest-attachment/src/test/resources/org/elasticsearch/ingest/attachment/test/tika-files/Doc1_ole.doc.zip, +++ b/plugins/ingest-attachment/src/test/resources/org/elasticsearch/ingest/attachment/test/tika-files/EmbeddedDocument.docx.zip, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception t) {, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), t);, +                logger.info("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +import org.elasticsearch.common.io.PathUtils;, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files/";, +        logger.debug("unzipping all tika sample files");, +        try (DirectoryStream<Path> stream = Files.newDirectoryStream(PathUtils.get(getClass().getResource(TIKA_FILES).toURI()))) {, +            for (Path doc : stream) {, +                String filename = doc.getFileName().toString();, +                TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES + filename), tmp);, +            }, +        }, +++ /dev/null, +++ b/plugins/ingest-attachment/src/test/resources/org/elasticsearch/ingest/attachment/test/tika-files/Doc1_ole.doc.zip, +++ b/plugins/ingest-attachment/src/test/resources/org/elasticsearch/ingest/attachment/test/tika-files/EmbeddedDocument.docx.zip, +++ b/plugins/ingest-attachment/src/test/resources/org/elasticsearch/ingest/attachment/test/tika-files/EmbeddedOutlook.docx.zip, +++ b/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteScrollableHitSource.java, +            public void onFailure(Exception t) {, +                logger.warn((Supplier<?>) () -> new ParameterizedMessage("Failed to clear scroll [{}]", scrollId), t);, +                logger.info("Shut down remote connection");, +++ b/plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/TikaDocTests.java, +import org.elasticsearch.common.io.PathUtils;, +    static final String TIKA_FILES = "/org/elasticsearch/ingest/attachment/test/tika-files/";, +        logger.debug("unzipping all tika sample files");, +        try (DirectoryStream<Path> stream = Files.newDirectoryStream(PathUtils.get(getClass().getResource(TIKA_FILES).toURI()))) {, +            for (Path doc : stream) {, +                String filename = doc.getFileName().toString();, +                TestUtil.unzip(getClass().getResourceAsStream(TIKA_FILES + filename), tmp);, +            }, +        }, +++ /dev/null, +++ b/plugins/ingest-attachment/src/test/resources/org/elasticsearch/ingest/attachment/test/tika-files/Doc1_ole.doc.zip]