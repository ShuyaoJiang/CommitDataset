[+++ /dev/null, +++ /dev/null, +++ b/dev-tools/src/main/resources/ant/integration-tests.xml, +      <!-- print commands we run -->, +      <local name="script.base"/>, +      <basename file="@{script}" property="script.base"/>, +      <echo>execute: ${script.base} @{args}</echo>, +, +      <exec executable="cmd" osfamily="winnt" dir="${integ.temp}" failonerror="${failonerror}" spawn="@{spawn}" taskname="${script.base}">, +      <exec executable="sh" osfamily="unix" dir="${integ.temp}" failonerror="${failonerror}" spawn="@{spawn}" taskname="${script.base}">, +      <attribute name="file"/>, +      <loadfile srcFile="@{file}" property="@{property}">, +      <attribute name="spawn" default="true"/>, +      <attribute name="es.cluster.name" default="${integ.cluster.name}"/>, +      <attribute name="es.http.port" default="${integ.http.port}"/>, +      <attribute name="es.transport.tcp.port" default="${integ.transport.port}"/>, +      <attribute name="es.pidfile" default="${integ.pidfile}"/>, +      <attribute name="additional.args" default=""/>, +      <element name="nested.args" optional="true"/>, +, +      <!-- build args to pass to es -->, +      <local name="integ.args"/>, +      <property name="integ.args" value=", +-Des.cluster.name=@{es.cluster.name}, +-Des.http.port=@{es.http.port}, +-Des.transport.tcp.port=@{es.transport.tcp.port}, +-Des.pidfile=@{es.pidfile}, +-Des.path.repo=@{home}/repo, +-Des.discovery.zen.ping.multicast.enabled=false, +-Des.script.inline=on, +-Des.script.indexed=on, +-Des.repositories.url.allowed_urls=http://snapshot.test*, +@{additional.args}", +      />, +, +      <!-- run bin/elasticsearch with args -->, +      <run-script script="@{home}/bin/elasticsearch" , +                  spawn="@{spawn}", +                  args="${integ.args}">, +        <nested>, +          <nested.args/>, +        </nested>, +      </run-script>, +        <http url="http://127.0.0.1:@{es.http.port}"/>, +      <loadfile srcFile="@{home}/logs/@{es.cluster.name}.log", +      <echo message="${log.contents}" taskname="elasticsearch"/>, +      <extract-pid file="@{es.pidfile}" property="integ.pid"/>, +  <target name="setup-workspace" depends="stop-external-cluster">, +      <startup-elasticsearch spawn="false" home="${home}">, +        <nested.args>, +        </nested.args>, +      </startup-elasticsearch>, +  <target name="start-external-cluster-with-plugin" depends="setup-workspace">, +    <extract-pid file="${integ.pidfile}" property="integ.pid"/>, +  <target name="setup-workspace-zip" depends="stop-external-cluster">, +  <target name="start-external-cluster-zip" depends="setup-workspace-zip">, +  <target name="setup-workspace-tar" depends="stop-external-cluster">, +  <target name="start-external-cluster-tar" depends="setup-workspace-tar">, +  <target name="setup-workspace-deb" depends="stop-external-cluster">, +  <target name="start-external-cluster-deb" depends="setup-workspace-deb">, +  <target name="setup-workspace-rpm" depends="stop-external-cluster">, +  <target name="start-external-cluster-rpm" depends="setup-workspace-rpm">, +++ /dev/null, +++ b/dev-tools/src/main/resources/ant/integration-tests.xml, +      <!-- print commands we run -->, +      <local name="script.base"/>, +      <basename file="@{script}" property="script.base"/>, +      <echo>execute: ${script.base} @{args}</echo>, +, +      <exec executable="cmd" osfamily="winnt" dir="${integ.temp}" failonerror="${failonerror}" spawn="@{spawn}" taskname="${script.base}">, +      <exec executable="sh" osfamily="unix" dir="${integ.temp}" failonerror="${failonerror}" spawn="@{spawn}" taskname="${script.base}">, +      <attribute name="file"/>, +      <loadfile srcFile="@{file}" property="@{property}">, +      <attribute name="spawn" default="true"/>, +      <attribute name="es.cluster.name" default="${integ.cluster.name}"/>, +      <attribute name="es.http.port" default="${integ.http.port}"/>, +      <attribute name="es.transport.tcp.port" default="${integ.transport.port}"/>, +      <attribute name="es.pidfile" default="${integ.pidfile}"/>, +      <attribute name="additional.args" default=""/>, +      <element name="nested.args" optional="true"/>, +, +      <!-- build args to pass to es -->, +      <local name="integ.args"/>, +      <property name="integ.args" value=", +-Des.cluster.name=@{es.cluster.name}, +-Des.http.port=@{es.http.port}, +-Des.transport.tcp.port=@{es.transport.tcp.port}, +-Des.pidfile=@{es.pidfile}, +-Des.path.repo=@{home}/repo, +-Des.discovery.zen.ping.multicast.enabled=false, +-Des.script.inline=on, +-Des.script.indexed=on, +-Des.repositories.url.allowed_urls=http://snapshot.test*, +@{additional.args}", +      />, +, +      <!-- run bin/elasticsearch with args -->, +      <run-script script="@{home}/bin/elasticsearch" , +                  spawn="@{spawn}", +                  args="${integ.args}">]