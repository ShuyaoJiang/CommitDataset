[+++ b/server/src/main/java/org/elasticsearch/cluster/service/MasterService.java, +            return new DelegatingAckListener(ackListeners);, +    private static class DelegatingAckListener implements Discovery.AckListener {, +        private DelegatingAckListener(List<Discovery.AckListener> listeners) {, +++ b/server/src/main/java/org/elasticsearch/cluster/service/MasterService.java, +            return new DelegatingAckListener(ackListeners);, +    private static class DelegatingAckListener implements Discovery.AckListener {, +        private DelegatingAckListener(List<Discovery.AckListener> listeners) {, +++ b/server/src/main/java/org/elasticsearch/discovery/Discovery.java, +++ b/server/src/main/java/org/elasticsearch/cluster/service/MasterService.java, +            return new DelegatingAckListener(ackListeners);, +    private static class DelegatingAckListener implements Discovery.AckListener {, +        private DelegatingAckListener(List<Discovery.AckListener> listeners) {, +++ b/server/src/main/java/org/elasticsearch/discovery/Discovery.java, +++ b/server/src/test/java/org/elasticsearch/discovery/zen/PublishClusterStateActionTests.java]