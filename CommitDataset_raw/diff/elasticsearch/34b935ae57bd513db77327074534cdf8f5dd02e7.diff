[+++ b/server/src/main/java/org/elasticsearch/plugins/ActionPlugin.java, +     * The returned {@link UnaryOperator} is called for every incoming rest request and receives, +     * the original rest handler as it's input. This allows adding arbitrary functionality around, +     * rest request handlers to do for instance logging or authentication., +     * A simple example of how to only allow GET request is here:, +     * <pre>, +     * {@code, +     *    UnaryOperator<RestHandler> getRestHandlerWrapper(ThreadContext threadContext) {, +     *      return originalHandler -> (RestHandler) (request, channel, client) -> {, +     *        if (request.method() != Method.GET) {, +     *          throw new IllegalStateException("only GET requests are allowed");, +     *        }, +     *        originalHandler.handleRequest(request, channel, client);, +     *      };, +     *    }, +     * }, +     * </pre>]