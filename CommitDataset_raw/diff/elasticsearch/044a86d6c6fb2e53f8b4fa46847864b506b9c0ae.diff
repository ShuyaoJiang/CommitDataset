[+++ b/plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java, +import java.util.HashMap;, +import java.util.Map;, +import java.util.Objects;, +        Object property = get(path);, +        return (T) property;, +     *, +     * @param path The path within the document in dot-notation, +     * @return true if the document contains the property, false otherwise, +     */, +    public boolean containsProperty(String path) {, +        return getProperty(path) != null;, +    }, +, +    private Object get(String path) {, +        if (path == null || path.length() == 0) {, +            return null;, +        }, +        String[] pathElements = Strings.splitStringToArray(path, '.');, +        assert pathElements.length > 0;, +, +        Map<String, Object> innerMap = document;, +        for (int i = 0; i < pathElements.length - 1; i++) {, +            Object obj = innerMap.get(pathElements[i]);, +            if (obj instanceof Map) {, +                @SuppressWarnings("unchecked"), +                Map<String, Object> stringObjectMap = (Map<String, Object>) obj;, +                innerMap = stringObjectMap;, +            } else {, +                return null;, +            }, +        }, +, +        String leafKey = pathElements[pathElements.length - 1];, +        return innerMap.get(leafKey);, +    }, +, +    /**, +     * Adds the provided value to path in document. If path does not exist,, +        Map<String, Object> inner = document;, +        String leafKey = pathElements[pathElements.length - 1];, +        inner.put(leafKey, value);]