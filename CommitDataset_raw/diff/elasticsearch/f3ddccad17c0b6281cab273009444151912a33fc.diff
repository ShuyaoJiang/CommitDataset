[+++ b/docs/plugins/discovery-azure-classic.asciidoc, +[[discovery-azure-classic]], +=== Azure Classic Discovery Plugin, +, +The Azure Classic Discovery plugin uses the Azure Classic API for unicast discovery., +, +[[discovery-azure-classic-install]], +[float], +==== Installation, +, +This plugin can be installed using the plugin manager:, +, +[source,sh], +----------------------------------------------------------------, +sudo bin/elasticsearch-plugin install discovery-azure-classic, +----------------------------------------------------------------, +, +The plugin must be installed on every node in the cluster, and each node must, +be restarted after installation., +, +[[discovery-azure-classic-remove]], +[float], +==== Removal, +, +The plugin can be removed with the following command:, +, +[source,sh], +----------------------------------------------------------------, +sudo bin/elasticsearch-plugin remove discovery-azure-classic, +----------------------------------------------------------------, +, +The node must be stopped before removing the plugin., +, +[[discovery-azure-classic-usage]], +==== Azure Virtual Machine Discovery, +, +Azure VM discovery allows to use the azure APIs to perform automatic discovery (similar to multicast in non hostile, +multicast environments). Here is a simple sample configuration:, +, +[source,yaml], +----, +cloud:, +    azure:, +        management:, +             subscription.id: XXX-XXX-XXX-XXX, +             cloud.service.name: es-demo-app, +             keystore:, +                   path: /path/to/azurekeystore.pkcs12, +                   password: WHATEVER, +                   type: pkcs12, +, +discovery:, +    type: azure, +----, +, +[IMPORTANT], +.Binding the network host, +==============================================, +, +The keystore file must be placed in a directory accessible by elasticsearch like the `config` directory., +, +It's important to define `network.host` as by default it's bound to `localhost`., +, +You can use {ref}/modules-network.html[core network host settings]. For example `_en0_`., +, +==============================================, +, +[[discovery-azure-classic-short]], +===== How to start (short story), +, +* Create Azure instances, +* Install Elasticsearch, +* Install Azure plugin, +* Modify `elasticsearch.yml` file, +* Start Elasticsearch, +, +[[discovery-azure-classic-settings]], +===== Azure credential API settings, +, +The following are a list of settings that can further control the credential API:, +, +[horizontal], +`cloud.azure.management.keystore.path`::, +, +    /path/to/keystore, +, +`cloud.azure.management.keystore.type`::, +, +    `pkcs12`, `jceks` or `jks`. Defaults to `pkcs12`., +, +`cloud.azure.management.keystore.password`::, +, +    your_password for the keystore, +, +`cloud.azure.management.subscription.id`::, +, +    your_azure_subscription_id, +, +`cloud.azure.management.cloud.service.name`::, +]