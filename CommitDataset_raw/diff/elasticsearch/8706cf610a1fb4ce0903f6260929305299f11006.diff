[+++ b/src/main/java/org/elasticsearch/rest/action/percolate/RestPercolateAction.java, +import org.elasticsearch.common.bytes.BytesArray;, +import org.elasticsearch.common.bytes.BytesReference;, +, +        BytesReference content = null;, +        if (restRequest.hasContent()) {, +            content = restRequest.content();, +        } else {, +            String source = restRequest.param("source");, +            if (source != null) {, +                content = new BytesArray(source);, +            }, +        }, +, +        percolateRequest.source(content, restRequest.contentUnsafe());]