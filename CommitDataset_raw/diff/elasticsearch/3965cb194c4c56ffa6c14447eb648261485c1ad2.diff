[+++ b/src/main/java/org/elasticsearch/alerts/TemplateHelper.java, +                int foundVersion = templateMetaData.getSettings().getAsInt("index.alerts.template_version", -1);, +++ b/src/main/java/org/elasticsearch/alerts/TemplateHelper.java, +                int foundVersion = templateMetaData.getSettings().getAsInt("index.alerts.template_version", -1);, +++ b/src/main/resources/alerthistory.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/main/java/org/elasticsearch/alerts/TemplateHelper.java, +                int foundVersion = templateMetaData.getSettings().getAsInt("index.alerts.template_version", -1);, +++ b/src/main/resources/alerthistory.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/main/resources/alerts.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/main/java/org/elasticsearch/alerts/TemplateHelper.java, +                int foundVersion = templateMetaData.getSettings().getAsInt("index.alerts.template_version", -1);, +++ b/src/main/resources/alerthistory.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/main/resources/alerts.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/test/java/org/elasticsearch/alerts/AbstractAlertingTests.java, +@ElasticsearchIntegrationTest.ClusterScope(scope = ElasticsearchIntegrationTest.Scope.SUITE, numClientNodes = 0, transportClientRatio = 0, randomDynamicTemplates = false), +    public boolean randomizeNumberOfShardsAndReplicas() {, +        return false;, +    }, +, +++ b/src/main/java/org/elasticsearch/alerts/TemplateHelper.java, +                int foundVersion = templateMetaData.getSettings().getAsInt("index.alerts.template_version", -1);, +++ b/src/main/resources/alerthistory.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/main/resources/alerts.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/test/java/org/elasticsearch/alerts/AbstractAlertingTests.java, +@ElasticsearchIntegrationTest.ClusterScope(scope = ElasticsearchIntegrationTest.Scope.SUITE, numClientNodes = 0, transportClientRatio = 0, randomDynamicTemplates = false), +    public boolean randomizeNumberOfShardsAndReplicas() {, +        return false;, +    }, +, +++ b/src/test/java/org/elasticsearch/alerts/BootStrapTest.java, +++ b/src/main/java/org/elasticsearch/alerts/TemplateHelper.java, +                int foundVersion = templateMetaData.getSettings().getAsInt("index.alerts.template_version", -1);, +++ b/src/main/resources/alerthistory.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/main/resources/alerts.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/test/java/org/elasticsearch/alerts/AbstractAlertingTests.java, +@ElasticsearchIntegrationTest.ClusterScope(scope = ElasticsearchIntegrationTest.Scope.SUITE, numClientNodes = 0, transportClientRatio = 0, randomDynamicTemplates = false), +    public boolean randomizeNumberOfShardsAndReplicas() {, +        return false;, +    }, +, +++ b/src/test/java/org/elasticsearch/alerts/BootStrapTest.java, +++ b/src/test/java/org/elasticsearch/alerts/NoMasterNodeTests.java, +@ElasticsearchIntegrationTest.ClusterScope(scope = ElasticsearchIntegrationTest.Scope.TEST, numClientNodes = 0, transportClientRatio = 0, randomDynamicTemplates = false, numDataNodes = 0), +++ b/src/main/java/org/elasticsearch/alerts/TemplateHelper.java, +                int foundVersion = templateMetaData.getSettings().getAsInt("index.alerts.template_version", -1);, +++ b/src/main/resources/alerthistory.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/main/resources/alerts.json, +  "order": 2147483647,, +    "index.number_of_shards": 1,, +    "index.number_of_replicas": 1,, +    "index.alerts.template_version": 1, +++ b/src/test/java/org/elasticsearch/alerts/AbstractAlertingTests.java, +@ElasticsearchIntegrationTest.ClusterScope(scope = ElasticsearchIntegrationTest.Scope.SUITE, numClientNodes = 0, transportClientRatio = 0, randomDynamicTemplates = false), +    public boolean randomizeNumberOfShardsAndReplicas() {, +        return false;, +    }, +, +++ b/src/test/java/org/elasticsearch/alerts/BootStrapTest.java, +++ b/src/test/java/org/elasticsearch/alerts/NoMasterNodeTests.java, +@ElasticsearchIntegrationTest.ClusterScope(scope = ElasticsearchIntegrationTest.Scope.TEST, numClientNodes = 0, transportClientRatio = 0, randomDynamicTemplates = false, numDataNodes = 0)]