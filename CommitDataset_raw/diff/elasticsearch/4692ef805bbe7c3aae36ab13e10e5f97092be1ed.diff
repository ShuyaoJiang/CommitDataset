[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/gateway/fs/FsIndexShardGateway.java, +                IndexInput indexInput = null;, +                    indexInput = snapshotIndexCommit.getDirectory().openInput(fileName);, +                } finally {, +                    if (indexInput != null) {, +                        try {, +                            indexInput.close();, +                        } catch (IOException e) {, +                            // ignore, +                        }, +                    }, +                try {, +            }, +        if (files == null) {, +            return -1;, +        }, +            RandomAccessFile raf = null;, +                raf = new RandomAccessFile(file, "r");, +            } finally {, +                try {, +                    raf.close();, +                } catch (IOException e) {, +                    // ignore, +                }]