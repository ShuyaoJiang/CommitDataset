[+++ b/README.textile, +Elasticsearch uses "Gradle":http://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.8 should do., +++ b/README.textile, +Elasticsearch uses "Gradle":http://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.8 should do., +++ b/build.gradle, +task clean(type: GradleBuild) {, +  buildFile = 'buildSrc/build.gradle', +  tasks = ['clean'], +}, +, +++ b/README.textile, +Elasticsearch uses "Gradle":http://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.8 should do., +++ b/build.gradle, +task clean(type: GradleBuild) {, +  buildFile = 'buildSrc/build.gradle', +  tasks = ['clean'], +}, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +import java.time.ZonedDateTime, +import java.time.ZoneOffset, +, +        configureJarManifest(project) // jar config must be added before info broker, +, +            jarTask.doFirst {, +                // this doFirst is added before the info plugin, therefore it will run, +                // after the doFirst added by the info plugin, and we can override attributes, +                jarTask.manifest.attributes(, +                        'X-Compile-Elasticsearch-Version': VersionProperties.elasticsearch,, +                        'X-Compile-Lucene-Version': VersionProperties.lucene,, +                        'Build-Date': ZonedDateTime.now(ZoneOffset.UTC)), +++ b/README.textile, +Elasticsearch uses "Gradle":http://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.8 should do., +++ b/build.gradle, +task clean(type: GradleBuild) {, +  buildFile = 'buildSrc/build.gradle', +  tasks = ['clean'], +}, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +import java.time.ZonedDateTime, +import java.time.ZoneOffset, +, +        configureJarManifest(project) // jar config must be added before info broker, +, +            jarTask.doFirst {, +                // this doFirst is added before the info plugin, therefore it will run, +                // after the doFirst added by the info plugin, and we can override attributes, +                jarTask.manifest.attributes(, +                        'X-Compile-Elasticsearch-Version': VersionProperties.elasticsearch,, +                        'X-Compile-Lucene-Version': VersionProperties.lucene,, +                        'Build-Date': ZonedDateTime.now(ZoneOffset.UTC)), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/ForbiddenPatternsTask.groovy, +import org.gradle.api.tasks.OutputFile, +    @OutputFile, +    File outputMarker = new File(project.buildDir, "markers/forbiddenPatterns"), +, +        outputMarker.setText('done', 'UTF-8'), +++ b/README.textile, +Elasticsearch uses "Gradle":http://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.8 should do., +++ b/build.gradle, +task clean(type: GradleBuild) {, +  buildFile = 'buildSrc/build.gradle', +  tasks = ['clean'], +}, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +import java.time.ZonedDateTime, +import java.time.ZoneOffset, +, +        configureJarManifest(project) // jar config must be added before info broker, +, +            jarTask.doFirst {, +                // this doFirst is added before the info plugin, therefore it will run, +                // after the doFirst added by the info plugin, and we can override attributes, +                jarTask.manifest.attributes(, +                        'X-Compile-Elasticsearch-Version': VersionProperties.elasticsearch,, +                        'X-Compile-Lucene-Version': VersionProperties.lucene,, +                        'Build-Date': ZonedDateTime.now(ZoneOffset.UTC)), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/ForbiddenPatternsTask.groovy, +import org.gradle.api.tasks.OutputFile, +    @OutputFile, +    File outputMarker = new File(project.buildDir, "markers/forbiddenPatterns"), +, +        outputMarker.setText('done', 'UTF-8'), +++ b/buildSrc/version.properties, +lucene            = 5.4.0-snapshot-1714615, +++ b/README.textile, +Elasticsearch uses "Gradle":http://gradle.org for its build system. You'll need to have a modern version of Gradle installed - 2.8 should do., +++ b/build.gradle, +task clean(type: GradleBuild) {, +  buildFile = 'buildSrc/build.gradle', +  tasks = ['clean'], +}, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +import java.time.ZonedDateTime, +import java.time.ZoneOffset, +, +        configureJarManifest(project) // jar config must be added before info broker]