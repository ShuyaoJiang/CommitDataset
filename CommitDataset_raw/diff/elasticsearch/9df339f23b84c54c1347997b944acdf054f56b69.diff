[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java, +import org.elasticsearch.action.search.ReduceSearchPhaseException;, +import org.elasticsearch.action.search.SearchOperationThreading;, +import org.elasticsearch.action.search.SearchRequest;, +import org.elasticsearch.action.search.SearchResponse;, +import org.elasticsearch.action.search.ShardSearchFailure;, +        void executeSecondPhase(final DfsSearchResult dfsResult, final AtomicInteger counter, DiscoveryNode node, final QuerySearchRequest querySearchRequest) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java, +import org.elasticsearch.action.search.ReduceSearchPhaseException;, +import org.elasticsearch.action.search.SearchOperationThreading;, +import org.elasticsearch.action.search.SearchRequest;, +import org.elasticsearch.action.search.SearchResponse;, +import org.elasticsearch.action.search.ShardSearchFailure;, +        void executeSecondPhase(final DfsSearchResult dfsResult, final AtomicInteger counter, DiscoveryNode node, final QuerySearchRequest querySearchRequest) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java, +        void executeQuery(final DfsSearchResult dfsResult, final AtomicInteger counter, final QuerySearchRequest querySearchRequest, DiscoveryNode node) {, +        void executeFetchPhase() {, +        void innerExecuteFetchPhase() {, +        void executeFetch(final SearchShardTarget shardTarget, final AtomicInteger counter, final FetchSearchRequest fetchSearchRequest, DiscoveryNode node) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java, +import org.elasticsearch.action.search.ReduceSearchPhaseException;, +import org.elasticsearch.action.search.SearchOperationThreading;, +import org.elasticsearch.action.search.SearchRequest;, +import org.elasticsearch.action.search.SearchResponse;, +import org.elasticsearch.action.search.ShardSearchFailure;, +        void executeSecondPhase(final DfsSearchResult dfsResult, final AtomicInteger counter, DiscoveryNode node, final QuerySearchRequest querySearchRequest) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java, +        void executeQuery(final DfsSearchResult dfsResult, final AtomicInteger counter, final QuerySearchRequest querySearchRequest, DiscoveryNode node) {, +        void executeFetchPhase() {, +        void innerExecuteFetchPhase() {, +        void executeFetch(final SearchShardTarget shardTarget, final AtomicInteger counter, final FetchSearchRequest fetchSearchRequest, DiscoveryNode node) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java, +        void executeFetch(final SearchShardTarget shardTarget, final AtomicInteger counter, final FetchSearchRequest fetchSearchRequest, DiscoveryNode node) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java, +import org.elasticsearch.action.search.ReduceSearchPhaseException;, +import org.elasticsearch.action.search.SearchOperationThreading;, +import org.elasticsearch.action.search.SearchRequest;, +import org.elasticsearch.action.search.SearchResponse;, +import org.elasticsearch.action.search.ShardSearchFailure;, +        void executeSecondPhase(final DfsSearchResult dfsResult, final AtomicInteger counter, DiscoveryNode node, final QuerySearchRequest querySearchRequest) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java, +        void executeQuery(final DfsSearchResult dfsResult, final AtomicInteger counter, final QuerySearchRequest querySearchRequest, DiscoveryNode node) {, +        void executeFetchPhase() {, +        void innerExecuteFetchPhase() {, +        void executeFetch(final SearchShardTarget shardTarget, final AtomicInteger counter, final FetchSearchRequest fetchSearchRequest, DiscoveryNode node) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java, +        void executeFetch(final SearchShardTarget shardTarget, final AtomicInteger counter, final FetchSearchRequest fetchSearchRequest, DiscoveryNode node) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java, +        void performFirstPhase(final ShardIterator shardIt) {, +        void performFirstPhase(final ShardIterator shardIt, final ShardRouting shard) {, +        void onFirstPhaseResult(ShardRouting shard, FirstResult result, ShardIterator shardIt) {, +        void onFirstPhaseResult(@Nullable ShardRouting shard, final ShardIterator shardIt, Throwable t) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java, +import org.elasticsearch.action.search.ReduceSearchPhaseException;, +import org.elasticsearch.action.search.SearchOperationThreading;, +import org.elasticsearch.action.search.SearchRequest;, +import org.elasticsearch.action.search.SearchResponse;, +import org.elasticsearch.action.search.ShardSearchFailure;, +        void executeSecondPhase(final DfsSearchResult dfsResult, final AtomicInteger counter, DiscoveryNode node, final QuerySearchRequest querySearchRequest) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java, +        void executeQuery(final DfsSearchResult dfsResult, final AtomicInteger counter, final QuerySearchRequest querySearchRequest, DiscoveryNode node) {, +        void executeFetchPhase() {, +        void innerExecuteFetchPhase() {, +        void executeFetch(final SearchShardTarget shardTarget, final AtomicInteger counter, final FetchSearchRequest fetchSearchRequest, DiscoveryNode node) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java, +        void executeFetch(final SearchShardTarget shardTarget, final AtomicInteger counter, final FetchSearchRequest fetchSearchRequest, DiscoveryNode node) {, +        void finishHim() {, +        void innerFinishHim() throws Exception {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java, +        void performFirstPhase(final ShardIterator shardIt) {, +        void performFirstPhase(final ShardIterator shardIt, final ShardRouting shard) {, +        void onFirstPhaseResult(ShardRouting shard, FirstResult result, ShardIterator shardIt) {, +        void onFirstPhaseResult(@Nullable ShardRouting shard, final ShardIterator shardIt, Throwable t) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java, +        void performOperation(final ShardIterator shardIt, boolean localAsync) {, +        void performOperation(final ShardIterator shardIt, final ShardRouting shard, boolean localAsync) {, +        @SuppressWarnings({"unchecked"}) void onOperation(ShardRouting shard, ShardResponse response) {, +        @SuppressWarnings({"unchecked"}) void onOperation(@Nullable ShardRouting shard, final ShardIterator shardIt, Throwable t) {]