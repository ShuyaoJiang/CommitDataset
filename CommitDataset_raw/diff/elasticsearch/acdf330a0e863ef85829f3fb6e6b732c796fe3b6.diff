[+++ b/server/src/main/java/org/elasticsearch/action/DocWriteResponse.java, +            this.lowercase = this.name().toLowerCase(Locale.ROOT);, +++ b/server/src/main/java/org/elasticsearch/action/DocWriteResponse.java, +            this.lowercase = this.name().toLowerCase(Locale.ROOT);, +++ b/server/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java, +        this(shardId, type, id, seqNo, primaryTerm, version, found ? Result.DELETED : Result.NOT_FOUND);, +    }, +, +    private DeleteResponse(ShardId shardId, String type, String id, long seqNo, long primaryTerm, long version, Result result) {, +        super(shardId, type, id, seqNo, primaryTerm, version, assertDeletedOrNotFound(result));, +    }, +, +    private static Result assertDeletedOrNotFound(Result result) {, +        assert result == Result.DELETED || result == Result.NOT_FOUND;, +        return result;, +            DeleteResponse deleteResponse = new DeleteResponse(shardId, type, id, seqNo, primaryTerm, version, result);, +++ b/server/src/main/java/org/elasticsearch/action/DocWriteResponse.java, +            this.lowercase = this.name().toLowerCase(Locale.ROOT);, +++ b/server/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java, +        this(shardId, type, id, seqNo, primaryTerm, version, found ? Result.DELETED : Result.NOT_FOUND);, +    }, +, +    private DeleteResponse(ShardId shardId, String type, String id, long seqNo, long primaryTerm, long version, Result result) {, +        super(shardId, type, id, seqNo, primaryTerm, version, assertDeletedOrNotFound(result));, +    }, +, +    private static Result assertDeletedOrNotFound(Result result) {, +        assert result == Result.DELETED || result == Result.NOT_FOUND;, +        return result;, +            DeleteResponse deleteResponse = new DeleteResponse(shardId, type, id, seqNo, primaryTerm, version, result);, +++ b/server/src/main/java/org/elasticsearch/action/index/IndexResponse.java, +        this(shardId, type, id, seqNo, primaryTerm, version, created ? Result.CREATED : Result.UPDATED);, +    }, +, +    private IndexResponse(ShardId shardId, String type, String id, long seqNo, long primaryTerm, long version, Result result) {, +        super(shardId, type, id, seqNo, primaryTerm, version, assertCreatedOrUpdated(result));, +    }, +, +    private static Result assertCreatedOrUpdated(Result result) {, +        assert result == Result.CREATED || result == Result.UPDATED;, +        return result;, +            IndexResponse indexResponse = new IndexResponse(shardId, type, id, seqNo, primaryTerm, version, result);]