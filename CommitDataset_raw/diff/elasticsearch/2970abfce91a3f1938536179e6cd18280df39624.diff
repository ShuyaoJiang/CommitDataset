[+++ b/modules/repository-url/src/test/resources/rest-api-spec/test/repository_url/20_repository.yml, +        verify: false, +++ b/modules/repository-url/src/test/resources/rest-api-spec/test/repository_url/20_repository.yml, +        verify: false, +++ b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3BlobStore.java, +++ b/modules/repository-url/src/test/resources/rest-api-spec/test/repository_url/20_repository.yml, +        verify: false, +++ b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3BlobStore.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/MockAmazonS3.java, +++ b/modules/repository-url/src/test/resources/rest-api-spec/test/repository_url/20_repository.yml, +        verify: false, +++ b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3BlobStore.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/MockAmazonS3.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/RepositoryCredentialsTests.java, +++ b/modules/repository-url/src/test/resources/rest-api-spec/test/repository_url/20_repository.yml, +        verify: false, +++ b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3BlobStore.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/MockAmazonS3.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/RepositoryCredentialsTests.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3RepositoryTests.java, +++ b/modules/repository-url/src/test/resources/rest-api-spec/test/repository_url/20_repository.yml, +        verify: false, +++ b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3BlobStore.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/MockAmazonS3.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/RepositoryCredentialsTests.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3RepositoryTests.java, +++ b/plugins/repository-s3/src/test/resources/rest-api-spec/test/repository_s3/20_repository_permanent_credentials.yml, +      catch: /repository_verification_exception/, +      catch: /illegal_argument_exception/, +"Register a read-only repository with a non existing bucket":, +, +- do:, +    catch: /repository_verification_exception/, +    snapshot.create_repository:, +      repository: repository_permanent, +      body:, +        type: s3, +        settings:, +          readonly: true, +          bucket: zHHkfSqlbnBsbpSgvCYtxrEfFLqghXtyPvvvKPNBnRCicNHQLE, +          client: integration_test_permanent, +, +---, +"Register a read-only repository with a non existing client":, +, +- do:, +    catch: /illegal_argument_exception/, +    snapshot.create_repository:, +      repository: repository_permanent, +      body:, +        type: s3, +        settings:, +          readonly: true, +          bucket: repository_permanent, +          client: unknown, +, +---, +++ b/modules/repository-url/src/test/resources/rest-api-spec/test/repository_url/20_repository.yml, +        verify: false, +++ b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3BlobStore.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/MockAmazonS3.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/RepositoryCredentialsTests.java, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3RepositoryTests.java, +++ b/plugins/repository-s3/src/test/resources/rest-api-spec/test/repository_s3/20_repository_permanent_credentials.yml, +      catch: /repository_verification_exception/, +      catch: /illegal_argument_exception/, +"Register a read-only repository with a non existing bucket":, +, +- do:, +    catch: /repository_verification_exception/, +    snapshot.create_repository:, +      repository: repository_permanent, +      body:, +        type: s3, +        settings:, +          readonly: true, +          bucket: zHHkfSqlbnBsbpSgvCYtxrEfFLqghXtyPvvvKPNBnRCicNHQLE, +          client: integration_test_permanent, +, +---, +"Register a read-only repository with a non existing client":, +, +- do:, +    catch: /illegal_argument_exception/, +    snapshot.create_repository:, +      repository: repository_permanent, +      body:, +        type: s3, +        settings:, +          readonly: true, +          bucket: repository_permanent, +          client: unknown, +, +---, +++ b/plugins/repository-s3/src/test/resources/rest-api-spec/test/repository_s3/30_repository_temporary_credentials.yml, +      catch: /repository_verification_exception/, +      catch: /illegal_argument_exception/, +"Register a read-only repository with a non existing bucket":, +, +- do:]