[+++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +                new SearchHit[0], 0L, 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1), "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY,, +                SearchResponse.Clusters.EMPTY));, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +                new SearchHit[0], 0L, 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1), "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY,, +                SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(2L));, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +                new SearchHit[0], 0L, 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1), "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY,, +                SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(2L));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CrudIT.java, +                highLevelClient().search(new SearchRequest(sourceIndex), RequestOptions.DEFAULT).getHits().totalHits, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +                new SearchHit[0], 0L, 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1), "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY,, +                SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(2L));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CrudIT.java, +                highLevelClient().search(new SearchRequest(sourceIndex), RequestOptions.DEFAULT).getHits().totalHits, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +        assertEquals(0, searchResponse.getHits().totalHits);, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +                new SearchHit[0], 0L, 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1), "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY,, +                SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(2L));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CrudIT.java, +                highLevelClient().search(new SearchRequest(sourceIndex), RequestOptions.DEFAULT).getHits().totalHits, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +        assertEquals(0, searchResponse.getHits().totalHits);, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RollupIT.java, +            assertEquals(1L, searchResponse.getHits().getTotalHits());, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +                new SearchHit[0], 0L, 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1), "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY,, +                SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(2L));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CrudIT.java, +                highLevelClient().search(new SearchRequest(sourceIndex), RequestOptions.DEFAULT).getHits().totalHits, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +        assertEquals(0, searchResponse.getHits().totalHits);, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RollupIT.java, +            assertEquals(1L, searchResponse.getHits().getTotalHits());, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/SearchIT.java, +        assertEquals(5, searchResponse.getHits().totalHits);, +        assertEquals(1, searchResponse.getHits().totalHits);, +        assertEquals(5, searchResponse.getHits().totalHits);, +        assertEquals(5, searchResponse.getHits().totalHits);, +        assertEquals(3, searchResponse.getHits().totalHits);, +        assertEquals(0, searchResponse.getHits().totalHits);, +            assertThat(searchResponse.getHits().getTotalHits(), equalTo(100L));, +            assertThat(searchResponse.getHits().getTotalHits(), equalTo(100L));, +            assertThat(searchResponse.getHits().getTotalHits(), equalTo(100L));, +        assertThat(multiSearchResponse.getResponses()[0].getResponse().getHits().getTotalHits(), Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[1].getResponse().getHits().getTotalHits(), Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[2].getResponse().getHits().getTotalHits(), Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[0].getResponse().getHits().getTotalHits(), Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[1].getResponse().getHits().getTotalHits(), Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[2].getResponse().getHits().getTotalHits(), Matchers.equalTo(2L));, +        assertThat(multiSearchResponse.getResponses()[0].getResponse().getHits().getTotalHits(), Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[1].getResponse().getHits().getTotalHits(), Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[2].getResponse().getHits().getTotalHits(), Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[0].getResponse().getHits().getTotalHits(), Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[1].getResponse().getHits().getTotalHits(), Matchers.equalTo(1L));, +        assertThat(multiSearchResponse.getResponses()[2].getResponse().getHits().getTotalHits(), Matchers.equalTo(1L));, +        assertEquals(1, searchResponse.getHits().totalHits);, +        assertEquals(1, goodResponse.getHits().totalHits);, +++ b/client/client-benchmark-noop-api-plugin/src/main/java/org/elasticsearch/plugin/noop/action/search/TransportNoopSearchAction.java, +                new SearchHit[0], 0L, 0.0f),, +            new SearchProfileShardResults(Collections.emptyMap()), false, false, 1), "", 1, 1, 0, 0, ShardSearchFailure.EMPTY_ARRAY,, +                SearchResponse.Clusters.EMPTY));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CCRIT.java, +        assertThat(leaderSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(1L));, +            assertThat(followerSearchResponse.getHits().getTotalHits(), equalTo(2L));, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/CrudIT.java, +                highLevelClient().search(new SearchRequest(sourceIndex), RequestOptions.DEFAULT).getHits().totalHits, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RestHighLevelClientTests.java, +        assertEquals(0, searchResponse.getHits().totalHits);, +++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/RollupIT.java, +            assertEquals(1L, searchResponse.getHits().getTotalHits());]