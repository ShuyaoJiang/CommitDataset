[+++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        return script.needsScores();, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        return script.needsScores();, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +            @Override, +            public boolean needsScores() {, +                return scriptFactory.needsScores();, +            }, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        return script.needsScores();, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +            @Override, +            public boolean needsScores() {, +                return scriptFactory.needsScores();, +            }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java, +, +    /**, +     * Indicates if document scores may be needed by the produced scripts., +     * , +     * @return {@code true} if scores are needed., +     */, +    boolean needsScores();, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        return script.needsScores();, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +            @Override, +            public boolean needsScores() {, +                return scriptFactory.needsScores();, +            }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java, +, +    /**, +     * Indicates if document scores may be needed by the produced scripts., +     * , +     * @return {@code true} if scores are needed., +     */, +    boolean needsScores();, +++ b/core/src/main/java/org/elasticsearch/script/SearchScript.java, +    /**, +     * Indicates if document scores may be needed by this {@link SearchScript}., +     * , +     * @return {@code true} if scores are needed., +     */, +    boolean needsScores();, +, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        return script.needsScores();, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +            @Override, +            public boolean needsScores() {, +                return scriptFactory.needsScores();, +            }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java, +, +    /**, +     * Indicates if document scores may be needed by the produced scripts., +     * , +     * @return {@code true} if scores are needed., +     */, +    boolean needsScores();, +++ b/core/src/main/java/org/elasticsearch/script/SearchScript.java, +    /**, +     * Indicates if document scores may be needed by this {@link SearchScript}., +     * , +     * @return {@code true} if scores are needed., +     */, +    boolean needsScores();, +, +++ b/core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java, +            final boolean needsScores = expr.getSortField(bindings, false).needsScores();, +            return new ExpressionSearchScript(compiledScript, bindings, specialValue, needsScores);, +++ b/core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java, +        return script.needsScores();, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java, +            @Override, +            public boolean needsScores() {, +                return scriptFactory.needsScores();, +            }, +++ b/core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java, +, +    /**, +     * Indicates if document scores may be needed by the produced scripts., +     * , +     * @return {@code true} if scores are needed., +     */, +    boolean needsScores();, +++ b/core/src/main/java/org/elasticsearch/script/SearchScript.java, +    /**, +     * Indicates if document scores may be needed by this {@link SearchScript}., +     * , +     * @return {@code true} if scores are needed., +     */, +    boolean needsScores();, +, +++ b/core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java, +            final boolean needsScores = expr.getSortField(bindings, false).needsScores();, +            return new ExpressionSearchScript(compiledScript, bindings, specialValue, needsScores);, +++ b/core/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java]