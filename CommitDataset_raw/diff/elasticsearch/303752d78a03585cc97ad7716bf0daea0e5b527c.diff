[+++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +        FieldMapperListener.Aggregator fieldMappersAgg = new FieldMapperListener.Aggregator();, +                    fieldMappersAgg.fieldMappers.add((FieldMapper) rootMapper);, +        rootObjectMapper.traverse(fieldMappersAgg);, +        this.fieldMappers = new DocumentFieldMappers(this, fieldMappersAgg.fieldMappers);, +    public void addFieldMappers(Collection<FieldMapper> fieldMappers) {, +        addFieldMappers(fieldMappers.toArray(new FieldMapper[fieldMappers.size()]));, +    }, +, +    public void addFieldMappers(FieldMapper... fieldMappers) {, +            this.fieldMappers = this.fieldMappers.concat(this, fieldMappers);, +            listener.fieldMappers(fieldMappers);, +    public void addObjectMappers(Collection<ObjectMapper> objectMappers) {, +        addObjectMappers(objectMappers.toArray(new ObjectMapper[objectMappers.size()]));, +    }, +, +    public void addObjectMappers(ObjectMapper... objectMappers) {, +            MapBuilder<String, ObjectMapper> builder = MapBuilder.newMapBuilder(this.objectMappers);, +            for (ObjectMapper objectMapper : objectMappers) {, +                builder.put(objectMapper.fullPath(), objectMapper);, +            this.objectMappers = builder.immutableMap();, +        }, +            objectMapperListener.objectMappers(objectMappers);, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +        FieldMapperListener.Aggregator fieldMappersAgg = new FieldMapperListener.Aggregator();, +                    fieldMappersAgg.fieldMappers.add((FieldMapper) rootMapper);, +        rootObjectMapper.traverse(fieldMappersAgg);, +        this.fieldMappers = new DocumentFieldMappers(this, fieldMappersAgg.fieldMappers);, +    public void addFieldMappers(Collection<FieldMapper> fieldMappers) {, +        addFieldMappers(fieldMappers.toArray(new FieldMapper[fieldMappers.size()]));, +    }, +, +    public void addFieldMappers(FieldMapper... fieldMappers) {, +            this.fieldMappers = this.fieldMappers.concat(this, fieldMappers);, +            listener.fieldMappers(fieldMappers);, +    public void addObjectMappers(Collection<ObjectMapper> objectMappers) {, +        addObjectMappers(objectMappers.toArray(new ObjectMapper[objectMappers.size()]));, +    }, +, +    public void addObjectMappers(ObjectMapper... objectMappers) {, +            MapBuilder<String, ObjectMapper> builder = MapBuilder.newMapBuilder(this.objectMappers);, +            for (ObjectMapper objectMapper : objectMappers) {, +                builder.put(objectMapper.fullPath(), objectMapper);, +            this.objectMappers = builder.immutableMap();, +        }, +            objectMapperListener.objectMappers(objectMappers);, +++ b/src/main/java/org/elasticsearch/index/mapper/FieldMapperListener.java, +public abstract class FieldMapperListener {, +    public static class Aggregator extends FieldMapperListener {, +    public abstract void fieldMapper(FieldMapper fieldMapper);, +, +    public void fieldMappers(FieldMapper... fieldMappers) {, +        for (FieldMapper mapper : fieldMappers) {, +            fieldMapper(mapper);, +        }, +    }, +++ b/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java, +        FieldMapperListener.Aggregator fieldMappersAgg = new FieldMapperListener.Aggregator();, +                    fieldMappersAgg.fieldMappers.add((FieldMapper) rootMapper);, +        rootObjectMapper.traverse(fieldMappersAgg);, +        this.fieldMappers = new DocumentFieldMappers(this, fieldMappersAgg.fieldMappers);, +    public void addFieldMappers(Collection<FieldMapper> fieldMappers) {, +        addFieldMappers(fieldMappers.toArray(new FieldMapper[fieldMappers.size()]));, +    }, +, +    public void addFieldMappers(FieldMapper... fieldMappers) {, +            this.fieldMappers = this.fieldMappers.concat(this, fieldMappers);, +            listener.fieldMappers(fieldMappers);, +    public void addObjectMappers(Collection<ObjectMapper> objectMappers) {, +        addObjectMappers(objectMappers.toArray(new ObjectMapper[objectMappers.size()]));, +    }, +, +    public void addObjectMappers(ObjectMapper... objectMappers) {, +            MapBuilder<String, ObjectMapper> builder = MapBuilder.newMapBuilder(this.objectMappers);, +            for (ObjectMapper objectMapper : objectMappers) {, +                builder.put(objectMapper.fullPath(), objectMapper);, +            this.objectMappers = builder.immutableMap();, +        }, +            objectMapperListener.objectMappers(objectMappers);, +++ b/src/main/java/org/elasticsearch/index/mapper/FieldMapperListener.java, +public abstract class FieldMapperListener {, +    public static class Aggregator extends FieldMapperListener {, +    public abstract void fieldMapper(FieldMapper fieldMapper);, +, +    public void fieldMappers(FieldMapper... fieldMappers) {, +        for (FieldMapper mapper : fieldMappers) {, +            fieldMapper(mapper);, +        }, +    }, +++ b/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +    class InternalFieldMapperListener extends FieldMapperListener {, +, +        @Override, +        public void fieldMappers(FieldMapper... fieldMappers) {, +            addFieldMappers(fieldMappers);, +        }, +    class InternalObjectMapperListener extends ObjectMapperListener {, +, +        @Override, +        public void objectMappers(ObjectMapper... objectMappers) {]