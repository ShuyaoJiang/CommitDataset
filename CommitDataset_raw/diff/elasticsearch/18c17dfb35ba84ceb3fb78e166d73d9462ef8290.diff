[+++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AmazonS3Fixture.java, +                    // allow a null bucket to support the multi-object-delete API which, +                    // passes the bucket name in the host header instead of the URL., +                    if (buckets.containsKey(bucket)) {, +                    } else {, +                        return newBucketNotFoundError(request.getId(), bucket);, +                    }, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AmazonS3Fixture.java, +                    // allow a null bucket to support the multi-object-delete API which, +                    // passes the bucket name in the host header instead of the URL., +                    if (buckets.containsKey(bucket)) {, +                    } else {, +                        return newBucketNotFoundError(request.getId(), bucket);, +                    }, +++ b/plugins/repository-s3/src/test/resources/rest-api-spec/test/repository_s3/20_repository_permanent_credentials.yml, +++ b/plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AmazonS3Fixture.java, +                    // allow a null bucket to support the multi-object-delete API which, +                    // passes the bucket name in the host header instead of the URL., +                    if (buckets.containsKey(bucket)) {, +                    } else {, +                        return newBucketNotFoundError(request.getId(), bucket);, +                    }, +++ b/plugins/repository-s3/src/test/resources/rest-api-spec/test/repository_s3/20_repository_permanent_credentials.yml, +++ b/plugins/repository-s3/src/test/resources/rest-api-spec/test/repository_s3/30_repository_temporary_credentials.yml]