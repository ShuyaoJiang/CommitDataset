[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/XContentTypeParsers.java, +import org.elasticsearch.index.analysis.NamedAnalyzer;, +                NamedAnalyzer analyzer = parserContext.analysisService().analyzer(propNode.toString());, +                if (analyzer == null) {, +                    throw new MapperParsingException("Analyzer [" + propNode.toString() + "] not found for field [" + name + "]");, +                }, +                builder.indexAnalyzer(analyzer);, +                NamedAnalyzer analyzer = parserContext.analysisService().analyzer(propNode.toString());, +                if (analyzer == null) {, +                    throw new MapperParsingException("Analyzer [" + propNode.toString() + "] not found for field [" + name + "]");, +                }, +                builder.searchAnalyzer(analyzer);, +                NamedAnalyzer analyzer = parserContext.analysisService().analyzer(propNode.toString());, +                if (analyzer == null) {, +                    throw new MapperParsingException("Analyzer [" + propNode.toString() + "] not found for field [" + name + "]");, +                }, +                builder.indexAnalyzer(analyzer);, +                builder.searchAnalyzer(analyzer);]