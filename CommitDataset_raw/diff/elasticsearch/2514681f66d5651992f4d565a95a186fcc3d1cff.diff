[+++ b/TESTING.asciidoc, +cd $RPM, +vagrant up trusty --provider virtualbox && vagrant ssh trusty, +++ b/TESTING.asciidoc, +cd $RPM, +vagrant up trusty --provider virtualbox && vagrant ssh trusty, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'                : 'test',, +++ b/TESTING.asciidoc, +cd $RPM, +vagrant up trusty --provider virtualbox && vagrant ssh trusty, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'                : 'test',, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                logger.trace("cluster is blocked ({}), scheduling a retry", blockException.getMessage());, +++ b/TESTING.asciidoc, +cd $RPM, +vagrant up trusty --provider virtualbox && vagrant ssh trusty, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'                : 'test',, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                logger.trace("cluster is blocked ({}), scheduling a retry", blockException.getMessage());, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +                    logger.error("NodeStatsAction timed out for ClusterInfoUpdateJob (reason [{}])", e.getMessage());, +                    logger.error("IndicesStatsAction timed out for ClusterInfoUpdateJob (reason [{}])", e.getMessage());, +++ b/TESTING.asciidoc, +cd $RPM, +vagrant up trusty --provider virtualbox && vagrant ssh trusty, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'                : 'test',, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                logger.trace("cluster is blocked ({}), scheduling a retry", blockException.getMessage());, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +                    logger.error("NodeStatsAction timed out for ClusterInfoUpdateJob (reason [{}])", e.getMessage());, +                    logger.error("IndicesStatsAction timed out for ClusterInfoUpdateJob (reason [{}])", e.getMessage());, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java, +        Set<DiscoveryNode.Role> roles = new HashSet<>();, +        if (Node.NODE_INGEST_SETTING.get(settings)) {, +            roles.add(DiscoveryNode.Role.INGEST);, +        }, +        if (Node.NODE_MASTER_SETTING.get(settings)) {, +            roles.add(DiscoveryNode.Role.MASTER);, +        }, +        if (Node.NODE_DATA_SETTING.get(settings)) {, +            roles.add(DiscoveryNode.Role.DATA);, +++ b/TESTING.asciidoc, +cd $RPM, +vagrant up trusty --provider virtualbox && vagrant ssh trusty, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'                : 'test',, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                logger.trace("cluster is blocked ({}), scheduling a retry", blockException.getMessage());, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +                    logger.error("NodeStatsAction timed out for ClusterInfoUpdateJob (reason [{}])", e.getMessage());, +                    logger.error("IndicesStatsAction timed out for ClusterInfoUpdateJob (reason [{}])", e.getMessage());, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java, +        Set<DiscoveryNode.Role> roles = new HashSet<>();, +        if (Node.NODE_INGEST_SETTING.get(settings)) {, +            roles.add(DiscoveryNode.Role.INGEST);, +        }, +        if (Node.NODE_MASTER_SETTING.get(settings)) {, +            roles.add(DiscoveryNode.Role.MASTER);, +        }, +        if (Node.NODE_DATA_SETTING.get(settings)) {, +            roles.add(DiscoveryNode.Role.DATA);, +++ b/core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java, +                            logger.warn("failed to execute bulk: [{}]", e.getMessage());, +++ b/TESTING.asciidoc, +cd $RPM, +vagrant up trusty --provider virtualbox && vagrant ssh trusty, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'                : 'test',, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                logger.trace("cluster is blocked ({}), scheduling a retry", blockException.getMessage());, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +                    logger.error("NodeStatsAction timed out for ClusterInfoUpdateJob (reason [{}])", e.getMessage());, +                    logger.error("IndicesStatsAction timed out for ClusterInfoUpdateJob (reason [{}])", e.getMessage());, +++ b/core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java, +        Set<DiscoveryNode.Role> roles = new HashSet<>();, +        if (Node.NODE_INGEST_SETTING.get(settings)) {, +            roles.add(DiscoveryNode.Role.INGEST);, +        }, +        if (Node.NODE_MASTER_SETTING.get(settings)) {, +            roles.add(DiscoveryNode.Role.MASTER);, +        }, +        if (Node.NODE_DATA_SETTING.get(settings)) {, +            roles.add(DiscoveryNode.Role.DATA);, +++ b/core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java, +                            logger.warn("failed to execute bulk: [{}]", e.getMessage());, +++ b/core/src/main/java/org/elasticsearch/node/Node.java, +    public static final Setting<Settings> NODE_ATTRIBUTES = Setting.groupSetting("node.attr.", Property.NodeScope);, +++ b/TESTING.asciidoc, +cd $RPM, +vagrant up trusty --provider virtualbox && vagrant ssh trusty, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy, +                'node.attr.testattr'                : 'test',, +++ b/core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java, +                logger.trace("cluster is blocked ({}), scheduling a retry", blockException.getMessage());, +++ b/core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java, +                    logger.error("NodeStatsAction timed out for ClusterInfoUpdateJob (reason [{}])", e.getMessage());]