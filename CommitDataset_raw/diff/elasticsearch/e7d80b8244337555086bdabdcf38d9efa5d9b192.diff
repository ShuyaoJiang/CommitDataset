[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +    private MetaData(ImmutableMap<String, IndexMetaData> indices, boolean recoveredFromGateway) {, +            return new MetaData(indices.immutableMap(), recoveredFromGateway);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +    private MetaData(ImmutableMap<String, IndexMetaData> indices, boolean recoveredFromGateway) {, +            return new MetaData(indices.immutableMap(), recoveredFromGateway);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java, +        return true;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +    private MetaData(ImmutableMap<String, IndexMetaData> indices, boolean recoveredFromGateway) {, +            return new MetaData(indices.immutableMap(), recoveredFromGateway);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java, +        return true;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/GatewayService.java, +                MetaData.Builder metaDataBuilder = newMetaDataBuilder().metaData(currentState.metaData());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +    private MetaData(ImmutableMap<String, IndexMetaData> indices, boolean recoveredFromGateway) {, +            return new MetaData(indices.immutableMap(), recoveredFromGateway);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java, +        return true;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/GatewayService.java, +                MetaData.Builder metaDataBuilder = newMetaDataBuilder().metaData(currentState.metaData());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +    private MetaData(ImmutableMap<String, IndexMetaData> indices, boolean recoveredFromGateway) {, +            return new MetaData(indices.immutableMap(), recoveredFromGateway);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java, +        return true;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/GatewayService.java, +                MetaData.Builder metaDataBuilder = newMetaDataBuilder().metaData(currentState.metaData());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java, +++ b/modules/elasticsearch/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java]