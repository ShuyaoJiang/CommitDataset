[+++ b/core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java, +import java.net.URLDecoder;, +                terminal.println("-> Installing from " + URLDecoder.decode(url.toString(), "UTF-8") + "...");, +++ b/core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java, +import java.net.URLDecoder;, +                terminal.println("-> Installing from " + URLDecoder.decode(url.toString(), "UTF-8") + "...");, +++ b/core/src/test/java/org/elasticsearch/plugins/PluginManagerCliTests.java, +import org.elasticsearch.common.cli.CliTool;, +import static org.elasticsearch.common.cli.CliTool.ExitStatus.IO_ERROR;, +, +    public void testUrlSpacesInPath() {, +        CliToolTestCase.CaptureOutputTerminal terminal = new CliToolTestCase.CaptureOutputTerminal();, +        CliTool.ExitStatus execute = new PluginManagerCliParser(terminal).execute(args("install file://foo%20deps"));, +        assertThat(execute.status(), is(IO_ERROR.status()));, +, +    }]