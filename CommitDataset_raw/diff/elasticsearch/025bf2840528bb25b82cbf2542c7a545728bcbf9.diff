[+++ b/server/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeFilters.java, +                    if (Regex.simpleMatch(value, node.getHostName()) || Regex.simpleMatch(value, node.getHostAddress())) {, +++ b/server/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeFilters.java, +                    if (Regex.simpleMatch(value, node.getHostName()) || Regex.simpleMatch(value, node.getHostAddress())) {, +++ b/server/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java, +    public void testHostNameFilteringMatchingAnd() {, +        Settings settings = shuffleSettings(Settings.builder(), +            .put("xxx._host", "A"), +            .build());, +        DiscoveryNodeFilters filters = buildFromSettings(AND, "xxx.", settings);, +, +        DiscoveryNode node = new DiscoveryNode("", "", "", "A", "192.1.1.54", localAddress, emptyMap(), emptySet(), null);, +        assertThat(filters.match(node), equalTo(true));, +    }, +, +    public void testHostAddressFilteringMatchingAnd() {, +        Settings settings = shuffleSettings(Settings.builder(), +            .put("xxx._host", "192.1.1.54"), +            .build());, +        DiscoveryNodeFilters filters = buildFromSettings(AND, "xxx.", settings);, +, +        DiscoveryNode node = new DiscoveryNode("", "", "", "A", "192.1.1.54", localAddress, emptyMap(), emptySet(), null);, +        assertThat(filters.match(node), equalTo(true));, +    }, +]