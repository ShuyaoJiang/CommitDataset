[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java, +@AnalysisSettingsRequired, +        String sPattern = settings.get("pattern", null);, +        String sReplacement = settings.get("replacement", null);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java, +@AnalysisSettingsRequired, +        String sPattern = settings.get("pattern", null);, +        String sReplacement = settings.get("replacement", null);, +++ b/modules/elasticsearch/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java, +        assertThat(custom5.charFilters()[0], instanceOf(MappingCharFilterFactory.class));]