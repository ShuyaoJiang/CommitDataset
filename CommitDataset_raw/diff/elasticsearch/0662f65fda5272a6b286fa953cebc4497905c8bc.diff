[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/gateway/local/LocalGatewayNodeAllocation.java, +, +        TransportNodesListGatewayStartedShards.NodesLocalGatewayStartedShards nodesState = null;, +, +            if (nodesState == null) {, +                nodesState = listGatewayStartedShards.list(nodesIds, null).actionGet();, +, +                if (nodesState.failures().length > 0) {, +                    StringBuilder sb = new StringBuilder("failures when trying to list started shards on nodes:");, +                    for (int i = 0; i < nodesState.failures().length; i++) {, +                        Throwable cause = ExceptionsHelper.unwrapCause(nodesState.failures()[i]);, +                        if (cause instanceof ConnectTransportException) {, +                            continue;, +                        }, +                        sb.append("\n    -> ").append(nodesState.failures()[i].getDetailedMessage());, +                    }, +                    logger.warn(sb.toString());, +                }, +            }, +, +                if (nodesState.failures().length > 0) {, +                    StringBuilder sb = new StringBuilder("failures when trying to list started shards on nodes:");, +                    for (int i = 0; i < nodesState.failures().length; i++) {, +                        Throwable cause = ExceptionsHelper.unwrapCause(nodesState.failures()[i]);, +                        if (cause instanceof ConnectTransportException) {, +                            continue;, +                        }, +                        sb.append("\n    -> ").append(nodesState.failures()[i].getDetailedMessage());, +                    }, +                    logger.warn(sb.toString());, +                }]