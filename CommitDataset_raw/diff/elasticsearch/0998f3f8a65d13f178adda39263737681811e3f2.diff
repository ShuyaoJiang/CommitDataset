[+++ b/src/main/java/org/elasticsearch/common/lucene/search/Queries.java, +    public final static Query NO_MATCH_QUERY = MatchNoDocsQuery.INSTANCE;, +++ b/src/main/java/org/elasticsearch/common/lucene/search/Queries.java, +    public final static Query NO_MATCH_QUERY = MatchNoDocsQuery.INSTANCE;, +++ b/src/main/java/org/elasticsearch/index/query/AndFilterParser.java, +        boolean filtersFound = false;, +                filtersFound = true;, +                Filter filter = parseContext.parseInnerFilter();, +                if (filter != null) {, +                    filters.add(filter);, +                }, +                        filtersFound = true;, +                            Filter filter = parseContext.parseInnerFilter();, +                            if (filter != null) {, +                                filters.add(filter);, +                            }, +                        filtersFound = true;, +                            Filter filter = parseContext.parseInnerFilter();, +                            if (filter != null) {, +                                filters.add(filter);, +                            }, +        if (!filtersFound) {, +        if (filters.isEmpty()) {, +            return null;, +        }, +, +++ b/src/main/java/org/elasticsearch/common/lucene/search/Queries.java, +    public final static Query NO_MATCH_QUERY = MatchNoDocsQuery.INSTANCE;, +++ b/src/main/java/org/elasticsearch/index/query/AndFilterParser.java, +        boolean filtersFound = false;, +                filtersFound = true;, +                Filter filter = parseContext.parseInnerFilter();, +                if (filter != null) {, +                    filters.add(filter);, +                }, +                        filtersFound = true;, +                            Filter filter = parseContext.parseInnerFilter();, +                            if (filter != null) {, +                                filters.add(filter);, +                            }, +                        filtersFound = true;, +                            Filter filter = parseContext.parseInnerFilter();, +                            if (filter != null) {, +                                filters.add(filter);, +                            }, +        if (!filtersFound) {, +        if (filters.isEmpty()) {, +            return null;, +        }, +, +++ b/src/main/java/org/elasticsearch/index/query/BoolFilterParser.java, +                    Filter filter = parseContext.parseInnerFilter();, +                    if (filter != null) {, +                        boolFilter.add(new FilterClause(filter, BooleanClause.Occur.MUST));, +                    }, +                    Filter filter = parseContext.parseInnerFilter();, +                    if (filter != null) {, +                        boolFilter.add(new FilterClause(filter, BooleanClause.Occur.MUST_NOT));, +                    }, +                    Filter filter = parseContext.parseInnerFilter();, +                    if (filter != null) {, +                        boolFilter.add(new FilterClause(filter, BooleanClause.Occur.SHOULD));, +                    }, +                        Filter filter = parseContext.parseInnerFilter();, +                        if (filter != null) {, +                            boolFilter.add(new FilterClause(filter, BooleanClause.Occur.MUST));, +                        }, +                        Filter filter = parseContext.parseInnerFilter();, +                        if (filter != null) {, +                            boolFilter.add(new FilterClause(filter, BooleanClause.Occur.MUST_NOT));, +                        }, +                        Filter filter = parseContext.parseInnerFilter();, +                        if (filter != null) {, +                            boolFilter.add(new FilterClause(filter, BooleanClause.Occur.SHOULD));, +                        }, +        if (boolFilter.getMustFilters().isEmpty() && boolFilter.getNotFilters().isEmpty() && boolFilter.getShouldFilters().isEmpty()) {, +            return null;, +        }, +, +++ b/src/main/java/org/elasticsearch/common/lucene/search/Queries.java, +    public final static Query NO_MATCH_QUERY = MatchNoDocsQuery.INSTANCE;, +++ b/src/main/java/org/elasticsearch/index/query/AndFilterParser.java, +        boolean filtersFound = false;, +                filtersFound = true;, +                Filter filter = parseContext.parseInnerFilter();, +                if (filter != null) {, +                    filters.add(filter);, +                }, +                        filtersFound = true;, +                            Filter filter = parseContext.parseInnerFilter();, +                            if (filter != null) {, +                                filters.add(filter);, +                            }, +                        filtersFound = true;, +                            Filter filter = parseContext.parseInnerFilter();, +                            if (filter != null) {, +                                filters.add(filter);, +                            }, +        if (!filtersFound) {, +        if (filters.isEmpty()) {]