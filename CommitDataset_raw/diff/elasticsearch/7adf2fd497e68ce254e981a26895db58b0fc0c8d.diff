[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java, +    protected final FormatDateTimeFormatter dateTimeFormatter;, +    protected final TimeUnit timeUnit;, +            builder.field("numeric_resolution", timeUnit.name().toLowerCase());, +    protected long parseStringValue(String value) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java, +    protected final FormatDateTimeFormatter dateTimeFormatter;, +    protected final TimeUnit timeUnit;, +            builder.field("numeric_resolution", timeUnit.name().toLowerCase());, +    protected long parseStringValue(String value) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java, +import java.util.concurrent.TimeUnit;, +                Defaults.OMIT_TERM_FREQ_AND_POSITIONS, Defaults.NULL_VALUE, TimeUnit.MILLISECONDS /*always milliseconds*/);]