[+++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainTests.java, +        Integer unknownDocRating = Integer.valueOf(randomIntBetween(0, 1000));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainTests.java, +        Integer unknownDocRating = Integer.valueOf(randomIntBetween(0, 1000));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/MeanReciprocalRankTests.java, +    private static final int IRRELEVANT_RATING_0 = 0;, +    private static final int RELEVANT_RATING_1 = 1;, +, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), RELEVANT_RATING_1));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), IRRELEVANT_RATING_0));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), RELEVANT_RATING_1));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), IRRELEVANT_RATING_0));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainTests.java, +        Integer unknownDocRating = Integer.valueOf(randomIntBetween(0, 1000));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/MeanReciprocalRankTests.java, +    private static final int IRRELEVANT_RATING_0 = 0;, +    private static final int RELEVANT_RATING_1 = 1;, +, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), RELEVANT_RATING_1));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), IRRELEVANT_RATING_0));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), RELEVANT_RATING_1));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), IRRELEVANT_RATING_0));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/PrecisionAtKTests.java, +    private static final int IRRELEVANT_RATING_0 = 0;, +    private static final int RELEVANT_RATING_1 = 1;, +, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "1", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "2", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "3", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "4", IRRELEVANT_RATING_0));, +        rated.add(createRatedDoc("test_other", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test_other", "1", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "1", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "2", IRRELEVANT_RATING_0));, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "1", RELEVANT_RATING_1));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainTests.java, +        Integer unknownDocRating = Integer.valueOf(randomIntBetween(0, 1000));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/MeanReciprocalRankTests.java, +    private static final int IRRELEVANT_RATING_0 = 0;, +    private static final int RELEVANT_RATING_1 = 1;, +, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), RELEVANT_RATING_1));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), IRRELEVANT_RATING_0));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), RELEVANT_RATING_1));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), IRRELEVANT_RATING_0));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/PrecisionAtKTests.java, +    private static final int IRRELEVANT_RATING_0 = 0;, +    private static final int RELEVANT_RATING_1 = 1;, +, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "1", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "2", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "3", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "4", IRRELEVANT_RATING_0));, +        rated.add(createRatedDoc("test_other", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test_other", "1", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "1", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "2", IRRELEVANT_RATING_0));, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "1", RELEVANT_RATING_1));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/RankEvalRequestIT.java, +, +    private static final int RELEVANT_RATING_1 = 1;, +, +                        assertEquals(RELEVANT_RATING_1, hit.getRating().get().intValue());, +                        assertEquals(RELEVANT_RATING_1, hit.getRating().get().intValue());, +        relevantDocs.add(new RatedDocument("test2", "7", RELEVANT_RATING_1));, +            relevant.add(new RatedDocument("test", doc, RELEVANT_RATING_1));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/DiscountedCumulativeGainTests.java, +        Integer unknownDocRating = Integer.valueOf(randomIntBetween(0, 1000));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/MeanReciprocalRankTests.java, +    private static final int IRRELEVANT_RATING_0 = 0;, +    private static final int RELEVANT_RATING_1 = 1;, +, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), RELEVANT_RATING_1));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), IRRELEVANT_RATING_0));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), RELEVANT_RATING_1));, +                ratedDocs.add(new RatedDocument("test", Integer.toString(i), IRRELEVANT_RATING_0));, +++ b/modules/rank-eval/src/test/java/org/elasticsearch/index/rankeval/PrecisionAtKTests.java, +    private static final int IRRELEVANT_RATING_0 = 0;, +    private static final int RELEVANT_RATING_1 = 1;, +, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "1", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "2", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "3", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "4", IRRELEVANT_RATING_0));, +        rated.add(createRatedDoc("test_other", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test_other", "1", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "1", RELEVANT_RATING_1));, +        rated.add(createRatedDoc("test", "2", IRRELEVANT_RATING_0));, +        rated.add(createRatedDoc("test", "0", RELEVANT_RATING_1));]