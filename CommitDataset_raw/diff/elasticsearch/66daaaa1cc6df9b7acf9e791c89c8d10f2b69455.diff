[+++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/file/tool/UsersTool.java, +import org.elasticsearch.xpack.security.authz.store.FileRolesStore;, +        super("Manages elasticsearch file users");, +            super("Adds a file user");, +            terminal.println("be added to the \"users\" file and its roles will be added to the");, +            terminal.println("\"users_roles\" file in the elasticsearch config directory.");, +                throw new UserException(ExitCodes.CONFIG, "Configuration file [" + passwordFile + "] is missing");, +            terminal.println("removed from the \"users\" file and its roles will be removed from the");, +            terminal.println("\"users_roles\" file in the elasticsearch config directory.");, +                throw new UserException(ExitCodes.CONFIG, "Configuration file [" + passwordFile + "] is missing");, +            terminal.println("The passwd command changes passwords for file based users. The tool");, +            terminal.println("password to be changed.");, +                throw new UserException(ExitCodes.CONFIG, "Configuration file [" + file + "] is missing");, +            throw new UserException(ExitCodes.CONFIG, "Configuration file [" + userRolesFilePath + "] is missing");, +            throw new UserException(ExitCodes.CONFIG, "Configuration file [" + userFilePath + "] is missing");, +            throw new UserException(ExitCodes.CONFIG, "Configuration file [" + rolesFilePath + "] is missing");, +++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/file/tool/UsersTool.java, +import org.elasticsearch.xpack.security.authz.store.FileRolesStore;, +        super("Manages elasticsearch file users");, +            super("Adds a file user");, +            terminal.println("be added to the \"users\" file and its roles will be added to the");, +            terminal.println("\"users_roles\" file in the elasticsearch config directory.");, +                throw new UserException(ExitCodes.CONFIG, "Configuration file [" + passwordFile + "] is missing");, +            terminal.println("removed from the \"users\" file and its roles will be removed from the");, +            terminal.println("\"users_roles\" file in the elasticsearch config directory.");, +                throw new UserException(ExitCodes.CONFIG, "Configuration file [" + passwordFile + "] is missing");, +            terminal.println("The passwd command changes passwords for file based users. The tool");, +            terminal.println("password to be changed.");, +                throw new UserException(ExitCodes.CONFIG, "Configuration file [" + file + "] is missing");, +            throw new UserException(ExitCodes.CONFIG, "Configuration file [" + userRolesFilePath + "] is missing");, +            throw new UserException(ExitCodes.CONFIG, "Configuration file [" + userFilePath + "] is missing");, +            throw new UserException(ExitCodes.CONFIG, "Configuration file [" + rolesFilePath + "] is missing");, +++ b/x-pack/qa/security-tools-tests/src/test/java/org/elasticsearch/xpack/security/authc/file/tool/UsersToolTests.java, +        assertThat(e.getMessage(), containsString("Configuration file [eshome/config/users] is missing"));, +        assertThat(e.getMessage(), containsString("Configuration file [eshome/config/users] is missing"));, +        assertThat(e.getMessage(), containsString("Configuration file [eshome/config/users] is missing"));, +        assertThat(e.getMessage(), containsString("Configuration file [eshome/config/users_roles] is missing"));]