[+++ b/rest-api-spec/src/main/resources/rest-api-spec/test/index/70_mix_typeless_typeful.yml, +, +---, +"Index call that introduces new field mappings":, +, +  - skip:, +      version: " - 6.99.99", +      reason:  Typeless APIs were introduced in 7.0.0, +, +  - do:, +      indices.create: # not using include_type_name: false on purpose, +        index: index, +        body:, +          mappings:, +            not_doc:, +              properties:, +                foo:, +                  type: "keyword", +  - do:, +      index:, +        index:  index, +        id:     2, +        body:   { new_field: value }, +, +  - match:   { _index:   "index" }, +  - match:   { _type:    "_doc" }, +  - match:   { _id:      "2" }, +  - match:   { _version: 1 }, +, +  - do:, +      get: # using typeful API on purpose, +        index:  index, +        type:   not_doc, +        id:     2, +, +  - match:   { _index:   "index" }, +  - match:   { _type:    "not_doc" }, +  - match:   { _id:      "2" }, +  - match:   { _version: 1}, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/index/70_mix_typeless_typeful.yml, +, +---, +"Index call that introduces new field mappings":, +, +  - skip:, +      version: " - 6.99.99", +      reason:  Typeless APIs were introduced in 7.0.0, +, +  - do:, +      indices.create: # not using include_type_name: false on purpose, +        index: index, +        body:, +          mappings:, +            not_doc:, +              properties:, +                foo:, +                  type: "keyword", +  - do:, +      index:, +        index:  index, +        id:     2, +        body:   { new_field: value }, +, +  - match:   { _index:   "index" }, +  - match:   { _type:    "_doc" }, +  - match:   { _id:      "2" }, +  - match:   { _version: 1 }, +, +  - do:, +      get: # using typeful API on purpose, +        index:  index, +        type:   not_doc, +        id:     2, +, +  - match:   { _index:   "index" }, +  - match:   { _type:    "not_doc" }, +  - match:   { _id:      "2" }, +  - match:   { _version: 1}, +++ b/rest-api-spec/src/main/resources/rest-api-spec/test/update/90_mix_typeless_typeful.yml, +, +---, +"Update call that introduces new field mappings":, +, +  - skip:, +      version: " - 6.99.99", +      reason:  Typeless APIs were introduced in 7.0.0, +, +  - do:, +      indices.create: # not using include_type_name: false on purpose, +        index: index, +        body:, +          mappings:, +            not_doc:, +              properties:, +                foo:, +                  type: "keyword", +, +  - do:, +      index:, +        index:  index]