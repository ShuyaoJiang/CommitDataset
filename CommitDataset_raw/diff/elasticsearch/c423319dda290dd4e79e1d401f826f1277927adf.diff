[+++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_1_6_2 = new Version(V_1_6_2_ID, false, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final int V_1_6_3_ID = 1060399;, +    public static final Version V_1_6_3 = new Version(V_1_6_3_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final Version V_1_7_1 = new Version(V_1_7_1_ID, false, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final int V_1_7_2_ID = 1070299;, +    public static final Version V_1_7_2 = new Version(V_1_7_2_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +, +            case V_1_7_2_ID:, +                return V_1_7_2;, +            case V_1_6_3_ID:, +                return V_1_6_3;, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_1_6_2 = new Version(V_1_6_2_ID, false, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final int V_1_6_3_ID = 1060399;, +    public static final Version V_1_6_3 = new Version(V_1_6_3_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final Version V_1_7_1 = new Version(V_1_7_1_ID, false, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final int V_1_7_2_ID = 1070299;, +    public static final Version V_1_7_2 = new Version(V_1_7_2_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +, +            case V_1_7_2_ID:, +                return V_1_7_2;, +            case V_1_6_3_ID:, +                return V_1_6_3;, +++ b/core/src/main/java/org/elasticsearch/percolator/PercolateContext.java, +import org.elasticsearch.search.fetch.fielddata.FieldDataFieldsContext;, +    public boolean hasFieldDataFields() {, +        throw new UnsupportedOperationException();, +    }, +, +    @Override, +    public FieldDataFieldsContext fieldDataFields() {, +        throw new UnsupportedOperationException();, +    }, +, +    @Override, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_1_6_2 = new Version(V_1_6_2_ID, false, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final int V_1_6_3_ID = 1060399;, +    public static final Version V_1_6_3 = new Version(V_1_6_3_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final Version V_1_7_1 = new Version(V_1_7_1_ID, false, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final int V_1_7_2_ID = 1070299;, +    public static final Version V_1_7_2 = new Version(V_1_7_2_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +, +            case V_1_7_2_ID:, +                return V_1_7_2;, +            case V_1_6_3_ID:, +                return V_1_6_3;, +++ b/core/src/main/java/org/elasticsearch/percolator/PercolateContext.java, +import org.elasticsearch.search.fetch.fielddata.FieldDataFieldsContext;, +    public boolean hasFieldDataFields() {, +        throw new UnsupportedOperationException();, +    }, +, +    @Override, +    public FieldDataFieldsContext fieldDataFields() {, +        throw new UnsupportedOperationException();, +    }, +, +    @Override, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +                new AggregationModule());, +        bind(ExplainFetchSubPhase.class).asEagerSingleton();, +        bind(FieldDataFieldsFetchSubPhase.class).asEagerSingleton();, +        bind(ScriptFieldsFetchSubPhase.class).asEagerSingleton();, +        bind(FetchSourceSubPhase.class).asEagerSingleton();, +        bind(VersionFetchSubPhase.class).asEagerSingleton();, +        bind(MatchedQueriesFetchSubPhase.class).asEagerSingleton();, +        bind(HighlightPhase.class).asEagerSingleton();, +        bind(InnerHitsFetchSubPhase.class).asEagerSingleton();, +++ b/core/src/main/java/org/elasticsearch/Version.java, +    public static final Version V_1_6_2 = new Version(V_1_6_2_ID, false, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final int V_1_6_3_ID = 1060399;, +    public static final Version V_1_6_3 = new Version(V_1_6_3_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final Version V_1_7_1 = new Version(V_1_7_1_ID, false, org.apache.lucene.util.Version.LUCENE_4_10_4);, +    public static final int V_1_7_2_ID = 1070299;, +    public static final Version V_1_7_2 = new Version(V_1_7_2_ID, true, org.apache.lucene.util.Version.LUCENE_4_10_4);, +, +            case V_1_7_2_ID:, +                return V_1_7_2;, +            case V_1_6_3_ID:, +                return V_1_6_3;, +++ b/core/src/main/java/org/elasticsearch/percolator/PercolateContext.java, +import org.elasticsearch.search.fetch.fielddata.FieldDataFieldsContext;, +    public boolean hasFieldDataFields() {, +        throw new UnsupportedOperationException();, +    }, +, +    @Override, +    public FieldDataFieldsContext fieldDataFields() {, +        throw new UnsupportedOperationException();, +    }, +, +    @Override, +++ b/core/src/main/java/org/elasticsearch/search/SearchModule.java, +                new AggregationModule());, +        bind(ExplainFetchSubPhase.class).asEagerSingleton();, +        bind(FieldDataFieldsFetchSubPhase.class).asEagerSingleton();, +        bind(ScriptFieldsFetchSubPhase.class).asEagerSingleton();, +        bind(FetchSourceSubPhase.class).asEagerSingleton();]