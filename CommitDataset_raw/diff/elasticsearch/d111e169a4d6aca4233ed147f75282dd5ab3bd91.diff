[+++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                MetaData.Builder metaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                MetaData.Builder metaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +            MetaData.Builder mdBuilder;, +                mdBuilder = MetaData.builder(currentState.metaData());, +            } else {, +                mdBuilder = MetaData.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                MetaData.Builder metaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +            MetaData.Builder mdBuilder;, +                mdBuilder = MetaData.builder(currentState.metaData());, +            } else {, +                mdBuilder = MetaData.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java, +                MetaData.Builder mdBuilder = MetaData.builder(currentState.metaData());, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                MetaData.Builder metaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +            MetaData.Builder mdBuilder;, +                mdBuilder = MetaData.builder(currentState.metaData());, +            } else {, +                mdBuilder = MetaData.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java, +                MetaData.Builder mdBuilder = MetaData.builder(currentState.metaData());, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +                        MetaData.Builder mdBuilder = MetaData.builder(currentState.metaData());, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                MetaData.Builder metaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +            MetaData.Builder mdBuilder;, +                mdBuilder = MetaData.builder(currentState.metaData());, +            } else {, +                mdBuilder = MetaData.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java, +                MetaData.Builder mdBuilder = MetaData.builder(currentState.metaData());, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +                        MetaData.Builder mdBuilder = MetaData.builder(currentState.metaData());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +    public static final MetaData EMPTY_META_DATA = builder().build();, +    public static Builder builder(MetaData metaData) {, +        return new Builder(metaData);, +        public Builder() {, +, +        }, +, +        public Builder(MetaData metaData) {, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                MetaData.Builder metaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +            MetaData.Builder mdBuilder;, +                mdBuilder = MetaData.builder(currentState.metaData());, +            } else {, +                mdBuilder = MetaData.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java, +                MetaData.Builder mdBuilder = MetaData.builder(currentState.metaData());, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +                        MetaData.Builder mdBuilder = MetaData.builder(currentState.metaData());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +    public static final MetaData EMPTY_META_DATA = builder().build();, +    public static Builder builder(MetaData metaData) {, +        return new Builder(metaData);, +        public Builder() {, +, +        }, +, +        public Builder(MetaData metaData) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                    MetaData newMetaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                MetaData.Builder metaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +            MetaData.Builder mdBuilder;, +                mdBuilder = MetaData.builder(currentState.metaData());, +            } else {, +                mdBuilder = MetaData.builder();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java, +                MetaData.Builder mdBuilder = MetaData.builder(currentState.metaData());, +++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +                        MetaData.Builder mdBuilder = MetaData.builder(currentState.metaData());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java, +    public static final MetaData EMPTY_META_DATA = builder().build();, +    public static Builder builder(MetaData metaData) {, +        return new Builder(metaData);, +        public Builder() {, +, +        }, +, +        public Builder(MetaData metaData) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                    MetaData newMetaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                MetaData newMetaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                MetaData.Builder metaData = MetaData.builder(currentState.metaData()), +++ b/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java, +            MetaData.Builder mdBuilder;, +                mdBuilder = MetaData.builder(currentState.metaData());]