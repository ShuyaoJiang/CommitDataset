[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/AnalyzerMapper.java, +//                if ("path".equals(fieldName)) {, +    private final String path;, +    public AnalyzerMapper(String path) {, +        this.path = path;, +        if (path != null) {, +            String value = context.doc().get(path);, +                    throw new MapperParsingException("No analyzer found for [" + value + "] from path [" + path + "]");, +        if (path == null) {, +        if (path != null) {, +            builder.field("path", path);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/AnalyzerMapper.java, +//                if ("path".equals(fieldName)) {, +    private final String path;, +    public AnalyzerMapper(String path) {, +        this.path = path;, +        if (path != null) {, +            String value = context.doc().get(path);, +                    throw new MapperParsingException("No analyzer found for [" + value + "] from path [" + path + "]");, +        if (path == null) {, +        if (path != null) {, +            builder.field("path", path);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/XContentDocumentMapperParser.java, +            if (fieldName.equals("path")) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/AnalyzerMapper.java, +//                if ("path".equals(fieldName)) {, +    private final String path;, +    public AnalyzerMapper(String path) {, +        this.path = path;, +        if (path != null) {, +            String value = context.doc().get(path);, +                    throw new MapperParsingException("No analyzer found for [" + value + "] from path [" + path + "]");, +        if (path == null) {, +        if (path != null) {, +            builder.field("path", path);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/XContentDocumentMapperParser.java, +            if (fieldName.equals("path")) {, +++ b/modules/elasticsearch/src/test/java/org/elasticsearch/index/mapper/xcontent/analyzer/AnalyzerMapperTests.java, +                .startObject("_analyzer").field("path", "field_analyzer").endObject()]