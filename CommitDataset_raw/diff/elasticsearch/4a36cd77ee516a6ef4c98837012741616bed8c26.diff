[+++ b/plugin/src/test/java/org/elasticsearch/xpack/security/authc/ldap/support/SessionFactoryLoadBalancingTests.java, +        final InetAddress local = InetAddress.getByName("localhost");, +        final MockServerSocket mockServerSocket = new MockServerSocket(0, 0, local);, +                // start listening on this port so we try to avoid this by creating a local socket, +                // that will be bound to the port the ldap server was running on and connecting to, +                // a mock server socket., +                    try (Socket socket = new MockSocket(InetAddress.getByName("localhost"), mockServerSocket.getLocalPort(), local, port)) {, +                        logger.debug("opened socket [{}]", socket);, +                        logger.debug("closing socket [{}]", socket);, +            mockServerSocket.close();]