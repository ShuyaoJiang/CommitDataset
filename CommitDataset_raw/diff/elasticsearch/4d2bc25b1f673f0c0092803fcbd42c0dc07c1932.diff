[+++ b/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +            FileStore sameMountPoint = null;, +                    if (sameMountPoint == null) {, +                        sameMountPoint = fs;, +                    } else {, +                        // more than one filesystem has the same mount point; something is wrong!, +                        // fall back to crappy one we got from Files.getFileStore, +                        return store;, +            }, +, +            if (sameMountPoint != null) {, +                // ok, we found only one, use it:, +                return sameMountPoint;, +            } else {, +                // fall back to crappy one we got from Files.getFileStore, +                return store;    , +            }, +        int index = desc.lastIndexOf(" (");, +        if (index != -1) {, +            return desc.substring(0, index);, +        } else {, +            return desc;, +        }, +++ b/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +            FileStore sameMountPoint = null;, +                    if (sameMountPoint == null) {, +                        sameMountPoint = fs;, +                    } else {, +                        // more than one filesystem has the same mount point; something is wrong!, +                        // fall back to crappy one we got from Files.getFileStore, +                        return store;, +            }, +, +            if (sameMountPoint != null) {, +                // ok, we found only one, use it:, +                return sameMountPoint;, +            } else {, +                // fall back to crappy one we got from Files.getFileStore, +                return store;    , +            }, +        int index = desc.lastIndexOf(" (");, +        if (index != -1) {, +            return desc.substring(0, index);, +        } else {, +            return desc;, +        }, +++ b/src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java, +++ b/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +            FileStore sameMountPoint = null;, +                    if (sameMountPoint == null) {, +                        sameMountPoint = fs;, +                    } else {, +                        // more than one filesystem has the same mount point; something is wrong!, +                        // fall back to crappy one we got from Files.getFileStore, +                        return store;, +            }, +, +            if (sameMountPoint != null) {, +                // ok, we found only one, use it:, +                return sameMountPoint;, +            } else {, +                // fall back to crappy one we got from Files.getFileStore, +                return store;    , +            }, +        int index = desc.lastIndexOf(" (");, +        if (index != -1) {, +            return desc.substring(0, index);, +        } else {, +            return desc;, +        }, +++ b/src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +            FileStore sameMountPoint = null;, +                    if (sameMountPoint == null) {, +                        sameMountPoint = fs;, +                    } else {, +                        // more than one filesystem has the same mount point; something is wrong!, +                        // fall back to crappy one we got from Files.getFileStore, +                        return store;, +            }, +, +            if (sameMountPoint != null) {, +                // ok, we found only one, use it:, +                return sameMountPoint;, +            } else {, +                // fall back to crappy one we got from Files.getFileStore, +                return store;    , +            }, +        int index = desc.lastIndexOf(" (");, +        if (index != -1) {, +            return desc.substring(0, index);, +        } else {, +            return desc;, +        }, +++ b/src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java, +++ /dev/null, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/env/NodeEnvironment.java, +            FileStore sameMountPoint = null;]