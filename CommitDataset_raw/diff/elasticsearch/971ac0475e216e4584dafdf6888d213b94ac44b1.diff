[+++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +                case 10:, +                    final String sidxMessage = readOptionalString();, +                    readThrowable();, +                    return (T) readStackTrace(new StringIndexOutOfBoundsException(sidxMessage), this);, +                case 11:, +                    final String aidxMessage = readOptionalString();, +                    readThrowable();, +                    return (T) readStackTrace(new ArrayIndexOutOfBoundsException(aidxMessage), this);, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java, +                case 10:, +                    final String sidxMessage = readOptionalString();, +                    readThrowable();, +                    return (T) readStackTrace(new StringIndexOutOfBoundsException(sidxMessage), this);, +                case 11:, +                    final String aidxMessage = readOptionalString();, +                    readThrowable();, +                    return (T) readStackTrace(new ArrayIndexOutOfBoundsException(aidxMessage), this);, +++ b/core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java, +            } else if (throwable instanceof StringIndexOutOfBoundsException) {, +                writeVInt(10);, +            } else if (throwable instanceof ArrayIndexOutOfBoundsException) {, +                writeVInt(11);]