[+++ b/plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java, +    public static final String INGEST_PARAM_CONTEXT_KEY = "__ingest__";, +++ b/plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java, +    public static final String INGEST_PARAM_CONTEXT_KEY = "__ingest__";, +++ b/plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java, +import static org.elasticsearch.plugin.ingest.IngestPlugin.INGEST_PARAM_CONTEXT_KEY;, +        request.putInContext(INGEST_PARAM_CONTEXT_KEY, request.param(INGEST_PARAM));, +++ b/plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java, +    public static final String INGEST_PARAM_CONTEXT_KEY = "__ingest__";, +++ b/plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java, +import static org.elasticsearch.plugin.ingest.IngestPlugin.INGEST_PARAM_CONTEXT_KEY;, +        request.putInContext(INGEST_PARAM_CONTEXT_KEY, request.param(INGEST_PARAM));, +++ b/plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java, +        String pipelineId = request.getFromContext(IngestPlugin.INGEST_PARAM_CONTEXT_KEY);, +++ b/plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java, +    public static final String INGEST_PARAM_CONTEXT_KEY = "__ingest__";, +++ b/plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java, +import static org.elasticsearch.plugin.ingest.IngestPlugin.INGEST_PARAM_CONTEXT_KEY;, +        request.putInContext(INGEST_PARAM_CONTEXT_KEY, request.param(INGEST_PARAM));, +++ b/plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java, +        String pipelineId = request.getFromContext(IngestPlugin.INGEST_PARAM_CONTEXT_KEY);, +++ b/plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java, +        indexRequest.putInContext(IngestPlugin.INGEST_PARAM_CONTEXT_KEY, "_id");]