[+++ b/core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java, +, +    public void testParseFailsWithMultipleFields() throws IOException {, +        String json = "{\n" +, +                "  \"term\" : {\n" +, +                "    \"message1\" : {\n" +, +                "      \"value\" : \"this\"\n" +, +                "    },\n" +, +                "    \"message2\" : {\n" +, +                "      \"value\" : \"this\"\n" +, +                "    }\n" +, +                "  }\n" +, +                "}";, +, +        try {, +            parseQuery(json);, +            fail("parseQuery should have failed");, +        } catch(ParsingException e) {, +            assertEquals("[term] query does not support different field names, use [bool] query instead", e.getMessage());, +        }, +    }]