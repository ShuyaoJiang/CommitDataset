[+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/PutUserRequest.java, +import java.util.Arrays;, +, +    @Override, +    public String toString() {, +        return "PutUserRequest{" +, +            "username='" + username + '\'' +, +            ", roles=" + Arrays.toString(roles) +, +            ", fullName='" + fullName + '\'' +, +            ", email='" + email + '\'' +, +            ", metadata=" + metadata +, +            ", passwordHash=" + (passwordHash == null ? "<null>" : "<not-null>") +, +            ", enabled=" + enabled +, +            ", refreshPolicy=" + refreshPolicy +, +            '}';, +    }, +++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/PutUserRequest.java, +import java.util.Arrays;, +, +    @Override, +    public String toString() {, +        return "PutUserRequest{" +, +            "username='" + username + '\'' +, +            ", roles=" + Arrays.toString(roles) +, +            ", fullName='" + fullName + '\'' +, +            ", email='" + email + '\'' +, +            ", metadata=" + metadata +, +            ", passwordHash=" + (passwordHash == null ? "<null>" : "<not-null>") +, +            ", enabled=" + enabled +, +            ", refreshPolicy=" + refreshPolicy +, +            '}';, +    }, +++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/esnative/NativeUsersStore.java, +                            assert updateResponse.getResult() == DocWriteResponse.Result.UPDATED, +                                || updateResponse.getResult() == DocWriteResponse.Result.NOOP, +                                : "Expected 'UPDATED' or 'NOOP' result [" + updateResponse + "] for request [" + putUserRequest + "]";]