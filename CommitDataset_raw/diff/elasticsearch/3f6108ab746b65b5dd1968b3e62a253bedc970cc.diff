[+++ b/core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java, +         * Post 2.0 default for position_offset_gap. Set to 100 so that, +        public static final int POSITION_OFFSET_GAP_PRE_2_0 = 0;, +            if (version.before(Version.V_2_0_0_beta1)) {, +                return POSITION_OFFSET_GAP_PRE_2_0;, +++ b/core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java, +         * Post 2.0 default for position_offset_gap. Set to 100 so that, +        public static final int POSITION_OFFSET_GAP_PRE_2_0 = 0;, +            if (version.before(Version.V_2_0_0_beta1)) {, +                return POSITION_OFFSET_GAP_PRE_2_0;, +++ b/core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java, +        if (version.before(Version.V_2_0_0_beta1)) {, +++ b/core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java, +         * Post 2.0 default for position_offset_gap. Set to 100 so that, +        public static final int POSITION_OFFSET_GAP_PRE_2_0 = 0;, +            if (version.before(Version.V_2_0_0_beta1)) {, +                return POSITION_OFFSET_GAP_PRE_2_0;, +++ b/core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java, +        if (version.before(Version.V_2_0_0_beta1)) {, +++ b/docs/reference/migration/migrate_2_0/mapping.asciidoc, +==== position_offset_gap, +The default `position_offset_gap` is now 100. Indexes created in Elasticsearch, +2.0.0 will default to using 100 and indexes created before that will continue, +to use the old default of 0. This was done to prevent phrase queries from, +matching across different values of the same term unexpectedly. Specifically,, +100 was chosen to cause phrase queries with slops up to 99 to match only within, +a single value of a field., +++ b/core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java, +         * Post 2.0 default for position_offset_gap. Set to 100 so that, +        public static final int POSITION_OFFSET_GAP_PRE_2_0 = 0;, +            if (version.before(Version.V_2_0_0_beta1)) {, +                return POSITION_OFFSET_GAP_PRE_2_0;, +++ b/core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java, +        if (version.before(Version.V_2_0_0_beta1)) {, +++ b/docs/reference/migration/migrate_2_0/mapping.asciidoc, +==== position_offset_gap, +The default `position_offset_gap` is now 100. Indexes created in Elasticsearch, +2.0.0 will default to using 100 and indexes created before that will continue, +to use the old default of 0. This was done to prevent phrase queries from, +matching across different values of the same term unexpectedly. Specifically,, +100 was chosen to cause phrase queries with slops up to 99 to match only within, +a single value of a field., +++ b/docs/reference/migration/migrate_2_1.asciidoc]