[+++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    responses[i] = new BulkItemResponse(item.id(), indexRequest.opType().lowercase(),, +                    responses[i] = new BulkItemResponse(item.id(), indexRequest.opType().lowercase(),, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    responses[i] = new BulkItemResponse(item.id(), indexRequest.opType().lowercase(),, +                    responses[i] = new BulkItemResponse(item.id(), indexRequest.opType().lowercase(),, +++ b/src/main/java/org/elasticsearch/action/index/IndexRequest.java, +import java.util.Locale;, +        private final byte id;, +        private final String lowercase;, +            this.lowercase = this.toString().toLowerCase(Locale.ENGLISH);, +        public String lowercase() {, +            return this.lowercase;, +        }, +, +++ b/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java, +                    responses[i] = new BulkItemResponse(item.id(), indexRequest.opType().lowercase(),, +                    responses[i] = new BulkItemResponse(item.id(), indexRequest.opType().lowercase(),, +++ b/src/main/java/org/elasticsearch/action/index/IndexRequest.java, +import java.util.Locale;, +        private final byte id;, +        private final String lowercase;, +            this.lowercase = this.toString().toLowerCase(Locale.ENGLISH);, +        public String lowercase() {, +            return this.lowercase;, +        }, +, +++ b/src/test/java/org/elasticsearch/benchmark/stress/SingleThreadBulkStress.java, +        //Node client = nodeBuilder().settings(settingsBuilder().put(settings).put("name", "client")).client(true).node();, +        Node client = nodes[0];]