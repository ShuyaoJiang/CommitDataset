[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/http/netty/NettyHttpRequest.java, +    @Override public Boolean paramAsBoolean(String key, Boolean defaultValue) {, +        String sValue = param(key);, +        if (sValue == null) {, +            return defaultValue;, +        }, +        return sValue.equals("true") || sValue.equals("1") || sValue.equals("on");, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/http/netty/NettyHttpRequest.java, +    @Override public Boolean paramAsBoolean(String key, Boolean defaultValue) {, +        String sValue = param(key);, +        if (sValue == null) {, +            return defaultValue;, +        }, +        return sValue.equals("true") || sValue.equals("1") || sValue.equals("on");, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/RestRequest.java, +    Boolean paramAsBoolean(String key, Boolean defaultValue);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/http/netty/NettyHttpRequest.java, +    @Override public Boolean paramAsBoolean(String key, Boolean defaultValue) {, +        String sValue = param(key);, +        if (sValue == null) {, +            return defaultValue;, +        }, +        return sValue.equals("true") || sValue.equals("1") || sValue.equals("on");, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/RestRequest.java, +    Boolean paramAsBoolean(String key, Boolean defaultValue);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java, +        String sIndicesBoost = request.param("indicesBoost");, +        if (sIndicesBoost != null) {, +            String[] indicesBoost = indicesBoostPattern.split(sIndicesBoost);, +            for (String indexBoost : indicesBoost) {, +                int divisor = indexBoost.indexOf(',');, +                if (divisor == -1) {, +                    throw new ElasticSearchIllegalArgumentException("Illegal index boost [" + indexBoost + "], no ','");, +                }, +                String indexName = indexBoost.substring(0, divisor);, +                String sBoost = indexBoost.substring(divisor + 1);, +                try {, +                    searchSourceBuilder.indexBoost(indexName, Float.parseFloat(sBoost));, +                } catch (NumberFormatException e) {, +                    throw new ElasticSearchIllegalArgumentException("Illegal index boost [" + indexBoost + "], boost not a float number");, +                }, +            }, +        }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchRequest.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/http/netty/NettyHttpRequest.java, +    @Override public Boolean paramAsBoolean(String key, Boolean defaultValue) {, +        String sValue = param(key);, +        if (sValue == null) {, +            return defaultValue;, +        }, +        return sValue.equals("true") || sValue.equals("1") || sValue.equals("on");, +    }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/RestRequest.java, +    Boolean paramAsBoolean(String key, Boolean defaultValue);, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java, +        String sIndicesBoost = request.param("indicesBoost");, +        if (sIndicesBoost != null) {, +            String[] indicesBoost = indicesBoostPattern.split(sIndicesBoost);, +            for (String indexBoost : indicesBoost) {, +                int divisor = indexBoost.indexOf(',');, +                if (divisor == -1) {, +                    throw new ElasticSearchIllegalArgumentException("Illegal index boost [" + indexBoost + "], no ','");, +                }, +                String indexName = indexBoost.substring(0, divisor);, +                String sBoost = indexBoost.substring(divisor + 1);, +                try {, +                    searchSourceBuilder.indexBoost(indexName, Float.parseFloat(sBoost));, +                } catch (NumberFormatException e) {, +                    throw new ElasticSearchIllegalArgumentException("Illegal index boost [" + indexBoost + "], boost not a float number");, +                }, +            }, +        }, +, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/search/SearchPhase.java, +    /**, +     * Performs pre processing of the search context before the execute., +     */, +    void preProcess(SearchContext context);, +]