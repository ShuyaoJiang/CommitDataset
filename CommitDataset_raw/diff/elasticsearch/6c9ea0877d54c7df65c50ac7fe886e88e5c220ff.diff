[+++ b/docs/reference/index.asciidoc, +:docker-image: docker.elastic.co/elasticsearch/elasticsearch:{version}, +:x-pack-baseurl: https://www.elastic.co/guide/en/x-pack/5.0, +++ b/docs/reference/index.asciidoc, +:docker-image: docker.elastic.co/elasticsearch/elasticsearch:{version}, +:x-pack-baseurl: https://www.elastic.co/guide/en/x-pack/5.0, +++ b/docs/reference/setup/install.asciidoc, +`docker`::, +, +An image is available for running Elasticsearch as a Docker container. It ships with https://www.elastic.co/guide/en/x-pack/current/index.html[X-Pack] pre-installed and may be downloaded from the Elastic Docker Registry., ++, +<<docker>>, +, +include::install/docker.asciidoc[], +++ b/docs/reference/index.asciidoc, +:docker-image: docker.elastic.co/elasticsearch/elasticsearch:{version}, +:x-pack-baseurl: https://www.elastic.co/guide/en/x-pack/5.0, +++ b/docs/reference/setup/install.asciidoc, +`docker`::, +, +An image is available for running Elasticsearch as a Docker container. It ships with https://www.elastic.co/guide/en/x-pack/current/index.html[X-Pack] pre-installed and may be downloaded from the Elastic Docker Registry., ++, +<<docker>>, +, +include::install/docker.asciidoc[], +++ b/docs/reference/setup/install/docker.asciidoc, +[[docker]], +=== Install Elasticsearch with Docker, +, +Elasticsearch is also available as a Docker image., +The image is built with {x-pack-baseurl}/index.html[X-Pack]., +, +==== Security note, +, +NOTE: {x-pack-baseurl}/index.html[X-Pack] is preinstalled in this image., +Please take a few minutes to familiarize yourself with {x-pack-baseurl}/security-getting-started.html[X-Pack Security] and how to change default passwords. The default password for the `elastic` user is `changeme`., +, +NOTE: X-Pack includes a trial license for 30 days. After that, you can obtain one of the https://www.elastic.co/subscriptions[available subscriptions] or {x-pack-baseurl}/security-settings.html[disable Security]. The Basic license is free and includes the https://www.elastic.co/products/x-pack/monitoring[Monitoring] extension., +, +Obtaining Elasticsearch for Docker is as simple as issuing a +docker pull+ command against the Elastic Docker registry., +, +ifeval::["{release-state}"=="unreleased"], +, +WARNING: Version {version} of Elasticsearch has not yet been released, so no Docker image is currently available for this version., +, +endif::[], +, +ifeval::["{release-state}"!="unreleased"], +, +The Docker image can be retrieved with the following command:, +, +["source","sh",subs="attributes"], +--------------------------------------------, +docker pull {docker-image}, +--------------------------------------------, +, +endif::[], +, +[[docker-cli-run]], +==== Running Elasticsearch from the command line, +, +[[docker-cli-run-dev-mode]], +===== Development mode, +, +ifeval::["{release-state}"=="unreleased"], +, +WARNING: Version {version} of the Elasticsearch Docker image has not yet been released., +, +endif::[], +, +ifeval::["{release-state}"!="unreleased"], +, +Elasticsearch can be quickly started for development or testing use with the following command:, +, +["source","sh",subs="attributes"], +--------------------------------------------, +docker run -p 9200:9200 -e "http.host=0.0.0.0" -e "transport.host=127.0.0.1" {docker-image}, +--------------------------------------------, +, +endif::[], +, +[[docker-cli-run-prod-mode]], +===== Production mode, +, +[[docker-prod-prerequisites]], +[IMPORTANT], +=========================, +, +The `vm_max_map_count` kernel setting needs to be set to at least `262144` for production use., +Depending on your platform:, +, +* Linux, ++, +The `vm_map_max_count` setting should be set permanently in /etc/sysctl.conf:, ++, +[source,sh], +--------------------------------------------, +$ grep vm.max_map_count /etc/sysctl.conf, +vm.max_map_count=262144, +----------------------------------]