[+++ b/src/test/java/org/elasticsearch/test/integration/recovery/RecoveryWhileUnderLoadTests.java, +    private void refreshAndAssert() throws InterruptedException {, +        assertThat(awaitBusy(new Predicate<Object>() {, +            public boolean apply(Object o) {, +                try {, +                    return actionGet.getTotalShards() == actionGet.getSuccessfulShards();, +                } catch (Throwable e) {, +                    throw new RuntimeException(e);, +                }, +            }, +        }, 5, TimeUnit.MINUTES), equalTo(true));]