[+++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 3.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be upgraded using upgrade API before they can, +     * be open by this version of elasticsearch., +     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1 and wasn't upgraded.", +                    + " This index should be opened using a version before " + Version.CURRENT.minimumCompatibilityVersion(), +                    + " and upgraded using the upgrade API.");, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 3.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be upgraded using upgrade API before they can, +     * be open by this version of elasticsearch., +     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1 and wasn't upgraded.", +                    + " This index should be opened using a version before " + Version.CURRENT.minimumCompatibilityVersion(), +                    + " and upgraded using the upgrade API.");, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 3.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be upgraded using upgrade API before they can, +     * be open by this version of elasticsearch., +     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1 and wasn't upgraded.", +                    + " This index should be opened using a version before " + Version.CURRENT.minimumCompatibilityVersion(), +                    + " and upgraded using the upgrade API.");, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +++ b/docs/reference/search/count.asciidoc, +PUT /twitter/tweet/1?refresh, +{, +    "user": "kimchy", +}, +GET /twitter/tweet/_count?q=user:kimchy, +, +GET /twitter/tweet/_count, +}, +//CONSOLE, +// TESTRESPONSE, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 3.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be upgraded using upgrade API before they can, +     * be open by this version of elasticsearch., +     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1 and wasn't upgraded.", +                    + " This index should be opened using a version before " + Version.CURRENT.minimumCompatibilityVersion(), +                    + " and upgraded using the upgrade API.");, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +++ b/docs/reference/search/count.asciidoc, +PUT /twitter/tweet/1?refresh, +{, +    "user": "kimchy", +}, +GET /twitter/tweet/_count?q=user:kimchy, +, +GET /twitter/tweet/_count, +}, +//CONSOLE, +// TESTRESPONSE, +++ b/docs/reference/search/request/explain.asciidoc, +GET /_search, +// CONSOLE, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 3.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be upgraded using upgrade API before they can, +     * be open by this version of elasticsearch., +     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1 and wasn't upgraded.", +                    + " This index should be opened using a version before " + Version.CURRENT.minimumCompatibilityVersion(), +                    + " and upgraded using the upgrade API.");, +++ b/core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java, +++ b/docs/reference/search/count.asciidoc, +PUT /twitter/tweet/1?refresh, +{, +    "user": "kimchy", +}, +GET /twitter/tweet/_count?q=user:kimchy, +, +GET /twitter/tweet/_count, +}, +//CONSOLE, +// TESTRESPONSE, +++ b/docs/reference/search/request/explain.asciidoc, +GET /_search, +// CONSOLE, +++ b/docs/reference/search/request/fielddata-fields.asciidoc, +GET /_search, +        "match_all": {}, +// CONSOLE, +++ b/core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +     * Elasticsearch 3.0 no longer supports indices with pre Lucene v5.0 (Elasticsearch v2.0.0.beta1) segments. All indices, +     * that were created before Elasticsearch v2.0.0.beta1 should be upgraded using upgrade API before they can, +     * be open by this version of elasticsearch., +     */, +            throw new IllegalStateException("The index [" + indexMetaData.getIndex() + "] was created before v2.0.0.beta1 and wasn't upgraded."]