[+++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Alias.java, +    public Nullability nullable() {, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Alias.java, +    public Nullability nullable() {, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +import org.elasticsearch.xpack.sql.tree.Source;, +    private final Nullability nullability;, +        this(source, name, qualifier, Nullability.TRUE, id);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id) {, +        this(source, name, qualifier, nullability, id, false);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id, boolean synthetic) {, +        this.nullability = nullability;, +    public Nullability nullable() {, +        return nullability;, +    public Attribute withNullability(Nullability nullability) {, +        return Objects.equals(nullable(), nullability) ? this : clone(source(), name(), qualifier(), nullability, id(), synthetic());, +    protected abstract Attribute clone(Source source, String name, String qualifier, Nullability nullability, ExpressionId id,, +        return Objects.hash(super.hashCode(), qualifier, nullability);, +                    && Objects.equals(nullability, other.nullability);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Alias.java, +    public Nullability nullable() {, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +import org.elasticsearch.xpack.sql.tree.Source;, +    private final Nullability nullability;, +        this(source, name, qualifier, Nullability.TRUE, id);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id) {, +        this(source, name, qualifier, nullability, id, false);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id, boolean synthetic) {, +        this.nullability = nullability;, +    public Nullability nullable() {, +        return nullability;, +    public Attribute withNullability(Nullability nullability) {, +        return Objects.equals(nullable(), nullability) ? this : clone(source(), name(), qualifier(), nullability, id(), synthetic());, +    protected abstract Attribute clone(Source source, String name, String qualifier, Nullability nullability, ExpressionId id,, +        return Objects.hash(super.hashCode(), qualifier, nullability);, +                    && Objects.equals(nullability, other.nullability);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Exists.java, +    public Nullability nullable() {, +        return Nullability.FALSE;, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Alias.java, +    public Nullability nullable() {, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +import org.elasticsearch.xpack.sql.tree.Source;, +    private final Nullability nullability;, +        this(source, name, qualifier, Nullability.TRUE, id);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id) {, +        this(source, name, qualifier, nullability, id, false);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id, boolean synthetic) {, +        this.nullability = nullability;, +    public Nullability nullable() {, +        return nullability;, +    public Attribute withNullability(Nullability nullability) {, +        return Objects.equals(nullable(), nullability) ? this : clone(source(), name(), qualifier(), nullability, id(), synthetic());, +    protected abstract Attribute clone(Source source, String name, String qualifier, Nullability nullability, ExpressionId id,, +        return Objects.hash(super.hashCode(), qualifier, nullability);, +                    && Objects.equals(nullability, other.nullability);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Exists.java, +    public Nullability nullable() {, +        return Nullability.FALSE;, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Expression.java, +    public abstract Nullability nullable();, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Alias.java, +    public Nullability nullable() {, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +import org.elasticsearch.xpack.sql.tree.Source;, +    private final Nullability nullability;, +        this(source, name, qualifier, Nullability.TRUE, id);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id) {, +        this(source, name, qualifier, nullability, id, false);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id, boolean synthetic) {, +        this.nullability = nullability;, +    public Nullability nullable() {, +        return nullability;, +    public Attribute withNullability(Nullability nullability) {, +        return Objects.equals(nullable(), nullability) ? this : clone(source(), name(), qualifier(), nullability, id(), synthetic());, +    protected abstract Attribute clone(Source source, String name, String qualifier, Nullability nullability, ExpressionId id,, +        return Objects.hash(super.hashCode(), qualifier, nullability);, +                    && Objects.equals(nullability, other.nullability);, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Exists.java, +    public Nullability nullable() {, +        return Nullability.FALSE;, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Expression.java, +    public abstract Nullability nullable();, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Expressions.java, +    public static Nullability nullable(List<? extends Expression> exps) {, +       return Nullability.and(exps.stream().map(Expression::nullable).toArray(Nullability[]::new));, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Alias.java, +    public Nullability nullable() {, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/expression/Attribute.java, +import org.elasticsearch.xpack.sql.tree.Source;, +    private final Nullability nullability;, +        this(source, name, qualifier, Nullability.TRUE, id);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id) {, +        this(source, name, qualifier, nullability, id, false);, +    public Attribute(Source source, String name, String qualifier, Nullability nullability, ExpressionId id, boolean synthetic) {, +        this.nullability = nullability;, +    public Nullability nullable() {, +        return nullability;, +    public Attribute withNullability(Nullability nullability) {, +        return Objects.equals(nullable(), nullability) ? this : clone(source(), name(), qualifier(), nullability, id(), synthetic());]