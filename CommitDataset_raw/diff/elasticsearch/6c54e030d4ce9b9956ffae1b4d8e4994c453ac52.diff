[+++ b/src/test/java/org/elasticsearch/index/store/mock/MockDirectoryHelper.java, +    public static final String RANDOM_PREVENT_DOUBLE_WRITE = "index.store.mock.random.prevent_double_write";, +    public static final String RANDOM_NO_DELETE_OPEN_FILE = "index.store.mock.random.no_delete_open_file";, +    , +    private final Settings indexSettings;, +    private final ShardId shardId;, +    private final boolean preventDoubleWrite;, +    private final boolean noDeleteOpenFile;, +        preventDoubleWrite = indexSettings.getAsBoolean(RANDOM_PREVENT_DOUBLE_WRITE, true); // true is default in MDW, +        noDeleteOpenFile = indexSettings.getAsBoolean(RANDOM_NO_DELETE_OPEN_FILE, true); // true is default in MDW, +        w.setPreventDoubleWrite(preventDoubleWrite);, +        w.setNoDeleteOpenFile(noDeleteOpenFile);]