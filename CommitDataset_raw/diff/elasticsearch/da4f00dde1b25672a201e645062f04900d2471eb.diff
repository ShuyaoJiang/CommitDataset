[+++ b/src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/VariousDocTest.java, +        assertParseable("issue-104.docx");, +        assertException("encrypted.pdf");, +        assertParseable("htmlWithEmptyDateMeta.html");, +        assertParseable("testXHTML.html");, +        assertParseable("text-in-english.txt");, +        assertParseable("asciidoc.asciidoc");, +    void assertException(String filename) {, +        Tika tika = tika();, +        assumeTrue("Tika has been disabled. Ignoring test...", tika != null);, +, +        try (InputStream is = VariousDocTest.class.getResourceAsStream("/org/elasticsearch/index/mapper/attachment/test/sample-files/" + filename)) {, +            tika.parseToString(is);, +            fail("expected exception");, +        } catch (Exception e) {, +            // expected. TODO: check message, +        }, +    }, +, +    protected void assertParseable(String filename) throws Exception {]