[+++ b/plugin/src/main/java/org/elasticsearch/xpack/XPackPlugin.java, +import java.io.UncheckedIOException;, +, +        final CryptoService cryptoService;, +        try {, +            cryptoService = ENCRYPT_SENSITIVE_DATA_SETTING.get(settings) ? new CryptoService(settings) : null;, +        } catch (IOException e) {, +            throw new UncheckedIOException(e);, +        }, +, +                httpTemplateParser, scriptService, httpAuthRegistry, cryptoService);, +                                                            HttpAuthRegistry httpAuthRegistry, CryptoService cryptoService) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/XPackPlugin.java, +import java.io.UncheckedIOException;, +, +        final CryptoService cryptoService;, +        try {, +            cryptoService = ENCRYPT_SENSITIVE_DATA_SETTING.get(settings) ? new CryptoService(settings) : null;, +        } catch (IOException e) {, +            throw new UncheckedIOException(e);, +        }, +, +                httpTemplateParser, scriptService, httpAuthRegistry, cryptoService);, +                                                            HttpAuthRegistry httpAuthRegistry, CryptoService cryptoService) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/security/Security.java, +                        + "] but is [" + transportType + "]");, +                throw new IllegalArgumentException("http type setting [" + NetworkModule.HTTP_TYPE_KEY + "] must be [" + NAME4, +                        + "] but is [" + httpType + "]");]