[+++ b/src/main/java/org/elasticsearch/action/TransportActions.java, +    , +    public static final String VALIDATE = "indices/validate";, +++ b/src/main/java/org/elasticsearch/action/TransportActions.java, +    , +    public static final String VALIDATE = "indices/validate";, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                    return ClusterState.builder().state(currentState).metaData(metaData).build();, +++ b/src/main/java/org/elasticsearch/action/TransportActions.java, +    , +    public static final String VALIDATE = "indices/validate";, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                    return ClusterState.builder().state(currentState).metaData(metaData).build();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java, + *, + *, +++ b/src/main/java/org/elasticsearch/action/TransportActions.java, +    , +    public static final String VALIDATE = "indices/validate";, +++ b/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java, +                    return ClusterState.builder().state(currentState).metaData(metaData).build();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java, + *, + *, +++ b/src/main/java/org/elasticsearch/action/validate/ShardValidateRequest.java, +/*, + * Licensed to ElasticSearch and Shay Banon under one, + * or more contributor license agreements.  See the NOTICE file, + * distributed with this work for additional information, + * regarding copyright ownership. ElasticSearch licenses this, + * file to you under the Apache License, Version 2.0 (the, + * "License"); you may not use this file except in compliance, + * with the License.  You may obtain a copy of the License at, + *, + *    http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing,, + * software distributed under the License is distributed on an, + * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY, + * KIND, either express or implied.  See the License for the, + * specific language governing permissions and limitations, + * under the License., + */, +, +package org.elasticsearch.action.validate;, +, +import org.elasticsearch.action.support.broadcast.BroadcastShardOperationRequest;, +import org.elasticsearch.common.Nullable;, +import org.elasticsearch.common.Strings;, +import org.elasticsearch.common.io.stream.StreamInput;, +import org.elasticsearch.common.io.stream.StreamOutput;, +, +import java.io.IOException;, +, +/**, + * Internal validate request executed directly against a specific index shard., + *, + *, + */, +class ShardValidateRequest extends BroadcastShardOperationRequest {, +, +    private byte[] querySource;, +    private int querySourceOffset;, +    private int querySourceLength;, +, +    private String[] types = Strings.EMPTY_ARRAY;, +, +    @Nullable, +    private String[] filteringAliases;, +, +    ShardValidateRequest() {, +, +    }, +, +    public ShardValidateRequest(String index, int shardId, @Nullable String[] filteringAliases, ValidateRequest request) {, +        super(index, shardId);, +        this.querySource = request.querySource();, +        this.querySourceOffset = request.querySourceOffset();, +        this.querySourceLength = request.querySourceLength();, +        this.types = request.types();, +        this.filteringAliases = filteringAliases;, +    }, +, +    public byte[] querySource() {, +        return querySource;, +    }, +, +    public int querySourceOffset() {, +        return querySourceOffset;, +    }, +, +    public int querySourceLength() {, +        return querySourceLength;, +    }, +, +    public String[] types() {, +        return this.types;, +    }, +, +    public String[] filteringAliases() {]