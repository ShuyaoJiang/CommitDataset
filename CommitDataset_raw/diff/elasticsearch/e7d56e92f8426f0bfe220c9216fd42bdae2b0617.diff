[+++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/MachineLearning.java, +    public static final Setting<Boolean> AUTODETECT_PROCESS =, +            Setting.boolSetting("xpack.ml.autodetect_process", true, Property.NodeScope);, +                Arrays.asList(AUTODETECT_PROCESS,, +        if (AUTODETECT_PROCESS.get(settings)) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/MachineLearning.java, +    public static final Setting<Boolean> AUTODETECT_PROCESS =, +            Setting.boolSetting("xpack.ml.autodetect_process", true, Property.NodeScope);, +                Arrays.asList(AUTODETECT_PROCESS,, +        if (AUTODETECT_PROCESS.get(settings)) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/job/persistence/JobProvider.java, +        if (MachineLearning.AUTODETECT_PROCESS.get(settings)) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/MachineLearning.java, +    public static final Setting<Boolean> AUTODETECT_PROCESS =, +            Setting.boolSetting("xpack.ml.autodetect_process", true, Property.NodeScope);, +                Arrays.asList(AUTODETECT_PROCESS,, +        if (AUTODETECT_PROCESS.get(settings)) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/job/persistence/JobProvider.java, +        if (MachineLearning.AUTODETECT_PROCESS.get(settings)) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/job/process/NativeControllerHolder.java, +     * null is returned to tests that haven't bothered to set up path.home and all runs where xpack.ml.autodetect_process=false., +        if (Environment.PATH_HOME_SETTING.exists(settings) && MachineLearning.AUTODETECT_PROCESS.get(settings)) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/MachineLearning.java, +    public static final Setting<Boolean> AUTODETECT_PROCESS =, +            Setting.boolSetting("xpack.ml.autodetect_process", true, Property.NodeScope);, +                Arrays.asList(AUTODETECT_PROCESS,, +        if (AUTODETECT_PROCESS.get(settings)) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/job/persistence/JobProvider.java, +        if (MachineLearning.AUTODETECT_PROCESS.get(settings)) {, +++ b/plugin/src/main/java/org/elasticsearch/xpack/ml/job/process/NativeControllerHolder.java, +     * null is returned to tests that haven't bothered to set up path.home and all runs where xpack.ml.autodetect_process=false., +        if (Environment.PATH_HOME_SETTING.exists(settings) && MachineLearning.AUTODETECT_PROCESS.get(settings)) {, +++ b/plugin/src/test/java/org/elasticsearch/xpack/ml/support/BaseMlIntegTestCase.java, +        settings.put(MachineLearning.AUTODETECT_PROCESS.getKey(), false);]