[+++ b/x-pack/docs/en/rest-api/security/create-api-keys.asciidoc, +=== Create API key API, +A successful create API key API call returns a JSON structure that contains the, +API key, its unique id, and its name. If applicable, it also returns expiration, +information for the API key in milliseconds. , +NOTE: By default, API keys never expire. You can specify expiration information, +when you create the API keys. , +See <<api-key-service-settings>> for configuration settings related to API key, +service., +`role_descriptors` (required)::, +(array-of-role-descriptor) An array of role descriptors for this API key. This, +parameter is required but can be an empty array, which applies the permissions, +of the authenticated user. If you supply role descriptors, they must be a subset, +of the authenticated user's permissions. The structure of role descriptor is the, +same as the request for create role API. For more details, see, +<<security-api-roles,role management APIs>>., +(string) Optional expiration time for the API key. By default, API keys never expire., +++ b/x-pack/docs/en/rest-api/security/create-api-keys.asciidoc, +=== Create API key API, +A successful create API key API call returns a JSON structure that contains the, +API key, its unique id, and its name. If applicable, it also returns expiration, +information for the API key in milliseconds. , +NOTE: By default, API keys never expire. You can specify expiration information, +when you create the API keys. , +See <<api-key-service-settings>> for configuration settings related to API key, +service., +`role_descriptors` (required)::, +(array-of-role-descriptor) An array of role descriptors for this API key. This, +parameter is required but can be an empty array, which applies the permissions, +of the authenticated user. If you supply role descriptors, they must be a subset, +of the authenticated user's permissions. The structure of role descriptor is the, +same as the request for create role API. For more details, see, +<<security-api-roles,role management APIs>>., +(string) Optional expiration time for the API key. By default, API keys never expire., +++ b/x-pack/docs/en/rest-api/security/get-api-keys.asciidoc, +=== Get API key information API, +(string) An API key id. This parameter cannot be used with any of `name`,, +`realm_name` or `username` are used., +(string) An API key name. This parameter cannot be used with any of `id`,, +`realm_name` or `username` are used., +(string) The name of an authentication realm. This parameter cannot be used with, +either `id` or `name`., +(string) The username of a user. This parameter cannot be used with either `id`, +or `name`., +If you create an API key as follows:, +, +[source, js], +------------------------------------------------------------, +POST /_security/api_key, +{, +  "name": "my-api-key",, +  "role_descriptors": {}, +}, +------------------------------------------------------------, +// CONSOLE, +// TEST, +, +A successful call returns a JSON structure that provides, +API key information. For example:, +{, +  "id":"VuaCfGcBCdbkQm-e5aOx",, +  "name":"my-api-key",, +  "api_key":"ui2lp2axTNmsyakw9tvNnw", +}, +// TESTRESPONSE[s/VuaCfGcBCdbkQm-e5aOx/$body.id/], +// TESTRESPONSE[s/ui2lp2axTNmsyakw9tvNnw/$body.api_key/], +You can use the following example to retrieve the API key by ID:, +GET /_security/api_key?id=VuaCfGcBCdbkQm-e5aOx, +// CONSOLE, +// TEST[s/VuaCfGcBCdbkQm-e5aOx/$body.id/], +// TEST[continued], +, +You can use the following example to retrieve the API key by name:, +, +[source,js], +--------------------------------------------------, +GET /_security/api_key?name=my-api-key, +--------------------------------------------------, +// CONSOLE, +// TEST[continued], +// CONSOLE, +// TEST[continued], +// CONSOLE, +// TEST[continued], +// CONSOLE, +// TEST[continued], +<5> Optional expiration time for the API key in milliseconds, +<6> Invalidation status for the API key. If the key has been invalidated, it has, +a value of `true`. Otherwise, it is `false`., +<7> Principal for which this API key was created, +<8> Realm name of the principal for which this API key was created, +++ b/x-pack/docs/en/rest-api/security/create-api-keys.asciidoc, +=== Create API key API, +A successful create API key API call returns a JSON structure that contains the, +API key, its unique id, and its name. If applicable, it also returns expiration, +information for the API key in milliseconds. , +NOTE: By default, API keys never expire. You can specify expiration information, +when you create the API keys. , +See <<api-key-service-settings>> for configuration settings related to API key, +service.]