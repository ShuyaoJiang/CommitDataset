[+++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/parser/SqlParser.java, +                ctx.getClass() != SqlBaseParser.ConstantContext.class &&, +                ctx.getClass() != SqlBaseParser.NumberContext.class &&, +                ctx.getClass() != SqlBaseParser.ValueExpressionContext.class &&, +++ b/x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/parser/SqlParser.java, +                ctx.getClass() != SqlBaseParser.ConstantContext.class &&, +                ctx.getClass() != SqlBaseParser.NumberContext.class &&, +                ctx.getClass() != SqlBaseParser.ValueExpressionContext.class &&, +++ b/x-pack/plugin/sql/src/test/java/org/elasticsearch/xpack/sql/parser/SqlParserTests.java, +        int noChildren = 10_000;, +            Joiner.on(",").join(nCopies(noChildren, "a + 10")) + "," +, +            Joiner.on(",").join(nCopies(noChildren, "-(-a - 10)")) + "," +, +            Joiner.on(",").join(nCopies(noChildren, "20")) + "," +, +            Joiner.on(",").join(nCopies(noChildren, "-20")) + "," +, +            Joiner.on(",").join(nCopies(noChildren, "20.1234")) + "," +, +            Joiner.on(",").join(nCopies(noChildren, "-20.4321")) + "," +, +            Joiner.on(",").join(nCopies(noChildren, "1.1234E56")) + "," +, +            Joiner.on(",").join(nCopies(noChildren, "-1.4321E-65")) + "," +, +            Joiner.on(",").join(nCopies(noChildren, "'foo'")) + "," +, +            Joiner.on(",").join(nCopies(noChildren, "'bar'")) + ")");, +        assertEquals(noChildren * 2 + 8, in.list().size());, +        assertThat(in.list().get(0).toString(), startsWith("Add[?a,10]#"));, +        assertThat(in.list().get(noChildren).toString(), startsWith("Neg[Sub[Neg[?a]#"));, +        assertEquals("20", in.list().get(noChildren * 2).toString());, +        assertEquals("-20", in.list().get(noChildren * 2 + 1).toString());, +        assertEquals("20.1234", in.list().get(noChildren * 2 + 2).toString());, +        assertEquals("-20.4321", in.list().get(noChildren * 2 + 3).toString());, +        assertEquals("1.1234E56", in.list().get(noChildren * 2 + 4).toString());, +        assertEquals("-1.4321E-65", in.list().get(noChildren * 2 + 5).toString());, +        assertEquals("'foo'=foo", in.list().get(noChildren * 2 + 6).toString());, +        assertEquals("'bar'=bar", in.list().get(noChildren * 2 + 7).toString());]