[+++ b/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java, +                } else if (fieldName.equals("default") && fieldNode != null) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java, +                } else if (fieldName.equals("default") && fieldNode != null) {, +++ b/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java, +    /**, +     * Test for issue #9223, +     */, +    @Test, +    public void testInitMappers() throws IOException {, +        String mapping = XContentFactory.jsonBuilder().startObject(), +                .startObject("type"), +                    .startObject("_timestamp"), +                        .field("enabled", true), +                        .field("default", (String) null), +                    .endObject(), +                .endObject().endObject().string();, +        // This was causing a NPE, +        new MappingMetaData(new CompressedString(mapping));, +    }, +]