[+++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java, +, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +                IndexWarmersMetaData.SearchSource source = new IndexWarmersMetaData.SearchSource(in);, +                warmerEntry.source().writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java, +, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +                IndexWarmersMetaData.SearchSource source = new IndexWarmersMetaData.SearchSource(in);, +                warmerEntry.source().writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +                        IndexWarmersMetaData.SearchSource source = null;, +                        if (request.searchRequest().source() != null) {, +                            source = new IndexWarmersMetaData.SearchSource(request.searchRequest().source());, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java, +, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +                IndexWarmersMetaData.SearchSource source = new IndexWarmersMetaData.SearchSource(in);, +                warmerEntry.source().writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +                        IndexWarmersMetaData.SearchSource source = null;, +                        if (request.searchRequest().source() != null) {, +                            source = new IndexWarmersMetaData.SearchSource(request.searchRequest().source());, +++ b/core/src/main/java/org/elasticsearch/action/count/CountRequest.java, +import org.elasticsearch.index.query.QueryBuilder;, +    private SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();, +, +     * The query to execute, +    public CountRequest query(QueryBuilder queryBuilder) {, +        this.searchSourceBuilder = new SearchSourceBuilder().query(queryBuilder);, +    public CountRequest searchSource(SearchSourceBuilder searchSourceBuilder) {, +        this.searchSourceBuilder = searchSourceBuilder;, +            sSource = XContentHelper.toString(searchSourceBuilder);, +        SearchRequest searchRequest = new SearchRequest(indices());, +        searchRequest.source(searchSourceBuilder);, +        searchRequest.indicesOptions(indicesOptions());, +        searchRequest.types(types());, +        searchRequest.routing(routing());, +        searchRequest.preference(preference());, +, +    SearchSourceBuilder sourceBuilder() {, +        return searchSourceBuilder;, +    }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java, +                        in.readBoolean() ? new IndexWarmersMetaData.SearchSource(in) : null), +                boolean hasSource = warmerEntry.source() != null;, +                out.writeBoolean(hasSource);, +                if (hasSource) {, +                    warmerEntry.source().writeTo(out);, +                }, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java, +, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +                IndexWarmersMetaData.SearchSource source = new IndexWarmersMetaData.SearchSource(in);, +                warmerEntry.source().writeTo(out);, +++ b/core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java, +import org.elasticsearch.search.builder.SearchSourceBuilder;, +                        IndexWarmersMetaData.SearchSource source = null;, +                        if (request.searchRequest().source() != null) {, +                            source = new IndexWarmersMetaData.SearchSource(request.searchRequest().source());, +++ b/core/src/main/java/org/elasticsearch/action/count/CountRequest.java, +import org.elasticsearch.index.query.QueryBuilder;, +    private SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();, +, +     * The query to execute, +    public CountRequest query(QueryBuilder queryBuilder) {, +        this.searchSourceBuilder = new SearchSourceBuilder().query(queryBuilder);, +    public CountRequest searchSource(SearchSourceBuilder searchSourceBuilder) {, +        this.searchSourceBuilder = searchSourceBuilder;, +            sSource = XContentHelper.toString(searchSourceBuilder);]