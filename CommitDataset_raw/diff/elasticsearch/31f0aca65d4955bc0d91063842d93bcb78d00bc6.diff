[+++ b/core-signatures.txt, +#  Licensed to the Apache Software Foundation (ASF) under one or more, +#  contributor license agreements.  See the NOTICE file distributed with, +#  this work for additional information regarding copyright ownership., +#  The ASF licenses this file to You under the Apache License, Version 2.0, +#  (the "License"); you may not use this file except in compliance with, +#  the License.  You may obtain a copy of the License at, +#, +#       http://www.apache.org/licenses/LICENSE-2.0, +#, +#  Unless required by applicable law or agreed to in writing, software, +#  distributed under the License is distributed on an "AS IS" BASIS,, +#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., +#  See the License for the specific language governing permissions and, +#  limitations under the License., +, +# see Solr's DefaultSolrThreadFactory, +# see Lucene's NamedThreadFactory, +, +@defaultMessage spawns threads with vague names; use a custom thread factory and name threads so that you can tell (by its name) which executor it is associated with, +, +java.util.concurrent.Executors#newFixedThreadPool(int), +java.util.concurrent.Executors#newSingleThreadExecutor(), +java.util.concurrent.Executors#newCachedThreadPool(), +java.util.concurrent.Executors#newSingleThreadScheduledExecutor(), +java.util.concurrent.Executors#newScheduledThreadPool(int), +java.util.concurrent.Executors#defaultThreadFactory(), +java.util.concurrent.Executors#privilegedThreadFactory(), +++ b/core-signatures.txt, +#  Licensed to the Apache Software Foundation (ASF) under one or more, +#  contributor license agreements.  See the NOTICE file distributed with, +#  this work for additional information regarding copyright ownership., +#  The ASF licenses this file to You under the Apache License, Version 2.0, +#  (the "License"); you may not use this file except in compliance with, +#  the License.  You may obtain a copy of the License at, +#, +#       http://www.apache.org/licenses/LICENSE-2.0, +#, +#  Unless required by applicable law or agreed to in writing, software, +#  distributed under the License is distributed on an "AS IS" BASIS,, +#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., +#  See the License for the specific language governing permissions and, +#  limitations under the License., +, +# see Solr's DefaultSolrThreadFactory, +# see Lucene's NamedThreadFactory, +, +@defaultMessage spawns threads with vague names; use a custom thread factory and name threads so that you can tell (by its name) which executor it is associated with, +, +java.util.concurrent.Executors#newFixedThreadPool(int), +java.util.concurrent.Executors#newSingleThreadExecutor(), +java.util.concurrent.Executors#newCachedThreadPool(), +java.util.concurrent.Executors#newSingleThreadScheduledExecutor(), +java.util.concurrent.Executors#newScheduledThreadPool(int), +java.util.concurrent.Executors#defaultThreadFactory(), +java.util.concurrent.Executors#privilegedThreadFactory(), +++ b/pom.xml, +			<plugin>, +		<groupId>de.thetaphi</groupId>, +		<artifactId>forbiddenapis</artifactId>, +		<version>1.3</version>, +	, +		<executions>, +			<execution>, +				<id>check-forbidden-apis</id>, +				<configuration>, +					<targetVersion>1.6</targetVersion>, +					<!-- disallow undocumented classes like sun.misc.Unsafe: -->, +					<internalRuntimeForbidden>true</internalRuntimeForbidden>, +					<!-- if the used Java version is too new, don't fail, just do nothing: -->, +					<failOnUnsupportedJava>false</failOnUnsupportedJava>, +					<excludes>, +						<exclude>jsr166e/**</exclude>, +						<exclude>jsr166y/**</exclude>, +						<!--  these excludes are due to sysout/syserr usage - we should check those at some point, +						<exclude>org/elasticsearch/common/logging/log4j/ConsoleAppender*</exclude>, +						<exclude>org/elasticsearch/common/logging/support/LoggerMessageFormat.class</exclude>, +						<exclude>org/elasticsearch/common/Base64.class</exclude>, +						<exclude>org/elasticsearch/common/compress/bzip2/CBZip2InputStream.class</exclude>, +						<exclude>org/elasticsearch/plugins/PluginManager.class</exclude>, +						<exclude>org/elasticsearch/bootstrap/Bootstrap.class</exclude>, +						 -->, +					</excludes>, +					<bundledSignatures>, +						<!-- This will automatically choose the right signatures based on 'maven.compiler.target': -->, +						<bundledSignature>jdk-unsafe</bundledSignature>, +						<bundledSignature>jdk-deprecated</bundledSignature>, +						<!-- <bundledSignaure>jdk-system-out</bundledSignaure>  see excludes -->, +					</bundledSignatures>, +					<signaturesFiles>, +						<signaturesFile>core-signatures.txt</signaturesFile>, +					</signaturesFiles>, +				</configuration>, +				<phase>test</phase>, +				<goals>, +					<goal>check</goal>, +				</goals>, +			</execution>, +			<execution>, +				<id>check-forbidden-test-apis</id>]