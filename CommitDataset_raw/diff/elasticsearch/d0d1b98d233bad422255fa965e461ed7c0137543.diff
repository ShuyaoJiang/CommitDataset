[+++ b/docs/reference/cat/nodes.asciidoc, +|`segments.index_writer_memory` |`siwm`, `segmentsIndexWriterMemory` |No, +|Memory used by index writer |1.2kb, +|`segments.version_map_memory` |`svmm`, `segmentsVersionMapMemory` |No, +|Memory used by version map |1.0kb, +++ b/docs/reference/cat/nodes.asciidoc, +|`segments.index_writer_memory` |`siwm`, `segmentsIndexWriterMemory` |No, +|Memory used by index writer |1.2kb, +|`segments.version_map_memory` |`svmm`, `segmentsVersionMapMemory` |No, +|Memory used by version map |1.0kb, +++ b/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java, +import org.elasticsearch.Version;, +    private long indexWriterMemoryInBytes;, +    private long versionMapMemoryInBytes;, +    public void addIndexWriterMemoryInBytes(long indexWriterMemoryInBytes) {, +        this.indexWriterMemoryInBytes += indexWriterMemoryInBytes;, +    }, +, +    public void addVersionMapMemoryInBytes(long versionMapMemoryInBytes) {, +        this.versionMapMemoryInBytes += versionMapMemoryInBytes;, +    }, +, +        addIndexWriterMemoryInBytes(mergeStats.indexWriterMemoryInBytes);, +        addVersionMapMemoryInBytes(mergeStats.versionMapMemoryInBytes);, +    /**, +     * Estimation of the memory usage by index writer, +     */, +    public long getIndexWriterMemoryInBytes() {, +        return this.indexWriterMemoryInBytes;, +    }, +, +    public ByteSizeValue getIndexWriterMemory() {, +        return new ByteSizeValue(indexWriterMemoryInBytes);, +    }, +, +    /**, +     * Estimation of the memory usage by version map, +     */, +    public long getVersionMapMemoryInBytes() {, +        return this.versionMapMemoryInBytes;, +    }, +, +    public ByteSizeValue getVersionMapMemory() {, +        return new ByteSizeValue(versionMapMemoryInBytes);, +    }, +, +        builder.byteSizeField(Fields.INDEX_WRITER_MEMORY_IN_BYTES, Fields.INDEX_WRITER_MEMORY, indexWriterMemoryInBytes);, +        builder.byteSizeField(Fields.VERSION_MAP_MEMORY_IN_BYTES, Fields.VERSION_MAP_MEMORY, versionMapMemoryInBytes);, +        static final XContentBuilderString INDEX_WRITER_MEMORY = new XContentBuilderString("index_writer_memory");, +        static final XContentBuilderString INDEX_WRITER_MEMORY_IN_BYTES = new XContentBuilderString("index_writer_memory_in_bytes");, +        static final XContentBuilderString VERSION_MAP_MEMORY = new XContentBuilderString("version_map_memory");, +        static final XContentBuilderString VERSION_MAP_MEMORY_IN_BYTES = new XContentBuilderString("version_map_memory_in_bytes");, +        if (in.getVersion().onOrAfter(Version.V_1_3_0)) {, +            indexWriterMemoryInBytes = in.readLong();, +            versionMapMemoryInBytes = in.readLong();, +        }, +        if (out.getVersion().onOrAfter(Version.V_1_3_0)) {, +            out.writeLong(indexWriterMemoryInBytes);, +            out.writeLong(versionMapMemoryInBytes);, +        }, +++ b/docs/reference/cat/nodes.asciidoc, +|`segments.index_writer_memory` |`siwm`, `segmentsIndexWriterMemory` |No, +|Memory used by index writer |1.2kb, +|`segments.version_map_memory` |`svmm`, `segmentsVersionMapMemory` |No, +|Memory used by version map |1.0kb, +++ b/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java, +import org.elasticsearch.Version;, +    private long indexWriterMemoryInBytes;, +    private long versionMapMemoryInBytes;, +    public void addIndexWriterMemoryInBytes(long indexWriterMemoryInBytes) {, +        this.indexWriterMemoryInBytes += indexWriterMemoryInBytes;, +    }, +, +    public void addVersionMapMemoryInBytes(long versionMapMemoryInBytes) {, +        this.versionMapMemoryInBytes += versionMapMemoryInBytes;, +    }, +, +        addIndexWriterMemoryInBytes(mergeStats.indexWriterMemoryInBytes);, +        addVersionMapMemoryInBytes(mergeStats.versionMapMemoryInBytes);, +    /**, +     * Estimation of the memory usage by index writer, +     */, +    public long getIndexWriterMemoryInBytes() {, +        return this.indexWriterMemoryInBytes;, +    }, +, +    public ByteSizeValue getIndexWriterMemory() {, +        return new ByteSizeValue(indexWriterMemoryInBytes);, +    }, +, +    /**, +     * Estimation of the memory usage by version map, +     */, +    public long getVersionMapMemoryInBytes() {, +        return this.versionMapMemoryInBytes;, +    }, +, +    public ByteSizeValue getVersionMapMemory() {, +        return new ByteSizeValue(versionMapMemoryInBytes);, +    }]