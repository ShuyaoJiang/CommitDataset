[+++ b/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java, +            if (Regex.simpleMatch(setting.getKey(), dynamicSetting)) {, +++ b/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java, +            if (Regex.simpleMatch(setting.getKey(), dynamicSetting)) {, +++ b/src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java, +import static org.hamcrest.Matchers.equalTo;, +, +    @Test, +    public void testDynamicValidators() throws Exception {, +        DynamicSettings ds = new DynamicSettings();, +        ds.addDynamicSetting("my.test.*", Validator.POSITIVE_INTEGER);, +        String valid = ds.validateDynamicSetting("my.test.setting", "-1");, +        assertThat(valid, equalTo("the value of the setting my.test.setting must be a positive integer"));, +    }]