[+++ b/src/main/java/org/elasticsearch/plugins/PluginManager.java, +            if (!FileSystemUtils.deleteRecursively(pluginToDelete, true)) {, +                throw new IOException("Unable to remove " + pluginHandle.name + ". Check file permissions on " +, +                        pluginToDelete.toString());, +            }, +            if (!pluginToDelete.delete()) {, +                throw new IOException("Unable to remove " + pluginHandle.name + ". Check file permissions on " +, +                        pluginToDelete.toString());, +            }, +            if (!FileSystemUtils.deleteRecursively(binLocation)) {, +                throw new IOException("Unable to remove " + pluginHandle.name + ". Check file permissions on " +, +                        binLocation.toString());, +            }]