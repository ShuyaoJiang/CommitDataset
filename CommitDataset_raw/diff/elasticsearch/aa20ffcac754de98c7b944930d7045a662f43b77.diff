[+++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +    public static final int DEFAULT_SOCKET_TIMEOUT_MILLIS = 30000;, +        RequestConfig.Builder requestConfigBuilder = RequestConfig.custom(), +                .setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS), +++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +    public static final int DEFAULT_SOCKET_TIMEOUT_MILLIS = 30000;, +        RequestConfig.Builder requestConfigBuilder = RequestConfig.custom(), +                .setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS), +++ b/core/src/main/java/org/elasticsearch/action/get/GetResponse.java, +++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +    public static final int DEFAULT_SOCKET_TIMEOUT_MILLIS = 30000;, +        RequestConfig.Builder requestConfigBuilder = RequestConfig.custom(), +                .setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS), +++ b/core/src/main/java/org/elasticsearch/action/get/GetResponse.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +    public static final int DEFAULT_SOCKET_TIMEOUT_MILLIS = 30000;, +        RequestConfig.Builder requestConfigBuilder = RequestConfig.custom(), +                .setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS), +++ b/core/src/main/java/org/elasticsearch/action/get/GetResponse.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestProxyActionFilter.java, +++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +    public static final int DEFAULT_SOCKET_TIMEOUT_MILLIS = 30000;, +        RequestConfig.Builder requestConfigBuilder = RequestConfig.custom(), +                .setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS), +++ b/core/src/main/java/org/elasticsearch/action/get/GetResponse.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestProxyActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/support/ActionFilter.java, +++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +    public static final int DEFAULT_SOCKET_TIMEOUT_MILLIS = 30000;, +        RequestConfig.Builder requestConfigBuilder = RequestConfig.custom(), +                .setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS), +++ b/core/src/main/java/org/elasticsearch/action/get/GetResponse.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestProxyActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/support/ActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/support/ActionFilterChain.java, +++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +    public static final int DEFAULT_SOCKET_TIMEOUT_MILLIS = 30000;, +        RequestConfig.Builder requestConfigBuilder = RequestConfig.custom(), +                .setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS), +++ b/core/src/main/java/org/elasticsearch/action/get/GetResponse.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestProxyActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/support/ActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/support/ActionFilterChain.java, +++ b/core/src/main/java/org/elasticsearch/action/support/TransportAction.java, +                    this.action.doExecute(task, request, listener);, +++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +    public static final int DEFAULT_SOCKET_TIMEOUT_MILLIS = 30000;, +        RequestConfig.Builder requestConfigBuilder = RequestConfig.custom(), +                .setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS), +++ b/core/src/main/java/org/elasticsearch/action/get/GetResponse.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestProxyActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/support/ActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/support/ActionFilterChain.java, +++ b/core/src/main/java/org/elasticsearch/action/support/TransportAction.java, +                    this.action.doExecute(task, request, listener);, +++ b/core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java, +        if (preserveOriginal == false) {, +        } else {, +            // See https://issues.apache.org/jira/browse/LUCENE-7536 for the reasoning, +            return new TokenFilterFactory() {, +                @Override, +                public String name() {, +                    return ASCIIFoldingTokenFilterFactory.this.name();, +                }, +                @Override, +                public TokenStream create(TokenStream tokenStream) {, +                    return new ASCIIFoldingFilter(tokenStream, false);, +                }, +            };, +        }, +++ b/client/rest/src/main/java/org/elasticsearch/client/RestClientBuilder.java, +    public static final int DEFAULT_SOCKET_TIMEOUT_MILLIS = 30000;, +        RequestConfig.Builder requestConfigBuilder = RequestConfig.custom(), +                .setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS), +++ b/core/src/main/java/org/elasticsearch/action/get/GetResponse.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/ingest/IngestProxyActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/support/ActionFilter.java, +++ b/core/src/main/java/org/elasticsearch/action/support/ActionFilterChain.java, +++ b/core/src/main/java/org/elasticsearch/action/support/TransportAction.java, +                    this.action.doExecute(task, request, listener);, +++ b/core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java, +        if (preserveOriginal == false) {, +        } else {, +            // See https://issues.apache.org/jira/browse/LUCENE-7536 for the reasoning, +            return new TokenFilterFactory() {, +                @Override, +                public String name() {, +                    return ASCIIFoldingTokenFilterFactory.this.name();, +                }, +                @Override, +                public TokenStream create(TokenStream tokenStream) {, +                    return new ASCIIFoldingFilter(tokenStream, false);, +                }]