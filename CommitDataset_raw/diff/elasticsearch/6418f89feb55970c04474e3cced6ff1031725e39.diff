[+++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +, +                                      IndexScopedSettings indexScopedSettings, ThreadPool threadPool) {, +                            final IndexService indexService = indicesService.createIndex(tmpImd, Collections.emptyList());, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +, +                                      IndexScopedSettings indexScopedSettings, ThreadPool threadPool) {, +                            final IndexService indexService = indicesService.createIndex(tmpImd, Collections.emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java, +, +            AliasValidator aliasValidator, MetaDataDeleteIndexService deleteIndexService) {, +                                    indexService = indicesService.createIndex(index, emptyList());, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +, +                                      IndexScopedSettings indexScopedSettings, ThreadPool threadPool) {, +                            final IndexService indexService = indicesService.createIndex(tmpImd, Collections.emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java, +, +            AliasValidator aliasValidator, MetaDataDeleteIndexService deleteIndexService) {, +                                    indexService = indicesService.createIndex(index, emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                                     IndicesService indicesService) {, +                        indicesService.verifyIndexMetadata(indexMetaData, indexMetaData);, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +, +                                      IndexScopedSettings indexScopedSettings, ThreadPool threadPool) {, +                            final IndexService indexService = indicesService.createIndex(tmpImd, Collections.emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java, +, +            AliasValidator aliasValidator, MetaDataDeleteIndexService deleteIndexService) {, +                                    indexService = indicesService.createIndex(index, emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                                     IndicesService indicesService) {, +                        indicesService.verifyIndexMetadata(indexMetaData, indexMetaData);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java, +, +                validateAndAddTemplate(request, templateBuilder, indicesService);, +    private static void validateAndAddTemplate(final PutRequest request, IndexTemplateMetaData.Builder templateBuilder,, +            IndicesService indicesService) throws Exception {, +            IndexService dummyIndexService = indicesService.createIndex(tmpIndexMetadata, Collections.emptyList());, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +, +                                      IndexScopedSettings indexScopedSettings, ThreadPool threadPool) {, +                            final IndexService indexService = indicesService.createIndex(tmpImd, Collections.emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java, +, +            AliasValidator aliasValidator, MetaDataDeleteIndexService deleteIndexService) {, +                                    indexService = indicesService.createIndex(index, emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                                     IndicesService indicesService) {, +                        indicesService.verifyIndexMetadata(indexMetaData, indexMetaData);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java, +, +                validateAndAddTemplate(request, templateBuilder, indicesService);, +    private static void validateAndAddTemplate(final PutRequest request, IndexTemplateMetaData.Builder templateBuilder,, +            IndicesService indicesService) throws Exception {, +            IndexService dummyIndexService = indicesService.createIndex(tmpIndexMetadata, Collections.emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +, +    public MetaDataMappingService(Settings settings, ClusterService clusterService, IndicesService indicesService) {, +                indexService = indicesService.createIndex(indexMetaData, Collections.emptyList());, +                                IndexService indexService = indicesService.createIndex(indexMetaData, Collections.emptyList());, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +, +                                      IndexScopedSettings indexScopedSettings, ThreadPool threadPool) {, +                            final IndexService indexService = indicesService.createIndex(tmpImd, Collections.emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java, +, +            AliasValidator aliasValidator, MetaDataDeleteIndexService deleteIndexService) {, +                                    indexService = indicesService.createIndex(index, emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                                     IndicesService indicesService) {, +                        indicesService.verifyIndexMetadata(indexMetaData, indexMetaData);, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java, +, +                validateAndAddTemplate(request, templateBuilder, indicesService);, +    private static void validateAndAddTemplate(final PutRequest request, IndexTemplateMetaData.Builder templateBuilder,, +            IndicesService indicesService) throws Exception {, +            IndexService dummyIndexService = indicesService.createIndex(tmpIndexMetadata, Collections.emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java, +, +    public MetaDataMappingService(Settings settings, ClusterService clusterService, IndicesService indicesService) {, +                indexService = indicesService.createIndex(indexMetaData, Collections.emptyList());, +                                IndexService indexService = indicesService.createIndex(indexMetaData, Collections.emptyList());, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +                                         IndexScopedSettings indexScopedSettings, IndicesService indicesService) {, +                        indicesService.verifyIndexMetadata(currentMetaData, updatedMetaData);, +                        indicesService.verifyIndexMetadata(currentMetaData, updatedMetaData);, +++ b/buildSrc/src/main/resources/checkstyle_suppressions.xml, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +, +                                      IndexScopedSettings indexScopedSettings, ThreadPool threadPool) {, +                            final IndexService indexService = indicesService.createIndex(tmpImd, Collections.emptyList());]