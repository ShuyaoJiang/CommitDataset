[+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +            '\\{lucene_version\\}' : VersionProperties.lucene.replaceAll('-snapshot-\\w+$', ''),, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +            '\\{lucene_version\\}' : VersionProperties.lucene.replaceAll('-snapshot-\\w+$', ''),, +++ b/buildSrc/version.properties, +lucene            = 6.3.0-snapshot-ed102d6, +randomizedrunner  = 2.4.0, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +            '\\{lucene_version\\}' : VersionProperties.lucene.replaceAll('-snapshot-\\w+$', ''),, +++ b/buildSrc/version.properties, +lucene            = 6.3.0-snapshot-ed102d6, +randomizedrunner  = 2.4.0, +++ b/client/rest/src/test/java/org/elasticsearch/client/RequestLoggerTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        int requestType = RandomNumbers.randomIntBetween(getRandom(), 0, 7);, +            switch(RandomNumbers.randomIntBetween(getRandom(), 0, 3)) {, +        int statusCode = RandomNumbers.randomIntBetween(getRandom(), 200, 599);, +        int numHeaders = RandomNumbers.randomIntBetween(getRandom(), 0, 3);, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +            '\\{lucene_version\\}' : VersionProperties.lucene.replaceAll('-snapshot-\\w+$', ''),, +++ b/buildSrc/version.properties, +lucene            = 6.3.0-snapshot-ed102d6, +randomizedrunner  = 2.4.0, +++ b/client/rest/src/test/java/org/elasticsearch/client/RequestLoggerTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        int requestType = RandomNumbers.randomIntBetween(getRandom(), 0, 7);, +            switch(RandomNumbers.randomIntBetween(getRandom(), 0, 3)) {, +        int statusCode = RandomNumbers.randomIntBetween(getRandom(), 200, 599);, +        int numHeaders = RandomNumbers.randomIntBetween(getRandom(), 0, 3);, +++ b/client/rest/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        int numHosts = RandomNumbers.randomIntBetween(getRandom(), 2, 5);, +        int numIters = RandomNumbers.randomIntBetween(getRandom(), 1, 5);, +        int numIters = RandomNumbers.randomIntBetween(getRandom(), 1, 5);, +        int numIters = RandomNumbers.randomIntBetween(getRandom(), 2, 5);, +                int iters = RandomNumbers.randomIntBetween(getRandom(), 2, 10);, +        switch(RandomNumbers.randomIntBetween(getRandom(), 0, 3)) {, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +            '\\{lucene_version\\}' : VersionProperties.lucene.replaceAll('-snapshot-\\w+$', ''),, +++ b/buildSrc/version.properties, +lucene            = 6.3.0-snapshot-ed102d6, +randomizedrunner  = 2.4.0, +++ b/client/rest/src/test/java/org/elasticsearch/client/RequestLoggerTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        int requestType = RandomNumbers.randomIntBetween(getRandom(), 0, 7);, +            switch(RandomNumbers.randomIntBetween(getRandom(), 0, 3)) {, +        int statusCode = RandomNumbers.randomIntBetween(getRandom(), 200, 599);, +        int numHeaders = RandomNumbers.randomIntBetween(getRandom(), 0, 3);, +++ b/client/rest/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        int numHosts = RandomNumbers.randomIntBetween(getRandom(), 2, 5);, +        int numIters = RandomNumbers.randomIntBetween(getRandom(), 1, 5);, +        int numIters = RandomNumbers.randomIntBetween(getRandom(), 1, 5);, +        int numIters = RandomNumbers.randomIntBetween(getRandom(), 2, 5);, +                int iters = RandomNumbers.randomIntBetween(getRandom(), 2, 10);, +        switch(RandomNumbers.randomIntBetween(getRandom(), 0, 3)) {, +++ b/client/sniffer/src/test/java/org/elasticsearch/client/sniff/ElasticsearchHostsSnifferTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        this.sniffRequestTimeout = RandomNumbers.randomIntBetween(getRandom(), 1000, 10000);, +                new ElasticsearchHostsSniffer(restClient, RandomNumbers.randomIntBetween(getRandom(), Integer.MIN_VALUE, 0),, +        int numNodes = RandomNumbers.randomIntBetween(getRandom(), 1, 5);, +                int port = RandomNumbers.randomIntBetween(getRandom(), 9200, 9299);, +                int numRoles = RandomNumbers.randomIntBetween(getRandom(), 0, 3);, +            int numAttributes = RandomNumbers.randomIntBetween(getRandom(), 0, 3);, +        return RandomNumbers.randomIntBetween(getRandom(), 400, 599);, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/DocsTestPlugin.groovy, +            '\\{lucene_version\\}' : VersionProperties.lucene.replaceAll('-snapshot-\\w+$', ''),, +++ b/buildSrc/version.properties, +lucene            = 6.3.0-snapshot-ed102d6, +randomizedrunner  = 2.4.0, +++ b/client/rest/src/test/java/org/elasticsearch/client/RequestLoggerTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        int requestType = RandomNumbers.randomIntBetween(getRandom(), 0, 7);, +            switch(RandomNumbers.randomIntBetween(getRandom(), 0, 3)) {, +        int statusCode = RandomNumbers.randomIntBetween(getRandom(), 200, 599);, +        int numHeaders = RandomNumbers.randomIntBetween(getRandom(), 0, 3);, +++ b/client/rest/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        int numHosts = RandomNumbers.randomIntBetween(getRandom(), 2, 5);, +        int numIters = RandomNumbers.randomIntBetween(getRandom(), 1, 5);, +        int numIters = RandomNumbers.randomIntBetween(getRandom(), 1, 5);, +        int numIters = RandomNumbers.randomIntBetween(getRandom(), 2, 5);, +                int iters = RandomNumbers.randomIntBetween(getRandom(), 2, 10);, +        switch(RandomNumbers.randomIntBetween(getRandom(), 0, 3)) {, +++ b/client/sniffer/src/test/java/org/elasticsearch/client/sniff/ElasticsearchHostsSnifferTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        this.sniffRequestTimeout = RandomNumbers.randomIntBetween(getRandom(), 1000, 10000);, +                new ElasticsearchHostsSniffer(restClient, RandomNumbers.randomIntBetween(getRandom(), Integer.MIN_VALUE, 0),, +        int numNodes = RandomNumbers.randomIntBetween(getRandom(), 1, 5);, +                int port = RandomNumbers.randomIntBetween(getRandom(), 9200, 9299);, +                int numRoles = RandomNumbers.randomIntBetween(getRandom(), 0, 3);, +            int numAttributes = RandomNumbers.randomIntBetween(getRandom(), 0, 3);, +        return RandomNumbers.randomIntBetween(getRandom(), 400, 599);, +++ b/client/sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java, +import com.carrotsearch.randomizedtesting.generators.RandomNumbers;, +        int numNodes = RandomNumbers.randomIntBetween(getRandom(), 1, 5);, +                Sniffer.builder(client).setSniffIntervalMillis(RandomNumbers.randomIntBetween(getRandom(), Integer.MIN_VALUE, 0));, +                Sniffer.builder(client).setSniffAfterFailureDelayMillis(RandomNumbers.randomIntBetween(getRandom(), Integer.MIN_VALUE, 0));, +                builder.setSniffIntervalMillis(RandomNumbers.randomIntBetween(getRandom(), 1, Integer.MAX_VALUE));, +                builder.setSniffAfterFailureDelayMillis(RandomNumbers.randomIntBetween(getRandom(), 1, Integer.MAX_VALUE));]