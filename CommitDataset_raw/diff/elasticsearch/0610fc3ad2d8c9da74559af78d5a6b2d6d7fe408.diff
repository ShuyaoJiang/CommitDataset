[+++ b/src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java, +import java.util.Map;, +         * Puts all the entries in the map to the builder., +         */, +        public Builder<KType, VType> putAll(Map<KType, VType> map) {, +            for (Map.Entry<KType, VType> entry : map.entrySet()) {, +                this.map.put(entry.getKey(), entry.getValue());, +            }, +            return this;, +        }, +, +        /**, +++ b/src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java, +import java.util.Map;, +         * Puts all the entries in the map to the builder., +         */, +        public Builder<KType, VType> putAll(Map<KType, VType> map) {, +            for (Map.Entry<KType, VType> entry : map.entrySet()) {, +                this.map.put(entry.getKey(), entry.getValue());, +            }, +            return this;, +        }, +, +        /**, +++ b/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java, +import org.elasticsearch.common.collect.ImmutableOpenMap;, +    private volatile ImmutableOpenMap<String, Mapper> mappers = ImmutableOpenMap.of();, +            this.mappers = ImmutableOpenMap.builder(this.mappers).putAll(mappers).build();, +            this.mappers = ImmutableOpenMap.builder(this.mappers).fPut(mapper.name(), mapper).build();]