[+++ b/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java, +import java.util.Map;, +, +        // allow to force set properties based on configuration of the settings provided, +        for (Map.Entry<String, String> entry : pSettings.getAsMap().entrySet()) {, +            String setting = entry.getKey();, +            if (setting.startsWith("force.")) {, +                settingsBuilder.remove(setting);, +                settingsBuilder.put(setting.substring(".force".length()), entry.getValue());, +            }, +        }, +        settingsBuilder.replacePropertyPlaceholders();, +, +++ b/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java, +import java.util.Map;, +, +        // allow to force set properties based on configuration of the settings provided, +        for (Map.Entry<String, String> entry : pSettings.getAsMap().entrySet()) {, +            String setting = entry.getKey();, +            if (setting.startsWith("force.")) {, +                settingsBuilder.remove(setting);, +                settingsBuilder.put(setting.substring(".force".length()), entry.getValue());, +            }, +        }, +        settingsBuilder.replacePropertyPlaceholders();, +, +++ b/src/test/java/org/elasticsearch/plugin/PluginManagerTests.java, +            .put("discovery.zen.ping.multicast.enabled", false), +            .put("force.http.enabled", true), +            .build();, +    @Test, +    @Network, +++ b/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java, +import java.util.Map;, +, +        // allow to force set properties based on configuration of the settings provided, +        for (Map.Entry<String, String> entry : pSettings.getAsMap().entrySet()) {, +            String setting = entry.getKey();, +            if (setting.startsWith("force.")) {, +                settingsBuilder.remove(setting);, +                settingsBuilder.put(setting.substring(".force".length()), entry.getValue());, +            }, +        }, +        settingsBuilder.replacePropertyPlaceholders();, +, +++ b/src/test/java/org/elasticsearch/plugin/PluginManagerTests.java, +            .put("discovery.zen.ping.multicast.enabled", false), +            .put("force.http.enabled", true), +            .build();, +    @Test, +    @Network, +++ b/src/test/java/org/elasticsearch/plugin/ResponseHeaderPluginTests.java, +        return ImmutableSettings.settingsBuilder(), +                .put("plugin.types", TestResponseHeaderPlugin.class.getName()), +                .put("force.http.enabled", true), +                .put(super.nodeSettings(nodeOrdinal)), +                .build();, +++ b/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java, +import java.util.Map;, +, +        // allow to force set properties based on configuration of the settings provided, +        for (Map.Entry<String, String> entry : pSettings.getAsMap().entrySet()) {, +            String setting = entry.getKey();, +            if (setting.startsWith("force.")) {, +                settingsBuilder.remove(setting);, +                settingsBuilder.put(setting.substring(".force".length()), entry.getValue());, +            }, +        }, +        settingsBuilder.replacePropertyPlaceholders();, +, +++ b/src/test/java/org/elasticsearch/plugin/PluginManagerTests.java, +            .put("discovery.zen.ping.multicast.enabled", false), +            .put("force.http.enabled", true), +            .build();, +    @Test, +    @Network, +++ b/src/test/java/org/elasticsearch/plugin/ResponseHeaderPluginTests.java, +        return ImmutableSettings.settingsBuilder(), +                .put("plugin.types", TestResponseHeaderPlugin.class.getName()), +                .put("force.http.enabled", true), +                .put(super.nodeSettings(nodeOrdinal)), +                .build();, +++ b/src/test/java/org/elasticsearch/plugin/SitePluginTests.java, +                    .put("force.http.enabled", true)]