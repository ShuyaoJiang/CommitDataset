[+++ b/core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java, +import java.util.Random;, +        Collections.shuffle(fieldValue, random());, +++ b/core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java, +import java.util.Random;, +        Collections.shuffle(fieldValue, random());, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java, +    public void writeAppendStrings(final Sort sort) {, +        switch (sort) {, +++ b/core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java, +import java.util.Random;, +        Collections.shuffle(fieldValue, random());, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java, +    public void writeAppendStrings(final Sort sort) {, +        switch (sort) {, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java, +++ b/core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java, +import java.util.Random;, +        Collections.shuffle(fieldValue, random());, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java, +    public void writeAppendStrings(final Sort sort) {, +        switch (sort) {, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java, +                adapter.writeAppendStrings(left.actual.sort);, +                adapter.writeAppendStrings(right.actual.sort);, +++ b/core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java, +import java.util.Random;, +        Collections.shuffle(fieldValue, random());, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java, +    public void writeAppendStrings(final Sort sort) {, +        switch (sort) {, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java, +                adapter.writeAppendStrings(left.actual.sort);, +                adapter.writeAppendStrings(right.actual.sort);, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java, +                    adapter.writeAppendStrings(link.after.sort);, +                        adapter.writeAppendStrings(expression.actual.sort);, +++ b/core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java, +import java.util.Random;, +        Collections.shuffle(fieldValue, random());, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java, +    public void writeAppendStrings(final Sort sort) {, +        switch (sort) {, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java, +                adapter.writeAppendStrings(left.actual.sort);, +                adapter.writeAppendStrings(right.actual.sort);, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java, +                    adapter.writeAppendStrings(link.after.sort);, +                        adapter.writeAppendStrings(expression.actual.sort);, +++ b/modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java, +      for (int i = 0; i < 200 /* indy limit */ + 10; i++) {]