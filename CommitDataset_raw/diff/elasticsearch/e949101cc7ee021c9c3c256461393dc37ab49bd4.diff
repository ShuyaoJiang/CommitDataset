[+++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +import static org.elasticsearch.plugins.DiscoveryPlugin.generateCustomNameResolvers;, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +import static org.elasticsearch.plugins.DiscoveryPlugin.generateCustomNameResolvers;, +++ b/core/src/main/java/org/elasticsearch/node/Node.java, +import static org.elasticsearch.plugins.DiscoveryPlugin.generateCustomNameResolvers;, +, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportClient.java, +import static org.elasticsearch.plugins.DiscoveryPlugin.generateCustomNameResolvers;, +++ b/core/src/main/java/org/elasticsearch/node/Node.java, +import static org.elasticsearch.plugins.DiscoveryPlugin.generateCustomNameResolvers;, +, +++ b/core/src/main/java/org/elasticsearch/plugins/DiscoveryPlugin.java, +import java.util.ArrayList;, +import java.util.List;, +, +    /**, +     * Generate Custom Name Resolvers list based on a Discovery Plugins list, +     * @param discoveryPlugins Discovery plugins list, +     */, +    static List<NetworkService.CustomNameResolver> generateCustomNameResolvers(Settings settings, List<DiscoveryPlugin> discoveryPlugins) {, +        List<NetworkService.CustomNameResolver> customNameResolvers = new ArrayList<>();, +        for (DiscoveryPlugin discoveryPlugin : discoveryPlugins) {, +            NetworkService.CustomNameResolver customNameResolver = discoveryPlugin.getCustomNameResolver(settings);, +            if (customNameResolver != null) {, +                customNameResolvers.add(customNameResolver);, +            }, +        }, +        return customNameResolvers;, +    }]