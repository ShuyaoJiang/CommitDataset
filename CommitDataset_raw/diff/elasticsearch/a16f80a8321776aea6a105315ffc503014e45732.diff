[+++ b/server/src/main/java/org/elasticsearch/monitor/jvm/HotThreads.java, +import java.util.function.ToLongFunction;, +        final ToLongFunction<MyThreadInfo> getter;, +            getter = o -> o.cpuTime;, +            getter = o -> o.waitedTime;, +            getter = o -> o.blockedTime;, +        } else {, +, +        CollectionUtil.introSort(hotties, Comparator.comparingLong(getter).reversed());, +, +            long time = getter.applyAsLong(hotties.get(t));]