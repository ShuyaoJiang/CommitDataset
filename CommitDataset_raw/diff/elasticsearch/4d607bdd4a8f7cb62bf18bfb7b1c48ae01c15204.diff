[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java, +import org.elasticsearch.common.Base64;, +import java.io.IOException;, +import java.util.Map;, +, +import static org.elasticsearch.common.xcontent.support.XContentMapValues.*;, +import static org.elasticsearch.index.mapper.MapperBuilders.*;, +import static org.elasticsearch.index.mapper.core.TypeParsers.*;, +, +        // assume its base64 (json), +        try {, +            return Base64.decode(value);, +        } catch (Exception e) {, +    }]