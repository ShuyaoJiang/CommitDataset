[+++ /dev/null, +++ /dev/null, +++ b/TESTING.asciidoc, +To disable and enable network transport, set the `tests.es.node.mode` system property., +-Dtests.es.node.mode=network, +-Dtests.es.node.mode=local, +gradle test -Dtests.es.logger.level=DEBUG, +++ /dev/null, +++ b/TESTING.asciidoc, +To disable and enable network transport, set the `tests.es.node.mode` system property., +-Dtests.es.node.mode=network, +-Dtests.es.node.mode=local, +gradle test -Dtests.es.logger.level=DEBUG, +++ b/build.gradle, +      /*, +      TODO: building javadocs with java 9 b118 is currently broken with weird errors, so, +      for now this is commented out...try again with the next ea build..., +      javadoc.executable = new File(project.javaHome, 'bin/javadoc'), +      if (project.javaVersion == JavaVersion.VERSION_1_9) {, +        // TODO: remove this hack! gradle should be passing this..., +        javadoc.options.addStringOption('source', '8'), +      }*/, +  task wipeEclipseSettings(type: Delete) {, +  tasks.cleanEclipse.dependsOn(wipeEclipseSettings), +++ /dev/null, +++ b/TESTING.asciidoc, +To disable and enable network transport, set the `tests.es.node.mode` system property., +-Dtests.es.node.mode=network, +-Dtests.es.node.mode=local, +gradle test -Dtests.es.logger.level=DEBUG, +++ b/build.gradle, +      /*, +      TODO: building javadocs with java 9 b118 is currently broken with weird errors, so, +      for now this is commented out...try again with the next ea build..., +      javadoc.executable = new File(project.javaHome, 'bin/javadoc'), +      if (project.javaVersion == JavaVersion.VERSION_1_9) {, +        // TODO: remove this hack! gradle should be passing this..., +        javadoc.options.addStringOption('source', '8'), +      }*/, +  task wipeEclipseSettings(type: Delete) {, +  tasks.cleanEclipse.dependsOn(wipeEclipseSettings), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            GradleVersion minGradle = GradleVersion.version('2.13'), +            project.rootProject.ext.javaVersion = javaVersionEnum, +                if (project.targetCompatibility >= JavaVersion.VERSION_1_8) {, +                    // compile with compact 3 profile by default, +                    // NOTE: this is just a compile time check: does not replace testing with a compact3 JRE, +                    if (project.compactProfile != 'full') {, +                        options.compilerArgs << '-profile' << project.compactProfile, +                    }, +                }, +                options.compilerArgs << '-Werror' << '-Xlint:all,-path,-serial,-options,-deprecation' << '-Xdoclint:all' << '-Xdoclint:-missing', +                if (project.javaVersion == JavaVersion.VERSION_1_9) {, +                    // hack until gradle supports java 9's new "-release" arg, +                    options.compilerArgs << '-release' << '8', +                    project.sourceCompatibility = null, +                    project.targetCompatibility = null, +                }, +++ /dev/null, +++ b/TESTING.asciidoc, +To disable and enable network transport, set the `tests.es.node.mode` system property., +-Dtests.es.node.mode=network, +-Dtests.es.node.mode=local, +gradle test -Dtests.es.logger.level=DEBUG, +++ b/build.gradle, +      /*, +      TODO: building javadocs with java 9 b118 is currently broken with weird errors, so, +      for now this is commented out...try again with the next ea build..., +      javadoc.executable = new File(project.javaHome, 'bin/javadoc'), +      if (project.javaVersion == JavaVersion.VERSION_1_9) {, +        // TODO: remove this hack! gradle should be passing this..., +        javadoc.options.addStringOption('source', '8'), +      }*/, +  task wipeEclipseSettings(type: Delete) {, +  tasks.cleanEclipse.dependsOn(wipeEclipseSettings), +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +            GradleVersion minGradle = GradleVersion.version('2.13'), +            project.rootProject.ext.javaVersion = javaVersionEnum, +                if (project.targetCompatibility >= JavaVersion.VERSION_1_8) {, +                    // compile with compact 3 profile by default, +                    // NOTE: this is just a compile time check: does not replace testing with a compact3 JRE, +                    if (project.compactProfile != 'full') {, +                        options.compilerArgs << '-profile' << project.compactProfile, +                    }, +                }, +                options.compilerArgs << '-Werror' << '-Xlint:all,-path,-serial,-options,-deprecation' << '-Xdoclint:all' << '-Xdoclint:-missing', +                if (project.javaVersion == JavaVersion.VERSION_1_9) {, +                    // hack until gradle supports java 9's new "-release" arg, +                    options.compilerArgs << '-release' << '8', +                    project.sourceCompatibility = null, +                    project.targetCompatibility = null, +                }, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy, +            if (snippet.language == 'json') {, +                throw new InvalidUserDataException(, +                        "$snippet: Use `js` instead of `json`."), +            }, +            // always wait for yellow before anything is executed, +            current.println(, +                    "  - do:\n" +]