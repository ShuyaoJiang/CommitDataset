[+++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java, +        return new AllocationService(, +        return new AllocationDeciders(deciders);, +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java, +        return new AllocationService(, +        return new AllocationDeciders(deciders);, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java, +        return new ExpressionScriptEngine();, +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java, +        return new AllocationService(, +        return new AllocationDeciders(deciders);, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java, +        return new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngine.java, +public class ExpressionScriptEngine implements ScriptEngine {, +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java, +        return new AllocationService(, +        return new AllocationDeciders(deciders);, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java, +        return new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngine.java, +public class ExpressionScriptEngine implements ScriptEngine {, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionFieldScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java, +        return new AllocationService(, +        return new AllocationDeciders(deciders);, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java, +        return new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngine.java, +public class ExpressionScriptEngine implements ScriptEngine {, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionFieldScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionNumberSortScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java, +        return new AllocationService(, +        return new AllocationDeciders(deciders);, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java, +        return new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngine.java, +public class ExpressionScriptEngine implements ScriptEngine {, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionFieldScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionNumberSortScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTermsSetQueryTests.java, +        service = new ExpressionScriptEngine();, +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java, +        return new AllocationService(, +        return new AllocationDeciders(deciders);, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java, +        return new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngine.java, +public class ExpressionScriptEngine implements ScriptEngine {, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionFieldScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionNumberSortScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTermsSetQueryTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngine.java, +public final class PainlessScriptEngine implements ScriptEngine {, +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java, +        return new AllocationService(, +        return new AllocationDeciders(deciders);, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java, +        return new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngine.java, +public class ExpressionScriptEngine implements ScriptEngine {, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionFieldScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionNumberSortScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTermsSetQueryTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngine.java, +public final class PainlessScriptEngine implements ScriptEngine {, +++ b/modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhase.java, +    PercolatorHighlightSubFetchPhase(Map<String, Highlighter> highlighters) {, +        this.highlightPhase = new HighlightPhase(highlighters);, +++ b/benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java, +        return new AllocationService(, +        return new AllocationDeciders(deciders);, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java, +        return new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngine.java, +public class ExpressionScriptEngine implements ScriptEngine {, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionFieldScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionNumberSortScriptTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTermsSetQueryTests.java, +        service = new ExpressionScriptEngine();, +++ b/modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngine.java, +public final class PainlessScriptEngine implements ScriptEngine {, +++ b/modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhase.java, +    PercolatorHighlightSubFetchPhase(Map<String, Highlighter> highlighters) {, +        this.highlightPhase = new HighlightPhase(highlighters);, +++ b/modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java]