[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java, +    public static final class Defaults {, +        public static final boolean WAIT_FOR_MERGE = true;, +        public static final int MAX_NUM_SEGMENTS = -1;, +        public static final boolean ONLY_EXPUNGE_DELETES = false;, +        public static final boolean FLUSH = true;, +        public static final boolean REFRESH = true;, +    }, +    private boolean waitForMerge = Defaults.WAIT_FOR_MERGE;, +    private int maxNumSegments = Defaults.MAX_NUM_SEGMENTS;, +    private boolean onlyExpungeDeletes = Defaults.ONLY_EXPUNGE_DELETES;, +    private boolean flush = Defaults.FLUSH;, +, +    private boolean refresh = Defaults.FLUSH;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java, +    public static final class Defaults {, +        public static final boolean WAIT_FOR_MERGE = true;, +        public static final int MAX_NUM_SEGMENTS = -1;, +        public static final boolean ONLY_EXPUNGE_DELETES = false;, +        public static final boolean FLUSH = true;, +        public static final boolean REFRESH = true;, +    }, +    private boolean waitForMerge = Defaults.WAIT_FOR_MERGE;, +    private int maxNumSegments = Defaults.MAX_NUM_SEGMENTS;, +    private boolean onlyExpungeDeletes = Defaults.ONLY_EXPUNGE_DELETES;, +    private boolean flush = Defaults.FLUSH;, +, +    private boolean refresh = Defaults.FLUSH;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java, +    private boolean waitForMerge = OptimizeRequest.Defaults.WAIT_FOR_MERGE;, +    private int maxNumSegments = OptimizeRequest.Defaults.MAX_NUM_SEGMENTS;, +    private boolean onlyExpungeDeletes = OptimizeRequest.Defaults.ONLY_EXPUNGE_DELETES;, +    private boolean flush = OptimizeRequest.Defaults.FLUSH;, +    private boolean refresh = OptimizeRequest.Defaults.REFRESH;]