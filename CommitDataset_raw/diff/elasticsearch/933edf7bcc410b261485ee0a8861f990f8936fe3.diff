[+++ b/docs/reference/migration/migrate_2_0.asciidoc, +=== Analyze API, +, +The Analyze API return 0 as first Token's position instead of 1., +, +++ b/docs/reference/migration/migrate_2_0.asciidoc, +=== Analyze API, +, +The Analyze API return 0 as first Token's position instead of 1., +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java, +            int position = -1;, +++ b/docs/reference/migration/migrate_2_0.asciidoc, +=== Analyze API, +, +The Analyze API return 0 as first Token's position instead of 1., +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java, +            int position = -1;, +++ b/src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionTests.java, +            assertThat(token.getPosition(), equalTo(0));, +            assertThat(token.getPosition(), equalTo(1));, +            assertThat(token.getPosition(), equalTo(2));, +            assertThat(token.getPosition(), equalTo(3));, +, +        analyzeResponse = client().admin().indices().prepareAnalyze("of course").setTokenizer("standard").setTokenFilters("stop").get();, +        assertThat(analyzeResponse.getTokens().size(), equalTo(1));, +        assertThat(analyzeResponse.getTokens().get(0).getTerm(), equalTo("course"));, +        assertThat(analyzeResponse.getTokens().get(0).getPosition(), equalTo(1));, +        assertThat(analyzeResponse.getTokens().get(0).getStartOffset(), equalTo(3));, +        assertThat(analyzeResponse.getTokens().get(0).getEndOffset(), equalTo(9));, +]