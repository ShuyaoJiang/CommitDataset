[+++ b/src/main/java/org/elasticsearch/common/breaker/ChildMemoryCircuitBreaker.java, +            this.addWithoutBreaking(-bytes);, +++ b/src/main/java/org/elasticsearch/common/breaker/ChildMemoryCircuitBreaker.java, +            this.addWithoutBreaking(-bytes);, +++ b/src/test/java/org/elasticsearch/common/breaker/MemoryCircuitBreakerTests.java, +        final int parentLimit = (BYTES_PER_THREAD * NUM_THREADS) - 2;, +                if (getBreaker(CircuitBreaker.Name.REQUEST).getUsed() > parentLimit) {, +        assertThat("breaker should be reset back to the parent limit after parent breaker trips",, +                breaker.getUsed(), equalTo((long)parentLimit));]