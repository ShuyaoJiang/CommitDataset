[+++ b/core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java, +, +import org.apache.lucene.index.Fields;, +    /**, +     * Returns total in-heap bytes used by all suggesters.  This method is <code>O(numIndexedFields)</code>., +     *, +     * @param fieldNamePatterns if non-null, any completion field name matching any of these patterns will break out its in-heap bytes, +     * separately in the returned {@link CompletionStats}, +     */, +    public static CompletionStats completionStats(IndexReader indexReader, String ... fieldNamePatterns) {, +        if (fieldNamePatterns != null  && fieldNamePatterns.length > 0) {, +            completionFields = new ObjectLongHashMap<>(fieldNamePatterns.length);, +                Fields fields = atomicReader.fields();, +                for (String fieldName : fields) {, +                    Terms terms = fields.terms(fieldName);, +                        if (fieldNamePatterns != null && fieldNamePatterns.length > 0 && Regex.simpleMatch(fieldNamePatterns, fieldName)) {, +            } catch (IOException ioe) {, +                throw new ElasticsearchException(ioe);]