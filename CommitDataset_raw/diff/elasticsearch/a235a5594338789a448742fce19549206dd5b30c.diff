[+++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java, +    public List<AliasAction> getAliasActions() {, +        return aliasActions();, +    }, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java, +    public List<AliasAction> getAliasActions() {, +        return aliasActions();, +    }, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java, +import java.util.Map;, +, +            Map<String, MappingMetaData> mappings = state.metaData().getIndices().get(concreteIndex).mappings();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java, +    public List<AliasAction> getAliasActions() {, +        return aliasActions();, +    }, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java, +import java.util.Map;, +, +            Map<String, MappingMetaData> mappings = state.metaData().getIndices().get(concreteIndex).mappings();, +++ b/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java, +            Map<String,IndexMetaData> indices = state.metaData().indices();, +            Map<String,IndexMetaData> previousIndices = previousState.metaData().indices();, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java, +    public List<AliasAction> getAliasActions() {, +        return aliasActions();, +    }, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java, +import java.util.Map;, +, +            Map<String, MappingMetaData> mappings = state.metaData().getIndices().get(concreteIndex).mappings();, +++ b/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java, +            Map<String,IndexMetaData> indices = state.metaData().indices();, +            Map<String,IndexMetaData> previousIndices = previousState.metaData().indices();, +++ b/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java, +import com.google.common.collect.ImmutableSet;, +import java.util.Collections;, +import java.util.Set;, +    private final String indexRouting;, +    private final String searchRouting;, +, +    private final Set<String> searchRoutingValues;, +        if (searchRouting != null) {, +            searchRoutingValues = Collections.unmodifiableSet(Strings.splitStringByCommaToSet(searchRouting));, +        } else {, +            searchRoutingValues = ImmutableSet.of();, +        }, +    public boolean filteringRequired() {, +        return filter != null;, +    }, +, +    public Set<String> searchRoutingValues() {, +        return searchRoutingValues;, +    }, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java, +    public List<AliasAction> getAliasActions() {, +        return aliasActions();, +    }, +, +++ b/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java, +import java.util.Map;, +, +            Map<String, MappingMetaData> mappings = state.metaData().getIndices().get(concreteIndex).mappings();, +++ b/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java, +            Map<String,IndexMetaData> indices = state.metaData().indices();, +            Map<String,IndexMetaData> previousIndices = previousState.metaData().indices();, +++ b/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java, +import com.google.common.collect.ImmutableSet;, +import java.util.Collections;, +import java.util.Set;, +    private final String indexRouting;, +    private final String searchRouting;, +, +    private final Set<String> searchRoutingValues;, +        if (searchRouting != null) {, +            searchRoutingValues = Collections.unmodifiableSet(Strings.splitStringByCommaToSet(searchRouting));, +        } else {, +            searchRoutingValues = ImmutableSet.of();, +        }, +    public boolean filteringRequired() {, +        return filter != null;, +    }, +, +    public Set<String> searchRoutingValues() {, +        return searchRoutingValues;, +    }, +, +++ b/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +    private final Map<String, AliasMetaData> aliases;, +    private final Map<String, MappingMetaData> mappings;, +    private final Map<String, Custom> customs;, +    private IndexMetaData(String index, long version, State state, Settings settings, Map<String, MappingMetaData> mappings, Map<String, AliasMetaData> aliases, Map<String, Custom> customs) {, +    public Map<String, AliasMetaData> aliases() {, +    public Map<String, AliasMetaData> getAliases() {, +    public Map<String, MappingMetaData> mappings() {]