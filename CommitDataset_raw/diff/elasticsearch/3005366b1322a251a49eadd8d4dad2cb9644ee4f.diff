[+++ b/core/src/main/java/org/elasticsearch/client/transport/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java, +            newQueryBuilder.boostMode = boostMode;, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java, +            newQueryBuilder.boostMode = boostMode;, +++ b/core/src/main/java/org/elasticsearch/script/Script.java, +            Map<String, String> options = (Map<String, String>)(Map)in.readMap();, +            Map<String, Object> options = (Map<String, Object>)(Map)this.options;, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java, +            newQueryBuilder.boostMode = boostMode;, +++ b/core/src/main/java/org/elasticsearch/script/Script.java, +            Map<String, String> options = (Map<String, String>)(Map)in.readMap();, +            Map<String, Object> options = (Map<String, Object>)(Map)this.options;, +++ b/core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java, +        FunctionScoreQueryBuilder functionScoreQueryBuilder =, +            new FunctionScoreQueryBuilder(new WrapperQueryBuilder(new TermQueryBuilder("foo", "bar").toString())), +                .boostMode(CombineFunction.REPLACE), +                .scoreMode(FiltersFunctionScoreQuery.ScoreMode.SUM), +                .setMinScore(1), +                .maxBoost(100);, +        assertEquals(rewrite.boostMode(), CombineFunction.REPLACE);, +        assertEquals(rewrite.scoreMode(), FiltersFunctionScoreQuery.ScoreMode.SUM);, +        assertEquals(rewrite.getMinScore(), 1f, 0.0001);, +        assertEquals(rewrite.maxBoost(), 100f, 0.0001);, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java, +            newQueryBuilder.boostMode = boostMode;, +++ b/core/src/main/java/org/elasticsearch/script/Script.java, +            Map<String, String> options = (Map<String, String>)(Map)in.readMap();, +            Map<String, Object> options = (Map<String, Object>)(Map)this.options;, +++ b/core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java, +        FunctionScoreQueryBuilder functionScoreQueryBuilder =, +            new FunctionScoreQueryBuilder(new WrapperQueryBuilder(new TermQueryBuilder("foo", "bar").toString())), +                .boostMode(CombineFunction.REPLACE), +                .scoreMode(FiltersFunctionScoreQuery.ScoreMode.SUM), +                .setMinScore(1), +                .maxBoost(100);, +        assertEquals(rewrite.boostMode(), CombineFunction.REPLACE);, +        assertEquals(rewrite.scoreMode(), FiltersFunctionScoreQuery.ScoreMode.SUM);, +        assertEquals(rewrite.getMinScore(), 1f, 0.0001);, +        assertEquals(rewrite.maxBoost(), 100f, 0.0001);, +++ b/docs/reference/search.asciidoc, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java, +            newQueryBuilder.boostMode = boostMode;, +++ b/core/src/main/java/org/elasticsearch/script/Script.java, +            Map<String, String> options = (Map<String, String>)(Map)in.readMap();, +            Map<String, Object> options = (Map<String, Object>)(Map)this.options;, +++ b/core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java, +        FunctionScoreQueryBuilder functionScoreQueryBuilder =, +            new FunctionScoreQueryBuilder(new WrapperQueryBuilder(new TermQueryBuilder("foo", "bar").toString())), +                .boostMode(CombineFunction.REPLACE), +                .scoreMode(FiltersFunctionScoreQuery.ScoreMode.SUM), +                .setMinScore(1), +                .maxBoost(100);, +        assertEquals(rewrite.boostMode(), CombineFunction.REPLACE);, +        assertEquals(rewrite.scoreMode(), FiltersFunctionScoreQuery.ScoreMode.SUM);, +        assertEquals(rewrite.getMinScore(), 1f, 0.0001);, +        assertEquals(rewrite.maxBoost(), 100f, 0.0001);, +++ b/docs/reference/search.asciidoc, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java, +            newQueryBuilder.boostMode = boostMode;, +++ b/core/src/main/java/org/elasticsearch/script/Script.java, +            Map<String, String> options = (Map<String, String>)(Map)in.readMap();, +            Map<String, Object> options = (Map<String, Object>)(Map)this.options;, +++ b/core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java, +        FunctionScoreQueryBuilder functionScoreQueryBuilder =, +            new FunctionScoreQueryBuilder(new WrapperQueryBuilder(new TermQueryBuilder("foo", "bar").toString())), +                .boostMode(CombineFunction.REPLACE), +                .scoreMode(FiltersFunctionScoreQuery.ScoreMode.SUM), +                .setMinScore(1), +                .maxBoost(100);, +        assertEquals(rewrite.boostMode(), CombineFunction.REPLACE);, +        assertEquals(rewrite.scoreMode(), FiltersFunctionScoreQuery.ScoreMode.SUM);, +        assertEquals(rewrite.getMinScore(), 1f, 0.0001);, +        assertEquals(rewrite.maxBoost(), 100f, 0.0001);, +++ b/docs/reference/search.asciidoc, +++ /dev/null, +++ /dev/null, +++ b/core/src/main/java/org/elasticsearch/client/transport/TransportProxyClient.java, +++ b/core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java, +            newQueryBuilder.boostMode = boostMode;, +++ b/core/src/main/java/org/elasticsearch/script/Script.java, +            Map<String, String> options = (Map<String, String>)(Map)in.readMap();, +            Map<String, Object> options = (Map<String, Object>)(Map)this.options;, +++ b/core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java, +        FunctionScoreQueryBuilder functionScoreQueryBuilder =, +            new FunctionScoreQueryBuilder(new WrapperQueryBuilder(new TermQueryBuilder("foo", "bar").toString())), +                .boostMode(CombineFunction.REPLACE), +                .scoreMode(FiltersFunctionScoreQuery.ScoreMode.SUM), +                .setMinScore(1), +                .maxBoost(100);, +        assertEquals(rewrite.boostMode(), CombineFunction.REPLACE);, +        assertEquals(rewrite.scoreMode(), FiltersFunctionScoreQuery.ScoreMode.SUM);, +        assertEquals(rewrite.getMinScore(), 1f, 0.0001);]