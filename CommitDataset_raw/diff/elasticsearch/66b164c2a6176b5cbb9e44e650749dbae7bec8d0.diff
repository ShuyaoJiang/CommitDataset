[+++ b/build.gradle, +import org.gradle.util.GradleVersion, +import org.gradle.util.DistributionLocator, +import org.apache.tools.ant.taskdefs.condition.Os, +import org.apache.tools.ant.filters.ReplaceTokens, +import java.security.MessageDigest, +++ b/build.gradle, +import org.gradle.util.GradleVersion, +import org.gradle.util.DistributionLocator, +import org.apache.tools.ant.taskdefs.condition.Os, +import org.apache.tools.ant.filters.ReplaceTokens, +import java.security.MessageDigest, +++ b/buildSrc/build.gradle, +gradlePlugin {, +  plugins {, +    simplePlugin {, +      id = 'elasticsearch.clusterformation', +      implementationClass = 'org.elasticsearch.gradle.clusterformation.ClusterformationPlugin', +    }, +  }, +}, +, +++ b/build.gradle, +import org.gradle.util.GradleVersion, +import org.gradle.util.DistributionLocator, +import org.apache.tools.ant.taskdefs.condition.Os, +import org.apache.tools.ant.filters.ReplaceTokens, +import java.security.MessageDigest, +++ b/buildSrc/build.gradle, +gradlePlugin {, +  plugins {, +    simplePlugin {, +      id = 'elasticsearch.clusterformation', +      implementationClass = 'org.elasticsearch.gradle.clusterformation.ClusterformationPlugin', +    }, +  }, +}, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +import org.gradle.api.artifacts.SelfResolvingDependency, +++ b/build.gradle, +import org.gradle.util.GradleVersion, +import org.gradle.util.DistributionLocator, +import org.apache.tools.ant.taskdefs.condition.Os, +import org.apache.tools.ant.filters.ReplaceTokens, +import java.security.MessageDigest, +++ b/buildSrc/build.gradle, +gradlePlugin {, +  plugins {, +    simplePlugin {, +      id = 'elasticsearch.clusterformation', +      implementationClass = 'org.elasticsearch.gradle.clusterformation.ClusterformationPlugin', +    }, +  }, +}, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +import org.gradle.api.artifacts.SelfResolvingDependency, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +        project.sourceSets.forEach { sourceSet ->, +++ b/build.gradle, +import org.gradle.util.GradleVersion, +import org.gradle.util.DistributionLocator, +import org.apache.tools.ant.taskdefs.condition.Os, +import org.apache.tools.ant.filters.ReplaceTokens, +import java.security.MessageDigest, +++ b/buildSrc/build.gradle, +gradlePlugin {, +  plugins {, +    simplePlugin {, +      id = 'elasticsearch.clusterformation', +      implementationClass = 'org.elasticsearch.gradle.clusterformation.ClusterformationPlugin', +    }, +  }, +}, +, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy, +import org.gradle.api.artifacts.SelfResolvingDependency, +++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/precommit/PrecommitTasks.groovy, +        project.sourceSets.forEach { sourceSet ->, +++ b/buildSrc/src/main/java/org/elasticsearch/gradle/precommit/ForbiddenApisCliTask.java, +    private String javaHome;, +    public String getJavaHome() {, +    public void setJavaHome(String javaHome) {, +++ b/build.gradle, +import org.gradle.util.GradleVersion, +import org.gradle.util.DistributionLocator, +import org.apache.tools.ant.taskdefs.condition.Os, +import org.apache.tools.ant.filters.ReplaceTokens, +import java.security.MessageDigest, +++ b/buildSrc/build.gradle, +gradlePlugin {, +  plugins {, +    simplePlugin {, +      id = 'elasticsearch.clusterformation', +      implementationClass = 'org.elasticsearch.gradle.clusterformation.ClusterformationPlugin', +    }, +  }, +}, +]