[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java, +    @Override protected boolean customBoost() {, +        return true;, +    }, +, +        float boost = this.boost;, +            XContentParser parser = context.parser();, +            if (parser.currentToken() == XContentParser.Token.VALUE_NULL) {, +            } else if (parser.currentToken() == XContentParser.Token.START_OBJECT) {, +                XContentParser.Token token;, +                String currentFieldName = null;, +                Byte objValue = nullValue;, +                while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) {, +                    if (token == XContentParser.Token.FIELD_NAME) {, +                        currentFieldName = parser.currentName();, +                        if ("value".equals(currentFieldName) || "_value".equals(currentFieldName)) {, +                            if (parser.currentToken() != XContentParser.Token.VALUE_NULL) {, +                                objValue = (byte) parser.shortValue();, +                            }, +                        } else if ("boost".equals(currentFieldName) || "_boost".equals(currentFieldName)) {, +                            boost = parser.floatValue();, +                        }, +                    }, +                }, +                if (objValue == null) {, +                    // no value, +                    return null;, +                }, +                value = objValue;, +            } else {, +                value = (byte) parser.shortValue();, +                    context.allEntries().addText(names.fullName(), parser.text(), boost);, +        CustomByteNumericField field = new CustomByteNumericField(this, value);, +        field.setBoost(boost);, +        return field;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java, +    @Override protected boolean customBoost() {, +        return true;, +    }, +, +        float boost = this.boost;, +            XContentParser parser = context.parser();, +            if (parser.currentToken() == XContentParser.Token.VALUE_NULL) {, +            } else if (parser.currentToken() == XContentParser.Token.START_OBJECT) {, +                XContentParser.Token token;, +                String currentFieldName = null;, +                Byte objValue = nullValue;, +                while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) {, +                    if (token == XContentParser.Token.FIELD_NAME) {, +                        currentFieldName = parser.currentName();, +                        if ("value".equals(currentFieldName) || "_value".equals(currentFieldName)) {, +                            if (parser.currentToken() != XContentParser.Token.VALUE_NULL) {, +                                objValue = (byte) parser.shortValue();, +                            }, +                        } else if ("boost".equals(currentFieldName) || "_boost".equals(currentFieldName)) {, +                            boost = parser.floatValue();, +                        }, +                    }, +                }, +                if (objValue == null) {, +                    // no value, +                    return null;, +                }, +                value = objValue;, +            } else {, +                value = (byte) parser.shortValue();, +                    context.allEntries().addText(names.fullName(), parser.text(), boost);, +        CustomByteNumericField field = new CustomByteNumericField(this, value);, +        field.setBoost(boost);, +        return field;, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java, +    @Override protected boolean customBoost() {, +        return true;, +    }, +, +        Long value = null;, +        float boost = this.boost;, +            XContentParser parser = context.parser();, +            XContentParser.Token token = parser.currentToken();, +                value = parser.longValue();, +            } else if (token == XContentParser.Token.START_OBJECT) {, +                String currentFieldName = null;, +                while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) {, +                    if (token == XContentParser.Token.FIELD_NAME) {, +                        currentFieldName = parser.currentName();, +                        if ("value".equals(currentFieldName) || "_value".equals(currentFieldName)) {, +                            if (token == XContentParser.Token.VALUE_NULL) {, +                                dateAsString = nullValue;, +                            } else if (token == XContentParser.Token.VALUE_NUMBER) {, +                                value = parser.longValue();, +                            } else {, +                                dateAsString = parser.text();, +                            }, +                        } else if ("boost".equals(currentFieldName) || "_boost".equals(currentFieldName)) {, +                            boost = parser.floatValue();, +                        }, +                    }, +                }, +            } else {, +                dateAsString = parser.text();]