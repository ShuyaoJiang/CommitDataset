[+++ b/core/pom.xml, +                                <include>org/elasticsearch/cache/recycler/MockPageCacheRecycler$*.class</include>, +++ b/core/pom.xml, +                                <include>org/elasticsearch/cache/recycler/MockPageCacheRecycler$*.class</include>, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +            Class.forName("org.apache.log4j.Logger");, +++ b/core/pom.xml, +                                <include>org/elasticsearch/cache/recycler/MockPageCacheRecycler$*.class</include>, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +            Class.forName("org.apache.log4j.Logger");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +import org.elasticsearch.ElasticsearchException;, +            final Class<? extends HashFunction> hashFunctionClass;, +            try {, +                hashFunctionClass = (Class<? extends HashFunction>) getClass().getClassLoader().loadClass(hashFunction);, +            } catch (ClassNotFoundException|NoClassDefFoundError e) {, +                throw new ElasticsearchException("failed to load custom hash function [" + hashFunction + "]", e);, +            }, +++ b/core/pom.xml, +                                <include>org/elasticsearch/cache/recycler/MockPageCacheRecycler$*.class</include>, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +            Class.forName("org.apache.log4j.Logger");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +import org.elasticsearch.ElasticsearchException;, +            final Class<? extends HashFunction> hashFunctionClass;, +            try {, +                hashFunctionClass = (Class<? extends HashFunction>) getClass().getClassLoader().loadClass(hashFunction);, +            } catch (ClassNotFoundException|NoClassDefFoundError e) {, +                throw new ElasticsearchException("failed to load custom hash function [" + hashFunction + "]", e);, +            }, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +import org.elasticsearch.ElasticsearchException;, +                    try {, +                        pre20HashFunction = (Class<? extends HashFunction>) getClass().getClassLoader().loadClass(pre20HashFunctionName);, +                    } catch (ClassNotFoundException|NoClassDefFoundError e) {, +                        throw new ElasticsearchException("failed to load custom hash function [" + pre20HashFunctionName + "]", e);, +                    }, +++ b/core/pom.xml, +                                <include>org/elasticsearch/cache/recycler/MockPageCacheRecycler$*.class</include>, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +            Class.forName("org.apache.log4j.Logger");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +import org.elasticsearch.ElasticsearchException;, +            final Class<? extends HashFunction> hashFunctionClass;, +            try {, +                hashFunctionClass = (Class<? extends HashFunction>) getClass().getClassLoader().loadClass(hashFunction);, +            } catch (ClassNotFoundException|NoClassDefFoundError e) {, +                throw new ElasticsearchException("failed to load custom hash function [" + hashFunction + "]", e);, +            }, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +import org.elasticsearch.ElasticsearchException;, +                    try {, +                        pre20HashFunction = (Class<? extends HashFunction>) getClass().getClassLoader().loadClass(pre20HashFunctionName);, +                    } catch (ClassNotFoundException|NoClassDefFoundError e) {, +                        throw new ElasticsearchException("failed to load custom hash function [" + pre20HashFunctionName + "]", e);, +                    }, +++ b/core/src/main/java/org/elasticsearch/common/Classes.java, +++ b/core/pom.xml, +                                <include>org/elasticsearch/cache/recycler/MockPageCacheRecycler$*.class</include>, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +            Class.forName("org.apache.log4j.Logger");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +import org.elasticsearch.ElasticsearchException;, +            final Class<? extends HashFunction> hashFunctionClass;, +            try {, +                hashFunctionClass = (Class<? extends HashFunction>) getClass().getClassLoader().loadClass(hashFunction);, +            } catch (ClassNotFoundException|NoClassDefFoundError e) {, +                throw new ElasticsearchException("failed to load custom hash function [" + hashFunction + "]", e);, +            }, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +import org.elasticsearch.ElasticsearchException;, +                    try {, +                        pre20HashFunction = (Class<? extends HashFunction>) getClass().getClassLoader().loadClass(pre20HashFunctionName);, +                    } catch (ClassNotFoundException|NoClassDefFoundError e) {, +                        throw new ElasticsearchException("failed to load custom hash function [" + pre20HashFunctionName + "]", e);, +                    }, +++ b/core/src/main/java/org/elasticsearch/common/Classes.java, +++ b/core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java, +            Class.forName("com.spatial4j.core.shape.impl.PointImpl");, +            Class.forName("com.vividsolutions.jts.geom.GeometryFactory");, +++ b/core/pom.xml, +                                <include>org/elasticsearch/cache/recycler/MockPageCacheRecycler$*.class</include>, +++ b/core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java, +            Class.forName("org.apache.log4j.Logger");, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java, +import org.elasticsearch.ElasticsearchException;, +            final Class<? extends HashFunction> hashFunctionClass;, +            try {, +                hashFunctionClass = (Class<? extends HashFunction>) getClass().getClassLoader().loadClass(hashFunction);, +            } catch (ClassNotFoundException|NoClassDefFoundError e) {, +                throw new ElasticsearchException("failed to load custom hash function [" + hashFunction + "]", e);, +            }, +++ b/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java, +import org.elasticsearch.ElasticsearchException;, +                    try {, +                        pre20HashFunction = (Class<? extends HashFunction>) getClass().getClassLoader().loadClass(pre20HashFunctionName);, +                    } catch (ClassNotFoundException|NoClassDefFoundError e) {, +                        throw new ElasticsearchException("failed to load custom hash function [" + pre20HashFunctionName + "]", e);, +                    }, +++ b/core/src/main/java/org/elasticsearch/common/Classes.java]