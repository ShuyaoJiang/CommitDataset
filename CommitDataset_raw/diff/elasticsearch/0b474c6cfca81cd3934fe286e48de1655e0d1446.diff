[+++ b/core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java, +            List<String> components = new ArrayList<>(4);, +            components.add("failed shard [" + shardRouting + "]");, +            components.add("source shard [" + sourceShardRouting + "]");, +            components.add("message [" + message + "]");, +            if (failure != null) {, +                components.add("failure [" + ExceptionsHelper.detailedMessage(failure) + "]");, +            }, +            return String.join(", ", components);]