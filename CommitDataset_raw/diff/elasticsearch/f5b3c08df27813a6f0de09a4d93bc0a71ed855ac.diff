[+++ b/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java, +import org.elasticsearch.index.query.ExistsFilterParser;, +        return new XConstantScoreQuery(ExistsFilterParser.newFilter(parseContext, queryText, null));, +++ b/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java, +import org.elasticsearch.index.query.ExistsFilterParser;, +        return new XConstantScoreQuery(ExistsFilterParser.newFilter(parseContext, queryText, null));, +++ b/src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java, +import org.elasticsearch.index.query.MissingFilterParser;, +        return new XConstantScoreQuery(MissingFilterParser.newFilter(parseContext, queryText,, +                MissingFilterParser.DEFAULT_EXISTENCE_VALUE, MissingFilterParser.DEFAULT_NULL_VALUE, null));, +++ b/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java, +import org.elasticsearch.index.query.ExistsFilterParser;, +        return new XConstantScoreQuery(ExistsFilterParser.newFilter(parseContext, queryText, null));, +++ b/src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java, +import org.elasticsearch.index.query.MissingFilterParser;, +        return new XConstantScoreQuery(MissingFilterParser.newFilter(parseContext, queryText,, +                MissingFilterParser.DEFAULT_EXISTENCE_VALUE, MissingFilterParser.DEFAULT_NULL_VALUE, null));, +++ b/src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java, +        return newFilter(parseContext, fieldPattern, filterName);, +    }, +, +    public static Filter newFilter(QueryParseContext parseContext, String fieldPattern, String filterName) {, +, +++ b/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java, +import org.elasticsearch.index.query.ExistsFilterParser;, +        return new XConstantScoreQuery(ExistsFilterParser.newFilter(parseContext, queryText, null));, +++ b/src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java, +import org.elasticsearch.index.query.MissingFilterParser;, +        return new XConstantScoreQuery(MissingFilterParser.newFilter(parseContext, queryText,, +                MissingFilterParser.DEFAULT_EXISTENCE_VALUE, MissingFilterParser.DEFAULT_NULL_VALUE, null));, +++ b/src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java, +        return newFilter(parseContext, fieldPattern, filterName);, +    }, +, +    public static Filter newFilter(QueryParseContext parseContext, String fieldPattern, String filterName) {, +, +++ b/src/main/java/org/elasticsearch/index/query/MissingFilterParser.java, +    public static final boolean DEFAULT_NULL_VALUE = false;, +    public static final boolean DEFAULT_EXISTENCE_VALUE = true;, +        boolean nullValue = DEFAULT_NULL_VALUE;, +        boolean existence = DEFAULT_EXISTENCE_VALUE;, +        return newFilter(parseContext, fieldPattern, existence, nullValue, filterName);, +    }, +, +    public static Filter newFilter(QueryParseContext parseContext, String fieldPattern, boolean existence, boolean nullValue, String filterName) {]