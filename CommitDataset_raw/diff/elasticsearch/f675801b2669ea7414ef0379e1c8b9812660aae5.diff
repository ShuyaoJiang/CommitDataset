[+++ b/core/src/test/java/org/elasticsearch/common/network/NetworkServiceTests.java, +import static org.hamcrest.Matchers.is;, +, +, +    /**, +     * ensure we can bind to multiple addresses, +     */, +    public void testBindMultipleAddresses() throws Exception {, +        NetworkService service = new NetworkService(Settings.EMPTY);, +        InetAddress[] addresses = service.resolveBindHostAddresses(new String[]{"127.0.0.1", "127.0.0.2"});, +        assertThat(addresses.length, is(2));, +    }, +, +    /**, +     * ensure we can't bind to multiple addresses when using wildcard, +     */, +    public void testBindMultipleAddressesWithWildcard() throws Exception {, +        NetworkService service = new NetworkService(Settings.EMPTY);, +        try {, +            service.resolveBindHostAddresses(new String[]{"0.0.0.0", "127.0.0.1"});, +            fail("should have hit exception");, +        } catch (IllegalArgumentException e) {, +            assertTrue(e.getMessage().contains("is wildcard, but multiple addresses specified"));, +        }, +    }]