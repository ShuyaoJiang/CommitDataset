[+++ b/core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregator.java, +import org.elasticsearch.common.io.stream.StreamInput;, +import org.elasticsearch.common.io.stream.StreamOutput;, +import org.elasticsearch.common.xcontent.XContentBuilder;, +        @Override, +        protected AggregatorFactory doReadFrom(String name, StreamInput in) throws IOException {, +            return new Factory(name);, +        }, +, +        @Override, +        protected void doWriteTo(StreamOutput out) throws IOException {, +            // Nothing to write, +        }, +, +        @Override, +        protected XContentBuilder internalXContent(XContentBuilder builder, Params params) throws IOException {, +            builder.startObject();, +            builder.endObject();, +            return builder;, +        }, +, +        @Override, +        protected boolean doEquals(Object obj) {, +            return true;, +        }, +, +        @Override, +        protected int doHashCode() {, +            return 0;, +        }, +, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregator.java, +import org.elasticsearch.common.io.stream.StreamInput;, +import org.elasticsearch.common.io.stream.StreamOutput;, +import org.elasticsearch.common.xcontent.XContentBuilder;, +        @Override, +        protected AggregatorFactory doReadFrom(String name, StreamInput in) throws IOException {, +            return new Factory(name);, +        }, +, +        @Override, +        protected void doWriteTo(StreamOutput out) throws IOException {, +            // Nothing to write, +        }, +, +        @Override, +        protected XContentBuilder internalXContent(XContentBuilder builder, Params params) throws IOException {, +            builder.startObject();, +            builder.endObject();, +            return builder;, +        }, +, +        @Override, +        protected boolean doEquals(Object obj) {, +            return true;, +        }, +, +        @Override, +        protected int doHashCode() {, +            return 0;, +        }, +, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalParser.java, +        return new GlobalAggregator.Factory(null);, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregator.java, +import org.elasticsearch.common.io.stream.StreamInput;, +import org.elasticsearch.common.io.stream.StreamOutput;, +import org.elasticsearch.common.xcontent.XContentBuilder;, +        @Override, +        protected AggregatorFactory doReadFrom(String name, StreamInput in) throws IOException {, +            return new Factory(name);, +        }, +, +        @Override, +        protected void doWriteTo(StreamOutput out) throws IOException {, +            // Nothing to write, +        }, +, +        @Override, +        protected XContentBuilder internalXContent(XContentBuilder builder, Params params) throws IOException {, +            builder.startObject();, +            builder.endObject();, +            return builder;, +        }, +, +        @Override, +        protected boolean doEquals(Object obj) {, +            return true;, +        }, +, +        @Override, +        protected int doHashCode() {, +            return 0;, +        }, +, +++ b/core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalParser.java, +        return new GlobalAggregator.Factory(null);, +++ b/core/src/test/java/org/elasticsearch/search/aggregations/bucket/GlobalTests.java, +/*, + * Licensed to Elasticsearch under one or more contributor]