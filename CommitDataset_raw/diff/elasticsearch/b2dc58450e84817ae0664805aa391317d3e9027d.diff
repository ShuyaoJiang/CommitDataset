[+++ b/docs/reference/modules.asciidoc, +<<modules-remote-cluster, Remote cluster>>::, +    Remote clusters are used in features that work by connecting across clusters on the transport layer., +include::modules/remote-clusters.asciidoc[], +, +++ b/docs/reference/modules.asciidoc, +<<modules-remote-cluster, Remote cluster>>::, +    Remote clusters are used in features that work by connecting across clusters on the transport layer., +include::modules/remote-clusters.asciidoc[], +, +++ b/docs/reference/modules/cross-cluster-search.asciidoc, +=== Using cross cluster search, +Cross-cluster search requires <<modules-remote-clusters,configuring remote clusters>>., +++ b/docs/reference/modules.asciidoc, +<<modules-remote-cluster, Remote cluster>>::, +    Remote clusters are used in features that work by connecting across clusters on the transport layer., +include::modules/remote-clusters.asciidoc[], +, +++ b/docs/reference/modules/cross-cluster-search.asciidoc, +=== Using cross cluster search, +Cross-cluster search requires <<modules-remote-clusters,configuring remote clusters>>., +++ b/docs/reference/modules/remote-clusters.asciidoc, +[[modules-remote-clusters]], +== Remote clusters, +, +ifndef::include-xpack[], +The _remote clusters_ module allows establishing uni-directional connections to, +a remote cluster. This functionality is used in, +<<modules-cross-cluster-search,cross-cluster search>>., +endif::[], +ifdef::include-xpack[], +The _remote clusters_ module allows establishing uni-directional connections to, +a remote cluster. This functionality is used in cross-cluster replication,, +<<modules-cross-cluster-search,cross-cluster search>>., +endif::[], +, +Remote cluster connections work by configuring a remote cluster and connecting, +only to a limited number of nodes in the remote cluster. Each remote cluster is, +referenced by a name and a list of seed nodes.  When a remote cluster is, +registered, its cluster state is retrieved from one of the seed nodes so that by, +default up to three _gateway nodes_ are selected to be connected to as part of, +remote cluster requests.  Remote cluster connections consist of uni-directional, +connections from the coordinating node to the previously selected remote nodes, +only. It is possible to tag which nodes should be selected through node, +attributes (see <<remote-cluster-settings>>)., +, +Each node in a cluster that has remote clusters configured connects to one or, +more _gateway nodes_ and uses them to federate requests to the remote cluster., +, +[float], +[[configuring-remote-clusters]], +=== Configuring Remote Clusters, +, +Remote clusters can be specified globally using, +<<cluster-update-settings,cluster settings>> (which can be updated dynamically),, +or local to individual nodes using the `elasticsearch.yml` file., +, +If a remote cluster is configured via `elasticsearch.yml` only the nodes with, +that configuration will be able to connect to the remote cluster. In other, +words, functionality that relies on remote cluster requests will have to be, +driven specifically from those nodes. Remote clusters set via the, +<<cluster-update-settings,cluster settings API>> will be available on every node, +in the cluster., +, +The `elasticsearch.yml` config file for a node that connects to remote clusters, +needs to list the remote clusters that should be connected to, for instance:, +, +[source,yaml], +--------------------------------, +cluster:, +    remote:, +        cluster_one: <1>, +            seeds: 127.0.0.1:9300, +        cluster_two: <1>, +            seeds: 127.0.0.1:9301, +, +--------------------------------, +<1> `cluster_one` and `cluster_two` are arbitrary _cluster aliases_ representing, +the connection to each cluster. These names are subsequently used to distinguish, +between local and remote indices., +, +The equivalent example using the <<cluster-update-settings,cluster settings, +API>> to add remote clusters to all nodes in the cluster would look like the, +following:, +, +[source,js], +--------------------------------, +PUT _cluster/settings, +{, +  "persistent": {, +    "cluster": {, +      "remote": {, +        "cluster_one": {, +          "seeds": [, +            "127.0.0.1:9300", +          ], +        },, +        "cluster_two": {, +          "seeds": [, +            "127.0.0.1:9301"]