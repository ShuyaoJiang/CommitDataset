[+++ b/src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java, +        // no dummy docs since merges can change scores while we run queries., +        int numDocs = indexRandomNumbers("whitespace", -1, false);, +        int numDocs = indexRandomNumbers("keyword", 1, true);, +        return indexRandomNumbers(analyzer, -1, true);, +    private int indexRandomNumbers(String analyzer, int shards, boolean dummyDocs) throws Exception {, +        indexRandom(true, dummyDocs, docs);, +++ b/src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java, +        // no dummy docs since merges can change scores while we run queries., +        int numDocs = indexRandomNumbers("whitespace", -1, false);, +        int numDocs = indexRandomNumbers("keyword", 1, true);, +        return indexRandomNumbers(analyzer, -1, true);, +    private int indexRandomNumbers(String analyzer, int shards, boolean dummyDocs) throws Exception {, +        indexRandom(true, dummyDocs, docs);, +++ b/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java, +    public void indexRandom(boolean forceRefresh, boolean dummyDocuments, IndexRequestBuilder... builders) throws InterruptedException, ExecutionException {, +        indexRandom(forceRefresh, dummyDocuments, Arrays.asList(builders));, +    }, +]