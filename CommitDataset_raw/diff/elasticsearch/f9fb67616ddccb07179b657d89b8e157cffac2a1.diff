[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/gateway/blobstore/BlobStoreIndexShardGateway.java, +            // we don't compute checksum for segments, so always recover them, +            if (!fileName.startsWith("segments") && md != null && fileInfo.isSame(md)) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/gateway/blobstore/BlobStoreIndexShardGateway.java, +            // we don't compute checksum for segments, so always recover them, +            if (!fileName.startsWith("segments") && md != null && fileInfo.isSame(md)) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/recovery/RecoverySource.java, +                            // we don't compute checksum for segments, so always recover them, +                            if (!name.startsWith("segments") && md.isSame(request.existingFiles().get(name))) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/gateway/blobstore/BlobStoreIndexShardGateway.java, +            // we don't compute checksum for segments, so always recover them, +            if (!fileName.startsWith("segments") && md != null && fileInfo.isSame(md)) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/shard/recovery/RecoverySource.java, +                            // we don't compute checksum for segments, so always recover them, +                            if (!name.startsWith("segments") && md.isSame(request.existingFiles().get(name))) {, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/store/support/AbstractStore.java, +            if (filesMetadata.containsKey(name)) {, +            }, +                } else if (name.startsWith("segments")) {, +                    // don't compute checksum for segments files, so pure Lucene can open this directory, +                    // and since we, in any case, always recover the segments files, +                    this.digest = null;]