[+++ b/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java, +        final int firstInt = si.read(); // this must be an int since we need to respect the method contract, +        if (firstInt == -1) {, +, +        final int secondInt = si.read(); // this must be an int since we need to respect the method contract, +        if (secondInt == -1) {, +        final byte first = (byte) (0xff & firstInt);, +        final byte second = (byte) (0xff & secondInt);]