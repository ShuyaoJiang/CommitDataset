[+++ b/docs/reference/indices/put-mapping.asciidoc, +++ b/docs/reference/indices/put-mapping.asciidoc, +++ b/docs/reference/mapping/dynamic-mapping.asciidoc, +++ b/docs/reference/indices/put-mapping.asciidoc, +++ b/docs/reference/mapping/dynamic-mapping.asciidoc, +++ /dev/null, +++ b/docs/reference/indices/put-mapping.asciidoc, +++ b/docs/reference/mapping/dynamic-mapping.asciidoc, +++ /dev/null, +++ b/docs/reference/migration/migrate_7_0/mappings.asciidoc, +==== The `_default_` mapping is no longer allowed, +, +The `_default_` mapping has been deprecated in 6.0 and is now no longer allowed, +in 7.0. Trying to configure a `_default_` mapping on 7.x indices will result in, +an error., +, +++ b/docs/reference/indices/put-mapping.asciidoc, +++ b/docs/reference/mapping/dynamic-mapping.asciidoc, +++ /dev/null, +++ b/docs/reference/migration/migrate_7_0/mappings.asciidoc, +==== The `_default_` mapping is no longer allowed, +, +The `_default_` mapping has been deprecated in 6.0 and is now no longer allowed, +in 7.0. Trying to configure a `_default_` mapping on 7.x indices will result in, +an error., +, +++ b/server/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            if (indexSettings.getIndexVersionCreated().onOrAfter(Version.V_7_0_0_alpha1)) {, +                throw new IllegalArgumentException("The [default] mapping cannot be updated on index [" + index().getName() +, +                        "]: defaults mappings are not useful anymore now that indices can have at most one type.");, +            } else if (reason == MergeReason.MAPPING_UPDATE) { // only log in case of explicit mapping updates, +++ b/docs/reference/indices/put-mapping.asciidoc, +++ b/docs/reference/mapping/dynamic-mapping.asciidoc, +++ /dev/null, +++ b/docs/reference/migration/migrate_7_0/mappings.asciidoc, +==== The `_default_` mapping is no longer allowed, +, +The `_default_` mapping has been deprecated in 6.0 and is now no longer allowed, +in 7.0. Trying to configure a `_default_` mapping on 7.x indices will result in, +an error., +, +++ b/server/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            if (indexSettings.getIndexVersionCreated().onOrAfter(Version.V_7_0_0_alpha1)) {, +                throw new IllegalArgumentException("The [default] mapping cannot be updated on index [" + index().getName() +, +                        "]: defaults mappings are not useful anymore now that indices can have at most one type.");, +            } else if (reason == MergeReason.MAPPING_UPDATE) { // only log in case of explicit mapping updates, +++ /dev/null, +++ b/docs/reference/indices/put-mapping.asciidoc, +++ b/docs/reference/mapping/dynamic-mapping.asciidoc, +++ /dev/null, +++ b/docs/reference/migration/migrate_7_0/mappings.asciidoc, +==== The `_default_` mapping is no longer allowed, +, +The `_default_` mapping has been deprecated in 6.0 and is now no longer allowed, +in 7.0. Trying to configure a `_default_` mapping on 7.x indices will result in, +an error., +, +++ b/server/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            if (indexSettings.getIndexVersionCreated().onOrAfter(Version.V_7_0_0_alpha1)) {, +                throw new IllegalArgumentException("The [default] mapping cannot be updated on index [" + index().getName() +, +                        "]: defaults mappings are not useful anymore now that indices can have at most one type.");, +            } else if (reason == MergeReason.MAPPING_UPDATE) { // only log in case of explicit mapping updates, +++ /dev/null, +++ /dev/null, +++ b/docs/reference/indices/put-mapping.asciidoc, +++ b/docs/reference/mapping/dynamic-mapping.asciidoc, +++ /dev/null, +++ b/docs/reference/migration/migrate_7_0/mappings.asciidoc, +==== The `_default_` mapping is no longer allowed, +, +The `_default_` mapping has been deprecated in 6.0 and is now no longer allowed, +in 7.0. Trying to configure a `_default_` mapping on 7.x indices will result in, +an error., +, +++ b/server/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            if (indexSettings.getIndexVersionCreated().onOrAfter(Version.V_7_0_0_alpha1)) {, +                throw new IllegalArgumentException("The [default] mapping cannot be updated on index [" + index().getName() +, +                        "]: defaults mappings are not useful anymore now that indices can have at most one type.");, +            } else if (reason == MergeReason.MAPPING_UPDATE) { // only log in case of explicit mapping updates, +++ /dev/null, +++ /dev/null, +++ b/server/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java, +        assertThat(indexMappings.size(), equalTo(1));, +        assertThat(indexMappings.size(), equalTo(0));, +++ b/docs/reference/indices/put-mapping.asciidoc, +++ b/docs/reference/mapping/dynamic-mapping.asciidoc, +++ /dev/null, +++ b/docs/reference/migration/migrate_7_0/mappings.asciidoc, +==== The `_default_` mapping is no longer allowed, +, +The `_default_` mapping has been deprecated in 6.0 and is now no longer allowed, +in 7.0. Trying to configure a `_default_` mapping on 7.x indices will result in, +an error., +, +++ b/server/src/main/java/org/elasticsearch/index/mapper/MapperService.java, +            if (indexSettings.getIndexVersionCreated().onOrAfter(Version.V_7_0_0_alpha1)) {, +                throw new IllegalArgumentException("The [default] mapping cannot be updated on index [" + index().getName() +, +                        "]: defaults mappings are not useful anymore now that indices can have at most one type.");, +            } else if (reason == MergeReason.MAPPING_UPDATE) { // only log in case of explicit mapping updates, +++ /dev/null]