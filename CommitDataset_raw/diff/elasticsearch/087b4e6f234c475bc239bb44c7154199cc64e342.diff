[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchResponse.java, +import org.elasticsearch.common.xcontent.XContentBuilderString;, +    static final class Fields {, +        static final XContentBuilderString _SCROLL_ID = new XContentBuilderString("_scroll_id");, +        static final XContentBuilderString _SHARDS = new XContentBuilderString("_shards");, +        static final XContentBuilderString TOTAL = new XContentBuilderString("total");, +        static final XContentBuilderString SUCCESSFUL = new XContentBuilderString("successful");, +        static final XContentBuilderString FAILED = new XContentBuilderString("failed");, +        static final XContentBuilderString FAILURES = new XContentBuilderString("failures");, +        static final XContentBuilderString INDEX = new XContentBuilderString("index");, +        static final XContentBuilderString SHARD = new XContentBuilderString("shard");, +        static final XContentBuilderString REASON = new XContentBuilderString("reason");, +    }, +, +            builder.field(Fields._SCROLL_ID, scrollId);, +        builder.startObject(Fields._SHARDS);, +        builder.field(Fields.TOTAL, totalShards());, +        builder.field(Fields.SUCCESSFUL, successfulShards());, +        builder.field(Fields.FAILED, failedShards());, +            builder.startArray(Fields.FAILURES);, +                    builder.field(Fields.INDEX, shardFailure.shard().index());, +                    builder.field(Fields.SHARD, shardFailure.shard().shardId());, +                builder.field(Fields.REASON, shardFailure.reason());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchResponse.java, +import org.elasticsearch.common.xcontent.XContentBuilderString;, +    static final class Fields {, +        static final XContentBuilderString _SCROLL_ID = new XContentBuilderString("_scroll_id");, +        static final XContentBuilderString _SHARDS = new XContentBuilderString("_shards");, +        static final XContentBuilderString TOTAL = new XContentBuilderString("total");, +        static final XContentBuilderString SUCCESSFUL = new XContentBuilderString("successful");, +        static final XContentBuilderString FAILED = new XContentBuilderString("failed");, +        static final XContentBuilderString FAILURES = new XContentBuilderString("failures");, +        static final XContentBuilderString INDEX = new XContentBuilderString("index");, +        static final XContentBuilderString SHARD = new XContentBuilderString("shard");, +        static final XContentBuilderString REASON = new XContentBuilderString("reason");, +    }, +, +            builder.field(Fields._SCROLL_ID, scrollId);, +        builder.startObject(Fields._SHARDS);, +        builder.field(Fields.TOTAL, totalShards());, +        builder.field(Fields.SUCCESSFUL, successfulShards());, +        builder.field(Fields.FAILED, failedShards());, +            builder.startArray(Fields.FAILURES);, +                    builder.field(Fields.INDEX, shardFailure.shard().index());, +                    builder.field(Fields.SHARD, shardFailure.shard().shardId());, +                builder.field(Fields.REASON, shardFailure.reason());, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java, +    public XContentBuilder startObject(XContentBuilderString name) throws IOException {, +    public XContentBuilder array(XContentBuilderString name, String... values) throws IOException {, +    public XContentBuilder array(XContentBuilderString name, Object... values) throws IOException {, +    public XContentBuilder startArray(XContentBuilderString name) throws IOException {, +    public XContentBuilder field(XContentBuilderString name) throws IOException {, +            generator.writeFieldName(name.underscore());, +            generator.writeFieldName(name.camelCase());, +            generator.writeFieldName(name.underscore());, +    public XContentBuilder field(XContentBuilderString name, char[] value, int offset, int length) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, String value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, Integer value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, int value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, Long value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, long value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, Float value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, float value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, Double value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, double value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, Map<String, Object> value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, List<Object> value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, String... value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, Object... value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, int... value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, long... value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, float... value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, double... value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, Object value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, boolean value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, byte[] value) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, ReadableInstant date) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, ReadableInstant date, DateTimeFormatter formatter) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, Date date) throws IOException {, +    public XContentBuilder field(XContentBuilderString name, Date date, DateTimeFormatter formatter) throws IOException {, +    public XContentBuilder nullField(XContentBuilderString name) throws IOException {, +        field(name);, +        generator.writeNull();, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/action/search/SearchResponse.java, +import org.elasticsearch.common.xcontent.XContentBuilderString;, +    static final class Fields {, +        static final XContentBuilderString _SCROLL_ID = new XContentBuilderString("_scroll_id");, +        static final XContentBuilderString _SHARDS = new XContentBuilderString("_shards");, +        static final XContentBuilderString TOTAL = new XContentBuilderString("total");, +        static final XContentBuilderString SUCCESSFUL = new XContentBuilderString("successful");, +        static final XContentBuilderString FAILED = new XContentBuilderString("failed");, +        static final XContentBuilderString FAILURES = new XContentBuilderString("failures");, +        static final XContentBuilderString INDEX = new XContentBuilderString("index");, +        static final XContentBuilderString SHARD = new XContentBuilderString("shard");, +        static final XContentBuilderString REASON = new XContentBuilderString("reason");, +    }, +, +            builder.field(Fields._SCROLL_ID, scrollId);, +        builder.startObject(Fields._SHARDS);, +        builder.field(Fields.TOTAL, totalShards());]