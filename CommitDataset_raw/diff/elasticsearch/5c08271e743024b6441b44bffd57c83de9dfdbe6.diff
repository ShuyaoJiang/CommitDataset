[+++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <option name="VM_PARAMETERS" value="-server -Xmx1g -Des-foreground=yes -XX:+AggressiveOpts -XX:+UseParNewGC -XX:+UseConcMarkSweepGC" />, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <option name="VM_PARAMETERS" value="-server -Xmx1g -Des-foreground=yes -XX:+AggressiveOpts -XX:+UseParNewGC -XX:+UseConcMarkSweepGC" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/BoostFieldMapper.java, +        return new FloatFieldMapper.CustomFloatNumericField(this, value);, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <option name="VM_PARAMETERS" value="-server -Xmx1g -Des-foreground=yes -XX:+AggressiveOpts -XX:+UseParNewGC -XX:+UseConcMarkSweepGC" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/BoostFieldMapper.java, +        return new FloatFieldMapper.CustomFloatNumericField(this, value);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/DateFieldMapper.java, +        return new LongFieldMapper.CustomLongNumericField(this, value);, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <option name="VM_PARAMETERS" value="-server -Xmx1g -Des-foreground=yes -XX:+AggressiveOpts -XX:+UseParNewGC -XX:+UseConcMarkSweepGC" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/BoostFieldMapper.java, +        return new FloatFieldMapper.CustomFloatNumericField(this, value);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/DateFieldMapper.java, +        return new LongFieldMapper.CustomLongNumericField(this, value);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/DoubleFieldMapper.java, +        return new CustomDoubleNumericField(this, value);, +, +    public static class CustomDoubleNumericField extends CustomNumericField {, +, +        private final double number;, +, +        private final NumberFieldMapper mapper;, +, +        public CustomDoubleNumericField(NumberFieldMapper mapper, double number) {, +            super(mapper, mapper.stored() ? Numbers.doubleToBytes(number) : null);, +            this.mapper = mapper;, +            this.number = number;, +        }, +, +        @Override public TokenStream tokenStreamValue() {, +            if (isIndexed) {, +                return mapper.popCachedStream().setDoubleValue(number);, +            }, +            return null;, +        }, +    }, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <option name="VM_PARAMETERS" value="-server -Xmx1g -Des-foreground=yes -XX:+AggressiveOpts -XX:+UseParNewGC -XX:+UseConcMarkSweepGC" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/BoostFieldMapper.java, +        return new FloatFieldMapper.CustomFloatNumericField(this, value);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/DateFieldMapper.java, +        return new LongFieldMapper.CustomLongNumericField(this, value);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/DoubleFieldMapper.java, +        return new CustomDoubleNumericField(this, value);, +, +    public static class CustomDoubleNumericField extends CustomNumericField {, +, +        private final double number;, +, +        private final NumberFieldMapper mapper;, +, +        public CustomDoubleNumericField(NumberFieldMapper mapper, double number) {, +            super(mapper, mapper.stored() ? Numbers.doubleToBytes(number) : null);, +            this.mapper = mapper;, +            this.number = number;, +        }, +, +        @Override public TokenStream tokenStreamValue() {, +            if (isIndexed) {, +                return mapper.popCachedStream().setDoubleValue(number);, +            }, +            return null;, +        }, +    }, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/FloatFieldMapper.java, +        return new CustomFloatNumericField(this, value);, +, +    public static class CustomFloatNumericField extends CustomNumericField {, +, +        private final float number;, +, +        private final NumberFieldMapper mapper;, +, +        public CustomFloatNumericField(NumberFieldMapper mapper, float number) {, +            super(mapper, mapper.stored() ? Numbers.floatToBytes(number) : null);, +            this.mapper = mapper;, +            this.number = number;, +        }, +, +        @Override public TokenStream tokenStreamValue() {, +            if (isIndexed) {, +                return mapper.popCachedStream().setFloatValue(number);, +            }, +            return null;, +        }, +    }, +++ b/.idea/runConfigurations/Bootstrap__No_Plugins_.xml, +    <option name="VM_PARAMETERS" value="-server -Xmx1g -Des-foreground=yes -XX:+AggressiveOpts -XX:+UseParNewGC -XX:+UseConcMarkSweepGC" />, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/BoostFieldMapper.java, +        return new FloatFieldMapper.CustomFloatNumericField(this, value);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/DateFieldMapper.java, +        return new LongFieldMapper.CustomLongNumericField(this, value);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/DoubleFieldMapper.java, +        return new CustomDoubleNumericField(this, value);, +, +    public static class CustomDoubleNumericField extends CustomNumericField {]