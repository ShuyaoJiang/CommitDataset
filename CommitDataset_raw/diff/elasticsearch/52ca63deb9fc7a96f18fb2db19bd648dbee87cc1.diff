[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java, +                // commit on a just opened writer will commit even if there are no changes done to it, +                // we rely on that for the commit data translog id key, +                        // commit on a just opened writer will commit even if there are no changes done to it, +                        // we rely on that for the commit data translog id key, +, +                        refreshVersioningTable(threadPool.estimatedTimeInMillis());, +                            if (makeTransientCurrent) {, +                                refreshVersioningTable(threadPool.estimatedTimeInMillis());, +                                // we need to move transient to current only after we refresh, +                                // so items added to current will still be around for realtime get, +                                // when tans overrides it, +                                translog.makeTransientCurrent();, +                            }]