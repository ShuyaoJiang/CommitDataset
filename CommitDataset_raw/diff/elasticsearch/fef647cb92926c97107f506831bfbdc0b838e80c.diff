[+++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                        RoutingTable.Builder routingTableBuilder = RoutingTable.builder(updatedState.routingTable()), +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                        RoutingTable.Builder routingTableBuilder = RoutingTable.builder(updatedState.routingTable()), +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                        RoutingTable.Builder routingTableBuilder = RoutingTable.builder(updatedState.routingTable()), +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(currentState.routingTable());, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(updatedState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                        RoutingTable.Builder routingTableBuilder = RoutingTable.builder(updatedState.routingTable()), +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(currentState.routingTable());, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(updatedState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                        RoutingTable.Builder routingTableBuilder = RoutingTable.builder(updatedState.routingTable()), +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(currentState.routingTable());, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(updatedState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java, +    public Builder builder(String index) {, +        return new Builder(index);, +    }, +, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                        RoutingTable.Builder routingTableBuilder = RoutingTable.builder(updatedState.routingTable()), +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(currentState.routingTable());, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(updatedState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java, +    public Builder builder(String index) {, +        return new Builder(index);, +    }, +, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                        RoutingTable.Builder routingTableBuilder = RoutingTable.builder(updatedState.routingTable()), +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(currentState.routingTable());, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(updatedState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java, +    public Builder builder(String index) {, +        return new Builder(index);, +    }, +, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java, +    public static Builder builder(RoutingTable routingTable) {, +        return new Builder(routingTable);, +    }, +, +        public Builder() {, +, +        }, +, +        public Builder(RoutingTable routingTable) {, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java, +                        RoutingTable.Builder routingTableBuilder = RoutingTable.builder(updatedState.routingTable()), +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(currentState.routingTable());, +                RoutingTable.Builder rtBuilder = RoutingTable.builder(updatedState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java, +                RoutingTable.Builder routingTableBuilder = RoutingTable.builder(currentState.routingTable());, +++ b/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java, +    public Builder builder(String index) {, +        return new Builder(index);, +    }, +, +++ /dev/null, +++ b/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java, +    public static Builder builder(RoutingTable routingTable) {, +        return new Builder(routingTable);, +    }, +, +        public Builder() {, +, +        }, +]