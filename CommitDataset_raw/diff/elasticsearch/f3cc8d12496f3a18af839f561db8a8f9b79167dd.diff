[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/XContentDocumentMapper.java, +        if (indexFieldMapper.enabled()) {, +            tempFieldMappers.add(indexFieldMapper);, +        }, +                if (indexFieldMapper.enabled()) {, +                    fieldMapperListener.fieldMapper(indexFieldMapper);, +                }, +        rootObjectMapper.toXContent(builder, params, indexFieldMapper, typeFieldMapper, idFieldMapper, allFieldMapper, sourceFieldMapper);, +++ b/modules/elasticsearch/src/main/java/org/elasticsearch/index/mapper/xcontent/XContentDocumentMapper.java, +        if (indexFieldMapper.enabled()) {, +            tempFieldMappers.add(indexFieldMapper);, +        }, +                if (indexFieldMapper.enabled()) {, +                    fieldMapperListener.fieldMapper(indexFieldMapper);, +                }, +        rootObjectMapper.toXContent(builder, params, indexFieldMapper, typeFieldMapper, idFieldMapper, allFieldMapper, sourceFieldMapper);, +++ b/modules/elasticsearch/src/test/java/org/elasticsearch/index/mapper/xcontent/index/IndexTypeMapperTests.java, +import org.elasticsearch.index.mapper.IndexFieldMapper;, +        assertThat(docMapper.mappers().indexName("_index").mapper(), instanceOf(IndexFieldMapper.class));]