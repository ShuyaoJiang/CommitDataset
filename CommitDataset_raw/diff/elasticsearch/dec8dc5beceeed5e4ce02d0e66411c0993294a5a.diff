[+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/docset/DocSets.java, +                    int numBits = into.length();, +                    int disiDoc, bitSetDoc = into.nextSetBit(0);, +                    while (bitSetDoc != -1 && (disiDoc = disi.advance(bitSetDoc)) < numBits) {, +                        disiDoc++;, +                        bitSetDoc = (disiDoc < numBits) ? into.nextSetBit(disiDoc) : -1;, +                        into.clear(bitSetDoc, numBits);]