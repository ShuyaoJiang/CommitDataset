[+++ b/org.springframework.context.support/src/main/java/org/springframework/mail/javamail/MimeMessageHelper.java, + * Copyright 2002-2010 the original author or authors., +		for (InternetAddress address : addresses) {, +			validateAddress(address);, +		setFrom(parseAddress(from));, +		setReplyTo(parseAddress(replyTo));, +		setTo(parseAddress(to));, +			addresses[i] = parseAddress(to[i]);, +		addTo(parseAddress(to));, +		setCc(parseAddress(cc));, +			addresses[i] = parseAddress(cc[i]);, +		addCc(parseAddress(cc));, +		setBcc(parseAddress(bcc));, +			addresses[i] = parseAddress(bcc[i]);, +		addBcc(parseAddress(bcc));, +	private InternetAddress parseAddress(String address) throws MessagingException {, +		InternetAddress[] parsed = InternetAddress.parse(address);, +		if (parsed.length != 1) {, +			throw new AddressException("Illegal address", address);, +		}, +		InternetAddress raw = parsed[0];, +		try {, +			return (getEncoding() != null ?, +					new InternetAddress(raw.getAddress(), raw.getPersonal(), getEncoding()) : raw);, +		}, +		catch (UnsupportedEncodingException ex) {, +			throw new MessagingException("Failed to parse embedded personal name to correct encoding", ex);, +		}, +	}, +, +		MimePart partToUse;]