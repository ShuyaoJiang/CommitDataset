[+++ b/spring-test/src/main/java/org/springframework/test/web/servlet/result/PrintingResultHandler.java, + * Copyright 2002-2017 the original author or authors., +import java.util.Collections;, +import java.util.stream.Collectors;, +import javax.servlet.http.HttpSession;, +		this.printer.printValue("Session Attrs", getSessionAttributes(request));, +	protected final Map<String, Object> getSessionAttributes(MockHttpServletRequest request) {, +		HttpSession session = request.getSession(false);, +		return session == null ? Collections.emptyMap() :, +				Collections.list(session.getAttributeNames()).stream(), +						.collect(Collectors.toMap(n -> n, session::getAttribute));, +	}, +, +++ b/spring-test/src/main/java/org/springframework/test/web/servlet/result/PrintingResultHandler.java, + * Copyright 2002-2017 the original author or authors., +import java.util.Collections;, +import java.util.stream.Collectors;, +import javax.servlet.http.HttpSession;, +		this.printer.printValue("Session Attrs", getSessionAttributes(request));, +	protected final Map<String, Object> getSessionAttributes(MockHttpServletRequest request) {, +		HttpSession session = request.getSession(false);, +		return session == null ? Collections.emptyMap() :, +				Collections.list(session.getAttributeNames()).stream(), +						.collect(Collectors.toMap(n -> n, session::getAttribute));, +	}, +, +++ b/spring-test/src/test/java/org/springframework/test/web/servlet/result/PrintingResultHandlerTests.java, + * Copyright 2002-2017 the original author or authors., +import java.util.Collections;, +	private final StubMvcResult mvcResult = new StubMvcResult(, +			this.request, null, null, null, null, null, this.response);, +		this.request.getSession().setAttribute("foo", "bar");, +		assertValue("MockHttpServletRequest", "Session Attrs", Collections.singletonMap("foo", "bar"));, +		assertTrue(cookie2.contains("name = 'enigma', value = '42', " +, +				"comment = 'This is a comment', domain = '.example.com', maxAge = 1234, " +, +				"path = '/crumbs', secure = true, version = 0, httpOnly = true"));, +		TestPrintingResultHandler() {]