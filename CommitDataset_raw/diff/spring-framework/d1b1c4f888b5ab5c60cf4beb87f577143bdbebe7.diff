[+++ b/spring-test/src/main/java/org/springframework/test/context/junit4/AbstractJUnit4SpringContextTests.java, + * Copyright 2002-2015 the original author or authors., +, + * {@link ContextConfiguration @ContextConfiguration} annotation to, + * configure the {@linkplain ApplicationContext application context} {@link, + * need to load an application context, you may choose to omit the, + * {@link ContextConfiguration @ContextConfiguration} declaration and to configure, + * <p>This class serves only as a convenience for extension., + * <ul>, + * <li>If you do not wish for your test classes to be tied to a Spring-specific, + * class hierarchy, you may configure your own custom test classes by using, + * {@link SpringJUnit4ClassRunner}, {@link ContextConfiguration @ContextConfiguration},, + * {@link TestExecutionListeners @TestExecutionListeners}, etc.</li>, + * <li>If you wish to extend this class and use a runner other than the, + * {@link SpringJUnit4ClassRunner}, as of Spring Framework 4.2 you can use, + * {@link org.springframework.test.context.junit4.rules.SpringClassRule SpringClassRule} and, + * {@link org.springframework.test.context.junit4.rules.SpringMethodRule SpringMethodRule}, + * and specify your runner of choice via {@link RunWith @RunWith(...)}.</li>, + * </ul>, +++ b/spring-test/src/main/java/org/springframework/test/context/junit4/AbstractJUnit4SpringContextTests.java, + * Copyright 2002-2015 the original author or authors., +, + * {@link ContextConfiguration @ContextConfiguration} annotation to, + * configure the {@linkplain ApplicationContext application context} {@link, + * need to load an application context, you may choose to omit the, + * {@link ContextConfiguration @ContextConfiguration} declaration and to configure, + * <p>This class serves only as a convenience for extension., + * <ul>, + * <li>If you do not wish for your test classes to be tied to a Spring-specific, + * class hierarchy, you may configure your own custom test classes by using, + * {@link SpringJUnit4ClassRunner}, {@link ContextConfiguration @ContextConfiguration},, + * {@link TestExecutionListeners @TestExecutionListeners}, etc.</li>, + * <li>If you wish to extend this class and use a runner other than the, + * {@link SpringJUnit4ClassRunner}, as of Spring Framework 4.2 you can use, + * {@link org.springframework.test.context.junit4.rules.SpringClassRule SpringClassRule} and, + * {@link org.springframework.test.context.junit4.rules.SpringMethodRule SpringMethodRule}, + * and specify your runner of choice via {@link RunWith @RunWith(...)}.</li>, + * </ul>, +++ b/spring-test/src/main/java/org/springframework/test/context/junit4/AbstractTransactionalJUnit4SpringContextTests.java, + * Copyright 2002-2015 the original author or authors., + * <p>This class serves only as a convenience for extension., + * <ul>, + * <li>If you do not wish for your test classes to be tied to a Spring-specific, + * class hierarchy, you may configure your own custom test classes by using, + * {@link SpringJUnit4ClassRunner}, {@link ContextConfiguration @ContextConfiguration},, + * {@link TestExecutionListeners @TestExecutionListeners}, etc.</li>, + * <li>If you wish to extend this class and use a runner other than the, + * {@link SpringJUnit4ClassRunner}, as of Spring Framework 4.2 you can use, + * {@link org.springframework.test.context.junit4.rules.SpringClassRule SpringClassRule} and, + * {@link org.springframework.test.context.junit4.rules.SpringMethodRule SpringMethodRule}, + * and specify your runner of choice via {@link org.junit.runner.RunWith @RunWith(...)}.</li>, + * </ul>, +++ b/spring-test/src/main/java/org/springframework/test/context/junit4/AbstractJUnit4SpringContextTests.java, + * Copyright 2002-2015 the original author or authors., +, + * {@link ContextConfiguration @ContextConfiguration} annotation to, + * configure the {@linkplain ApplicationContext application context} {@link, + * need to load an application context, you may choose to omit the, + * {@link ContextConfiguration @ContextConfiguration} declaration and to configure, + * <p>This class serves only as a convenience for extension., + * <ul>, + * <li>If you do not wish for your test classes to be tied to a Spring-specific, + * class hierarchy, you may configure your own custom test classes by using, + * {@link SpringJUnit4ClassRunner}, {@link ContextConfiguration @ContextConfiguration},, + * {@link TestExecutionListeners @TestExecutionListeners}, etc.</li>, + * <li>If you wish to extend this class and use a runner other than the, + * {@link SpringJUnit4ClassRunner}, as of Spring Framework 4.2 you can use, + * {@link org.springframework.test.context.junit4.rules.SpringClassRule SpringClassRule} and, + * {@link org.springframework.test.context.junit4.rules.SpringMethodRule SpringMethodRule}, + * and specify your runner of choice via {@link RunWith @RunWith(...)}.</li>, + * </ul>, +++ b/spring-test/src/main/java/org/springframework/test/context/junit4/AbstractTransactionalJUnit4SpringContextTests.java, + * Copyright 2002-2015 the original author or authors., + * <p>This class serves only as a convenience for extension., + * <ul>, + * <li>If you do not wish for your test classes to be tied to a Spring-specific, + * class hierarchy, you may configure your own custom test classes by using, + * {@link SpringJUnit4ClassRunner}, {@link ContextConfiguration @ContextConfiguration},, + * {@link TestExecutionListeners @TestExecutionListeners}, etc.</li>, + * <li>If you wish to extend this class and use a runner other than the, + * {@link SpringJUnit4ClassRunner}, as of Spring Framework 4.2 you can use, + * {@link org.springframework.test.context.junit4.rules.SpringClassRule SpringClassRule} and, + * {@link org.springframework.test.context.junit4.rules.SpringMethodRule SpringMethodRule}, + * and specify your runner of choice via {@link org.junit.runner.RunWith @RunWith(...)}.</li>, + * </ul>, +++ b/spring-test/src/main/java/org/springframework/test/context/junit4/SpringJUnit4ClassRunner.java, +import java.lang.reflect.Field;, +import org.springframework.test.context.junit4.rules.SpringClassRule;, +import org.springframework.test.context.junit4.rules.SpringMethodRule;, + * <p>If you would like to use the Spring TestContext Framework with a runner, + * other than this one, use {@link SpringClassRule} and {@link SpringMethodRule}., + *, + * @see org.springframework.test.context.junit4.rules.SpringClassRule, + * @see org.springframework.test.context.junit4.rules.SpringMethodRule, +	private static void ensureSpringRulesAreNotPresent(Class<?> testClass) {, +		for (Field field : testClass.getFields()) {, +			if (SpringClassRule.class.isAssignableFrom(field.getType())) {, +				throw new IllegalStateException(String.format("Detected SpringClassRule field in test class [%s], but ", +						+ "SpringClassRule cannot be used with the SpringJUnit4ClassRunner.", testClass.getName()));, +			}]