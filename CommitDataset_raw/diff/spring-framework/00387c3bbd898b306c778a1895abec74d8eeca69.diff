[+++ b/spring-web-reactive/src/test/java/org/springframework/web/reactive/socket/server/AbstractWebSocketIntegrationTests.java, +import org.springframework.http.server.reactive.bootstrap.ReactorHttpServer;, +import org.springframework.web.reactive.socket.server.upgrade.ReactorNettyRequestUpgradeStrategy;, +				{new ReactorHttpServer(), ReactorNettyConfig.class},, +++ b/spring-web-reactive/src/test/java/org/springframework/web/reactive/socket/server/AbstractWebSocketIntegrationTests.java, +import org.springframework.http.server.reactive.bootstrap.ReactorHttpServer;, +import org.springframework.web.reactive.socket.server.upgrade.ReactorNettyRequestUpgradeStrategy;, +				{new ReactorHttpServer(), ReactorNettyConfig.class},, +++ b/spring-web-reactive/src/test/java/org/springframework/web/reactive/socket/server/WebSocketIntegrationTests.java, +			// Use retain() for Reactor Netty, +			return session.send(session.receive().doOnNext(WebSocketMessage::retain));]