[+++ b/spring-messaging/src/main/java/org/springframework/messaging/simp/broker/AbstractBrokerMessageHandler.java, +				logger.debug("Starting");, +			if (logger.isDebugEnabled()) {, +				logger.debug("Started");, +			}, +				logger.debug("Stopping");, +			if (logger.isDebugEnabled()) {, +				logger.debug("Stopped");, +			}, +++ b/spring-messaging/src/main/java/org/springframework/messaging/simp/broker/AbstractBrokerMessageHandler.java, +				logger.debug("Starting");, +			if (logger.isDebugEnabled()) {, +				logger.debug("Started");, +			}, +				logger.debug("Stopping");, +			if (logger.isDebugEnabled()) {, +				logger.debug("Stopped");, +			}, +++ b/spring-messaging/src/main/java/org/springframework/messaging/simp/stomp/StompBrokerRelayMessageHandler.java, +import java.util.concurrent.TimeUnit;, +			this.tcpClient.shutdown().get(5000, TimeUnit.MILLISECONDS);]