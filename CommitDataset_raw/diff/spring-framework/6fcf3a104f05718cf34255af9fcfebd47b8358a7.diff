[+++ b/build.gradle, +	ext.caffeineVersion        = "2.5.1", +	ext.hibvalVersion          = "5.4.1.Final", +		optional("org.hibernate:hibernate-validator:${hibvalVersion}"), +		testCompile("org.hibernate:hibernate-validator:${hibvalVersion}"), +		testRuntime("org.jruby:jruby:9.1.9.0"), +		testCompile("org.hibernate:hibernate-validator:${hibvalVersion}"), +		testRuntime("org.jruby:jruby:9.1.9.0"), +		testCompile("org.hibernate:hibernate-validator:${hibvalVersion}"), +++ b/build.gradle, +	ext.caffeineVersion        = "2.5.1", +	ext.hibvalVersion          = "5.4.1.Final", +		optional("org.hibernate:hibernate-validator:${hibvalVersion}"), +		testCompile("org.hibernate:hibernate-validator:${hibvalVersion}"), +		testRuntime("org.jruby:jruby:9.1.9.0"), +		testCompile("org.hibernate:hibernate-validator:${hibvalVersion}"), +		testRuntime("org.jruby:jruby:9.1.9.0"), +		testCompile("org.hibernate:hibernate-validator:${hibvalVersion}"), +++ b/spring-orm/src/main/java/org/springframework/orm/jpa/SharedEntityManagerCreator.java, +	private static final Set<String> transactionRequiringMethods = new HashSet<>(8);, +	private static final Set<String> queryTerminatingMethods = new HashSet<>(8);, +		queryTerminatingMethods.add("executeUpdate");, +		queryTerminatingMethods.add("getSingleResult");, +		queryTerminatingMethods.add("getResultList");, +		queryTerminatingMethods.add("getResultStream");, +				if (queryTerminatingMethods.contains(method.getName())) {]