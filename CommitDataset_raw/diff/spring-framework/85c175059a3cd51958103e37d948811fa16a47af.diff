[+++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/MessageBrokerBeanDefinitionParser.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			beanDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/MessageBrokerBeanDefinitionParser.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			beanDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/WebSocketNamespaceUtils.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			sockJsServiceDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/MessageBrokerBeanDefinitionParser.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			beanDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/WebSocketNamespaceUtils.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			sockJsServiceDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +, +++ b/spring-websocket/src/main/resources/org/springframework/web/socket/config/spring-websocket-4.0.xsd, +							<xsd:element name="handshake-interceptors" type="handshake-interceptors" minOccurs="0" maxOccurs="1"/>, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/MessageBrokerBeanDefinitionParser.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			beanDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/WebSocketNamespaceUtils.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			sockJsServiceDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +, +++ b/spring-websocket/src/main/resources/org/springframework/web/socket/config/spring-websocket-4.0.xsd, +							<xsd:element name="handshake-interceptors" type="handshake-interceptors" minOccurs="0" maxOccurs="1"/>, +++ b/spring-websocket/src/main/resources/org/springframework/web/socket/config/spring-websocket-4.1.xsd, +							<xsd:element name="handshake-interceptors" type="handshake-interceptors" minOccurs="0" maxOccurs="1"/>, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/MessageBrokerBeanDefinitionParser.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			beanDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/WebSocketNamespaceUtils.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			sockJsServiceDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +, +++ b/spring-websocket/src/main/resources/org/springframework/web/socket/config/spring-websocket-4.0.xsd, +							<xsd:element name="handshake-interceptors" type="handshake-interceptors" minOccurs="0" maxOccurs="1"/>, +++ b/spring-websocket/src/main/resources/org/springframework/web/socket/config/spring-websocket-4.1.xsd, +							<xsd:element name="handshake-interceptors" type="handshake-interceptors" minOccurs="0" maxOccurs="1"/>, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/config/HandlersBeanDefinitionParserTests.java, +import org.springframework.web.socket.sockjs.transport.TransportHandler;, +import org.springframework.web.socket.sockjs.transport.TransportType;, +	@Test, +, +		Map<TransportType, TransportHandler> transportHandlers = defaultSockJsService.getTransportHandlers();, +		assertThat(transportHandlers.values(),, +, +		WebSocketTransportHandler handler = (WebSocketTransportHandler) transportHandlers.get(TransportType.WEBSOCKET);, +		assertEquals(TestHandshakeHandler.class, handler.getHandshakeHandler().getClass());, +, +		List<HandshakeInterceptor> interceptors = defaultSockJsService.getHandshakeInterceptors();, +		assertThat(interceptors, contains(instanceOf(FooTestInterceptor.class), instanceOf(BarTestInterceptor.class)));, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/MessageBrokerBeanDefinitionParser.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			beanDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/WebSocketNamespaceUtils.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");, +			ManagedList<?> interceptors = WebSocketNamespaceUtils.parseBeanSubElements(interceptorsElement, context);, +			sockJsServiceDef.getPropertyValues().add("handshakeInterceptors", interceptors);, +, +++ b/spring-websocket/src/main/resources/org/springframework/web/socket/config/spring-websocket-4.0.xsd, +							<xsd:element name="handshake-interceptors" type="handshake-interceptors" minOccurs="0" maxOccurs="1"/>, +++ b/spring-websocket/src/main/resources/org/springframework/web/socket/config/spring-websocket-4.1.xsd, +							<xsd:element name="handshake-interceptors" type="handshake-interceptors" minOccurs="0" maxOccurs="1"/>, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/config/HandlersBeanDefinitionParserTests.java, +import org.springframework.web.socket.sockjs.transport.TransportHandler;, +import org.springframework.web.socket.sockjs.transport.TransportType;, +	@Test, +, +		Map<TransportType, TransportHandler> transportHandlers = defaultSockJsService.getTransportHandlers();, +		assertThat(transportHandlers.values(),, +, +		WebSocketTransportHandler handler = (WebSocketTransportHandler) transportHandlers.get(TransportType.WEBSOCKET);, +		assertEquals(TestHandshakeHandler.class, handler.getHandshakeHandler().getClass());, +, +		List<HandshakeInterceptor> interceptors = defaultSockJsService.getHandshakeInterceptors();, +		assertThat(interceptors, contains(instanceOf(FooTestInterceptor.class), instanceOf(BarTestInterceptor.class)));, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/config/MessageBrokerBeanDefinitionParserTests.java, + * @author Rossen Stoyanchev, +, +, +		List<HandshakeInterceptor> interceptors = wsHttpRequestHandler.getHandshakeInterceptors();, +		assertThat(interceptors, contains(instanceOf(FooTestInterceptor.class), instanceOf(BarTestInterceptor.class)));, +		interceptors = defaultSockJsService.getHandshakeInterceptors();, +		assertThat(interceptors, contains(instanceOf(FooTestInterceptor.class), instanceOf(BarTestInterceptor.class)));, +, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/MessageBrokerBeanDefinitionParser.java, +			Element interceptorsElement = DomUtils.getChildElementByTagName(element, "handshake-interceptors");]