[+++ b/spring-test/src/test/java/org/springframework/test/context/cache/ClassLevelDirtiesContextTestNGTests.java, +	private void runTestClassAndAssertStats(Class<?> testClass, int expectedTestCount) {, +		final int expectedTestFailureCount = 0;, +		final int expectedTestStartedCount = expectedTestCount;, +		final int expectedTestFinishedCount = expectedTestCount;, +, +		final TrackingTestNGTestListener listener = new TrackingTestNGTestListener();, +		final TestNG testNG = new TestNG();, +		testNG.addListener(listener);, +		testNG.setTestClasses(new Class<?>[] { testClass });, +		testNG.setVerbose(0);, +		testNG.run();, +, +		assertEquals("Failures for test class [" + testClass + "].", expectedTestFailureCount,, +			listener.testFailureCount);, +		assertEquals("Tests started for test class [" + testClass + "].", expectedTestStartedCount,, +			listener.testStartCount);, +		assertEquals("Successful tests for test class [" + testClass + "].", expectedTestFinishedCount,, +			listener.testSuccessCount);, +	}, +, +++ b/spring-test/src/test/java/org/springframework/test/context/cache/ClassLevelDirtiesContextTestNGTests.java, +	private void runTestClassAndAssertStats(Class<?> testClass, int expectedTestCount) {, +		final int expectedTestFailureCount = 0;, +		final int expectedTestStartedCount = expectedTestCount;, +		final int expectedTestFinishedCount = expectedTestCount;, +, +		final TrackingTestNGTestListener listener = new TrackingTestNGTestListener();, +		final TestNG testNG = new TestNG();, +		testNG.addListener(listener);, +		testNG.setTestClasses(new Class<?>[] { testClass });, +		testNG.setVerbose(0);, +		testNG.run();, +, +		assertEquals("Failures for test class [" + testClass + "].", expectedTestFailureCount,, +			listener.testFailureCount);, +		assertEquals("Tests started for test class [" + testClass + "].", expectedTestStartedCount,, +			listener.testStartCount);, +		assertEquals("Successful tests for test class [" + testClass + "].", expectedTestFinishedCount,, +			listener.testSuccessCount);, +	}, +, +++ b/spring-test/src/test/java/org/springframework/test/context/cache/ClassLevelDirtiesContextTests.java, +import static org.springframework.test.context.junit4.JUnitTestingUtils.*;, +	private void runTestClassAndAssertStats(Class<?> testClass, int expectedTestCount) throws Exception {, +		runTestsAndAssertCounters(testClass, expectedTestCount, 0, expectedTestCount, 0, 0);, +	}, +, +	private void assertBehaviorForCleanTestCase() throws Exception {, +++ b/spring-test/src/test/java/org/springframework/test/context/cache/ClassLevelDirtiesContextTestNGTests.java, +	private void runTestClassAndAssertStats(Class<?> testClass, int expectedTestCount) {, +		final int expectedTestFailureCount = 0;, +		final int expectedTestStartedCount = expectedTestCount;, +		final int expectedTestFinishedCount = expectedTestCount;, +, +		final TrackingTestNGTestListener listener = new TrackingTestNGTestListener();, +		final TestNG testNG = new TestNG();, +		testNG.addListener(listener);, +		testNG.setTestClasses(new Class<?>[] { testClass });, +		testNG.setVerbose(0);, +		testNG.run();, +, +		assertEquals("Failures for test class [" + testClass + "].", expectedTestFailureCount,, +			listener.testFailureCount);, +		assertEquals("Tests started for test class [" + testClass + "].", expectedTestStartedCount,, +			listener.testStartCount);, +		assertEquals("Successful tests for test class [" + testClass + "].", expectedTestFinishedCount,, +			listener.testSuccessCount);, +	}, +, +++ b/spring-test/src/test/java/org/springframework/test/context/cache/ClassLevelDirtiesContextTests.java, +import static org.springframework.test.context.junit4.JUnitTestingUtils.*;, +	private void runTestClassAndAssertStats(Class<?> testClass, int expectedTestCount) throws Exception {, +		runTestsAndAssertCounters(testClass, expectedTestCount, 0, expectedTestCount, 0, 0);, +	}, +, +	private void assertBehaviorForCleanTestCase() throws Exception {, +++ b/spring-test/src/test/java/org/springframework/test/context/junit4/ExpectedExceptionSpringRunnerTests.java, + * Copyright 2002-2015 the original author or authors., +import static org.springframework.test.context.junit4.JUnitTestingUtils.*;, + * Verifies proper handling of JUnit's {@link Test#expected() &#064;Test(expected=...)}, + * support in conjunction with the {@link SpringJUnit4ClassRunner}., +		runTestsAndAssertCounters(SpringJUnit4ClassRunner.class, ExpectedExceptionSpringRunnerTestCase.class, 1, 0, 1, 0, 0);, +++ b/spring-test/src/test/java/org/springframework/test/context/cache/ClassLevelDirtiesContextTestNGTests.java, +	private void runTestClassAndAssertStats(Class<?> testClass, int expectedTestCount) {, +		final int expectedTestFailureCount = 0;, +		final int expectedTestStartedCount = expectedTestCount;, +		final int expectedTestFinishedCount = expectedTestCount;, +, +		final TrackingTestNGTestListener listener = new TrackingTestNGTestListener();, +		final TestNG testNG = new TestNG();, +		testNG.addListener(listener);, +		testNG.setTestClasses(new Class<?>[] { testClass });, +		testNG.setVerbose(0);, +		testNG.run();, +, +		assertEquals("Failures for test class [" + testClass + "].", expectedTestFailureCount,, +			listener.testFailureCount);, +		assertEquals("Tests started for test class [" + testClass + "].", expectedTestStartedCount,, +			listener.testStartCount);]