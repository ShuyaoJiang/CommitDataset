[+++ b/build.gradle, +    // As of Spring 3.2 spring-core repackages both asm 4.0 and cglib 3.0 and inlines both, +    // into the spring-core jar. cglib 3.0 itself depends on asm 4.0, and is therefore, +    // further transformed by the JarJar task to depend on org.springframework.asm; this, +    // avoids including two different copies of asm unnecessarily. If however future cglib, +    // versions drift from the version of asm used by Spring internally, this duplication, +    // will become necessary., +    def cglibVersion = '3.0', +        cglib, +    task cglibRepackJar(type: Jar) { repackJar ->, +        repackJar.baseName = "spring-cglib-repack", +        repackJar.version = cglibVersion, +, +        doLast() {, +            project.ant {, +                taskdef name: "jarjar", classname: "com.tonicsystems.jarjar.JarJarTask",, +                    classpath: configurations.jarjar.asPath, +                jarjar(destfile: repackJar.archivePath) {, +                    configurations.cglib.each { originalJar ->, +                        zipfileset(src: originalJar), +                    }, +                    // repackage net.sf.cglib => org.springframework.cglib, +                    rule(pattern: 'net.sf.cglib.**', result: 'org.springframework.cglib.@1'), +                    // as mentioned above, transform cglib's internal asm dependencies from, +                    // org.objectweb.asm => org.springframework.asm. Doing this counts on the, +                    // the fact that Spring and cglib depend on the same version of asm!, +                    rule(pattern: 'org.objectweb.asm.**', result: 'org.springframework.asm.@1'), +                }, +            }, +        }, +    }, +, +        cglib "cglib:cglib:${cglibVersion}@jar", +        // inline all repackaged asm and cglib classes directly into the spring-core jar, +        from(cglibRepackJar) {, +            exclude 'META-INF/**', +        }, +        compile files(project(":spring-core").cglibRepackJar), +        compile files(project(":spring-core").cglibRepackJar), +        compile files(project(":spring-core").cglibRepackJar), +++ b/build.gradle, +    // As of Spring 3.2 spring-core repackages both asm 4.0 and cglib 3.0 and inlines both, +    // into the spring-core jar. cglib 3.0 itself depends on asm 4.0, and is therefore, +    // further transformed by the JarJar task to depend on org.springframework.asm; this, +    // avoids including two different copies of asm unnecessarily. If however future cglib, +    // versions drift from the version of asm used by Spring internally, this duplication, +    // will become necessary., +    def cglibVersion = '3.0', +        cglib, +    task cglibRepackJar(type: Jar) { repackJar ->, +        repackJar.baseName = "spring-cglib-repack", +        repackJar.version = cglibVersion, +, +        doLast() {, +            project.ant {, +                taskdef name: "jarjar", classname: "com.tonicsystems.jarjar.JarJarTask",, +                    classpath: configurations.jarjar.asPath, +                jarjar(destfile: repackJar.archivePath) {, +                    configurations.cglib.each { originalJar ->, +                        zipfileset(src: originalJar), +                    }, +                    // repackage net.sf.cglib => org.springframework.cglib, +                    rule(pattern: 'net.sf.cglib.**', result: 'org.springframework.cglib.@1'), +                    // as mentioned above, transform cglib's internal asm dependencies from, +                    // org.objectweb.asm => org.springframework.asm. Doing this counts on the, +                    // the fact that Spring and cglib depend on the same version of asm!, +                    rule(pattern: 'org.objectweb.asm.**', result: 'org.springframework.asm.@1'), +                }, +            }, +        }, +    }, +, +        cglib "cglib:cglib:${cglibVersion}@jar", +        // inline all repackaged asm and cglib classes directly into the spring-core jar, +        from(cglibRepackJar) {, +            exclude 'META-INF/**', +        }, +        compile files(project(":spring-core").cglibRepackJar), +        compile files(project(":spring-core").cglibRepackJar), +        compile files(project(":spring-core").cglibRepackJar), +++ /dev/null, +++ b/build.gradle, +    // As of Spring 3.2 spring-core repackages both asm 4.0 and cglib 3.0 and inlines both, +    // into the spring-core jar. cglib 3.0 itself depends on asm 4.0, and is therefore, +    // further transformed by the JarJar task to depend on org.springframework.asm; this, +    // avoids including two different copies of asm unnecessarily. If however future cglib, +    // versions drift from the version of asm used by Spring internally, this duplication, +    // will become necessary., +    def cglibVersion = '3.0', +        cglib, +    task cglibRepackJar(type: Jar) { repackJar ->, +        repackJar.baseName = "spring-cglib-repack", +        repackJar.version = cglibVersion, +, +        doLast() {, +            project.ant {, +                taskdef name: "jarjar", classname: "com.tonicsystems.jarjar.JarJarTask",, +                    classpath: configurations.jarjar.asPath, +                jarjar(destfile: repackJar.archivePath) {, +                    configurations.cglib.each { originalJar ->]