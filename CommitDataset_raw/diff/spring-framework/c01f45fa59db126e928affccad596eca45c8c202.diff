[+++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/config/annotation/WebMvcConfigurationSupport.java, +import java.util.Collections;, +		Map<String, ?> handlerMap = Collections.<String, Object>emptyMap();, +		if (resourceHandlerMapping() instanceof SimpleUrlHandlerMapping) {, +			handlerMap = ((SimpleUrlHandlerMapping) resourceHandlerMapping()).getUrlMap();, +		}, +		return new ResourceUrlGenerator(handlerMap);, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/config/annotation/WebMvcConfigurationSupport.java, +import java.util.Collections;, +		Map<String, ?> handlerMap = Collections.<String, Object>emptyMap();, +		if (resourceHandlerMapping() instanceof SimpleUrlHandlerMapping) {, +			handlerMap = ((SimpleUrlHandlerMapping) resourceHandlerMapping()).getUrlMap();, +		}, +		return new ResourceUrlGenerator(handlerMap);, +++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/resource/ResourceUrlFilterTests.java, +]