[+++ b/spring-core/src/main/java/org/springframework/core/annotation/AnnotatedElementUtils.java, +			return this.annotations.clone();, +			return this.annotations.clone();, +++ b/spring-core/src/main/java/org/springframework/core/annotation/AnnotatedElementUtils.java, +			return this.annotations.clone();, +			return this.annotations.clone();, +++ b/spring-core/src/test/java/org/springframework/core/annotation/AnnotatedElementUtilsTests.java, +import static org.assertj.core.api.Assertions.assertThat;, +	@Test // gh-22655, +	public void forAnnotationsCreatesCopyOfArrayOnEachCall() {, +		AnnotatedElement element = AnnotatedElementUtils.forAnnotations(ForAnnotationsClass.class.getDeclaredAnnotations());, +		// Trigger the NPE as originally reported in the bug, +		AnnotationsScanner.getDeclaredAnnotations(element, false);, +		AnnotationsScanner.getDeclaredAnnotations(element, false);, +		// Also specifically test we get different instances, +		assertThat(element.getDeclaredAnnotations()).isNotSameAs(element.getDeclaredAnnotations());, +	}, +	@Deprecated, +	@ComponentScan, +	class ForAnnotationsClass {, +, +	}, +]