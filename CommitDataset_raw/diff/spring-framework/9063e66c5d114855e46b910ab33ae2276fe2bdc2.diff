[+++ b/spring-context/src/main/java/org/springframework/context/event/AbstractApplicationEventMulticaster.java, +								if (beanFactory.isSingleton(listenerBeanName)) {, +									retriever.applicationListeners.add(listener);, +								}, +								else {, +							}, +		if (retriever != null && retriever.applicationListenerBeans.isEmpty()) {, +			retriever.applicationListeners.clear();, +			retriever.applicationListeners.addAll(allListeners);, +		}, +		public final Set<ApplicationListener<?>> applicationListeners = new LinkedHashSet<>();, +		public final Set<String> applicationListenerBeans = new LinkedHashSet<>();, +			if (!this.preFiltered || !this.applicationListenerBeans.isEmpty()) {, +			}]