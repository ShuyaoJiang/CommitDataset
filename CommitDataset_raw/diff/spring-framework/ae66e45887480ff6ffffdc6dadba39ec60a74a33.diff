[+++ b/spring-web/src/test/java/org/springframework/remoting/httpinvoker/HttpInvokerFactoryBeanIntegrationTests.java, +import org.springframework.beans.factory.FactoryBean;, +import org.springframework.beans.factory.support.RootBeanDefinition;, +import org.springframework.context.annotation.Lazy;, +	public void testLoadedConfigClass() {, +		MyBean myBean = context.getBean("myBean", MyBean.class);, +		assertSame(context.getBean("myService"), myBean.myService);, +	}, +, +	@Test, +	public void testNonLoadedConfigClass() {, +		AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();, +		context.registerBeanDefinition("config", new RootBeanDefinition(InvokerAutowiringConfig.class.getName()));, +		context.refresh();, +		MyBean myBean = context.getBean("myBean", MyBean.class);, +	@Component("myBean"), +	@Lazy, +, +		@Bean, +		public FactoryBean<String> myOtherService() {, +			throw new IllegalStateException("Don't ever call me");, +		}]