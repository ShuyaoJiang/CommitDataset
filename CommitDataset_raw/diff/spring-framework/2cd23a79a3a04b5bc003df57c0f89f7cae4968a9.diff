[+++ b/spring-context/src/main/java/org/springframework/context/annotation/AnnotationScopeMetadataResolver.java, + * Copyright 2002-2013 the original author or authors., +	private final ScopedProxyMode defaultProxyMode;, +, +			AnnotationAttributes attributes = attributesFor(annDef.getMetadata(), this.scopeAnnotationType);, +++ b/spring-context/src/main/java/org/springframework/context/annotation/AnnotationScopeMetadataResolver.java, + * Copyright 2002-2013 the original author or authors., +	private final ScopedProxyMode defaultProxyMode;, +, +			AnnotationAttributes attributes = attributesFor(annDef.getMetadata(), this.scopeAnnotationType);, +++ b/spring-core/src/main/java/org/springframework/core/io/ClassPathResource.java, +			return (this.path.equals(otherRes.path) &&, +					ObjectUtils.nullSafeEquals(this.classLoader, otherRes.classLoader) &&, +					ObjectUtils.nullSafeEquals(this.clazz, otherRes.clazz));]