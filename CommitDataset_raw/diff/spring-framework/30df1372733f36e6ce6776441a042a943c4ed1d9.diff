[+++ b/spring-web-reactive/src/main/java/org/springframework/web/reactive/socket/server/support/HandshakeWebSocketService.java, +	private static final boolean tomcatPresent = ClassUtils.isPresent(, +			"org.apache.tomcat.websocket.server.WsHttpUpgradeHandler",, +			HandshakeWebSocketService.class.getClassLoader());, +, +	private static final boolean jettyPresent = ClassUtils.isPresent(, +			"org.eclipse.jetty.websocket.server.WebSocketServerFactory",, +			HandshakeWebSocketService.class.getClassLoader());, +, +	private static final boolean reactorNettyPresent = ClassUtils.isPresent(, +			"reactor.ipc.netty.http.server.HttpServerResponse",, +			HandshakeWebSocketService.class.getClassLoader());, +, +			"io.reactivex.netty.protocol.http.server.HttpServerResponse",, +			HandshakeWebSocketService.class.getClassLoader());, +, +	private static final boolean undertowPresent = ClassUtils.isPresent(, +			"io.undertow.websockets.WebSocketProtocolHandshakeHandler",, +		if (tomcatPresent) {, +			className = "TomcatRequestUpgradeStrategy";, +		}, +		else if (jettyPresent) {, +			className = "JettyRequestUpgradeStrategy";, +		}, +		else if (reactorNettyPresent) {, +			className = "ReactorNettyRequestUpgradeStrategy";, +		}, +		else if (rxNettyPresent) {, +		else if (undertowPresent) {, +			className = "UndertowRequestUpgradeStrategy";, +		}]