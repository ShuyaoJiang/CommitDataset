[+++ b/org.springframework.test/src/main/java/org/springframework/test/annotation/DirtiesContext.java, +import java.lang.annotation.Inherited;, +@Inherited, +++ b/org.springframework.test/src/main/java/org/springframework/test/annotation/DirtiesContext.java, +import java.lang.annotation.Inherited;, +@Inherited, +++ b/org.springframework.test/src/test/java/org/springframework/test/context/ClassLevelDirtiesContextTests.java, +		assertBehaviorForCleanTestCase();, +		assertBehaviorForCleanTestCase();, +		runTestClassAndAssertStats(InheritedClassLevelDirtiesContextWithCleanMethodsAndDefaultModeTestCase.class, 1);, +		assertCacheStats("after inherited class-level @DirtiesContext with clean test method and default class mode",, +			0, cacheHits.incrementAndGet(), cacheMisses.get());, +		assertBehaviorForCleanTestCase();, +		assertBehaviorForCleanTestCase();, +		runTestClassAndAssertStats(InheritedClassLevelDirtiesContextWithCleanMethodsAndAfterClassModeTestCase.class, 1);, +		assertCacheStats("after inherited class-level @DirtiesContext with clean test method and AFTER_CLASS mode", 0,, +			cacheHits.incrementAndGet(), cacheMisses.get());, +		assertBehaviorForCleanTestCase();, +		assertBehaviorForCleanTestCase();, +		runTestClassAndAssertStats(InheritedClassLevelDirtiesContextWithAfterEachTestMethodModeTestCase.class, 3);, +		assertCacheStats(, +			"after inherited class-level @DirtiesContext with clean test method and AFTER_EACH_TEST_METHOD mode", 0,, +			cacheHits.incrementAndGet(), cacheMisses.addAndGet(2));, +		assertBehaviorForCleanTestCase();, +		assertBehaviorForCleanTestCase();, +		runTestClassAndAssertStats(InheritedClassLevelDirtiesContextWithDirtyMethodsTestCase.class, 1);, +		assertCacheStats("after inherited class-level @DirtiesContext with dirty test method", 0,, +			cacheHits.incrementAndGet(), cacheMisses.get());, +		runTestClassAndAssertStats(InheritedClassLevelDirtiesContextWithDirtyMethodsTestCase.class, 1);, +		assertCacheStats("after inherited class-level @DirtiesContext with dirty test method", 0, cacheHits.get(),, +			cacheMisses.incrementAndGet());, +		runTestClassAndAssertStats(InheritedClassLevelDirtiesContextWithDirtyMethodsTestCase.class, 1);, +		assertCacheStats("after inherited class-level @DirtiesContext with dirty test method", 0, cacheHits.get(),, +			cacheMisses.incrementAndGet());, +		assertBehaviorForCleanTestCase();, +	private void assertBehaviorForCleanTestCase() {, +		runTestClassAndAssertStats(CleanTestCase.class, 1);, +		assertCacheStats("after clean test class", 1, cacheHits.get(), cacheMisses.incrementAndGet());, +	}, +, +	public static class ClassLevelDirtiesContextWithCleanMethodsAndDefaultModeTestCase extends BaseTestCase {, +	public static class InheritedClassLevelDirtiesContextWithCleanMethodsAndDefaultModeTestCase extends, +			ClassLevelDirtiesContextWithCleanMethodsAndDefaultModeTestCase {, +	}, +, +	public static class ClassLevelDirtiesContextWithCleanMethodsAndAfterClassModeTestCase extends BaseTestCase {, +	public static class InheritedClassLevelDirtiesContextWithCleanMethodsAndAfterClassModeTestCase extends, +			ClassLevelDirtiesContextWithCleanMethodsAndAfterClassModeTestCase {, +	}, +, +	public static class ClassLevelDirtiesContextWithAfterEachTestMethodModeTestCase extends BaseTestCase {, +	public static class InheritedClassLevelDirtiesContextWithAfterEachTestMethodModeTestCase extends, +			ClassLevelDirtiesContextWithAfterEachTestMethodModeTestCase {, +	}, +, +	public static class ClassLevelDirtiesContextWithDirtyMethodsTestCase extends BaseTestCase {, +	public static class InheritedClassLevelDirtiesContextWithDirtyMethodsTestCase extends, +			ClassLevelDirtiesContextWithDirtyMethodsTestCase {, +	}, +]