[+++ b/build-spring-framework/resources/changelog.txt, +* add normalize() method to UriComponents, +* remove empty path segments from input to UriComponentsBuilder, +* add fromRequestUri(request) and fromCurrentRequestUri() methods to ServletUriCommonentsBuilder, +++ b/build-spring-framework/resources/changelog.txt, +* add normalize() method to UriComponents, +* remove empty path segments from input to UriComponentsBuilder, +* add fromRequestUri(request) and fromCurrentRequestUri() methods to ServletUriCommonentsBuilder, +++ b/org.springframework.web/src/main/java/org/springframework/web/util/UriComponentsBuilder.java, + * Copyright 2002-2012 the original author or authors., +import java.util.Collection;, +			this.pathSegments.addAll(removeEmptyPathSegments(pathSegments));, +		}, +, +		private Collection<String> removeEmptyPathSegments(String... pathSegments) {, +			List<String> result = new ArrayList<String>();, +			for (String segment : pathSegments) {, +				if (StringUtils.hasText(segment)) {, +					result.add(segment);, +				}, +			}, +			return result;, +			this.pathSegments.addAll(removeEmptyPathSegments(pathSegments));, +++ b/build-spring-framework/resources/changelog.txt, +* add normalize() method to UriComponents, +* remove empty path segments from input to UriComponentsBuilder, +* add fromRequestUri(request) and fromCurrentRequestUri() methods to ServletUriCommonentsBuilder, +++ b/org.springframework.web/src/main/java/org/springframework/web/util/UriComponentsBuilder.java, + * Copyright 2002-2012 the original author or authors., +import java.util.Collection;, +			this.pathSegments.addAll(removeEmptyPathSegments(pathSegments));, +		}, +, +		private Collection<String> removeEmptyPathSegments(String... pathSegments) {, +			List<String> result = new ArrayList<String>();, +			for (String segment : pathSegments) {, +				if (StringUtils.hasText(segment)) {, +					result.add(segment);, +				}, +			}, +			return result;, +			this.pathSegments.addAll(removeEmptyPathSegments(pathSegments));, +++ b/org.springframework.web/src/test/java/org/springframework/web/util/UriComponentsBuilderTests.java, + * Copyright 2002-2012 the original author or authors., +	public void pathSegmentsSomeEmpty() {, +		UriComponentsBuilder builder = UriComponentsBuilder.newInstance().pathSegment("", "foo", "", "bar");, +		UriComponents result = builder.build();, +, +		assertEquals("/foo/bar", result.getPath());, +		assertEquals(Arrays.asList("foo", "bar"), result.getPathSegments());, +	}, +, +	@Test]