[+++ b/spring-messaging/src/main/java/org/springframework/messaging/simp/stomp/DefaultStompSession.java, +import java.util.Collections;, +		Assert.notNull(sessionHandler, "StompSessionHandler must not be null");, +		Assert.notNull(connectHeaders, "StompHeaders must not be null");, +		Assert.notNull(messageConverter, "MessageConverter must not be null");, +		Assert.hasText(stompHeaders.getDestination(), "Destination header is required");, +		Assert.hasText(destination, "Destination header is required");, +		Assert.notNull(handler, "StompFrameHandler must not be null");, +							". Perhaps just unsubscribed?");, +			logger.debug("Connection closed in session id=" + this.sessionId);, +				// ignore, +			Assert.notNull(getTaskScheduler(), "To track receipts, a TaskScheduler must be configured");, +			Assert.notNull(this.receiptId,, +					"To track receipts, set autoReceiptEnabled=true or add 'receiptId' header");, +					invoke(Collections.singletonList(task));, +					// ignore, +			Assert.notNull(destination, "Destination must not be null");, +			Assert.notNull(handler, "StompFrameHandler must not be null");]