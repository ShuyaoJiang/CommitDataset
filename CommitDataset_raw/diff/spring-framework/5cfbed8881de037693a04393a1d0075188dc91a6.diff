[+++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/FeatureConfigurationClassTests.java, +import static org.hamcrest.CoreMatchers.instanceOf;, +import static org.hamcrest.CoreMatchers.is;, +import static org.junit.Assert.assertThat;, +, +import org.springframework.core.io.ResourceLoader;, +	@Test, +	public void featureMethodsMayAcceptResourceLoaderParameter() {, +		AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext();, +		ctx.setDisplayName("enclosing app ctx");, +		ctx.register(FeatureMethodWithResourceLoaderParameter.class);, +		ctx.refresh();, +	}, +, +, +@FeatureConfiguration, +class FeatureMethodWithResourceLoaderParameter {, +	@Feature, +	public FeatureSpecification feature(ResourceLoader rl) {, +		// prove that the injected ResourceLoader is actually the enclosing application context, +		Object target = ((EarlyBeanReferenceProxy)rl).dereferenceTargetBean();, +		assertThat(target, instanceOf(AnnotationConfigApplicationContext.class));, +		assertThat(((AnnotationConfigApplicationContext)target).getDisplayName(), is("enclosing app ctx"));, +		return new StubSpecification();, +	}, +}]