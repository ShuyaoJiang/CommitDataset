[+++ b/spring-test/src/main/java/org/springframework/test/context/support/ContextLoaderUtils.java, + * Utility methods for resolving {@link ContextConfigurationAttributes} from the, + * {@link ContextConfiguration @ContextConfiguration} and, + * {@link ContextHierarchy @ContextHierarchy} annotations for use with, + * {@link SmartContextLoader SmartContextLoaders}., + * @see ContextConfiguration, +	/**, +	 * Convenience method for creating a {@link ContextConfigurationAttributes}, +	 * instance from the supplied {@link ContextConfiguration} annotation and, +	 * declaring class and then adding the attributes to the supplied list., +	 */, +	private static void convertContextConfigToConfigAttributesAndAddToList(ContextConfiguration contextConfiguration,, +			Class<?> declaringClass, final List<ContextConfigurationAttributes> attributesList) {, +		if (logger.isTraceEnabled()) {, +			logger.trace(String.format("Retrieved @ContextConfiguration [%s] for declaring class [%s].",, +				contextConfiguration, declaringClass.getName()));, +		}, +, +		ContextConfigurationAttributes attributes = new ContextConfigurationAttributes(declaringClass,, +			contextConfiguration);, +		if (logger.isTraceEnabled()) {, +			logger.trace("Resolved context configuration attributes: " + attributes);, +		}, +		attributesList.add(attributes);, +	}, +, +	/**, +	 * Convenience method for creating a {@link ContextConfigurationAttributes}, +	 * instance from the supplied {@link AnnotationAttributes} and declaring, +	 * class and then adding the attributes to the supplied list., +	 * @since 4.0, +	 */, +	private static void convertAnnotationAttributesToConfigAttributesAndAddToList(AnnotationAttributes annAttrs,, +			Class<?> declaringClass, final List<ContextConfigurationAttributes> attributesList) {, +		if (logger.isTraceEnabled()) {, +			logger.trace(String.format("Retrieved @ContextConfiguration attributes [%s] for declaring class [%s].",, +				annAttrs, declaringClass.getName()));, +		}, +, +		ContextConfigurationAttributes attributes = new ContextConfigurationAttributes(declaringClass, annAttrs);, +		if (logger.isTraceEnabled()) {, +			logger.trace("Resolved context configuration attributes: " + attributes);, +		}, +		attributesList.add(attributes);, +	}, +]