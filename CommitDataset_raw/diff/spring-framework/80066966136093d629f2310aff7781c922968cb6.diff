[+++ b/spring-core/src/main/java/org/springframework/util/ResizableByteArrayOutputStream.java, + * @since 4.0.3, +++ b/spring-core/src/main/java/org/springframework/util/ResizableByteArrayOutputStream.java, + * @since 4.0.3, +++ b/spring-web/src/main/java/org/springframework/web/filter/AbstractRequestLoggingFilter.java, +			byte[] buf = wrapper.getContentAsByteArray();, +		private final ByteArrayOutputStream cachedContent = new ByteArrayOutputStream(1024);, +		private byte[] getContentAsByteArray() {, +			return this.cachedContent.toByteArray();, +					cachedContent.write(ch);, +++ b/spring-core/src/main/java/org/springframework/util/ResizableByteArrayOutputStream.java, + * @since 4.0.3, +++ b/spring-web/src/main/java/org/springframework/web/filter/AbstractRequestLoggingFilter.java, +			byte[] buf = wrapper.getContentAsByteArray();, +		private final ByteArrayOutputStream cachedContent = new ByteArrayOutputStream(1024);, +		private byte[] getContentAsByteArray() {, +			return this.cachedContent.toByteArray();, +					cachedContent.write(ch);, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/view/xml/MarshallingView.java, +		ByteArrayOutputStream baos = new ByteArrayOutputStream(1024);, +		this.marshaller.marshal(toBeMarshalled, new StreamResult(baos));, +		response.setContentLength(baos.size());, +		baos.writeTo(response.getOutputStream());]