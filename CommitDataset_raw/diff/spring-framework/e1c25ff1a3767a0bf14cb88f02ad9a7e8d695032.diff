[+++ b/spring-context-support/src/test/java/org/springframework/ui/jasperreports/JasperReportsUtilsTests.java, +, +import org.junit.BeforeClass;, +import org.junit.Test;, +import org.springframework.tests.Assume;, +, +import static org.junit.Assert.*;, +public class JasperReportsUtilsTests {, +	@BeforeClass, +	public static void assumptions() {, +		Assume.canLoadNativeDirFonts();, +	}, +, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +++ b/spring-context-support/src/test/java/org/springframework/ui/jasperreports/JasperReportsUtilsTests.java, +, +import org.junit.BeforeClass;, +import org.junit.Test;, +import org.springframework.tests.Assume;, +, +import static org.junit.Assert.*;, +public class JasperReportsUtilsTests {, +	@BeforeClass, +	public static void assumptions() {, +		Assume.canLoadNativeDirFonts();, +	}, +, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +++ b/spring-core/src/test/java/org/springframework/tests/Assume.java, +import java.awt.GraphicsEnvironment;, +import java.lang.reflect.Method;, +import org.springframework.util.ClassUtils;, +, +import static org.junit.Assume.*;, + * {@code Assume#atLeast(JavaVersion.JAVA_17)} as shown below:, + *   public static void assumptions() {, + *       Assume.atLeast(JavaVersion.JAVA_17);, + * {@code Assume#atLeast(JavaVersion.JAVA_17)} as shown below:, + *       Assume.atLeast(JavaVersion.JAVA_17);, +, +	/**, +	 * Assume that we can load fonts (https://java.net/jira/browse/MACOSX_PORT-355), +	 */, +	public static void canLoadNativeDirFonts() {, +		try {, +			GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();, +			Class<?> parserClass = ClassUtils.forName("net.sf.jasperreports.engine.util.JRStyledTextParser", null);, +			Method method = parserClass.getMethod("getInstance");, +			method.setAccessible(true);, +			method.invoke(null);, +		} catch(Throwable ex) {, +			throw new AssumptionViolatedException(, +					"Requires GraphicsEnvironment that can load fonts.", ex);, +		}, +	}, +++ b/spring-context-support/src/test/java/org/springframework/ui/jasperreports/JasperReportsUtilsTests.java, +, +import org.junit.BeforeClass;, +import org.junit.Test;, +import org.springframework.tests.Assume;, +, +import static org.junit.Assert.*;, +public class JasperReportsUtilsTests {, +	@BeforeClass, +	public static void assumptions() {, +		Assume.canLoadNativeDirFonts();, +	}, +, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test]