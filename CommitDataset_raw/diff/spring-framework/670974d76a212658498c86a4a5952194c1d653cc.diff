[+++ b/spring-websocket/src/main/java/org/springframework/web/socket/messaging/StompSubProtocolHandler.java, +import org.springframework.util.MimeType;, +import org.springframework.util.MimeTypeUtils;, +			if (MimeTypeUtils.APPLICATION_OCTET_STREAM.isCompatibleWith(stompAccessor.getContentType())) {, +				session.sendMessage(new BinaryMessage(bytes));, +			}, +			else {, +		}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/messaging/StompSubProtocolHandler.java, +import org.springframework.util.MimeType;, +import org.springframework.util.MimeTypeUtils;, +			if (MimeTypeUtils.APPLICATION_OCTET_STREAM.isCompatibleWith(stompAccessor.getContentType())) {, +				session.sendMessage(new BinaryMessage(bytes));, +			}, +			else {, +		}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/sockjs/transport/session/AbstractSockJsSession.java, +		Assert.isInstanceOf(TextMessage.class, message, "SockJS supports text messages only: " + message);]