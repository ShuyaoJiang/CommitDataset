[+++ b/spring-web/src/main/java/org/springframework/http/client/SimpleClientHttpResponse.java, + * Copyright 2002-2018 the original author or authors., +			catch (Exception ex) {, +++ b/spring-web/src/main/java/org/springframework/http/client/SimpleClientHttpResponse.java, + * Copyright 2002-2018 the original author or authors., +			catch (Exception ex) {, +++ b/spring-web/src/test/java/org/springframework/http/client/SimpleClientHttpResponseTests.java, + * Copyright 2002-2018 the original author or authors., +import static org.mockito.BDDMockito.any;, + * @author Juergen Hoeller, +	private final HttpURLConnection connection = mock(HttpURLConnection.class);, +	private final SimpleClientHttpResponse response = new SimpleClientHttpResponse(this.connection);, +	@Test  // SPR-16773, +	public void shouldNotDrainWhenErrorStreamClosed() throws Exception {, +		InputStream is = mock(InputStream.class);, +		given(this.connection.getErrorStream()).willReturn(is);, +		doNothing().when(is).close();, +		given(is.read(any())).willThrow(new NullPointerException("from HttpURLConnection#ErrorStream"));, +		InputStream responseStream = this.response.getBody();, +		responseStream.close();, +		this.response.close();, +, +		verify(is).close();, +	}, +, +, +	private static class TestByteArrayInputStream extends ByteArrayInputStream {]