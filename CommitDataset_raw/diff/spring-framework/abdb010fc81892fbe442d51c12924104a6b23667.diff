[+++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/spring-test/src/main/java/org/springframework/test/context/jdbc/Sql.java, +/*, + * Copyright 2002-2014 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + * http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +, +package org.springframework.test.context.jdbc;, +, +import java.lang.annotation.Documented;, +import java.lang.annotation.Inherited;, +import java.lang.annotation.Repeatable;, +import java.lang.annotation.Retention;, +import java.lang.annotation.Target;, +, +import org.springframework.jdbc.datasource.init.ScriptUtils;, +import org.springframework.util.ResourceUtils;, +, +import static java.lang.annotation.ElementType.*;, +import static java.lang.annotation.RetentionPolicy.*;, +, +/**, + * {@code @Sql} is used to annotate a test class or test method to configure SQL, + * scripts to be executed against a given database during integration tests., + *, + * <p>Method-level declarations override class-level declarations., + *, + * <p>Script execution is performed by the {@link SqlScriptsTestExecutionListener},, + * which is enabled by default., + *, + * <p>The configuration options provided by this annotation are equivalent to, + * those supported by {@link ScriptUtils} and {@link org.springframework.jdbc.datasource.init.ResourceDatabasePopulator, + * ResourceDatabasePopulator} but are a superset of those provided by the, + * {@code <jdbc:initialize-database />} XML namespace element. Consult the, + * Javadoc of individual attributes in this annotation for details., + *, + * <p>Beginning with Java 8, {@code @Sql} can be used as a, + * <em>{@linkplain Repeatable repeatable}</em> annotation. Otherwise,, + * {@link SqlGroup @SqlGroup} can be used as an explicit container for declaring, + * multiple instances of {@code @Sql}., + *, + * <p>This annotation may be used as a <em>meta-annotation</em> to create custom, + * <em>composed annotations</em>; however, attribute overrides are not currently, + * supported for {@linkplain Repeatable repeatable} annotations that are used as, + * meta-annotations., + *, + * @author Sam Brannen, + * @author Tadaya Tsuyukubo, + * @since 4.1, + * @see SqlGroup, + * @see SqlScriptsTestExecutionListener, + * @see org.springframework.transaction.annotation.Transactional, + * @see org.springframework.test.context.transaction.TransactionalTestExecutionListener, + * @see org.springframework.jdbc.datasource.init.ResourceDatabasePopulator, + * @see org.springframework.jdbc.datasource.init.ScriptUtils, + */, +@Documented, +@Inherited, +@Retention(RUNTIME), +@Target({ TYPE, METHOD }), +@Repeatable(SqlGroup.class), +public @interface Sql {, +, +	/**, +	 * Enumeration of <em>phases</em> that dictate when SQL scripts are executed., +	 */, +	static enum ExecutionPhase {, +, +		/**, +		 * The configured SQL scripts will be executed <em>before</em> the, +		 * corresponding test method., +		 */, +		BEFORE_TEST_METHOD,, +, +		/**, +		 * The configured SQL scripts will be executed <em>after</em> the, +		 * corresponding test method., +		 */, +		AFTER_TEST_METHOD;, +	}, +]