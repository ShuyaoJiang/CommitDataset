[+++ b/spring-context/src/test/java/org/springframework/jmx/support/MBeanServerConnectionFactoryBeanTests.java, +import org.junit.Before;, +import org.springframework.util.SocketUtils;, +	private String serviceUrl;, +, +, +	@Before, +	public void getUrl() {, +		int port = SocketUtils.findAvailableTcpPort(9800, 9900);, +		this.serviceUrl =  "service:jmx:jmxmp://localhost:" + port;, +		System.out.println(port);, +	}, +, +, +	private JMXServiceURL getJMXServiceUrl() throws MalformedURLException {, +		return new JMXServiceURL(serviceUrl);, +		return JMXConnectorServerFactory.newJMXConnectorServer(getJMXServiceUrl(), null, getServer());, +, +			bean.setServiceUrl(serviceUrl);, +		bean.setServiceUrl(serviceUrl);, +		bean.setServiceUrl(serviceUrl);]