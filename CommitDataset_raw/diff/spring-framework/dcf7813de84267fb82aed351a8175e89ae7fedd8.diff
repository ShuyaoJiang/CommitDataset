[+++ b/spring-websocket/src/main/java/org/springframework/web/socket/sockjs/transport/handler/AbstractHttpReceivingTransportHandler.java, +import org.springframework.util.Assert;, +			WebSocketHandler wsHandler, WebSocketSession wsSession) throws SockJsProcessingException {, +		Assert.notNull(wsSession, "No session");, +		handleRequestInternal(request, response, wsHandler, wsSession);, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/sockjs/transport/handler/AbstractHttpReceivingTransportHandler.java, +import org.springframework.util.Assert;, +			WebSocketHandler wsHandler, WebSocketSession wsSession) throws SockJsProcessingException {, +		Assert.notNull(wsSession, "No session");, +		handleRequestInternal(request, response, wsHandler, wsSession);, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/sockjs/transport/handler/HttpReceivingTransportHandlerTests.java, +	@Test(expected=IllegalArgumentException.class)]