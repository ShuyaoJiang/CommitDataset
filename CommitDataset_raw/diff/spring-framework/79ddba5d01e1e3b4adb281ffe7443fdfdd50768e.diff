[+++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/spring-messaging/src/test/java/org/springframework/messaging/simp/config/WebSocketMessageBrokerConfigurationTests.java, +import org.springframework.web.socket.AbstractWebSocketIntegrationTests;, +import org.springframework.web.socket.JettyWebSocketTestServer;, +import org.springframework.web.socket.TomcatWebSocketTestServer;, +				{new JettyWebSocketTestServer(), new JettyWebSocketClient()},, +				{new TomcatWebSocketTestServer(), new StandardWebSocketClient()}, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/spring-messaging/src/test/java/org/springframework/messaging/simp/config/WebSocketMessageBrokerConfigurationTests.java, +import org.springframework.web.socket.AbstractWebSocketIntegrationTests;, +import org.springframework.web.socket.JettyWebSocketTestServer;, +import org.springframework.web.socket.TomcatWebSocketTestServer;, +				{new JettyWebSocketTestServer(), new JettyWebSocketClient()},, +				{new TomcatWebSocketTestServer(), new StandardWebSocketClient()}, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/AbstractWebSocketIntegrationTests.java, +		upgradeStrategyConfigTypes.put(JettyWebSocketTestServer.class, JettyUpgradeStrategyConfig.class);, +		upgradeStrategyConfigTypes.put(TomcatWebSocketTestServer.class, TomcatUpgradeStrategyConfig.class);, +	public WebSocketTestServer server;, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/spring-messaging/src/test/java/org/springframework/messaging/simp/config/WebSocketMessageBrokerConfigurationTests.java, +import org.springframework.web.socket.AbstractWebSocketIntegrationTests;, +import org.springframework.web.socket.JettyWebSocketTestServer;, +import org.springframework.web.socket.TomcatWebSocketTestServer;, +				{new JettyWebSocketTestServer(), new JettyWebSocketClient()},, +				{new TomcatWebSocketTestServer(), new StandardWebSocketClient()}, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/AbstractWebSocketIntegrationTests.java, +		upgradeStrategyConfigTypes.put(JettyWebSocketTestServer.class, JettyUpgradeStrategyConfig.class);, +		upgradeStrategyConfigTypes.put(TomcatWebSocketTestServer.class, TomcatUpgradeStrategyConfig.class);, +	public WebSocketTestServer server;, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ /dev/null, +++ b/spring-messaging/src/test/java/org/springframework/messaging/simp/config/WebSocketMessageBrokerConfigurationTests.java, +import org.springframework.web.socket.AbstractWebSocketIntegrationTests;, +import org.springframework.web.socket.JettyWebSocketTestServer;, +import org.springframework.web.socket.TomcatWebSocketTestServer;, +				{new JettyWebSocketTestServer(), new JettyWebSocketClient()},, +				{new TomcatWebSocketTestServer(), new StandardWebSocketClient()}, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/AbstractWebSocketIntegrationTests.java, +		upgradeStrategyConfigTypes.put(JettyWebSocketTestServer.class, JettyUpgradeStrategyConfig.class);, +		upgradeStrategyConfigTypes.put(TomcatWebSocketTestServer.class, TomcatUpgradeStrategyConfig.class);, +	public WebSocketTestServer server;, +++ /dev/null, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/JettyWebSocketTestServer.java, +/*, + * Copyright 2002-2013 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + * http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +, +package org.springframework.web.socket;, +, +import org.eclipse.jetty.server.Server;, +import org.eclipse.jetty.servlet.ServletContextHandler;, +import org.eclipse.jetty.servlet.ServletHolder;, +import org.springframework.util.SocketUtils;, +import org.springframework.web.context.WebApplicationContext;, +import org.springframework.web.servlet.DispatcherServlet;, +, +, +/**, + * Jetty based {@link WebSocketTestServer}., + *, + * @author Rossen Stoyanchev, + */, +public class JettyWebSocketTestServer implements WebSocketTestServer {, +, +	private final Server jettyServer;, +]