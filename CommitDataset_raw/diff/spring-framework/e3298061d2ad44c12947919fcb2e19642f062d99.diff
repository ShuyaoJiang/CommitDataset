[+++ b/org.springframework.core/src/main/java/org/springframework/util/xml/StaxUtils.java, + * Copyright 2002-2010 the original author or authors., + * <p>In particular, methods for using StAX ({@link javax.xml.stream}) in combination with the TrAX API, + * ({@link javax.xml.transform}), and converting StAX readers/writers into SAX readers/handlers and vice-versa., +	// Stax Source, +, +	/**, +	 * Create a custom, non-JAXP 1.4 StAX {@link Source} for the given {@link XMLStreamReader}., +	 *, +	 * @param streamReader the StAX stream reader, +	 * @return a source wrapping the {@code streamReader}, +	 */, +	public static Source createCustomStaxSource(XMLStreamReader streamReader) {, +		return new StaxSource(streamReader);, +	}, +	 *, +	 * <p>If JAXP 1.4 is available, this method returns a {@link StAXSource}; otherwise it returns a, +	 * custom StAX Source., +	 * @return a source wrapping the {@code streamReader}, +	 * @see #createCustomStaxSource(XMLStreamReader), +			return createCustomStaxSource(streamReader);, +	 * Create a custom, non-JAXP 1.4 StAX {@link Source} for the given {@link XMLEventReader}., +	 *, +	 * @return a source wrapping the {@code eventReader}, +	 */, +	public static Source createCustomStaxSource(XMLEventReader eventReader) {, +		return new StaxSource(eventReader);, +	}, +, +	/**, +	 * Create a StAX {@link Source} for the given {@link XMLEventReader}., +	 *, +	 * <p>If JAXP 1.4 is available, this method returns a {@link StAXSource}; otherwise it returns a, +	 * custom StAX Source., +	 * @param eventReader the StAX event reader, +	 * @return a source wrapping the {@code eventReader}, +	 * @see #createCustomStaxSource(XMLEventReader), +			return createCustomStaxSource(eventReader);, +	 * Indicate whether the given {@link Source} is a StAX Source., +	 * @return {@code true} if {@code source} is a custom StAX source or JAXP, +	 * 1.4 {@link StAXSource}; {@code false} otherwise., +	// Stax Result, +, +	/**, +	 * Create a custom, non-JAXP 1.4 StAX {@link Result} for the given {@link XMLStreamWriter}., +	 *, +	 * @param streamWriter the StAX stream writer, +	 * @return a source wrapping the {@code streamWriter}, +	 */, +	public static Result createCustomStaxResult(XMLStreamWriter streamWriter) {, +		return new StaxResult(streamWriter);, +	}, +, +	 *, +	 * <p>If JAXP 1.4 is available, this method returns a {@link StAXResult}; otherwise it returns a, +	 * custom StAX Result., +	 * @return a result wrapping the {@code streamWriter}, +	 * @see #createCustomStaxResult(XMLStreamWriter), +			return createCustomStaxResult(streamWriter);, +	 * Create a custom, non-JAXP 1.4 StAX {@link Result} for the given {@link XMLEventWriter}., +	 *, +	 * @return a source wrapping the {@code eventWriter}, +	 */, +	public static Result createCustomStaxResult(XMLEventWriter eventWriter) {, +		return new StaxResult(eventWriter);, +	}, +, +	/**, +	 * Create a StAX {@link Result} for the given {@link XMLEventWriter}., +	 *, +	 * <p>If JAXP 1.4 is available, this method returns a {@link StAXResult}; otherwise it returns a, +	 * custom StAX Result., +	 * @param eventWriter the StAX event writer, +	 * @return a result wrapping {@code streamReader}, +	 * @see #createCustomStaxResult(XMLEventWriter), +			return createCustomStaxResult(eventWriter);, +	 * @return {@code true} if {@code result} is a custom Stax Result or JAXP, +	 * 1.4 {@link StAXResult}; {@code false} otherwise., +	 * Return the {@link XMLStreamReader} for the given StAX Source., +	 * @param source a {@linkplain #createCustomStaxSource(XMLStreamReader) custom StAX Source} or, +	 * JAXP 1.4 {@link StAXSource}, +	 * @return the {@link XMLStreamReader}, +	 * @throws IllegalArgumentException if {@code source} is neither a custom StAX Source, +	 * nor JAXP 1.4 {@link StAXSource}, +	 * Return the {@link XMLEventReader} for the given StAX Source., +	 * @param source a {@linkplain #createCustomStaxSource(XMLEventReader) custom StAX Source} or, +	 * JAXP 1.4 {@link StAXSource}, +	 * @return the {@link XMLEventReader}, +	 * @throws IllegalArgumentException if {@code source} is neither a custom StAX Source, +	 * nor a JAXP 1.4 {@link StAXSource}, +	 * Return the {@link XMLStreamWriter} for the given StAX Result., +	 * @param result a {@linkplain #createCustomStaxResult(XMLStreamWriter) custom StAX Result} or, +	 * JAXP 1.4 {@link StAXResult}, +	 * @return the {@link XMLStreamReader}, +	 * @throws IllegalArgumentException if {@code source} is neither a custom StAX Result, +	 * nor a JAXP 1.4 {@link StAXResult}, +	 * @param result a {@linkplain #createCustomStaxResult(XMLEventWriter)  custom StAX Result} or, +	 * JAXP 1.4 {@link StAXResult}, +	 * @return the {@link XMLStreamReader}, +	 * @throws IllegalArgumentException if {@code source} is neither a custom StAX Result]