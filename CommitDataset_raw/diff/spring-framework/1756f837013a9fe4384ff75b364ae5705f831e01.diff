[+++ b/spring-beans/src/main/java/org/springframework/beans/factory/support/AbstractBeanFactory.java, +import java.util.concurrent.CopyOnWriteArrayList;, +	private final List<StringValueResolver> embeddedValueResolvers = new CopyOnWriteArrayList<>();, +	private final List<BeanPostProcessor> beanPostProcessors = new CopyOnWriteArrayList<>();, +	private volatile boolean hasInstantiationAwareBeanPostProcessors;, +	private volatile boolean hasDestructionAwareBeanPostProcessors;, +		// Remove from old position, if any, +		// Track whether it is instantiation/destruction aware, +		// Add to end of list, +		this.beanPostProcessors.add(beanPostProcessor);]