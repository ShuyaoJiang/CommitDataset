[+++ b/spring-websocket/src/main/java/org/springframework/web/socket/sockjs/client/UndertowXhrTransport.java, + * Compatible with Undertow 1.0 to 1.3, as of Spring Framework 4.2.2., +	private static final boolean undertow13Present = ClassUtils.isPresent(, +			"io.undertow.connector.ByteBufferPool", UndertowXhrTransport.class.getClassLoader());, +, +		this.undertowBufferSupport =, +				(undertow13Present ? new Undertow13BufferSupport() : new UndertowXnioBufferSupport());, +, +, +	private class UndertowXnioBufferSupport implements UndertowBufferSupport {, +		public UndertowXnioBufferSupport() {, +]