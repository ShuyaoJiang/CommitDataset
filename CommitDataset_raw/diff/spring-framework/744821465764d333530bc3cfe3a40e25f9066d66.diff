[+++ b/org.springframework.beans/src/main/java/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.java, +import org.springframework.beans.factory.InitializingBean;, +import org.springframework.util.PropertyPlaceholderHelper;, +import org.springframework.util.PropertyPlaceholderHelper.PlaceholderResolver;, +				catch (Exception ex) {, +		private final PropertyPlaceholderHelper helper;, +, +		private final PlaceholderResolver resolver;, +			this.helper = new PropertyPlaceholderHelper(placeholderPrefix, placeholderSuffix, ignoreUnresolvablePlaceholders);, +			this.resolver = new PropertyPlaceholderConfigurerResolver(props);, +			String value = this.helper.replacePlaceholders(strVal, this.resolver);, +	private class PropertyPlaceholderConfigurerResolver implements PlaceholderResolver {, +, +		private final Properties props;, +, +		private PropertyPlaceholderConfigurerResolver(Properties props) {, +			this.props = props;, +		}, +, +		public String resolvePlaceholder(String placeholderName) {, +			return PropertyPlaceholderConfigurer.this.resolvePlaceholder(placeholderName, props, systemPropertiesMode);, +		}, +	}, +]