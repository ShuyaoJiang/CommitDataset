[+++ b/spring-jdbc/src/main/java/org/springframework/jdbc/core/PreparedStatementCreatorFactory.java, + * Copyright 2002-2013 the original author or authors., +	public PreparedStatementSetter newPreparedStatementSetter(List<?> params) {, +			PreparedStatement ps;, +				catch (AbstractMethodError err) {, +							"Your JDBC driver is not compliant with JDBC 3.0 - " +, +							"it does not support retrieval of auto-generated keys", err);, +				SqlParameter declaredParameter;, +++ b/spring-jdbc/src/main/java/org/springframework/jdbc/core/PreparedStatementCreatorFactory.java, + * Copyright 2002-2013 the original author or authors., +	public PreparedStatementSetter newPreparedStatementSetter(List<?> params) {, +			PreparedStatement ps;, +				catch (AbstractMethodError err) {, +							"Your JDBC driver is not compliant with JDBC 3.0 - " +, +							"it does not support retrieval of auto-generated keys", err);, +				SqlParameter declaredParameter;, +++ b/spring-jdbc/src/main/java/org/springframework/jdbc/core/StatementCreatorUtils.java, + * Copyright 2002-2013 the original author or authors., +import java.sql.ParameterMetaData;, +				ParameterMetaData pmd = null;, +				try {, +					pmd = ps.getParameterMetaData();, +				}, +				catch (Throwable ex) {, +					// JDBC driver not compliant with JDBC 3.0, +					// -> proceed with database-specific checks, +				}, +				if (pmd != null) {, +					sqlType = pmd.getParameterType(paramIndex);, +				}, +				else {, +			}]