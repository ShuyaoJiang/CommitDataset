[+++ b/org.springframework.jdbc/src/main/java/org/springframework/jdbc/datasource/init/ResourceDatabasePopulator.java, + * Copyright 2002-2010 the original author or authors., + * @author Juergen Hoeller, +	private static String DEFAULT_COMMENT_PREFIX = "--";, +	private String commentPrefix = DEFAULT_COMMENT_PREFIX;, +, +	 * Set the line prefix that identifies comments in the SQL script., +	 * Default is "--"., +	 */, +	public void setCommentPrefix(String commentPrefix) {, +		this.commentPrefix = commentPrefix;, +	}, +, +	/**, +	 * <p>This is useful for non-embedded databases whose SQL dialect does not support an, +	 * <code>IF EXISTS</code> clause in a <code>DROP</code>. The default is false so that if the, +	 * populator runs accidentally, it will fail fast when the script starts with a <code>DROP</code>., +	 * @param connection the JDBC Connection with which to perform JDBC operations, +	 * Read a script from the given resource and build a String containing the lines., +	 * @param resource the resource to be read, +	 * @throws IOException in case of I/O errors, +	private String readScript(EncodedResource resource) throws IOException {, +			if (StringUtils.hasText(currentStatement) &&, +					(this.commentPrefix != null && !currentStatement.startsWith(this.commentPrefix))) {, +	private boolean containsSqlScriptDelimiters(String script, char delim) {, +	private void splitSqlScript(String script, char delim, List<String> statements) {]