[+++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/config/ViewControllerBeanDefinitionParser.java, + * @author Christian Dupuis, +	private static final String HANDLER_ADAPTER_BEAN_NAME = , +		"org.springframework.web.servlet.config.internalHandlerAdapter";, +	private static final String HANDLER_MAPPING_BEAN_NAME = , +		"org.springframework.web.servlet.config.internalHandlerMapping";, +, +		// Register handler adapter, +		registerHanderAdapter(element, parserContext, source);, +		, +		// Register handler mapping, +		BeanDefinition handlerMappingDef = registerHandlerMapping(element, parserContext, source);, +		, +		// Create view controller bean definition, +	private void registerHanderAdapter(Element element, ParserContext parserContext, Object source) {, +		if (!parserContext.getRegistry().containsBeanDefinition(HANDLER_ADAPTER_BEAN_NAME)) {, +			RootBeanDefinition handlerAdapterDef = new RootBeanDefinition(SimpleControllerHandlerAdapter.class);, +			handlerAdapterDef.setSource(source);, +			handlerAdapterDef.setRole(BeanDefinition.ROLE_INFRASTRUCTURE);, +			parserContext.getRegistry().registerBeanDefinition(HANDLER_ADAPTER_BEAN_NAME, handlerAdapterDef);, +			parserContext.registerComponent(new BeanComponentDefinition(handlerAdapterDef, HANDLER_ADAPTER_BEAN_NAME));, +		}, +	}, +	, +	private BeanDefinition registerHandlerMapping(Element element, ParserContext parserContext, Object source) {, +		if (!parserContext.getRegistry().containsBeanDefinition(HANDLER_MAPPING_BEAN_NAME)) {, +			RootBeanDefinition handlerMappingDef = new RootBeanDefinition(SimpleUrlHandlerMapping.class);, +			handlerMappingDef.setSource(source);, +			handlerMappingDef.getPropertyValues().add("order", "1");, +			handlerMappingDef.setRole(BeanDefinition.ROLE_INFRASTRUCTURE);, +			parserContext.getRegistry().registerBeanDefinition(HANDLER_MAPPING_BEAN_NAME, handlerMappingDef);, +			parserContext.registerComponent(new BeanComponentDefinition(handlerMappingDef, HANDLER_MAPPING_BEAN_NAME));, +			return handlerMappingDef;, +		}, +		else {, +			return parserContext.getRegistry().getBeanDefinition(HANDLER_MAPPING_BEAN_NAME);, +		}, +	}]