[+++ b/org.springframework.web/src/main/java/org/springframework/web/util/WebUtils.java, +		String filename = extractFullFilenameFromUrlPath(urlPath);, +		int dotIndex = filename.lastIndexOf('.');, +		if (dotIndex != -1) {, +			filename = filename.substring(0, dotIndex);, +		}, +		return filename;, +	}, +	/**, +	 * Extract the full URL filename (including file extension) from the given request URL path., +	 * Correctly resolves nested paths such as "/products/view.html" as well., +	 * @param urlPath the request URL path (e.g. "/products/index.html"), +	 * @return the extracted URI filename (e.g. "index.html"), +	 */, +	public static String extractFullFilenameFromUrlPath(String urlPath) {, +		return urlPath.substring(begin, end);, +++ b/org.springframework.web/src/main/java/org/springframework/web/util/WebUtils.java, +		String filename = extractFullFilenameFromUrlPath(urlPath);, +		int dotIndex = filename.lastIndexOf('.');, +		if (dotIndex != -1) {, +			filename = filename.substring(0, dotIndex);, +		}, +		return filename;, +	}, +	/**, +	 * Extract the full URL filename (including file extension) from the given request URL path., +	 * Correctly resolves nested paths such as "/products/view.html" as well., +	 * @param urlPath the request URL path (e.g. "/products/index.html"), +	 * @return the extracted URI filename (e.g. "index.html"), +	 */, +	public static String extractFullFilenameFromUrlPath(String urlPath) {, +		return urlPath.substring(begin, end);, +++ b/org.springframework.web/src/test/java/org/springframework/web/util/WebUtilsTests.java, +import static org.junit.Assert.assertEquals;, +import static org.junit.Assert.assertNull;, +import org.junit.Test;, + * @author Arjen Poutsma, +public class WebUtilsTests {, +	@Test, +	public void findParameterValue() {, +	@Test, +	public void extractFilenameFromUrlPath() {, +	@Test, +	public void extractFullFilenameFromUrlPath() {, +		assertEquals("index.html", WebUtils.extractFullFilenameFromUrlPath("index.html"));, +		assertEquals("index.html", WebUtils.extractFullFilenameFromUrlPath("/index.html"));, +		assertEquals("view.html", WebUtils.extractFullFilenameFromUrlPath("/products/view.html"));, +		assertEquals("view.html", WebUtils.extractFullFilenameFromUrlPath("/products/view.html?param=a"));, +		assertEquals("view.html", WebUtils.extractFullFilenameFromUrlPath("/products/view.html?param=/path/a"));, +		assertEquals("view.html", WebUtils.extractFullFilenameFromUrlPath("/products/view.html?param=/path/a.do"));, +	}, +]