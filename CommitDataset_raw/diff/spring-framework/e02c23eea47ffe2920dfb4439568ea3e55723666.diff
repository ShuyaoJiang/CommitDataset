[+++ b/spring-jms/src/main/java/org/springframework/jms/core/JmsMessagingTemplate.java, +import javax.jms.ConnectionFactory;, + * @author Juergen Hoeller, +	 * Requires {@link #setConnectionFactory} or {@link #setJmsTemplate} to be called., +	 * Create a {@code JmsMessagingTemplate} instance with the JMS {@link ConnectionFactory}, +	 * to use, implicitly building a {@link JmsTemplate} based on it., +	 * @since 4.1.2, +	 */, +	public JmsMessagingTemplate(ConnectionFactory connectionFactory) {, +		this.jmsTemplate = new JmsTemplate(connectionFactory);, +	}, +, +	/**, +	 * Create a {@code JmsMessagingTemplate} instance with the {@link JmsTemplate} to use., +	 * Set the ConnectionFactory to use for the underlying {@link JmsTemplate}., +	 * @since 4.1.2, +	 */, +	public void setConnectionFactory(ConnectionFactory connectionFactory) {, +		if (this.jmsTemplate != null) {, +			this.jmsTemplate.setConnectionFactory(connectionFactory);, +		}, +		else {, +			this.jmsTemplate = new JmsTemplate(connectionFactory);, +		}, +	}, +, +	/**, +	 * Return the ConnectionFactory that the underlying {@link JmsTemplate} uses., +	 * @since 4.1.2, +	 */, +	public ConnectionFactory getConnectionFactory() {, +		return (this.jmsTemplate != null ? this.jmsTemplate.getConnectionFactory() : null);, +	}, +, +	/**, +		Assert.notNull(jmsMessageConverter, "MessageConverter must not be null");, +		Assert.notNull(getJmsTemplate(), "Property 'connectionFactory' or 'jmsTemplate' is required");]