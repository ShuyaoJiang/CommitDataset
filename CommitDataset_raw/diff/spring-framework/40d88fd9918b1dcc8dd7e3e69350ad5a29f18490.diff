[+++ b/org.springframework.context/src/main/java/org/springframework/cache/config/AnnotationDrivenCacheBeanDefinitionParser.java, +				CacheNamespaceHandler.parseKeyGenerator(element, interceptorDef);, +++ b/org.springframework.context/src/main/java/org/springframework/cache/config/AnnotationDrivenCacheBeanDefinitionParser.java, +				CacheNamespaceHandler.parseKeyGenerator(element, interceptorDef);, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AbstractAnnotationTests.java, +++ b/org.springframework.context/src/main/java/org/springframework/cache/config/AnnotationDrivenCacheBeanDefinitionParser.java, +				CacheNamespaceHandler.parseKeyGenerator(element, interceptorDef);, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AbstractAnnotationTests.java, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AnnotationNamespaceDrivenTests.java, +import junit.framework.Assert;, +, +import org.junit.Test;, +import org.springframework.cache.interceptor.CacheInterceptor;, +, +	@Test, +	public void testKeyStrategy() throws Exception {, +		CacheInterceptor ci = ctx.getBean("org.springframework.cache.interceptor.CacheInterceptor#0",, +				CacheInterceptor.class);, +		Assert.assertSame(ctx.getBean("keyGenerator"), ci.getKeyGenerator());, +	}, +++ b/org.springframework.context/src/main/java/org/springframework/cache/config/AnnotationDrivenCacheBeanDefinitionParser.java, +				CacheNamespaceHandler.parseKeyGenerator(element, interceptorDef);, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AbstractAnnotationTests.java, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AnnotationNamespaceDrivenTests.java, +import junit.framework.Assert;, +, +import org.junit.Test;, +import org.springframework.cache.interceptor.CacheInterceptor;, +, +	@Test, +	public void testKeyStrategy() throws Exception {, +		CacheInterceptor ci = ctx.getBean("org.springframework.cache.interceptor.CacheInterceptor#0",, +				CacheInterceptor.class);, +		Assert.assertSame(ctx.getBean("keyGenerator"), ci.getKeyGenerator());, +	}, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AnnotationTests.java, +, +++ b/org.springframework.context/src/main/java/org/springframework/cache/config/AnnotationDrivenCacheBeanDefinitionParser.java, +				CacheNamespaceHandler.parseKeyGenerator(element, interceptorDef);, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AbstractAnnotationTests.java, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AnnotationNamespaceDrivenTests.java, +import junit.framework.Assert;, +, +import org.junit.Test;, +import org.springframework.cache.interceptor.CacheInterceptor;, +, +	@Test, +	public void testKeyStrategy() throws Exception {, +		CacheInterceptor ci = ctx.getBean("org.springframework.cache.interceptor.CacheInterceptor#0",, +				CacheInterceptor.class);, +		Assert.assertSame(ctx.getBean("keyGenerator"), ci.getKeyGenerator());, +	}, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AnnotationTests.java, +, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/CacheAdviceNamespaceTests.java, +import org.junit.Assert;, +import org.junit.Test;, +import org.springframework.cache.interceptor.CacheInterceptor;, +, +, +	@Test, +	public void testKeyStrategy() throws Exception {, +		CacheInterceptor bean = ctx.getBean("cacheAdviceClass", CacheInterceptor.class);, +		Assert.assertSame(ctx.getBean("keyGenerator"), bean.getKeyGenerator());, +	}, +++ b/org.springframework.context/src/main/java/org/springframework/cache/config/AnnotationDrivenCacheBeanDefinitionParser.java, +				CacheNamespaceHandler.parseKeyGenerator(element, interceptorDef);, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AbstractAnnotationTests.java, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AnnotationNamespaceDrivenTests.java, +import junit.framework.Assert;, +, +import org.junit.Test;, +import org.springframework.cache.interceptor.CacheInterceptor;, +, +	@Test, +	public void testKeyStrategy() throws Exception {, +		CacheInterceptor ci = ctx.getBean("org.springframework.cache.interceptor.CacheInterceptor#0",, +				CacheInterceptor.class);, +		Assert.assertSame(ctx.getBean("keyGenerator"), ci.getKeyGenerator());, +	}, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AnnotationTests.java, +, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/CacheAdviceNamespaceTests.java, +import org.junit.Assert;, +import org.junit.Test;, +import org.springframework.cache.interceptor.CacheInterceptor;, +, +, +	@Test, +	public void testKeyStrategy() throws Exception {, +		CacheInterceptor bean = ctx.getBean("cacheAdviceClass", CacheInterceptor.class);, +		Assert.assertSame(ctx.getBean("keyGenerator"), bean.getKeyGenerator());, +	}, +++ b/org.springframework.context/src/test/resources/org/springframework/cache/config/annotationDrivenCacheConfig.xml, +	, +	<bean id="keyGenerator" class="org.springframework.cache.config.SomeKeyGenerator"/>, +++ b/org.springframework.context/src/main/java/org/springframework/cache/config/AnnotationDrivenCacheBeanDefinitionParser.java, +				CacheNamespaceHandler.parseKeyGenerator(element, interceptorDef);, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AbstractAnnotationTests.java, +++ b/org.springframework.context/src/test/java/org/springframework/cache/config/AnnotationNamespaceDrivenTests.java]