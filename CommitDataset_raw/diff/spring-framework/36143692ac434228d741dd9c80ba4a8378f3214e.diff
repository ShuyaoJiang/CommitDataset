[+++ b/spring-orm/src/main/java/org/springframework/orm/hibernate5/LocalSessionFactoryBuilder.java, +		getProperties().put(AvailableSettings.CURRENT_SESSION_CONTEXT_CLASS, SpringSessionContext.class.getName());, +			getProperties().put(AvailableSettings.DATASOURCE, dataSource);, +++ b/spring-orm/src/main/java/org/springframework/orm/hibernate5/LocalSessionFactoryBuilder.java, +		getProperties().put(AvailableSettings.CURRENT_SESSION_CONTEXT_CLASS, SpringSessionContext.class.getName());, +			getProperties().put(AvailableSettings.DATASOURCE, dataSource);, +++ b/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/HibernateJpaVendorAdapter.java, +			jpaProperties.put(AvailableSettings.DIALECT, getDatabasePlatform());, +				jpaProperties.put(AvailableSettings.DIALECT, databaseDialectClass.getName());, +			jpaProperties.put(AvailableSettings.HBM2DDL_AUTO, "update");, +			jpaProperties.put(AvailableSettings.SHOW_SQL, "true");]