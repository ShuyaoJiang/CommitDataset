[+++ b/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/HibernateJpaSessionFactoryBean.java, + * Copyright 2002-2014 the original author or authors., +import java.lang.reflect.Method;, +import org.springframework.util.ReflectionUtils;, +		Assert.state(emf != null, "EntityManagerFactory must not be null");, +		try {, +			Method getSessionFactory = emf.getClass().getMethod("getSessionFactory");, +			return (SessionFactory) ReflectionUtils.invokeMethod(getSessionFactory, emf);, +		}, +		catch (NoSuchMethodException ex) {, +			throw new IllegalStateException("No compatible Hibernate EntityManagerFactory found: " + ex);, +		}]