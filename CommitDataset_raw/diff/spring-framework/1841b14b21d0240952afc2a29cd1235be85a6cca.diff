[+++ b/org.springframework.test/src/main/java/org/springframework/mock/web/MockMultipartHttpServletRequest.java, + * Copyright 2002-2010 the original author or authors., +import java.util.Map;, +import org.springframework.util.MultiValueMap;, +	private final MultiValueMap<String, MultipartFile> multipartFiles =, +			new LinkedMultiValueMap<String, MultipartFile>();, +		return this.multipartFiles.keySet().iterator();, +		return this.multipartFiles.toSingleValueMap();, +		return new LinkedMultiValueMap<String, MultipartFile>(this.multipartFiles);, +++ b/org.springframework.test/src/main/java/org/springframework/mock/web/MockMultipartHttpServletRequest.java, + * Copyright 2002-2010 the original author or authors., +import java.util.Map;, +import org.springframework.util.MultiValueMap;, +	private final MultiValueMap<String, MultipartFile> multipartFiles =, +			new LinkedMultiValueMap<String, MultipartFile>();, +		return this.multipartFiles.keySet().iterator();, +		return this.multipartFiles.toSingleValueMap();, +		return new LinkedMultiValueMap<String, MultipartFile>(this.multipartFiles);, +++ b/org.springframework.test/src/main/java/org/springframework/mock/web/MockServletContext.java, + * Copyright 2002-2010 the original author or authors., +	private int minorVersion = 5;, +, +	public void setMinorVersion(int minorVersion) {, +		if (minorVersion < 3 || minorVersion > 5) {, +			throw new IllegalArgumentException("Only Servlet minor versions between 3 and 5 are supported");, +		}, +		this.minorVersion = minorVersion;, +	}, +, +, +++ b/org.springframework.test/src/main/java/org/springframework/mock/web/MockMultipartHttpServletRequest.java, + * Copyright 2002-2010 the original author or authors., +import java.util.Map;, +import org.springframework.util.MultiValueMap;, +	private final MultiValueMap<String, MultipartFile> multipartFiles =, +			new LinkedMultiValueMap<String, MultipartFile>();, +		return this.multipartFiles.keySet().iterator();, +		return this.multipartFiles.toSingleValueMap();, +		return new LinkedMultiValueMap<String, MultipartFile>(this.multipartFiles);, +++ b/org.springframework.test/src/main/java/org/springframework/mock/web/MockServletContext.java, + * Copyright 2002-2010 the original author or authors., +	private int minorVersion = 5;, +, +	public void setMinorVersion(int minorVersion) {, +		if (minorVersion < 3 || minorVersion > 5) {, +			throw new IllegalArgumentException("Only Servlet minor versions between 3 and 5 are supported");, +		}, +		this.minorVersion = minorVersion;, +	}, +, +, +++ b/org.springframework.test/src/main/java/org/springframework/mock/web/portlet/MockMultipartActionRequest.java, + * Copyright 2002-2010 the original author or authors., +import java.util.Map;, +import org.springframework.util.MultiValueMap;, +	private final MultiValueMap<String, MultipartFile> multipartFiles =, +			new LinkedMultiValueMap<String, MultipartFile>();, +		return this.multipartFiles.keySet().iterator();, +		return this.multipartFiles.toSingleValueMap();, +		return new LinkedMultiValueMap<String, MultipartFile>(this.multipartFiles);, +++ b/org.springframework.test/src/main/java/org/springframework/mock/web/MockMultipartHttpServletRequest.java, + * Copyright 2002-2010 the original author or authors., +import java.util.Map;, +import org.springframework.util.MultiValueMap;, +	private final MultiValueMap<String, MultipartFile> multipartFiles =, +			new LinkedMultiValueMap<String, MultipartFile>();, +		return this.multipartFiles.keySet().iterator();, +		return this.multipartFiles.toSingleValueMap();, +		return new LinkedMultiValueMap<String, MultipartFile>(this.multipartFiles);, +++ b/org.springframework.test/src/main/java/org/springframework/mock/web/MockServletContext.java, + * Copyright 2002-2010 the original author or authors., +	private int minorVersion = 5;, +, +	public void setMinorVersion(int minorVersion) {, +		if (minorVersion < 3 || minorVersion > 5) {, +			throw new IllegalArgumentException("Only Servlet minor versions between 3 and 5 are supported");, +		}, +		this.minorVersion = minorVersion;, +	}, +, +, +++ b/org.springframework.test/src/main/java/org/springframework/mock/web/portlet/MockMultipartActionRequest.java, + * Copyright 2002-2010 the original author or authors., +import java.util.Map;, +import org.springframework.util.MultiValueMap;, +	private final MultiValueMap<String, MultipartFile> multipartFiles =, +			new LinkedMultiValueMap<String, MultipartFile>();, +		return this.multipartFiles.keySet().iterator();, +		return this.multipartFiles.toSingleValueMap();, +		return new LinkedMultiValueMap<String, MultipartFile>(this.multipartFiles);, +++ b/org.springframework.web.portlet/src/test/java/org/springframework/mock/web/portlet/MockMultipartActionRequest.java, + * Copyright 2002-2010 the original author or authors., +import java.util.Map;, +import org.springframework.util.MultiValueMap;, +	private final MultiValueMap<String, MultipartFile> multipartFiles =, +			new LinkedMultiValueMap<String, MultipartFile>();, +		return this.multipartFiles.keySet().iterator();, +		return this.multipartFiles.toSingleValueMap();, +		return new LinkedMultiValueMap<String, MultipartFile>(this.multipartFiles);, +]