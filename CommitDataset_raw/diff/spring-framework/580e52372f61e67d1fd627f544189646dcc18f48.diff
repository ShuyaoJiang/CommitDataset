[+++ b/build.gradle, +	ext.snakeYamlVersion     = "1.13", +		optional("org.yaml:snakeyaml:${snakeYamlVersion}"), +++ b/build.gradle, +	ext.snakeYamlVersion     = "1.13", +		optional("org.yaml:snakeyaml:${snakeYamlVersion}"), +++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/YamlMapFactoryBean.java, +/*, + * Copyright 2002-2014 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +, +package org.springframework.beans.factory.config;, +, +import java.util.LinkedHashMap;, +import java.util.Map;, +import java.util.Map.Entry;, +import java.util.Properties;, +, +import org.springframework.beans.factory.FactoryBean;, +, +/**, + * Factory for Map that reads from a YAML source. YAML is a nice human-readable, + * format for configuration, and it has some useful hierarchical properties. It's, + * more or less a superset of JSON, so it has a lot of similar features. If, + * multiple resources are provided the later ones will override entries in the, + * earlier ones hierarchically - that is all entries with the same nested key of, + * type Map at any depth are merged. For example:, + *, + * <pre class="code">, + * foo:, + *   bar:, + *    one: two, + * three: four, + *, + * </pre>, + *, + * plus (later in the list), + *, + * <pre class="code">, + * foo:, + *   bar:, + *    one: 2, + * five: six, + *, + * </pre>, + *, + * results in an effective input of, + *, + * <pre class="code">, + * foo:, + *   bar:, + *    one: 2, + * three: four, + * five: six, + *, + * </pre>, + *, + * Note that the value of "foo" in the first document is not simply replaced, + * with the value in the second, but its nested values are merged., + *, + * @author Dave Syer, + * @since 4.1, + */, +public class YamlMapFactoryBean extends YamlProcessor implements, +		FactoryBean<Map<String, Object>> {, +, +	private boolean singleton = true;, +, +	private Map<String, Object> singletonInstance;, +, +, +	/**, +	 * Set whether a shared 'singleton' Map instance should be, +	 * created, or rather a new Map instance on each request., +	 * <p>Default is "true" (a shared singleton)., +	 */, +	public final void setSingleton(boolean singleton) {, +		this.singleton = singleton;, +	}, +, +	@Override, +	public final boolean isSingleton() {, +		return this.singleton;, +	}, +, +, +	@Override, +	public Map<String, Object> getObject() {]