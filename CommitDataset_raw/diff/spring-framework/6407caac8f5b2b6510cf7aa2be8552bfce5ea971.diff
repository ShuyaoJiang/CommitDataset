[+++ b/build.gradle, +		optional("org.eclipse.jetty:jetty-webapp:9.0.4.v20130625") {, +		optional("org.eclipse.jetty.websocket:websocket-server:9.0.4.v20130625"), +		optional("org.eclipse.jetty.websocket:websocket-client:9.0.4.v20130625"), +++ b/build.gradle, +		optional("org.eclipse.jetty:jetty-webapp:9.0.4.v20130625") {, +		optional("org.eclipse.jetty.websocket:websocket-server:9.0.4.v20130625"), +		optional("org.eclipse.jetty.websocket:websocket-client:9.0.4.v20130625"), +++ b/spring-websocket/src/main/java/org/springframework/web/socket/server/support/JettyRequestUpgradeStrategy.java, +import org.eclipse.jetty.websocket.servlet.ServletUpgradeRequest;, +				Assert.isInstanceOf(ServletUpgradeRequest.class, request);, +				return ((ServletUpgradeRequest) request).getServletAttributes().get(WEBSOCKET_LISTENER_ATTR_NAME);]