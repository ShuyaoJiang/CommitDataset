[+++ b/spring-web/src/main/java/org/springframework/web/util/HierarchicalUriComponents.java, + * Copyright 2002-2016 the original author or authors., +		variables = new QueryUriTemplateVariables(variables);, +	private static class QueryUriTemplateVariables implements UriTemplateVariables {, +, +		private final UriTemplateVariables delegate;, +, +		public QueryUriTemplateVariables(UriTemplateVariables delegate) {, +			this.delegate = delegate;, +		}, +, +		@Override, +		public Object getValue(String name) {, +			Object value = this.delegate.getValue(name);, +			if (ObjectUtils.isArray(value)) {, +				value = StringUtils.arrayToCommaDelimitedString(ObjectUtils.toObjectArray(value));, +			}, +			return value;, +		}, +	}, +, +++ b/spring-web/src/main/java/org/springframework/web/util/HierarchicalUriComponents.java, + * Copyright 2002-2016 the original author or authors., +		variables = new QueryUriTemplateVariables(variables);, +	private static class QueryUriTemplateVariables implements UriTemplateVariables {, +, +		private final UriTemplateVariables delegate;, +, +		public QueryUriTemplateVariables(UriTemplateVariables delegate) {, +			this.delegate = delegate;, +		}, +, +		@Override, +		public Object getValue(String name) {, +			Object value = this.delegate.getValue(name);, +			if (ObjectUtils.isArray(value)) {, +				value = StringUtils.arrayToCommaDelimitedString(ObjectUtils.toObjectArray(value));, +			}, +			return value;, +		}, +	}, +, +++ b/spring-web/src/test/java/org/springframework/web/util/UriTemplateTests.java, + * Copyright 2002-2016 the original author or authors., + * @author Rossen Stoyanchev, +	// SPR-9712, +, +	@Test @SuppressWarnings("PrimitiveArrayArgumentToVariableArgMethod"), +	public void expandVarArgsWithArrayValue() throws Exception {, +		UriTemplate template = new UriTemplate("/sum?numbers={numbers}");, +		URI result = template.expand(new int[] {1, 2, 3});, +		assertEquals(new URI("/sum?numbers=1,2,3"), result);, +	}, +]