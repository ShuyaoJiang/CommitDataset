[+++ b/spring-test-mvc/src/main/java/org/springframework/test/web/mock/servlet/setup/StandaloneMockMvcBuilder.java, +import org.springframework.web.accept.ContentNegotiationManager;, +import org.springframework.web.servlet.config.annotation.AsyncSupportConfigurer;, +	private ContentNegotiationManager contentNegotiationManager;, +, +	private Long asyncRequestTimeout;, +, +	 * Set a ContentNegotiationManager., +	 */, +	protected void setContentNegotiationManager(ContentNegotiationManager contentNegotiationManager) {, +		this.contentNegotiationManager = contentNegotiationManager;, +	}, +, +	/**, +	 * Specify the timeout value for async execution. In Spring MVC Test, this, +	 * value is used to determine how to long to wait for async execution to, +	 * complete so that a test can verify the results synchronously., +	 * @param timeout the timeout value in milliseconds, +	 */, +	public void setAsyncRequestTimeout(long timeout) {, +		this.asyncRequestTimeout = timeout;, +	}, +, +	/**, +		public ContentNegotiationManager mvcContentNegotiationManager() {, +			return (contentNegotiationManager != null) ? contentNegotiationManager : super.mvcContentNegotiationManager();, +		}, +, +		@Override, +		public void configureAsyncSupport(AsyncSupportConfigurer configurer) {, +			if (asyncRequestTimeout != null) {, +				configurer.setDefaultTimeout(asyncRequestTimeout);, +			}, +		}, +, +		@Override]