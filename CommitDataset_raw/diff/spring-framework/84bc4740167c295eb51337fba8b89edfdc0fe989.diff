[+++ b/build.gradle, +		"http://fasterxml.github.com/jackson-core/javadoc/2.2.2/",, +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("org.apache.httpcomponents:httpclient:4.3.1"), +		optional("org.apache.httpcomponents:httpasyncclient:4.0"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		testCompile("org.apache.httpcomponents:httpclient:4.3.1"), +		testCompile("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +++ b/build.gradle, +		"http://fasterxml.github.com/jackson-core/javadoc/2.2.2/",, +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("org.apache.httpcomponents:httpclient:4.3.1"), +		optional("org.apache.httpcomponents:httpasyncclient:4.0"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		testCompile("org.apache.httpcomponents:httpclient:4.3.1"), +		testCompile("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +++ b/spring-web/src/main/java/org/springframework/http/client/HttpComponentsAsyncClientHttpRequestFactory.java, +, + * HttpAsyncClient 4.0</a> to create requests., +	public HttpComponentsAsyncClientHttpRequestFactory(, +			CloseableHttpClient httpClient, CloseableHttpAsyncClient httpAsyncClient) {, +, +, +		if (!asyncClient.isRunning()) {, +, +++ b/build.gradle, +		"http://fasterxml.github.com/jackson-core/javadoc/2.2.2/",, +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("org.apache.httpcomponents:httpclient:4.3.1"), +		optional("org.apache.httpcomponents:httpasyncclient:4.0"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		optional("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +		testCompile("org.apache.httpcomponents:httpclient:4.3.1"), +		testCompile("com.fasterxml.jackson.core:jackson-databind:2.2.2"), +++ b/spring-web/src/main/java/org/springframework/http/client/HttpComponentsAsyncClientHttpRequestFactory.java, +, + * HttpAsyncClient 4.0</a> to create requests., +	public HttpComponentsAsyncClientHttpRequestFactory(, +			CloseableHttpClient httpClient, CloseableHttpAsyncClient httpAsyncClient) {, +, +, +		if (!asyncClient.isRunning()) {, +, +++ b/spring-web/src/main/java/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.java, +public class HttpComponentsClientHttpRequestFactory implements ClientHttpRequestFactory, DisposableBean {, +, +	private CloseableHttpClient httpClient;, +, +, +		Assert.state(client != null, "Synchronous execution requires an HttpClient to be set");, +                }, +				else {, +		if (this.bufferRequestBody) {, +        this.httpClient.close();]