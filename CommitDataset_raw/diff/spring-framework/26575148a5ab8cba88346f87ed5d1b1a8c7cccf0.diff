[+++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/condition/RequestMethodsRequestConditionTests.java, +import javax.servlet.http.HttpServletRequest;, +, +import org.springframework.web.bind.annotation.RequestMethod;, +import static org.springframework.web.bind.annotation.RequestMethod.OPTIONS;, +	public void getMatchingCondition() {, +		testMatch(new RequestMethodsRequestCondition(GET), GET);, +		testMatch(new RequestMethodsRequestCondition(GET, POST), GET);, +		testNoMatch(new RequestMethodsRequestCondition(GET), POST);, +	}, +	@Test, +	public void getMatchingConditionWithHttpHead() {, +		testMatch(new RequestMethodsRequestCondition(HEAD), HEAD);, +		testMatch(new RequestMethodsRequestCondition(GET), HEAD);, +		testNoMatch(new RequestMethodsRequestCondition(POST), HEAD);, +	}, +, +	@Test, +	public void getMatchingConditionWithEmptyConditions() {, +		RequestMethodsRequestCondition condition = new RequestMethodsRequestCondition();, +		for (RequestMethod method : RequestMethod.values()) {, +			if (!OPTIONS.equals(method)) {, +				HttpServletRequest request = new MockHttpServletRequest(method.name(), "");, +		}, +		testNoMatch(condition, OPTIONS);, +	public void getMatchingConditionWithCustomMethod() {, +		HttpServletRequest request = new MockHttpServletRequest("PROPFIND", "");, +		assertNotNull(new RequestMethodsRequestCondition().getMatchingCondition(request));, +		assertNull(new RequestMethodsRequestCondition(GET, POST).getMatchingCondition(request));, +, +	private void testMatch(RequestMethodsRequestCondition condition, RequestMethod method) {, +		MockHttpServletRequest request = new MockHttpServletRequest(method.name(), "");, +		RequestMethodsRequestCondition actual = condition.getMatchingCondition(request);, +		assertNotNull(actual);, +		assertEquals(Collections.singleton(method), actual.getContent());, +	}, +, +	private void testNoMatch(RequestMethodsRequestCondition condition, RequestMethod method) {, +		MockHttpServletRequest request = new MockHttpServletRequest(method.name(), "");, +		assertNull(condition.getMatchingCondition(request));, +	}, +]