[+++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/Spr6602Tests-context.xml, +<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +	<bean id="foo" class="org.springframework.context.annotation.Spr6602Tests$Foo">, +	<bean id="barFactory" class="org.springframework.context.annotation.Spr6602Tests$BarFactory" />, +++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/Spr6602Tests-context.xml, +<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +	<bean id="foo" class="org.springframework.context.annotation.Spr6602Tests$Foo">, +	<bean id="barFactory" class="org.springframework.context.annotation.Spr6602Tests$BarFactory" />, +++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/Spr6602Tests.java, +	public static class FooConfig {, +		@Bean, +		public Foo foo() throws Exception {, +		@Bean, +		public BarFactory barFactory() {, +	public static class Foo {, +		final Bar bar;, +		public Foo(Bar bar) {, +			this.bar = bar;, +		}, +	}, +, +	public static class Bar {, +	}, +, +	public static class BarFactory implements FactoryBean<Bar> {, +, +}]