[+++ b/spring-web/src/main/java/org/springframework/web/client/RestTemplate.java, +						logger.debug("Setting request Accept header to " + allSupportedMediaTypes);, +++ b/spring-web/src/main/java/org/springframework/web/client/RestTemplate.java, +						logger.debug("Setting request Accept header to " + allSupportedMediaTypes);, +++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/annotation/RequestPartIntegrationTests.java, +import java.util.Optional;, +		testCreate(baseUrl + "/commons-resolver/test", "Jason");, +		testCreate(baseUrl + "/commons-resolver/test", "Arjen");, +		testCreate(baseUrl + "/standard-resolver/test", "Jason");, +		testCreate(baseUrl + "/standard-resolver/test", "Arjen");, +	@Test  // SPR-13319, +	private void testCreate(String url, String basename) {, +		parts.add("json-data", new HttpEntity<TestData>(new TestData(basename)));, +		parts.add("file-data", new ClassPathResource("logo.jpg", getClass()));, +		assertEquals("http://localhost:8080/test/" + basename + "/logo.jpg", location.toString());, +, +, +, +				@RequestPart("file-data") Optional<MultipartFile> file,, +			String url = "http://localhost:8080/test/" + testData.getName() + "/" + file.get().getOriginalFilename();, +]