[+++ b/build.gradle, +		optional("io.reactivex:rxjava:${rxjavaVersion}"), +		optional("io.reactivex:rxjava-reactive-streams:${rxjavaAdapterVersion}"), +		optional("io.reactivex.rxjava2:rxjava:${rxjava2Version}"), +			exclude group: "commons-logging", module: "commons-logging", +		optional("io.reactivex.rxjava2:rxjava:${rxjava2Version}"), +		optional("org.apache.httpcomponents:httpclient:${httpclientVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		optional("org.apache.httpcomponents:httpasyncclient:${httpasyncVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		compile("org.reactivestreams:reactive-streams"), +		compile("io.projectreactor:reactor-core"), +		optional("org.apache.httpcomponents:httpclient:${httpclientVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		testCompile("org.apache.httpcomponents:httpclient:${httpclientVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		optional("net.sourceforge.htmlunit:htmlunit:2.26") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		optional("org.seleniumhq.selenium:htmlunit-driver:2.26"), +		optional("org.seleniumhq.selenium:selenium-java:3.3.1") {, +		testCompile("org.apache.httpcomponents:httpclient:${httpclientVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +++ b/build.gradle, +		optional("io.reactivex:rxjava:${rxjavaVersion}"), +		optional("io.reactivex:rxjava-reactive-streams:${rxjavaAdapterVersion}"), +		optional("io.reactivex.rxjava2:rxjava:${rxjava2Version}"), +			exclude group: "commons-logging", module: "commons-logging", +		optional("io.reactivex.rxjava2:rxjava:${rxjava2Version}"), +		optional("org.apache.httpcomponents:httpclient:${httpclientVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		optional("org.apache.httpcomponents:httpasyncclient:${httpasyncVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		compile("org.reactivestreams:reactive-streams"), +		compile("io.projectreactor:reactor-core"), +		optional("org.apache.httpcomponents:httpclient:${httpclientVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		testCompile("org.apache.httpcomponents:httpclient:${httpclientVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		optional("net.sourceforge.htmlunit:htmlunit:2.26") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +		optional("org.seleniumhq.selenium:htmlunit-driver:2.26"), +		optional("org.seleniumhq.selenium:selenium-java:3.3.1") {, +		testCompile("org.apache.httpcomponents:httpclient:${httpclientVersion}") {, +			exclude group: "commons-logging", module: "commons-logging", +		}, +++ b/spring-test/src/test/java/org/springframework/test/web/servlet/htmlunit/webdriver/WebConnectionHtmlUnitDriverTests.java, +import java.io.IOException;, +, +import org.openqa.selenium.WebDriverException;, +		when(this.connection.getResponse(any(WebRequest.class))).thenThrow(new IOException(""));, +, +		this.exception.expect(WebDriverException.class);]