[+++ b/spring-context-support/src/test/java/org/springframework/validation/beanvalidation2/SpringValidatorAdapterTests.java, +import java.lang.reflect.Field;, +import java.util.ArrayList;, +import java.util.LinkedHashSet;, +import java.util.LinkedList;, +import java.util.Set;, +	@Test  // SPR-16177, +	public void testWithList() {, +		Parent parent = new Parent();, +		parent.setName("Parent whit list");, +		parent.getChildList().addAll(createChildren(parent));, +, +		BeanPropertyBindingResult errors = new BeanPropertyBindingResult(parent, "parent");, +		validatorAdapter.validate(parent, errors);, +, +		assertTrue(errors.getErrorCount() > 0);, +	}, +, +	@Test  // SPR-16177, +	public void testWithSet() {, +		Parent parent = new Parent();, +		parent.setName("Parent whith set");, +		parent.getChildSet().addAll(createChildren(parent));, +, +		BeanPropertyBindingResult errors = new BeanPropertyBindingResult(parent, "parent");, +		validatorAdapter.validate(parent, errors);, +, +		assertTrue(errors.getErrorCount() > 0);, +	}, +, +	private List<Child> createChildren(Parent parent) {, +		Child child1 = new Child();, +		child1.setName("Child1");, +		child1.setAge(null);, +		child1.setParent(parent);, +, +		Child child2 = new Child();, +		child2.setName(null);, +		child2.setAge(17);, +		child2.setParent(parent);, +, +		return Arrays.asList(child1, child2);, +	}, +, +	public static class Parent {, +, +		private Integer id;, +, +		@NotNull, +		private String name;, +, +		@Valid, +		private Set<Child> childSet = new LinkedHashSet<>();, +, +		@Valid, +		private List<Child> childList = new LinkedList<>();, +, +		public Integer getId() {, +			return id;, +		}, +, +		public void setId(Integer id) {, +			this.id = id;, +		}, +, +		public String getName() {, +			return name;, +		}, +, +		public void setName(String name) {, +			this.name = name;, +		}, +, +		public Set<Child> getChildSet() {, +			return childSet;, +		}, +, +		public void setChildSet(Set<Child> childSet) {, +			this.childSet = childSet;, +		}, +, +		public List<Child> getChildList() {, +			return childList;, +		}, +, +		public void setChildList(List<Child> childList) {, +			this.childList = childList;, +		}, +	}, +, +, +	@AnythingValid, +	public static class Child {, +, +		private Integer id;, +, +		@javax.validation.constraints.NotNull, +		private String name;, +, +		@javax.validation.constraints.NotNull]