[+++ b/spring-websocket/src/test/java/org/springframework/web/socket/AbstractWebSocketIntegrationTests.java, +		this.server.setup();, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/AbstractWebSocketIntegrationTests.java, +		this.server.setup();, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/JettyWebSocketTestServer.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.util.Assert;, +	private Server jettyServer;, +	private int port = -1;, +	@Override, +	public void setup() {, +		Assert.state(this.port != -1, "setup() was never called.");, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/AbstractWebSocketIntegrationTests.java, +		this.server.setup();, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/JettyWebSocketTestServer.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.util.Assert;, +	private Server jettyServer;, +	private int port = -1;, +	@Override, +	public void setup() {, +		Assert.state(this.port != -1, "setup() was never called.");, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/TomcatWebSocketTestServer.java, +import org.springframework.util.Assert;, +	private Tomcat tomcatServer;, +	private int port = -1;, +	@Override, +	public void setup() {, +		Assert.state(this.port != -1, "setup() was never called.");, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/AbstractWebSocketIntegrationTests.java, +		this.server.setup();, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/JettyWebSocketTestServer.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.util.Assert;, +	private Server jettyServer;, +	private int port = -1;, +	@Override, +	public void setup() {, +		Assert.state(this.port != -1, "setup() was never called.");, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/TomcatWebSocketTestServer.java, +import org.springframework.util.Assert;, +	private Tomcat tomcatServer;, +	private int port = -1;, +	@Override, +	public void setup() {, +		Assert.state(this.port != -1, "setup() was never called.");, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/UndertowTestServer.java, +import io.undertow.server.HttpHandler;, +import org.springframework.util.Assert;, +	private int port = -1;, +, +	@Override, +	public void setup() {, +		Assert.state(this.port != -1, "setup() was never called");, +		try {, +			HttpHandler httpHandler = this.manager.start();, +			this.server = Undertow.builder().addHttpListener(this.port, "localhost").setHandler(httpHandler).build();, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/AbstractWebSocketIntegrationTests.java, +		this.server.setup();, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/JettyWebSocketTestServer.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.util.Assert;, +	private Server jettyServer;, +	private int port = -1;, +	@Override, +	public void setup() {, +		Assert.state(this.port != -1, "setup() was never called.");, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/TomcatWebSocketTestServer.java, +import org.springframework.util.Assert;, +	private Tomcat tomcatServer;, +	private int port = -1;, +	@Override, +	public void setup() {, +		Assert.state(this.port != -1, "setup() was never called.");, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/UndertowTestServer.java, +import io.undertow.server.HttpHandler;, +import org.springframework.util.Assert;, +	private int port = -1;, +, +	@Override, +	public void setup() {, +		Assert.state(this.port != -1, "setup() was never called");, +		try {, +			HttpHandler httpHandler = this.manager.start();, +			this.server = Undertow.builder().addHttpListener(this.port, "localhost").setHandler(httpHandler).build();, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/WebSocketTestServer.java, +	void setup();, +]