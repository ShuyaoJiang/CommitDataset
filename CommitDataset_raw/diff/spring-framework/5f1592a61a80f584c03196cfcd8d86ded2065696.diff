[+++ b/spring-web/src/main/java/org/springframework/web/filter/ShallowEtagHeaderFilter.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.util.StreamUtils;, +	private static final String HEADER_ETAG = "ETag";, +	private static final String HEADER_IF_NONE_MATCH = "If-None-Match";, +			StreamUtils.copy(body, response.getOutputStream());, +		public ShallowEtagResponseWrapper(HttpServletResponse response) {, +, +, +			public ResponsePrintWriter(String characterEncoding) throws UnsupportedEncodingException {, +++ b/spring-web/src/main/java/org/springframework/web/filter/ShallowEtagHeaderFilter.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.util.StreamUtils;, +	private static final String HEADER_ETAG = "ETag";, +	private static final String HEADER_IF_NONE_MATCH = "If-None-Match";, +			StreamUtils.copy(body, response.getOutputStream());, +		public ShallowEtagResponseWrapper(HttpServletResponse response) {, +, +, +			public ResponsePrintWriter(String characterEncoding) throws UnsupportedEncodingException {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandler.java, + * Copyright 2002-2014 the original author or authors., +, +import org.springframework.util.StreamUtils;, +		StreamUtils.copy(resource.getInputStream(), response.getOutputStream());]