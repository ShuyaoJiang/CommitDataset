[+++ b/org.springframework.transaction/src/main/java/org/springframework/transaction/support/TransactionSynchronizationManager.java, + * Copyright 2002-2011 the original author or authors., +import java.util.LinkedHashSet;, +import java.util.Set;, +	private static final ThreadLocal<Set<TransactionSynchronization>> synchronizations =, +			new NamedThreadLocal<Set<TransactionSynchronization>>("Transaction synchronizations");, +		synchronizations.set(new LinkedHashSet<TransactionSynchronization>());, +		Set<TransactionSynchronization> synchs = synchronizations.get();, +			List<TransactionSynchronization> sortedSynchs = new ArrayList<TransactionSynchronization>(synchs);, +			OrderComparator.sort(sortedSynchs);, +			return Collections.unmodifiableList(sortedSynchs);]