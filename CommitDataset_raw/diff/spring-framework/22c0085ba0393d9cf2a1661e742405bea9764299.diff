[+++ b/spring-context/src/main/java/org/springframework/context/annotation/ComponentScanAnnotationParser.java, +import java.util.Arrays;, +import java.util.LinkedHashSet;, +import org.springframework.context.ConfigurableApplicationContext;, +		Set<String> basePackages = new LinkedHashSet<String>();, +		Set<String> specifiedPackages = new LinkedHashSet<String>();, +		specifiedPackages.addAll(Arrays.asList(componentScan.getStringArray("value")));, +		specifiedPackages.addAll(Arrays.asList(componentScan.getStringArray("basePackages")));, +, +		for (String pkg : specifiedPackages) {, +			String[] tokenized = StringUtils.tokenizeToStringArray(this.environment.resolvePlaceholders(pkg),, +					ConfigurableApplicationContext.CONFIG_LOCATION_DELIMITERS);, +			basePackages.addAll(Arrays.asList(tokenized));]