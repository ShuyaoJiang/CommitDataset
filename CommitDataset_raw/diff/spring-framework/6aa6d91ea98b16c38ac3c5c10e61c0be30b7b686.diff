[+++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/AbstractWebSocketHandlerRegistration.java, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/AbstractWebSocketHandlerRegistration.java, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/AbstractWebSocketMessageBrokerConfigurer.java, + * @deprecated as of 5.0 in favor of simply using {@link WebSocketMessageBrokerConfigurer}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/AbstractWebSocketHandlerRegistration.java, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/AbstractWebSocketMessageBrokerConfigurer.java, + * @deprecated as of 5.0 in favor of simply using {@link WebSocketMessageBrokerConfigurer}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/ServletWebSocketHandlerRegistration.java, + * Copyright 2002-2018 the original author or authors., +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/AbstractWebSocketHandlerRegistration.java, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/AbstractWebSocketMessageBrokerConfigurer.java, + * @deprecated as of 5.0 in favor of simply using {@link WebSocketMessageBrokerConfigurer}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/ServletWebSocketHandlerRegistration.java, + * Copyright 2002-2018 the original author or authors., +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/ServletWebSocketHandlerRegistry.java, +import java.util.Objects;, + * {@link WebSocketHandlerRegistry} with Spring MVC handler mappings for the, + * handshake requests., +	 * Set a TaskScheduler is set on each SockJS registration that hasn't had one, +	 * registered explicitly. This method needs to be invoked prior to calling, +	 * {@link #getHandlerMapping()}., +		this.registrations.stream(), +				.map(ServletWebSocketHandlerRegistration::getSockJsServiceRegistration), +				.filter(Objects::nonNull), +				.filter(r -> r.getTaskScheduler() == null), +				.forEach(r -> r.setTaskScheduler(scheduler));, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/AbstractWebSocketHandlerRegistration.java, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/AbstractWebSocketMessageBrokerConfigurer.java, + * @deprecated as of 5.0 in favor of simply using {@link WebSocketMessageBrokerConfigurer}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/ServletWebSocketHandlerRegistration.java, + * Copyright 2002-2018 the original author or authors., +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/ServletWebSocketHandlerRegistry.java, +import java.util.Objects;, + * {@link WebSocketHandlerRegistry} with Spring MVC handler mappings for the, + * handshake requests., +	 * Set a TaskScheduler is set on each SockJS registration that hasn't had one, +	 * registered explicitly. This method needs to be invoked prior to calling, +	 * {@link #getHandlerMapping()}., +		this.registrations.stream(), +				.map(ServletWebSocketHandlerRegistration::getSockJsServiceRegistration), +				.filter(Objects::nonNull), +				.filter(r -> r.getTaskScheduler() == null), +				.forEach(r -> r.setTaskScheduler(scheduler));, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/SockJsServiceRegistration.java]