[+++ b/spring-core/src/main/java/org/springframework/util/ClassUtils.java, + * Copyright 2002-2017 the original author or authors., +		return clazz.getTypeName();, +			return clazz.getTypeName();, +				(typeName.equals(clazz.getTypeName()) || typeName.equals(clazz.getSimpleName())));, +++ b/spring-core/src/main/java/org/springframework/util/ClassUtils.java, + * Copyright 2002-2017 the original author or authors., +		return clazz.getTypeName();, +			return clazz.getTypeName();, +				(typeName.equals(clazz.getTypeName()) || typeName.equals(clazz.getSimpleName())));, +++ b/spring-expression/src/main/java/org/springframework/expression/spel/ast/FormatHelper.java, + * Copyright 2002-2017 the original author or authors., +		return clazz.getTypeName();, +++ b/spring-core/src/main/java/org/springframework/util/ClassUtils.java, + * Copyright 2002-2017 the original author or authors., +		return clazz.getTypeName();, +			return clazz.getTypeName();, +				(typeName.equals(clazz.getTypeName()) || typeName.equals(clazz.getSimpleName())));, +++ b/spring-expression/src/main/java/org/springframework/expression/spel/ast/FormatHelper.java, + * Copyright 2002-2017 the original author or authors., +		return clazz.getTypeName();, +++ b/spring-expression/src/test/java/org/springframework/expression/spel/support/ReflectionHelperTests.java, + * Copyright 2002-2017 the original author or authors., +		assertEquals("java.lang.String[][]",FormatHelper.formatClassNameForMessage(new String[1][1].getClass()));]