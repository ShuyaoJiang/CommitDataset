[+++ b/build.gradle, +    javadoc {, +        options.memberLevel = org.gradle.external.javadoc.JavadocMemberLevel.PROTECTED, +        options.author = true, +        options.header = project.name, +        //options.overview = "${projectDir}/src/main/java/overview.html", +    }, +        from sourceSets.main.allJava, +    }, +, +    task javadocJar(type: Jar) {, +        classifier = 'javadoc', +        from javadoc, +        archives javadocJar, +project("spring-asm") {, +    description = 'Spring ASM', +    asmVersion = '2.2.3', +, +    configurations {, +        asm, +        jarjar, +    }, +    dependencies {, +        asm "asm:asm:${asmVersion}@jar", "asm:asm-commons:${asmVersion}@jar", +        jarjar 'com.googlecode.jarjar:jarjar:1.1', +    }, +, +    task repackageAsm(type: Jar) { jar ->, +        jar.baseName = "asm-repack", +        jar.version = asmVersion, +, +        doLast() {, +            project.ant {, +                taskdef name: "jarjar", classname: "com.tonicsystems.jarjar.JarJarTask",, +                    classpath: configurations.jarjar.asPath, +                jarjar(destfile: archivePath, index: "true", filesetmanifest: "merge") {, +                    configurations.asm.each { jarfile ->, +                        zipfileset(src: jarfile), +                    }, +                    rule(pattern: 'org.objectweb.asm.**', result: 'org.springframework.asm.@1'), +                }, +            }, +        }, +    }, +, +    jar {, +        dependsOn repackageAsm, +        from(zipTree(repackageAsm.archivePath)) {, +            exclude 'META-INF/INDEX.LIST', +        }, +    }, +}, +, +        compile project(":spring-orm"), +++ b/build.gradle, +    javadoc {, +        options.memberLevel = org.gradle.external.javadoc.JavadocMemberLevel.PROTECTED, +        options.author = true, +        options.header = project.name, +        //options.overview = "${projectDir}/src/main/java/overview.html", +    }, +        from sourceSets.main.allJava, +    }, +, +    task javadocJar(type: Jar) {, +        classifier = 'javadoc', +        from javadoc, +        archives javadocJar, +project("spring-asm") {, +    description = 'Spring ASM', +    asmVersion = '2.2.3', +, +    configurations {, +        asm, +        jarjar, +    }, +    dependencies {, +        asm "asm:asm:${asmVersion}@jar", "asm:asm-commons:${asmVersion}@jar", +        jarjar 'com.googlecode.jarjar:jarjar:1.1', +    }, +, +    task repackageAsm(type: Jar) { jar ->, +        jar.baseName = "asm-repack", +        jar.version = asmVersion, +, +        doLast() {, +            project.ant {, +                taskdef name: "jarjar", classname: "com.tonicsystems.jarjar.JarJarTask",, +                    classpath: configurations.jarjar.asPath, +                jarjar(destfile: archivePath, index: "true", filesetmanifest: "merge") {, +                    configurations.asm.each { jarfile ->, +                        zipfileset(src: jarfile), +                    }, +                    rule(pattern: 'org.objectweb.asm.**', result: 'org.springframework.asm.@1'), +                }, +            }, +        }, +    }, +, +    jar {]