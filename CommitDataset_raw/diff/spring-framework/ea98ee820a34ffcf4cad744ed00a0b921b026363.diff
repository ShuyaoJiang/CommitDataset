[+++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/i18n/AcceptHeaderLocaleResolver.java, + * Copyright 2002-2017 the original author or authors., +		Locale requestLocale = request.getLocale();, +		if (isSupportedLocale(requestLocale)) {, +			return requestLocale;, +		Locale supportedLocale = findSupportedLocale(request);, +		if (supportedLocale != null) {, +			return supportedLocale;, +		}, +		return (defaultLocale != null ? defaultLocale : requestLocale);, +	private Locale findSupportedLocale(HttpServletRequest request) {, +		return null;, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/i18n/AcceptHeaderLocaleResolver.java, + * Copyright 2002-2017 the original author or authors., +		Locale requestLocale = request.getLocale();, +		if (isSupportedLocale(requestLocale)) {, +			return requestLocale;, +		Locale supportedLocale = findSupportedLocale(request);, +		if (supportedLocale != null) {, +			return supportedLocale;, +		}, +		return (defaultLocale != null ? defaultLocale : requestLocale);, +	private Locale findSupportedLocale(HttpServletRequest request) {, +		return null;, +++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/i18n/AcceptHeaderLocaleResolverTests.java, + * Copyright 2002-2017 the original author or authors., +, +import static java.util.Locale.*;, +import static org.junit.Assert.*;, + *, + * @author Juergen Hoeller, +	@Test, +, +	public void resolvePreferredNotSupportedWithDefault() {, +		this.resolver.setSupportedLocales(Arrays.asList(US, JAPAN));, +		this.resolver.setDefaultLocale(Locale.JAPAN);, +, +		MockHttpServletRequest request = new MockHttpServletRequest();, +		request.addHeader("Accept-Language", KOREA.toString());, +		request.setPreferredLocales(Collections.singletonList(KOREA));, +		assertEquals(Locale.JAPAN, this.resolver.resolveLocale(request));, +	}]