[+++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpServletRequest.java, +		this.inputStream = null;, +		this.reader = null;, +++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpServletRequest.java, +		this.inputStream = null;, +		this.reader = null;, +++ b/spring-test/src/test/java/org/springframework/mock/web/MockHttpServletRequestTests.java, +import org.springframework.util.FileCopyUtils;, +, +		request.setContent(bytes);, +		assertEquals(bytes.length, request.getContentLength());, +		assertEquals("body", StreamUtils.copyToString(request.getInputStream(), Charset.defaultCharset()));, +	}, +, +	@Test, +	public void setContentAndGetReader() throws IOException {, +		byte[] bytes = "body".getBytes(Charset.defaultCharset());, +		request.setContent(bytes);, +		assertEquals(bytes.length, request.getContentLength());, +		assertEquals("body", FileCopyUtils.copyToString(request.getReader()));, +, +		request.setContent(bytes);, +		assertEquals(bytes.length, request.getContentLength());, +		assertEquals("body", FileCopyUtils.copyToString(request.getReader()));, +++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpServletRequest.java, +		this.inputStream = null;, +		this.reader = null;, +++ b/spring-test/src/test/java/org/springframework/mock/web/MockHttpServletRequestTests.java, +import org.springframework.util.FileCopyUtils;, +, +		request.setContent(bytes);, +		assertEquals(bytes.length, request.getContentLength());, +		assertEquals("body", StreamUtils.copyToString(request.getInputStream(), Charset.defaultCharset()));, +	}, +, +	@Test, +	public void setContentAndGetReader() throws IOException {, +		byte[] bytes = "body".getBytes(Charset.defaultCharset());, +		request.setContent(bytes);, +		assertEquals(bytes.length, request.getContentLength());, +		assertEquals("body", FileCopyUtils.copyToString(request.getReader()));, +, +		request.setContent(bytes);, +		assertEquals(bytes.length, request.getContentLength());, +		assertEquals("body", FileCopyUtils.copyToString(request.getReader()));, +++ b/spring-web/src/test/java/org/springframework/mock/web/test/MockHttpServletRequest.java, +		this.inputStream = null;, +		this.reader = null;]