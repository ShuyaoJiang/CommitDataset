[+++ b/spring-web/src/main/java/org/springframework/http/converter/ResourceHttpMessageConverter.java, +			if(resource.getFilename() == null) {, +				return null;, +			}, +++ b/spring-web/src/main/java/org/springframework/http/converter/ResourceHttpMessageConverter.java, +			if(resource.getFilename() == null) {, +				return null;, +			}, +++ b/spring-web/src/test/java/org/springframework/http/converter/ResourceHttpMessageConverterTests.java, +import java.util.Arrays;, +import org.springframework.core.io.ByteArrayResource;, +import static org.junit.Assert.*;, +, +	// SPR-10848, +, +	@Test, +	public void writeByteArrayNullMediaType() throws IOException {, +		MockHttpOutputMessage outputMessage = new MockHttpOutputMessage();, +		byte[] byteArray = {1, 2, 3};, +		Resource body = new ByteArrayResource(byteArray);, +		converter.write(body, null, outputMessage);, +		assertTrue(Arrays.equals(byteArray, outputMessage.getBodyAsBytes()));, +	}, +]