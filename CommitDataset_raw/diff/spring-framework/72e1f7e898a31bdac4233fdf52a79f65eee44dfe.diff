[+++ b/spring-websocket/src/main/java/org/springframework/web/socket/sockjs/transport/session/AbstractHttpSockJsSession.java, +	private final Queue<String> messageCache;, +	private boolean readyToSend;, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/sockjs/transport/session/AbstractHttpSockJsSession.java, +	private final Queue<String> messageCache;, +	private boolean readyToSend;, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/sockjs/transport/session/AbstractSockJsSession.java, +	protected final Object responseLock = new Object();, +, +		synchronized (this.responseLock) {, +		synchronized (this.responseLock) {, +		synchronized (this.responseLock) {, +			synchronized (responseLock) {]