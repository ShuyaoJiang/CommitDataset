[+++ b/spring-test/src/main/java/org/springframework/test/context/support/DefaultActiveProfilesResolver.java, + * Copyright 2002-2015 the original author or authors., +++ b/spring-test/src/main/java/org/springframework/test/context/support/DefaultActiveProfilesResolver.java, + * Copyright 2002-2015 the original author or authors., +++ b/spring-test/src/test/java/org/springframework/test/context/support/ActiveProfilesUtilsTests.java, + * Copyright 2002-2015 the original author or authors., +import java.util.ArrayList;, +import java.util.List;, +import org.springframework.util.StringUtils;, +	/**, +	 * This test verifies that {@link DefaultActiveProfilesResolver} can be declared explicitly., +	 * @since 4.1.5, +	 */, +	@Test, +	public void resolveActiveProfilesWithDefaultActiveProfilesResolver() {, +		assertResolvedProfiles(DefaultActiveProfilesResolverTestCase.class, "default");, +	}, +, +	/**, +	 * This test verifies that {@link DefaultActiveProfilesResolver} can be extended., +	 * @since 4.1.5, +	 */, +	@Test, +	public void resolveActiveProfilesWithExtendedDefaultActiveProfilesResolver() {, +		assertResolvedProfiles(ExtendedDefaultActiveProfilesResolverTestCase.class, "default", "foo");, +	}, +, +	@ActiveProfiles(profiles = "default", resolver = DefaultActiveProfilesResolver.class), +	private static class DefaultActiveProfilesResolverTestCase {, +	}, +, +	@ActiveProfiles(profiles = "default", resolver = ExtendedDefaultActiveProfilesResolver.class), +	private static class ExtendedDefaultActiveProfilesResolverTestCase {, +	}, +, +	private static class ExtendedDefaultActiveProfilesResolver extends DefaultActiveProfilesResolver {, +, +		@Override, +		public String[] resolve(Class<?> testClass) {, +			List<String> profiles = new ArrayList<String>(Arrays.asList(super.resolve(testClass)));, +			profiles.add("foo");, +			return StringUtils.toStringArray(profiles);, +		}, +	}, +]