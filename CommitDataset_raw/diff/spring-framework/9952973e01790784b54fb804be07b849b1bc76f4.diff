[+++ b/spring-context-support/src/test/java/org/springframework/cache/jcache/config/JCacheNamespaceDrivenTests.java, +import static org.junit.Assert.*;, +import org.springframework.cache.jcache.interceptor.DefaultJCacheOperationSource;, +import org.springframework.context.ConfigurableApplicationContext;, +	public void cacheResolver() {, +		ConfigurableApplicationContext context = new GenericXmlApplicationContext(, +				"/org/springframework/cache/jcache/config/jCacheNamespaceDriven-resolver.xml");, +, +		DefaultJCacheOperationSource ci = context.getBean(DefaultJCacheOperationSource.class);, +		assertSame(context.getBean("cacheResolver"), ci.getDefaultCacheResolver());, +		context.close();, +	}, +, +	@Test, +++ b/spring-context-support/src/test/java/org/springframework/cache/jcache/config/JCacheNamespaceDrivenTests.java, +import static org.junit.Assert.*;, +import org.springframework.cache.jcache.interceptor.DefaultJCacheOperationSource;, +import org.springframework.context.ConfigurableApplicationContext;, +	public void cacheResolver() {, +		ConfigurableApplicationContext context = new GenericXmlApplicationContext(, +				"/org/springframework/cache/jcache/config/jCacheNamespaceDriven-resolver.xml");, +, +		DefaultJCacheOperationSource ci = context.getBean(DefaultJCacheOperationSource.class);, +		assertSame(context.getBean("cacheResolver"), ci.getDefaultCacheResolver());, +		context.close();, +	}, +, +	@Test, +++ b/spring-context-support/src/test/resources/org/springframework/cache/jcache/config/jCacheNamespaceDriven-resolver.xml, +<?xml version="1.0" encoding="UTF-8"?>, +<beans xmlns="http://www.springframework.org/schema/beans", +	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +	   xmlns:cache="http://www.springframework.org/schema/cache", +	   xsi:schemaLocation="http://www.springframework.org/schema/beans, +	   		http://www.springframework.org/schema/beans/spring-beans.xsd, +       		http://www.springframework.org/schema/cache, +       		http://www.springframework.org/schema/cache/spring-cache.xsd">, +, +	<cache:annotation-driven cache-manager="cacheManager" cache-resolver="cacheResolver"/>, +, +	<!-- We can't hid the cache manager completely as the exception cache resolver needs it -->, +	<bean id="cacheManager" class="org.springframework.cache.support.SimpleCacheManager">, +		<property name="caches">, +			<set>, +				<ref bean="defaultCache"/>, +			</set>, +		</property>, +	</bean>, +, +	<bean id="defaultCache", +		  class="org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean">, +		<property name="name" value="default"/>, +	</bean>, +, +	<bean id="cacheResolver" class="org.springframework.cache.interceptor.SimpleCacheResolver">, +		<property name="cacheManager" ref="cacheManager"/>, +	</bean>, +, +, +</beans>, +++ b/spring-context-support/src/test/java/org/springframework/cache/jcache/config/JCacheNamespaceDrivenTests.java, +import static org.junit.Assert.*;, +import org.springframework.cache.jcache.interceptor.DefaultJCacheOperationSource;, +import org.springframework.context.ConfigurableApplicationContext;, +	public void cacheResolver() {, +		ConfigurableApplicationContext context = new GenericXmlApplicationContext(, +				"/org/springframework/cache/jcache/config/jCacheNamespaceDriven-resolver.xml");, +, +		DefaultJCacheOperationSource ci = context.getBean(DefaultJCacheOperationSource.class);, +		assertSame(context.getBean("cacheResolver"), ci.getDefaultCacheResolver());, +		context.close();, +	}, +, +	@Test, +++ b/spring-context-support/src/test/resources/org/springframework/cache/jcache/config/jCacheNamespaceDriven-resolver.xml, +<?xml version="1.0" encoding="UTF-8"?>, +<beans xmlns="http://www.springframework.org/schema/beans", +	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +	   xmlns:cache="http://www.springframework.org/schema/cache", +	   xsi:schemaLocation="http://www.springframework.org/schema/beans, +	   		http://www.springframework.org/schema/beans/spring-beans.xsd, +       		http://www.springframework.org/schema/cache, +       		http://www.springframework.org/schema/cache/spring-cache.xsd">, +, +	<cache:annotation-driven cache-manager="cacheManager" cache-resolver="cacheResolver"/>, +, +	<!-- We can't hid the cache manager completely as the exception cache resolver needs it -->, +	<bean id="cacheManager" class="org.springframework.cache.support.SimpleCacheManager">, +		<property name="caches">, +			<set>, +				<ref bean="defaultCache"/>, +			</set>, +		</property>, +	</bean>, +, +	<bean id="defaultCache", +		  class="org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean">, +		<property name="name" value="default"/>, +	</bean>, +]