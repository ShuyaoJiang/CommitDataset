[+++ b/spring-websocket/src/test/java/org/springframework/web/socket/sockjs/client/AbstractSockJsIntegrationTests.java, +import static org.junit.Assert.fail;, +		private volatile Throwable transportError;, +, +		public void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {, +			this.transportError = exception;, +		}, +, +		@Override, +			if (actual != null) {, +			else if (this.transportError != null) {, +				throw new AssertionError("Transport error", this.transportError);, +			}, +			else {, +				fail("Timed out waiting for [" + expected + "]");, +			}, +		}, +			awaitEvent(() -> this.closeStatus != null || this.transportError != null, timeToWait, " CloseStatus");, +			if (this.transportError != null) {, +				throw new AssertionError("Transport error", this.transportError);, +			}]