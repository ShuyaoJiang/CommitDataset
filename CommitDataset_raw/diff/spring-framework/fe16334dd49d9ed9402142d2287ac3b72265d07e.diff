[+++ b/spring-orm/src/main/java/org/springframework/orm/hibernate4/LocalSessionFactoryBuilder.java, +		ClassLoader appClassLoader = (ClassLoader) getProperties().get(AvailableSettings.APP_CLASSLOADER);, +		Thread currentThread = Thread.currentThread();, +		ClassLoader threadContextClassLoader = currentThread.getContextClassLoader();, +		boolean overrideClassLoader =, +				(appClassLoader != null && !appClassLoader.equals(threadContextClassLoader));, +		if (overrideClassLoader) {, +			currentThread.setContextClassLoader(appClassLoader);, +		}, +		try {, +		finally {, +			if (overrideClassLoader) {, +				currentThread.setContextClassLoader(threadContextClassLoader);, +			}, +		}, +	}]