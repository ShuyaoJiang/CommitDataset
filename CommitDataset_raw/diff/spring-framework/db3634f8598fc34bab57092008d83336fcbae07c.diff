[+++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandler.java, +		setHeaders(response, resource, mediaType);, +++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandler.java, +		setHeaders(response, resource, mediaType);, +++ b/org.springframework.web/src/main/java/org/springframework/web/filter/ShallowEtagHeaderFilter.java, +			response.setContentLength(body.length);, +	 * @param bytes the response body as byte array, +		public void setContentLength(int len) {, +		}, +, +		@Override, +++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandler.java, +		setHeaders(response, resource, mediaType);, +++ b/org.springframework.web/src/main/java/org/springframework/web/filter/ShallowEtagHeaderFilter.java, +			response.setContentLength(body.length);, +	 * @param bytes the response body as byte array, +		public void setContentLength(int len) {, +		}, +, +		@Override, +++ b/org.springframework.web/src/test/java/org/springframework/web/filter/ShallowEtagHeaderFilterTests.java, + * Copyright 2002-2010 the original author or authors., +import static org.junit.Assert.*;, +, +				filterResponse.setContentLength(responseBody.length);, +		assertFalse("Response has Content-Length header", response.containsHeader("Content-Length"));, +		assertFalse("Response has Content-Length header", response.containsHeader("Content-Length"));]