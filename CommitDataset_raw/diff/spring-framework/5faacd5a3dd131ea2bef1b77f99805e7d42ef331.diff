[+++ b/spring-jms/src/main/java/org/springframework/jms/connection/JmsResourceHolder.java, + * Copyright 2002-2014 the original author or authors., +						while (ds != null) {, +							if (TransactionSynchronizationManager.hasResource(ds)) {, +							try {, +								// Check for decorated DataSource a la Spring's DelegatingDataSource, +								Method getTargetDataSourceMethod = ds.getClass().getMethod("getTargetDataSource");, +								ds = ReflectionUtils.invokeMethod(getTargetDataSourceMethod, ds);, +							}, +							catch (NoSuchMethodException nsme) {, +								ds = null;, +							}, +						}]