[+++ b/spring-web/src/main/java/org/springframework/web/util/ParsingPathMatcher.java, +import java.util.concurrent.ConcurrentHashMap;, +import java.util.concurrent.ConcurrentMap;, +	private final ConcurrentMap<String, PathPattern> cache =, +			new ConcurrentHashMap<>(64);, +	private static final ThreadLocal<PathPatternParser> PARSER, +			= ThreadLocal.withInitial(() -> new PathPatternParser());, +		private final PatternComparatorConsideringPath ppcp;, +			this.ppcp = new PatternComparatorConsideringPath(path);, +			return this.ppcp.compare(p1, p2);, +		PathPattern pathPattern = this.cache.get(pattern);, +			pathPattern = PARSER.get().parse(pattern);, +			this.cache.put(pattern, pathPattern);]