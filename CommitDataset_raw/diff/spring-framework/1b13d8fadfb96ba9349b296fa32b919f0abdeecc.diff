[+++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/configuration/AutowiredConfigurationTests-custom.properties, +hostname=localhost, +foo=a, +bar=b, +++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/configuration/AutowiredConfigurationTests-custom.properties, +hostname=localhost, +foo=a, +bar=b, +++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/configuration/AutowiredConfigurationTests-custom.xml, +<?xml version="1.0" encoding="UTF-8"?>, +<beans xmlns="http://www.springframework.org/schema/beans", +	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd, +		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd, +		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd", +	xmlns:context="http://www.springframework.org/schema/context", +	xmlns:util="http://www.springframework.org/schema/util">, +, +	<context:annotation-config/>, +, +	<util:properties id="myProps" location="classpath:org/springframework/context/annotation/configuration/AutowiredConfigurationTests-custom.properties"/>, +, +	<bean class="org.springframework.context.annotation.configuration.AutowiredConfigurationTests$PropertiesConfig"/>, +, +</beans>, +++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/configuration/AutowiredConfigurationTests-custom.properties, +hostname=localhost, +foo=a, +bar=b, +++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/configuration/AutowiredConfigurationTests-custom.xml, +<?xml version="1.0" encoding="UTF-8"?>, +<beans xmlns="http://www.springframework.org/schema/beans", +	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance", +	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd, +		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd, +		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd", +	xmlns:context="http://www.springframework.org/schema/context", +	xmlns:util="http://www.springframework.org/schema/util">, +, +	<context:annotation-config/>, +, +	<util:properties id="myProps" location="classpath:org/springframework/context/annotation/configuration/AutowiredConfigurationTests-custom.properties"/>, +, +	<bean class="org.springframework.context.annotation.configuration.AutowiredConfigurationTests$PropertiesConfig"/>, +, +</beans>, +++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/configuration/AutowiredConfigurationTests.java, +, +	@Test, +	public void testCustomProperties() {, +		ClassPathXmlApplicationContext factory = new ClassPathXmlApplicationContext(, +		        "AutowiredConfigurationTests-custom.xml", AutowiredConfigurationTests.class);, +, +		TestBean testBean = factory.getBean("testBean", TestBean.class);, +		assertThat(testBean.getName(), equalTo("localhost"));, +	}, +, +	@Configuration, +	static class PropertiesConfig {, +, +		private String hostname;, +, +		@Value("#{myProps.hostname}"), +		public void setHostname(String hostname) {, +			this.hostname = hostname;, +		}, +, +		@Bean, +		public TestBean testBean() {, +			return new TestBean(hostname);, +		}, +	}]