[+++ b/spring-web-reactive/src/main/java/org/springframework/web/reactive/socket/server/upgrade/JettyRequestUpgradeStrategy.java, + * @author Rossen Stoyanchev, +	private volatile boolean running = false;, +				catch (Throwable ex) {, +				this.running = false;, +				catch (Throwable ex) {, +, +++ b/spring-web-reactive/src/main/java/org/springframework/web/reactive/socket/server/upgrade/JettyRequestUpgradeStrategy.java, + * @author Rossen Stoyanchev, +	private volatile boolean running = false;, +				catch (Throwable ex) {, +				this.running = false;, +				catch (Throwable ex) {, +, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/server/jetty/JettyRequestUpgradeStrategy.java, +	private static final ThreadLocal<WebSocketHandlerContainer> containerHolder =, +, +	// Configurable factory adapter due to Jetty 9.3.15+ API differences:, +	// using WebSocketServerFactory(ServletContext) as a version indicator, +			try {, +			containerHolder.set(container);, +			containerHolder.remove();, +					WebSocketHandlerContainer container = containerHolder.get();]