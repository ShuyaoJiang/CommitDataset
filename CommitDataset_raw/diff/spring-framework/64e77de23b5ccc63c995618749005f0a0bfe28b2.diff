[+++ b/spring-orm-hibernate5/src/main/java/org/springframework/orm/hibernate5/LocalSessionFactoryBean.java, + * Copyright 2002-2016 the original author or authors., +			BootstrapServiceRegistryBuilder builder = new BootstrapServiceRegistryBuilder();, +			if (this.resourcePatternResolver != null) {, +				builder = builder.applyClassLoader(this.resourcePatternResolver.getClassLoader());, +			}, +			this.metadataSources = new MetadataSources(builder.build());, +++ b/spring-orm-hibernate5/src/main/java/org/springframework/orm/hibernate5/LocalSessionFactoryBean.java, + * Copyright 2002-2016 the original author or authors., +			BootstrapServiceRegistryBuilder builder = new BootstrapServiceRegistryBuilder();, +			if (this.resourcePatternResolver != null) {, +				builder = builder.applyClassLoader(this.resourcePatternResolver.getClassLoader());, +			}, +			this.metadataSources = new MetadataSources(builder.build());, +++ b/spring-orm-hibernate5/src/main/java/org/springframework/orm/hibernate5/LocalSessionFactoryBuilder.java, + * Copyright 2002-2016 the original author or authors., +		this(dataSource, resourceLoader, new MetadataSources(, +				new BootstrapServiceRegistryBuilder().applyClassLoader(resourceLoader.getClassLoader()).build()));]