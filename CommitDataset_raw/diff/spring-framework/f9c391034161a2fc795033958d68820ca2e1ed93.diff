[+++ b/build.gradle, +project("spring-orm-hibernate5") {, +	description = "Spring Object/Relational Mapping - Hibernate 5 support", +	merge.into = project(":spring-orm"), +, +	dependencies {, +		provided(project(":spring-jdbc")), +		provided(project(":spring-tx")), +		optional(project(":spring-web")), +		optional("org.hibernate:hibernate-core:5.0.0.Beta2"), +		optional("org.hibernate:hibernate-entitymanager:5.0.0.Beta2"), +		optional("javax.servlet:javax.servlet-api:3.0.1"), +		optional("aopalliance:aopalliance:1.0"), +	}, +}, +, +++ b/build.gradle, +project("spring-orm-hibernate5") {, +	description = "Spring Object/Relational Mapping - Hibernate 5 support", +	merge.into = project(":spring-orm"), +, +	dependencies {, +		provided(project(":spring-jdbc")), +		provided(project(":spring-tx")), +		optional(project(":spring-web")), +		optional("org.hibernate:hibernate-core:5.0.0.Beta2"), +		optional("org.hibernate:hibernate-entitymanager:5.0.0.Beta2"), +		optional("javax.servlet:javax.servlet-api:3.0.1"), +		optional("aopalliance:aopalliance:1.0"), +	}, +}, +, +++ b/settings.gradle, +include "spring-orm-hibernate5", +++ b/build.gradle, +project("spring-orm-hibernate5") {, +	description = "Spring Object/Relational Mapping - Hibernate 5 support", +	merge.into = project(":spring-orm"), +, +	dependencies {, +		provided(project(":spring-jdbc")), +		provided(project(":spring-tx")), +		optional(project(":spring-web")), +		optional("org.hibernate:hibernate-core:5.0.0.Beta2"), +		optional("org.hibernate:hibernate-entitymanager:5.0.0.Beta2"), +		optional("javax.servlet:javax.servlet-api:3.0.1"), +		optional("aopalliance:aopalliance:1.0"), +	}, +}, +, +++ b/settings.gradle, +include "spring-orm-hibernate5", +++ b/spring-orm-hibernate4/src/main/java/org/springframework/orm/jpa/vendor/SpringHibernateJpaPersistenceProvider.java, + * Copyright 2002-2015 the original author or authors., +import java.util.ArrayList;, +import java.util.List;, + * <p>Compatible with Hibernate 4.3-5.0. {@link SpringHibernateEjbPersistenceProvider}, +	public EntityManagerFactory createContainerEntityManagerFactory(PersistenceUnitInfo info, Map properties) {, +		final List<String> mergedClassesAndPackages = new ArrayList<String>(info.getManagedClassNames());, +			mergedClassesAndPackages.addAll(((SmartPersistenceUnitInfo) info).getManagedPackages());, +		return new EntityManagerFactoryBuilderImpl(, +				new PersistenceUnitInfoDescriptor(info) {, +					@Override, +					public List<String> getManagedClassNames() {, +						return mergedClassesAndPackages;, +				}, properties).build();, +++ b/build.gradle, +project("spring-orm-hibernate5") {, +	description = "Spring Object/Relational Mapping - Hibernate 5 support", +	merge.into = project(":spring-orm"), +, +	dependencies {, +		provided(project(":spring-jdbc")), +		provided(project(":spring-tx")), +		optional(project(":spring-web")), +		optional("org.hibernate:hibernate-core:5.0.0.Beta2"), +		optional("org.hibernate:hibernate-entitymanager:5.0.0.Beta2"), +		optional("javax.servlet:javax.servlet-api:3.0.1"), +		optional("aopalliance:aopalliance:1.0"), +	}, +}, +, +++ b/settings.gradle, +include "spring-orm-hibernate5", +++ b/spring-orm-hibernate4/src/main/java/org/springframework/orm/jpa/vendor/SpringHibernateJpaPersistenceProvider.java, + * Copyright 2002-2015 the original author or authors., +import java.util.ArrayList;, +import java.util.List;, + * <p>Compatible with Hibernate 4.3-5.0. {@link SpringHibernateEjbPersistenceProvider}, +	public EntityManagerFactory createContainerEntityManagerFactory(PersistenceUnitInfo info, Map properties) {, +		final List<String> mergedClassesAndPackages = new ArrayList<String>(info.getManagedClassNames());, +			mergedClassesAndPackages.addAll(((SmartPersistenceUnitInfo) info).getManagedPackages());, +		return new EntityManagerFactoryBuilderImpl(, +				new PersistenceUnitInfoDescriptor(info) {, +					@Override, +					public List<String> getManagedClassNames() {, +						return mergedClassesAndPackages;, +				}, properties).build();, +++ b/spring-orm-hibernate5/src/main/java/org/springframework/orm/hibernate5/ConfigurableJtaPlatform.java, +/*]