[+++ b/spring-webflux/src/main/java/org/springframework/web/reactive/socket/server/support/HandshakeWebSocketService.java, +	private static final boolean reactorNettyPresent = ClassUtils.isPresent(, +			"reactor.ipc.netty.http.server.HttpServerResponse",, +			HandshakeWebSocketService.class.getClassLoader());, +, +		else if (reactorNettyPresent) {, +			// As late as possible (Reactor Netty commonly used for WebClient), +			className = "ReactorNettyRequestUpgradeStrategy";, +		}]