[+++ b/spring-core/src/main/java/org/springframework/core/env/AbstractEnvironment.java, +, +	private Set<String> defaultProfiles = new LinkedHashSet<String>(getReservedDefaultProfiles());, +	private final MutablePropertySources propertySources = new MutablePropertySources(this.logger);, +		String name = getClass().getSimpleName();, +		customizePropertySources(this.propertySources);, +			addActiveProfile(profile);, +		validateProfile(profile);, +		if (this.defaultProfiles.equals(getReservedDefaultProfiles())) {, +				setDefaultProfiles(commaDelimitedListToStringArray(trimAllWhitespace(profiles)));, +			validateProfile(profile);, +				return !isProfileActive(profile.substring(1));, +			if (isProfileActive(profile)) {, +		validateProfile(profile);, +		return doGetActiveProfiles().contains(profile) ||, +				(doGetActiveProfiles().isEmpty() && doGetDefaultProfiles().contains(profile));]