[+++ b/spring-websocket/src/main/java/org/springframework/web/socket/server/standard/AbstractStandardUpgradeStrategy.java, + * A base class for {@link RequestUpgradeStrategy} implementations that build, + * on the standard WebSocket API for Java (JSR-356)., +	protected final HttpServletRequest getHttpServletRequest(ServerHttpRequest request) {, +		Assert.isTrue(request instanceof ServletServerHttpRequest);, +		return ((ServletServerHttpRequest) request).getServletRequest();, +	}, +, +	protected final HttpServletResponse getHttpServletResponse(ServerHttpResponse response) {, +		Assert.isTrue(response instanceof ServletServerHttpResponse);, +		return ((ServletServerHttpResponse) response).getServletResponse();, +	}, +, +, +	@Override, +	public List<WebSocketExtension> getSupportedExtensions(ServerHttpRequest request) {, +		if (this.extensions == null) {, +			HttpServletRequest servletRequest = ((ServletServerHttpRequest) request).getServletRequest();, +			this.extensions = getInstalledExtensions(getContainer(servletRequest));, +		}, +		return this.extensions;, +	}, +]