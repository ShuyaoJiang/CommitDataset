[+++ b/spring-beans/src/main/java/org/springframework/beans/factory/annotation/AnnotatedBeanDefinition.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.core.type.MethodMetadata;, +	/**, +	 * Obtain metadata for this bean definition's factory method, if any., +	 * @return the factory method metadata, or {@code null} if none, +	 * @since 4.1.1, +	 */, +	MethodMetadata getFactoryMethodMetadata();, +, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/annotation/AnnotatedBeanDefinition.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.core.type.MethodMetadata;, +	/**, +	 * Obtain metadata for this bean definition's factory method, if any., +	 * @return the factory method metadata, or {@code null} if none, +	 * @since 4.1.1, +	 */, +	MethodMetadata getFactoryMethodMetadata();, +, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/annotation/AnnotatedGenericBeanDefinition.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.core.type.MethodMetadata;, +	private MethodMetadata factoryMethodMetadata;, +, +	/**, +	 * Create a new AnnotatedGenericBeanDefinition for the given annotation metadata,, +	 * based on an annotated class and a factory method on that class., +	 * @param metadata the annotation metadata for the bean class in question, +	 * @param factoryMethodMetadata metadata for the selected factory method, +	 * @since 4.1.1, +	 */, +	public AnnotatedGenericBeanDefinition(AnnotationMetadata metadata, MethodMetadata factoryMethodMetadata) {, +		this(metadata);, +		Assert.notNull(factoryMethodMetadata, "MethodMetadata must not be null");, +		setFactoryMethodName(factoryMethodMetadata.getMethodName());, +		this.factoryMethodMetadata = factoryMethodMetadata;, +	}, +, +	@Override, +	public final MethodMetadata getFactoryMethodMetadata() {, +		return this.factoryMethodMetadata;, +	}, +, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/annotation/AnnotatedBeanDefinition.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.core.type.MethodMetadata;, +	/**, +	 * Obtain metadata for this bean definition's factory method, if any., +	 * @return the factory method metadata, or {@code null} if none, +	 * @since 4.1.1, +	 */, +	MethodMetadata getFactoryMethodMetadata();, +, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/annotation/AnnotatedGenericBeanDefinition.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.core.type.MethodMetadata;, +	private MethodMetadata factoryMethodMetadata;, +, +	/**, +	 * Create a new AnnotatedGenericBeanDefinition for the given annotation metadata,, +	 * based on an annotated class and a factory method on that class., +	 * @param metadata the annotation metadata for the bean class in question, +	 * @param factoryMethodMetadata metadata for the selected factory method, +	 * @since 4.1.1, +	 */, +	public AnnotatedGenericBeanDefinition(AnnotationMetadata metadata, MethodMetadata factoryMethodMetadata) {, +		this(metadata);, +		Assert.notNull(factoryMethodMetadata, "MethodMetadata must not be null");, +		setFactoryMethodName(factoryMethodMetadata.getMethodName());, +		this.factoryMethodMetadata = factoryMethodMetadata;, +	}, +, +	@Override, +	public final MethodMetadata getFactoryMethodMetadata() {, +		return this.factoryMethodMetadata;, +	}, +, +++ b/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java, +		ConfigurationClassBeanDefinition beanDef = new ConfigurationClassBeanDefinition(configClass, metadata);, +			beanDefToRegister = new ConfigurationClassBeanDefinition(, +					(RootBeanDefinition) proxyDef.getBeanDefinition(), configClass, metadata);, +		private final MethodMetadata factoryMethodMetadata;, +, +		public ConfigurationClassBeanDefinition(ConfigurationClass configClass, MethodMetadata beanMethodMetadata) {, +			this.factoryMethodMetadata = beanMethodMetadata;, +		public ConfigurationClassBeanDefinition(, +				RootBeanDefinition original, ConfigurationClass configClass, MethodMetadata beanMethodMetadata) {, +			this.factoryMethodMetadata = beanMethodMetadata;, +			this.factoryMethodMetadata = original.factoryMethodMetadata;, +		public MethodMetadata getFactoryMethodMetadata() {, +			return this.factoryMethodMetadata;, +		}, +, +		@Override, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/annotation/AnnotatedBeanDefinition.java, + * Copyright 2002-2014 the original author or authors., +import org.springframework.core.type.MethodMetadata;, +	/**, +	 * Obtain metadata for this bean definition's factory method, if any.]