[+++ b/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java, + * Copyright 2002-2014 the original author or authors., +import java.util.concurrent.atomic.AtomicBoolean;, +	private final AtomicBoolean active = new AtomicBoolean();, +	private final AtomicBoolean closed = new AtomicBoolean();, +		this.active.set(true);, +		this.active.set(false);, +		if (this.active.get() && this.closed.compareAndSet(false, true)) {, +			this.active.set(false);, +		return this.active.get();, +		if (!this.active.get()) {, +			if (this.closed.get()) {]