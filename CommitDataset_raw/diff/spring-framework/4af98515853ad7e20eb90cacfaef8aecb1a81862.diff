[+++ b/spring-websocket/src/main/java/org/springframework/web/socket/messaging/StompSubProtocolHandler.java, +		headerAccessor.setUser(session.getPrincipal());, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/messaging/StompSubProtocolHandler.java, +		headerAccessor.setUser(session.getPrincipal());, +++ b/spring-websocket/src/test/java/org/springframework/web/socket/messaging/StompSubProtocolHandlerTests.java, +		ApplicationEventPublisher publisher = mock(ApplicationEventPublisher.class);, +		StompHeaderAccessor accessor = StompHeaderAccessor.wrap(actual);, +		assertEquals(StompCommand.DISCONNECT, accessor.getCommand());, +		assertEquals("s1", accessor.getSessionId());, +		assertEquals("joe", accessor.getUser().getName());]