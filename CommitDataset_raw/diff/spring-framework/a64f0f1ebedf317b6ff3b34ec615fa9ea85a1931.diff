[+++ b/org.springframework.context/src/main/java/org/springframework/context/support/DefaultLifecycleProcessor.java, +	 * Specify the maximum time allotted in milliseconds for the shutdown of, +	 * any phase (group of SmartLifecycle beans with the same 'phase' value)., +++ b/org.springframework.context/src/main/java/org/springframework/context/support/DefaultLifecycleProcessor.java, +	 * Specify the maximum time allotted in milliseconds for the shutdown of, +	 * any phase (group of SmartLifecycle beans with the same 'phase' value)., +++ b/org.springframework.context/src/test/java/org/springframework/context/support/DefaultLifecycleProcessorTests.java, +import static org.junit.Assert.assertNotNull;, +import static org.junit.Assert.assertSame;, +import org.springframework.beans.DirectFieldAccessor;, +import org.springframework.beans.factory.config.BeanDefinition;, +import org.springframework.beans.factory.support.RootBeanDefinition;, +import org.springframework.context.LifecycleProcessor;, +	public void defaultLifecycleProcessorInstance() {, +		StaticApplicationContext context = new StaticApplicationContext();, +		context.refresh();, +		Object lifecycleProcessor = new DirectFieldAccessor(context).getPropertyValue("lifecycleProcessor");, +		assertNotNull(lifecycleProcessor);, +		assertEquals(DefaultLifecycleProcessor.class, lifecycleProcessor.getClass());, +	}, +, +	@Test, +	public void customLifecycleProcessorInstance() {, +		BeanDefinition beanDefinition = new RootBeanDefinition(DefaultLifecycleProcessor.class);, +		beanDefinition.getPropertyValues().addPropertyValue("timeoutPerShutdownPhase", 1000);, +		StaticApplicationContext context = new StaticApplicationContext();, +		context.registerBeanDefinition("lifecycleProcessor", beanDefinition);, +		context.refresh();, +		LifecycleProcessor bean = context.getBean("lifecycleProcessor", LifecycleProcessor.class);, +		Object contextLifecycleProcessor = new DirectFieldAccessor(context).getPropertyValue("lifecycleProcessor");, +		assertNotNull(contextLifecycleProcessor);, +		assertSame(bean, contextLifecycleProcessor);, +		assertEquals(1000L, new DirectFieldAccessor(contextLifecycleProcessor).getPropertyValue("timeoutPerShutdownPhase"));, +	}, +, +	@Test]