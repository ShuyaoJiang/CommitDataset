[+++ b/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/package-info.java, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/package-info.java, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultEntityResponseBuilder.java, + * @param <T> the entity type, +final class DefaultEntityResponseBuilder<T> implements EntityResponse.Builder<T> {, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/package-info.java, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultEntityResponseBuilder.java, + * @param <T> the entity type, +final class DefaultEntityResponseBuilder<T> implements EntityResponse.Builder<T> {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerRequest.java, +		}, +		else {, +	/**, +	 * Default implementation of {@link Headers}., +	 */, +	private static final class ServletParametersMap extends AbstractMap<String, List<String>> {, +	private static final class ServletAttributesMap extends AbstractMap<String, Object> {, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/package-info.java, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultEntityResponseBuilder.java, + * @param <T> the entity type, +final class DefaultEntityResponseBuilder<T> implements EntityResponse.Builder<T> {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerRequest.java, +		}, +		else {, +	/**, +	 * Default implementation of {@link Headers}., +	 */, +	private static final class ServletParametersMap extends AbstractMap<String, List<String>> {, +	private static final class ServletAttributesMap extends AbstractMap<String, Object> {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerRequestBuilder.java, +			}, +			else {, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/package-info.java, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultEntityResponseBuilder.java, + * @param <T> the entity type, +final class DefaultEntityResponseBuilder<T> implements EntityResponse.Builder<T> {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerRequest.java, +		}, +		else {, +	/**, +	 * Default implementation of {@link Headers}., +	 */, +	private static final class ServletParametersMap extends AbstractMap<String, List<String>> {, +	private static final class ServletAttributesMap extends AbstractMap<String, Object> {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerRequestBuilder.java, +			}, +			else {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerResponseBuilder.java, +			}, +			catch (Throwable throwable) {, +				return handleError(throwable, request, response, context);, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/package-info.java, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultEntityResponseBuilder.java, + * @param <T> the entity type, +final class DefaultEntityResponseBuilder<T> implements EntityResponse.Builder<T> {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerRequest.java, +		}, +		else {, +	/**, +	 * Default implementation of {@link Headers}., +	 */, +	private static final class ServletParametersMap extends AbstractMap<String, List<String>> {, +	private static final class ServletAttributesMap extends AbstractMap<String, Object> {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerRequestBuilder.java, +			}, +			else {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerResponseBuilder.java, +			}, +			catch (Throwable throwable) {, +				return handleError(throwable, request, response, context);, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/EntityResponse.java, +	 * @param <T> the entity type, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/package-info.java, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultEntityResponseBuilder.java, + * @param <T> the entity type, +final class DefaultEntityResponseBuilder<T> implements EntityResponse.Builder<T> {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerRequest.java, +		}, +		else {, +	/**, +	 * Default implementation of {@link Headers}., +	 */, +	private static final class ServletParametersMap extends AbstractMap<String, List<String>> {, +	private static final class ServletAttributesMap extends AbstractMap<String, Object> {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerRequestBuilder.java, +			}, +			else {, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultServerResponseBuilder.java, +			}, +			catch (Throwable throwable) {, +				return handleError(throwable, request, response, context);, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/EntityResponse.java, +	 * @param <T> the entity type, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/RouterFunctions.java, +								Optional<HandlerFunction<T>> result =, +										this.routerFunction.route(nestedRequest);, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/package-info.java, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/function/DefaultEntityResponseBuilder.java, + * @param <T> the entity type, +final class DefaultEntityResponseBuilder<T> implements EntityResponse.Builder<T> {]