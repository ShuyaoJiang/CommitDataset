[+++ b/spring-webflux/src/main/java/org/springframework/web/reactive/socket/adapter/ReactorNettyWebSocketSession.java, + * {@link WebSocketSession} implementation for use with the Reactor Netty's, + * {@link NettyInbound} and {@link NettyOutbound}., +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/socket/adapter/ReactorNettyWebSocketSession.java, + * {@link WebSocketSession} implementation for use with the Reactor Netty's, + * {@link NettyInbound} and {@link NettyOutbound}., +++ b/spring-webflux/src/test/java/org/springframework/web/reactive/socket/WebSocketIntegrationTests.java, +	private static final Duration TIMEOUT = Duration.ofMillis(5000);, +, +							.then();, +				.doOnSuccessOrError((aVoid, ex) -> logger.debug("Done: " + (ex != null ? ex.getMessage() : "success"))), +				.block(TIMEOUT);, +		assertEquals(input.collectList().block(TIMEOUT), output.collectList().block(TIMEOUT));, +				.block(TIMEOUT);, +		assertEquals("Wrong protocol detected on the server side", protocol, output.block(TIMEOUT));, +				.block(TIMEOUT);, +		assertEquals("my-header:my-value", output.block(TIMEOUT));, +				.block(TIMEOUT);]