[+++ b/org.springframework.expression/src/main/java/org/springframework/expression/spel/ast/SpelNode.java, +import org.springframework.expression.common.ExpressionUtils;, +import org.springframework.expression.spel.ExpressionState;, +		throw new SpelException(getCharPositionInLine(), SpelMessages.SETVALUE_NOT_SUPPORTED, getClass(),, +				getTokenName());, +		if (o == null), +			return null;, +, +	protected final Object getValue(ExpressionState state, Class<?> desiredReturnType) throws EvaluationException {, +		Object result = getValue(state);, +		if (result != null && desiredReturnType != null) {, +			Class<?> resultType = result.getClass();, +			if (desiredReturnType.isAssignableFrom(resultType)) {, +				return result;, +			}, +			// Attempt conversion to the requested type, may throw an exception, +			return ExpressionUtils.convert(state.getEvaluationContext(), result, desiredReturnType);, +		}, +		return result;, +	}]