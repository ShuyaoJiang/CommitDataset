[+++ b/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java, +		// A quick check for an existing entry upfront, avoiding synchronization..., +		if (containedBeans != null && containedBeans.contains(containedBeanName)) {, +			return;, +		}, +, +		// No entry yet -> fully synchronized manipulation of the dependentBeans Set, +		synchronized (this.containedBeanMap) {, +			containedBeans = this.containedBeanMap.get(containingBeanName);, +		// A quick check for an existing entry upfront, avoiding synchronization..., +		if (dependentBeans != null && dependentBeans.contains(dependentBeanName)) {, +			return;, +		}, +, +		// No entry yet -> fully synchronized manipulation of the dependentBeans Set, +		synchronized (this.dependentBeanMap) {, +			dependentBeans = this.dependentBeanMap.get(canonicalName);, +		String canonicalName = canonicalName(beanName);, +		Set<String> dependentBeans = this.dependentBeanMap.get(canonicalName);]