[+++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/view/tiles2/TilesConfigurer.java, +import org.apache.tiles.awareness.TilesApplicationContextAware;, +import org.apache.tiles.definition.Refreshable;, +import org.springframework.beans.BeanWrapper;, +import org.springframework.beans.PropertyAccessorFactory;, +				DefinitionsFactory factory = BeanUtils.instantiate(definitionsFactoryClass);, +				if (factory instanceof TilesApplicationContextAware) {, +					((TilesApplicationContextAware) factory).setApplicationContext(applicationContext);, +				}, +				BeanWrapper bw = PropertyAccessorFactory.forBeanPropertyAccess(factory);, +				if (bw.isWritableProperty("localeResolver")) {, +					bw.setPropertyValue("localeResolver", resolver);, +				}, +				if (bw.isWritableProperty("definitionDAO")) {, +					bw.setPropertyValue("definitionDAO",, +							createLocaleDefinitionDao(applicationContext, contextFactory, resolver));, +				}, +				if (factory instanceof Refreshable) {, +					((Refreshable) factory).refresh();, +				}, +				return factory;]