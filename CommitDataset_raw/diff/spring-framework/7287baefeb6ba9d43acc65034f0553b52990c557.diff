[+++ b/spring-jdbc/src/main/java/org/springframework/jdbc/object/GenericSqlQuery.java, + * Copyright 2002-2016 the original author or authors., +import org.springframework.beans.BeanUtils;, +/**, + * A concrete variant of {@link SqlQuery} which can be configured, + * with a {@link RowMapper}., + *, + * @author Thomas Risberg, + * @author Juergen Hoeller, + * @since 3.0, + * @see #setRowMapper, + * @see #setRowMapperClass, + */, +	private RowMapper<T> rowMapper;, +	private Class<? extends RowMapper> rowMapperClass;, +, +, +	/**, +	 * Set a specific {@link RowMapper} instance to use for this query., +	 * @since 4.3.2, +	 */, +	public void setRowMapper(RowMapper<T> rowMapper) {, +		this.rowMapper = rowMapper;, +	}, +, +	/**, +	 * Set a {@link RowMapper} class for this query, creating a fresh, +	 * {@link RowMapper} instance per execution., +	 */, +	@SuppressWarnings("rawtypes"), +	public void setRowMapperClass(Class<? extends RowMapper> rowMapperClass) {, +		Assert.isTrue(this.rowMapper != null || this.rowMapperClass != null,, +				"'rowMapper' or 'rowMapperClass' is required");, +, +		return (this.rowMapper != null ? this.rowMapper : BeanUtils.instantiateClass(this.rowMapperClass));, +, +++ b/spring-jdbc/src/main/java/org/springframework/jdbc/object/GenericSqlQuery.java, + * Copyright 2002-2016 the original author or authors., +import org.springframework.beans.BeanUtils;, +/**, + * A concrete variant of {@link SqlQuery} which can be configured, + * with a {@link RowMapper}., + *, + * @author Thomas Risberg, + * @author Juergen Hoeller, + * @since 3.0, + * @see #setRowMapper, + * @see #setRowMapperClass, + */, +	private RowMapper<T> rowMapper;, +	private Class<? extends RowMapper> rowMapperClass;, +, +, +	/**, +	 * Set a specific {@link RowMapper} instance to use for this query., +	 * @since 4.3.2, +	 */, +	public void setRowMapper(RowMapper<T> rowMapper) {, +		this.rowMapper = rowMapper;, +	}, +, +	/**, +	 * Set a {@link RowMapper} class for this query, creating a fresh, +	 * {@link RowMapper} instance per execution., +	 */, +	@SuppressWarnings("rawtypes"), +	public void setRowMapperClass(Class<? extends RowMapper> rowMapperClass) {, +		Assert.isTrue(this.rowMapper != null || this.rowMapperClass != null,, +				"'rowMapper' or 'rowMapperClass' is required");, +, +		return (this.rowMapper != null ? this.rowMapper : BeanUtils.instantiateClass(this.rowMapperClass));, +, +++ b/spring-jdbc/src/test/java/org/springframework/jdbc/object/GenericSqlQueryTests.java, + * @author Juergen Hoeller, +, +	public void testCustomerQueryWithPlaceholders() throws SQLException {, +		SqlQuery<?> query = (SqlQuery<?>) beanFactory.getBean("queryWithPlaceholders");, +	public void testCustomerQueryWithNamedParameters() throws SQLException {, +	@Test, +	public void testCustomerQueryWithRowMapperInstance() throws SQLException {, +		SqlQuery<?> query = (SqlQuery<?>) beanFactory.getBean("queryWithRowMapperBean");, +		doTestCustomerQuery(query, true);, +	}, +, +++ b/spring-jdbc/src/main/java/org/springframework/jdbc/object/GenericSqlQuery.java, + * Copyright 2002-2016 the original author or authors., +import org.springframework.beans.BeanUtils;, +/**, + * A concrete variant of {@link SqlQuery} which can be configured, + * with a {@link RowMapper}., + *, + * @author Thomas Risberg, + * @author Juergen Hoeller, + * @since 3.0, + * @see #setRowMapper, + * @see #setRowMapperClass, + */, +	private RowMapper<T> rowMapper;, +	private Class<? extends RowMapper> rowMapperClass;, +]