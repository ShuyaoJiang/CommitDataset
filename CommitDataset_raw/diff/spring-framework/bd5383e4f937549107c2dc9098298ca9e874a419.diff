[+++ b/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/OpenJpaDialect.java, +import org.apache.openjpa.persistence.FetchPlan;, +import org.apache.openjpa.persistence.jdbc.IsolationLevel;, +import org.apache.openjpa.persistence.jdbc.JDBCFetchPlan;, + * @author Costin Leau, +		OpenJPAEntityManager openJpaEntityManager = getOpenJPAEntityManager(entityManager);, +, +		if (definition.getIsolationLevel() != TransactionDefinition.ISOLATION_DEFAULT) {, +			// Pass custom isolation level on to OpenJPA's JDBCFetchPlan configuration, +			FetchPlan fetchPlan = openJpaEntityManager.getFetchPlan();, +			if (fetchPlan instanceof JDBCFetchPlan) {, +				IsolationLevel isolation = IsolationLevel.fromConnectionConstant(definition.getIsolationLevel());, +				((JDBCFetchPlan) fetchPlan).setIsolation(isolation);, +			}, +		}, +, +		entityManager.getTransaction().begin();, +, +			openJpaEntityManager.beginStore();, +, +		// Custom implementation for OpenJPA savepoint handling, +		return new OpenJpaTransactionData(openJpaEntityManager);]