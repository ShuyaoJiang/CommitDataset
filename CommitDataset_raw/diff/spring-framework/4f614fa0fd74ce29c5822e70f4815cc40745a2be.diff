[+++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Decoder.java, +import org.springframework.util.ByteBufferPublisherInputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Decoder.java, +import org.springframework.util.ByteBufferPublisherInputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Encoder.java, +import org.springframework.util.BufferOutputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Decoder.java, +import org.springframework.util.ByteBufferPublisherInputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Encoder.java, +import org.springframework.util.BufferOutputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/RxNettyServerHttpRequest.java, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Decoder.java, +import org.springframework.util.ByteBufferPublisherInputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Encoder.java, +import org.springframework.util.BufferOutputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/RxNettyServerHttpRequest.java, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/JettyHttpServer.java, +import org.springframework.http.server.reactive.ServletHttpHandlerAdapter;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Decoder.java, +import org.springframework.util.ByteBufferPublisherInputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Encoder.java, +import org.springframework.util.BufferOutputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/RxNettyServerHttpRequest.java, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/JettyHttpServer.java, +import org.springframework.http.server.reactive.ServletHttpHandlerAdapter;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/ReactorHttpServer.java, +import org.springframework.util.Assert;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Decoder.java, +import org.springframework.util.ByteBufferPublisherInputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Encoder.java, +import org.springframework.util.BufferOutputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/RxNettyServerHttpRequest.java, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/JettyHttpServer.java, +import org.springframework.http.server.reactive.ServletHttpHandlerAdapter;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/ReactorHttpServer.java, +import org.springframework.util.Assert;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/RxNettyHttpServer.java, +import org.springframework.util.Assert;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Decoder.java, +import org.springframework.util.ByteBufferPublisherInputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Encoder.java, +import org.springframework.util.BufferOutputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/RxNettyServerHttpRequest.java, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/JettyHttpServer.java, +import org.springframework.http.server.reactive.ServletHttpHandlerAdapter;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/ReactorHttpServer.java, +import org.springframework.util.Assert;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/RxNettyHttpServer.java, +import org.springframework.util.Assert;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/TomcatHttpServer.java, +import org.springframework.http.server.reactive.ServletHttpHandlerAdapter;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Decoder.java, +import org.springframework.util.ByteBufferPublisherInputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Encoder.java, +import org.springframework.util.BufferOutputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/RxNettyServerHttpRequest.java, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/JettyHttpServer.java, +import org.springframework.http.server.reactive.ServletHttpHandlerAdapter;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/ReactorHttpServer.java, +import org.springframework.util.Assert;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/RxNettyHttpServer.java, +import org.springframework.util.Assert;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/TomcatHttpServer.java, +import org.springframework.http.server.reactive.ServletHttpHandlerAdapter;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/UndertowHttpServer.java, +import org.springframework.beans.factory.InitializingBean;, +import org.springframework.http.server.reactive.UndertowHttpHandlerAdapter;, +import org.springframework.util.Assert;, +, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Decoder.java, +import org.springframework.util.ByteBufferPublisherInputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/core/codec/support/Jaxb2Encoder.java, +import org.springframework.util.BufferOutputStream;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/RxNettyServerHttpRequest.java, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/JettyHttpServer.java, +import org.springframework.http.server.reactive.ServletHttpHandlerAdapter;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/ReactorHttpServer.java, +import org.springframework.util.Assert;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/RxNettyHttpServer.java, +import org.springframework.util.Assert;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/TomcatHttpServer.java, +import org.springframework.http.server.reactive.ServletHttpHandlerAdapter;, +++ b/spring-web-reactive/src/main/java/org/springframework/http/server/reactive/boot/UndertowHttpServer.java, +import org.springframework.beans.factory.InitializingBean;, +import org.springframework.http.server.reactive.UndertowHttpHandlerAdapter;, +import org.springframework.util.Assert;, +, +++ b/spring-web-reactive/src/main/java/org/springframework/web/reactive/DispatcherHandler.java, +import org.springframework.web.server.WebHandler;, +import org.springframework.web.server.WebServerExchange;, +public class DispatcherHandler implements WebHandler, ApplicationContextAware {, +	public Mono<Void> handle(WebServerExchange exchange) {, +			ServerHttpRequest request = exchange.getRequest();, +				.concatMap(mapping -> mapping.getHandler(exchange)), +				.then(handler -> invokeHandler(exchange, handler)), +				.then(result -> handleResult(exchange, result)), +	private Mono<HandlerResult> invokeHandler(WebServerExchange exchange, Object handler) {, +				return handlerAdapter.handle(exchange, handler);, +	private Mono<Void> handleResult(WebServerExchange exchange, HandlerResult result) {, +		return getResultHandler(result).handleResult(exchange, result)]