[+++ b/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClass.java, +		return "ConfigurationClass: beanName '" + this.beanName + "', " + this.resource;, +++ b/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClass.java, +		return "ConfigurationClass: beanName '" + this.beanName + "', " + this.resource;, +++ b/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassParser.java, +	private final ImportStack importStack = new ImportStack();, +			catch (Throwable ex) {, +			catch (Throwable ex) {, +		if (checkForCircularImports && isChainedImportOnStack(configClass)) {, +			catch (Throwable ex) {, +	private boolean isChainedImportOnStack(ConfigurationClass configClass) {, +		if (this.importStack.contains(configClass)) {, +			String configClassName = configClass.getMetadata().getClassName();, +			AnnotationMetadata importingClass = this.importStack.getImportingClassFor(configClassName);, +			while (importingClass != null) {, +				if (configClassName.equals(importingClass.getClassName())) {, +					return true;, +				}, +				importingClass = this.importStack.getImportingClassFor(importingClass.getClassName());, +			}, +		}, +		return false;, +	}, +]