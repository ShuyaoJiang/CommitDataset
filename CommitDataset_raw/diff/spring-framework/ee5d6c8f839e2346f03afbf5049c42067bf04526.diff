[+++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpServletRequest.java, +import org.springframework.util.StringUtils;, +		this.method = method;, +		this.requestURI = requestURI;, +		this.method = method;, +		this.requestURI = requestURI;, +		if (StringUtils.hasText(getRequestURI())) {, +		}, +, +++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpServletRequest.java, +import org.springframework.util.StringUtils;, +		this.method = method;, +		this.requestURI = requestURI;, +		this.method = method;, +		this.requestURI = requestURI;, +		if (StringUtils.hasText(getRequestURI())) {, +		}, +, +++ b/spring-test/src/test/java/org/springframework/mock/web/MockHttpServletRequestTests.java, +	public void getRequestURLWithNullRequestUri() {, +		request.setRequestURI(null);, +		StringBuffer requestURL = request.getRequestURL();, +		assertEquals("http://localhost", requestURL.toString());, +	}, +, +	@Test]