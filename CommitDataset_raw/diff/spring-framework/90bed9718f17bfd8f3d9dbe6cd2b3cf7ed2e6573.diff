[+++ b/org.springframework.expression/src/main/java/org/springframework/expression/spel/support/ReflectiveMethodResolver.java, + * Copyright 2002-2011 the original author or authors., +			Method[] methods = getMethods(type);, +	/**, +	 * Return the set of methods for this type. The default implementation returns the, +	 * result of Class#getMethods for the given {@code type}, but subclasses may override, +	 * in order to alter the results, e.g. specifying static methods declared elsewhere., +	 *, +	 * @param type the class for which to return the methods, +	 * @since 3.1.1, +	 */, +	protected Method[] getMethods(Class<?> type) {, +		return type.getMethods();, +	}, +, +++ b/org.springframework.expression/src/main/java/org/springframework/expression/spel/support/ReflectiveMethodResolver.java, + * Copyright 2002-2011 the original author or authors., +			Method[] methods = getMethods(type);, +	/**, +	 * Return the set of methods for this type. The default implementation returns the, +	 * result of Class#getMethods for the given {@code type}, but subclasses may override, +	 * in order to alter the results, e.g. specifying static methods declared elsewhere., +	 *, +	 * @param type the class for which to return the methods, +	 * @since 3.1.1, +	 */, +	protected Method[] getMethods(Class<?> type) {, +		return type.getMethods();, +	}, +, +++ b/org.springframework.expression/src/test/java/org/springframework/expression/spel/SpringEL300Tests.java, +import static org.junit.Assert.fail;, +import java.lang.reflect.Method;, +import org.springframework.expression.MethodResolver;, +	/**, +	 * Test the ability to subclass the ReflectiveMethodResolver and change how it, +	 * determines the set of methods for a type., +	 */, +	@Test, +	public void testCustomStaticFunctions_SPR9038() {, +		try {, +			ExpressionParser parser = new SpelExpressionParser();, +			StandardEvaluationContext context = new StandardEvaluationContext();, +			List<MethodResolver> methodResolvers = new ArrayList<MethodResolver>();, +			methodResolvers.add(new ReflectiveMethodResolver() {, +				@Override, +				protected Method[] getMethods(Class<?> type) {, +					try {, +						return new Method[] {, +								Integer.class.getDeclaredMethod("parseInt", new Class[] {, +										String.class, Integer.TYPE }) };, +					} catch (NoSuchMethodException e1) {, +						return new Method[0];, +					}, +				}, +			});, +, +			context.setMethodResolvers(methodResolvers);, +			org.springframework.expression.Expression expression =, +					parser.parseExpression("parseInt('-FF', 16)");, +, +			Integer result = expression.getValue(context, "", Integer.class);, +			assertEquals("Equal assertion failed: ", -255, result.intValue());, +		} catch (Exception e) {, +			e.printStackTrace();, +			fail("Unexpected exception: "+e.toString());, +		}, +	}, +]