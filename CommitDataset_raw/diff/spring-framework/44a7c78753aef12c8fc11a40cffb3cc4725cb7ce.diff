[+++ b/spring-web/src/test/java/org/springframework/remoting/caucho/CauchoRemotingTests.java, + * Copyright 2002-2015 the original author or authors., +import java.io.IOException;, +import java.net.InetSocketAddress;, +import org.junit.Rule;, +import org.junit.Test;, +import org.junit.rules.ExpectedException;, +, +import org.springframework.aop.framework.ProxyFactory;, +import org.springframework.util.SocketUtils;, +, +import com.caucho.burlap.client.BurlapProxyFactory;, +import com.caucho.hessian.client.HessianProxyFactory;, +, +import com.sun.net.httpserver.HttpServer;, +, +import static org.junit.Assert.*;, + * @author Sam Brannen, +@SuppressWarnings("deprecation"), +public class CauchoRemotingTests {, +	@Rule, +	public final ExpectedException exception = ExpectedException.none();, +, +, +	@Test, +	public void hessianProxyFactoryBeanWithClassInsteadOfInterface() throws Exception {, +		exception.expect(IllegalArgumentException.class);, +, +	@Test, +	public void hessianProxyFactoryBeanWithAccessError() throws Exception {, +		HessianProxyFactoryBean factory = new HessianProxyFactoryBean();, +		exception.expect(RemoteAccessException.class);, +	@Test, +	public void hessianProxyFactoryBeanWithAuthenticationAndAccessError() throws Exception {, +		exception.expect(RemoteAccessException.class);, +	@Test, +	public void hessianProxyFactoryBeanWithCustomProxyFactory() throws Exception {, +		exception.expect(RemoteAccessException.class);, +	@Test, +	public void burlapProxyFactoryBeanWithAccessError() throws Exception {, +		exception.expect(RemoteAccessException.class);, +	@Test, +	public void burlapProxyFactoryBeanWithAuthenticationAndAccessError() throws Exception {, +		exception.expect(RemoteAccessException.class);, +	@Test, +	public void burlapProxyFactoryBeanWithCustomProxyFactory() throws Exception {, +		exception.expect(RemoteAccessException.class);, +	@Test, +	public void simpleHessianServiceExporter() throws IOException {, +		final int port = SocketUtils.findAvailableTcpPort();, +, +, +		HttpServer server = HttpServer.create(new InetSocketAddress(port), -1);, +			client.setServiceUrl("http://localhost:" + port + "/hessian");]