[+++ b/spring-web/src/main/java/org/springframework/web/context/request/ServletWebRequest.java, +import java.util.regex.Matcher;, +import java.util.regex.Pattern;, +	/**, +	 * Pattern matching ETag multiple field values in headers such as "If-Match", "If-None-Match", +	 * @see <a href="https://tools.ietf.org/html/rfc7232#section-2.3">Section 2.3 of RFC 7232</a>, +	 */, +	private static final Pattern ETAG_HEADER_VALUE_PATTERN = Pattern.compile("\\*|\\s*((W\\/)?(\"[^\"]*\"))\\s*,?");, +, +				if (hasRequestHeader(HEADER_IF_NONE_MATCH)) {, +				}, +		String serverETag = etag.replaceFirst("^W/", "");, +		Matcher eTagMatcher = ETAG_HEADER_VALUE_PATTERN.matcher(ifNoneMatch);, +		while (eTagMatcher.find()) {, +			if ("*".equals(eTagMatcher.group()), +					|| serverETag.equals(eTagMatcher.group(3))) {, +++ b/spring-web/src/main/java/org/springframework/web/context/request/ServletWebRequest.java, +import java.util.regex.Matcher;, +import java.util.regex.Pattern;, +	/**, +	 * Pattern matching ETag multiple field values in headers such as "If-Match", "If-None-Match", +	 * @see <a href="https://tools.ietf.org/html/rfc7232#section-2.3">Section 2.3 of RFC 7232</a>, +	 */, +	private static final Pattern ETAG_HEADER_VALUE_PATTERN = Pattern.compile("\\*|\\s*((W\\/)?(\"[^\"]*\"))\\s*,?");, +, +				if (hasRequestHeader(HEADER_IF_NONE_MATCH)) {, +				}, +		String serverETag = etag.replaceFirst("^W/", "");, +		Matcher eTagMatcher = ETAG_HEADER_VALUE_PATTERN.matcher(ifNoneMatch);, +		while (eTagMatcher.find()) {, +			if ("*".equals(eTagMatcher.group()), +					|| serverETag.equals(eTagMatcher.group(3))) {, +++ b/spring-web/src/test/java/org/springframework/web/context/request/ServletWebRequestHttpMethodsTests.java, +	public void checkNotModifiedETagWithSeparatorChars() {, +		String eTag = "\"Foo, Bar\"";, +		servletRequest.addHeader("If-None-Match", eTag);, +, +		assertTrue(request.checkNotModified(eTag));, +, +		assertEquals(304, servletResponse.getStatus());, +		assertEquals(eTag, servletResponse.getHeader("ETag"));, +	}, +, +, +	@Test]