[+++ b/org.springframework.core/src/main/java/org/springframework/core/io/support/PathMatchingResourcePatternResolver.java, +			if (logger.isWarnEnabled()) {, +				logger.warn("Cannot search for matching files underneath " + rootDirResource +, +			throw new IllegalStateException(, +					"Resource path [" + rootDir.getAbsolutePath() + "] does not denote a directory");, +		}, +		if (!rootDir.canRead()) {, +			if (logger.isWarnEnabled()) {, +				logger.warn("Cannot search for matching files underneath directory [" + rootDir.getAbsolutePath() +, +						"] because the application is not allowed to read the directory");, +			}, +			return Collections.emptySet();, +			if (logger.isWarnEnabled()) {, +				logger.warn("Could not retrieve contents of directory [" + dir.getAbsolutePath() + "]");, +			}, +			return;, +				if (!content.canRead()) {, +					if (logger.isDebugEnabled()) {, +						logger.debug("Skipping subdirectory [" + dir.getAbsolutePath() +, +								"] because the application is not allowed to read the directory");, +					}, +				}, +				else {, +			}]