[+++ b/spring-web/src/main/java/org/springframework/http/client/HttpComponentsAsyncClientHttpRequestFactory.java, +import java.io.Closeable;, +	private HttpAsyncClient asyncClient;, +		super();, +		this.asyncClient = HttpAsyncClients.createSystem();, +	 * @param asyncClient the HttpAsyncClient instance to use for this request factory, +	 * @since 4.3.10, +	public HttpComponentsAsyncClientHttpRequestFactory(HttpAsyncClient asyncClient) {, +		setAsyncClient(asyncClient);, +	}, +, +	/**, +	 * Create a new instance of the {@code HttpComponentsAsyncClientHttpRequestFactory}, +	 * with the given {@link CloseableHttpAsyncClient} instance and a default {@link HttpClient}., +	 * @param asyncClient the CloseableHttpAsyncClient instance to use for this request factory, +	 */, +	public HttpComponentsAsyncClientHttpRequestFactory(CloseableHttpAsyncClient asyncClient) {, +		super();, +		setAsyncClient(asyncClient);, +	 * @param asyncClient the HttpAsyncClient instance to use for this request factory, +	 * @since 4.3.10, +	 */, +	public HttpComponentsAsyncClientHttpRequestFactory(HttpClient httpClient, HttpAsyncClient asyncClient) {, +		super(httpClient);, +		setAsyncClient(asyncClient);, +	}, +, +	/**, +	 * Create a new instance of the {@code HttpComponentsAsyncClientHttpRequestFactory}, +	 * with the given {@link CloseableHttpClient} and {@link CloseableHttpAsyncClient} instances., +	 * @param httpClient the CloseableHttpClient instance to use for this request factory, +	 * @param asyncClient the CloseableHttpAsyncClient instance to use for this request factory, +			CloseableHttpClient httpClient, CloseableHttpAsyncClient asyncClient) {, +		setAsyncClient(asyncClient);, +	 * Set the {@code HttpAsyncClient} used for, +	 * {@linkplain #createAsyncRequest(URI, HttpMethod) synchronous execution}., +	 * @since 4.3.10, +	 * @see #setHttpClient(HttpClient), +	public void setAsyncClient(HttpAsyncClient asyncClient) {, +		Assert.notNull(asyncClient, "HttpAsyncClient must not be null");, +		this.asyncClient = asyncClient;, +	 * Return the {@code HttpAsyncClient} used for, +	 * {@linkplain #createAsyncRequest(URI, HttpMethod) synchronous execution}., +	 * @since 4.3.10, +	 * @see #getHttpClient(), +	public HttpAsyncClient getAsyncClient() {, +		return this.asyncClient;, +	}, +, +	/**, +	 * Set the {@code CloseableHttpAsyncClient} used for, +	 * {@linkplain #createAsyncRequest(URI, HttpMethod) asynchronous execution}., +	 * @deprecated as of 4.3.10, in favor of {@link #setAsyncClient(HttpAsyncClient)}, +	 */, +	@Deprecated, +	public void setHttpAsyncClient(CloseableHttpAsyncClient asyncClient) {, +		this.asyncClient = asyncClient;, +	}, +, +	/**, +	 * Return the {@code CloseableHttpAsyncClient} used for, +	 * {@linkplain #createAsyncRequest(URI, HttpMethod) asynchronous execution}., +	 * @deprecated as of 4.3.10, in favor of {@link #getAsyncClient()}, +	 */, +	@Deprecated, +		Assert.state(this.asyncClient == null || this.asyncClient instanceof CloseableHttpAsyncClient,, +				"No CloseableHttpAsyncClient - use getAsyncClient() instead");, +		return (CloseableHttpAsyncClient) this.asyncClient;, +        HttpAsyncClient asyncClient = getAsyncClient();, +		if (asyncClient instanceof CloseableHttpAsyncClient) {, +			CloseableHttpAsyncClient closeableAsyncClient = (CloseableHttpAsyncClient) asyncClient;, +			if (!closeableAsyncClient.isRunning()) {, +				closeableAsyncClient.start();, +			}, +, +, +				config = createRequestConfig(getAsyncClient());, +, +		return new HttpComponentsAsyncClientHttpRequest(getAsyncClient(), httpRequest, context);, +			HttpAsyncClient asyncClient = getAsyncClient();, +			if (asyncClient instanceof Closeable) {, +				((Closeable) asyncClient).close();, +			}, +++ b/spring-web/src/main/java/org/springframework/http/client/HttpComponentsAsyncClientHttpRequestFactory.java, +import java.io.Closeable;, +	private HttpAsyncClient asyncClient;, +		super();, +		this.asyncClient = HttpAsyncClients.createSystem();, +	 * @param asyncClient the HttpAsyncClient instance to use for this request factory, +	 * @since 4.3.10, +	public HttpComponentsAsyncClientHttpRequestFactory(HttpAsyncClient asyncClient) {, +		setAsyncClient(asyncClient);, +	}, +, +	/**, +	 * Create a new instance of the {@code HttpComponentsAsyncClientHttpRequestFactory}, +	 * with the given {@link CloseableHttpAsyncClient} instance and a default {@link HttpClient}., +	 * @param asyncClient the CloseableHttpAsyncClient instance to use for this request factory, +	 */, +	public HttpComponentsAsyncClientHttpRequestFactory(CloseableHttpAsyncClient asyncClient) {]