[+++ b/spring-aop/src/test/java/org/springframework/aop/scope/ScopedProxyAutowireTests.java, + * Copyright 2002-2016 the original author or authors., +import java.util.Arrays;, +, + * @author Juergen Hoeller, +, +		assertTrue(Arrays.asList(bf.getBeanNamesForType(TestBean.class, false, false)).contains("scoped"));, +		assertTrue(Arrays.asList(bf.getBeanNamesForType(TestBean.class, false, false)).contains("scoped"));, +++ b/spring-aop/src/test/java/org/springframework/aop/scope/ScopedProxyAutowireTests.java, + * Copyright 2002-2016 the original author or authors., +import java.util.Arrays;, +, + * @author Juergen Hoeller, +, +		assertTrue(Arrays.asList(bf.getBeanNamesForType(TestBean.class, false, false)).contains("scoped"));, +		assertTrue(Arrays.asList(bf.getBeanNamesForType(TestBean.class, false, false)).contains("scoped"));, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultListableBeanFactory.java, +						boolean matchFound = (allowEagerInit || !isFactoryBean ||, +								(mbd.getDecoratedDefinition() != null && !mbd.isLazyInit()) ||, +								containsSingleton(beanName)) &&, +								(includeNonSingletons || isSingleton(beanName)) &&, +								isTypeMatch(beanName, type);]