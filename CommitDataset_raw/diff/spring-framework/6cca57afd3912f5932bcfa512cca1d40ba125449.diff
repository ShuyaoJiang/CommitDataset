[+++ b/spring-orm/src/main/java/org/springframework/orm/hibernate3/support/OpenSessionInViewFilter.java, +					if (chain.isAsyncStarted()) {, +						throw new IllegalStateException("Deferred close is not supported with async requests.");, +					}, +++ b/spring-orm/src/main/java/org/springframework/orm/hibernate3/support/OpenSessionInViewFilter.java, +					if (chain.isAsyncStarted()) {, +						throw new IllegalStateException("Deferred close is not supported with async requests.");, +					}, +++ b/spring-orm/src/main/java/org/springframework/orm/hibernate3/support/OpenSessionInViewInterceptor.java, +		if (request.getAttribute(attributeName, WebRequest.SCOPE_REQUEST) == null) {, +			if (isSingleSession()) {, +			else {, +				throw new IllegalStateException("Deferred close is not supported with async requests.");, +			}, +		}]