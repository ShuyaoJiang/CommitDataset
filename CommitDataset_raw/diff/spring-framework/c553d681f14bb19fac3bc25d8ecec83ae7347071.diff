[+++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpServletRequest.java, +	public long getContentLengthLong() {, +		return getContentLength();, +	}, +, +	/**, +	 * The implementation of this (Servlet 3.1+) method calls, +	 * {@link MockHttpSession#changeSessionId()} if the session is a mock session., +	 * Otherwise it simply returns the current session id., +	 * @since 4.0.3, +	 */, +	public String changeSessionId() {, +		Assert.isTrue(this.session != null, "The request does not have a session");, +		if (this.session instanceof MockHttpSession) {, +			return ((MockHttpSession) session).changeSessionId();, +		}, +		return this.session.getId();, +	}, +, +++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpServletRequest.java, +	public long getContentLengthLong() {, +		return getContentLength();, +	}, +, +	/**, +	 * The implementation of this (Servlet 3.1+) method calls, +	 * {@link MockHttpSession#changeSessionId()} if the session is a mock session., +	 * Otherwise it simply returns the current session id., +	 * @since 4.0.3, +	 */, +	public String changeSessionId() {, +		Assert.isTrue(this.session != null, "The request does not have a session");, +		if (this.session instanceof MockHttpSession) {, +			return ((MockHttpSession) session).changeSessionId();, +		}, +		return this.session.getId();, +	}, +, +++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpSession.java, +	private String id;, +	/**, +	 * As of Servlet 3.1 the id of a session can be changed., +	 * @return the new session id., +	 * @since 4.0.3, +	 */, +	public String changeSessionId() {, +		this.id = Integer.toString(nextId++);, +		return this.id;, +	}, +, +++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpServletRequest.java, +	public long getContentLengthLong() {, +		return getContentLength();, +	}, +, +	/**, +	 * The implementation of this (Servlet 3.1+) method calls, +	 * {@link MockHttpSession#changeSessionId()} if the session is a mock session., +	 * Otherwise it simply returns the current session id., +	 * @since 4.0.3, +	 */, +	public String changeSessionId() {, +		Assert.isTrue(this.session != null, "The request does not have a session");, +		if (this.session instanceof MockHttpSession) {, +			return ((MockHttpSession) session).changeSessionId();, +		}, +		return this.session.getId();, +	}, +, +++ b/spring-test/src/main/java/org/springframework/mock/web/MockHttpSession.java, +	private String id;, +	/**, +	 * As of Servlet 3.1 the id of a session can be changed., +	 * @return the new session id., +	 * @since 4.0.3, +	 */, +	public String changeSessionId() {, +		this.id = Integer.toString(nextId++);, +		return this.id;, +	}, +, +++ b/spring-web/src/test/java/org/springframework/mock/web/test/MockHttpServletRequest.java, +	public long getContentLengthLong() {, +		return getContentLength();, +	}, +, +	/**, +	 * The implementation of this (Servlet 3.1+) method calls, +	 * {@link MockHttpSession#changeSessionId()} if the session is a mock session., +	 * Otherwise it simply returns the current session id., +	 * @since 4.0.3, +	 */, +	public String changeSessionId() {, +		Assert.isTrue(this.session != null, "The request does not have a session");, +		if (this.session instanceof MockHttpSession) {, +			return ((MockHttpSession) session).changeSessionId();, +		}, +		return this.session.getId();, +	}, +]