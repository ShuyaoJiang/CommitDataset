[+++ b/spring-beans/src/test/java/org/springframework/beans/factory/xml/UtilNamespaceHandlerTests.java, +import org.springframework.util.LinkedCaseInsensitiveMap;, +	public void testMapWithTypes() {, +		Map map = (Map) this.beanFactory.getBean("mapWithTypes");, +		assertTrue(map instanceof LinkedCaseInsensitiveMap);, +		assertEquals(this.beanFactory.getBean("testBean"), map.get("bean"));, +	}, +, +	@Test, +++ b/spring-beans/src/test/java/org/springframework/beans/factory/xml/UtilNamespaceHandlerTests.java, +import org.springframework.util.LinkedCaseInsensitiveMap;, +	public void testMapWithTypes() {, +		Map map = (Map) this.beanFactory.getBean("mapWithTypes");, +		assertTrue(map instanceof LinkedCaseInsensitiveMap);, +		assertEquals(this.beanFactory.getBean("testBean"), map.get("bean"));, +	}, +, +	@Test, +++ b/spring-beans/src/test/resources/org/springframework/beans/factory/xml/testUtilNamespace.xml, +	<util:map id="mapWithTypes" map-class="org.springframework.util.LinkedCaseInsensitiveMap", +			  key-type="java.lang.String" value-type="org.springframework.tests.sample.beans.TestBean">, +		<entry key="bean" value-ref="testBean"/>, +	</util:map>, +]