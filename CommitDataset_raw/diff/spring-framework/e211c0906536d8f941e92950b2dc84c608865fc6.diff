[+++ b/org.springframework.core/src/main/java/org/springframework/core/io/AbstractFileResolvingResource.java, +import java.io.InputStream;, +				HttpURLConnection httpCon =, +						(con instanceof HttpURLConnection ? (HttpURLConnection) con : null);, +				if (httpCon != null) {, +					httpCon.setRequestMethod("HEAD");, +					if (httpCon.getResponseCode() == HttpURLConnection.HTTP_OK) {, +						return true;, +				if (con.getContentLength() >= 0) {, +					return true;, +				}, +				if (httpCon != null) {, +					// no HTTP OK status, and no content-length header: give up, +					httpCon.disconnect();, +					return false;, +				}, +				else {, +					// Fall back to stream existence: can we open the stream?, +					InputStream is = getInputStream();, +					is.close();, +					return true;, +				}, +]