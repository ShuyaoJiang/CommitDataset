[+++ b/spring-context-support/src/main/java/org/springframework/scheduling/quartz/SchedulerAccessor.java, + * Copyright 2002-2014 the original author or authors., + * @author Stephane Nicoll, +				Map<?, ?> jobDataMap =, +						(Map<?, ?>) ReflectionUtils.invokeMethod(Trigger.class.getMethod("getJobDataMap"), trigger);, +		Class<?> targetClass = target.getClass();, +				Method addSchedulerListener = targetClass.getMethod("addSchedulerListener", SchedulerListener.class);, +				Method addJobListener;, +				if (quartz2) {, +					// addJobListener(JobListener) only introduced as late as Quartz 2.2, so we need, +					// to fall back to the Quartz 2.0/2.1 compatible variant with an empty matchers List, +					addJobListener = targetClass.getMethod("addJobListener", JobListener.class, List.class);, +				}, +				else {, +					addJobListener = targetClass.getMethod("addGlobalJobListener", JobListener.class);, +				}, +					if (quartz2) {, +						List<?> emptyMatchers = new LinkedList<Object>();, +						ReflectionUtils.invokeMethod(addJobListener, target, listener, emptyMatchers);, +					}, +					else {, +			}, +				Method addTriggerListener;, +				if (quartz2) {, +					// addTriggerListener(TriggerListener) only introduced as late as Quartz 2.2, so we need, +					// to fall back to the Quartz 2.0/2.1 compatible variant with an empty matchers List, +					addTriggerListener = targetClass.getMethod("addTriggerListener", TriggerListener.class, List.class);, +				}, +				else {, +					addTriggerListener = targetClass.getMethod("addGlobalTriggerListener", TriggerListener.class);, +				}, +					if (quartz2) {, +						List<?> emptyMatchers = new LinkedList<Object>();, +						ReflectionUtils.invokeMethod(addTriggerListener, target, listener, emptyMatchers);, +					}, +					else {, +			}]