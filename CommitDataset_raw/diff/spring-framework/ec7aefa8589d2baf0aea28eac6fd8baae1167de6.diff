[+++ b/spring-test/src/main/java/org/springframework/test/context/support/DefaultTestContext.java, + * Copyright 2002-2016 the original author or authors., +import java.util.Map;, +import java.util.concurrent.ConcurrentHashMap;, + * @author Rob Harrop, +public class DefaultTestContext implements TestContext {, +	private final Map<String, Object> attributes = new ConcurrentHashMap<>(0);, +, +	private volatile Object testInstance;, +	private volatile Method testMethod;, +	private volatile Throwable testException;, +			Assert.state(cac.isActive(), () -> "The ApplicationContext loaded for [" + mergedContextConfiguration, +	@Override, +	public void setAttribute(String name, Object value) {, +		Assert.notNull(name, "Name must not be null");, +		if (value != null) {, +			this.attributes.put(name, value);, +		}, +		else {, +			removeAttribute(name);, +		}, +	}, +, +	@Override, +	public Object getAttribute(String name) {, +		Assert.notNull(name, "Name must not be null");, +		return this.attributes.get(name);, +	}, +, +	@Override, +	public Object removeAttribute(String name) {, +		Assert.notNull(name, "Name must not be null");, +		return this.attributes.remove(name);, +	}, +, +	@Override, +	public boolean hasAttribute(String name) {, +		Assert.notNull(name, "Name must not be null");, +		return this.attributes.containsKey(name);, +	}, +, +	@Override, +	public String[] attributeNames() {, +		return this.attributes.keySet().stream().toArray(String[]::new);, +	}, +, +				.append("attributes", this.attributes)]