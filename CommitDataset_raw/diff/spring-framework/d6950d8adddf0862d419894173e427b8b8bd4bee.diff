[+++ b/spring-core/src/main/java/org/springframework/util/xml/StaxStreamXMLReader.java, + * Copyright 2002-2014 the original author or authors., +++ b/spring-core/src/main/java/org/springframework/util/xml/StaxStreamXMLReader.java, + * Copyright 2002-2014 the original author or authors., +++ b/spring-core/src/test/java/org/springframework/util/xml/AbstractStaxXMLReaderTestCase.java, +import java.io.ByteArrayInputStream;, +import javax.xml.transform.Transformer;, +import javax.xml.transform.TransformerFactory;, +import javax.xml.transform.dom.DOMResult;, +import javax.xml.transform.sax.SAXSource;, +import static org.junit.Assert.assertEquals;, +import org.w3c.dom.Node;, +	public void whitespace() throws Exception {, +		String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><test><node1> </node1><node2> Some text </node2></test>";, +, +		Transformer transformer = TransformerFactory.newInstance().newTransformer();, +, +		AbstractStaxXMLReader staxXmlReader = createStaxXmlReader(, +				new ByteArrayInputStream(xml.getBytes("UTF-8")));, +, +		SAXSource source = new SAXSource(staxXmlReader, new InputSource());, +		DOMResult result = new DOMResult();, +, +		transformer.transform(source, result);, +, +		Node node1 = result.getNode().getFirstChild().getFirstChild();, +		assertEquals(" ", node1.getTextContent());, +		assertEquals(" Some text ", node1.getNextSibling().getTextContent());, +	}, +, +	@Test, +	private LexicalHandler mockLexicalHandler() throws Exception {, +++ b/spring-core/src/main/java/org/springframework/util/xml/StaxStreamXMLReader.java, + * Copyright 2002-2014 the original author or authors., +++ b/spring-core/src/test/java/org/springframework/util/xml/AbstractStaxXMLReaderTestCase.java, +import java.io.ByteArrayInputStream;, +import javax.xml.transform.Transformer;, +import javax.xml.transform.TransformerFactory;, +import javax.xml.transform.dom.DOMResult;, +import javax.xml.transform.sax.SAXSource;, +import static org.junit.Assert.assertEquals;, +import org.w3c.dom.Node;, +	public void whitespace() throws Exception {, +		String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><test><node1> </node1><node2> Some text </node2></test>";, +, +		Transformer transformer = TransformerFactory.newInstance().newTransformer();, +, +		AbstractStaxXMLReader staxXmlReader = createStaxXmlReader(, +				new ByteArrayInputStream(xml.getBytes("UTF-8")));, +, +		SAXSource source = new SAXSource(staxXmlReader, new InputSource());, +		DOMResult result = new DOMResult();, +, +		transformer.transform(source, result);, +, +		Node node1 = result.getNode().getFirstChild().getFirstChild();, +		assertEquals(" ", node1.getTextContent());, +		assertEquals(" Some text ", node1.getNextSibling().getTextContent());, +	}, +, +	@Test, +	private LexicalHandler mockLexicalHandler() throws Exception {, +++ b/spring-core/src/test/resources/org/springframework/util/xml/testContentHandler.xml, +		xmlns:prefix="http://www.greeting.com/goodbye/" h:person="Arjen"> Some text </prefix:goodbye><h:so-long> </h:so-long></h:hello>]