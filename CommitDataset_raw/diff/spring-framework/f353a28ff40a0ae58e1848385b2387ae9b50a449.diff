[+++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/resource/ResourceUrlEncodingFilter.java, +			ResourceUrlProvider resourceUrlProvider = getResourceUrlProvider();, +			if (resourceUrlProvider == null) {, +				logger.debug("Request attribute exposing ResourceUrlProvider not found.");, +			String resolvedUrl = resourceUrlProvider.getForRequestUrl(this.request, url);, +			return (resolvedUrl != null ? super.encodeURL(resolvedUrl) : super.encodeURL(url));, +		}, +, +		private ResourceUrlProvider getResourceUrlProvider() {, +			String name = ResourceUrlProviderExposingInterceptor.RESOURCE_URL_PROVIDER_ATTR;, +			return (ResourceUrlProvider) this.request.getAttribute(name);, +		}, +]