[+++ b/spring-test/src/main/java/org/springframework/test/context/support/TestPropertySourceUtils.java, + * Copyright 2002-2016 the original author or authors., +			String... locations) {, +			String... inlinedProperties) {, +	public static void addInlinedPropertiesToEnvironment(ConfigurableEnvironment environment, String... inlinedProperties) {, +			MapPropertySource ps = (MapPropertySource) environment.getPropertySources().get(INLINED_PROPERTIES_PROPERTY_SOURCE_NAME);, +			if (ps == null) {, +				ps = new MapPropertySource(INLINED_PROPERTIES_PROPERTY_SOURCE_NAME,, +						new LinkedHashMap<String, Object>());, +			ps.getSource().putAll(convertInlinedPropertiesToMap(inlinedProperties));, +		}, +	public static Map<String, Object> convertInlinedPropertiesToMap(String... inlinedProperties) {, +++ b/spring-test/src/main/java/org/springframework/test/context/support/TestPropertySourceUtils.java, + * Copyright 2002-2016 the original author or authors., +			String... locations) {, +			String... inlinedProperties) {, +	public static void addInlinedPropertiesToEnvironment(ConfigurableEnvironment environment, String... inlinedProperties) {, +			MapPropertySource ps = (MapPropertySource) environment.getPropertySources().get(INLINED_PROPERTIES_PROPERTY_SOURCE_NAME);, +			if (ps == null) {, +				ps = new MapPropertySource(INLINED_PROPERTIES_PROPERTY_SOURCE_NAME,, +						new LinkedHashMap<String, Object>());, +			ps.getSource().putAll(convertInlinedPropertiesToMap(inlinedProperties));, +		}, +	public static Map<String, Object> convertInlinedPropertiesToMap(String... inlinedProperties) {, +++ b/spring-test/src/test/java/org/springframework/test/context/support/TestPropertySourceUtilsTests.java, + * Copyright 2002-2016 the original author or authors., +		addInlinedPropertiesToEnvironment(mock(ConfigurableApplicationContext.class), (String[]) null);, +		addInlinedPropertiesToEnvironment(new MockEnvironment(), (String[]) null);, +		convertInlinedPropertiesToMap((String[]) null);]