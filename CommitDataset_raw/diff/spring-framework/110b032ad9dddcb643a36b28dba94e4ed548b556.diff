[+++ b/org.springframework.context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java, +			new ConfigurationClassPostProcessor().checkConfigurationClassCandidate(configBeanDef);, +++ b/org.springframework.context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java, +			new ConfigurationClassPostProcessor().checkConfigurationClassCandidate(configBeanDef);, +++ b/org.springframework.context/src/main/java/org/springframework/context/annotation/ConfigurationClassEnhancer.java, +		if (logger.isDebugEnabled()) {, +			logger.debug(String.format("Successfully enhanced %s; enhanced class name is: %s",, +++ b/org.springframework.context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java, +			new ConfigurationClassPostProcessor().checkConfigurationClassCandidate(configBeanDef);, +++ b/org.springframework.context/src/main/java/org/springframework/context/annotation/ConfigurationClassEnhancer.java, +		if (logger.isDebugEnabled()) {, +			logger.debug(String.format("Successfully enhanced %s; enhanced class name is: %s",, +++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/configuration/ImportedConfigurationClassEnhancementTests.java, +	@Test, +		autowiredConfigClassIsEnhanced(ConfigThatDoesImport.class);, +		assertTrue("autowired config class has not been enhanced",, +				AopUtils.isCglibProxyClass(config.autowiredConfig.getClass()));, +	@Test, +		autowiredConfigClassBeanMethodsRespectScoping(ConfigThatDoesImport.class);, +		assertThat("got two distinct instances of testBean when singleton scoping was expected",, +				testBean1, sameInstance(testBean2));, +class ConfigThatDoesImport extends Config { }, +++ b/org.springframework.context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java, +			new ConfigurationClassPostProcessor().checkConfigurationClassCandidate(configBeanDef);, +++ b/org.springframework.context/src/main/java/org/springframework/context/annotation/ConfigurationClassEnhancer.java, +		if (logger.isDebugEnabled()) {, +			logger.debug(String.format("Successfully enhanced %s; enhanced class name is: %s",, +++ b/org.springframework.context/src/test/java/org/springframework/context/annotation/configuration/ImportedConfigurationClassEnhancementTests.java, +	@Test, +		autowiredConfigClassIsEnhanced(ConfigThatDoesImport.class);, +		assertTrue("autowired config class has not been enhanced",, +				AopUtils.isCglibProxyClass(config.autowiredConfig.getClass()));, +	@Test, +		autowiredConfigClassBeanMethodsRespectScoping(ConfigThatDoesImport.class);, +		assertThat("got two distinct instances of testBean when singleton scoping was expected",, +				testBean1, sameInstance(testBean2));, +class ConfigThatDoesImport extends Config { }, +++ b/org.springframework.context/src/test/resources/log4j.xml, +	<logger name="org.springframework.context">]