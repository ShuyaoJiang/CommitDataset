[+++ b/spring-web/src/main/java/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.java, +import com.fasterxml.jackson.databind.KeyDeserializer;, +import com.fasterxml.jackson.databind.cfg.HandlerInstantiator;, +import javafx.application.Application;, +import org.springframework.context.ApplicationContext;, +	private HandlerInstantiator handlerInstantiator;, +, +	private ApplicationContext applicationContext;, +, +	/**, +	 * Customize the construction of Jackson handlers ({@link JsonSerializer}, {@link JsonDeserializer},, +	 * {@link KeyDeserializer}, {@code TypeResolverBuilder} and {@code TypeIdResolver})., +	 * @since 4.1.3, +	 * @see Jackson2ObjectMapperBuilder#applicationContext(ApplicationContext), +	 */, +	public Jackson2ObjectMapperBuilder handlerInstantiator(HandlerInstantiator handlerInstantiator) {, +		this.handlerInstantiator = handlerInstantiator;, +		return this;, +	}, +, +	/**, +	 * Set the Spring {@link ApplicationContext} in order to autowire Jackson handlers ({@link JsonSerializer},, +	 * {@link JsonDeserializer}, {@link KeyDeserializer}, {@code TypeResolverBuilder} and {@code TypeIdResolver})., +	 * @since 4.1.3, +	 * @see SpringHandlerInstantiator, +	 */, +	public Jackson2ObjectMapperBuilder applicationContext(ApplicationContext applicationContext) {, +		this.applicationContext = applicationContext;, +		return this;, +	}, +		if (this.handlerInstantiator != null) {, +			objectMapper.setHandlerInstantiator(this.handlerInstantiator);, +		}, +		else if (this.applicationContext != null) {, +			objectMapper.setHandlerInstantiator(new SpringHandlerInstantiator(this.applicationContext.getAutowireCapableBeanFactory()));, +		}, +++ b/spring-web/src/main/java/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.java, +import com.fasterxml.jackson.databind.KeyDeserializer;, +import com.fasterxml.jackson.databind.cfg.HandlerInstantiator;, +import javafx.application.Application;, +import org.springframework.context.ApplicationContext;, +	private HandlerInstantiator handlerInstantiator;, +, +	private ApplicationContext applicationContext;, +, +	/**, +	 * Customize the construction of Jackson handlers ({@link JsonSerializer}, {@link JsonDeserializer},, +	 * {@link KeyDeserializer}, {@code TypeResolverBuilder} and {@code TypeIdResolver})., +	 * @since 4.1.3, +	 * @see Jackson2ObjectMapperBuilder#applicationContext(ApplicationContext), +	 */, +	public Jackson2ObjectMapperBuilder handlerInstantiator(HandlerInstantiator handlerInstantiator) {, +		this.handlerInstantiator = handlerInstantiator;, +		return this;, +	}, +, +	/**, +	 * Set the Spring {@link ApplicationContext} in order to autowire Jackson handlers ({@link JsonSerializer},, +	 * {@link JsonDeserializer}, {@link KeyDeserializer}, {@code TypeResolverBuilder} and {@code TypeIdResolver})., +	 * @since 4.1.3, +	 * @see SpringHandlerInstantiator, +	 */, +	public Jackson2ObjectMapperBuilder applicationContext(ApplicationContext applicationContext) {, +		this.applicationContext = applicationContext;, +		return this;, +	}, +		if (this.handlerInstantiator != null) {, +			objectMapper.setHandlerInstantiator(this.handlerInstantiator);, +		}, +		else if (this.applicationContext != null) {, +			objectMapper.setHandlerInstantiator(new SpringHandlerInstantiator(this.applicationContext.getAutowireCapableBeanFactory()));, +		}, +++ b/spring-web/src/main/java/org/springframework/http/converter/json/Jackson2ObjectMapperFactoryBean.java, +import com.fasterxml.jackson.databind.KeyDeserializer;, +import com.fasterxml.jackson.databind.cfg.HandlerInstantiator;, +import org.springframework.context.ApplicationContext;, +import org.springframework.context.ApplicationContextAware;, + * @author Sebastien Deleuze, +public class Jackson2ObjectMapperFactoryBean implements FactoryBean<ObjectMapper>, BeanClassLoaderAware,, +		ApplicationContextAware, InitializingBean {, +	/**, +	 * Customize the construction of Jackson handlers ({@link JsonSerializer}, {@link JsonDeserializer},, +	 * {@link KeyDeserializer}, {@code TypeResolverBuilder} and {@code TypeIdResolver})., +	 * @since 4.1.3, +	 * @see Jackson2ObjectMapperFactoryBean#setApplicationContext(ApplicationContext), +	 */, +	public void setHandlerInstantiator(HandlerInstantiator handlerInstantiator) {, +		this.builder.handlerInstantiator(handlerInstantiator);, +	}, +, +	/**, +	 * Set the builder {@link ApplicationContext} in order to autowire Jackson handlers ({@link JsonSerializer},, +	 * {@link JsonDeserializer}, {@link KeyDeserializer}, {@code TypeResolverBuilder} and {@code TypeIdResolver})., +	 * @since 4.1.3, +	 * @see Jackson2ObjectMapperBuilder#applicationContext(ApplicationContext), +	 * @see SpringHandlerInstantiator, +	 */, +	@Override, +	public void setApplicationContext(ApplicationContext applicationContext) {, +		this.builder.applicationContext(applicationContext);]