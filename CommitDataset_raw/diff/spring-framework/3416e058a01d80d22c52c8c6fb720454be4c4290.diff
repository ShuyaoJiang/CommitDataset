[+++ b/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassParser.java, +import java.util.LinkedList;, +	private static final String[] EMPTY_IMPORTS = {};, +, +		processImport(configClass, getImports(metadata.getClassName()), true);, +	private String[] getImports(String className) throws IOException {, +		LinkedList<String> imports = new LinkedList<String>();, +		collectImports(className, imports, new HashSet<String>());, +		if(imports == null || imports.isEmpty()) {, +			return EMPTY_IMPORTS;, +		}, +		LinkedHashSet<String> uniqueImports = new LinkedHashSet<String>(imports);, +		return uniqueImports.toArray(new String[uniqueImports.size()]);, +	}, +, +	private void collectImports(String className, LinkedList<String> imports,, +			for (String annotationType : metadata.getAnnotationTypes()) {, +				collectImports(annotationType, imports, visited);, +			}]