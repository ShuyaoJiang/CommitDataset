[+++ b/spring-web/src/main/java/org/springframework/remoting/httpinvoker/HttpInvokerServiceExporter.java, + * Copyright 2002-2016 the original author or authors., +import java.io.FilterOutputStream;, +		ObjectOutputStream oos =, +				createObjectOutputStream(new FlushGuardedOutputStream(decorateOutputStream(request, response, os)));, +	/**, +	 * Decorate an OutputStream to guard against {@code flush()} calls, which, +	 * are turned into no-ops., +	 * <p>Because {@link ObjectOutputStream#close()} will in fact flush/drain, +	 * the underlying stream twice, this {@link FilterOutputStream} will, +	 * guard against individual flush calls. Multiple flush calls can lead, +	 * to performance issues, since writes aren't gathered as they should be., +	 *, +	 * @see <a href="https://jira.spring.io/browse/SPR-14040">SPR-14040</a>, +	 */, +	class FlushGuardedOutputStream extends FilterOutputStream {, +		public FlushGuardedOutputStream(OutputStream out) {, +			super(out);, +		}, +, +		@Override, +		public void flush() throws IOException {, +			// Do nothing, +		}, +	}, +]