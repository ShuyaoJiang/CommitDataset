[+++ b/spring-core/src/main/java/org/springframework/util/FastByteArrayOutputStream.java, +					return this.currentBuffer[this.nextIndexInCurrentBuffer++] & 0xFF;, +++ b/spring-core/src/main/java/org/springframework/util/FastByteArrayOutputStream.java, +					return this.currentBuffer[this.nextIndexInCurrentBuffer++] & 0xFF;, +++ b/spring-core/src/test/java/org/springframework/util/FastByteArrayOutputStreamTests.java, +import java.io.ByteArrayInputStream;, +	public void getInputStreamReadBytePromotion() throws Exception {, +		byte[] bytes = new byte[] { -1 };, +		this.os.write(bytes);, +		InputStream inputStream = this.os.getInputStream();, +		ByteArrayInputStream bais = new ByteArrayInputStream(bytes);, +		assertEquals(bais.read(), inputStream.read());, +	}, +, +	@Test]