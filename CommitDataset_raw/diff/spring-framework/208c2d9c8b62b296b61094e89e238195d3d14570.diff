[+++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/view/xml/MarshallingView.java, +			if (o == null) {, +				throw new ServletException("Model contains no object with key [" + modelKey + "]");, +			}, +++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/view/xml/MarshallingView.java, +			if (o == null) {, +				throw new ServletException("Model contains no object with key [" + modelKey + "]");, +			}, +++ b/org.springframework.web.servlet/src/test/java/org/springframework/web/servlet/view/xml/MarshallingViewTests.java, +	public void renderInvalidModelKey() throws Exception {, +		Object toBeMarshalled = new Object();, +		String modelKey = "key";, +		view.setModelKey("invalidKey");, +		Map model = new HashMap();, +		model.put(modelKey, toBeMarshalled);, +, +		MockHttpServletRequest request = new MockHttpServletRequest();, +		MockHttpServletResponse response = new MockHttpServletResponse();, +, +		replay(marshallerMock);, +		try {, +			view.render(model, request, response);, +			fail("ServletException expected");, +		}, +		catch (ServletException ex) {, +			// expected, +		}, +		assertEquals("Invalid content length", 0, response.getContentLength());, +		verify(marshallerMock);, +	}, +, +	@Test]