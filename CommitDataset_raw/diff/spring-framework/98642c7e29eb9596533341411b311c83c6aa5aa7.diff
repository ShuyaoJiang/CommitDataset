[+++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/RenderingContext.java, +, +		return this.applicationContext;, +		return this.locale;, +		return this.templateLoader;, +		return this.url;, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/RenderingContext.java, +, +		return this.applicationContext;, +		return this.locale;, +		return this.templateLoader;, +		return this.url;, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/ScriptTemplateView.java, +import org.springframework.context.i18n.LocaleContextHolder;, + * <p>The Nashorn JavaScript engine requires Java 8+ and may require setting the, +				Locale locale = LocaleContextHolder.getLocale(exchange.getLocaleContext());, +						obtainApplicationContext(), locale, templateLoader, url);, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/RenderingContext.java, +, +		return this.applicationContext;, +		return this.locale;, +		return this.templateLoader;, +		return this.url;, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/ScriptTemplateView.java, +import org.springframework.context.i18n.LocaleContextHolder;, + * <p>The Nashorn JavaScript engine requires Java 8+ and may require setting the, +				Locale locale = LocaleContextHolder.getLocale(exchange.getLocaleContext());, +						obtainApplicationContext(), locale, templateLoader, url);, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/ScriptTemplateViewResolver.java, + * Copyright 2002-2017 the original author or authors., +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/RenderingContext.java, +, +		return this.applicationContext;, +		return this.locale;, +		return this.templateLoader;, +		return this.url;, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/ScriptTemplateView.java, +import org.springframework.context.i18n.LocaleContextHolder;, + * <p>The Nashorn JavaScript engine requires Java 8+ and may require setting the, +				Locale locale = LocaleContextHolder.getLocale(exchange.getLocaleContext());, +						obtainApplicationContext(), locale, templateLoader, url);, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/ScriptTemplateViewResolver.java, + * Copyright 2002-2017 the original author or authors., +++ b/spring-webflux/src/test/java/org/springframework/web/reactive/result/view/script/KotlinScriptTemplateTests.java, +		MockServerWebExchange exchange = MockServerHttpRequest.get("/").acceptLanguageAsLocales(locale).toExchange();, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/RenderingContext.java, +, +		return this.applicationContext;, +		return this.locale;, +		return this.templateLoader;, +		return this.url;, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/ScriptTemplateView.java, +import org.springframework.context.i18n.LocaleContextHolder;, + * <p>The Nashorn JavaScript engine requires Java 8+ and may require setting the, +				Locale locale = LocaleContextHolder.getLocale(exchange.getLocaleContext());, +						obtainApplicationContext(), locale, templateLoader, url);, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/ScriptTemplateViewResolver.java, + * Copyright 2002-2017 the original author or authors., +++ b/spring-webflux/src/test/java/org/springframework/web/reactive/result/view/script/KotlinScriptTemplateTests.java, +		MockServerWebExchange exchange = MockServerHttpRequest.get("/").acceptLanguageAsLocales(locale).toExchange();, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/view/script/RenderingContext.java, +, +		return this.applicationContext;, +		return this.locale;, +		return this.templateLoader;, +		return this.url;, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/RenderingContext.java, +, +		return this.applicationContext;, +		return this.locale;, +		return this.templateLoader;, +		return this.url;, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/ScriptTemplateView.java, +import org.springframework.context.i18n.LocaleContextHolder;, + * <p>The Nashorn JavaScript engine requires Java 8+ and may require setting the, +				Locale locale = LocaleContextHolder.getLocale(exchange.getLocaleContext());, +						obtainApplicationContext(), locale, templateLoader, url);, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/ScriptTemplateViewResolver.java, + * Copyright 2002-2017 the original author or authors., +++ b/spring-webflux/src/test/java/org/springframework/web/reactive/result/view/script/KotlinScriptTemplateTests.java, +		MockServerWebExchange exchange = MockServerHttpRequest.get("/").acceptLanguageAsLocales(locale).toExchange();, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/view/script/RenderingContext.java, +, +		return this.applicationContext;, +		return this.locale;, +		return this.templateLoader;, +		return this.url;, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/view/script/ScriptTemplateView.java, +import org.springframework.web.servlet.support.RequestContextUtils;, + * <p>The Nashorn JavaScript engine requires Java 8+ and may require setting the, +, +, +			Locale locale = RequestContextUtils.getLocale(request);, +			RenderingContext context = new RenderingContext(obtainApplicationContext(), locale, templateLoader, url);, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/result/view/script/RenderingContext.java, +, +		return this.applicationContext;, +		return this.locale;, +		return this.templateLoader;, +		return this.url;]