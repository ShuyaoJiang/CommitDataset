[+++ b/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/HibernateJpaDialect.java, +				if (!isEquivalentConnection(conToReset)) {, +							"JDBC Connection to reset not equivalent to originally prepared Connection - please " +, +, +		private boolean isEquivalentConnection(Connection con) {, +			try {, +				return (con.equals(this.preparedCon) ||, +						con.unwrap(Connection.class).equals(this.preparedCon.unwrap(Connection.class)));, +			}, +			catch (Throwable ex) {, +				return false;, +			}, +		}]