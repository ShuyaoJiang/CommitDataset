[+++ b/org.springframework.jms/src/main/java/org/springframework/jms/listener/AbstractPollingMessageListenerContainer.java, +	private volatile Boolean commitAfterNoMessageReceived;, +, +				// However, don't do this on Tibco since this may lead to a deadlock there., +				if (shouldCommitAfterNoMessageReceived(sessionToUse)) {, +				}, +	 * Determine whether to trigger a commit after no message has been received., +	 * This is a good idea on any JMS provider other than Tibco, which is what, +	 * this default implementation checks for., +	 * @param session the current JMS Session which received no message, +	 * @return whether to call {@link #commitIfNecessary} on the given Session, +	 */, +	protected boolean shouldCommitAfterNoMessageReceived(Session session) {, +		if (this.commitAfterNoMessageReceived == null) {, +			Session target = ConnectionFactoryUtils.getTargetSession(session);, +			this.commitAfterNoMessageReceived = !target.getClass().getName().startsWith("com.tibco.tibjms.");, +		}, +		return this.commitAfterNoMessageReceived;, +	}, +, +	/**]