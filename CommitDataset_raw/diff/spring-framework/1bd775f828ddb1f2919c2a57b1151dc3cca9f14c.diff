[+++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/DependencyDescriptor.java, +	/**, +	 * Copy constructor., +	 * @param original the original descriptor to create a copy from, +	 */, +	public DependencyDescriptor(DependencyDescriptor original) {, +		this.methodParameter = original.methodParameter;, +		this.field = original.field;, +		this.declaringClass = original.declaringClass;, +		this.methodName = original.methodName;, +		this.parameterTypes = original.parameterTypes;, +		this.parameterIndex = original.parameterIndex;, +		this.fieldName = original.fieldName;, +		this.required = original.required;, +		this.eager = original.eager;, +		this.nestingLevel = original.nestingLevel;, +		this.fieldAnnotations = original.fieldAnnotations;, +	}, +, +	/**, +	 * Increase this descriptor's nesting level., +	 * @see MethodParameter#increaseNestingLevel(), +	 */, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/DependencyDescriptor.java, +	/**, +	 * Copy constructor., +	 * @param original the original descriptor to create a copy from, +	 */, +	public DependencyDescriptor(DependencyDescriptor original) {, +		this.methodParameter = original.methodParameter;, +		this.field = original.field;, +		this.declaringClass = original.declaringClass;, +		this.methodName = original.methodName;, +		this.parameterTypes = original.parameterTypes;, +		this.parameterIndex = original.parameterIndex;, +		this.fieldName = original.fieldName;, +		this.required = original.required;, +		this.eager = original.eager;, +		this.nestingLevel = original.nestingLevel;, +		this.fieldAnnotations = original.fieldAnnotations;, +	}, +, +	/**, +	 * Increase this descriptor's nesting level., +	 * @see MethodParameter#increaseNestingLevel(), +	 */, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultListableBeanFactory.java, +			this.descriptor = new DependencyDescriptor(descriptor);, +			this.beanName = beanName;, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/DependencyDescriptor.java, +	/**, +	 * Copy constructor., +	 * @param original the original descriptor to create a copy from, +	 */, +	public DependencyDescriptor(DependencyDescriptor original) {, +		this.methodParameter = original.methodParameter;, +		this.field = original.field;, +		this.declaringClass = original.declaringClass;, +		this.methodName = original.methodName;, +		this.parameterTypes = original.parameterTypes;, +		this.parameterIndex = original.parameterIndex;, +		this.fieldName = original.fieldName;, +		this.required = original.required;, +		this.eager = original.eager;, +		this.nestingLevel = original.nestingLevel;, +		this.fieldAnnotations = original.fieldAnnotations;, +	}, +, +	/**, +	 * Increase this descriptor's nesting level., +	 * @see MethodParameter#increaseNestingLevel(), +	 */, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultListableBeanFactory.java, +			this.descriptor = new DependencyDescriptor(descriptor);, +			this.beanName = beanName;, +++ b/spring-beans/src/test/java/org/springframework/beans/factory/annotation/AutowiredAnnotationBeanPostProcessorTests.java, +import static org.junit.Assert.*;, +, +	public void testObjectFactoryInjectionIntoPrototypeBean() {, +		DefaultListableBeanFactory bf = new DefaultListableBeanFactory();, +		AutowiredAnnotationBeanPostProcessor bpp = new AutowiredAnnotationBeanPostProcessor();, +		bpp.setBeanFactory(bf);, +		bf.addBeanPostProcessor(bpp);, +		bf.registerBeanDefinition("annotatedBean", new RootBeanDefinition(ObjectFactoryInjectionBean.class, false));, +		bf.registerBeanDefinition("testBean", new RootBeanDefinition(TestBean.class));, +, +		ObjectFactoryInjectionBean bean = (ObjectFactoryInjectionBean) bf.getBean("annotatedBean");, +		assertSame(bf.getBean("testBean"), bean.getTestBean());, +		ObjectFactoryInjectionBean anotherBean = (ObjectFactoryInjectionBean) bf.getBean("annotatedBean");, +		assertNotSame(anotherBean, bean);, +		assertSame(bf.getBean("testBean"), anotherBean.getTestBean());, +	}, +, +	@Test, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/DependencyDescriptor.java, +	/**, +	 * Copy constructor., +	 * @param original the original descriptor to create a copy from, +	 */, +	public DependencyDescriptor(DependencyDescriptor original) {]