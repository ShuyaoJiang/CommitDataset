[+++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/WebSocketNamespaceUtils.java, +import org.springframework.util.ClassUtils;, +import org.springframework.web.socket.config.annotation.WebSocketConfigurationSupport;, +	// Check for setRemoveOnCancelPolicy method - available on JDK 7 and higher, +	private static boolean hasRemoveOnCancelPolicyMethod = ClassUtils.hasMethod(, +			WebSocketConfigurationSupport.class, "setRemoveOnCancelPolicy", boolean.class);, +, +, +			if (hasRemoveOnCancelPolicyMethod) {, +			}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/WebSocketNamespaceUtils.java, +import org.springframework.util.ClassUtils;, +import org.springframework.web.socket.config.annotation.WebSocketConfigurationSupport;, +	// Check for setRemoveOnCancelPolicy method - available on JDK 7 and higher, +	private static boolean hasRemoveOnCancelPolicyMethod = ClassUtils.hasMethod(, +			WebSocketConfigurationSupport.class, "setRemoveOnCancelPolicy", boolean.class);, +, +, +			if (hasRemoveOnCancelPolicyMethod) {, +			}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/WebSocketConfigurationSupport.java, +import org.springframework.util.ClassUtils;, +	// Check for setRemoveOnCancelPolicy method - available on JDK 7 and higher, +	private static boolean hasRemoveOnCancelPolicyMethod = ClassUtils.hasMethod(, +			WebSocketConfigurationSupport.class, "setRemoveOnCancelPolicy", boolean.class);, +, +, +		if (hasRemoveOnCancelPolicyMethod) {, +		}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/WebSocketNamespaceUtils.java, +import org.springframework.util.ClassUtils;, +import org.springframework.web.socket.config.annotation.WebSocketConfigurationSupport;, +	// Check for setRemoveOnCancelPolicy method - available on JDK 7 and higher, +	private static boolean hasRemoveOnCancelPolicyMethod = ClassUtils.hasMethod(, +			WebSocketConfigurationSupport.class, "setRemoveOnCancelPolicy", boolean.class);, +, +, +			if (hasRemoveOnCancelPolicyMethod) {, +			}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/WebSocketConfigurationSupport.java, +import org.springframework.util.ClassUtils;, +	// Check for setRemoveOnCancelPolicy method - available on JDK 7 and higher, +	private static boolean hasRemoveOnCancelPolicyMethod = ClassUtils.hasMethod(, +			WebSocketConfigurationSupport.class, "setRemoveOnCancelPolicy", boolean.class);, +, +, +		if (hasRemoveOnCancelPolicyMethod) {, +		}, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/config/annotation/WebSocketMessageBrokerConfigurationSupport.java, +import org.springframework.util.ClassUtils;, +	// Check for setRemoveOnCancelPolicy method - available on JDK 7 and higher, +	private static boolean hasRemoveOnCancelPolicyMethod = ClassUtils.hasMethod(, +			WebSocketConfigurationSupport.class, "setRemoveOnCancelPolicy", boolean.class);, +, +		if (hasRemoveOnCancelPolicyMethod) {, +		}]