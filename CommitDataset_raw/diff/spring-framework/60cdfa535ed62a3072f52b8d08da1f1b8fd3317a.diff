[+++ b/spring-context/src/test/java/org/springframework/context/annotation/ComponentScanParserScopedProxyTests.java, + * Copyright 2002-2015 the original author or authors., +import org.junit.Rule;, +import org.junit.rules.ExpectedException;, +import org.springframework.beans.factory.parsing.BeanDefinitionParsingException;, +import example.scannable.FooService;, +import example.scannable.ScopedProxyTestBean;, +, +import static org.hamcrest.CoreMatchers.*;, + * @author Sam Brannen, +	@Rule, +	public final ExpectedException exception = ExpectedException.none();, +, +		context.close();, +		context.close();, +		context.close();, +		context.close();, +	@SuppressWarnings("resource"), +	public void testInvalidConfigScopedProxy() throws Exception {, +		exception.expect(BeanDefinitionParsingException.class);, +		exception.expectMessage(containsString("Cannot define both 'scope-resolver' and 'scoped-proxy' on <component-scan> tag"));, +		exception.expectMessage(containsString("Offending resource: class path resource [org/springframework/context/annotation/scopedProxyInvalidConfigTests.xml]"));, +		new ClassPathXmlApplicationContext("org/springframework/context/annotation/scopedProxyInvalidConfigTests.xml");]