[+++ b/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java, + * Copyright 2002-2016 the original author or authors., +	 * {@code BeanPostProcessor} that detects beans which implement the {@code ApplicationListener}, +	 * interface. This catches beans that can't reliably be detected by {@code getBeanNamesForType}, +	 * and related operations which only work against top-level beans., +	 *, +	 * <p>With standard Java serialization, this post-processor won't get serialized as part of, +	 * {@code DisposableBeanAdapter} to begin with. However, with alternative serialization, +	 * mechanisms, {@code DisposableBeanAdapter.writeReplace} might not get used at all, so we, +	 * defensively mark this post-processor's field state as {@code transient}., +		private transient final AbstractApplicationContext applicationContext;, +		private transient final Map<String, Boolean> singletonNames = new ConcurrentHashMap<String, Boolean>(256);, +			if (this.applicationContext != null && beanDefinition.isSingleton()) {, +			if (this.applicationContext != null && bean instanceof ApplicationListener) {]