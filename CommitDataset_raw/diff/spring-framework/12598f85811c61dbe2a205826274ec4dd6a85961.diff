[+++ b/spring-web/src/main/java/org/springframework/web/util/UrlPathHelper.java, + * Copyright 2002-2014 the original author or authors., +			if (pathInfo != null) {, +				// Use path info if available. Indicates index page within a servlet mapping?, +				// e.g. with index page: URI="/", servletPath="/index.html", +				return pathInfo;, +			}, +			if (this.urlDecode == false) {, +				// No path info... (not mapped by prefix, nor by extension, nor "/*"), +				// For the default servlet mapping (i.e. "/"), urlDecode=false can, +				// cause issues since getServletPath() returns a decoded path., +				// If decoding pathWithinApp yields a match just use pathWithinApp, +				path = getRemainingPath(decodeInternal(request, pathWithinApp), servletPath, false);, +				if (path != null) {, +					return pathWithinApp;, +				}, +			}, +			// Otherwise, use the full servlet path, +			return servletPath;, +++ b/spring-web/src/main/java/org/springframework/web/util/UrlPathHelper.java, + * Copyright 2002-2014 the original author or authors., +			if (pathInfo != null) {, +				// Use path info if available. Indicates index page within a servlet mapping?, +				// e.g. with index page: URI="/", servletPath="/index.html", +				return pathInfo;, +			}, +			if (this.urlDecode == false) {, +				// No path info... (not mapped by prefix, nor by extension, nor "/*"), +				// For the default servlet mapping (i.e. "/"), urlDecode=false can, +				// cause issues since getServletPath() returns a decoded path., +				// If decoding pathWithinApp yields a match just use pathWithinApp, +				path = getRemainingPath(decodeInternal(request, pathWithinApp), servletPath, false);, +				if (path != null) {, +					return pathWithinApp;, +				}, +			}, +			// Otherwise, use the full servlet path, +			return servletPath;, +++ b/spring-web/src/test/java/org/springframework/web/util/UrlPathHelperTests.java, +	// SPR-11101, +, +	@Test, +	public void getPathWithinServletWithoutUrlDecoding() {, +		request.setContextPath("/SPR-11101");, +		request.setServletPath("/test_url_decoding/a/b");, +		request.setRequestURI("/test_url_decoding/a%2Fb");, +, +		helper.setUrlDecode(false);, +		String actual = helper.getPathWithinServletMapping(request);, +, +		assertEquals("/test_url_decoding/a%2Fb", actual);, +	}, +]