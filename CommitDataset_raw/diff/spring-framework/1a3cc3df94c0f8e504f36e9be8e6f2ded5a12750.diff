[+++ b/spring-test/src/main/java/org/springframework/mock/web/reactive/function/server/MockServerRequest.java, +import org.springframework.http.HttpRequest;, +import org.springframework.web.util.UriBuilder;, +import org.springframework.web.util.UriComponentsBuilder;, +	public UriBuilder uriBuilder() {, +		return UriComponentsBuilder.fromHttpRequest(new ServerRequestAdapter());, +	}, +, +	@Override, +	private final class ServerRequestAdapter implements HttpRequest {, +, +		@Override, +		public String getMethodValue() {, +			return methodName();, +		}, +, +		@Override, +		public URI getURI() {, +			return MockServerRequest.this.uri;, +		}, +, +		@Override, +		public HttpHeaders getHeaders() {, +			return MockServerRequest.this.headers.headers;, +		}, +	}, +, +, +++ b/spring-test/src/main/java/org/springframework/mock/web/reactive/function/server/MockServerRequest.java, +import org.springframework.http.HttpRequest;, +import org.springframework.web.util.UriBuilder;, +import org.springframework.web.util.UriComponentsBuilder;, +	public UriBuilder uriBuilder() {, +		return UriComponentsBuilder.fromHttpRequest(new ServerRequestAdapter());, +	}, +, +	@Override, +	private final class ServerRequestAdapter implements HttpRequest {, +, +		@Override, +		public String getMethodValue() {, +			return methodName();, +		}, +, +		@Override, +		public URI getURI() {, +			return MockServerRequest.this.uri;, +		}, +, +		@Override, +		public HttpHeaders getHeaders() {, +			return MockServerRequest.this.headers.headers;, +		}, +	}, +, +, +++ b/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/DefaultServerRequest.java, +import org.springframework.http.HttpRequest;, +import org.springframework.web.util.UriBuilder;, +import org.springframework.web.util.UriComponentsBuilder;, +	public UriBuilder uriBuilder() {, +		return UriComponentsBuilder.fromHttpRequest(new ServerRequestAdapter());, +	}, +, +	@Override, +	private final class ServerRequestAdapter implements HttpRequest {, +, +		@Override, +		public String getMethodValue() {, +			return methodName();, +		}, +, +		@Override, +		public URI getURI() {, +			return uri();, +		}, +, +		@Override, +		public HttpHeaders getHeaders() {, +			return request().getHeaders();, +		}, +	}, +, +, +++ b/spring-test/src/main/java/org/springframework/mock/web/reactive/function/server/MockServerRequest.java, +import org.springframework.http.HttpRequest;, +import org.springframework.web.util.UriBuilder;, +import org.springframework.web.util.UriComponentsBuilder;, +	public UriBuilder uriBuilder() {, +		return UriComponentsBuilder.fromHttpRequest(new ServerRequestAdapter());, +	}, +, +	@Override, +	private final class ServerRequestAdapter implements HttpRequest {, +, +		@Override, +		public String getMethodValue() {, +			return methodName();, +		}, +]