[+++ b/spring-orm/src/main/java/org/springframework/orm/jpa/SharedEntityManagerCreator.java, + * Copyright 2002-2015 the original author or authors., +import org.springframework.transaction.support.TransactionSynchronizationManager;, +				if (target == null || !TransactionSynchronizationManager.isActualTransactionActive()) {, +					throw new TransactionRequiredException("No EntityManager with actual transaction available " +, +							"for current thread - cannot reliably process '" + method.getName() + "' call");, +++ b/spring-orm/src/main/java/org/springframework/orm/jpa/SharedEntityManagerCreator.java, + * Copyright 2002-2015 the original author or authors., +import org.springframework.transaction.support.TransactionSynchronizationManager;, +				if (target == null || !TransactionSynchronizationManager.isActualTransactionActive()) {, +					throw new TransactionRequiredException("No EntityManager with actual transaction available " +, +							"for current thread - cannot reliably process '" + method.getName() + "' call");, +++ b/spring-orm/src/test/java/org/springframework/orm/jpa/support/PersistenceContextTransactionTests.java, + * Copyright 2002-2015 the original author or authors., +				bean.sharedEntityManager.clear();, +		verify(manager).clear();]