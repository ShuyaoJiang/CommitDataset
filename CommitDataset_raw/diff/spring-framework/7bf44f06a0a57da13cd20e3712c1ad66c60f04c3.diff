[+++ b/org.springframework.web/src/main/java/org/springframework/web/util/UrlPathHelper.java, +		if ((request.getAttribute(WebUtils.FORWARD_REQUEST_URI_ATTRIBUTE) != null) || , +			(request.getAttribute(WebUtils.ERROR_REQUEST_URI_ATTRIBUTE) != null)) {, +			return (String) request.getAttribute(WebUtils.FORWARD_QUERY_STRING_ATTRIBUTE);, +		else {, +			return request.getQueryString();, +	}, +++ b/org.springframework.web/src/main/java/org/springframework/web/util/UrlPathHelper.java, +		if ((request.getAttribute(WebUtils.FORWARD_REQUEST_URI_ATTRIBUTE) != null) || , +			(request.getAttribute(WebUtils.ERROR_REQUEST_URI_ATTRIBUTE) != null)) {, +			return (String) request.getAttribute(WebUtils.FORWARD_QUERY_STRING_ATTRIBUTE);, +		else {, +			return request.getQueryString();, +	}, +++ b/org.springframework.web/src/test/java/org/springframework/web/util/UrlPathHelperTests.java, +, +	@Test, +	public void getOriginatingQueryString() {, +		request.setQueryString("forward=on");, +		request.setAttribute(WebUtils.FORWARD_REQUEST_URI_ATTRIBUTE, "/path");, +		request.setAttribute(WebUtils.FORWARD_QUERY_STRING_ATTRIBUTE, "original=on");, +		assertEquals("original=on", this.helper.getOriginatingQueryString(request));, +	}, +	, +	@Test, +	public void getOriginatingQueryStringNotPresent() {, +		request.setQueryString("forward=true");, +		assertEquals("forward=true", this.helper.getOriginatingQueryString(request));, +	}, +, +	@Test, +	public void getOriginatingQueryStringIsNull() {, +		request.setQueryString("forward=true");, +		request.setAttribute(WebUtils.FORWARD_REQUEST_URI_ATTRIBUTE, "/path");, +		assertNull(this.helper.getOriginatingQueryString(request));, +	}, +]