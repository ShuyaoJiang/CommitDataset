[+++ b/spring-websocket/src/main/java/org/springframework/web/messaging/support/PubSubChannelRegistryBuilder.java, +			SubscribableChannel<Message<?>, MessageHandler<Message<?>>> clientInputChannel,, +		Assert.notNull(clientInputChannel, "clientInputChannel is required");, +		this.clientInputChannel = clientInputChannel;, +			SubscribableChannel<Message<?>, MessageHandler<Message<?>>> clientInputChannel,, +		return new PubSubChannelRegistryBuilder(clientInputChannel, clientOutputChannel, clientGateway);, +	public PubSubChannelRegistryBuilder messageHandler(MessageHandler<Message<?>> handler) {, +		if (!this.messageHandlers.contains(messageBrokerGateway)) {, +			this.clientInputChannel.subscribe(messageBrokerGateway);, +		}, +]