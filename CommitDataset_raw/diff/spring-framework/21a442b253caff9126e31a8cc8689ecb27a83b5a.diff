[+++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/view/ContentNegotiatingViewResolver.java, +import java.util.concurrent.ConcurrentHashMap;, +import java.util.concurrent.ConcurrentMap;, + * request. This media type is determined by using the following criteria: <ol> <li>If the requested path has a file, + * extension and if the {@link #setFavorPathExtension(boolean)} property is <code>true</code>, the {@link, + * #setMediaTypes(Map)  mediaTypes} property is inspected for a matching media type.</li> <li>If there is no match and, + * if the Java Activation Framework (JAF) is present on the class path, {@link FileTypeMap#getContentType(String)} is, + * used.</li> <li>If the previous steps did not result in a media type, the request {@code Accept} header is used.</li>, + * </ol> Once the requested media type has been determined, this resolver queries each delegate view resolver for a, +	private ConcurrentMap<String, MediaType> mediaTypes = new ConcurrentHashMap<String, MediaType>();, +				mediaTypes.putIfAbsent(extension, mediaType);]