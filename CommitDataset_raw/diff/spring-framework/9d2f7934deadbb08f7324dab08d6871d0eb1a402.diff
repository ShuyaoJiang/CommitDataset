[+++ b/org.springframework.context/src/main/java/org/springframework/context/support/DefaultLifecycleProcessor.java, +			boolean isFactoryBean = this.beanFactory.isFactoryBean(beanNameToRegister);, +			String beanNameToCheck = (isFactoryBean ? BeanFactory.FACTORY_BEAN_PREFIX + beanName : beanName);, +			if ((this.beanFactory.containsSingleton(beanNameToRegister) &&, +					(!isFactoryBean || Lifecycle.class.isAssignableFrom(this.beanFactory.getType(beanNameToCheck)))) ||]