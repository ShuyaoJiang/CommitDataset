[+++ b/spring-core/src/main/java/org/springframework/util/ClassUtils.java, +		String shortName = getShortName(clazz);, +			result.append(ARRAY_SUFFIX);, +		return isCglibProxyClass(object.getClass());, +++ b/spring-core/src/main/java/org/springframework/util/ClassUtils.java, +		String shortName = getShortName(clazz);, +			result.append(ARRAY_SUFFIX);, +		return isCglibProxyClass(object.getClass());, +++ b/spring-websocket/src/main/java/org/springframework/web/socket/server/standard/UndertowRequestUpgradeStrategy.java, + * A WebSocket {@code RequestUpgradeStrategy} for WildFly and its underlying, + * Undertow web server. Also compatible with embedded Undertow usage., + * <p>Designed for Undertow 1.3.5+ as of Spring Framework 4.3, with a fallback, + * strategy for Undertow 1.0 to 1.3 - as included in WildFly 8.x, 9 and 10., +	private static final boolean HAS_DO_UPGRADE = ClassUtils.hasMethod(ServerWebSocketContainer.class, "doUpgrade",, +			HttpServletRequest.class, HttpServletResponse.class, ServerEndpointConfig.class, Map.class);, +				getContainer(servletRequest).doUpgrade(servletRequest, servletResponse, endpointConfig, pathParams);, +			FALLBACK_STRATEGY.upgradeInternal(request, response, selectedProtocol, selectedExtensions, endpoint);]