[+++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/AbstractController.java, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/AbstractController.java, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/RequestMappingInfoHandlerMapping.java, +				for (HttpMethod method : HttpMethod.values()) {, +					if (!HttpMethod.TRACE.equals(method)) {, +						result.add(method);, +					}, +				}, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/AbstractController.java, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/RequestMappingInfoHandlerMapping.java, +				for (HttpMethod method : HttpMethod.values()) {, +					if (!HttpMethod.TRACE.equals(method)) {, +						result.add(method);, +					}, +				}, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandler.java, +		super(HttpMethod.GET.name(), HttpMethod.HEAD.name());, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +			return;, +		}, +, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/AbstractController.java, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/RequestMappingInfoHandlerMapping.java, +				for (HttpMethod method : HttpMethod.values()) {, +					if (!HttpMethod.TRACE.equals(method)) {, +						result.add(method);, +					}, +				}, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandler.java, +		super(HttpMethod.GET.name(), HttpMethod.HEAD.name());, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +			return;, +		}, +, +++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/ParameterizableViewControllerTests.java, +		assertEquals("GET,HEAD,OPTIONS", response.getHeader("Allow"));, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/AbstractController.java, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/RequestMappingInfoHandlerMapping.java, +				for (HttpMethod method : HttpMethod.values()) {, +					if (!HttpMethod.TRACE.equals(method)) {, +						result.add(method);, +					}, +				}, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandler.java, +		super(HttpMethod.GET.name(), HttpMethod.HEAD.name());, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +			return;, +		}, +, +++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/ParameterizableViewControllerTests.java, +		assertEquals("GET,HEAD,OPTIONS", response.getHeader("Allow"));, +++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/RequestMappingInfoHandlerMappingTests.java, +		testHttpOptions("/persons", "GET,HEAD,POST,PUT,PATCH,DELETE,OPTIONS");, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/AbstractController.java, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/RequestMappingInfoHandlerMapping.java, +				for (HttpMethod method : HttpMethod.values()) {, +					if (!HttpMethod.TRACE.equals(method)) {, +						result.add(method);, +					}, +				}, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandler.java, +		super(HttpMethod.GET.name(), HttpMethod.HEAD.name());, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +			return;, +		}, +, +++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/ParameterizableViewControllerTests.java, +		assertEquals("GET,HEAD,OPTIONS", response.getHeader("Allow"));, +++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/RequestMappingInfoHandlerMappingTests.java, +		testHttpOptions("/persons", "GET,HEAD,POST,PUT,PATCH,DELETE,OPTIONS");, +++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandlerTests.java, +		assertEquals("GET,HEAD,OPTIONS", this.response.getHeader("Allow"));, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/AbstractController.java, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {, +			response.setHeader("Allow", getAllowHeader());, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/RequestMappingInfoHandlerMapping.java, +				for (HttpMethod method : HttpMethod.values()) {, +					if (!HttpMethod.TRACE.equals(method)) {, +						result.add(method);, +					}, +				}, +++ b/spring-webmvc/src/main/java/org/springframework/web/servlet/resource/ResourceHttpRequestHandler.java, +		super(HttpMethod.GET.name(), HttpMethod.HEAD.name());, +		if (HttpMethod.OPTIONS.matches(request.getMethod())) {]