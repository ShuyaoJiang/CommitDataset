[+++ b/org.springframework.test/src/main/java/org/springframework/test/context/ContextLoaderUtils.java, +import static org.springframework.beans.BeanUtils.instantiateClass;, +import static org.springframework.core.annotation.AnnotationUtils.findAnnotationDeclaringClass;, +, +		return instantiateClass(contextLoaderClass, ContextLoader.class);, +		Class<?> declaringClass = findAnnotationDeclaringClass(annotationType, testClass);, +			declaringClass = findAnnotationDeclaringClass(annotationType, declaringClass.getSuperclass());, +		Class<?> declaringClass = findAnnotationDeclaringClass(annotationType, clazz);, +			declaringClass = contextConfiguration.inheritLocations() ? findAnnotationDeclaringClass(annotationType,, +				declaringClass.getSuperclass()) : null;, +		Class<?> declaringClass = findAnnotationDeclaringClass(annotationType, clazz);, +			declaringClass = annotation.inheritProfiles() ? findAnnotationDeclaringClass(annotationType,, +				declaringClass.getSuperclass()) : null;]