[+++ b/spring-test/src/test/java/org/springframework/test/context/support/ContextLoaderUtilsMergedConfigTests.java, +import java.lang.annotation.ElementType;, +import java.lang.annotation.Retention;, +import java.lang.annotation.RetentionPolicy;, +import java.lang.annotation.Target;, +, +import org.springframework.test.context.ContextConfiguration;, +	public void buildMergedConfigWithMetaAnnotationAndClasses() {, +		buildMergedConfigWithMetaAnnotationAndClasses(Dog.class);, +		buildMergedConfigWithMetaAnnotationAndClasses(WorkingDog.class);, +		buildMergedConfigWithMetaAnnotationAndClasses(GermanShepherd.class);, +	}, +, +	private void buildMergedConfigWithMetaAnnotationAndClasses(Class<?> testClass) {, +		MergedContextConfiguration mergedConfig = buildMergedContextConfiguration(testClass);, +		assertMergedConfig(mergedConfig, testClass, EMPTY_STRING_ARRAY, new Class<?>[] { FooConfig.class,, +			BarConfig.class }, DelegatingSmartContextLoader.class);, +	}, +, +	@Test, +, +	@ContextConfiguration, +	@Retention(RetentionPolicy.RUNTIME), +	@Target(ElementType.TYPE), +	public static @interface SpringAppConfig {, +, +		Class<?>[] classes() default {};, +	}, +, +	@SpringAppConfig(classes = { FooConfig.class, BarConfig.class }), +	public static abstract class Dog {, +	}, +, +	public static abstract class WorkingDog extends Dog {, +	}, +, +	public static class GermanShepherd extends WorkingDog {, +	}, +]