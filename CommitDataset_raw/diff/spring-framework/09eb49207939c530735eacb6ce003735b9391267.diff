[+++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/ConfigurableListableBeanFactory.java, + * Copyright 2002-2015 the original author or authors., +	 * Clear the merged bean definition cache, removing entries for beans, +	 * which are not considered eligible for full metadata caching yet., +	 * <p>Typically triggered after changes to the original bean definitions,, +	 * e.g. after applying a {@link BeanFactoryPostProcessor}. Note that metadata, +	 * for beans which have already been created at this point will be kept around., +	 * @since 4.2, +	 * @see #getBeanDefinition, +	 * @see #getMergedBeanDefinition, +	 */, +	void clearMetadataCache();, +, +	/**, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/ConfigurableListableBeanFactory.java, + * Copyright 2002-2015 the original author or authors., +	 * Clear the merged bean definition cache, removing entries for beans, +	 * which are not considered eligible for full metadata caching yet., +	 * <p>Typically triggered after changes to the original bean definitions,, +	 * e.g. after applying a {@link BeanFactoryPostProcessor}. Note that metadata, +	 * for beans which have already been created at this point will be kept around., +	 * @since 4.2, +	 * @see #getBeanDefinition, +	 * @see #getMergedBeanDefinition, +	 */, +	void clearMetadataCache();, +, +	/**, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/support/AbstractBeanFactory.java, +import java.util.Iterator;, +				if (containingBd == null && isCacheBeanMetadata()) {, +	 * Clear the merged bean definition cache, removing entries for beans, +	 * which are not considered eligible for full metadata caching yet., +	 * <p>Typically triggered after changes to the original bean definitions,, +	 * e.g. after applying a {@code BeanFactoryPostProcessor}. Note that metadata, +	 * for beans which have already been created at this point will be kept around., +	 * @since 4.2, +	 */, +	public void clearMetadataCache() {, +		Iterator<String> mergedBeans = this.mergedBeanDefinitions.keySet().iterator();, +		while (mergedBeans.hasNext()) {, +			if (!isBeanEligibleForMetadataCaching(mergedBeans.next())) {, +				mergedBeans.remove();, +			}, +		}, +	}, +, +	/**, +, +			// Let the bean definition get re-merged now that we're actually creating, +			// the bean... just in case some of its metadata changed in the meantime., +			clearMergedBeanDefinition(beanName);, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/ConfigurableListableBeanFactory.java, + * Copyright 2002-2015 the original author or authors., +	 * Clear the merged bean definition cache, removing entries for beans, +	 * which are not considered eligible for full metadata caching yet., +	 * <p>Typically triggered after changes to the original bean definitions,, +	 * e.g. after applying a {@link BeanFactoryPostProcessor}. Note that metadata, +	 * for beans which have already been created at this point will be kept around., +	 * @since 4.2, +	 * @see #getBeanDefinition, +	 * @see #getMergedBeanDefinition, +	 */, +	void clearMetadataCache();, +, +	/**, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/support/AbstractBeanFactory.java, +import java.util.Iterator;, +				if (containingBd == null && isCacheBeanMetadata()) {, +	 * Clear the merged bean definition cache, removing entries for beans, +	 * which are not considered eligible for full metadata caching yet., +	 * <p>Typically triggered after changes to the original bean definitions,, +	 * e.g. after applying a {@code BeanFactoryPostProcessor}. Note that metadata, +	 * for beans which have already been created at this point will be kept around., +	 * @since 4.2, +	 */, +	public void clearMetadataCache() {, +		Iterator<String> mergedBeans = this.mergedBeanDefinitions.keySet().iterator();, +		while (mergedBeans.hasNext()) {, +			if (!isBeanEligibleForMetadataCaching(mergedBeans.next())) {, +				mergedBeans.remove();, +			}, +		}, +	}, +, +	/**, +, +			// Let the bean definition get re-merged now that we're actually creating, +			// the bean... just in case some of its metadata changed in the meantime., +			clearMergedBeanDefinition(beanName);, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultListableBeanFactory.java, +	public void clearMetadataCache() {, +		super.clearMetadataCache();, +		clearByTypeCache();, +	}, +, +	@Override, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/ConfigurableListableBeanFactory.java, + * Copyright 2002-2015 the original author or authors., +	 * Clear the merged bean definition cache, removing entries for beans]