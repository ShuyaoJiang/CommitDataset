[+++ b/build.gradle, +		optional("javax.servlet:javax.servlet-api:3.1.0"), +++ b/build.gradle, +		optional("javax.servlet:javax.servlet-api:3.1.0"), +++ b/spring-websocket/src/main/java/org/springframework/web/socket/server/support/GlassFishRequestUpgradeStrategy.java, +import org.glassfish.tyrus.websockets.WebSocketApplication;, +		WebSocketApplication wsApp = createTyrusEndpoint(servletRequest, endpoint, selectedProtocol);, +			engine.register(wsApp);, +			if (!performUpgrade(servletRequest, servletResponse, request.getHeaders(), wsApp)) {, +			engine.unregister(wsApp);, +			HttpHeaders headers, WebSocketApplication wsApp) throws IOException {, +				.requestURI(URI.create(wsApp.getPath())).requestPath(wsApp.getPath()), +	private WebSocketApplication createTyrusEndpoint(HttpServletRequest request,, +			Endpoint endpoint, String selectedProtocol) {]