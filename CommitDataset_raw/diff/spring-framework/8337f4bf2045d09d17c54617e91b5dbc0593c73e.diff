[+++ b/build-spring-framework/resources/changelog.txt, +* Use original request URI in FlashMap matching logic to account for URL rewriting, +* Support target request with multiple parameter values in FlahMap matching logic, +++ b/build-spring-framework/resources/changelog.txt, +* Use original request URI in FlashMap matching logic to account for URL rewriting, +* Support target request with multiple parameter values in FlahMap matching logic, +++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/support/DefaultFlashMapManager.java, +import org.springframework.util.ObjectUtils;, +		MultiValueMap<String, String> targetParams = flashMap.getTargetRequestParams();, +		for (String paramName : targetParams.keySet()) {, +			for (String targetValue : targetParams.get(paramName)) {, +				if (!ObjectUtils.containsElement(request.getParameterValues(paramName), targetValue)) {, +++ b/build-spring-framework/resources/changelog.txt, +* Use original request URI in FlashMap matching logic to account for URL rewriting, +* Support target request with multiple parameter values in FlahMap matching logic, +++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/support/DefaultFlashMapManager.java, +import org.springframework.util.ObjectUtils;, +		MultiValueMap<String, String> targetParams = flashMap.getTargetRequestParams();, +		for (String paramName : targetParams.keySet()) {, +			for (String targetValue : targetParams.get(paramName)) {, +				if (!ObjectUtils.containsElement(request.getParameterValues(paramName), targetValue)) {, +++ b/org.springframework.web.servlet/src/test/java/org/springframework/web/servlet/support/DefaultFlashMapManagerTests.java, +		assertEquals("FlashMap should not have been removed", 1, getFlashMaps().size());		, +		clearFlashMapRequestAttributes();, +		assertEquals("FlashMap should not have been removed", 1, getFlashMaps().size());		, +		clearFlashMapRequestAttributes();, +	// SPR-8798, +	, +	@Test, +	public void lookupFlashMapWithMultiValueParam() {, +		FlashMap flashMap = new FlashMap();, +		flashMap.put("name", "value");, +		flashMap.addTargetRequestParam("id", "1");, +		flashMap.addTargetRequestParam("id", "2");, +		, +		List<FlashMap> allMaps = createFlashMaps();, +		allMaps.add(flashMap);, +	, +		this.request.setParameter("id", "1");, +		this.flashMapManager.requestStarted(this.request);, +, +		assertNull(RequestContextUtils.getInputFlashMap(this.request));, +		assertEquals("FlashMap should not have been removed", 1, getFlashMaps().size());		, +, +		clearFlashMapRequestAttributes();, +		this.request.addParameter("id", "2");, +		this.flashMapManager.requestStarted(this.request);, +, +		assertEquals(flashMap, RequestContextUtils.getInputFlashMap(this.request));, +		assertEquals("Input FlashMap should have been removed", 0, getFlashMaps().size());		, +	}, +	, +	private void clearFlashMapRequestAttributes() {]