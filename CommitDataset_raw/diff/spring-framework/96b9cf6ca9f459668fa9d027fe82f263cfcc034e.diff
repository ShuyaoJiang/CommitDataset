[+++ b/org.springframework.orm/src/main/java/org/springframework/orm/jdo/DefaultJdoDialect.java, + * Copyright 2002-2010 the original author or authors., +import java.lang.reflect.Method;, +import org.springframework.util.ClassUtils;, +import org.springframework.util.ReflectionUtils;, +	// JDO 3.0 setTimeoutMillis method available?, +	private static final Method setTimeoutMillisMethod =, +			ClassUtils.getMethodIfAvailable(Query.class, "setTimeoutMillis", Integer.class);, +, +	 * This implementation applies a JDO 3.0 query timeout, if available. Otherwise,, +	 * it sets the JPA 2.0 query hints "javax.persistence.lock.timeout" and, +	 * "javax.persistence.query.timeout", assuming that JDO providers are often, +		if (setTimeoutMillisMethod != null) {, +			ReflectionUtils.invokeMethod(setTimeoutMillisMethod, query, remainingTimeInSeconds);, +		}, +		else {, +	}]