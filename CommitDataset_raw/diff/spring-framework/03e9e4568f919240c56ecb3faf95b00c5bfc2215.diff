[+++ b/org.springframework.context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java, +	/** Flag that indicates whether this context has been closed already */, +	private boolean closed = false;, +, +		boolean actuallyClose;, +		synchronized (this.activeMonitor) {, +			actuallyClose = this.active && !this.closed;, +			this.closed = true;, +		}, +, +		if (actuallyClose) {]