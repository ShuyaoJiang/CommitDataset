[+++ b/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapterTests.java, + * Copyright 2002-2019 the original author or authors., +import java.lang.reflect.Type;, +import org.springframework.http.HttpInputMessage;, +import org.springframework.http.converter.StringHttpMessageConverter;, +import org.springframework.lang.Nullable;, + * @author Sam Brannen, +	/**, +	 * This class additionally implements {@link RequestBodyAdvice} solely for the purpose, +	 * of verifying that controller advice implementing both {@link ResponseBodyAdvice}, +	 * and {@link RequestBodyAdvice} does not get registered twice., +	 *, +	 * @see <a href="https://github.com/spring-projects/spring-framework/pull/22638">gh-22638</a>, +	 */, +	private static class ResponseCodeSuppressingAdvice extends AbstractMappingJacksonResponseBodyAdvice implements RequestBodyAdvice {, +, +		@Override, +		public boolean supports(MethodParameter methodParameter, Type targetType,, +				Class<? extends HttpMessageConverter<?>> converterType) {, +, +			return StringHttpMessageConverter.class.equals(converterType);, +		}, +, +		@Override, +		public HttpInputMessage beforeBodyRead(HttpInputMessage inputMessage, MethodParameter parameter,, +				Type targetType, Class<? extends HttpMessageConverter<?>> converterType) {, +, +			return inputMessage;, +		}, +, +		@Override, +		public Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter,, +				Type targetType, Class<? extends HttpMessageConverter<?>> converterType) {, +, +			return body;, +		}, +, +		@Override, +		public Object handleEmptyBody(@Nullable Object body, HttpInputMessage inputMessage, MethodParameter parameter,, +				Type targetType, Class<? extends HttpMessageConverter<?>> converterType) {, +, +			return "default value for empty body";, +		}, +]