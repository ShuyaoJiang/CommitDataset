[+++ b/spring-core/src/main/java/org/springframework/core/codec/ByteArrayEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(byte[] bytes, @Nullable MimeType mimeType) {, +		return (long) bytes.length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/ByteArrayEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(byte[] bytes, @Nullable MimeType mimeType) {, +		return (long) bytes.length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/ByteBufferEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(ByteBuffer byteBuffer, @Nullable MimeType mimeType) {, +		return (long) byteBuffer.array().length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/ByteArrayEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(byte[] bytes, @Nullable MimeType mimeType) {, +		return (long) bytes.length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/ByteBufferEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(ByteBuffer byteBuffer, @Nullable MimeType mimeType) {, +		return (long) byteBuffer.array().length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/CharSequenceEncoder.java, + * Copyright 2002-2018 the original author or authors., +		Charset charset = getCharset(mimeType);, +, +	private Charset getCharset(@Nullable MimeType mimeType) {, +		Charset charset;, +		if (mimeType != null && mimeType.getCharset() != null) {, +			charset = mimeType.getCharset();, +		}, +		else {, +			 charset = DEFAULT_CHARSET;, +		}, +		return charset;, +	}, +, +	@Override, +	public Long getContentLength(CharSequence data, @Nullable MimeType mimeType) {, +		return (long) data.toString().getBytes(getCharset(mimeType)).length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/ByteArrayEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(byte[] bytes, @Nullable MimeType mimeType) {, +		return (long) bytes.length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/ByteBufferEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(ByteBuffer byteBuffer, @Nullable MimeType mimeType) {, +		return (long) byteBuffer.array().length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/CharSequenceEncoder.java, + * Copyright 2002-2018 the original author or authors., +		Charset charset = getCharset(mimeType);, +, +	private Charset getCharset(@Nullable MimeType mimeType) {, +		Charset charset;, +		if (mimeType != null && mimeType.getCharset() != null) {, +			charset = mimeType.getCharset();, +		}, +		else {, +			 charset = DEFAULT_CHARSET;, +		}, +		return charset;, +	}, +, +	@Override, +	public Long getContentLength(CharSequence data, @Nullable MimeType mimeType) {, +		return (long) data.toString().getBytes(getCharset(mimeType)).length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/DataBufferEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(DataBuffer dataBuffer, MimeType mimeType) {, +		return (long) dataBuffer.readableByteCount();, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/ByteArrayEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(byte[] bytes, @Nullable MimeType mimeType) {, +		return (long) bytes.length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/ByteBufferEncoder.java, + * Copyright 2002-2018 the original author or authors., +	@Override, +	public Long getContentLength(ByteBuffer byteBuffer, @Nullable MimeType mimeType) {, +		return (long) byteBuffer.array().length;, +	}, +++ b/spring-core/src/main/java/org/springframework/core/codec/CharSequenceEncoder.java, + * Copyright 2002-2018 the original author or authors.]