[+++ b/spring-messaging/src/main/java/org/springframework/messaging/simp/stomp/StompBrokerRelayMessageHandler.java, +import java.io.IOException;, +++ b/spring-messaging/src/main/java/org/springframework/messaging/simp/stomp/StompBrokerRelayMessageHandler.java, +import java.io.IOException;, +++ b/spring-messaging/src/main/java/org/springframework/messaging/tcp/reactor/ReactorTcpClient.java, +import java.util.Arrays;, +import java.util.Collections;, +import java.util.Properties;, +import reactor.core.configuration.ConfigurationReader;, +import reactor.core.configuration.DispatcherConfiguration;, +import reactor.core.configuration.ReactorConfiguration;, +		this.environment = new Environment(new SynchronousDispatcherConfigReader());, +, +	/**, +	 * A ConfigurationReader that enforces the use of a SynchronousDispatcher., +	 *, +	 * <p>The {@link reactor.core.configuration.PropertiesConfigurationReader} used by, +	 * default automatically creates other dispatchers with thread pools that are, +	 * not needed., +	 */, +	private static class SynchronousDispatcherConfigReader implements ConfigurationReader {, +, +		@Override, +		public ReactorConfiguration read() {, +			return new ReactorConfiguration(Arrays.<DispatcherConfiguration>asList(), "sync", new Properties());, +		}, +	}, +]