[+++ b/spring-web/src/main/java/org/springframework/http/codec/AbstractCodecConfigurer.java, +		this.defaultCodecs.setCustomCodecs(this.customCodecs);, +	abstract protected static class AbstractDefaultCodecs implements DefaultCodecs {, +		private DefaultCustomCodecs customCodecs;, +, +		/**, +		 * Access to custom codecs for sub-classes, e.g. for multipart writers., +		 */, +		public void setCustomCodecs(DefaultCustomCodecs customCodecs) {, +			this.customCodecs = customCodecs;, +		}, +, +		public DefaultCustomCodecs getCustomCodecs() {, +			return this.customCodecs;, +		}, +, +	protected static class DefaultCustomCodecs implements CustomCodecs {, +++ b/spring-web/src/main/java/org/springframework/http/codec/AbstractCodecConfigurer.java, +		this.defaultCodecs.setCustomCodecs(this.customCodecs);, +	abstract protected static class AbstractDefaultCodecs implements DefaultCodecs {, +		private DefaultCustomCodecs customCodecs;, +, +		/**, +		 * Access to custom codecs for sub-classes, e.g. for multipart writers., +		 */, +		public void setCustomCodecs(DefaultCustomCodecs customCodecs) {, +			this.customCodecs = customCodecs;, +		}, +, +		public DefaultCustomCodecs getCustomCodecs() {, +			return this.customCodecs;, +		}, +, +	protected static class DefaultCustomCodecs implements CustomCodecs {, +++ b/spring-web/src/main/java/org/springframework/http/codec/DefaultClientCodecConfigurer.java, +			List<HttpMessageWriter<?>> partWriters;, +			if (this.multipartCodecs != null) {, +				partWriters = this.multipartCodecs.getWriters();, +			}, +			else {, +				partWriters = new ArrayList<>();, +				partWriters.addAll(super.getTypedWriters());, +				partWriters.addAll(getCustomCodecs().getTypedWriters());, +				partWriters.addAll(super.getObjectWriters());, +				partWriters.addAll(getCustomCodecs().getObjectWriters());, +				partWriters.addAll(super.getCatchAllWriters());, +			}, +			return new MultipartHttpMessageWriter(partWriters);, +++ b/spring-web/src/main/java/org/springframework/http/codec/AbstractCodecConfigurer.java, +		this.defaultCodecs.setCustomCodecs(this.customCodecs);, +	abstract protected static class AbstractDefaultCodecs implements DefaultCodecs {, +		private DefaultCustomCodecs customCodecs;, +, +		/**, +		 * Access to custom codecs for sub-classes, e.g. for multipart writers., +		 */, +		public void setCustomCodecs(DefaultCustomCodecs customCodecs) {, +			this.customCodecs = customCodecs;, +		}, +, +		public DefaultCustomCodecs getCustomCodecs() {, +			return this.customCodecs;, +		}, +, +	protected static class DefaultCustomCodecs implements CustomCodecs {, +++ b/spring-web/src/main/java/org/springframework/http/codec/DefaultClientCodecConfigurer.java, +			List<HttpMessageWriter<?>> partWriters;, +			if (this.multipartCodecs != null) {, +				partWriters = this.multipartCodecs.getWriters();, +			}, +			else {, +				partWriters = new ArrayList<>();, +				partWriters.addAll(super.getTypedWriters());, +				partWriters.addAll(getCustomCodecs().getTypedWriters());, +				partWriters.addAll(super.getObjectWriters());, +				partWriters.addAll(getCustomCodecs().getObjectWriters());, +				partWriters.addAll(super.getCatchAllWriters());, +			}, +			return new MultipartHttpMessageWriter(partWriters);, +++ b/spring-webflux/src/test/java/org/springframework/web/reactive/result/method/annotation/MultipartIntegrationTests.java, +		this.webClient = WebClient.create("http://localhost:" + this.port);]