[+++ b/spring-web/src/main/java/org/springframework/http/converter/support/AllEncompassingFormHttpMessageConverter.java, + * Copyright 2002-2015 the original author or authors., +import org.springframework.http.converter.json.GsonHttpMessageConverter;, +import org.springframework.http.converter.xml.MappingJackson2XmlHttpMessageConverter;, + * @author Juergen Hoeller, +	private static final boolean jackson2XmlPresent =, +			ClassUtils.isPresent("com.fasterxml.jackson.dataformat.xml.XmlMapper", AllEncompassingFormHttpMessageConverter.class.getClassLoader());, +, +	private static final boolean gsonPresent =, +			ClassUtils.isPresent("com.google.gson.Gson", AllEncompassingFormHttpMessageConverter.class.getClassLoader());, +, +, +		if (jackson2XmlPresent) {, +			addPartConverter(new MappingJackson2XmlHttpMessageConverter());, +		}, +		else if (jaxb2Present) {, +, +		else if (gsonPresent) {, +			addPartConverter(new GsonHttpMessageConverter());, +		}]