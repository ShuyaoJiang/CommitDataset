[+++ b/org.springframework.beans/src/main/java/org/springframework/beans/factory/support/SecurityContextProvider.java, + * Copyright 2002-2009 the original author or authors., +, +++ b/org.springframework.beans/src/main/java/org/springframework/beans/factory/support/SecurityContextProvider.java, + * Copyright 2002-2009 the original author or authors., +, +++ b/org.springframework.beans/src/main/java/org/springframework/beans/factory/support/SimpleSecurityContextProvider.java, + * Copyright 2002-2009 the original author or authors., +, +++ b/org.springframework.beans/src/main/java/org/springframework/beans/factory/support/SecurityContextProvider.java, + * Copyright 2002-2009 the original author or authors., +, +++ b/org.springframework.beans/src/main/java/org/springframework/beans/factory/support/SimpleSecurityContextProvider.java, + * Copyright 2002-2009 the original author or authors., +, +++ b/org.springframework.beans/src/test/java/org/springframework/beans/factory/support/security/CallbacksSecurityTests.java, + * Copyright 2002-2009 the original author or authors., +, +import static junit.framework.Assert.assertEquals;, +import static junit.framework.Assert.assertNotNull;, +import static junit.framework.Assert.assertNull;, +import static junit.framework.Assert.assertTrue;, +import static junit.framework.Assert.fail;, +, +import org.junit.Before;, +import org.junit.Test;, +public class CallbacksSecurityTests {, +	@Before, +	public void setUp() throws Exception {, +	@Test, +			AccessController.doPrivileged(new PrivilegedExceptionAction<Object>() {, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +	@Test, +		AccessController.doPrivileged(new PrivilegedExceptionAction<Object>() {, +	@Test, +	@Test, +		NonPrivilegedBean bean = Subject.doAsPrivileged(, +				subject, new PrivilegedAction<NonPrivilegedBean>() {, +					public NonPrivilegedBean run() {, +						return lbf.getBean("test", NonPrivilegedBean.class);, +	@Test]