[+++ b/spring-context-support/src/test/java/org/springframework/scheduling/quartz/QuartzSchedulerLifecycleTests.java, + * Copyright 2002-2018 the original author or authors., +import org.springframework.context.ConfigurableApplicationContext;, +		ConfigurableApplicationContext context =, +				new ClassPathXmlApplicationContext("quartzSchedulerLifecycleTests.xml", getClass());, +		ConfigurableApplicationContext context =, +				new ClassPathXmlApplicationContext("quartzSchedulerLifecycleTests.xml", getClass());, +++ b/spring-context-support/src/test/java/org/springframework/scheduling/quartz/QuartzSchedulerLifecycleTests.java, + * Copyright 2002-2018 the original author or authors., +import org.springframework.context.ConfigurableApplicationContext;, +		ConfigurableApplicationContext context =, +				new ClassPathXmlApplicationContext("quartzSchedulerLifecycleTests.xml", getClass());, +		ConfigurableApplicationContext context =, +				new ClassPathXmlApplicationContext("quartzSchedulerLifecycleTests.xml", getClass());, +++ b/spring-context-support/src/test/resources/org/springframework/scheduling/quartz/quartzSchedulerLifecycleTests.xml, +	<bean id="otherSchedulerWithDefaultShutdownOrder" class="org.springframework.scheduling.quartz.SchedulerFactoryBean">, +		<property name="autoStartup" value="false"/>, +	</bean>, +	<bean id="lazyInitSchedulerWithDefaultShutdownOrder" class="org.springframework.scheduling.quartz.SchedulerFactoryBean", +		  lazy-init="true" depends-on="otherSchedulerWithDefaultShutdownOrder"/>, +, +	<bean id="lazyInitSchedulerWithCustomShutdownOrder" class="org.springframework.scheduling.quartz.SchedulerFactoryBean", +		  lazy-init="true">, +++ b/spring-context-support/src/test/java/org/springframework/scheduling/quartz/QuartzSchedulerLifecycleTests.java, + * Copyright 2002-2018 the original author or authors., +import org.springframework.context.ConfigurableApplicationContext;, +		ConfigurableApplicationContext context =, +				new ClassPathXmlApplicationContext("quartzSchedulerLifecycleTests.xml", getClass());, +		ConfigurableApplicationContext context =, +				new ClassPathXmlApplicationContext("quartzSchedulerLifecycleTests.xml", getClass());, +++ b/spring-context-support/src/test/resources/org/springframework/scheduling/quartz/quartzSchedulerLifecycleTests.xml, +	<bean id="otherSchedulerWithDefaultShutdownOrder" class="org.springframework.scheduling.quartz.SchedulerFactoryBean">, +		<property name="autoStartup" value="false"/>, +	</bean>, +	<bean id="lazyInitSchedulerWithDefaultShutdownOrder" class="org.springframework.scheduling.quartz.SchedulerFactoryBean", +		  lazy-init="true" depends-on="otherSchedulerWithDefaultShutdownOrder"/>, +, +	<bean id="lazyInitSchedulerWithCustomShutdownOrder" class="org.springframework.scheduling.quartz.SchedulerFactoryBean", +		  lazy-init="true">, +++ b/spring-context/src/main/java/org/springframework/context/support/DefaultLifecycleProcessor.java, +					// Don't wait for beans that aren't running..., +		private final List<LifecycleGroupMember> members = new ArrayList<>();, +		private int smartMemberCount;, +, +		public LifecycleGroup(, +				int phase, long timeout, Map<String, ? extends Lifecycle> lifecycleBeans, boolean autoStartupOnly) {, +, +			this.members.add(new LifecycleGroupMember(name, bean));]