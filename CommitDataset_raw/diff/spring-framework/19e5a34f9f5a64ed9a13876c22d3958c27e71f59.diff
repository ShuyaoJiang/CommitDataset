[+++ b/spring-orm/src/main/java/org/springframework/orm/hibernate5/HibernateTemplate.java, +import org.springframework.util.ReflectionUtils;, +	private static final Method createQueryMethod;, +, +	static {, +		// Hibernate 5.2's createQuery method declares a new subtype as return type,, +		// so we need to use reflection for binary compatibility with 5.0/5.1 here., +		try {, +			createQueryMethod = Session.class.getMethod("createQuery", String.class);, +		}, +		catch (NoSuchMethodException ex) {, +			throw new IllegalStateException("Incompatible Hibernate Session API", ex);, +		}, +	}, +, +, +				org.hibernate.Query queryObject = (org.hibernate.Query), +						ReflectionUtils.invokeMethod(createQueryMethod, session, queryString);, +				org.hibernate.Query queryObject = (org.hibernate.Query), +						ReflectionUtils.invokeMethod(createQueryMethod, session, queryString);, +				org.hibernate.Query queryObject = (org.hibernate.Query), +						ReflectionUtils.invokeMethod(createQueryMethod, session, queryString);, +				org.hibernate.Query queryObject = (org.hibernate.Query), +						ReflectionUtils.invokeMethod(createQueryMethod, session, queryString);, +				org.hibernate.Query queryObject = (org.hibernate.Query), +						ReflectionUtils.invokeMethod(createQueryMethod, session, queryString);]