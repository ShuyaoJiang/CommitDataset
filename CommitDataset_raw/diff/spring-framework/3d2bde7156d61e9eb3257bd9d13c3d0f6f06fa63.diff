[+++ b/spring-test/src/test/java/org/springframework/test/context/junit4/spr8849/Spr8849Tests.java, + * <h3>Work Around</h3>, + * <h3>Solution</h3>, + * <p>As of Spring 4.2, a proper solution is possible thanks to SPR-8849., + * {@link TestClass3} and {@link TestClass4} both import, + * {@code datasource-config-with-auto-generated-db-name.xml} which makes, + * use of the new {@code generate-name} attribute of {@code <jdbc:embedded-database>}., + *, +@SuiteClasses({ TestClass1.class, TestClass2.class, TestClass3.class, TestClass4.class }), +++ b/spring-test/src/test/java/org/springframework/test/context/junit4/spr8849/Spr8849Tests.java, + * <h3>Work Around</h3>, + * <h3>Solution</h3>, + * <p>As of Spring 4.2, a proper solution is possible thanks to SPR-8849., + * {@link TestClass3} and {@link TestClass4} both import, + * {@code datasource-config-with-auto-generated-db-name.xml} which makes, + * use of the new {@code generate-name} attribute of {@code <jdbc:embedded-database>}., + *, +@SuiteClasses({ TestClass1.class, TestClass2.class, TestClass3.class, TestClass4.class }), +++ b/spring-test/src/test/java/org/springframework/test/context/junit4/spr8849/TestClass3.java, +/*, + * Copyright 2002-2015 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and, + * limitations under the License., + */, +, +package org.springframework.test.context.junit4.spr8849;, +, +import javax.annotation.Resource;, +import javax.sql.DataSource;, +, +import org.junit.Test;, +import org.junit.runner.RunWith;, +import org.springframework.context.annotation.Configuration;, +import org.springframework.context.annotation.ImportResource;, +import org.springframework.test.context.ContextConfiguration;, +import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;, +, +import static org.junit.Assert.*;, +, +/**, + * This name of this class intentionally does not end with "Test" or "Tests", + * since it should only be run as part of the test suite: {@link Spr8849Tests}., + *, + * @author Sam Brannen, + * @since 4.2, + * @see Spr8849Tests, + */, +@RunWith(SpringJUnit4ClassRunner.class), +@ContextConfiguration, +public class TestClass3 {, +, +	@Configuration, +	@ImportResource("classpath:/org/springframework/test/context/junit4/spr8849/datasource-config-with-auto-generated-db-name.xml"), +	static class Config {, +	}, +, +, +	@Resource, +	DataSource dataSource;, +, +, +	@Test, +	public void dummyTest() {, +		assertNotNull(dataSource);, +	}, +, +}, +++ b/spring-test/src/test/java/org/springframework/test/context/junit4/spr8849/Spr8849Tests.java, + * <h3>Work Around</h3>, + * <h3>Solution</h3>, + * <p>As of Spring 4.2, a proper solution is possible thanks to SPR-8849., + * {@link TestClass3} and {@link TestClass4} both import, + * {@code datasource-config-with-auto-generated-db-name.xml} which makes, + * use of the new {@code generate-name} attribute of {@code <jdbc:embedded-database>}., + *, +@SuiteClasses({ TestClass1.class, TestClass2.class, TestClass3.class, TestClass4.class }), +++ b/spring-test/src/test/java/org/springframework/test/context/junit4/spr8849/TestClass3.java, +/*, + * Copyright 2002-2015 the original author or authors., + *, + * Licensed under the Apache License, Version 2.0 (the "License");, + * you may not use this file except in compliance with the License., + * You may obtain a copy of the License at, + *, + *      http://www.apache.org/licenses/LICENSE-2.0, + *, + * Unless required by applicable law or agreed to in writing, software, + * distributed under the License is distributed on an "AS IS" BASIS,, + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied., + * See the License for the specific language governing permissions and]