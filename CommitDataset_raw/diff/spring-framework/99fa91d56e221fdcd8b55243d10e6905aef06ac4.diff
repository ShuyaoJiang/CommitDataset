[+++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/dataAccessFailure.jsp, +<a href="<spring:url value="/" htmlEscape="true" />">Home</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/dataAccessFailure.jsp, +<a href="<spring:url value="/" htmlEscape="true" />">Home</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/footer.jsp, +      <td><a href="<spring:url value="/" htmlEscape="true" />">Home</a></td>, +      <td align="right"><img src="<spring:url value="/static/images/springsource-logo.png" htmlEscape="true" />" alt="Sponsored by SpringSource"/></td>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/dataAccessFailure.jsp, +<a href="<spring:url value="/" htmlEscape="true" />">Home</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/footer.jsp, +      <td><a href="<spring:url value="/" htmlEscape="true" />">Home</a></td>, +      <td align="right"><img src="<spring:url value="/static/images/springsource-logo.png" htmlEscape="true" />" alt="Sponsored by SpringSource"/></td>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/header.jsp, +  <link rel="stylesheet" href="<spring:url value="/static/styles/petclinic.css" htmlEscape="true" />" type="text/css"/>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/dataAccessFailure.jsp, +<a href="<spring:url value="/" htmlEscape="true" />">Home</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/footer.jsp, +      <td><a href="<spring:url value="/" htmlEscape="true" />">Home</a></td>, +      <td align="right"><img src="<spring:url value="/static/images/springsource-logo.png" htmlEscape="true" />" alt="Sponsored by SpringSource"/></td>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/header.jsp, +  <link rel="stylesheet" href="<spring:url value="/static/styles/petclinic.css" htmlEscape="true" />" type="text/css"/>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/owners/search.jsp, +<a href='<spring:url value="/owners/new" htmlEscape="true"/>'>Add Owner</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/dataAccessFailure.jsp, +<a href="<spring:url value="/" htmlEscape="true" />">Home</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/footer.jsp, +      <td><a href="<spring:url value="/" htmlEscape="true" />">Home</a></td>, +      <td align="right"><img src="<spring:url value="/static/images/springsource-logo.png" htmlEscape="true" />" alt="Sponsored by SpringSource"/></td>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/header.jsp, +  <link rel="stylesheet" href="<spring:url value="/static/styles/petclinic.css" htmlEscape="true" />" type="text/css"/>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/owners/search.jsp, +<a href='<spring:url value="/owners/new" htmlEscape="true"/>'>Add Owner</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/vets.jsp, +      <a href="<spring:url value="/vets.xml" htmlEscape="true" />">View as XML</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/dataAccessFailure.jsp, +<a href="<spring:url value="/" htmlEscape="true" />">Home</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/footer.jsp, +      <td><a href="<spring:url value="/" htmlEscape="true" />">Home</a></td>, +      <td align="right"><img src="<spring:url value="/static/images/springsource-logo.png" htmlEscape="true" />" alt="Sponsored by SpringSource"/></td>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/header.jsp, +  <link rel="stylesheet" href="<spring:url value="/static/styles/petclinic.css" htmlEscape="true" />" type="text/css"/>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/owners/search.jsp, +<a href='<spring:url value="/owners/new" htmlEscape="true"/>'>Add Owner</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/vets.jsp, +      <a href="<spring:url value="/vets.xml" htmlEscape="true" />">View as XML</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/welcome.jsp, +<img src="<spring:url value="/static/images/pets.png" htmlEscape="true" />" align="right" style="position:relative;right:30px;">, +  <li><a href="<spring:url value="/owners/search" htmlEscape="true" />">Find owner</a></li>, +  <li><a href="<spring:url value="/vets" htmlEscape="true" />">Display all veterinarians</a></li>, +  <li><a href="<spring:url value="/static/html/tutorial.html" htmlEscape="true" />">Tutorial</a></li>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/dataAccessFailure.jsp, +<a href="<spring:url value="/" htmlEscape="true" />">Home</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/footer.jsp, +      <td><a href="<spring:url value="/" htmlEscape="true" />">Home</a></td>, +      <td align="right"><img src="<spring:url value="/static/images/springsource-logo.png" htmlEscape="true" />" alt="Sponsored by SpringSource"/></td>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/header.jsp, +  <link rel="stylesheet" href="<spring:url value="/static/styles/petclinic.css" htmlEscape="true" />" type="text/css"/>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/owners/search.jsp, +<a href='<spring:url value="/owners/new" htmlEscape="true"/>'>Add Owner</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/vets.jsp, +      <a href="<spring:url value="/vets.xml" htmlEscape="true" />">View as XML</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/welcome.jsp, +<img src="<spring:url value="/static/images/pets.png" htmlEscape="true" />" align="right" style="position:relative;right:30px;">, +  <li><a href="<spring:url value="/owners/search" htmlEscape="true" />">Find owner</a></li>, +  <li><a href="<spring:url value="/vets" htmlEscape="true" />">Display all veterinarians</a></li>, +  <li><a href="<spring:url value="/static/html/tutorial.html" htmlEscape="true" />">Tutorial</a></li>, +++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/tags/UrlTag.java, +import org.springframework.web.util.ExpressionEvaluationUtils;, +import org.springframework.web.util.HtmlUtils;, +import org.springframework.web.util.JavaScriptUtils;, + * <li>HTML/XML escaping of URLs</li>, + * <li>JavaScipt escaping of URLs</li>, + * <p>URLs can be HTML/XML escaped by setting the {@link #setHtmlEscape(String) , + * 'htmlEscape'} attribute to 'true'.  Detects an HTML escaping setting, either on , + * this tag instance, the page level, or the <code>web.xml</code> level. The default , + * is 'false'.  When setting the URL value into a variable, escaping is not recommended., +public class UrlTag extends HtmlEscapingAwareTag implements ParamAware {, +	private boolean javaScriptEscape = false;, +	 * Set JavaScript escaping for this tag, as boolean value., +	 * Default is "false"., +	public void setJavaScriptEscape(String javaScriptEscape) throws JspException {, +		this.javaScriptEscape =, +				ExpressionEvaluationUtils.evaluateBoolean("javaScriptEscape", javaScriptEscape, pageContext);, +	public int doStartTagInternal() throws JspException {, +, +		// HTML and/or JavaScript escape, if demanded., +		urlStr = isHtmlEscape() ? HtmlUtils.htmlEscape(urlStr) : urlStr;, +		urlStr = this.javaScriptEscape ? JavaScriptUtils.javaScriptEscape(urlStr) : urlStr;, +		, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/dataAccessFailure.jsp, +<a href="<spring:url value="/" htmlEscape="true" />">Home</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/footer.jsp, +      <td><a href="<spring:url value="/" htmlEscape="true" />">Home</a></td>, +      <td align="right"><img src="<spring:url value="/static/images/springsource-logo.png" htmlEscape="true" />" alt="Sponsored by SpringSource"/></td>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/header.jsp, +  <link rel="stylesheet" href="<spring:url value="/static/styles/petclinic.css" htmlEscape="true" />" type="text/css"/>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/owners/search.jsp, +<a href='<spring:url value="/owners/new" htmlEscape="true"/>'>Add Owner</a>, +++ b/org.springframework.samples.petclinic/src/main/webapp/WEB-INF/jsp/vets.jsp, +      <a href="<spring:url value="/vets.xml" htmlEscape="true" />">View as XML</a>]