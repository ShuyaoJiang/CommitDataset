[+++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/YamlProcessor.java, +				if (collection.isEmpty()) {, +					result.put(key, "");, +				} else {, +						buildFlattenedMap(result, Collections.singletonMap(, +								"[" + (count++) + "]", object), key);, +					}, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/YamlProcessor.java, +				if (collection.isEmpty()) {, +					result.put(key, "");, +				} else {, +						buildFlattenedMap(result, Collections.singletonMap(, +								"[" + (count++) + "]", object), key);, +					}, +++ b/spring-beans/src/test/java/org/springframework/beans/factory/config/YamlMapFactoryBeanTests.java, + * Copyright 2002-2018 the original author or authors., +import java.util.List;, +	public void mapWithEmptyArrayValue() {, +		this.factory.setResources(new ByteArrayResource("a: alpha\ntest: []".getBytes()));, +		assertTrue(this.factory.getObject().containsKey("test"));, +		assertEquals(((List<?>)this.factory.getObject().get("test")).size(), 0);, +	}, +, +	@Test, +	public void mapWithEmptyValue() {, +		this.factory.setResources(new ByteArrayResource("a: alpha\ntest:".getBytes()));, +		assertTrue(this.factory.getObject().containsKey("test"));, +		assertNull(this.factory.getObject().get("test"));, +	}, +, +	@Test, +++ b/spring-beans/src/main/java/org/springframework/beans/factory/config/YamlProcessor.java, +				if (collection.isEmpty()) {, +					result.put(key, "");, +				} else {, +						buildFlattenedMap(result, Collections.singletonMap(, +								"[" + (count++) + "]", object), key);, +					}, +++ b/spring-beans/src/test/java/org/springframework/beans/factory/config/YamlMapFactoryBeanTests.java, + * Copyright 2002-2018 the original author or authors., +import java.util.List;, +	public void mapWithEmptyArrayValue() {, +		this.factory.setResources(new ByteArrayResource("a: alpha\ntest: []".getBytes()));, +		assertTrue(this.factory.getObject().containsKey("test"));, +		assertEquals(((List<?>)this.factory.getObject().get("test")).size(), 0);, +	}, +, +	@Test, +	public void mapWithEmptyValue() {, +		this.factory.setResources(new ByteArrayResource("a: alpha\ntest:".getBytes()));, +		assertTrue(this.factory.getObject().containsKey("test"));, +		assertNull(this.factory.getObject().get("test"));, +	}, +, +	@Test, +++ b/spring-beans/src/test/java/org/springframework/beans/factory/config/YamlPropertiesFactoryBeanTests.java, + * Copyright 2002-2018 the original author or authors., +	public void testLoadEmptyArrayValue() {, +		YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();, +		factory.setResources(new ByteArrayResource("a: alpha\ntest: []".getBytes()));, +		Properties properties = factory.getObject();, +		assertThat(properties.getProperty("a"), equalTo("alpha"));, +		assertThat(properties.getProperty("test"), equalTo(""));, +	}, +, +	@Test]