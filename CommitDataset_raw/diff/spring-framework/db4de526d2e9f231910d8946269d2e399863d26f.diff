[+++ b/spring-websocket/src/main/java/org/springframework/sockjs/server/transport/SockJsWebSocketHandler.java, +		Assert.isTrue(segments.length > 3, "SockJS request should have at least 3 path segments: " + path);, +++ b/spring-websocket/src/main/java/org/springframework/sockjs/server/transport/SockJsWebSocketHandler.java, +		Assert.isTrue(segments.length > 3, "SockJS request should have at least 3 path segments: " + path);, +++ b/spring-websocket/src/main/java/org/springframework/websocket/server/RequestUpgradeStrategy.java, +			HandlerProvider<WebSocketHandler> handlerProvider) throws Exception;, +	// FIXME how to indicate failure to upgrade?]