[+++ b/spring-web/src/test/java/org/springframework/web/client/AsyncRestTemplateIntegrationTests.java, +import java.util.concurrent.CountDownLatch;, +import java.util.concurrent.TimeUnit;, +		final CountDownLatch latch = new CountDownLatch(1);, +			public void onFailure(Throwable ex) {, +				assertTrue(ex instanceof HttpClientErrorException);, +				callbackException[0] = (HttpClientErrorException) ex;, +				latch.countDown();, +			latch.await(5, TimeUnit.SECONDS);]