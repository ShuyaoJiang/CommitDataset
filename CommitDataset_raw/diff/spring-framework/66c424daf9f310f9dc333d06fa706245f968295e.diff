[+++ b/spring-web-reactive/src/main/java/org/springframework/core/io/buffer/DataBufferAllocator.java, +++ b/spring-web-reactive/src/main/java/org/springframework/core/io/buffer/DataBufferAllocator.java, +++ b/spring-web-reactive/src/main/java/org/springframework/core/io/buffer/DefaultDataBufferAllocator.java, +		return this.preferDirect ?, +				new DefaultDataBuffer(ByteBuffer.allocateDirect(initialCapacity)) :, +				new DefaultDataBuffer(ByteBuffer.allocate(initialCapacity));, +++ b/spring-web-reactive/src/main/java/org/springframework/core/io/buffer/DataBufferAllocator.java, +++ b/spring-web-reactive/src/main/java/org/springframework/core/io/buffer/DefaultDataBufferAllocator.java, +		return this.preferDirect ?, +				new DefaultDataBuffer(ByteBuffer.allocateDirect(initialCapacity)) :, +				new DefaultDataBuffer(ByteBuffer.allocate(initialCapacity));, +++ b/spring-web-reactive/src/main/java/org/springframework/core/io/buffer/NettyDataBufferAllocator.java, +++ b/spring-web-reactive/src/main/java/org/springframework/core/io/buffer/DataBufferAllocator.java, +++ b/spring-web-reactive/src/main/java/org/springframework/core/io/buffer/DefaultDataBufferAllocator.java, +		return this.preferDirect ?, +				new DefaultDataBuffer(ByteBuffer.allocateDirect(initialCapacity)) :, +				new DefaultDataBuffer(ByteBuffer.allocate(initialCapacity));, +++ b/spring-web-reactive/src/main/java/org/springframework/core/io/buffer/NettyDataBufferAllocator.java, +++ b/spring-web-reactive/src/test/java/org/springframework/core/io/buffer/DataBufferTests.java, +	@Parameterized.Parameter, +	@Parameterized.Parameters(name = "{0}"), +				{new NettyDataBufferAllocator(new UnpooledByteBufAllocator(true))},, +				{new NettyDataBufferAllocator(new UnpooledByteBufAllocator(false))},, +				{new NettyDataBufferAllocator(new PooledByteBufAllocator(true))},, +				{new NettyDataBufferAllocator(new PooledByteBufAllocator(false))},, +		return allocator.allocateBuffer(capacity);, +		return ByteBuffer.allocate(capacity);]