[+++ b/spring-context/src/main/java/org/springframework/context/support/ResourceBundleMessageSource.java, +import java.util.concurrent.ConcurrentHashMap;, +	private final Map<String, Map<Locale, ResourceBundle>> cachedResourceBundles = new ConcurrentHashMap<>();, +	private final Map<ResourceBundle, Map<String, Map<Locale, MessageFormat>>> cachedBundleMessageFormats = new ConcurrentHashMap<>();, +					localeMap = new ConcurrentHashMap<>();, +					Map<Locale, ResourceBundle> existing = this.cachedResourceBundles.putIfAbsent(basename, localeMap);, +					if (existing != null) {, +						localeMap = existing;, +					}, +				codeMap = new ConcurrentHashMap<>();, +				Map<String, Map<Locale, MessageFormat>> existing = this.cachedBundleMessageFormats.putIfAbsent(bundle, codeMap);, +				if (existing != null) {, +					codeMap = existing;, +				}, +				localeMap = new ConcurrentHashMap<>();, +				Map<Locale, MessageFormat> existing = codeMap.putIfAbsent(code, localeMap);, +				if (existing != null) {, +					localeMap = existing;, +				}]