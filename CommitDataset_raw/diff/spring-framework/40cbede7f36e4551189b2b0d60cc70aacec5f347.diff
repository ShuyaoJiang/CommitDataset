[+++ b/spring-web/src/main/java/org/springframework/web/util/WebUtils.java, +import org.apache.commons.logging.Log;, +import org.apache.commons.logging.LogFactory;, +, +	private static final Log logger = LogFactory.getLog(WebUtils.class);, +, +			UriComponents originComponents;, +			try {, +				originComponents = UriComponentsBuilder.fromHttpUrl(origin).build();, +			}, +			catch (IllegalArgumentException ex) {, +				logger.error("Failed to parse Origin header value [" + origin + "]");, +				return false;, +			}, +++ b/spring-web/src/main/java/org/springframework/web/util/WebUtils.java, +import org.apache.commons.logging.Log;, +import org.apache.commons.logging.LogFactory;, +, +	private static final Log logger = LogFactory.getLog(WebUtils.class);, +, +			UriComponents originComponents;, +			try {, +				originComponents = UriComponentsBuilder.fromHttpUrl(origin).build();, +			}, +			catch (IllegalArgumentException ex) {, +				logger.error("Failed to parse Origin header value [" + origin + "]");, +				return false;, +			}, +++ b/spring-web/src/test/java/org/springframework/web/util/WebUtilsTests.java, +		servletRequest.setServerName("invalid-origin");, +		request.getHeaders().set(HttpHeaders.ORIGIN, "invalid-origin");, +		assertFalse(WebUtils.isValidOrigin(request, allowedOrigins));, +]