[+++ b/org.springframework.expression/src/main/java/org/springframework/expression/spel/SpelExpression.java, +import org.springframework.expression.common.ExpressionUtils;, +	 * {@inheritDoc}, +	 * {@inheritDoc}, +	 * {@inheritDoc}, +	 * {@inheritDoc}, +	 * {@inheritDoc}, +	/**, +	 * {@inheritDoc}, +	 */, +		// TODO is this a legal implementation? The null return value could be very unhelpful. See other getValueType(), +		// also., +		Object value = getValue(context);, +		if (value == null) {, +			return null;, +		} else {, +			return value.getClass();, +		}, +	/**, +	 * {@inheritDoc}, +	 */, +	public Class getValueType() throws EvaluationException {, +		Object value = getValue();, +		if (value == null) {, +			return null;, +		} else {, +			return value.getClass();, +		}, +	}, +, +	/**, +	 * {@inheritDoc}, +	 */, +		Object result = getValue();, +		return ExpressionUtils.convert(null, result, expectedResultType);]