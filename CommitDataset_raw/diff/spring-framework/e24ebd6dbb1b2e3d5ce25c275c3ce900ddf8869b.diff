[+++ b/spring-web/src/main/java/org/springframework/http/client/Netty4ClientHttpRequestFactory.java, +import java.net.URLConnection;, +import java.util.concurrent.TimeUnit;, +import io.netty.channel.ChannelConfig;, +import io.netty.channel.socket.SocketChannelConfig;, +import io.netty.handler.timeout.ReadTimeoutHandler;, +	private int connectTimeout = -1;, +, +	private int readTimeout = -1;, +, +	/**, +	 * Set the underlying connect timeout (in milliseconds)., +	 * A timeout value of 0 specifies an infinite timeout., +	 * @see ChannelConfig#setConnectTimeoutMillis(int), +	 */, +	public void setConnectTimeout(int connectTimeout) {, +		this.connectTimeout = connectTimeout;, +	}, +, +	/**, +	 * Set the underlying URLConnection's read timeout (in milliseconds)., +	 * A timeout value of 0 specifies an infinite timeout., +	 * @see ReadTimeoutHandler, +	 */, +	public void setReadTimeout(int readTimeout) {, +		this.readTimeout = readTimeout;, +	}, +, +							configureChannel(channel.config());, +							if (readTimeout > 0) {, +								pipeline.addLast(new ReadTimeoutHandler(readTimeout,, +										TimeUnit.MILLISECONDS));, +							}, +	/**, +	 * Template method for changing properties on the given {@link SocketChannelConfig}., +	 * <p>The default implementation sets the connect timeout based on the set property., +	 * @param config the channel configuration, +	 */, +	protected void configureChannel(SocketChannelConfig config) {, +		if (this.connectTimeout >= 0) {, +			config.setConnectTimeoutMillis(this.connectTimeout);, +		}, +	}, +]