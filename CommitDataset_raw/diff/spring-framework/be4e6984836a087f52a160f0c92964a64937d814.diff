[+++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/mvc/condition/ProducesRequestCondition.java, +	 * 	<li>Get the first index of matching media types in each "produces", +			MediaType currentMediaType = getExpressionsToCompare().get(i).getMediaType();, +			if (mediaType.getType().equalsIgnoreCase(currentMediaType.getType()) &&, +					mediaType.getSubtype().equalsIgnoreCase(currentMediaType.getSubtype())) {, +++ b/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/mvc/condition/ProducesRequestCondition.java, +	 * 	<li>Get the first index of matching media types in each "produces", +			MediaType currentMediaType = getExpressionsToCompare().get(i).getMediaType();, +			if (mediaType.getType().equalsIgnoreCase(currentMediaType.getType()) &&, +					mediaType.getSubtype().equalsIgnoreCase(currentMediaType.getSubtype())) {, +++ b/org.springframework.web.servlet/src/test/java/org/springframework/web/servlet/mvc/condition/ProducesRequestConditionTests.java, +	// SPR-9021, +, +	@Test, +	public void compareToMediaTypeAllWithParameter() {, +		MockHttpServletRequest request = new MockHttpServletRequest();, +		request.addHeader("Accept", "*/*;q=0.9");, +, +		ProducesRequestCondition condition1 = new ProducesRequestCondition();, +		ProducesRequestCondition condition2 = new ProducesRequestCondition("application/json");, +, +		assertTrue(condition1.compareTo(condition2, request) < 0);, +		assertTrue(condition2.compareTo(condition1, request) > 0);, +	}, +]