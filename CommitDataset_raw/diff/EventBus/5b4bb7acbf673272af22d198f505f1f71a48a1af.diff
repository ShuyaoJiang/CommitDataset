[+++ b/EventBusTest/src/de/greenrobot/event/test/AbstractEventBusTest.java, +        awaitLatch(latch, seconds);, +    }, +, +    protected void awaitLatch(CountDownLatch latch, long seconds) {, +++ b/EventBusTest/src/de/greenrobot/event/test/AbstractEventBusTest.java, +        awaitLatch(latch, seconds);, +    }, +, +    protected void awaitLatch(CountDownLatch latch, long seconds) {, +++ b/EventBusTest/src/de/greenrobot/event/test/EventBusMainThreadRacingTest.java, +        try {, +                // Don't let the queue grow to avoid out-of-memory scenarios, +                waitForHandler(handler);, +            }, +        } finally {, +            backgroundPoster.running = false;, +            backgroundPoster.join();, +        }, +    protected void waitForHandler(Handler handler) {, +        final CountDownLatch doneLatch = new CountDownLatch(1);, +        handler.post(new Runnable() {, +, +            @Override, +            public void run() {, +                doneLatch.countDown();, +            }, +        });, +        awaitLatch(doneLatch, 10);, +        volatile boolean running = true;, +++ b/EventBusTest/src/de/greenrobot/event/test/AbstractEventBusTest.java, +        awaitLatch(latch, seconds);, +    }, +, +    protected void awaitLatch(CountDownLatch latch, long seconds) {, +++ b/EventBusTest/src/de/greenrobot/event/test/EventBusMainThreadRacingTest.java, +        try {, +                // Don't let the queue grow to avoid out-of-memory scenarios, +                waitForHandler(handler);, +            }, +        } finally {, +            backgroundPoster.running = false;, +            backgroundPoster.join();, +        }, +    protected void waitForHandler(Handler handler) {, +        final CountDownLatch doneLatch = new CountDownLatch(1);, +        handler.post(new Runnable() {, +, +            @Override, +            public void run() {, +                doneLatch.countDown();, +            }, +        });, +        awaitLatch(doneLatch, 10);, +        volatile boolean running = true;, +++ b/EventBusTest/src/de/greenrobot/event/test/EventBusMainThreadTest.java, +        volatile boolean running = true;, +                        eventQ.wait(1000);, +                }, +                if(!eventQ.isEmpty()) {]