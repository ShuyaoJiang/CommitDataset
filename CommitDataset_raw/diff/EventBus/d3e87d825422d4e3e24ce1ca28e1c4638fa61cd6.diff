[+++ b/EventBusAnnotationProcessor/src/de/greenrobot/event/annotationprocessor/EventBusAnnotationProcessor.java, +        PackageElement packageElement = getPackageElement(typeElement);, +        String packageString = packageElement.getQualifiedName().toString();, +        if (packageString != null && !packageString.isEmpty()) {, +            if (packageString.equals(myPackage)) {, +                className = cutPackage(myPackage, className);, +            } else if (packageString.equals("java.lang")) {, +                className = typeElement.getSimpleName().toString();, +            }, +    private String cutPackage(String paket, String className) {, +        if (className.startsWith(paket + '.')) {, +            // Don't use TypeElement.getSimpleName, it doesn't work for us with inner classes, +            return className.substring(paket.length() + 1);, +        } else {, +            // Paranoia, +            throw new IllegalStateException("Mismatching " + paket + " vs. " + className);, +        }, +    }, +]