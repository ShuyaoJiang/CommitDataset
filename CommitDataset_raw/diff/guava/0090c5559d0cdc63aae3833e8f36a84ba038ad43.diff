[+++ b/guava-gwt/src-super/com/google/common/util/concurrent/super/com/google/common/util/concurrent/AbstractFuture.java, +import static com.google.common.base.Preconditions.checkNotNull;, +    checkNotNull(future);, +, +++ b/guava-gwt/src-super/com/google/common/util/concurrent/super/com/google/common/util/concurrent/AbstractFuture.java, +import static com.google.common.base.Preconditions.checkNotNull;, +    checkNotNull(future);, +, +++ b/guava-gwt/test/com/google/common/util/concurrent/TrustedInputFutureTest_gwt.java, +, +public void testSetFutureNull() throws Exception {, +  com.google.common.util.concurrent.TrustedInputFutureTest testCase = new com.google.common.util.concurrent.TrustedInputFutureTest();, +  testCase.setUp();, +  testCase.testSetFutureNull();, +}, +++ b/guava-gwt/src-super/com/google/common/util/concurrent/super/com/google/common/util/concurrent/AbstractFuture.java, +import static com.google.common.base.Preconditions.checkNotNull;, +    checkNotNull(future);, +, +++ b/guava-gwt/test/com/google/common/util/concurrent/TrustedInputFutureTest_gwt.java, +, +public void testSetFutureNull() throws Exception {, +  com.google.common.util.concurrent.TrustedInputFutureTest testCase = new com.google.common.util.concurrent.TrustedInputFutureTest();, +  testCase.setUp();, +  testCase.testSetFutureNull();, +}, +++ b/guava-gwt/test/com/google/common/util/concurrent/UntrustedInputFutureTest_gwt.java, +, +public void testSetFutureNull() throws Exception {, +  com.google.common.util.concurrent.UntrustedInputFutureTest testCase = new com.google.common.util.concurrent.UntrustedInputFutureTest();, +  testCase.setUp();, +  testCase.testSetFutureNull();, +}, +++ b/guava-gwt/src-super/com/google/common/util/concurrent/super/com/google/common/util/concurrent/AbstractFuture.java, +import static com.google.common.base.Preconditions.checkNotNull;, +    checkNotNull(future);, +, +++ b/guava-gwt/test/com/google/common/util/concurrent/TrustedInputFutureTest_gwt.java, +, +public void testSetFutureNull() throws Exception {, +  com.google.common.util.concurrent.TrustedInputFutureTest testCase = new com.google.common.util.concurrent.TrustedInputFutureTest();, +  testCase.setUp();, +  testCase.testSetFutureNull();, +}, +++ b/guava-gwt/test/com/google/common/util/concurrent/UntrustedInputFutureTest_gwt.java, +, +public void testSetFutureNull() throws Exception {, +  com.google.common.util.concurrent.UntrustedInputFutureTest testCase = new com.google.common.util.concurrent.UntrustedInputFutureTest();, +  testCase.setUp();, +  testCase.testSetFutureNull();, +}, +++ b/guava-tests/test/com/google/common/util/concurrent/AbstractAbstractFutureTest.java, +  public void testSetFutureNull() throws Exception {, +    try {, +      future.setFuture(null);, +      fail();, +    } catch (NullPointerException expected) {, +    }, +, +    assertThat(future.isDone()).isFalse();, +    assertThat(future.set(1)).isTrue();, +    assertThat(future.get()).isEqualTo(1);, +  }, +]