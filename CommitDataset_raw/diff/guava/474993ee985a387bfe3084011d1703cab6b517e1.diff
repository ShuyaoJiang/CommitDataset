[+++ b/guava/src/com/google/common/graph/AbstractConfigurableGraph.java, +    this(, +        builder,, +        builder.nodeOrder.<N, NodeAdjacencies<N>>createMap(, +            builder.expectedNodeCount.or(DEFAULT_NODE_COUNT)));, +++ b/guava/src/com/google/common/graph/AbstractConfigurableGraph.java, +    this(, +        builder,, +        builder.nodeOrder.<N, NodeAdjacencies<N>>createMap(, +            builder.expectedNodeCount.or(DEFAULT_NODE_COUNT)));, +++ b/guava/src/com/google/common/graph/AbstractConfigurableNetwork.java, +        builder.nodeOrder.<N, NodeConnections<N, E>>createMap(, +            builder.expectedNodeCount.or(DEFAULT_NODE_COUNT)),, +        builder.edgeOrder.<E, N>createMap(, +            builder.expectedEdgeCount.or(DEFAULT_EDGE_COUNT)));, +++ b/guava/src/com/google/common/graph/AbstractConfigurableGraph.java, +    this(, +        builder,, +        builder.nodeOrder.<N, NodeAdjacencies<N>>createMap(, +            builder.expectedNodeCount.or(DEFAULT_NODE_COUNT)));, +++ b/guava/src/com/google/common/graph/AbstractConfigurableNetwork.java, +        builder.nodeOrder.<N, NodeConnections<N, E>>createMap(, +            builder.expectedNodeCount.or(DEFAULT_NODE_COUNT)),, +        builder.edgeOrder.<E, N>createMap(, +            builder.expectedEdgeCount.or(DEFAULT_EDGE_COUNT)));, +++ b/guava/src/com/google/common/graph/ElementOrder.java, +import com.google.common.collect.Maps;, +import java.util.Map;, +, +  /**, +   * Returns an empty mutable map whose keys will respect this {@link ElementOrder}., +   */, +  <K extends T, V> Map<K, V> createMap(int expectedSize) {, +    switch (type) {, +      case UNORDERED:, +        return Maps.newHashMapWithExpectedSize(expectedSize);, +      case INSERTION:, +        return Maps.newLinkedHashMapWithExpectedSize(expectedSize);, +      case SORTED:, +        return Maps.newTreeMap(comparator());, +      default:, +        throw new IllegalArgumentException("Unrecognized ElementOrder type");, +    }, +  }]