[+++ b/guava-tests/test/com/google/common/net/HttpHeadersTest.java, +import com.google.common.collect.ImmutableBiMap;, +, +    // Special case some of the weird HTTP Header names..., +    ImmutableBiMap<String, String> specialCases = ImmutableBiMap.of("ETAG", "ETag");, +    ImmutableSet<String> uppercaseAcronyms = ImmutableSet.of(, +        "ID", "DNT", "IP", "MD5", "P3P", "TE", "UID", "URL", "WWW", "XSS");, +    assertConstantNameMatchesString(HttpHeaders.class, specialCases, uppercaseAcronyms);, +  }, +, +  // Visible for other tests to use, +  static void assertConstantNameMatchesString(Class clazz,, +      ImmutableBiMap<String, String> specialCases, ImmutableSet<String> uppercaseAcronyms), +      throws IllegalAccessException {, +    for (Field field : clazz.getDeclaredFields()) {, +        assertEquals(upperToHttpHeaderName(field.getName(), specialCases, uppercaseAcronyms),, +            field.get(null));, +  private static String upperToHttpHeaderName(String constantName,, +      ImmutableBiMap<String, String> specialCases, ImmutableSet<String> uppercaseAcronyms) {, +    if (specialCases.containsKey(constantName)) {, +      return specialCases.get(constantName);, +      if (!uppercaseAcronyms.contains(part)) {, +++ b/guava-tests/test/com/google/common/net/HttpHeadersTest.java, +import com.google.common.collect.ImmutableBiMap;, +, +    // Special case some of the weird HTTP Header names..., +    ImmutableBiMap<String, String> specialCases = ImmutableBiMap.of("ETAG", "ETag");, +    ImmutableSet<String> uppercaseAcronyms = ImmutableSet.of(, +        "ID", "DNT", "IP", "MD5", "P3P", "TE", "UID", "URL", "WWW", "XSS");, +    assertConstantNameMatchesString(HttpHeaders.class, specialCases, uppercaseAcronyms);, +  }, +, +  // Visible for other tests to use, +  static void assertConstantNameMatchesString(Class clazz,, +      ImmutableBiMap<String, String> specialCases, ImmutableSet<String> uppercaseAcronyms), +      throws IllegalAccessException {, +    for (Field field : clazz.getDeclaredFields()) {, +        assertEquals(upperToHttpHeaderName(field.getName(), specialCases, uppercaseAcronyms),, +            field.get(null));, +  private static String upperToHttpHeaderName(String constantName,, +      ImmutableBiMap<String, String> specialCases, ImmutableSet<String> uppercaseAcronyms) {, +    if (specialCases.containsKey(constantName)) {, +      return specialCases.get(constantName);, +      if (!uppercaseAcronyms.contains(part)) {, +++ b/guava/src/com/google/common/net/HttpHeaders.java]