[+++ b/build.xml, +  <target name="gwt.javadoc" description="Generate Javadocs for GWT sources.">, +    <delete dir="build/gwt-javadoc"/>, +    <mkdir dir="build/gwt-javadoc"/>, +, +    <delete dir="build/gwt-javadoc-src"/>, +    <mkdir dir="build/gwt-javadoc-src"/>, +, +    <!-- Flatten the regular source and supersource in the same directory, +         tree. -->, +    <copy toDir="build/gwt-javadoc-src">, +      <fileset dir="src">, +        <and>, +          <contains text="@GwtCompatible"/>, +          <not>, +            <contains text="emulated = true"/>, +          </not>, +        </and>, +      </fileset>, +    </copy>, +    <copy toDir="build/gwt-javadoc-src">, +      <fileset dir="gwt-src"/>, +    </copy>, +    <copy toDir="build/gwt-javadoc-src">, +      <fileset dir="gwt-super/com/google/common/base/super"/>, +    </copy>, +    <copy toDir="build/gwt-javadoc-src">, +      <fileset dir="gwt-super/com/google/common/collect/super"/>, +    </copy>, +    <copy toDir="build/gwt-javadoc-src">, +      <fileset dir="gwt-super/com/google/common/net/super"/>, +    </copy>, +    <copy toDir="build/gwt-javadoc-src">, +      <fileset dir="gwt-super/com/google/common/primitives/super"/>, +    </copy>, +, +    <javadoc packagenames="com.google.common.*", +         destdir="build/gwt-javadoc", +         encoding="UTF-8", +         docencoding="UTF-8", +         charset="UTF-8", +         use="true", +         author="true", +         protected="true", +         linksource="true", +         windowtitle="Guava: Google Core Libraries for GWT - ${release}">, +      <sourcepath>, +        <pathelement location="build/gwt-javadoc-src"/>, +        <pathelement location="${javasrc}"/>, +      </sourcepath>, +, +      <!-- workaround for http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6442982 -->, +      <classpath>, +        <pathelement location="lib/jsr305.jar"/>, +        <pathelement location="${gwthome}/gwt.jar"/>, +        <pathelement location="${gwthome}/gwt-dev.jar"/>, +      </classpath>, +, +      <link href="http://jsr-305.googlecode.com/svn/trunk/javadoc"/>, +      <link href="http://java.sun.com/javase/6/docs/api"/>, +      <link href="http://google-web-toolkit.googlecode.com/svn/javadoc/2.1"/>, +    </javadoc>, +, +    <!-- remove dumb comments inserted by javadoc so that we only see svn diffs, +         when things actually change. -->, +    <replaceregexp, +        match="^.*(META NAME=.date|generated by javadoc ).*$\n", +        replace="", +        flags="gmi">, +      <fileset dir="build/gwt-javadoc" includes="**/*.html"/>, +    </replaceregexp>, +, +    <!-- Clean up the temp directory so that it isn't part of the final, +         codebase. -->, +    <delete dir="build/gwt-javadoc-src"/>, +  </target>, +, +    <test.gwtc testmodule="com.google.common.collect.testModule" />, +    <test.gwtc testmodule="com.google.common.net.testModule" />, +++ b/build.xml, +  <target name="gwt.javadoc" description="Generate Javadocs for GWT sources.">, +    <delete dir="build/gwt-javadoc"/>, +    <mkdir dir="build/gwt-javadoc"/>, +, +    <delete dir="build/gwt-javadoc-src"/>, +    <mkdir dir="build/gwt-javadoc-src"/>, +, +    <!-- Flatten the regular source and supersource in the same directory, +         tree. -->, +    <copy toDir="build/gwt-javadoc-src">, +      <fileset dir="src">, +        <and>, +          <contains text="@GwtCompatible"/>, +          <not>, +            <contains text="emulated = true"/>, +          </not>, +        </and>, +      </fileset>, +    </copy>, +    <copy toDir="build/gwt-javadoc-src">]