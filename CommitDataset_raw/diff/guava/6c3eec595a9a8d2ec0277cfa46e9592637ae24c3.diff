[+++ b/build.xml, +    <mkdir dir="overridebootclasspath"/>, +    <!-- ExecutorService's type parameters changed between JDK5 and JDK6 in a, +         way that makes it impossible for our invokeAll/invokeAny methods to, +         match both at compile time. We build a JDK6-like copy of, +         ExecutorService (but with JDK5 compiler settings to ensure that it will, +         work with JRE5 at runtime) and compile against it. -->, +    <javac5 srcdir="overridebootsourcepath", +         destdir="overridebootclasspath", +         bootclasspath="${java5bootclasspath}">, +    </javac5>, +, +    <javac5 srcdir="guava/src", +         bootclasspath="overridebootclasspath:${java5bootclasspath}">, +    </javac5>, +    <javac5 srcdir="guava-gwt/src", +           bootclasspath="overridebootclasspath:${java5bootclasspath}">, +    </javac5>, +    <javac5 srcdir="guava-gwt/test", +           bootclasspath="overridebootclasspath:${java5bootclasspath}">, +    </javac5>, +  <macrodef name="javac5">, +    <attribute name="srcdir" />, +    <attribute name="destdir" />, +    <attribute name="bootclasspath" />, +    <element name="classpath-elements" optional="true" implicit="true" />, +    <sequential>, +      <javac srcdir="@{srcdir}", +           debug="on", +           destdir="@{destdir}", +           encoding="UTF-8", +           source="1.5", +           target="1.5", +           bootclasspath="@{bootclasspath}">, +        <compilerarg value="-Xlint:all"/>, +        <compilerarg value="-XDignore.symbol.file"/>, +        <classpath>, +          <classpath-elements />, +        </classpath>, +      </javac>, +    </sequential>, +  </macrodef>, +, +++ b/build.xml, +    <mkdir dir="overridebootclasspath"/>, +    <!-- ExecutorService's type parameters changed between JDK5 and JDK6 in a, +         way that makes it impossible for our invokeAll/invokeAny methods to, +         match both at compile time. We build a JDK6-like copy of, +         ExecutorService (but with JDK5 compiler settings to ensure that it will, +         work with JRE5 at runtime) and compile against it. -->, +    <javac5 srcdir="overridebootsourcepath", +         destdir="overridebootclasspath", +         bootclasspath="${java5bootclasspath}">, +    </javac5>, +, +    <javac5 srcdir="guava/src", +         bootclasspath="overridebootclasspath:${java5bootclasspath}">, +    </javac5>, +    <javac5 srcdir="guava-gwt/src", +           bootclasspath="overridebootclasspath:${java5bootclasspath}">, +    </javac5>, +    <javac5 srcdir="guava-gwt/test", +           bootclasspath="overridebootclasspath:${java5bootclasspath}">, +    </javac5>, +  <macrodef name="javac5">, +    <attribute name="srcdir" />, +    <attribute name="destdir" />, +    <attribute name="bootclasspath" />, +    <element name="classpath-elements" optional="true" implicit="true" />, +    <sequential>, +      <javac srcdir="@{srcdir}", +           debug="on", +           destdir="@{destdir}", +           encoding="UTF-8", +           source="1.5", +           target="1.5", +           bootclasspath="@{bootclasspath}">, +        <compilerarg value="-Xlint:all"/>, +        <compilerarg value="-XDignore.symbol.file"/>, +        <classpath>, +          <classpath-elements />, +        </classpath>, +      </javac>, +    </sequential>, +  </macrodef>, +, +++ b/guava/src/com/google/common/util/concurrent/AbstractListeningExecutorService.java, +/*, + * This file is a modified version of , + * http://gee.cs.oswego.edu/cgi-bin/viewcvs.cgi/jsr166/src/main/java/util/concurrent/AbstractExecutorService.java?revision=1.35, + * which contained the following notice:, + *, + * Written by Doug Lea with assistance from members of JCP JSR-166 Expert Group and released to the, + * public domain, as explained at http://creativecommons.org/publicdomain/zero/1.0/, + *, + * Rationale for copying:, + * Guava targets JDK5, whose AbstractExecutorService class lacks the newTaskFor protected, + * customization methods needed by MoreExecutors.listeningDecorator. This class is a copy of, + * AbstractExecutorService from the JSR166 CVS repository. It contains the desired methods., + */]