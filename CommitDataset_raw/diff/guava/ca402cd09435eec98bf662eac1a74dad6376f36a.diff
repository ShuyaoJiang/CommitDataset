[+++ b/guava/src/com/google/common/util/concurrent/CycleDetectingLockFactory.java, +    static final Set<String> EXCLUDED_CLASS_NAMES = ImmutableSet.of(, +      Preconditions.checkState(this != acquiredLock,, +          "Attempted to acquire multiple locks with the same rank %s", acquiredLock.getLockName());, +++ b/guava/src/com/google/common/util/concurrent/CycleDetectingLockFactory.java, +    static final Set<String> EXCLUDED_CLASS_NAMES = ImmutableSet.of(, +      Preconditions.checkState(this != acquiredLock,, +          "Attempted to acquire multiple locks with the same rank %s", acquiredLock.getLockName());, +++ b/guava/src/com/google/common/util/concurrent/ServiceManager.java, +            builder.put(entry);, +      Collections.sort(loadTimes, Ordering.natural(), +      return ImmutableMap.copyOf(loadTimes);]