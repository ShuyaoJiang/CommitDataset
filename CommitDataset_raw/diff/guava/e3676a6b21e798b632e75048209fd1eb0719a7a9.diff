[+++ b/guava-tests/test/com/google/common/collect/MapsTest.java, +  public void testTransformValuesSecretlySorted() {, +    Map<String, Integer> map = ImmutableSortedMap.of("a", 4, "b", 9);, +    Function<Integer, Double> sqrt = new Function<Integer, Double>() {, +      @Override, +      public Double apply(Integer in) {, +        return Math.sqrt(in);, +      }, +    };, +    Map<String, Double> transformed = Maps.transformValues(map, sqrt);, +, +    assertEquals(ImmutableMap.of("a", 2.0, "b", 3.0), transformed);, +    assertTrue(transformed instanceof SortedMap);, +  }, +, +  public void testTransformEntriesSecretlySorted() {, +    Map<String, String> map = ImmutableSortedMap.of("a", "4", "b", "9");, +    EntryTransformer<String, String, String> concat =, +        new EntryTransformer<String, String, String>() {, +          @Override, +          public String transformEntry(String key, String value) {, +            return key + value;, +          }, +        };, +    Map<String, String> transformed = Maps.transformEntries(map, concat);, +, +    assertEquals(ImmutableMap.of("a", "a4", "b", "b9"), transformed);, +    assertTrue(transformed instanceof SortedMap);, +  }, +]