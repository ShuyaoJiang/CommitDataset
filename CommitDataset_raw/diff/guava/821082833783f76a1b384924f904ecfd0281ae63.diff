[+++ b/guava-tests/test/com/google/common/cache/LocalCacheMapComputeTest.java, +, +  public void testComputeExceptionally() {, +    try {, +      doParallelCacheOp(count, n -> {, +        cache.asMap().compute(key, (k, v) -> { throw new RuntimeException(); });, +      });, +      fail("Should not get here");, +    } catch (RuntimeException ex) {, +    }, +  }, +++ b/guava-tests/test/com/google/common/cache/LocalCacheMapComputeTest.java, +, +  public void testComputeExceptionally() {, +    try {, +      doParallelCacheOp(count, n -> {, +        cache.asMap().compute(key, (k, v) -> { throw new RuntimeException(); });, +      });, +      fail("Should not get here");, +    } catch (RuntimeException ex) {, +    }, +  }, +++ b/guava/src/com/google/common/cache/LocalCache.java, +      V newValue;, +      try {, +         newValue = function.apply(key, previousValue);, +      } catch (Throwable th) {, +         this.setException(th);, +         throw th;, +      }]