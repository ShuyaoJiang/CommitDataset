[+++ b/guava/src/com/google/common/net/MediaType.java, +              return TOKEN_MATCHER.matchesAllOf(value) ? value : escapeAndQuote(value);, +, +  private static String escapeAndQuote(String value) {, +    StringBuilder escaped = new StringBuilder(value.length() + 16).append('"');, +    for (char ch : value.toCharArray()) {, +      if (ch == '\r' || ch == '\\' || ch == '"') {, +        escaped.append('\\');, +      }, +      escaped.append(ch);, +    }, +    return escaped.append('"').toString();, +  }, +]