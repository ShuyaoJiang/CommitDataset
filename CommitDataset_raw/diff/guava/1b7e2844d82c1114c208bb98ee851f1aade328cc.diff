[+++ b/guava-tests/test/com/google/common/math/PairedStatsTest.java, +import static com.google.common.math.StatsTesting.ALL_PAIRED_STATS;, +import java.nio.ByteBuffer;, +import java.nio.ByteOrder;, +, +, +  public void testToByteArrayAndFromByteArrayRoundTrip() {, +    for (PairedStats pairedStats : ALL_PAIRED_STATS) {, +      byte[] pairedStatsByteArray = pairedStats.toByteArray();, +, +      // Round trip to byte array and back, +      assertThat(PairedStats.fromByteArray(pairedStatsByteArray)).isEqualTo(pairedStats);, +    }, +  }, +, +  public void testFromByteArray_withNullInputThrowsNullPointerException() {, +    try {, +      PairedStats.fromByteArray(null);, +      fail("Expected NullPointerException");, +    } catch (NullPointerException expected) {, +    }, +  }, +, +  public void testFromByteArray_withEmptyArrayInputThrowsIllegalArgumentException() {, +   try {, +      PairedStats.fromByteArray(new byte[0]);, +      fail("Expected IllegalArgumentException");, +    } catch (IllegalArgumentException expected) {, +    }, +  }, +, +  public void testFromByteArray_withTooLongArrayInputThrowsIllegalArgumentException() {, +    byte[] buffer = MANY_VALUES_PAIRED_STATS.toByteArray();, +    byte[] tooLongByteArray = ByteBuffer.allocate(buffer.length + 2), +        .order(ByteOrder.LITTLE_ENDIAN), +        .put(buffer), +        .putChar('.'), +        .array();, +      try {, +        PairedStats.fromByteArray(tooLongByteArray);, +        fail("Expected IllegalArgumentException");, +      } catch (IllegalArgumentException expected) {, +      }, +  }, +, +  public void testFromByteArrayWithTooShortArrayInputThrowsIllegalArgumentException() {, +    byte[] buffer = MANY_VALUES_PAIRED_STATS.toByteArray();, +    byte[] tooShortByteArray = ByteBuffer.allocate(buffer.length - 1), +        .order(ByteOrder.LITTLE_ENDIAN), +        .put(buffer, 0, buffer.length - 1), +        .array();, +    try {, +      PairedStats.fromByteArray(tooShortByteArray);, +      fail("Expected IllegalArgumentException");, +    } catch (IllegalArgumentException expected) {, +    }, +  }, +++ b/guava-tests/test/com/google/common/math/PairedStatsTest.java, +import static com.google.common.math.StatsTesting.ALL_PAIRED_STATS;, +import java.nio.ByteBuffer;, +import java.nio.ByteOrder;, +, +, +  public void testToByteArrayAndFromByteArrayRoundTrip() {, +    for (PairedStats pairedStats : ALL_PAIRED_STATS) {, +      byte[] pairedStatsByteArray = pairedStats.toByteArray();, +, +      // Round trip to byte array and back, +      assertThat(PairedStats.fromByteArray(pairedStatsByteArray)).isEqualTo(pairedStats);, +    }, +  }, +, +  public void testFromByteArray_withNullInputThrowsNullPointerException() {, +    try {, +      PairedStats.fromByteArray(null);, +      fail("Expected NullPointerException");, +    } catch (NullPointerException expected) {, +    }, +  }, +, +  public void testFromByteArray_withEmptyArrayInputThrowsIllegalArgumentException() {, +   try {, +      PairedStats.fromByteArray(new byte[0]);, +      fail("Expected IllegalArgumentException");, +    } catch (IllegalArgumentException expected) {, +    }, +  }, +, +  public void testFromByteArray_withTooLongArrayInputThrowsIllegalArgumentException() {, +    byte[] buffer = MANY_VALUES_PAIRED_STATS.toByteArray();, +    byte[] tooLongByteArray = ByteBuffer.allocate(buffer.length + 2), +        .order(ByteOrder.LITTLE_ENDIAN), +        .put(buffer), +        .putChar('.'), +        .array();, +      try {, +        PairedStats.fromByteArray(tooLongByteArray);, +        fail("Expected IllegalArgumentException");, +      } catch (IllegalArgumentException expected) {, +      }]