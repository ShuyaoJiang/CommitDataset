[+++ b/guava/src/com/google/common/eventbus/EventBus.java, +import java.util.concurrent.locks.ReadWriteLock;, +import java.util.concurrent.locks.ReentrantReadWriteLock;, +   * <p>This SetMultimap is NOT safe for concurrent use; all access should be, +   * made after acquiring a read or write lock via {@link #handlersByTypeLock}., +  private final ReadWriteLock handlersByTypeLock = new ReentrantReadWriteLock();, +    handlersByTypeLock.writeLock().lock();, +    try {, +    } finally {, +      handlersByTypeLock.writeLock().unlock();, +      handlersByTypeLock.writeLock().lock();, +      try {, +      } finally {, +        handlersByTypeLock.writeLock().unlock();, +      handlersByTypeLock.readLock().lock();, +      try {, +      } finally {, +        handlersByTypeLock.readLock().unlock();]