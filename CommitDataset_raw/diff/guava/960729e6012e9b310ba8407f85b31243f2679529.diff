[+++ b/guava-testlib/src/com/google/common/collect/testing/DerivedCollectionGenerators.java, +          castOrCopyToList(mapGenerator.order(castOrCopyToList(, +              mapGenerator.getSampleElements(5))));, +      extends ForwardingTestMapGenerator<K, V> implements TestSortedMapGenerator<K, V> {, +    public SortedMapSubmapTestMapGenerator(, +        TestSortedMapGenerator<K, V> delegate, Bound to, Bound from) {, +      SortedMap<K, V> emptyMap = delegate.create();, +    @Override public SortedMap<K, V> create(Object... entries) {, +      List<Entry<K, V>> extremeValues = new ArrayList<Entry<K, V>>();, +      K firstExclusive = getInnerGenerator().belowSamplesGreater().getKey();, +      K lastExclusive = getInnerGenerator().aboveSamplesLesser().getKey();, +      if (from != Bound.NO_BOUND) {, +        extremeValues.add(getInnerGenerator().belowSamplesLesser());, +        extremeValues.add(getInnerGenerator().belowSamplesGreater());, +      if (to != Bound.NO_BOUND) {, +        extremeValues.add(getInnerGenerator().aboveSamplesLesser());, +        extremeValues.add(getInnerGenerator().aboveSamplesGreater());, +    SortedMap<K, V> createSubMap(SortedMap<K, V> map, K firstExclusive, K lastExclusive) {, +    public final TestSortedMapGenerator<K, V> getInnerGenerator() {, +      return (TestSortedMapGenerator<K, V>) delegate;, +    @Override, +    public Entry<K, V> belowSamplesLesser() {, +      // should never reach here!, +      throw new UnsupportedOperationException();, +    }, +, +    @Override, +    public Entry<K, V> belowSamplesGreater() {, +      // should never reach here!, +      throw new UnsupportedOperationException();, +    }, +, +    @Override, +    public Entry<K, V> aboveSamplesLesser() {, +      // should never reach here!, +      throw new UnsupportedOperationException();, +    }, +, +    @Override, +    public Entry<K, V> aboveSamplesGreater() {, +      // should never reach here!, +      throw new UnsupportedOperationException();, +    }, +++ b/guava-testlib/src/com/google/common/collect/testing/DerivedCollectionGenerators.java, +          castOrCopyToList(mapGenerator.order(castOrCopyToList(, +              mapGenerator.getSampleElements(5))));, +      extends ForwardingTestMapGenerator<K, V> implements TestSortedMapGenerator<K, V> {, +    public SortedMapSubmapTestMapGenerator(, +        TestSortedMapGenerator<K, V> delegate, Bound to, Bound from) {, +      SortedMap<K, V> emptyMap = delegate.create();, +    @Override public SortedMap<K, V> create(Object... entries) {, +      List<Entry<K, V>> extremeValues = new ArrayList<Entry<K, V>>();, +      K firstExclusive = getInnerGenerator().belowSamplesGreater().getKey();, +      K lastExclusive = getInnerGenerator().aboveSamplesLesser().getKey();, +      if (from != Bound.NO_BOUND) {, +        extremeValues.add(getInnerGenerator().belowSamplesLesser());, +        extremeValues.add(getInnerGenerator().belowSamplesGreater());, +      if (to != Bound.NO_BOUND) {, +        extremeValues.add(getInnerGenerator().aboveSamplesLesser());, +        extremeValues.add(getInnerGenerator().aboveSamplesGreater());, +    SortedMap<K, V> createSubMap(SortedMap<K, V> map, K firstExclusive, K lastExclusive) {, +    public final TestSortedMapGenerator<K, V> getInnerGenerator() {, +      return (TestSortedMapGenerator<K, V>) delegate;, +    @Override, +    public Entry<K, V> belowSamplesLesser() {, +      // should never reach here!, +      throw new UnsupportedOperationException();, +    }, +, +    @Override, +    public Entry<K, V> belowSamplesGreater() {, +      // should never reach here!, +      throw new UnsupportedOperationException();, +    }, +, +    @Override, +    public Entry<K, V> aboveSamplesLesser() {, +      // should never reach here!, +      throw new UnsupportedOperationException();, +    }, +, +    @Override, +    public Entry<K, V> aboveSamplesGreater() {, +      // should never reach here!, +      throw new UnsupportedOperationException();, +    }, +++ b/guava-testlib/src/com/google/common/collect/testing/MapTestSuiteBuilder.java, +++ b/guava-testlib/src/com/google/common/collect/testing/DerivedCollectionGenerators.java, +          castOrCopyToList(mapGenerator.order(castOrCopyToList(, +              mapGenerator.getSampleElements(5))));, +      extends ForwardingTestMapGenerator<K, V> implements TestSortedMapGenerator<K, V> {, +    public SortedMapSubmapTestMapGenerator(, +        TestSortedMapGenerator<K, V> delegate, Bound to, Bound from) {, +      SortedMap<K, V> emptyMap = delegate.create();, +    @Override public SortedMap<K, V> create(Object... entries) {, +      List<Entry<K, V>> extremeValues = new ArrayList<Entry<K, V>>();, +      K firstExclusive = getInnerGenerator().belowSamplesGreater().getKey();, +      K lastExclusive = getInnerGenerator().aboveSamplesLesser().getKey();, +      if (from != Bound.NO_BOUND) {, +        extremeValues.add(getInnerGenerator().belowSamplesLesser());]