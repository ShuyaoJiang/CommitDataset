[+++ b/guava-tests/test/com/google/common/util/concurrent/MoreExecutorsTest.java, +import java.util.concurrent.CountDownLatch;, +    final CountDownLatch completed = new CountDownLatch(1);, +    ScheduledThreadPoolExecutor delegate = new ScheduledThreadPoolExecutor(1) {, +      @Override, +      protected void afterExecute(Runnable r, Throwable t) {, +        completed.countDown();, +      }, +    };, +    /*, +     * Wait not just until the Future's value is set (as in future.get()) but, +     * also until ListeningScheduledExecutorService's wrapper task is done, +     * executing listeners, as detected by yielding control to afterExecute., +     */, +    completed.await();]