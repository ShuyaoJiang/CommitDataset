[+++ b/src/com/google/common/collect/AbstractIndexedIterator.java, +abstract class AbstractIndexedIterator<E> extends UnmodifiableListIterator<E> {, +    this.position = 0;, +  }, +, +  protected AbstractIndexedIterator(int position, int size) {, +    this.size = size;, +    this.position = position;, +, +  public int nextIndex() {, +    return position;, +  }, +, +  public boolean hasPrevious() {, +    return position > 0;, +  }, +, +  public E previous() {, +    if (!hasPrevious()) {, +      throw new NoSuchElementException();, +    }, +    return get(--position);, +  }, +, +  public int previousIndex() {, +    return position - 1;, +  }, +++ b/src/com/google/common/collect/AbstractIndexedIterator.java, +abstract class AbstractIndexedIterator<E> extends UnmodifiableListIterator<E> {, +    this.position = 0;, +  }, +, +  protected AbstractIndexedIterator(int position, int size) {, +    this.size = size;, +    this.position = position;, +, +  public int nextIndex() {, +    return position;, +  }, +, +  public boolean hasPrevious() {, +    return position > 0;, +  }, +, +  public E previous() {, +    if (!hasPrevious()) {, +      throw new NoSuchElementException();, +    }, +    return get(--position);, +  }, +, +  public int previousIndex() {, +    return position - 1;, +  }, +++ b/src/com/google/common/collect/EmptyImmutableList.java, +import java.util.NoSuchElementException;, +  static final UnmodifiableListIterator<Object> ITERATOR =, +      new UnmodifiableListIterator<Object>() {, +, +        @Override public boolean hasNext() {, +          return false;, +        }, +, +        @Override public boolean hasPrevious() {, +          return false;, +        }, +, +        @Override public Object next() {, +          throw new NoSuchElementException();, +        }, +, +        @Override public int nextIndex() {, +          return 0;, +        }, +, +        @Override public Object previous() {, +          throw new NoSuchElementException();, +        }, +, +        @Override public int previousIndex() {, +          return -1;, +        }, +      };, +  @Override public UnmodifiableListIterator<Object> listIterator(){, +    return ITERATOR;, +  @Override public UnmodifiableListIterator<Object> listIterator(int start) {, +    return ITERATOR;, +++ b/src/com/google/common/collect/AbstractIndexedIterator.java, +abstract class AbstractIndexedIterator<E> extends UnmodifiableListIterator<E> {, +    this.position = 0;, +  }, +, +  protected AbstractIndexedIterator(int position, int size) {, +    this.size = size;, +    this.position = position;, +, +  public int nextIndex() {, +    return position;, +  }, +]