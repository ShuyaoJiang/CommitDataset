[+++ b/guava-tests/test/com/google/common/base/OptionalTest.java, +  , +  public void testPresentInstances_callingIteratorTwice() {, +    List<Optional<String>> optionals =, +        ImmutableList.of(Optional.of("a"), Optional.<String>absent(), Optional.of("c"));, +    Iterable<String> onlyPresent = Optional.presentInstances(optionals);, +    ASSERT.that(onlyPresent).hasContentsInOrder("a", "c");, +    ASSERT.that(onlyPresent).hasContentsInOrder("a", "c");, +  }, +++ b/guava-tests/test/com/google/common/base/OptionalTest.java, +  , +  public void testPresentInstances_callingIteratorTwice() {, +    List<Optional<String>> optionals =, +        ImmutableList.of(Optional.of("a"), Optional.<String>absent(), Optional.of("c"));, +    Iterable<String> onlyPresent = Optional.presentInstances(optionals);, +    ASSERT.that(onlyPresent).hasContentsInOrder("a", "c");, +    ASSERT.that(onlyPresent).hasContentsInOrder("a", "c");, +  }, +++ b/guava/src/com/google/common/base/Optional.java, +  public static <T> Iterable<T> presentInstances(final Iterable<Optional<T>> optionals) {, +          private final Iterator<Optional<T>> iterator = checkNotNull(optionals.iterator());, +]