[+++ b/guava-testlib/src/com/google/common/testing/GcFinalization.java, +  private static long timeoutSeconds() {, +    // TODO(user): Consider using, +    // java/lang/management/OperatingSystemMXBean.html#getSystemLoadAverage(), +    // TODO(user): Consider scaling by number of mutator threads,, +    // e.g. using Thread#activeCount(), +    return Math.max(10L, Runtime.getRuntime().totalMemory() / (32L * 1024L * 1024L));, +    final long timeoutSeconds = timeoutSeconds();, +    final long deadline = System.nanoTime() + SECONDS.toNanos(timeoutSeconds);, +    throw new TimeoutException(, +        String.format("Future not done within timeout of %d seconds",, +                      timeoutSeconds));, +    final long timeoutSeconds = timeoutSeconds();, +    final long deadline = System.nanoTime() + SECONDS.toNanos(timeoutSeconds);, +    throw new TimeoutException(, +        String.format("CountDownLatch failed to count down within timeout of %d seconds",, +                      timeoutSeconds));, +    final long timeoutSeconds = timeoutSeconds();, +    final long deadline = System.nanoTime() + SECONDS.toNanos(timeoutSeconds);, +    throw new TimeoutException(, +        String.format("Predicate did not become true within timeout of %d seconds",, +                      timeoutSeconds));]