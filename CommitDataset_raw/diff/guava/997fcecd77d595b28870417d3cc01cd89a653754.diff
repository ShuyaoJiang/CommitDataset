[+++ b/guava-tests/test/com/google/common/io/CleanPathTest.java, +  , +  // https://code.google.com/p/guava-libraries/issues/detail?id=716, +  public void test716() {, +    assertEquals("b", Files.simplifyPath("./b"));, +    assertEquals("b", Files.simplifyPath("./b/."));, +    assertEquals("b", Files.simplifyPath("././b/./."));, +    assertEquals("b", Files.simplifyPath("././b"));, +    assertEquals("a/b", Files.simplifyPath("./a/b"));, +  }, +  , +  public void testHiddenFiles() {, +    assertEquals(".b", Files.simplifyPath(".b"));, +    assertEquals(".b", Files.simplifyPath("./.b"));, +    assertEquals(".metadata/b", Files.simplifyPath(".metadata/b"));, +    assertEquals(".metadata/b", Files.simplifyPath("./.metadata/b"));, +  }, +  , +  // https://code.google.com/p/guava-libraries/issues/detail?id=716, +  public void testMultipleDotFilenames() {, +    assertEquals("..a", Files.simplifyPath("..a"));, +    assertEquals("/..a", Files.simplifyPath("/..a"));, +    assertEquals("/..a/..b", Files.simplifyPath("/..a/..b"));, +    assertEquals("/.....a/..b", Files.simplifyPath("/.....a/..b"));, +    assertEquals("..../....", Files.simplifyPath("..../...."));, +    assertEquals("..a../..b..", Files.simplifyPath("..a../..b.."));, +  }, +, +  public void testSlashDot() {, +    assertEquals("/", Files.simplifyPath("/."));    , +  }, +  , +++ b/guava-tests/test/com/google/common/io/CleanPathTest.java, +  , +  // https://code.google.com/p/guava-libraries/issues/detail?id=716, +  public void test716() {, +    assertEquals("b", Files.simplifyPath("./b"));, +    assertEquals("b", Files.simplifyPath("./b/."));, +    assertEquals("b", Files.simplifyPath("././b/./."));, +    assertEquals("b", Files.simplifyPath("././b"));, +    assertEquals("a/b", Files.simplifyPath("./a/b"));, +  }, +  , +  public void testHiddenFiles() {, +    assertEquals(".b", Files.simplifyPath(".b"));, +    assertEquals(".b", Files.simplifyPath("./.b"));, +    assertEquals(".metadata/b", Files.simplifyPath(".metadata/b"));, +    assertEquals(".metadata/b", Files.simplifyPath("./.metadata/b"));, +  }, +  , +  // https://code.google.com/p/guava-libraries/issues/detail?id=716, +  public void testMultipleDotFilenames() {, +    assertEquals("..a", Files.simplifyPath("..a"));, +    assertEquals("/..a", Files.simplifyPath("/..a"));, +    assertEquals("/..a/..b", Files.simplifyPath("/..a/..b"));, +    assertEquals("/.....a/..b", Files.simplifyPath("/.....a/..b"));, +    assertEquals("..../....", Files.simplifyPath("..../...."));, +    assertEquals("..a../..b..", Files.simplifyPath("..a../..b.."));, +  }, +, +  public void testSlashDot() {, +    assertEquals("/", Files.simplifyPath("/."));    , +  }, +  , +++ b/guava/src/com/google/common/io/Files.java, +        if (name[q] != name[firstNonSlash]   /* don't prefix ./b paths with / */, +            || (name[q] == '.' && q != 0 && (sep(name, q + 1) || sep(name, q + 2)))) {, +    return (pos >= a.length) || (a[pos] == '/');]