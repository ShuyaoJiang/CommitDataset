[+++ b/guava-tests/test/com/google/common/hash/HashingInputStreamTest.java, +import static org.mockito.Mockito.mock;, +import static org.mockito.Mockito.verify;, +import static org.mockito.Mockito.verifyNoMoreInteractions;, +import static org.mockito.Mockito.when;, +  @Override, +  protected void setUp() throws Exception {, +    hasher = mock(Hasher.class);, +    hashFunction = mock(HashFunction.class);, +    when(hashFunction.newHasher()).thenReturn(hasher);, +    verify(hasher).putByte((byte) 'y');, +    verify(hashFunction).newHasher();, +    verifyNoMoreInteractions(hashFunction, hasher);, +    verify(hasher).putBytes(testBytes, 0, testBytes.length);, +    verify(hashFunction).newHasher();, +    verifyNoMoreInteractions(hashFunction, hasher);, +    verify(hasher).putBytes(Arrays.copyOf(testBytes, 3), 0, 3);, +    verify(hashFunction).newHasher();, +    verifyNoMoreInteractions(hashFunction, hasher);, +    verify(hasher).putBytes(expectedBytes, 0, 4);, +    verify(hashFunction).newHasher();, +    verifyNoMoreInteractions(hashFunction, hasher);, +++ b/guava-tests/test/com/google/common/hash/HashingInputStreamTest.java, +import static org.mockito.Mockito.mock;, +import static org.mockito.Mockito.verify;, +import static org.mockito.Mockito.verifyNoMoreInteractions;, +import static org.mockito.Mockito.when;, +  @Override, +  protected void setUp() throws Exception {, +    hasher = mock(Hasher.class);, +    hashFunction = mock(HashFunction.class);, +    when(hashFunction.newHasher()).thenReturn(hasher);, +    verify(hasher).putByte((byte) 'y');, +    verify(hashFunction).newHasher();, +    verifyNoMoreInteractions(hashFunction, hasher);, +    verify(hasher).putBytes(testBytes, 0, testBytes.length);, +    verify(hashFunction).newHasher();, +    verifyNoMoreInteractions(hashFunction, hasher);, +    verify(hasher).putBytes(Arrays.copyOf(testBytes, 3), 0, 3);, +    verify(hashFunction).newHasher();, +    verifyNoMoreInteractions(hashFunction, hasher);, +    verify(hasher).putBytes(expectedBytes, 0, 4);, +    verify(hashFunction).newHasher();, +    verifyNoMoreInteractions(hashFunction, hasher);, +++ b/guava-tests/test/com/google/common/hash/HashingOutputStreamTest.java, +import static org.mockito.Mockito.mock;, +import static org.mockito.Mockito.verify;, +import static org.mockito.Mockito.verifyNoMoreInteractions;, +import static org.mockito.Mockito.when;, +, +  @Override, +  protected void setUp() throws Exception {, +    hasher = mock(Hasher.class);, +    hashFunction = mock(HashFunction.class);, +    when(hashFunction.newHasher()).thenReturn(hasher);, +    verify(hashFunction).newHasher();, +    verify(hasher).putByte((byte) b);, +    verifyNoMoreInteractions(hashFunction, hasher);, +    verify(hashFunction).newHasher();, +    verify(hasher).putBytes(buf, 0, buf.length);, +    verifyNoMoreInteractions(hashFunction, hasher);, +    verify(hashFunction).newHasher();, +    verify(hasher).putBytes(buf, 0, 3);, +    verifyNoMoreInteractions(hashFunction, hasher);]