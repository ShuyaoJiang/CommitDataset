[+++ b/guava-tests/test/com/google/common/net/InternetDomainNameTest.java, +      "foo-.com",, +      "foo_.com",, +++ b/guava-tests/test/com/google/common/net/InternetDomainNameTest.java, +      "foo-.com",, +      "foo_.com",, +++ b/guava/src/com/google/common/net/InternetDomainName.java, +   * <li>Underscores ('_') are permitted within parts (not the first or, +   *     last character)., +   * <li>Dashes ('-') are permitted as the last character of parts (in, +   *     addition to being permitted within parts, per the standard)., +  private static final CharMatcher UNDERSCORE_MATCHER = CharMatcher.is('_');, +, +  private static final CharMatcher DASH_OR_UNDERSCORE_MATCHER = CharMatcher.anyOf("-_");, +      CharMatcher.JAVA_LETTER_OR_DIGIT.or(DASH_OR_UNDERSCORE_MATCHER);, +    // No initial dash or underscore. No final underscore., +    if (DASH_OR_UNDERSCORE_MATCHER.matches(part.charAt(0)), +        || UNDERSCORE_MATCHER.matches(part.charAt(part.length() - 1))) {]