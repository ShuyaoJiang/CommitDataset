[+++ b/android/guava-tests/test/com/google/common/collect/ImmutableSortedMapTest.java, +import java.util.TreeMap;, +  public void testNullValuesInCopyOfMap() {, +    for (int i = 1; i <= 10; i++) {, +      for (int j = 0; j < i; j++) {, +        Map<Integer, Integer> source = new TreeMap<>();, +        for (int k = 0; k < i; k++) {, +          source.put(k, k);, +        }, +        source.put(j, null);, +        try {, +          ImmutableSortedMap.copyOf(source);, +          fail("Expected NullPointerException in copyOf(" + source + ")");, +        } catch (NullPointerException expected) {, +        }, +      }, +    }, +  }, +, +  public void testNullValuesInCopyOfEntries() {, +    for (int i = 1; i <= 10; i++) {, +      for (int j = 0; j < i; j++) {, +        Map<Integer, Integer> source = new TreeMap<>();, +        for (int k = 0; k < i; k++) {, +          source.put(k, k);, +        }, +        source.put(j, null);, +        try {, +          ImmutableSortedMap.copyOf(source.entrySet());, +          fail("Expected NullPointerException in copyOf(" + source.entrySet() + ")");, +        } catch (NullPointerException expected) {, +        }, +      }, +    }, +  }, +, +++ b/android/guava-tests/test/com/google/common/collect/ImmutableSortedMapTest.java, +import java.util.TreeMap;, +  public void testNullValuesInCopyOfMap() {, +    for (int i = 1; i <= 10; i++) {, +      for (int j = 0; j < i; j++) {, +        Map<Integer, Integer> source = new TreeMap<>();, +        for (int k = 0; k < i; k++) {, +          source.put(k, k);, +        }, +        source.put(j, null);, +        try {, +          ImmutableSortedMap.copyOf(source);, +          fail("Expected NullPointerException in copyOf(" + source + ")");, +        } catch (NullPointerException expected) {, +        }, +      }, +    }, +  }, +, +  public void testNullValuesInCopyOfEntries() {, +    for (int i = 1; i <= 10; i++) {, +      for (int j = 0; j < i; j++) {, +        Map<Integer, Integer> source = new TreeMap<>();, +        for (int k = 0; k < i; k++) {, +          source.put(k, k);, +        }, +        source.put(j, null);, +        try {, +          ImmutableSortedMap.copyOf(source.entrySet());, +          fail("Expected NullPointerException in copyOf(" + source.entrySet() + ")");, +        } catch (NullPointerException expected) {, +        }, +      }, +    }, +  }, +, +++ b/android/guava/src/com/google/common/collect/ImmutableSortedMap.java, +          checkEntryNotNull(keys[0], values[0]);, +++ b/android/guava-tests/test/com/google/common/collect/ImmutableSortedMapTest.java, +import java.util.TreeMap;, +  public void testNullValuesInCopyOfMap() {, +    for (int i = 1; i <= 10; i++) {, +      for (int j = 0; j < i; j++) {, +        Map<Integer, Integer> source = new TreeMap<>();, +        for (int k = 0; k < i; k++) {, +          source.put(k, k);, +        }, +        source.put(j, null);, +        try {, +          ImmutableSortedMap.copyOf(source);, +          fail("Expected NullPointerException in copyOf(" + source + ")");, +        } catch (NullPointerException expected) {, +        }, +      }, +    }, +  }, +, +  public void testNullValuesInCopyOfEntries() {, +    for (int i = 1; i <= 10; i++) {, +      for (int j = 0; j < i; j++) {, +        Map<Integer, Integer> source = new TreeMap<>();, +        for (int k = 0; k < i; k++) {, +          source.put(k, k);, +        }]