[+++ b/guava-gwt/test-super/com/google/common/base/super/com/google/common/base/CharMatcherTest.java, +    assertToStringWorks("CharMatcher.NONE", CharMatcher.anyOf(""));, +    assertToStringWorks("CharMatcher.is('\\u0031')", CharMatcher.anyOf("1"));, +    assertToStringWorks("CharMatcher.isNot('\\u0031')", CharMatcher.isNot('1'));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\")", CharMatcher.anyOf("12"));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\\u0033\")",, +        CharMatcher.anyOf("321"));, +    assertToStringWorks("CharMatcher.inRange('\\u0031', '\\u0033')",, +        CharMatcher.inRange('1', '3'));, +  }, +, +  private static void assertToStringWorks(String expected, CharMatcher matcher) {, +    assertEquals(expected, matcher.toString());, +    assertEquals(expected, matcher.precomputed().toString());, +    assertEquals(expected, matcher.negate().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().precomputed().toString());, +++ b/guava-gwt/test-super/com/google/common/base/super/com/google/common/base/CharMatcherTest.java, +    assertToStringWorks("CharMatcher.NONE", CharMatcher.anyOf(""));, +    assertToStringWorks("CharMatcher.is('\\u0031')", CharMatcher.anyOf("1"));, +    assertToStringWorks("CharMatcher.isNot('\\u0031')", CharMatcher.isNot('1'));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\")", CharMatcher.anyOf("12"));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\\u0033\")",, +        CharMatcher.anyOf("321"));, +    assertToStringWorks("CharMatcher.inRange('\\u0031', '\\u0033')",, +        CharMatcher.inRange('1', '3'));, +  }, +, +  private static void assertToStringWorks(String expected, CharMatcher matcher) {, +    assertEquals(expected, matcher.toString());, +    assertEquals(expected, matcher.precomputed().toString());, +    assertEquals(expected, matcher.negate().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().precomputed().toString());, +++ b/guava-tests/test/com/google/common/base/CharMatcherTest.java, +    assertToStringWorks("CharMatcher.NONE", CharMatcher.anyOf(""));, +    assertToStringWorks("CharMatcher.is('\\u0031')", CharMatcher.anyOf("1"));, +    assertToStringWorks("CharMatcher.isNot('\\u0031')", CharMatcher.isNot('1'));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\")", CharMatcher.anyOf("12"));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\\u0033\")",, +        CharMatcher.anyOf("321"));, +    assertToStringWorks("CharMatcher.inRange('\\u0031', '\\u0033')",, +        CharMatcher.inRange('1', '3'));, +  }, +, +  private static void assertToStringWorks(String expected, CharMatcher matcher) {, +    assertEquals(expected, matcher.toString());, +    assertEquals(expected, matcher.precomputed().toString());, +    assertEquals(expected, matcher.negate().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().precomputed().toString());, +++ b/guava-gwt/test-super/com/google/common/base/super/com/google/common/base/CharMatcherTest.java, +    assertToStringWorks("CharMatcher.NONE", CharMatcher.anyOf(""));, +    assertToStringWorks("CharMatcher.is('\\u0031')", CharMatcher.anyOf("1"));, +    assertToStringWorks("CharMatcher.isNot('\\u0031')", CharMatcher.isNot('1'));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\")", CharMatcher.anyOf("12"));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\\u0033\")",, +        CharMatcher.anyOf("321"));, +    assertToStringWorks("CharMatcher.inRange('\\u0031', '\\u0033')",, +        CharMatcher.inRange('1', '3'));, +  }, +, +  private static void assertToStringWorks(String expected, CharMatcher matcher) {, +    assertEquals(expected, matcher.toString());, +    assertEquals(expected, matcher.precomputed().toString());, +    assertEquals(expected, matcher.negate().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().precomputed().toString());, +++ b/guava-tests/test/com/google/common/base/CharMatcherTest.java, +    assertToStringWorks("CharMatcher.NONE", CharMatcher.anyOf(""));, +    assertToStringWorks("CharMatcher.is('\\u0031')", CharMatcher.anyOf("1"));, +    assertToStringWorks("CharMatcher.isNot('\\u0031')", CharMatcher.isNot('1'));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\")", CharMatcher.anyOf("12"));, +    assertToStringWorks("CharMatcher.anyOf(\"\\u0031\\u0032\\u0033\")",, +        CharMatcher.anyOf("321"));, +    assertToStringWorks("CharMatcher.inRange('\\u0031', '\\u0033')",, +        CharMatcher.inRange('1', '3'));, +  }, +, +  private static void assertToStringWorks(String expected, CharMatcher matcher) {, +    assertEquals(expected, matcher.toString());, +    assertEquals(expected, matcher.precomputed().toString());, +    assertEquals(expected, matcher.negate().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().toString());, +    assertEquals(expected, matcher.negate().precomputed().negate().precomputed().toString());, +++ b/guava/src/com/google/common/base/CharMatcher.java, +      String suffix = ".negate()";, +      String negatedDescription = description.endsWith(suffix), +          ? description.substring(0, description.length() - suffix.length()), +          : description + suffix;, +          precomputedPositive(negatedCharacters, table, negatedDescription));]