[+++ b/guava-gwt/src/com/google/common/net/Net.gwt.xml, +++ b/guava-gwt/src/com/google/common/net/Net.gwt.xml, +++ b/guava/src/com/google/common/net/MediaType.java, +  private String toString;, +, +  private int hashCode;, +    // racy single-check idiom, +    int h = hashCode;, +    if (h == 0) {, +      h = Objects.hashCode(type, subtype, parametersAsMap());, +      hashCode = h;, +    }, +    return h;, +    // racy single-check idiom, safe because String is immutable, +      result = computeToString();, +      toString = result;, +    for (int i = 0; i < value.length(); i++) {, +      char ch = value.charAt(i);]