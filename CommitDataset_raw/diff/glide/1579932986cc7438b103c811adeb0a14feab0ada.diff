[+++ b/library/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java, +        drawable.onFrameRead(0);, +        when(frameManager.getCurrentFrame()).thenReturn(null);, +    public void testDoesDrawCurrentFrameIfOneIsAvailable() {, +        Canvas canvas = mock(Canvas.class);, +        Bitmap currentFrame = Bitmap.createBitmap(100123, 123141, Bitmap.Config.ARGB_4444);, +        when(frameManager.getCurrentFrame()).thenReturn(currentFrame);, +, +        drawable.draw(canvas);, +        verify(canvas).drawBitmap(eq(currentFrame), anyInt(), anyInt(), any(Paint.class));, +        verify(canvas, never()).drawBitmap(eq(firstFrame), anyInt(), anyInt(), any(Paint.class));, +    }, +, +    @Test, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(1);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(1);, +    @Test, +    public void testDoesNotDrawFrameAfterRecycle() {, +        Bitmap bitmap = Bitmap.createBitmap(100, 112341, Bitmap.Config.RGB_565);, +        drawable.setVisible(true, true);, +        drawable.start();, +        when(frameManager.getCurrentFrame()).thenReturn(bitmap);, +        drawable.onFrameRead(1);, +        drawable.recycle();, +        Canvas canvas = mock(Canvas.class);, +        drawable.draw(canvas);, +        verify(canvas, never()).drawBitmap(any(Bitmap.class), anyInt(), anyInt(), any(Paint.class));, +    }, +, +                drawable.onFrameRead(frame);, +++ b/library/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java, +        drawable.onFrameRead(0);, +        when(frameManager.getCurrentFrame()).thenReturn(null);, +    public void testDoesDrawCurrentFrameIfOneIsAvailable() {, +        Canvas canvas = mock(Canvas.class);, +        Bitmap currentFrame = Bitmap.createBitmap(100123, 123141, Bitmap.Config.ARGB_4444);, +        when(frameManager.getCurrentFrame()).thenReturn(currentFrame);, +, +        drawable.draw(canvas);, +        verify(canvas).drawBitmap(eq(currentFrame), anyInt(), anyInt(), any(Paint.class));, +        verify(canvas, never()).drawBitmap(eq(firstFrame), anyInt(), anyInt(), any(Paint.class));, +    }, +, +    @Test, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(1);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(1);, +    @Test, +    public void testDoesNotDrawFrameAfterRecycle() {, +        Bitmap bitmap = Bitmap.createBitmap(100, 112341, Bitmap.Config.RGB_565);, +        drawable.setVisible(true, true);, +        drawable.start();, +        when(frameManager.getCurrentFrame()).thenReturn(bitmap);, +        drawable.onFrameRead(1);, +        drawable.recycle();, +        Canvas canvas = mock(Canvas.class);, +        drawable.draw(canvas);, +        verify(canvas, never()).drawBitmap(any(Bitmap.class), anyInt(), anyInt(), any(Paint.class));, +    }, +, +                drawable.onFrameRead(frame);, +++ b/library/src/main/java/com/bumptech/glide/load/resource/gif/GifDrawable.java, +        if (isRecycled) {, +            return;, +        }, +        Bitmap currentFrame = frameManager.getCurrentFrame();, +    public void onFrameRead(int frameIndex) {, +++ b/library/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java, +        drawable.onFrameRead(0);, +        when(frameManager.getCurrentFrame()).thenReturn(null);, +    public void testDoesDrawCurrentFrameIfOneIsAvailable() {, +        Canvas canvas = mock(Canvas.class);, +        Bitmap currentFrame = Bitmap.createBitmap(100123, 123141, Bitmap.Config.ARGB_4444);, +        when(frameManager.getCurrentFrame()).thenReturn(currentFrame);, +, +        drawable.draw(canvas);, +        verify(canvas).drawBitmap(eq(currentFrame), anyInt(), anyInt(), any(Paint.class));, +        verify(canvas, never()).drawBitmap(eq(firstFrame), anyInt(), anyInt(), any(Paint.class));, +    }, +, +    @Test, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);, +        drawable.onFrameRead(0);]