[+++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/cache/LruResourceCache.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/cache/LruResourceCache.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN;, +  public void testTrimMemoryUiHiddenOrLessRemovesHalfOfArrays() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_UI_HIDDEN, MAX_SIZE / 2);, +  public void testTrimMemoryUiHiddenOrLessRemovesNoArraysIfPoolLessThanHalfFull() {, +    testTrimMemory(MAX_SIZE / 2, TRIM_MEMORY_UI_HIDDEN, MAX_SIZE / 2);, +  public void testTrimMemoryBackgroundOrGreaterRemovesAllArrays() {, +    for (int trimLevel : new int[] {TRIM_MEMORY_BACKGROUND, TRIM_MEMORY_COMPLETE}) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/cache/LruResourceCache.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN;, +  public void testTrimMemoryUiHiddenOrLessRemovesHalfOfArrays() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_UI_HIDDEN, MAX_SIZE / 2);, +  public void testTrimMemoryUiHiddenOrLessRemovesNoArraysIfPoolLessThanHalfFull() {, +    testTrimMemory(MAX_SIZE / 2, TRIM_MEMORY_UI_HIDDEN, MAX_SIZE / 2);, +  public void testTrimMemoryBackgroundOrGreaterRemovesAllArrays() {, +    for (int trimLevel : new int[] {TRIM_MEMORY_BACKGROUND, TRIM_MEMORY_COMPLETE}) {, +++ b/library/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN;, +  public void testTrimMemoryUiHiddenOrLessRemovesHalfOfBitmaps() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_UI_HIDDEN, MAX_SIZE / 2);, +  public void testTrimMemoryUiHiddenOrLessRemovesNoBitmapsIfPoolLessThanHalfFull() {, +    testTrimMemory(MAX_SIZE / 2, TRIM_MEMORY_UI_HIDDEN, 0);, +  public void testTrimMemoryBackgroundOrGreaterRemovesAllBitmaps() {, +    for (int trimLevel : new int[] { TRIM_MEMORY_BACKGROUND, TRIM_MEMORY_COMPLETE }) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/cache/LruResourceCache.java, +    if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_BACKGROUND) {, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {, +++ b/library/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN;, +  public void testTrimMemoryUiHiddenOrLessRemovesHalfOfArrays() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_UI_HIDDEN, MAX_SIZE / 2);, +  public void testTrimMemoryUiHiddenOrLessRemovesNoArraysIfPoolLessThanHalfFull() {, +    testTrimMemory(MAX_SIZE / 2, TRIM_MEMORY_UI_HIDDEN, MAX_SIZE / 2);, +  public void testTrimMemoryBackgroundOrGreaterRemovesAllArrays() {, +    for (int trimLevel : new int[] {TRIM_MEMORY_BACKGROUND, TRIM_MEMORY_COMPLETE}) {, +++ b/library/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN;, +  public void testTrimMemoryUiHiddenOrLessRemovesHalfOfBitmaps() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_UI_HIDDEN, MAX_SIZE / 2);, +  public void testTrimMemoryUiHiddenOrLessRemovesNoBitmapsIfPoolLessThanHalfFull() {, +    testTrimMemory(MAX_SIZE / 2, TRIM_MEMORY_UI_HIDDEN, 0);, +  public void testTrimMemoryBackgroundOrGreaterRemovesAllBitmaps() {, +    for (int trimLevel : new int[] { TRIM_MEMORY_BACKGROUND, TRIM_MEMORY_COMPLETE }) {, +++ b/library/src/test/java/com/bumptech/glide/load/engine/cache/LruResourceCacheTest.java, +  public void testTrimMemoryBackground() {, +    harness.resourceCache.trimMemory(ComponentCallbacks2.TRIM_MEMORY_BACKGROUND);, +  public void testTrimMemoryModerate() {, +    harness.resourceCache.trimMemory(ComponentCallbacks2.TRIM_MEMORY_MODERATE);, +  public void testTrimMemoryUiHidden() {, +    harness.resourceCache.trimMemory(ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN);]