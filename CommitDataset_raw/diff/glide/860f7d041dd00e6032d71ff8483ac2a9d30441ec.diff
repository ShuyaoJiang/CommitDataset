[+++ b/library/src/main/java/com/bumptech/glide/Glide.java, +    BitmapEncoder bitmapEncoder = new BitmapEncoder(arrayPool);, +++ b/library/src/main/java/com/bumptech/glide/Glide.java, +    BitmapEncoder bitmapEncoder = new BitmapEncoder(arrayPool);, +++ b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/BitmapEncoder.java, +import android.support.annotation.Nullable;, +import com.bumptech.glide.load.data.BufferedOutputStream;, +import com.bumptech.glide.load.engine.bitmap_recycle.ArrayPool;, +  @Nullable, +  private final ArrayPool arrayPool;, +, +  public BitmapEncoder(@NonNull ArrayPool arrayPool) {, +    this.arrayPool = arrayPool;, +  }, +, +  /**, +   * @deprecated Use {@link #BitmapEncoder(ArrayPool)} instead., +   */, +  @Deprecated, +  public BitmapEncoder() {, +    arrayPool = null;, +  }, +        if (arrayPool != null) {, +          os = new BufferedOutputStream(os, arrayPool);, +        }, +++ b/library/src/main/java/com/bumptech/glide/Glide.java, +    BitmapEncoder bitmapEncoder = new BitmapEncoder(arrayPool);, +++ b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/BitmapEncoder.java, +import android.support.annotation.Nullable;, +import com.bumptech.glide.load.data.BufferedOutputStream;, +import com.bumptech.glide.load.engine.bitmap_recycle.ArrayPool;, +  @Nullable, +  private final ArrayPool arrayPool;, +, +  public BitmapEncoder(@NonNull ArrayPool arrayPool) {, +    this.arrayPool = arrayPool;, +  }, +, +  /**, +   * @deprecated Use {@link #BitmapEncoder(ArrayPool)} instead., +   */, +  @Deprecated, +  public BitmapEncoder() {, +    arrayPool = null;, +  }, +        if (arrayPool != null) {, +          os = new BufferedOutputStream(os, arrayPool);, +        }, +++ b/library/test/src/test/java/com/bumptech/glide/load/resource/bitmap/BitmapEncoderTest.java, +import com.bumptech.glide.load.engine.bitmap_recycle.ArrayPool;, +import com.bumptech.glide.load.engine.bitmap_recycle.LruArrayPool;, +    BitmapEncoder encoder = new BitmapEncoder(harness.arrayPool);, +    BitmapEncoder encoder = new BitmapEncoder(harness.arrayPool);, +    final ArrayPool arrayPool = new LruArrayPool();, +      BitmapEncoder encoder = new BitmapEncoder(arrayPool);]