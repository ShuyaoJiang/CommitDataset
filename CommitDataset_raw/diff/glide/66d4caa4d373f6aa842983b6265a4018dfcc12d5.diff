[+++ b/library/src/main/java/com/bumptech/glide/load/model/LazyHeaderFactory.java, +import android.support.annotation.Nullable;, +, +    /**, +     * Returns an http header, or {@code null} if no header could be built., +     *, +     * <p>Returning {@code null} or an empty String from this method will result in this particular, +     * key/value being excluded from the headers provided in the request. If there are multiple, +     * factories or values for a particular key, any non-null values will still be included for that, +     * key., +     */, +    @Nullable, +++ b/library/src/main/java/com/bumptech/glide/load/model/LazyHeaderFactory.java, +import android.support.annotation.Nullable;, +, +    /**, +     * Returns an http header, or {@code null} if no header could be built., +     *, +     * <p>Returning {@code null} or an empty String from this method will result in this particular, +     * key/value being excluded from the headers provided in the request. If there are multiple, +     * factories or values for a particular key, any non-null values will still be included for that, +     * key., +     */, +    @Nullable, +++ b/library/src/main/java/com/bumptech/glide/load/model/LazyHeaders.java, +        String header = factory.buildHeader();, +        if (!TextUtils.isEmpty(header)) {, +          sb.append(header);, +      }, +      String values = sb.toString();, +      if (!TextUtils.isEmpty(values)) {, +    }, +++ b/library/src/main/java/com/bumptech/glide/load/model/LazyHeaderFactory.java, +import android.support.annotation.Nullable;, +, +    /**, +     * Returns an http header, or {@code null} if no header could be built., +     *, +     * <p>Returning {@code null} or an empty String from this method will result in this particular, +     * key/value being excluded from the headers provided in the request. If there are multiple, +     * factories or values for a particular key, any non-null values will still be included for that, +     * key., +     */, +    @Nullable, +++ b/library/src/main/java/com/bumptech/glide/load/model/LazyHeaders.java, +        String header = factory.buildHeader();, +        if (!TextUtils.isEmpty(header)) {, +          sb.append(header);, +      }, +      String values = sb.toString();, +      if (!TextUtils.isEmpty(values)) {, +    }, +++ b/library/src/test/java/com/bumptech/glide/load/model/LazyHeadersTest.java, +import android.support.annotation.Nullable;, +, +  public void testKeyNotIncludedWithFactoryThatReturnsNullValue() {, +    Builder builder = new Builder();, +    builder.setHeader("test", new LazyHeaderFactory() {, +      @Nullable, +      @Override, +      public String buildHeader() {, +        return null;, +      }, +    });, +    LazyHeaders headers = builder.build();, +    assertThat(headers.getHeaders()).doesNotContainKey("test");, +  }, +, +  @Test, +  public void testKeyNotIncludedWithFactoryThatReturnsEmptyValue() {, +    Builder builder = new Builder();, +    builder.setHeader("test", new LazyHeaderFactory() {, +      @Nullable, +      @Override, +      public String buildHeader() {, +        return "";, +      }, +    });, +    LazyHeaders headers = builder.build();, +    assertThat(headers.getHeaders()).doesNotContainKey("test");, +  }, +, +  @Test, +  public void testKeyIncludedWithOneFactoryThatReturnsNullAndOneFactoryThatDoesNotReturnNull() {, +    Builder builder = new Builder();, +    builder.addHeader("test", new LazyHeaderFactory() {, +      @Nullable, +      @Override, +      public String buildHeader() {, +        return null;, +      }, +    });, +    builder.addHeader("test", new LazyHeaderFactory() {, +      @Nullable, +      @Override, +      public String buildHeader() {, +        return "value";, +      }, +    });, +    LazyHeaders headers = builder.build();]