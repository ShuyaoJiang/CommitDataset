[+++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +      trimToSize(getMaxSize() / 2);, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +      trimToSize(getMaxSize() / 2);, +++ b/library/src/main/java/com/bumptech/glide/load/engine/cache/LruResourceCache.java, +      // Entering list of cached background apps, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +      // The app's UI is no longer visible, or app is in the foreground but system is running, +      // critically low on memory, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +      trimToSize(getMaxSize() / 2);, +++ b/library/src/main/java/com/bumptech/glide/load/engine/cache/LruResourceCache.java, +      // Entering list of cached background apps, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +      // The app's UI is no longer visible, or app is in the foreground but system is running, +      // critically low on memory, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL;, +  public void testTrimMemoryRunningCriticalRemovesHalfOfBitmaps() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_RUNNING_CRITICAL, MAX_SIZE / 2);, +  }, +, +  @Test, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +      trimToSize(getMaxSize() / 2);, +++ b/library/src/main/java/com/bumptech/glide/load/engine/cache/LruResourceCache.java, +      // Entering list of cached background apps, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +      // The app's UI is no longer visible, or app is in the foreground but system is running, +      // critically low on memory, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL;, +  public void testTrimMemoryRunningCriticalRemovesHalfOfBitmaps() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_RUNNING_CRITICAL, MAX_SIZE / 2);, +  }, +, +  @Test, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL;, +  public void testTrimMemoryRunningCriticalRemovesHalfOfBitmaps() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_RUNNING_CRITICAL, MAX_SIZE / 2);, +  }, +, +  @Test, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPool.java, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +      trimToSize(getMaxSize() / 2);, +++ b/library/src/main/java/com/bumptech/glide/load/engine/cache/LruResourceCache.java, +      // Entering list of cached background apps, +    } else if (level >= android.content.ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, +        || level == android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL) {, +      // The app's UI is no longer visible, or app is in the foreground but system is running, +      // critically low on memory, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruArrayPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL;, +  public void testTrimMemoryRunningCriticalRemovesHalfOfBitmaps() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_RUNNING_CRITICAL, MAX_SIZE / 2);, +  }, +, +  @Test, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java, +import static android.content.ComponentCallbacks2.TRIM_MEMORY_RUNNING_CRITICAL;, +  public void testTrimMemoryRunningCriticalRemovesHalfOfBitmaps() {, +    testTrimMemory(MAX_SIZE, TRIM_MEMORY_RUNNING_CRITICAL, MAX_SIZE / 2);, +  }, +, +  @Test, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/cache/LruResourceCacheTest.java, +  public void testTrimMemoryRunningCritical() {, +    TrimClearMemoryCacheHarness harness = new TrimClearMemoryCacheHarness();]