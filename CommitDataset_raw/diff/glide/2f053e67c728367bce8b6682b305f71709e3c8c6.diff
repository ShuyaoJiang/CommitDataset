[+++ b/library/src/androidTest/java/com/bumptech/glide/load/MultiTransformationTest.java, +import static org.mockito.Mockito.doAnswer;, +import com.bumptech.glide.tests.KeyAssertions;, +import com.bumptech.glide.tests.Util;, +import org.junit.Before;, +import org.mockito.Mock;, +import org.mockito.MockitoAnnotations;, +import java.security.MessageDigest;, +import java.security.NoSuchAlgorithmException;, +  @Mock Transformation<Object> first;, +  @Mock Transformation<Object> second;, +  @Mock Resource<Object> initial;, +  @Mock Resource<Object> firstTransformed;, +  @Mock Resource<Object> secondTransformed;, +  @Before, +  public void setUp() {, +    MockitoAnnotations.initMocks(this);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +    when(first.transform(any(Resource.class), anyInt(), anyInt())).thenReturn(firstTransformed);, +    MultiTransformation<Object> transformation = new MultiTransformation(first);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +    when(first.transform(any(Resource.class), anyInt(), anyInt())).thenReturn(firstTransformed);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first);, +    verify(firstTransformed, never()).recycle();, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +, +  @Test, +  public void testEquals() throws NoSuchAlgorithmException {, +    doAnswer(new Util.WriteDigest("first")).when(first), +        .updateDiskCacheKey(any(MessageDigest.class));, +    KeyAssertions.assertSame(new MultiTransformation<>(first), new MultiTransformation<>(first));, +, +    doAnswer(new Util.WriteDigest("second")).when(second), +        .updateDiskCacheKey(any(MessageDigest.class));, +    KeyAssertions.assertDifferent(new MultiTransformation<>(first),, +        new MultiTransformation<>(second));, +  }, +++ b/library/src/androidTest/java/com/bumptech/glide/load/MultiTransformationTest.java, +import static org.mockito.Mockito.doAnswer;, +import com.bumptech.glide.tests.KeyAssertions;, +import com.bumptech.glide.tests.Util;, +import org.junit.Before;, +import org.mockito.Mock;, +import org.mockito.MockitoAnnotations;, +import java.security.MessageDigest;, +import java.security.NoSuchAlgorithmException;, +  @Mock Transformation<Object> first;, +  @Mock Transformation<Object> second;, +  @Mock Resource<Object> initial;, +  @Mock Resource<Object> firstTransformed;, +  @Mock Resource<Object> secondTransformed;, +  @Before, +  public void setUp() {, +    MockitoAnnotations.initMocks(this);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +    when(first.transform(any(Resource.class), anyInt(), anyInt())).thenReturn(firstTransformed);, +    MultiTransformation<Object> transformation = new MultiTransformation(first);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +    when(first.transform(any(Resource.class), anyInt(), anyInt())).thenReturn(firstTransformed);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first);, +    verify(firstTransformed, never()).recycle();, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +, +  @Test, +  public void testEquals() throws NoSuchAlgorithmException {, +    doAnswer(new Util.WriteDigest("first")).when(first), +        .updateDiskCacheKey(any(MessageDigest.class));, +    KeyAssertions.assertSame(new MultiTransformation<>(first), new MultiTransformation<>(first));, +, +    doAnswer(new Util.WriteDigest("second")).when(second), +        .updateDiskCacheKey(any(MessageDigest.class));, +    KeyAssertions.assertDifferent(new MultiTransformation<>(first),, +        new MultiTransformation<>(second));, +  }, +++ b/library/src/androidTest/java/com/bumptech/glide/load/engine/DataCacheKeyTest.java, +import com.bumptech.glide.tests.Util.WriteDigest;, +++ b/library/src/androidTest/java/com/bumptech/glide/load/MultiTransformationTest.java, +import static org.mockito.Mockito.doAnswer;, +import com.bumptech.glide.tests.KeyAssertions;, +import com.bumptech.glide.tests.Util;, +import org.junit.Before;, +import org.mockito.Mock;, +import org.mockito.MockitoAnnotations;, +import java.security.MessageDigest;, +import java.security.NoSuchAlgorithmException;, +  @Mock Transformation<Object> first;, +  @Mock Transformation<Object> second;, +  @Mock Resource<Object> initial;, +  @Mock Resource<Object> firstTransformed;, +  @Mock Resource<Object> secondTransformed;, +  @Before, +  public void setUp() {, +    MockitoAnnotations.initMocks(this);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +    when(first.transform(any(Resource.class), anyInt(), anyInt())).thenReturn(firstTransformed);, +    MultiTransformation<Object> transformation = new MultiTransformation(first);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);, +    MultiTransformation<Object> transformation = new MultiTransformation<>(first, second);]