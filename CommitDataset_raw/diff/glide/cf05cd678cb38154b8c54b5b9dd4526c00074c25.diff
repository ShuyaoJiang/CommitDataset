[+++ b/library/src/com/bumptech/photos/resize/cache/disk/AndroidDiskCache.java, +import java.util.concurrent.ConcurrentHashMap;, +    private ConcurrentHashMap<String, ReentrantLock> lockMap = new ConcurrentHashMap<String, ReentrantLock>();, +        ReentrantLock lock = lockMap.get(safeKey);, +            ReentrantLock newLock = new ReentrantLock();, +            lock = lockMap.putIfAbsent(safeKey, newLock);, +            if (lock == null) {, +                lock = newLock;]