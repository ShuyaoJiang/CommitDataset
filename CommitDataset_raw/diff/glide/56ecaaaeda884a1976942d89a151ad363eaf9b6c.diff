[+++ b/library/src/androidTest/java/com/bumptech/glide/load/engine/EngineJobTest.java, +        }).when(harness.cb).onResourceReady(any(Resource.class));, +    public void testRemovingCallbackDuringOnResourceReadyPreventsResourceFromBeingAcquiredForCallback() {, +        final EngineJob job = harness.getJob();, +        final ResourceCallback notYetCalled = mock(ResourceCallback.class);, +, +        doAnswer(new Answer() {, +            @Override, +            public Object answer(InvocationOnMock invocationOnMock) throws Throwable {, +                job.removeCallback(notYetCalled);, +                return null;, +            }, +        }).when(harness.cb).onResourceReady(any(Resource.class));, +, +        job.addCallback(notYetCalled);, +, +        job.onResourceReady(harness.resource);, +, +        // Once for notifying, once for called., +        verify(harness.engineResource, times(2)).acquire();, +    }, +, +    @Test]