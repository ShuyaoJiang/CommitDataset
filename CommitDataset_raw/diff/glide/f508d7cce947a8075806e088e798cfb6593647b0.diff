[+++ b/library/src/main/java/com/bumptech/glide/load/resource/drawable/DrawableDecoderCompat.java, +import android.support.v4.content.ContextCompat;, +  public static Drawable getDrawable(, +      Context ourContext, Context targetContext, @DrawableRes int id) {, +    return getDrawable(ourContext, targetContext, id, /*theme=*/ null);, +  public static Drawable getDrawable(, +      Context ourContext, @DrawableRes int id, @Nullable Theme theme) {, +    return getDrawable(ourContext, ourContext, id, theme);, +  }, +, +  private static Drawable getDrawable(, +      Context ourContext, Context targetContext, @DrawableRes int id, @Nullable Theme theme) {, +        return loadDrawableV7(targetContext, id, theme);, +    } catch (IllegalStateException e) {, +      if (ourContext.getPackageName().equals(targetContext.getPackageName())) {, +        throw e;, +      }, +      return ContextCompat.getDrawable(targetContext, id);, +    return loadDrawableV4(targetContext, id, theme != null ? theme : targetContext.getTheme());, +++ b/library/src/main/java/com/bumptech/glide/load/resource/drawable/DrawableDecoderCompat.java, +import android.support.v4.content.ContextCompat;, +  public static Drawable getDrawable(, +      Context ourContext, Context targetContext, @DrawableRes int id) {, +    return getDrawable(ourContext, targetContext, id, /*theme=*/ null);, +  public static Drawable getDrawable(, +      Context ourContext, @DrawableRes int id, @Nullable Theme theme) {, +    return getDrawable(ourContext, ourContext, id, theme);, +  }, +, +  private static Drawable getDrawable(, +      Context ourContext, Context targetContext, @DrawableRes int id, @Nullable Theme theme) {, +        return loadDrawableV7(targetContext, id, theme);, +    } catch (IllegalStateException e) {, +      if (ourContext.getPackageName().equals(targetContext.getPackageName())) {, +        throw e;, +      }, +      return ContextCompat.getDrawable(targetContext, id);, +    return loadDrawableV4(targetContext, id, theme != null ? theme : targetContext.getTheme());, +++ b/library/src/main/java/com/bumptech/glide/load/resource/drawable/ResourceDrawableDecoder.java, +    Context targetContext = packageName.equals(context.getPackageName()), +    Drawable drawable = DrawableDecoderCompat.getDrawable(context, targetContext, resId);]