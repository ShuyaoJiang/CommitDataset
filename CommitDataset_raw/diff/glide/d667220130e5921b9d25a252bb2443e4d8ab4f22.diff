[+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/TearDownGlide.java, +        try {, +        } finally {, +          Glide.tearDown();, +        }, +++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/TearDownGlide.java, +        try {, +        } finally {, +          Glide.tearDown();, +        }, +++ b/library/src/main/java/com/bumptech/glide/Glide.java, +      glide.engine.shutdown();, +      glide.engine.clearDiskCache();, +++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/TearDownGlide.java, +        try {, +        } finally {, +          Glide.tearDown();, +        }, +++ b/library/src/main/java/com/bumptech/glide/Glide.java, +      glide.engine.shutdown();, +      glide.engine.clearDiskCache();, +++ b/library/src/main/java/com/bumptech/glide/load/engine/Engine.java, +import java.util.concurrent.ExecutorService;, +import java.util.concurrent.TimeUnit;, +  public void shutdown() {, +    engineJobFactory.shutdown();, +    void shutdown() {, +      shutdownAndAwaitTermination(diskCacheExecutor);, +      shutdownAndAwaitTermination(sourceExecutor);, +      shutdownAndAwaitTermination(sourceUnlimitedExecutor);, +      shutdownAndAwaitTermination(animationExecutor);, +, +    private static void shutdownAndAwaitTermination(ExecutorService pool) {, +      long shutdownSeconds = 5;, +      pool.shutdown();, +      try {, +        if (!pool.awaitTermination(shutdownSeconds, TimeUnit.SECONDS)) {, +          pool.shutdownNow();, +          if (!pool.awaitTermination(shutdownSeconds, TimeUnit.SECONDS)) {, +            throw new RuntimeException("Failed to shutdown");, +          }, +        }, +      } catch (InterruptedException ie) {, +        throw new RuntimeException(ie);, +      }, +    }, +++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/TearDownGlide.java, +        try {, +        } finally {, +          Glide.tearDown();, +        }, +++ b/library/src/main/java/com/bumptech/glide/Glide.java, +      glide.engine.shutdown();, +      glide.engine.clearDiskCache();, +++ b/library/src/main/java/com/bumptech/glide/load/engine/Engine.java, +import java.util.concurrent.ExecutorService;, +import java.util.concurrent.TimeUnit;, +  public void shutdown() {, +    engineJobFactory.shutdown();, +    void shutdown() {, +      shutdownAndAwaitTermination(diskCacheExecutor);, +      shutdownAndAwaitTermination(sourceExecutor);, +      shutdownAndAwaitTermination(sourceUnlimitedExecutor);, +      shutdownAndAwaitTermination(animationExecutor);, +, +    private static void shutdownAndAwaitTermination(ExecutorService pool) {, +      long shutdownSeconds = 5;, +      pool.shutdown();, +      try {, +        if (!pool.awaitTermination(shutdownSeconds, TimeUnit.SECONDS)) {, +          pool.shutdownNow();, +          if (!pool.awaitTermination(shutdownSeconds, TimeUnit.SECONDS)) {, +            throw new RuntimeException("Failed to shutdown");, +          }, +        }, +      } catch (InterruptedException ie) {, +        throw new RuntimeException(ie);, +      }, +    }, +++ b/library/src/test/java/com/bumptech/glide/tests/TearDownGlide.java, +        try {, +        } finally {, +          Glide.tearDown();, +, +        }]