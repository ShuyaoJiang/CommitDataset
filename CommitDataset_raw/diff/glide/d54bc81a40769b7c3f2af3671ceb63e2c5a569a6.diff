[+++ b/library/src/main/java/com/bumptech/glide/Glide.java, +  private final RequestManagerRetriever requestManagerRetriever;, +      RequestManagerRetriever requestManagerRetriever,, +    this.requestManagerRetriever = requestManagerRetriever;, +, +  /**, +   * Internal method., +   */, +  public RequestManagerRetriever getRequestManagerRetriever() {, +    return requestManagerRetriever;, +  }, +, +  private static RequestManagerRetriever getRetriever(@Nullable Context context) {, +    // Context could be null for other reasons (ie the user passes in null), but in practice it will, +    // only occur due to errors with the Fragment lifecycle., +    if (context == null) {, +      throw new IllegalArgumentException(, +          "You cannot start a load on a Fragment where getActivity() returns null (which usually", +              + " occurs when getActivity() is called before the Fragment is attached or after the", +              + " Fragment is destroyed).");, +    }, +    return Glide.get(context).getRequestManagerRetriever();, +  }, +, +    return getRetriever(context).get(context);, +    return getRetriever(activity).get(activity);, +    return getRetriever(activity).get(activity);, +    return getRetriever(fragment.getActivity()).get(fragment);, +    return getRetriever(fragment.getActivity()).get(fragment);, +++ b/library/src/main/java/com/bumptech/glide/Glide.java, +  private final RequestManagerRetriever requestManagerRetriever;, +      RequestManagerRetriever requestManagerRetriever,, +    this.requestManagerRetriever = requestManagerRetriever;, +, +  /**, +   * Internal method., +   */, +  public RequestManagerRetriever getRequestManagerRetriever() {, +    return requestManagerRetriever;, +  }, +, +  private static RequestManagerRetriever getRetriever(@Nullable Context context) {, +    // Context could be null for other reasons (ie the user passes in null), but in practice it will, +    // only occur due to errors with the Fragment lifecycle., +    if (context == null) {, +      throw new IllegalArgumentException(, +          "You cannot start a load on a Fragment where getActivity() returns null (which usually", +              + " occurs when getActivity() is called before the Fragment is attached or after the", +              + " Fragment is destroyed).");, +    }, +    return Glide.get(context).getRequestManagerRetriever();, +  }, +, +    return getRetriever(context).get(context);, +    return getRetriever(activity).get(activity);, +    return getRetriever(activity).get(activity);, +    return getRetriever(fragment.getActivity()).get(fragment);, +    return getRetriever(fragment.getActivity()).get(fragment);, +++ b/library/src/main/java/com/bumptech/glide/GlideBuilder.java, +import android.support.annotation.Nullable;, +import com.bumptech.glide.manager.RequestManagerRetriever;, +import com.bumptech.glide.manager.RequestManagerRetriever.RequestManagerFactory;, +  @Nullable, +  private RequestManagerFactory requestManagerFactory;, +  GlideBuilder setRequestManagerFactory(, +      @Nullable RequestManagerRetriever.RequestManagerFactory factory) {, +    this.requestManagerFactory = factory;, +    return this;, +  }, +, +    RequestManagerRetriever requestManagerRetriever = new RequestManagerRetriever(, +        requestManagerFactory);, +, +        requestManagerRetriever,, +++ b/library/src/main/java/com/bumptech/glide/Glide.java, +  private final RequestManagerRetriever requestManagerRetriever;, +      RequestManagerRetriever requestManagerRetriever,, +    this.requestManagerRetriever = requestManagerRetriever;, +, +  /**, +   * Internal method., +   */, +  public RequestManagerRetriever getRequestManagerRetriever() {, +    return requestManagerRetriever;, +  }, +, +  private static RequestManagerRetriever getRetriever(@Nullable Context context) {, +    // Context could be null for other reasons (ie the user passes in null), but in practice it will, +    // only occur due to errors with the Fragment lifecycle., +    if (context == null) {, +      throw new IllegalArgumentException(, +          "You cannot start a load on a Fragment where getActivity() returns null (which usually", +              + " occurs when getActivity() is called before the Fragment is attached or after the", +              + " Fragment is destroyed).");, +    }, +    return Glide.get(context).getRequestManagerRetriever();, +  }, +, +    return getRetriever(context).get(context);, +    return getRetriever(activity).get(activity);]