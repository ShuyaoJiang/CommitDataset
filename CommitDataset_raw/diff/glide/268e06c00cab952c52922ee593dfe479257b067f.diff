[+++ b/library/build.gradle, +++ b/library/build.gradle, +++ /dev/null, +++ b/library/build.gradle, +++ /dev/null, +++ b/scripts/upload.gradle, +            : 'https://oss.sonatype.org/service/local/staging/deploy/maven2/', +            : 'https://oss.sonatype.org/content/repositories/snapshots/', +    return hasProperty('USERNAME') ? USERNAME : (hasProperty('NEXUS_USERNAME') ? NEXUS_USERNAME : ''), +    return hasProperty('PASSWORD') ? PASSWORD : (hasProperty('NEXUS_PASSWORD') ? NEXUS_PASSWORD : ''), +                            name = 'Simplified BSD License', +                            url = 'http://www.opensource.org/licenses/bsd-license', +                            distribution = 'repo', +                            name = 'The Apache Software License, Version 2.0', +                            url = 'http://www.apache.org/licenses/LICENSE-2.0.txt', +                            distribution = 'repo', +        required { isReleaseBuild() && gradle.taskGraph.hasTask('uploadArchives') }, +    def isAndroidProject = project.plugins.hasPlugin('com.android.application') || project.plugins.hasPlugin('com.android.library'), +, +    if (isAndroidProject) {, +        def releaseVariants = project.android.libraryVariants.findAll {, +            it.buildType.name.equalsIgnoreCase('release'), +                links('http://docs.oracle.com/javase/7/docs/api/'), +                linksOffline('http://d.android.com/reference', '${androidSdkDirectory}/docs/reference'), +            classifier = 'javadoc', +            classifier = 'sources', +            archives androidSourcesJar, +            archives androidJavadocsJar]