[+++ b/integration/okhttp3/src/main/java/com/bumptech/glide/integration/okhttp3/OkHttpStreamFetcher.java, +import android.os.Build;, +public class OkHttpStreamFetcher implements DataFetcher<InputStream>,, + okhttp3.Callback {, +  private DataCallback<? super InputStream> callback;, +    this.callback = callback;, +    if (Build.VERSION.SDK_INT != Build.VERSION_CODES.O) {, +      call.enqueue(this);, +    } else {, +      try {, +        // Calling execute instead of enqueue is a workaround for #2355, where okhttp throws a, +        // ClassCastException on O., +        onResponse(call, call.execute());, +      } catch (IOException e) {, +        onFailure(call, e);, +      } catch (ClassCastException e) {, +        // It's not clear that this catch is necessary, the error may only occur even on O if, +        // enqueue is used., +        onFailure(call, new IOException("Workaround for framework bug on O", e));, +      }, +    }, +  }, +, +, +    callback = null;]