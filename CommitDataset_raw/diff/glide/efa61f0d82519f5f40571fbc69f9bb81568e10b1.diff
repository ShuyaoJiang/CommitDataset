[+++ b/library/src/androidTest/java/com/bumptech/glide/test/TestNonBitmapResources.java, +import android.content.Intent;, +import android.content.pm.ResolveInfo;, +import java.util.HashSet;, +import java.util.List;, +import java.util.Set;, +  private static final ImmutableList<String> PACKAGES = ImmutableList.of(, +      "com.android.gallery3d",, +      "com.android.contacts");, +  public void load_withNinePatchResourceId_asDrawable_producesNonNullDrawable(), +      throws ExecutionException, InterruptedException {, +    Drawable drawable = Glide.with(context), +        .load(R.drawable.googlelogo_color_120x44dp), +        .submit(), +        .get();, +, +    assertThat(drawable).isNotNull();, +  }, +, +  @Test, +    for (String packageName : getInstalledPackages()) {, +      int iconResourceId = getResourceId(packageName);, +, +    for (String packageName : getInstalledPackages()) {, +      int iconResourceId = getResourceId(packageName);, +, +  private Set<String> getInstalledPackages() {, +    Intent mainIntent = new Intent(Intent.ACTION_MAIN, null);, +    mainIntent.addCategory(Intent.CATEGORY_LAUNCHER);, +    PackageManager packageManager = context.getPackageManager();, +    List<ResolveInfo> pkgAppsList =, +        packageManager.queryIntentActivities(mainIntent, /*flags=*/ 0);, +    Set<String> result = new HashSet<>();, +    for (ResolveInfo info : pkgAppsList) {, +      int iconResourceId = getResourceId(info.activityInfo.packageName);, +      if (iconResourceId != 0) {, +        result.add(info.activityInfo.packageName);, +      }, +    }, +    return result;, +  }, +, +  private int getResourceId(String packageName) {, +    PackageInfo packageInfo;, +    try {, +      packageInfo = context.getPackageManager().getPackageInfo(packageName, /*flags=*/ 0);, +    } catch (NameNotFoundException e) {, +      return 0;, +    }, +    return packageInfo.applicationInfo.icon;, +  }]