[+++ b/library/src/com/bumptech/glide/resize/ImageManager.java, +        final String key = task.getId();, +++ b/library/src/com/bumptech/glide/resize/ImageManager.java, +        final String key = task.getId();, +++ b/library/src/com/bumptech/glide/resize/SafeKeyGenerator.java, +++ b/library/src/com/bumptech/glide/resize/ImageManager.java, +        final String key = task.getId();, +++ b/library/src/com/bumptech/glide/resize/SafeKeyGenerator.java, +++ b/library/src/com/bumptech/glide/resize/cache/DiskLruCacheWrapper.java, +import com.bumptech.glide.resize.SafeKeyGenerator;, +    private final SafeKeyGenerator safeKeyGenerator;, +        this.safeKeyGenerator = new SafeKeyGenerator();, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            final DiskLruCache.Snapshot snapshot = diskLruCache.get(safeKey);, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            DiskLruCache.Editor editor = diskLruCache.edit(safeKey);, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            diskLruCache.remove(safeKey);, +++ b/library/src/com/bumptech/glide/resize/ImageManager.java, +        final String key = task.getId();, +++ b/library/src/com/bumptech/glide/resize/SafeKeyGenerator.java, +++ b/library/src/com/bumptech/glide/resize/cache/DiskLruCacheWrapper.java, +import com.bumptech.glide.resize.SafeKeyGenerator;, +    private final SafeKeyGenerator safeKeyGenerator;, +        this.safeKeyGenerator = new SafeKeyGenerator();, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            final DiskLruCache.Snapshot snapshot = diskLruCache.get(safeKey);, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            DiskLruCache.Editor editor = diskLruCache.edit(safeKey);, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            diskLruCache.remove(safeKey);, +++ /dev/null, +++ b/library/src/com/bumptech/glide/resize/ImageManager.java, +        final String key = task.getId();, +++ b/library/src/com/bumptech/glide/resize/SafeKeyGenerator.java, +++ b/library/src/com/bumptech/glide/resize/cache/DiskLruCacheWrapper.java, +import com.bumptech.glide.resize.SafeKeyGenerator;, +    private final SafeKeyGenerator safeKeyGenerator;, +        this.safeKeyGenerator = new SafeKeyGenerator();, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            final DiskLruCache.Snapshot snapshot = diskLruCache.get(safeKey);, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            DiskLruCache.Editor editor = diskLruCache.edit(safeKey);, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            diskLruCache.remove(safeKey);, +++ /dev/null, +++ b/library/src/com/bumptech/glide/volley/RequestQueueWrapper.java, +import com.bumptech.glide.resize.cache.DiskCache;, +        DiskCache diskCache = Glide.get().getImageManager(context).getDiskCache();, +        VolleyDiskCacheWrapper volleyCache = new VolleyDiskCacheWrapper(diskCache);, +, +        RequestQueue queue = new RequestQueue(volleyCache, network);, +++ b/library/src/com/bumptech/glide/resize/ImageManager.java, +        final String key = task.getId();, +++ b/library/src/com/bumptech/glide/resize/SafeKeyGenerator.java, +++ b/library/src/com/bumptech/glide/resize/cache/DiskLruCacheWrapper.java, +import com.bumptech.glide.resize.SafeKeyGenerator;, +    private final SafeKeyGenerator safeKeyGenerator;, +        this.safeKeyGenerator = new SafeKeyGenerator();, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            final DiskLruCache.Snapshot snapshot = diskLruCache.get(safeKey);, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            DiskLruCache.Editor editor = diskLruCache.edit(safeKey);, +        String safeKey = safeKeyGenerator.getSafeKey(key);, +            diskLruCache.remove(safeKey);, +++ /dev/null, +++ b/library/src/com/bumptech/glide/volley/RequestQueueWrapper.java, +import com.bumptech.glide.resize.cache.DiskCache;, +        DiskCache diskCache = Glide.get().getImageManager(context).getDiskCache();, +        VolleyDiskCacheWrapper volleyCache = new VolleyDiskCacheWrapper(diskCache);, +, +        RequestQueue queue = new RequestQueue(volleyCache, network);, +++ b/library/src/com/bumptech/glide/volley/VolleyDiskCacheWrapper.java, +package com.bumptech.glide.volley;, +, +import android.util.Log;, +import com.android.volley.Cache;, +import com.android.volley.toolbox.ByteArrayPool;, +import com.android.volley.toolbox.DiskBasedCache;, +import com.android.volley.toolbox.PoolingByteArrayOutputStream;, +import com.bumptech.glide.resize.cache.DiskCache;, +, +import java.io.EOFException;, +import java.io.IOException;, +import java.io.InputStream;, +import java.io.OutputStream;, +import java.util.Collections;, +import java.util.HashMap;, +import java.util.Map;, +, +/**, + * Closely based on {@link DiskBasedCache}., + */, +public class VolleyDiskCacheWrapper implements Cache {, +    private static final String TAG = "VolleyDiskCacheWrapper";, +    /** Magic number for current version of cache file format. */, +    private static final int CACHE_MAGIC = 0x20120504;, +    // 2 mb., +    private static final int BYTE_POOL_SIZE = 2 * 1024 * 1024;, +    // 8 kb.]