[+++ /dev/null, +++ /dev/null, +++ b/library/src/com/bumptech/photos/resize/ImageManager.java, +import com.bumptech.photos.resize.cache.disk.DiskCache;, +    private final DiskCache diskCache;, +        HandlerThread bgThread = new HandlerThread("image_manager_bg");, +        bgThread.start();, +        bgHandler = new Handler(bgThread.getLooper());, +, +            diskCache = DiskCache.get(diskCacheDir, options.maxDiskCacheSize);, +            bgHandler.post(new Runnable() {, +                @Override, +                public void run() {, +                    diskCache.close();, +                }, +            });, +            bgHandler.post(new Runnable() {, +                @Override, +                public void run() {, +                    diskCache.open();, +                }, +            });, +            String path = null;, +                path = getFromDiskCache(key);, +            isInDiskCache = path != null;, +                    result = resizer.loadAsIs(path);//resizer.loadAsIs(is1, is2);, +    private String getFromDiskCache(int key) {, +        String result = null;, +            result = diskCache.get(String.valueOf(key));, +            diskCache.put(String.valueOf(key), value);, +++ /dev/null, +++ b/library/src/com/bumptech/photos/resize/ImageManager.java, +import com.bumptech.photos.resize.cache.disk.DiskCache;, +    private final DiskCache diskCache;, +        HandlerThread bgThread = new HandlerThread("image_manager_bg");, +        bgThread.start();, +        bgHandler = new Handler(bgThread.getLooper());, +, +            diskCache = DiskCache.get(diskCacheDir, options.maxDiskCacheSize);, +            bgHandler.post(new Runnable() {, +                @Override, +                public void run() {, +                    diskCache.close();, +                }, +            });, +            bgHandler.post(new Runnable() {, +                @Override, +                public void run() {, +                    diskCache.open();, +                }, +            });, +            String path = null;, +                path = getFromDiskCache(key);, +            isInDiskCache = path != null;, +                    result = resizer.loadAsIs(path);//resizer.loadAsIs(is1, is2);, +    private String getFromDiskCache(int key) {, +        String result = null;, +            result = diskCache.get(String.valueOf(key));, +            diskCache.put(String.valueOf(key), value);, +++ /dev/null, +++ /dev/null, +++ b/library/src/com/bumptech/photos/resize/ImageManager.java, +import com.bumptech.photos.resize.cache.disk.DiskCache;, +    private final DiskCache diskCache;, +        HandlerThread bgThread = new HandlerThread("image_manager_bg");, +        bgThread.start();, +        bgHandler = new Handler(bgThread.getLooper());, +, +            diskCache = DiskCache.get(diskCacheDir, options.maxDiskCacheSize);, +            bgHandler.post(new Runnable() {, +                @Override, +                public void run() {, +                    diskCache.close();, +                }, +            });, +            bgHandler.post(new Runnable() {, +                @Override, +                public void run() {, +                    diskCache.open();, +                }, +            });, +            String path = null;, +                path = getFromDiskCache(key);, +            isInDiskCache = path != null;, +                    result = resizer.loadAsIs(path);//resizer.loadAsIs(is1, is2);, +    private String getFromDiskCache(int key) {, +        String result = null;, +            result = diskCache.get(String.valueOf(key));, +            diskCache.put(String.valueOf(key), value);, +++ /dev/null, +++ b/library/src/com/bumptech/photos/resize/cache/disk/DiskCache.java, +/*, + * Copyright (c) 2013. Bump Technologies Inc. All Rights Reserved., + */, +, +package com.bumptech.photos.resize.cache.disk;, +, +import android.graphics.Bitmap;, +, +import java.io.BufferedOutputStream;]