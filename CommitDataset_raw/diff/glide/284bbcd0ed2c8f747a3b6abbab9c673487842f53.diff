[+++ b/third_party/gif_encoder/src/main/java/com/bumptech/glide/gifencoder/AnimatedGifEncoder.java, +import android.util.Log;, +    private static final String TAG = "AnimatedGifEncoder";, +, +    // The minimum % of an images pixels that must be transparent for us to set a transparent index automatically., +    private static final double MIN_TRANSPARENT_PERCENTAGE = 4d;, +        int totalTransparentPixels = 0;, +                totalTransparentPixels++;, +, +        double transparentPercentage = 100 * totalTransparentPixels / (double) pixelsInt.length;, +        // Assume images with greater where more than n% of the pixels are transparent actually have transparency., +        // See issue #214., +        hasTransparentPixels = transparentPercentage > MIN_TRANSPARENT_PERCENTAGE;, +        if (Log.isLoggable(TAG, Log.DEBUG)) {, +            Log.d(TAG, "got pixels for frame with " + transparentPercentage + "% transparent pixels");, +        }]