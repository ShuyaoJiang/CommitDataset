[+++ b/library/test/src/test/java/com/bumptech/glide/load/engine/EngineJobTest.java, +import android.os.Looper;, +    Looper looper = harness.mainHandler.getLooper();, +    Shadows.shadowOf(looper).pause();, +    Shadows.shadowOf(looper).runOneTask();, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/EngineJobTest.java, +import android.os.Looper;, +    Looper looper = harness.mainHandler.getLooper();, +    Shadows.shadowOf(looper).pause();, +    Shadows.shadowOf(looper).runOneTask();, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/AttributeStrategyTest.java, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_4444);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap first = Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565);, +    Bitmap second = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap third = Bitmap.createBitmap(120, 120, Bitmap.Config.RGB_565);, +    final Bitmap leastRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ALPHA_8);, +    final Bitmap other = Bitmap.createBitmap(1000, 1000, Bitmap.Config.RGB_565);, +    final Bitmap mostRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/EngineJobTest.java, +import android.os.Looper;, +    Looper looper = harness.mainHandler.getLooper();, +    Shadows.shadowOf(looper).pause();, +    Shadows.shadowOf(looper).runOneTask();, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/AttributeStrategyTest.java, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_4444);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap first = Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565);, +    Bitmap second = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap third = Bitmap.createBitmap(120, 120, Bitmap.Config.RGB_565);, +    final Bitmap leastRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ALPHA_8);, +    final Bitmap other = Bitmap.createBitmap(1000, 1000, Bitmap.Config.RGB_565);, +    final Bitmap mostRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, config);, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/EngineJobTest.java, +import android.os.Looper;, +    Looper looper = harness.mainHandler.getLooper();, +    Shadows.shadowOf(looper).pause();, +    Shadows.shadowOf(looper).runOneTask();, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/AttributeStrategyTest.java, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_4444);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap first = Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565);, +    Bitmap second = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap third = Bitmap.createBitmap(120, 120, Bitmap.Config.RGB_565);, +    final Bitmap leastRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ALPHA_8);, +    final Bitmap other = Bitmap.createBitmap(1000, 1000, Bitmap.Config.RGB_565);, +    final Bitmap mostRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, config);, +++ b/library/test/src/test/java/com/bumptech/glide/request/target/CustomViewTargetTest.java, +import android.view.Display;, +    Display display = Preconditions.checkNotNull(windowManager).getDefaultDisplay();, +      Shadows.shadowOf(display).setWidth(width);, +      Shadows.shadowOf(display).setHeight(height);, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/EngineJobTest.java, +import android.os.Looper;, +    Looper looper = harness.mainHandler.getLooper();, +    Shadows.shadowOf(looper).pause();, +    Shadows.shadowOf(looper).runOneTask();, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/AttributeStrategyTest.java, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_4444);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap first = Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565);, +    Bitmap second = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +    Bitmap third = Bitmap.createBitmap(120, 120, Bitmap.Config.RGB_565);, +    final Bitmap leastRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ALPHA_8);, +    final Bitmap other = Bitmap.createBitmap(1000, 1000, Bitmap.Config.RGB_565);, +    final Bitmap mostRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java, +    Bitmap bitmap = Bitmap.createBitmap(100, 100, config);, +++ b/library/test/src/test/java/com/bumptech/glide/request/target/CustomViewTargetTest.java, +import android.view.Display;, +    Display display = Preconditions.checkNotNull(windowManager).getDefaultDisplay();, +      Shadows.shadowOf(display).setWidth(width);, +      Shadows.shadowOf(display).setHeight(height);, +++ b/library/test/src/test/java/com/bumptech/glide/request/target/ViewTargetTest.java, +import android.view.Display;, +    Display display = Preconditions.checkNotNull(windowManager).getDefaultDisplay();, +      Shadows.shadowOf(display).setWidth(width);, +      Shadows.shadowOf(display).setHeight(height);]