[+++ b/library/robolectric/src/com/bumptech/glide/resize/EngineJobTest.java, +import org.robolectric.shadows.ShadowLooper;, +    @Test, +    public void testReleasesResourceIfCancelledOnReady() {, +        ShadowLooper shadowLooper = Robolectric.shadowOf(harness.mainHandler.getLooper());, +        shadowLooper.pause();, +, +        harness.job.onResourceReady(harness.resource);, +        harness.job.cancel();, +        shadowLooper.runOneTask();, +, +        verify(harness.resource).recycle();, +    }, +, +++ b/library/robolectric/src/com/bumptech/glide/resize/EngineJobTest.java, +import org.robolectric.shadows.ShadowLooper;, +    @Test, +    public void testReleasesResourceIfCancelledOnReady() {, +        ShadowLooper shadowLooper = Robolectric.shadowOf(harness.mainHandler.getLooper());, +        shadowLooper.pause();, +, +        harness.job.onResourceReady(harness.resource);, +        harness.job.cancel();, +        shadowLooper.runOneTask();, +, +        verify(harness.resource).recycle();, +    }, +, +++ b/library/src/com/bumptech/glide/resize/EngineJob.java, +                    resource.recycle();]