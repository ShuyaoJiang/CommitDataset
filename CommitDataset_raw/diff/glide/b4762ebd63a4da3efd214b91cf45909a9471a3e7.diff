[+++ b/library/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java, +    @Test, +    public void testSetsFrameTransformationOnFrameManager() {, +        Transformation<Bitmap> transformation = mock(Transformation.class);, +        Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +        drawable.setFrameTransformation(transformation, bitmap);, +, +        verify(frameManager).setFrameTransformation(eq(transformation));, +    }, +, +    public void testThrowsIfSetFrameTransformationIsCalledWithANullTransformation() {, +        drawable.setFrameTransformation(null, Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565));, +    }, +, +    @Test(expected = NullPointerException.class), +++ b/library/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java, +    @Test, +    public void testSetsFrameTransformationOnFrameManager() {, +        Transformation<Bitmap> transformation = mock(Transformation.class);, +        Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +        drawable.setFrameTransformation(transformation, bitmap);, +, +        verify(frameManager).setFrameTransformation(eq(transformation));, +    }, +, +    public void testThrowsIfSetFrameTransformationIsCalledWithANullTransformation() {, +        drawable.setFrameTransformation(null, Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565));, +    }, +, +    @Test(expected = NullPointerException.class), +++ /dev/null, +++ b/library/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java, +    @Test, +    public void testSetsFrameTransformationOnFrameManager() {, +        Transformation<Bitmap> transformation = mock(Transformation.class);, +        Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +        drawable.setFrameTransformation(transformation, bitmap);, +, +        verify(frameManager).setFrameTransformation(eq(transformation));, +    }, +, +    public void testThrowsIfSetFrameTransformationIsCalledWithANullTransformation() {, +        drawable.setFrameTransformation(null, Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565));, +    }, +, +    @Test(expected = NullPointerException.class), +++ /dev/null, +++ b/library/src/main/java/com/bumptech/glide/load/resource/gif/GifDrawable.java, +        frameManager = new GifFrameManager(state.context, decoder, state.targetWidth, state.targetHeight);, +        frameManager.setFrameTransformation(state.frameTransformation);, +        if (frameTransformation == null) {, +            throw new NullPointerException("The frame transformation must not be null");, +        }, +        frameManager.setFrameTransformation(frameTransformation);, +++ b/library/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java, +    @Test, +    public void testSetsFrameTransformationOnFrameManager() {, +        Transformation<Bitmap> transformation = mock(Transformation.class);, +        Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);, +        drawable.setFrameTransformation(transformation, bitmap);, +, +        verify(frameManager).setFrameTransformation(eq(transformation));, +    }, +, +    public void testThrowsIfSetFrameTransformationIsCalledWithANullTransformation() {, +        drawable.setFrameTransformation(null, Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565));, +    }, +, +    @Test(expected = NullPointerException.class), +++ /dev/null, +++ b/library/src/main/java/com/bumptech/glide/load/resource/gif/GifDrawable.java, +        frameManager = new GifFrameManager(state.context, decoder, state.targetWidth, state.targetHeight);, +        frameManager.setFrameTransformation(state.frameTransformation);, +        if (frameTransformation == null) {, +            throw new NullPointerException("The frame transformation must not be null");, +        }, +        frameManager.setFrameTransformation(frameTransformation);, +++ b/library/src/main/java/com/bumptech/glide/load/resource/gif/GifFrameManager.java, +import com.bumptech.glide.load.resource.UnitTransformation;, +    private Transformation<Bitmap> transformation = UnitTransformation.get();, +    public GifFrameManager(Context context, GifDecoder decoder, int targetWidth, int targetHeight) {, +        this(context, Glide.get(context).getBitmapPool(), decoder, new Handler(Looper.getMainLooper()), targetWidth,, +                targetHeight);, +                           int targetWidth, int targetHeight) {, +    public void setFrameTransformation(Transformation<Bitmap> transformation) {, +        if (transformation == null) {, +            throw new NullPointerException("Transformation must not be null");, +        }, +        this.transformation = transformation;, +    }, +, +    @SuppressWarnings("unchecked"), +                .transform(transformation)]