[+++ b/library/src/com/bumptech/photos/resize/ImageManager.java, +import com.bumptech.photos.resize.cache.DiskCache;, +import com.bumptech.photos.resize.cache.DiskCacheAdapter;, +import com.bumptech.photos.resize.cache.disk.AndroidDiskCache;, +    private static DiskCache buildDiskCacheFor(Options options, File diskCacheDir) {, +        if (options.useDiskCache && options.maxDiskCacheSize <= 0) {, +            options.maxDiskCacheSize = MAX_DISK_CACHE_SIZE;, +        }, +        final DiskCache result;, +        if (diskCacheDir == null || !options.useDiskCache) {, +            result = new DiskCacheAdapter();, +        } else {, +            result = AndroidDiskCache.get(diskCacheDir, options.maxDiskCacheSize);, +        }, +, +        return result;, +    }, +, +        this(context, buildDiskCacheFor(options, diskCacheDir), resizeService, options);, +    }, +, +    public ImageManager(Context context, DiskCache diskCache, ExecutorService resizeService, Options options) {, +        diskCacheFormat = options.diskCacheFormat;, +        this.diskCache = diskCache;, +                path = diskCache.get(String.valueOf(key));, +                    diskCache.put(String.valueOf(key), result, diskCacheFormat);, +++ b/library/src/com/bumptech/photos/resize/ImageManager.java, +import com.bumptech.photos.resize.cache.DiskCache;, +import com.bumptech.photos.resize.cache.DiskCacheAdapter;, +import com.bumptech.photos.resize.cache.disk.AndroidDiskCache;, +    private static DiskCache buildDiskCacheFor(Options options, File diskCacheDir) {, +        if (options.useDiskCache && options.maxDiskCacheSize <= 0) {, +            options.maxDiskCacheSize = MAX_DISK_CACHE_SIZE;, +        }, +        final DiskCache result;, +        if (diskCacheDir == null || !options.useDiskCache) {, +            result = new DiskCacheAdapter();, +        } else {, +            result = AndroidDiskCache.get(diskCacheDir, options.maxDiskCacheSize);, +        }, +, +        return result;, +    }, +, +        this(context, buildDiskCacheFor(options, diskCacheDir), resizeService, options);, +    }, +, +    public ImageManager(Context context, DiskCache diskCache, ExecutorService resizeService, Options options) {, +        diskCacheFormat = options.diskCacheFormat;, +        this.diskCache = diskCache;, +                path = diskCache.get(String.valueOf(key));, +                    diskCache.put(String.valueOf(key), result, diskCacheFormat);, +++ b/library/src/com/bumptech/photos/resize/cache/DiskCache.java, +package com.bumptech.photos.resize.cache;, +, +import android.graphics.Bitmap;, +, +/**, + * Created with IntelliJ IDEA., + * User: sam, + * Date: 6/5/13, + * Time: 10:21 AM, + * To change this template use File | Settings | File Templates., + */, +public interface DiskCache {, +    public String get(String key);, +    public void put(String key, Bitmap value, Bitmap.CompressFormat format);, +, +}, +++ b/library/src/com/bumptech/photos/resize/ImageManager.java, +import com.bumptech.photos.resize.cache.DiskCache;, +import com.bumptech.photos.resize.cache.DiskCacheAdapter;, +import com.bumptech.photos.resize.cache.disk.AndroidDiskCache;, +    private static DiskCache buildDiskCacheFor(Options options, File diskCacheDir) {, +        if (options.useDiskCache && options.maxDiskCacheSize <= 0) {, +            options.maxDiskCacheSize = MAX_DISK_CACHE_SIZE;, +        }, +        final DiskCache result;, +        if (diskCacheDir == null || !options.useDiskCache) {, +            result = new DiskCacheAdapter();, +        } else {, +            result = AndroidDiskCache.get(diskCacheDir, options.maxDiskCacheSize);, +        }, +, +        return result;, +    }, +, +        this(context, buildDiskCacheFor(options, diskCacheDir), resizeService, options);, +    }, +, +    public ImageManager(Context context, DiskCache diskCache, ExecutorService resizeService, Options options) {, +        diskCacheFormat = options.diskCacheFormat;, +        this.diskCache = diskCache;, +                path = diskCache.get(String.valueOf(key));, +                    diskCache.put(String.valueOf(key), result, diskCacheFormat);, +++ b/library/src/com/bumptech/photos/resize/cache/DiskCache.java, +package com.bumptech.photos.resize.cache;, +, +import android.graphics.Bitmap;, +]