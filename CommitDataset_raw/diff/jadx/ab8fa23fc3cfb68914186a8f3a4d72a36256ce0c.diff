[+++ /dev/null, +++ /dev/null, +++ b/jadx-cli/src/main/java/jadx/cli/JadxCLI.java, +import jadx.core.utils.exceptions.JadxException;, +, +import java.io.File;, +, +import org.slf4j.Logger;, +import org.slf4j.LoggerFactory;, +	private static final Logger LOG = LoggerFactory.getLogger(JadxCLI.class);, +		try {, +			JadxCLIArgs jadxArgs = new JadxCLIArgs(args);, +			checkArgs(jadxArgs);, +		} catch (Throwable e) {, +			LOG.error(e.getMessage());, +			System.exit(1);, +		}, +	}, +, +	private static void checkArgs(JadxCLIArgs jadxArgs) throws JadxException {, +		if (jadxArgs.getInput().isEmpty()), +			throw new JadxException("Please specify input file");, +, +		File outputDir = jadxArgs.getOutDir();, +		if (outputDir == null) {, +			String outDirName;, +			File file = jadxArgs.getInput().get(0);, +			String name = file.getName();, +			int pos = name.lastIndexOf('.');, +			if (pos != -1), +				outDirName = name.substring(0, pos);, +			else, +				outDirName = name + "-jadx-out";, +, +			LOG.info("output directory: " + outDirName);, +			outputDir = new File(outDirName);, +			jadxArgs.setOutputDir(outputDir);, +		}, +		if (outputDir.exists() && !outputDir.isDirectory()), +			throw new JadxException("Output directory exists as file " + outputDir);, +++ /dev/null, +++ b/jadx-cli/src/main/java/jadx/cli/JadxCLI.java, +import jadx.core.utils.exceptions.JadxException;, +, +import java.io.File;, +, +import org.slf4j.Logger;, +import org.slf4j.LoggerFactory;, +	private static final Logger LOG = LoggerFactory.getLogger(JadxCLI.class);, +		try {, +			JadxCLIArgs jadxArgs = new JadxCLIArgs(args);, +			checkArgs(jadxArgs);, +		} catch (Throwable e) {, +			LOG.error(e.getMessage());, +			System.exit(1);, +		}, +	}, +, +	private static void checkArgs(JadxCLIArgs jadxArgs) throws JadxException {, +		if (jadxArgs.getInput().isEmpty()), +			throw new JadxException("Please specify input file");, +, +		File outputDir = jadxArgs.getOutDir();, +		if (outputDir == null) {, +			String outDirName;, +			File file = jadxArgs.getInput().get(0);, +			String name = file.getName();, +			int pos = name.lastIndexOf('.');, +			if (pos != -1), +				outDirName = name.substring(0, pos);, +			else, +				outDirName = name + "-jadx-out";, +, +			LOG.info("output directory: " + outDirName);, +			outputDir = new File(outDirName);, +			jadxArgs.setOutputDir(outputDir);, +		}, +		if (outputDir.exists() && !outputDir.isDirectory()), +			throw new JadxException("Output directory exists as file " + outputDir);, +++ b/jadx-cli/src/main/java/jadx/cli/JadxCLIArgs.java, +package jadx.cli;, +, +import jadx.api.IJadxArgs;, +import jadx.core.Consts;, +import jadx.core.utils.exceptions.JadxException;, +, +import java.io.File;, +import java.io.PrintStream;, +import java.lang.reflect.Field;, +import java.util.ArrayList;, +import java.util.List;, +, +import org.slf4j.Logger;, +import org.slf4j.LoggerFactory;, +, +import com.beust.jcommander.JCommander;, +import com.beust.jcommander.Parameter;, +import com.beust.jcommander.ParameterDescription;, +import com.beust.jcommander.ParameterException;, +]