[+++ b/jadx-core/src/main/java/jadx/core/Jadx.java, +import jadx.core.dex.visitors.InitCodeVariables;, +import jadx.core.dex.visitors.MarkFinallyVisitor;, +import jadx.core.dex.visitors.regions.CleanRegions;, +			passes.add(new InitCodeVariables());, +			passes.add(new MarkFinallyVisitor());, +			passes.add(new CleanRegions());, +++ b/jadx-core/src/main/java/jadx/core/Jadx.java, +import jadx.core.dex.visitors.InitCodeVariables;, +import jadx.core.dex.visitors.MarkFinallyVisitor;, +import jadx.core.dex.visitors.regions.CleanRegions;, +			passes.add(new InitCodeVariables());, +			passes.add(new MarkFinallyVisitor());, +			passes.add(new CleanRegions());, +++ b/jadx-core/src/main/java/jadx/core/codegen/InsnGen.java, +++ b/jadx-core/src/main/java/jadx/core/Jadx.java, +import jadx.core.dex.visitors.InitCodeVariables;, +import jadx.core.dex.visitors.MarkFinallyVisitor;, +import jadx.core.dex.visitors.regions.CleanRegions;, +			passes.add(new InitCodeVariables());, +			passes.add(new MarkFinallyVisitor());, +			passes.add(new CleanRegions());, +++ b/jadx-core/src/main/java/jadx/core/codegen/InsnGen.java, +++ b/jadx-core/src/main/java/jadx/core/codegen/NameGen.java, +import jadx.core.dex.nodes.ClassNode;, +import jadx.core.dex.nodes.FieldNode;, +		addNamesUsedInClass();, +	}, +, +	private void addNamesUsedInClass() {, +		ClassNode parentClass = mth.getParentClass();, +		for (FieldNode field : parentClass.getFields()) {, +			varNames.add(field.getAlias());, +		}, +		for (ClassNode innerClass : parentClass.getInnerClasses()) {, +			varNames.add(innerClass.getAlias().getShortName());, +		}, +++ b/jadx-core/src/main/java/jadx/core/Jadx.java, +import jadx.core.dex.visitors.InitCodeVariables;, +import jadx.core.dex.visitors.MarkFinallyVisitor;, +import jadx.core.dex.visitors.regions.CleanRegions;, +			passes.add(new InitCodeVariables());, +			passes.add(new MarkFinallyVisitor());, +			passes.add(new CleanRegions());, +++ b/jadx-core/src/main/java/jadx/core/codegen/InsnGen.java, +++ b/jadx-core/src/main/java/jadx/core/codegen/NameGen.java, +import jadx.core.dex.nodes.ClassNode;, +import jadx.core.dex.nodes.FieldNode;, +		addNamesUsedInClass();, +	}, +, +	private void addNamesUsedInClass() {, +		ClassNode parentClass = mth.getParentClass();, +		for (FieldNode field : parentClass.getFields()) {, +			varNames.add(field.getAlias());, +		}, +		for (ClassNode innerClass : parentClass.getInnerClasses()) {, +			varNames.add(innerClass.getAlias().getShortName());, +		}, +++ b/jadx-core/src/main/java/jadx/core/codegen/RegionGen.java, +import java.util.Objects;, +import jadx.core.utils.BlockUtils;, +		if (block.contains(AFlag.DONT_GENERATE)) {, +			return;, +		}, +, +		SwitchNode insn = (SwitchNode) BlockUtils.getLastInsn(sw.getHeader());, +		Objects.requireNonNull(insn, "Switch insn not found in header");, +++ b/jadx-core/src/main/java/jadx/core/Jadx.java, +import jadx.core.dex.visitors.InitCodeVariables;, +import jadx.core.dex.visitors.MarkFinallyVisitor;, +import jadx.core.dex.visitors.regions.CleanRegions;, +			passes.add(new InitCodeVariables());, +			passes.add(new MarkFinallyVisitor());, +			passes.add(new CleanRegions());, +++ b/jadx-core/src/main/java/jadx/core/codegen/InsnGen.java, +++ b/jadx-core/src/main/java/jadx/core/codegen/NameGen.java, +import jadx.core.dex.nodes.ClassNode;, +import jadx.core.dex.nodes.FieldNode;, +		addNamesUsedInClass();, +	}, +, +	private void addNamesUsedInClass() {, +		ClassNode parentClass = mth.getParentClass();, +		for (FieldNode field : parentClass.getFields()) {, +			varNames.add(field.getAlias());, +		}, +		for (ClassNode innerClass : parentClass.getInnerClasses()) {, +			varNames.add(innerClass.getAlias().getShortName());, +		}, +++ b/jadx-core/src/main/java/jadx/core/codegen/RegionGen.java, +import java.util.Objects;, +import jadx.core.utils.BlockUtils;, +		if (block.contains(AFlag.DONT_GENERATE)) {, +			return;, +		}, +, +		SwitchNode insn = (SwitchNode) BlockUtils.getLastInsn(sw.getHeader());, +		Objects.requireNonNull(insn, "Switch insn not found in header");, +++ b/jadx-core/src/main/java/jadx/core/dex/attributes/AFlag.java]