[+++ b/jadx-core/src/main/java/jadx/core/deobf/Deobfuscator.java, +			makeClsAlias(cls);, +	public String getClsAlias(ClassNode cls) {, +		DeobfClsInfo deobfClsInfo = clsMap.get(cls.getClassInfo());, +		if (deobfClsInfo != null) {, +			return deobfClsInfo.getAlias();, +		}, +		return makeClsAlias(cls);, +	}, +, +		ClassInfo classInfo = cls.getClassInfo();, +		String clsName = classInfo.getShortName();, +		String alias = String.format("C%04d%s", clsIndex++, makeName(clsName));, +, +		PackageNode pkg = getPackageNode(classInfo.getPackage(), true);, +		clsMap.put(classInfo, new DeobfClsInfo(this, cls, pkg, alias));, +		return alias;, +++ b/jadx-core/src/main/java/jadx/core/deobf/Deobfuscator.java, +			makeClsAlias(cls);, +	public String getClsAlias(ClassNode cls) {, +		DeobfClsInfo deobfClsInfo = clsMap.get(cls.getClassInfo());, +		if (deobfClsInfo != null) {, +			return deobfClsInfo.getAlias();, +		}, +		return makeClsAlias(cls);, +	}, +, +		ClassInfo classInfo = cls.getClassInfo();, +		String clsName = classInfo.getShortName();, +		String alias = String.format("C%04d%s", clsIndex++, makeName(clsName));, +, +		PackageNode pkg = getPackageNode(classInfo.getPackage(), true);, +		clsMap.put(classInfo, new DeobfClsInfo(this, cls, pkg, alias));, +		return alias;, +++ b/jadx-core/src/main/java/jadx/core/dex/visitors/RenameVisitor.java, +import org.apache.commons.io.IOCase;, +, +	private static final boolean CASE_SENSITIVE_FS = IOCase.SYSTEM.isCaseSensitive();, +, +		checkClasses(root);, +	private void checkClasses(RootNode root) {, +		Set<String> clsNames = new HashSet<String>();, +		for (ClassNode cls : root.getClasses(true)) {, +			checkClassName(cls);, +			if (!CASE_SENSITIVE_FS) {, +				ClassInfo classInfo = cls.getClassInfo();, +				String clsFileName = classInfo.getAlias().getFullPath();, +				if (!clsNames.add(clsFileName.toLowerCase())) {, +					String newShortName = deobfuscator.getClsAlias(cls);, +					String newFullName = classInfo.makeFullClsName(newShortName, true);, +					classInfo.rename(cls.dex(), newFullName);, +					clsNames.add(classInfo.getAlias().getFullPath().toLowerCase());, +				}, +			}, +		}, +	}, +]