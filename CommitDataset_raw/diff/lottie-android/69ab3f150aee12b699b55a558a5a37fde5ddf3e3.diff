[+++ b/.gitignore, +credentials/*, +++ b/.gitignore, +credentials/*, +++ b/.travis.yml, +# https://cloud.google.com/solutions/continuous-delivery-with-travis-ci, +cache:, +  directories:, +  - "$HOME/.m2", +env:, +  - PATH=${HOME}/google-cloud-sdk/bin:$PATH CLOUDSDK_CORE_DISABLE_PROMPTS=1, +before_install:, +  - mkdir "$ANDROID_HOME/licenses" || true, +  - echo -e "\n8933bad161af4178b1185d1a37fbf41ea5269c55" > "$ANDROID_HOME/licenses/android-sdk-license", +  - echo -e "\n84831b9409646a918e30573bab4c9c91346d8abd" > "$ANDROID_HOME/licenses/android-sdk-preview-license", +  - echo $GCLOUD_SERVICE_KEY | base64 --decode --ignore-garbage > ${HOME}/gcloud-service-key.json, +  - curl https://sdk.cloud.google.com | bash, +  - gcloud auth activate-service-account --key-file ${HOME}/gcloud-service-key.json, +  - gcloud components update, +  - gcloud config set project lottie-snapshots, +  - export TRAVIS_GIT_BRANCH=$(if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then echo $TRAVIS_BRANCH; else echo $TRAVIS_PULL_REQUEST_BRANCH; fi), +  - export GIT_SHA=$(git rev-parse HEAD), +  - export GIT_MERGE_BASE=$(git merge-base master), +  - echo GIT_SHA $GIT_SHA, +  - echo GIT_MERGE_BASE $GIT_MERGE_BASE, +install:, +  - . $HOME/.nvm/nvm.sh, +  - nvm install stable, +  - nvm use stable, +  - npm install, +    - ".+", +script:, +  - ./gradlew check, +  - ./gradlew :LottieSample:assembleAndroidTest :LottieSample:assembleDebug, +  - gcloud firebase test android run --type instrumentation --device model=Nexus5X,version=26 --app LottieSample/build/outputs/apk/LottieSample-debug.apk --test LottieSample/build/outputs/apk/LottieSample-debug-androidTest.apk, +  - ./post_pr_comment.js, +++ b/.gitignore, +credentials/*, +++ b/.travis.yml, +# https://cloud.google.com/solutions/continuous-delivery-with-travis-ci, +cache:, +  directories:, +  - "$HOME/.m2", +env:, +  - PATH=${HOME}/google-cloud-sdk/bin:$PATH CLOUDSDK_CORE_DISABLE_PROMPTS=1, +before_install:, +  - mkdir "$ANDROID_HOME/licenses" || true, +  - echo -e "\n8933bad161af4178b1185d1a37fbf41ea5269c55" > "$ANDROID_HOME/licenses/android-sdk-license", +  - echo -e "\n84831b9409646a918e30573bab4c9c91346d8abd" > "$ANDROID_HOME/licenses/android-sdk-preview-license", +  - echo $GCLOUD_SERVICE_KEY | base64 --decode --ignore-garbage > ${HOME}/gcloud-service-key.json, +  - curl https://sdk.cloud.google.com | bash, +  - gcloud auth activate-service-account --key-file ${HOME}/gcloud-service-key.json, +  - gcloud components update, +  - gcloud config set project lottie-snapshots, +  - export TRAVIS_GIT_BRANCH=$(if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then echo $TRAVIS_BRANCH; else echo $TRAVIS_PULL_REQUEST_BRANCH; fi), +  - export GIT_SHA=$(git rev-parse HEAD), +  - export GIT_MERGE_BASE=$(git merge-base master), +  - echo GIT_SHA $GIT_SHA, +  - echo GIT_MERGE_BASE $GIT_MERGE_BASE, +install:, +  - . $HOME/.nvm/nvm.sh, +  - nvm install stable, +  - nvm use stable, +  - npm install, +    - ".+", +script:, +  - ./gradlew check, +  - ./gradlew :LottieSample:assembleAndroidTest :LottieSample:assembleDebug, +  - gcloud firebase test android run --type instrumentation --device model=Nexus5X,version=26 --app LottieSample/build/outputs/apk/LottieSample-debug.apk --test LottieSample/build/outputs/apk/LottieSample-debug-androidTest.apk, +  - ./post_pr_comment.js, +++ b/LottieSample/build.gradle, +    testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner", +    buildConfigField("String", "S3AccessKey", "\"" + System.getenv("LOTTIE_S3_API_KEY") + "\""), +    buildConfigField("String", "S3SecretKey", "\"" + System.getenv("LOTTIE_S3_SECRET_KEY") + "\""), +    buildConfigField("String", "HappoApiKey", "\"" + System.getenv("LOTTIE_HAPPO_API_KEY") + "\""), +    buildConfigField("String", "HappoSecretKey", "\"" + System.getenv("LOTTIE_HAPPO_SECRET_KEY") + "\""), +    buildConfigField("String", "TRAVIS_GIT_BRANCH", "\"" + System.getenv("TRAVIS_GIT_BRANCH") + "\""), +    buildConfigField("String", "GIT_SHA", "\"" + gitSha + "\""), +    buildConfigField("String", "GIT_BRANCH", "\"" + gitBranch + "\""), +  packagingOptions {, +    exclude 'META-INF/LICENSE.txt', +    exclude 'META-INF/NOTICE.txt', +    exclude 'META-INF/LICENSE', +    exclude 'META-INF/NOTICE', +  }, +  compile 'com.squareup.okhttp3:okhttp:3.9.0', +  androidTestCompile 'com.airbnb.android:happo:0.0.15@aar', +  // TODO: figure out why transitive deps of happo are needed, +  androidTestCompile 'com.android.support:appcompat-v7:26.1.0', +  androidTestCompile 'com.android.support.test.espresso:espresso-core:3.0.1', +  androidTestCompile "com.android.support.test:runner:1.0.1", +  androidTestCompile 'com.android.support.test.espresso:espresso-idling-resource:3.0.1', +  androidTestCompile 'io.reactivex.rxjava2:rxjava:2.1.5', +  androidTestCompile 'io.reactivex.rxjava2:rxandroid:2.0.1', +  androidTestCompile 'com.squareup.okhttp3:okhttp:3.9.0', +  androidTestCompile 'com.amazonaws:aws-android-sdk-core:2.6.5', +  androidTestCompile 'com.amazonaws:aws-android-sdk-s3:2.6.5', +  androidTestCompile 'io.jsonwebtoken:jjwt:0.8.0', +, +  androidTestCompile('com.android.support.test.espresso:espresso-core:3.0.1', {]