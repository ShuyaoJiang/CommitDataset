[+++ b/LottieSample/src/main/assets/AppIntro.json, +{"assets":[],"layers":[{"ddd":0,"ind":0,"ty":4,"nm":"Shape Layer 1","ks":{"o":{"k":100},"r":{"k":[{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":0,"s":[0],"e":[0]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":29,"s":[0],"e":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":31,"s":[0],"e":[180]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":59,"s":[180],"e":[180]},{"t":61}]},"p":{"k":[250,250,0]},"a":{"k":[0,0,0]},"s":{"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0.333]},"n":["0p667_1_0p333_0","0p667_1_0p333_0","0p667_0p667_0p333_0p333"],"t":0,"s":[0,0,100],"e":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.667,0.667,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0.333,0.333,0.333]},"n":["0p667_0p667_0p333_0p333","0p667_0p667_0p333_0p333","0p667_0p667_0p333_0p333"],"t":29,"s":[100,100,100],"e":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.667,0.667,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0.333,0.333,0.333]},"n":["0p667_0p667_0p333_0p333","0p667_0p667_0p333_0p333","0p667_0p667_0p333_0p333"],"t":31,"s":[100,100,100],"e":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0.333]},"n":["0p667_1_0p333_0","0p667_1_0p333_0","0p667_0p667_0p333_0p333"],"t":61,"s":[100,100,100],"e":[256,256,100]},{"t":89}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"k":[146.055,146.055]},"p":{"k":[0,0]},"r":{"k":20},"nm":"Rectangle Path 1"},{"ty":"st","fillEnabled":true,"c":{"k":[0,0,0,1]},"o":{"k":100},"w":{"k":5},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1"},{"ty":"tr","p":{"k":[0,0],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1"}],"ip":0,"op":91,"st":0,"bm":0,"sr":1}],"v":"4.4.26","ddd":0,"ip":0,"op":91,"fr":30,"w":500,"h":500}, +++ b/LottieSample/src/main/assets/AppIntro.json, +{"assets":[],"layers":[{"ddd":0,"ind":0,"ty":4,"nm":"Shape Layer 1","ks":{"o":{"k":100},"r":{"k":[{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":0,"s":[0],"e":[0]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":29,"s":[0],"e":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":31,"s":[0],"e":[180]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":59,"s":[180],"e":[180]},{"t":61}]},"p":{"k":[250,250,0]},"a":{"k":[0,0,0]},"s":{"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0.333]},"n":["0p667_1_0p333_0","0p667_1_0p333_0","0p667_0p667_0p333_0p333"],"t":0,"s":[0,0,100],"e":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.667,0.667,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0.333,0.333,0.333]},"n":["0p667_0p667_0p333_0p333","0p667_0p667_0p333_0p333","0p667_0p667_0p333_0p333"],"t":29,"s":[100,100,100],"e":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.667,0.667,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0.333,0.333,0.333]},"n":["0p667_0p667_0p333_0p333","0p667_0p667_0p333_0p333","0p667_0p667_0p333_0p333"],"t":31,"s":[100,100,100],"e":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0.333]},"n":["0p667_1_0p333_0","0p667_1_0p333_0","0p667_0p667_0p333_0p333"],"t":61,"s":[100,100,100],"e":[256,256,100]},{"t":89}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"k":[146.055,146.055]},"p":{"k":[0,0]},"r":{"k":20},"nm":"Rectangle Path 1"},{"ty":"st","fillEnabled":true,"c":{"k":[0,0,0,1]},"o":{"k":100},"w":{"k":5},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1"},{"ty":"tr","p":{"k":[0,0],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1"}],"ip":0,"op":91,"st":0,"bm":0,"sr":1}],"v":"4.4.26","ddd":0,"ip":0,"op":91,"fr":30,"w":500,"h":500}, +++ b/LottieSample/src/main/java/com/airbnb/lottie/samples/AppIntroFragment.java, +package com.airbnb.lottie.samples;, +, +import android.os.Bundle;, +import android.support.annotation.Nullable;, +import android.support.v4.app.Fragment;, +import android.support.v4.view.PagerAdapter;, +import android.support.v4.view.ViewPager;, +import android.view.LayoutInflater;, +import android.view.View;, +import android.view.ViewGroup;, +import android.view.ViewTreeObserver;, +import android.view.animation.Interpolator;, +import android.widget.Scroller;, +, +import com.airbnb.lottie.LottieAnimationView;, +, +import java.lang.reflect.Field;, +, +import butterknife.BindView;, +import butterknife.ButterKnife;, +import butterknife.Unbinder;, +, +public class AppIntroFragment extends Fragment {, +    private static int PAGES = 3;, +, +    public static AppIntroFragment newInstance() {, +        return new AppIntroFragment();, +    }, +, +    private Unbinder unbinder;, +    @BindView(R.id.animation_view) LottieAnimationView animationView;, +    @BindView(R.id.view_pager) ViewPager viewPager;, +, +    @Nullable, +    @Override, +    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {, +        View view = inflater.inflate(R.layout.fragment_app_intro, container, false);, +        unbinder = ButterKnife.bind(this, view);, +, +        setViewPagerScroller();, +        viewPager.setAdapter(new PagerAdapter() {, +            @Override, +            public int getCount() {, +                return PAGES + 1;, +            }, +, +            @Override, +            public boolean isViewFromObject(View view, Object object) {, +                return object == view;, +            }, +, +            @Override, +            public Object instantiateItem(ViewGroup container, int position) {, +                View view = LayoutInflater.from(container.getContext()).inflate(R.layout.pager_item_app_intro, container, false);, +                container.addView(view);, +                return view;, +            }, +, +            @Override, +            public void destroyItem(ViewGroup container, int position, Object object) {, +                container.removeView((View) object);, +            }, +        });, +, +        viewPager.addOnPageChangeListener(new ViewPager.SimpleOnPageChangeListener() {, +            @Override, +            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {, +                animationView.setProgress(position / (float) PAGES + positionOffset / (float) PAGES);, +            }, +        });, +, +        viewPager.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {, +            @Override, +            public void onGlobalLayout() {, +                viewPager.getViewTreeObserver().removeOnGlobalLayoutListener(this);, +                viewPager.setCurrentItem(1, true);, +            }, +        });, +, +        return view;, +    }, +, +    private void setViewPagerScroller() {, +        //noinspection TryWithIdenticalCatches, +        try {, +            Field scrollerField = ViewPager.class.getDeclaredField("mScroller");, +            scrollerField.setAccessible(true);, +            Field interpolator = ViewPager.class.getDeclaredField("sInterpolator");, +            interpolator.setAccessible(true);, +, +            Scroller scroller = new Scroller(getContext(), (Interpolator) interpolator.get(null)) {, +                @Override, +                public void startScroll(int startX, int startY, int dx, int dy, int duration) {, +                    super.startScroll(startX, startY, dx, dy, duration * 15);, +                }]