[+++ b/pom.xml, +    <gson.version>2.2.2</gson.version>, +    <okhttp.version>1.0.1</okhttp.version>, +  <!-- Bring in Maven Central Snapshots for Gson 2.2.3-SNAPSHOT -->, +  <repositories>, +    <repository>, +      <id>sonatype-nexus-snapshots</id>, +      <name>Sonatype Nexus Snapshots</name>, +      <url>https://oss.sonatype.org/content/repositories/snapshots</url>, +      <releases>, +        <enabled>false</enabled>, +      </releases>, +      <snapshots>, +        <enabled>true</enabled>, +      </snapshots>, +    </repository>, +  </repositories>, +, +        <groupId>com.squareup.okhttp</groupId>, +        <artifactId>okhttp</artifactId>, +        <version>${okhttp.version}</version>, +      </dependency>, +      <dependency>, +++ b/pom.xml, +    <gson.version>2.2.2</gson.version>, +    <okhttp.version>1.0.1</okhttp.version>, +  <!-- Bring in Maven Central Snapshots for Gson 2.2.3-SNAPSHOT -->, +  <repositories>, +    <repository>, +      <id>sonatype-nexus-snapshots</id>, +      <name>Sonatype Nexus Snapshots</name>, +      <url>https://oss.sonatype.org/content/repositories/snapshots</url>, +      <releases>, +        <enabled>false</enabled>, +      </releases>, +      <snapshots>, +        <enabled>true</enabled>, +      </snapshots>, +    </repository>, +  </repositories>, +, +        <groupId>com.squareup.okhttp</groupId>, +        <artifactId>okhttp</artifactId>, +        <version>${okhttp.version}</version>, +      </dependency>, +      <dependency>, +++ b/retrofit/pom.xml, +    <dependency>, +      <groupId>com.squareup.okhttp</groupId>, +      <artifactId>okhttp</artifactId>, +      <optional>true</optional>, +    </dependency>, +++ b/pom.xml, +    <gson.version>2.2.2</gson.version>, +    <okhttp.version>1.0.1</okhttp.version>, +  <!-- Bring in Maven Central Snapshots for Gson 2.2.3-SNAPSHOT -->, +  <repositories>, +    <repository>, +      <id>sonatype-nexus-snapshots</id>, +      <name>Sonatype Nexus Snapshots</name>, +      <url>https://oss.sonatype.org/content/repositories/snapshots</url>, +      <releases>, +        <enabled>false</enabled>, +      </releases>, +      <snapshots>, +        <enabled>true</enabled>, +      </snapshots>, +    </repository>, +  </repositories>, +, +        <groupId>com.squareup.okhttp</groupId>, +        <artifactId>okhttp</artifactId>, +        <version>${okhttp.version}</version>, +      </dependency>, +      <dependency>, +++ b/retrofit/pom.xml, +    <dependency>, +      <groupId>com.squareup.okhttp</groupId>, +      <artifactId>okhttp</artifactId>, +      <optional>true</optional>, +    </dependency>, +++ b/retrofit/src/main/java/retrofit/http/Platform.java, +import retrofit.http.client.OkClient;, +, +      final Client client;, +      if (hasOkHttpOnClasspath()) {, +        client = OkClientInstantiator.instantiate();, +      } else {, +        client = new UrlConnectionClient();, +      }, +      if (hasOkHttpOnClasspath()) {, +        client = OkClientInstantiator.instantiate();, +      } else if (Build.VERSION.SDK_INT < Build.VERSION_CODES.GINGERBREAD) {, +, +  /** Determine whether or not OkHttp is present on the runtime classpath. */, +  private static boolean hasOkHttpOnClasspath() {, +    try {, +      Class.forName("com.squareup.okhttp.OkHttpClient");, +      return true;, +    } catch (ClassNotFoundException e) {]