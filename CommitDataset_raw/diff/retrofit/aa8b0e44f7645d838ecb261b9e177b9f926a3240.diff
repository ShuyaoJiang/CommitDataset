[+++ b/pom.xml, +    <okhttp.version>1.6.0</okhttp.version>, +        <groupId>com.squareup.okhttp</groupId>, +        <artifactId>okhttp-urlconnection</artifactId>, +        <version>${okhttp.version}</version>, +      </dependency>, +      <dependency>, +++ b/pom.xml, +    <okhttp.version>1.6.0</okhttp.version>, +        <groupId>com.squareup.okhttp</groupId>, +        <artifactId>okhttp-urlconnection</artifactId>, +        <version>${okhttp.version}</version>, +      </dependency>, +      <dependency>, +++ b/retrofit/pom.xml, +      <groupId>com.squareup.okhttp</groupId>, +      <artifactId>okhttp-urlconnection</artifactId>, +      <optional>true</optional>, +    </dependency>, +    <dependency>, +++ b/pom.xml, +    <okhttp.version>1.6.0</okhttp.version>, +        <groupId>com.squareup.okhttp</groupId>, +        <artifactId>okhttp-urlconnection</artifactId>, +        <version>${okhttp.version}</version>, +      </dependency>, +      <dependency>, +++ b/retrofit/pom.xml, +      <groupId>com.squareup.okhttp</groupId>, +      <artifactId>okhttp-urlconnection</artifactId>, +      <optional>true</optional>, +    </dependency>, +    <dependency>, +++ b/retrofit/src/main/java/retrofit/Platform.java, +  /** Determine whether or not OkHttp 1.6 or newer is present on the runtime classpath. */, +    boolean okUrlFactory = false;, +    try {, +      Class.forName("com.squareup.okhttp.OkUrlFactory");, +      okUrlFactory = true;, +    } catch (ClassNotFoundException e) {, +    }, +, +    boolean okHttpClient = false;, +      okHttpClient = true;, +, +    if (okHttpClient != okUrlFactory) {, +      throw new RuntimeException("", +          + "Retrofit detected an unsupported OkHttp on the classpath.\n", +          + "To use OkHttp with this version of Retrofit, you'll need:\n", +          + "1. com.squareup.okhttp:okhttp:1.6.0 (or newer)\n", +          + "2. com.squareup.okhttp:okhttp-urlconnection:1.6.0 (or newer)\n", +          + "Note that OkHttp 2.0.0+ is supported!");, +    }, +, +    return okHttpClient;, +++ b/pom.xml, +    <okhttp.version>1.6.0</okhttp.version>, +        <groupId>com.squareup.okhttp</groupId>, +        <artifactId>okhttp-urlconnection</artifactId>, +        <version>${okhttp.version}</version>, +      </dependency>, +      <dependency>, +++ b/retrofit/pom.xml, +      <groupId>com.squareup.okhttp</groupId>, +      <artifactId>okhttp-urlconnection</artifactId>, +      <optional>true</optional>, +    </dependency>, +    <dependency>, +++ b/retrofit/src/main/java/retrofit/Platform.java, +  /** Determine whether or not OkHttp 1.6 or newer is present on the runtime classpath. */, +    boolean okUrlFactory = false;, +    try {, +      Class.forName("com.squareup.okhttp.OkUrlFactory");, +      okUrlFactory = true;, +    } catch (ClassNotFoundException e) {, +    }, +, +    boolean okHttpClient = false;, +      okHttpClient = true;, +, +    if (okHttpClient != okUrlFactory) {, +      throw new RuntimeException("", +          + "Retrofit detected an unsupported OkHttp on the classpath.\n", +          + "To use OkHttp with this version of Retrofit, you'll need:\n", +          + "1. com.squareup.okhttp:okhttp:1.6.0 (or newer)\n", +          + "2. com.squareup.okhttp:okhttp-urlconnection:1.6.0 (or newer)\n", +          + "Note that OkHttp 2.0.0+ is supported!");, +    }, +, +    return okHttpClient;, +++ b/retrofit/src/main/java/retrofit/client/OkClient.java, +import com.squareup.okhttp.OkUrlFactory;, +  private final OkUrlFactory okUrlFactory;, +    this.okUrlFactory = new OkUrlFactory(client);, +    return okUrlFactory.open(new URL(request.getUrl()));]