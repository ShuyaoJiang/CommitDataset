[+++ b/retrofit/src/main/java/retrofit2/Response.java, +   * Create a synthetic successful response using {@code headers} with {@code body} as the, +   * deserialized body., +   */, +  public static <T> Response<T> success(T body, Headers headers) {, +    if (headers == null) throw new NullPointerException("headers == null");, +    return success(body, new okhttp3.Response.Builder() //, +        .code(200), +        .message("OK"), +        .protocol(Protocol.HTTP_1_1), +        .headers(headers), +        .request(new Request.Builder().url("http://localhost").build()), +        .build());, +  }, +, +  /**, +++ b/retrofit/src/main/java/retrofit2/Response.java, +   * Create a synthetic successful response using {@code headers} with {@code body} as the, +   * deserialized body., +   */, +  public static <T> Response<T> success(T body, Headers headers) {, +    if (headers == null) throw new NullPointerException("headers == null");, +    return success(body, new okhttp3.Response.Builder() //, +        .code(200), +        .message("OK"), +        .protocol(Protocol.HTTP_1_1), +        .headers(headers), +        .request(new Request.Builder().url("http://localhost").build()), +        .build());, +  }, +, +  /**, +++ b/retrofit/src/test/java/retrofit2/ResponseTest.java, +import okhttp3.Headers;, +  @Test public void successWithHeaders() {, +    Object body = new Object();, +    Headers headers = Headers.of("foo", "bar");, +    Response<Object> response = Response.success(body, headers);, +    assertThat(response.raw()).isNotNull();, +    assertThat(response.code()).isEqualTo(200);, +    assertThat(response.message()).isEqualTo("OK");, +    assertThat(response.headers().toMultimap()).isEqualTo(headers.toMultimap());, +    assertThat(response.isSuccess()).isTrue();, +    assertThat(response.body()).isSameAs(body);, +    assertThat(response.errorBody()).isNull();, +  }, +, +  @Test public void succesWithNullHeadersThrows() {, +    try {, +      Response.success("", (okhttp3.Headers) null);, +      fail();, +    } catch (NullPointerException e) {, +      assertThat(e).hasMessage("headers == null");, +    }, +  }, +, +      Response.success("", (okhttp3.Response) null);]