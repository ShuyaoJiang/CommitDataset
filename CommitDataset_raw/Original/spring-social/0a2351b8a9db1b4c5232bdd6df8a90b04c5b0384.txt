Redesigned Java configuration. (SOCIAL-399)
