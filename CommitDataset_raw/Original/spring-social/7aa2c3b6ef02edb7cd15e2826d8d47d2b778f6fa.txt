factored out http component api dependency to inner class to prevent class not found exceptions in eagerly class verification environments; polishing
