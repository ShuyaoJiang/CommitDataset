resolved tangles; made internal api impl types package private; separated out api and impl packages
