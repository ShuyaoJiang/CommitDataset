Only hash keys for disk cache

disk cache requires a subset of characters,
otherwise it doesn't matter. hashing is expensive
compared to concatenating strings, so use
concatentation when possible and only hash in
background.
