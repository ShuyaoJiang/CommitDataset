Allow arbitrary uri loader in resource loader

Lets us use factory for uris rather than relying
on our specific implementation
