Add preconditions and documentation to stop null gif header errors.

This doesn't contain any significant code changes, but should at least
make errors appear less obscure than a random NPE when a recycled
resource is used.
-------------
Created by MOE: https://github.com/google/moe
MOE_MIGRATED_REVID=122472941
