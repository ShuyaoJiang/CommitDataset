Add @NonNull and warning to extension type methods.

Progress towards #2774.