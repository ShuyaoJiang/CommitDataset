Refactor example to handle fragments correctly

Should fix case where searches would complete
but no photos would be shown