core: move same instructions from predecessors for loops
