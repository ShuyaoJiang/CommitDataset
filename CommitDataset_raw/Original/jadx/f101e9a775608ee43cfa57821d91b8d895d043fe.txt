fix thread-safe bug

Change HashMap to ConcurrentHashMap, because it can be used by many worker threads.