core: improve 'break' and 'continue' insertion
