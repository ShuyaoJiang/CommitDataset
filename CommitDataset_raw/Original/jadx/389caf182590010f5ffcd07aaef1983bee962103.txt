fix: improve filled array detection
