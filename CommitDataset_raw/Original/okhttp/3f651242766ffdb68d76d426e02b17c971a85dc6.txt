Guard allocation changes by the connection pool lock.

As suggested here: https://github.com/square/okhttp/pull/2597/files
