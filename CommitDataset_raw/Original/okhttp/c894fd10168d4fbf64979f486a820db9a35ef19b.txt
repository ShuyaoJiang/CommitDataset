Merge pull request #1885 from iagreen/master.better-uri-encoding

use URI constructor for encoding