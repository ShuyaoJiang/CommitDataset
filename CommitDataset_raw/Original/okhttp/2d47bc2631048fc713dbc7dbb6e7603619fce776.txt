Add a test for corner-case behavior.

I'm looking to make HttpURLConnectionImpl delegate to Job, and that means
writing tests for all the weird things it does above HttpEngine.
