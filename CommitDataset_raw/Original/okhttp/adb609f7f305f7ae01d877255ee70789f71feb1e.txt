Merge pull request #4609 from square/jwilson.0212.transmitter_v0

Initial refactoring towards a Transmitter abstraction