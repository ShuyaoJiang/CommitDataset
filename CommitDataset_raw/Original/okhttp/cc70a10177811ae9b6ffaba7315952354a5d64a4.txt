Defer known-length payload writes when within a segment of completion.

This allows both really small bodies and very large buffered bodies to be written as a single frame.
