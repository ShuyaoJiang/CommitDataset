Implement percent encoding.

This works for all URL components except for host names. Those are
subject to other types of encoding.
