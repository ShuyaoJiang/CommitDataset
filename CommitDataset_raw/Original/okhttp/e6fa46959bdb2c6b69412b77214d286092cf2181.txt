Merge pull request #45 from square/jwilson/readhandler

Use callbacks rather than fields to handle incoming frames.