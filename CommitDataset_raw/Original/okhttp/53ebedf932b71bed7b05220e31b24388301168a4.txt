Implement query parameter management.

The tricky part of this is '+' and ' ' management.
