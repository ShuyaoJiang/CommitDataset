Take no action if transferring zero bytes.

This removes the logic from inside the loop for much better readability.
