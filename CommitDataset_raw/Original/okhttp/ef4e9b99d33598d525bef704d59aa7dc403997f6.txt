Merge pull request #1299 from nfuller/ConnectionRouteSelection2

Refactoring: Make RouteSelector independent of Connection