Merge pull request #2251 from square/jwilson_0115_listeners

Use listeners to observe allocation limit changes.