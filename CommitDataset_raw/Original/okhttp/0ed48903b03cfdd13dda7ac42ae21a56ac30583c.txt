Merge pull request #3125 from square/jw/socket

Use Socket instead of Closeable for compatibility.