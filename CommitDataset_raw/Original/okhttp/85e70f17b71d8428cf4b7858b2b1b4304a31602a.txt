Merge pull request #98 from square/jwilson/mecharefactor

Update checkstyle.xml and fix problems