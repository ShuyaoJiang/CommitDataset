Merge pull request #1089 from square/jwilson_1013_connection_configuration

Introduce ConnectionConfiguration.