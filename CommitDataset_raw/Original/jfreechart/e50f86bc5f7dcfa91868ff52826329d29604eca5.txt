improved the mouse event conversion with buttons and modifiers handling, patch sent by Christoph Beck.