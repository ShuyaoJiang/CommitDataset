Merge pull request #912 from square/jw/rearchitect-parsing

Switch the architecture of method parsing and invocation.