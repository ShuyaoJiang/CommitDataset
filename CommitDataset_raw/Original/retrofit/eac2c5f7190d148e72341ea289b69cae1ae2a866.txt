Migrate converter tests to be integration style.

This also fundamentally changes the `Type` passed to the converter. Instead of just passing the runtime class, we use the type parsed from the method declaration. This allows complex types like `List<Record<Person>>` to be handled by the converter instead of just receiving something like `ArrayList`.
