Merge pull request #2327 from square/jw/2017-05-11/custom-exception-type

Use custom exception type when triggering mock failure.