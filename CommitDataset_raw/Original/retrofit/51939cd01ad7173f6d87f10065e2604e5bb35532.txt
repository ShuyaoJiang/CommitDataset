Merge pull request #2178 from square/jw/2017-01-30/mock-errors

Allow HTTP errors to be created as part of mock behavior.