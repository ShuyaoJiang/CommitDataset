Merge pull request #15 from square/remove-preinvoke

Removing preInvoke and constructing headers on the main thread