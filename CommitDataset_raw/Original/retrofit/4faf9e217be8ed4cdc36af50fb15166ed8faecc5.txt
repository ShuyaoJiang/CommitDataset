Makes sure observable assembly hooks are called

This allows things like error and trace tracking to work naturally.

Fixes #2716
