moved inner classes to separate files