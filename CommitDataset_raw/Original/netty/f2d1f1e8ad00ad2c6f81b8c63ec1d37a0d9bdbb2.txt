Also fix the exception handling if a ChannelHandler throws an Exception
based of if its a io thread or not. See #187 and #140