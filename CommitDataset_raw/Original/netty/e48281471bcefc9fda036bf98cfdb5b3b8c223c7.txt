Limit future notification stack depth / Robost writeCounter management

- Also ported the discard example while testing this commit