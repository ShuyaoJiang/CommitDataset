Release the cumulation buffer after firing upstream so we don't end up
with a "leak" because of a very big ChannelBuffer. This patch is
extracted of the pull request 39. Thanks to arya for the patch