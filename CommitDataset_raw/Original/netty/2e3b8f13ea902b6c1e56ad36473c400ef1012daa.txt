Revert "Let ProtobufEncoder extend MessageToByteEncoder which makes more sense. Related to [#1222]"

This reverts commit 6a9d055f578bc85eb7780dcc5484aa11e9da50f6.
