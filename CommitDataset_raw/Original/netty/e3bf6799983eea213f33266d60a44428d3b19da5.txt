Ensure connect promise is notifed before fireChannelActive() is called. Related to [#4927]

Motivation:

We should always first notify the promise before trigger an event through the pipeline to be consistent.

Modifications:

Ensure we notify the promise before fire event.

Result:

Consistent behavior
