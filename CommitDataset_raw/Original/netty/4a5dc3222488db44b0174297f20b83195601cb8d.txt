Fix a bug where LineBasedFrameDecoder does not handle too long lines correctly

 - Related: #1287
