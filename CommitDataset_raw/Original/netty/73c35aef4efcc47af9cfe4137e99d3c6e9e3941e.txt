[#1309] Make sure ReplayDecoder respect isSingleDecode()

* This could cause for example corrupt WebSocketFrame's if they was written from the server
  to the client directly after it send the handshake response.
