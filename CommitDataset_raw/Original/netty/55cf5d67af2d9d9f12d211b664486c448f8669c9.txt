Fixed issue: NETTY-157 Channel.close() does not trigger a channelUnbound event in some transports
* Made sure the specified future is not marked as done before setClosed() is called.  The specified future can be the closeFuture of the channel, consequently making setClosed() always fail.
