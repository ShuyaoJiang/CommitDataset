Add EventLoopFactory and make MultithreadEventLoop use it

- based on the feed back from @normanmaurer