Fix StackOverflowError raised by DefaultPromise.notifyListeners() when ImmediateEventExecutor was used

- Fixed #1602
