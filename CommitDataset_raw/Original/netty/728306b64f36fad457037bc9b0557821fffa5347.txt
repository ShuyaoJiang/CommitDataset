Add CompositeByteBuf.consolidate()

- also added test cases that test automatic / full / ranged
  consolidation