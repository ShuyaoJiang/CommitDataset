Simplify code

Motivation:

Code can be simplified

Modification:

Refactor code to remove extra branching

Result:

Cleaner code.
