Fix buffer over-run in Snappy codec when emitting a copy that leaves < 4 bytes remaining
