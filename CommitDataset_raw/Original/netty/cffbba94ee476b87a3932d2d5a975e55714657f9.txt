[#1654] Remove AbstractChannel.doPreClose() and notify close future on register failure. Based on patch of @jpinner
