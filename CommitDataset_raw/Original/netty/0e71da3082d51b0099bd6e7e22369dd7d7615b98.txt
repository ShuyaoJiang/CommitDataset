Fix a bug where DefaultPromise.setUncancellable() returns a wrong value

- Fixes #2220 - again
- Missing negation
