[#529] ByteBuf.ensureWritableBytes() can trigger IllegalArgumentException

- Remove redundant boundary check in ensureWritableBytes()
- Ensure calculateNewCapacity() never returns the value that exceeds
  maxCapacity