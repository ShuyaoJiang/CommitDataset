Change the thread model slightly for new/freeInbound/OutboundBuffer() for future improvement

- Related: #1283
- Make ReplayingDecoder work with the modified thread model
