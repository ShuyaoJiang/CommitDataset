Fixed NETTY-21 and NETTY-22:
* ChannelBuffer.setBytes() and writeBytes() doesn't work when a NIO channel is specified.
* ChannelBuffer.setBytes() and writeBytes() should return -1 if the connection is closed.
* Changed NioWorker.read() to use ChannelBuffer.writeBytes()
