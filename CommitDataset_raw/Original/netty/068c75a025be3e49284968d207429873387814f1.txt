[#1924] Correctly fail promise when EventExecutor was shutdown in between deregister
