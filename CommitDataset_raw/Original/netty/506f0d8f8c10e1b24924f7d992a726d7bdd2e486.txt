Cleanup : String.length() == 0 replaced with String.isEmpty, removed unnecessary assert, class cast
