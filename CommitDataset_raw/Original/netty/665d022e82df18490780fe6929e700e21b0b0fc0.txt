Use a heap buffer from the allocator because it doesn't seem to cause OOME anymore
