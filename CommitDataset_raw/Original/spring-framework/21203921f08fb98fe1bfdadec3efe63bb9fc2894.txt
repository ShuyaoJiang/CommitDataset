sync with reactor-core snapshot
