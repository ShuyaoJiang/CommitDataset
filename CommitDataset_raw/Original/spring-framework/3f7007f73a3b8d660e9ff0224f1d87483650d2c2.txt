Properly handle knownSuperclasses in case of an overridden ConfigurationClass

Issue: SPR-10546
(cherry picked from commit 6e4317e)
