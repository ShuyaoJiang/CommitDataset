Consistent reset of resource holders on doBegin failure

Issue: SPR-12280
