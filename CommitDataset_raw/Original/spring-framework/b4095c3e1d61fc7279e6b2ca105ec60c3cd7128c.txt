Class identity comparisons wherever possible

Issue: SPR-12926
