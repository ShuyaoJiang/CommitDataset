Proper resolution of Optional.empty() for header arguments

Issue: SPR-15151
