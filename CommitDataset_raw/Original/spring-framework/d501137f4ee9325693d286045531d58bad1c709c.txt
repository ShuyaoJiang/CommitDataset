Consistently accept empty Content-Type header and empty character encoding

Issue: SPR-12173
