Consistently check if AsyncContext already completed

Related to SPR-15412
