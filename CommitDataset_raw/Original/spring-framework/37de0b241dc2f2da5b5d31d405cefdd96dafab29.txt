ProtocolResolver SPI allows for custom resource resolution

Issue: SPR-12857
Issue: SPR-13905
