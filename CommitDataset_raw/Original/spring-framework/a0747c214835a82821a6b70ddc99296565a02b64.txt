Consistent bean type checking for endpoint handlers

Issue: SPR-13725
