Consistent hasText checks for CharSequence vs String

Issue: SPR-15540
