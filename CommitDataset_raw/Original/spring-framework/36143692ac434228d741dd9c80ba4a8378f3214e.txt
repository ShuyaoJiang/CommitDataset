Consistent use of AvailableSettings instead of Environment

Issue: SPR-14548
