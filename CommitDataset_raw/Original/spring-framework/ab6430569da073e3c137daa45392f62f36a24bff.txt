Efficient Kotlin metadata detection

Follow-up of 3991ab4a2382418eb834802ed387ba293cadc7ca.

Issue: SPR-15673
