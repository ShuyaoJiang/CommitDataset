Test exception handling for TestContext event annotations

This commit introduces tests for both synchronous and asynchronous
exception handling for TestContext event annotations.

See gh-18490
