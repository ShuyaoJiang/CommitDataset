Expression detection properly handles cached String literals

Issue: SPR-9670
