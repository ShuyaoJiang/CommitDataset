caching optmizations and performance tests
