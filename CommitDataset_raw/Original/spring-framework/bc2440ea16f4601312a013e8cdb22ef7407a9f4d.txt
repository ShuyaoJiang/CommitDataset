updated for JDK 1.5+
