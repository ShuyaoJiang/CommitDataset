AbstractEnvironment defensively synchronizes access to activeProfiles and defaultProfiles

Issue: SPR-13213
