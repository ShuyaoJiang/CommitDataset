Unit tests for AsyncResult callback behavior

Issue: SPR-14249
