Introduce AbstractEnvironment#validateProfile

Consolidates validation for profiles and provides a mechanism for
AbstractEnvironment subclasses to customize validation logic if
desired.
