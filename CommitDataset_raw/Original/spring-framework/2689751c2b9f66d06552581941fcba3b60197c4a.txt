Repackaging to remove remaining cycles and increase cohesion
