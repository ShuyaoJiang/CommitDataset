Collection.isEmpty() should be used to test for emptiness

Closes gh-1670
