SettableListenableFuture consistently tracks cancellation state

Issue: SPR-15202
