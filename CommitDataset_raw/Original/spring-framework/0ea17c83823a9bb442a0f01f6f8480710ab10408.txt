Allow for reuse of key visitor classes in tooling

Based on https://github.com/SpringSource/spring-framework/pull/263
