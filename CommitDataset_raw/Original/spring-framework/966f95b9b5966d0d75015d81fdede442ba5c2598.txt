Revised TransportHandlingSockJsService for defensive transport checking and consistent logging

Issue: SPR-13545
