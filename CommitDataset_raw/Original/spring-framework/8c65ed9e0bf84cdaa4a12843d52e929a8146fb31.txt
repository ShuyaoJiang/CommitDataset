some updates to error reporting to let errors show up in STS
