To fix external bug https://github.com/google/guava/issues/2152.

This code follows the article emcmanus mentioned:
https://community.oracle.com/blogs/kohsuke/2007/04/25/how-convert-javaneturl-javaiofile

-------------
Created by MOE: https://github.com/google/moe
MOE_MIGRATED_REVID=144362958
