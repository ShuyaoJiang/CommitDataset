Fix compile-time constant expression overflows

This change fixes compile-time constant expressions that overflow, in
preparation for enabling a new compiler error.
-------------
Created by MOE: https://github.com/google/moe
MOE_MIGRATED_REVID=129993557
