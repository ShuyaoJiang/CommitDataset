Increase the guarantees about what happens when you call setFuture with a completed future.

Previously it was possible to have setFuture return true and for the future to not be completed with the future due to a racing cancel.
-------------
Created by MOE: http://code.google.com/p/moe-java
MOE_MIGRATED_REVID=81446929
