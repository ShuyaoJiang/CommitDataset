Update deps including Guava 20; use switch in pref to chained if-else for slightly more consistent style
