Move character encoding logic out to common, try again to improve its handling of UTF8 for Chinese market, per manufacturer request, added test cases

git-svn-id: https://zxing.googlecode.com/svn/trunk@1364 59b500cc-1b3d-0410-9834-0bbf25fbcc57
