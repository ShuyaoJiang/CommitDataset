Prevent returning cache values when null cache key is set (#1097)

Previously, setting a null cache key could return a cached task or result. This explicitly prevents that from happening. The new tests failed before and pass now.
Fixes #1092