Use a different method for splitting the version string

I think some devices have a broken regex function that causes
split to fail on the current regex. This version may work better.
Fixes #559
