Add tests for session timeouts

Add unit tests for session timeouts and also added a convenience method
to set the time with a TimeUnit.

Issue: #53667353
