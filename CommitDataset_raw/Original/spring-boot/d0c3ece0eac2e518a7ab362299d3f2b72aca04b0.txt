Merge pull request #7263 from dsyer/feature/custom-layout

* gh-7263-2:
  Add custom LayoutFactory sample
  Support custom fat jar layouts
  Rework Repacakger timeout code
