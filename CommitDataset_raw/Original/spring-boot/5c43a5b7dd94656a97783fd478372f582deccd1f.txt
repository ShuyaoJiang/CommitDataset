Honour custom bean name generator for non-web applications

Closes gh-6160
