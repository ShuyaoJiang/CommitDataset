Fix issue with paralellism and CodaHale metrics

Since there is no atomic remove/register operation for
Gauges, we need to synchronize.
