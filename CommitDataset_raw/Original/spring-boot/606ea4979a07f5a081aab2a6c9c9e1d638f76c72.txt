Add a test to cover the merging of an additional metadata file

This test covers the code path that caused gh-2361 and also checks that,
when an additional metadata file is found, itâ€™s correctly merged with
the other metadata.

Closes gh-2361