Add @Conditionals to switch off non-generic endpoints

Fixes gh-601
