Add @ConditionalOnProperty annotation

Add @ConditionalOnProperty which enables conditional bean creation when
all required properties are defined in the Environment.

Fixes gh-812
