Improve @ConditionalOnEnabledEndpoint to be used on any component

This commit adds an `endpoint` attribute so that the condition can be
used on arbitrary components, not only endpoints or extensions.

Closes gh-12945
