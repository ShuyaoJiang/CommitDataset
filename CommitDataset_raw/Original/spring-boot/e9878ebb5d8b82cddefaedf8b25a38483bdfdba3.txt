Update tests to close the application contexts that they create

This commit updates a number of tests in spring-boot to ensure that
they close the application contexts that they create. SimpleMainTests
still create a number of contexts that are not closed as thereâ€™s no
(easy) way to get hold of the context when testing the main method.

See gh-4053

