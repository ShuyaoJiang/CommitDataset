Remove @OnManagementMvcCondition and use a private class

Fixes gh-3373
