Polish "Move test to ApplicationContextRunner"

Closes gh-12477
