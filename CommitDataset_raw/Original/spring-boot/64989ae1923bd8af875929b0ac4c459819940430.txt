Replacing StringBuffer with lock-free StringBuilder

Closes gh-5727
