Improve class condition check

This commit improves a class condition check on the actual
implementation rather than the general purpose interface.

Closes gh-11608
