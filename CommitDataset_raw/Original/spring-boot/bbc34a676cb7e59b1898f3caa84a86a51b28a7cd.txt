Polish "Handle possible regexes defensively in NamePatternFilter"

Closes gh-9730
