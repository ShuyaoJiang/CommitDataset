Merge pull request #11348 from GreyTeardrop

* pr/11348:
  Polish MetricsFilter registration async support
  Fix MetricsFilter registration to support async
