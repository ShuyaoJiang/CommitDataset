Add AbstractHealthAggregator.aggregateDetails

Extract aggregate details logic to a protected method that can be
overridden if required.

Closes gh-4674
