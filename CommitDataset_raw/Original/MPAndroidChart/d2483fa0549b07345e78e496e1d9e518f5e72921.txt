Allow configuring the legend before setting data

This will allow a proper flow of code- configuring and then setting data and rendering