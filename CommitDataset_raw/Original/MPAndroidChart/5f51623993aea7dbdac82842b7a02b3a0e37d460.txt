Add matrixbuffer to avoid constant allocations
