Fixed an issue where highlights disappear on multi-datasets

They disappeared because of NaN values introduces in the previous iteration, when the previous dataset does not contain a yValue for that specific index.

(And a little refactoring to make this thing consistent across all appearances)
