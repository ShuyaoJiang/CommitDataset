Merge pull request #1354 from danielgindi/highlighter-protocol

Make highlighter public for extensibility