Merge pull request #717 from waisuan/master

Dirty Flag pattern #560