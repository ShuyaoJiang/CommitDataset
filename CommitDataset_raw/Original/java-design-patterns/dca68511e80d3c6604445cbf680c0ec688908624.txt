Added tests for producer-consumer pattern
