Hexagonal pattern: move business logic to core
