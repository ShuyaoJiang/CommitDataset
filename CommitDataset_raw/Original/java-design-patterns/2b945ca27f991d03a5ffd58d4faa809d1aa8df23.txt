Work on #403, removed dependency on async method invocation module, added more tests
