Clean up internals of how BindingClass generates code.

Remove the need to know about subclasses or parent types beyond the immediate. Type hierarchies are small so we can iterate them on-demand.
