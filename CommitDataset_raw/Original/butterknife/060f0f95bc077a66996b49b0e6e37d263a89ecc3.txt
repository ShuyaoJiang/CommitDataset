Merge pull request #1326 from JakeWharton/jakew/runtime/2018-09-06

Split out the codegen runtime from the reflective lookup