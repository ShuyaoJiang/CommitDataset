Merge pull request #42 from JakeWharton/jw/model-rewrite

Rewrite processor to use an object model to represent injections.