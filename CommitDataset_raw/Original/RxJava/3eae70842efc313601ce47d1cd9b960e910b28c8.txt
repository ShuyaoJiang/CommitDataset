Move cast to parent function