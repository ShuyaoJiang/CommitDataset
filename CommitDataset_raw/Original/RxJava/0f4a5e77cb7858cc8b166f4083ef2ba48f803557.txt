2.x: add limit() to limit both item count and request amount (#5655)

* 2.x: add limit() to limit both item count and request amount

* Address some feedback.

* Use the cancelled constant value.
