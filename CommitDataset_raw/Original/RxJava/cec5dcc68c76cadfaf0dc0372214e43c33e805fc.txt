2.x: Functional interfaces now throw (#4278)

* 1.x: use throwing functional interfaces + changes

* Fix remaining classes

* Fix mistakes.
