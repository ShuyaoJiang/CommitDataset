2.x: test sync, fix retryWhen/redoWhen/publish(Function) (#4361)

* 2.x: test sync, fix retryWhen/redoWhen/publish(Function)

* Fix spelling error, use common parameter validation at more places
