Merge pull request #3112 from akarnokd/TestCoverageObservers

Observers package test coverage and fixes.