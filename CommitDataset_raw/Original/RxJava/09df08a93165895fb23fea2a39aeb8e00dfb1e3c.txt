2.x: make withLatestFrom conditional subscriber, test cold consumption (#5495)

* 2.x: make withLatestFrom conditional subscriber, test cold consumption

* Cleanup internal logic, improve coverage
