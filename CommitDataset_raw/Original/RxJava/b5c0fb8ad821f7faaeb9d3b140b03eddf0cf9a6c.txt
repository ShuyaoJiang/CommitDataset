2.x: Feature/#4876 more null checks (#5055)

* add NotNull annotations
add assertion to help static code analysis

* avoid false positive

* add annotations and assert statement to help static code analysis

* remove redundant check

* mark parameter as nullable

* add test to reproduce npe

* add null check for avoid npe

* parameter time unit marked as @NonNull

* add annotations and assert to help static code analysis

* remove assert statements

* add missing annotation

* add comment for test case
