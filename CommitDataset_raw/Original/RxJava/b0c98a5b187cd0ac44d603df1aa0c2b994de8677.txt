Merge pull request #1577 from zsxwing/compose-covariance

Fix the compose covariance