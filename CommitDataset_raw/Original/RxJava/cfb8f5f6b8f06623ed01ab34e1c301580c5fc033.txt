Merge pull request #520 from zsxwing/first

Fixed the blocking/non-blocking first