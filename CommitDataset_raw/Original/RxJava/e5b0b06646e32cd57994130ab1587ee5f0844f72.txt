2.x: make sure the helper returns true if the pre-swap value was null (#4107)

