Merge pull request #2987 from davidmoten/skip-bug

fix skip() race condition and request overflow