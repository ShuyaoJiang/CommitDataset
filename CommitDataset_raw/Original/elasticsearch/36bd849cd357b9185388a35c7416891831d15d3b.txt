SQL: Refactor the type handling (elastic/x-pack-elasticsearch#3694)

Separates ES types and field metadata.

Relates to elastic/x-pack-elasticsearch#3556

Original commit: elastic/x-pack-elasticsearch@c9601f33904c8b04f763bce33f4db5a0d09b9d04
