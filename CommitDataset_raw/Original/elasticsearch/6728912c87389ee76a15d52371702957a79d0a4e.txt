Handle removing log4j dependency from elasticsearch-core jar (elastic/x-pack-elasticsearch#3976)

This handles the removal of the log4j dependency from our elasticsearch-core
project. It was originally necessary only for our jar classpath checking. It is
now replaced by a `Consumer<String>`.

This is the x-pack side of https://github.com/elastic/elasticsearch/pull/28705

Original commit: elastic/x-pack-elasticsearch@1186a7eaf6cce774918f7b41975a28391532d6d9
