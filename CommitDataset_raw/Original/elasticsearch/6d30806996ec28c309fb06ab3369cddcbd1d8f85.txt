Watcher: Improvements on the rolling restart tests (elastic/x-pack-elasticsearch#2286)

This improves the rolling restart tests (tests different paths in
different ways) and aligns the upgrade code with the 5.6 branch from

Relates elastic/x-pack-elasticsearch#2238

Original commit: elastic/x-pack-elasticsearch@01b095455876ea45ea2f7df34e18dfd7014f393a
