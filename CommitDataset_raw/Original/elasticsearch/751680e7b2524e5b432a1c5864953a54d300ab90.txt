Moves more classes over to ToXContentObject/Fragment (elastic/x-pack-elasticsearch#2283)

Original commit: elastic/x-pack-elasticsearch@73c6802523ff91eeaaa3da58d4da3eed8acddcda
