Eliminate array access in tight loops when profiling is enabled. (#24959)

This makes profiling classes acquire a timer up-front that can be then reused
across all calls, in order to save bound checks for methods that are called in
tight loops.