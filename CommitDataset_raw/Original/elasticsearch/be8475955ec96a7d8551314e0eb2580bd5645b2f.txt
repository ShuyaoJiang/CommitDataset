Scripting: Use ParameterMap for deprecated ctx var in update scripts (#34065)

This commit removes the sysprop controlling whether ctx is in params for
update scripts and replaces it with use of the new ParameterMap, which
outputs a deprecation warning whenever params.ctx is used.