Tests: Remove use of joda time in some tests (#31922)

This also extends the dateformatters test to ensure that the printers
are acting the same in java time and joda time.