Post backport of #29658.
