Adds JavaDocs and comments and small refactoring
