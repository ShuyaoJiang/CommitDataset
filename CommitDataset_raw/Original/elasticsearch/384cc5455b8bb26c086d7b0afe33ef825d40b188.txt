Add core coordination algorithm for cluster state publishing  (#32171)

Adds the core coordination algorithm that guarantees safety for cluster state publishing. This is a
straight-forward port of the transition rules from the formal model at
https://github.com/elastic/elasticsearch-formal-models/blob/master/ZenWithTerms/tla/ZenWithTerms.tla