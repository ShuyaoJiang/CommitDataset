Remove assumption about how the timeout feature is implemented.

Original commit: elastic/x-pack-elasticsearch@7a4fa000c1694d81a5d46e745736592f80d65016
