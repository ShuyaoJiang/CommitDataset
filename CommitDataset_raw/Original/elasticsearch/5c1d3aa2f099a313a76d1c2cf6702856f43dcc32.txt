Painless: Fixes a null pointer exception in certain cases of for loop usage (#28506)

The initializer and afterthought were not having their types
appropriately cast which is necessary with expressions which in turn
caused values to be popped off the stack that were null.