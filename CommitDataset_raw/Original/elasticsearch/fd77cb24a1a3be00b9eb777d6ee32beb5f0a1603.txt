Fix conventions

License, make test case abstract.

Original commit: elastic/x-pack-elasticsearch@a2840e8c8f3894e02c28aa54e01863edb29a1949
