Consolidate version numbering semantics (elastic/x-pack-elasticsearch#3078)

Fixes to the build system, particularly around BWC testing, and to make future
version bumps less painful.

Original commit: elastic/x-pack-elasticsearch@a1d456f30a19b6444d833aac17a36c558e193bfc
