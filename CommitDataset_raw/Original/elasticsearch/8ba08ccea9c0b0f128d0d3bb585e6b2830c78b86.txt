[TEST] Create checkout directory on Windows before trimming path

The getShortPathName method can only be used on a directory that actually exists, otherwise it will fail with a cryptic message.

Original commit: elastic/x-pack-elasticsearch@44552dcfc8be399b147eb34606dc22145e921824
