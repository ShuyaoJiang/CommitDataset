Enable IndexActionTests and WatcherIndexingListenerTests (#38738)

fix tests to use clock in milliseconds precision in watcher code
make sure the date comparison in string format is using same formatters
some of the code was modified in #38514 possibly because of merge conflicts

closes #38581