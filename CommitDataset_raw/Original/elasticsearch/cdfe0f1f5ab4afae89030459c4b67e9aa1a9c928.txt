Revert "Revert "Merge branch 'feature/sql'""

This reverts commit elastic/x-pack-elasticsearch@cc79e199112db85b08a6e0682b123bb2a82445e8.

We'll merge this when we're good and ready.

Original commit: elastic/x-pack-elasticsearch@b3ef4f2836eda281bce7c3c2c1730933d868efa9
