test: do not use deprecated shard preferences (elastic/x-pack-elasticsearch#2630)

This commit makes sure that we won't use the deprecated shard
preferences.

Relates elastic/elasticsearch#26335

Original commit: elastic/x-pack-elasticsearch@273e968407d428b1b70157f4799f8d0fa61d9147
