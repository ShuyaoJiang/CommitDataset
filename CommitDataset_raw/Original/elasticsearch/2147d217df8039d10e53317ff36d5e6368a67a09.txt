Wrap stream passed to createParser in try-with-resources (elastic/x-pack-elasticsearch#4055)

This wraps the stream (`.streamInput()`) that is passed to many of the
`createParser` instances in the enclosing (or a new) try-with-resources block.
This ensures the `BytesReference.streamInput()` is closed.

Relates to elastic/x-pack-elasticsearch#28504

Original commit: elastic/x-pack-elasticsearch@7546e3b4d470510892576df24cdf3bb010714ac0
