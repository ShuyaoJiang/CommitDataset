Compute the took time of the query after the expand phase (#24902)

The took time computed for search requests does not take in account the expand search phase.
This change delays the computation to after the expand phase finishes.

Relates #24900