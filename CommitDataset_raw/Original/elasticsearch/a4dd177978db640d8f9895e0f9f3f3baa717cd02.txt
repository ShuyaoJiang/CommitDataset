Migrates ToXContent classes (elastic/x-pack-elasticsearch#2024)

* Migrates ToXContent classes

* review comments

Original commit: elastic/x-pack-elasticsearch@74ce3755ab99ef9ad50124e3ad6fc02212769286
