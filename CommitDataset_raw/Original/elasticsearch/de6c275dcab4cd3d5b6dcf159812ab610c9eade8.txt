Refactor/to x content fragments2 (elastic/x-pack-elasticsearch#2329)

* Moves more classes over to ToXContentObject/Fragment

* Removes ToXContentToBytes

* Removes ToXContent from Enums

* review comment fix

* slight change to use XContantHelper

Original commit: elastic/x-pack-elasticsearch@0f2d3f328b3cb39f2e8f09ec6055f1376981c791
