[Security] Apply validation when parsing certgen input (elastic/x-pack-elasticsearch#2711)

When certgen configuration was read from an input file (`-in` option) validation errors were collected but never reported. Depending on the type of error this may have caused the tool to exit with an internal error (e.g. NPE).

Validation is now applied after parsing the file and if errors are found the tool exits.

Original commit: elastic/x-pack-elasticsearch@b2262ed1d7252d446d719c3eab33d8193954760e
