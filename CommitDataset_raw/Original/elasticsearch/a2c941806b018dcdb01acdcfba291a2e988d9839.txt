Tests: Add support for custom contexts to mock scripts (#34100)

This commit adds the ability to plug in compilation of custom contexts
in mock script engine. This is needed for testing plugins which add
custom contexts like watcher.
