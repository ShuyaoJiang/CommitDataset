Remove BytesArray and BytesReference usage from XContentFactory (elastic/x-pack-elasticsearch#4158)

This is the x-pack side of https://github.com/elastic/elasticsearch/pull/29151

Original commit: elastic/x-pack-elasticsearch@be713380570eb1fdf41860a731fdd673835aac9a
