Selectors operate on channel contexts (elastic/x-pack-elasticsearch#3803)

This is related to elastic/elasticsearch#28468. It is a compatibility
commit to ensure that x-pack is compatible with those changes.

Original commit: elastic/x-pack-elasticsearch@3ddf719adcaccf3d3133e371455f324680c009bd
