Raise IllegalArgumentException if query validation failed (#26811)

Closes #26799