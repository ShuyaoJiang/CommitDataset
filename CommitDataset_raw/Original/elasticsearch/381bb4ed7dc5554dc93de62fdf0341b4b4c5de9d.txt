add a test case to ensure NaN's aren't accepted (elastic/x-pack-elasticsearch#2395)

Original commit: elastic/x-pack-elasticsearch@72879c4f7c12ab7aa1f2ef212bc19ca0ddec17fc
