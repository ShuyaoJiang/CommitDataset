SQL: Adapt to compile and runtime Java home distinction

Relates elastic/x-pack-elasticsearch#3477

Original commit: elastic/x-pack-elasticsearch@5791617988b73beb78230f92adc2b2c1e0345aed
