[Test] Minor changes to rank_eval tests (#29577)

Removing an enum in favour of local constants to simplify tests and
removing a few deprecated method calls and warnings.