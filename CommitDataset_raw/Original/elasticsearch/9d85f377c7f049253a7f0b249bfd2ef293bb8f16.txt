Test: update the branch logic for BWC tests

This commit updates the logic for determining which branch to use to make it consistent with the
logic in elasticsearch. This change means that testing BWC within the same major picks the correct
branch.

Original commit: elastic/x-pack-elasticsearch@2d75d15c41bb755a0a41ae255777fe6ce8fdf5b7
