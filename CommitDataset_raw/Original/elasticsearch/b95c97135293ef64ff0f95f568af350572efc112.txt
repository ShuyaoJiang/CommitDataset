More logging in the rolling-upgrade `waitWithAuth` (elastic/x-pack-elasticsearch#3908)

Previously this could fail without logging anything, if there was no
exception thrown. Now it records the last status code as well as the last
exception, and logs something either way.

Original commit: elastic/x-pack-elasticsearch@753333e579e1d999843bac896d36461295800045
