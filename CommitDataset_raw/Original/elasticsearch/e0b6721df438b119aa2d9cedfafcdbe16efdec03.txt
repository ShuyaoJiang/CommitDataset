Add dedicated test for chain replication (#34497)

This commit adds a dedicated test that chain replication leader ->
middle -> follow is successful.
