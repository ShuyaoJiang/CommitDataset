Reworking javadocs, minor changes in some implementation classes
