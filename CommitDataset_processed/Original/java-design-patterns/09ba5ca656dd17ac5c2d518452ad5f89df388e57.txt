Work on #403, added class diagrams and javadocs
