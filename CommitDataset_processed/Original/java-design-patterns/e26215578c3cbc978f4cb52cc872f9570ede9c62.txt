Changing code to use interfaces instead of implementations.
