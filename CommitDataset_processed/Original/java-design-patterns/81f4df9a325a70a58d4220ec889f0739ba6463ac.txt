Merge pull request #617 from mookkiah/issue_587_reader-writer-lock
