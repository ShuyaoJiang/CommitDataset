Use AtomicInteger instead of local synchronization around int field
