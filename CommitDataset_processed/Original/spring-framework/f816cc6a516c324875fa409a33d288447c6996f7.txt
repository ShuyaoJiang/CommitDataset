Add CompletableFuture/Single/Promise support
