Update Codec API to use Map<String, Object> for hints
