refactor a collection of step-related things + shrink_step
