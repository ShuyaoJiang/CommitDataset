Handle terms query when detecting if a query can match nested docs (#34072)
