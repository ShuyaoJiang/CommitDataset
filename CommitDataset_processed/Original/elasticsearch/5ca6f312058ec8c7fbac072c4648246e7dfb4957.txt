Move precommit task implementation to java (#33407)
