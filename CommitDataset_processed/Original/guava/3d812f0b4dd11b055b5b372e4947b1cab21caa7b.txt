Add a state transition listening mechanism to Service and implement in AbstractService.
