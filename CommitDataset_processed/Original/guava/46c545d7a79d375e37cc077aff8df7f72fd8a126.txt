Optimize GCD implementation to use fewer branches for ~25% speedup.
