Move validation of arguments out of synchronized block
