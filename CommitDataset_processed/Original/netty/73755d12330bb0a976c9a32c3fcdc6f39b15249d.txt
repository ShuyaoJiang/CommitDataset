[#1729] Let StringEncoder extend MessageToMessageEncoder and so safe a memory copy
