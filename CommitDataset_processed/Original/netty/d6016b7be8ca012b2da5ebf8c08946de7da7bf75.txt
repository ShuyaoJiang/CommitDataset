[#3457] Proper fix for IllegalStateException caused by closed file descriptor / channel
