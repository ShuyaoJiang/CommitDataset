Cherry-pick 398d06e
