Better fix for concurrency issue
