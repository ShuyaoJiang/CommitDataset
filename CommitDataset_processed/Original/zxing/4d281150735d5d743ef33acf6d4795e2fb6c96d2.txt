C++ 1D/cleanup first pass
