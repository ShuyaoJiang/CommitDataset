core: fix type detection for method arguments
