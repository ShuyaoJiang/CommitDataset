fix: additional checks for loop exit edges and 'for' conversion (#483)
