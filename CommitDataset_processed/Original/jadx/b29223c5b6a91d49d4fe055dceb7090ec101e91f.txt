core: fix enum processing order, remove synchronization (#257)
