core: fix 'if' processing in 'do/while' loop
