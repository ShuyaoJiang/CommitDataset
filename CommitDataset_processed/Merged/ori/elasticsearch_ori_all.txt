Remove leftover license files (elastic/x-pack-elasticsearch#3746)
TEST: makes sure to corrupt referenced tlog files (#27546)
Adjust to xcontent being a separate lib (elastic/x-pack-elasticsearch#4259)
Replace IndexMetaData.Custom with Map-based custom metadata (#32749)
Remove unused generic type for client execute method (#31444)
Restore local history from translog on promotion (#33616)
Use default memory lock setting in testing (#40730)
Upgrade icu4j for the ICU analysis plugin to 59.1 (#25243)
Fix incorrect getColumnClassName
Deprecate the suggest metrics (#29627)
Watcher: Ensure all internal search requests count hits (#36697)
[DOCS] Re-enabled graph API example testing.
[Build] make sure there are no duplicate classes in third party audit (#34213)
[test] port archive distribution packaging tests (#31314)
[CCR] Improve retry mechanism when making remote calls from shard follow task (#31930)
Pre-populate unicast hosts files (#35136)
Reorganize configuring Elasticsearch docs
Transpose expected and actual, and remove duplicate info from message. (#27515)
Converting Derivative Pipeline Agg integration test into AggregatorTestsCase. (#38679)
HLRC: Add Get Lifecycle Policy API to HLRC (#33323)
Ensure changes requests return the latest mapping version (#37633)
Migrate Streamable to writeable for index package (#37381)
[PkiRealm] Invalidate cache on role mappings change (#31510)
Remove aliases resolution limitations when security is enabled (#31952)
Use `CcrRepository` to init follower index (#35719)
HLRC: Add Delete License API (#32586)
Remove DocumentFieldMappers#simpleMatchToFullName. (#31041)
Fix failure for validate API on a terms query (#29483)
completely drop `index.shard.check_on_startup: fix` for 7.0 (#33194)
[ML] Cap default model_memory_limit in the ML info API (elastic/x-pack-elasticsearch#4249)
[DOCS] Remove ML validate APIs (elastic/x-pack-elasticsearch#1801)
[DOCS] Fix wrapped lines in code blocks of TLS getting started guide
Fix incorrect references to 'zero_terms_docs' in query parsing error messages. (#29599)
[ML] Enable reusing field extraction logic when no time field is required (#35100)
SQL: Relax RemoteFailure parsing so that it also parses error metadata (elastic/x-pack-elasticsearch#3938)
Represent lists as actual lists inside Settings (#26878)
[Elasticsearch Monitoring] Collect only display_name (for now) (#35265)
SQL: XPack FeatureSet functionality (#35725)
converting ForbiddenPatternsTask to .java (#36194)
Avoid self-deadlock in the translog (#29520)
[test] dont skip last version for mad
[ML] Add support for mutli-job/multi-datafeed APIs (elastic/x-pack-elasticsearch#2079)
Corrected aggregation name to match the example (#33786)
[CCR] Change FollowIndexAction.Request class to be more user friendly (#33810)
[test] remove Streamable serde assertions (elastic/x-pack-elasticsearch#4261)
[TEST] Fix testReplicaTermIncrementWithConcurrentPrimaryPromotion
Ensure to generate identical NoOp for the same failure (#33141)
Build: Consolidate archives and packages configuration (#28760)
Backport replica rollback to 6.2 (#28181)
Mute testExpiredApiKeysDeletedAfter1Week (#38684)
[Test] Handle file permissions for Windows (#32681)
Remove legacy MetaDataStateFormat (#31603)
Adds another test
Turn off real-mem breaker in single node tests
Merge branch 'master' into ccr
Test that rank_eval request parsing is not lenient (#28516)
Merge branch 'master' into index-lifecycle
TESTS: Stabilize Renegotiation Test (#33943)
Fail rest tests on yaml files (#24740)
Merge remote-tracking branch 'elastic/master' into feature/sql
Core: Move helper date formatters over to java time (#32504)
Introduce Maintenance Mode to ILM (#31164)
Remove cluster state size (#40061)
HLRC: Reindex should support `requests_per_seconds` parameter (#33808)
Retain originalIndex info when rewriting FieldCapabilities requests (#27761)
Accept BootstrapContext in xpack (elastic/x-pack-elasticsearch#2486)
Merge remote-tracking branch 'elastic/master' into zen2
[test] mute RemoveCorruptedShardDataCommandIT
Merge branch 'master' into feature/client_aggs_parsing
[TEST] Fix TransportReplicationActionTests.testRetryOnReplica for replica request (#24745)
[ML] DeleteExpiredDataAction should use client with origin (#30646)
Fix line length for bootstrap/client/discovery/gateway files (#34905)
fix actions to reflect changes in master
Fix DateFormatters.parseMillis when no timezone is given (#39100)
Add remote cluster infrastructure to fetch discovery nodes. (#25123)
Serialize and expose timeout of acknowledged requests in REST layer (#26189)
[Tests] Fix rare edge case in SimpleQueryStringBuilderTests (#35201)
[DOCS] Reformatted machine learning overview (elastic/x-pack-elasticsearch#3346)
Remove XPackDeleteByQueryAction BWC (elastic/x-pack-elasticsearch#1400)
SQL: Don't put aggs only queries into scroll context
[CCR] Added HLRC support for pause follow API (#35216)
Remove use of AbstractComponent in server (#35444)
SQL: Switch to URI parsing (elastic/x-pack-elasticsearch#3108)
Rankeval: Fold template test project into main module (#31203)
SQL: Remove slightly used meta commands (#37506)
Add common-analysis plugin to several xpack integ tests (elastic/x-pack-elasticsearch#2501)
Adds metadata to rewritten aggregations (#28185)
fix test
[DOCS] Removes redundant authorization pages
Fix _host based require filters (#38173)
HLRC: ML Adding get datafeed stats API (#34271)
TOKEN_SERVICE_ENABLED_SETTING enabled if HTTP_SSL_ENABLED (elastic/x-pack-elasticsearch#2321)
[ML] Fix a race condition simultaneous close requests are made for a job (elastic/x-pack-elasticsearch#2913)
Merge branch 'master' into ccr
Ensure that max seq # is equal to the global checkpoint when creating ReadOnlyEngines (#37426)
[Tests] Use XPack Usage API to verify Monitoring exporters are disabled (elastic/x-pack-elasticsearch#2648)
Clear send behavior rule in CloseWhileRelocatingShardsIT (#38159)
Fix typos in comment in RemovePluginCommand
[ML] Refresh index after delete (elastic/x-pack-elasticsearch#1675)
Use system context for cluster state update tasks (#31241)
Spelling: correct wrong spellings of similar (#37054)
Logging improvements in CoordinatorTests (#33991)
Unmute testHistoryUUIDIsGenerated
Fix CreateSnapshotRequestTests Failure (#31630)
[Monitoring] Reduce NodeStats Collection to required Data (elastic/x-pack-elasticsearch#1240)
Merge remote-tracking branch 'elastic/master' into ccr
Mute ClusterPrivilegeTests.testThatSnapshotAndRestore
Merge branch 'master' into feature/sql
MINOR: Cleanup Dead Code in Snapshots Package (#36528)
MinimumMasterNodesIT changed for Zen2 (#37428)
[ML] Use bulk request to persist model plots  (elastic/x-pack-elasticsearch#1714)
Register correct response for `can_match` proxy response
Add a task to run forbiddenapis using cli (#32076)
docs:  updated java client api to take this into account too to take into account the p/c queries are in parent-join module
Remove leftover doc about format being updatable
Add Cluster Put Settings API to the high level REST client (#28633)
Mute SpanMultiTermQueryBuilderTests#testToQuery
Introduce elasticsearch-env
Replicate writes only to fully initialized shards (#28049)
Painless: Fix bug for static method calls on interfaces (#31348)
No mapper service and index caches for replicated closed indices (#40423)
Remove support for internal versioning for concurrency control (#38254)
Cleanup Deadcode in Rest Tests (#37418)
[Zen2] Reduce cluster scope in NodeDisconnectIT (#36168)
Update BucketUtils#suggestShardSideQueueSize signature (#33210)
Get Mapping API to honour allow_no_indices and ignore_unavailable (#31507)
Test: Convert rolling upgrade test to have task per wire compat version (#24758)
Fixing typo in test error message (#40611)
Revert "Mutes MachineLearningTests.testNoAttributes_givenSameAndMlEnabled"
[ML] Kill autodetect on force close and isolated node rejoining (elastic/x-pack-elasticsearch#1742)
Remove TLS 1.0 as a default SSL protocol (#37512)
Build: Fix official plugins list (#35661)
Merge branch 'master' into ccr
Plugins: Add validation to plugin descriptor parsing (#27951)
Unmute testClusterJoinDespiteOfPublishingIssues and testElectMasterWithLatestVersion (#38555)
TEST: Add debug log to FlushIT
Remove reinitShadowPrimary (#26349)
CharArraysTests: Fix test bug.
Extend wait time to 20s in SecurityIntegTest
Check timeZone() argument in AbstractSqlQueryRequest (#31822)
Introduce retention lease persistence (#37375)
Painless: Add PainlessClassBuilder (#32141)
Move VersionProperties and Version to min runtime (#36378)
Enable skipping fetching latest for BWC builds (#29497)
Zen2: Rename tombstones to exclusions (#36226)
Version conflict exception message enhancement (#29432)
Gather votes from all nodes (#34335)
Re-deprecate xpack rollup endpoints (#36451)
Move caching of the size of a directory to `StoreDirectory`. (#30581)
Merge branch 'master' into ccr
MasterNodeChangePredicate should use the node instance to detect master change (#25877)
Add setting for the LDAP user search filter and deprecate user attribute (elastic/x-pack-elasticsearch#1959)
SQL: Perform lazy evaluation of mismatched mappings (#35676)
Rename certutil
Revert "Tests: Disable NIO transport mechanism in tests"
Mute SignificantTermsAggregatorTests#testSignificance()
Disable date parsing test in non english locale (#39052)
[DOCS][TESTS] Don’t randomise content type for docs tests. (elastic/x-pack-elasticsearch#3058)
Adapt create_bwc_indexes.py to new monitoring index structure
Fixes SetSingleNodeAllocateStepTests so the allocated node is always
Switch full-cluster-restart to new style Requests (#32140)
[ML] Give test jobs meaningful names (elastic/x-pack-elasticsearch#1508)
Index phrases (#30450)
Restoring from snapshot should force generation of a new history uuid (#26694)
Fix unreachable error condition in AmazonS3Fixture (#32005)
Introduce multi-release JAR
LLClient: Fix assertion on windows
Merge master into zen2
SQL: Introduce SQL TIME data type (#39802)
Deprecate use of type in reindex request body (#36823)
Docs fix - missing callout
Allow Uid#decodeId to decode from a byte array slice (#26987)
add dummy test to LicensingTribeIT for build to pass (elastic/x-pack-elasticsearch#2627)
[TEST] Force flush to ensure multiple segments.
[TEST] Wait for correct template version in rolling upgrade tests (elastic/x-pack-elasticsearch#1682)
[Test] mute MonitoringIT#testMonitoringService
Check that client methods match API defined in the REST spec (#31825)
Removed the beta tag from cross-cluster search
Reindex: log more on rare test failure
NETWORKING: Upgrade Netty 4.3.31.Final (#35877)
[ML] Align special events with buckets (elastic/x-pack-elasticsearch#3258)
Update authenticate to allow unknown fields (#37713)
Pass jdbc fetch size to the scroller
Avoid concurrent snapshot finalizations when deleting an INIT snapshot (#28078)
Fix incorrect geohash for lat 90, lon 180 (#29256)
Make Painless Compiler Use an Instance Per Context (#24972)
Zen2ify RareClusterStateIT (#38184)
Merge branch 'master' into index-lifecycle
Remove OpenLdapTests.testTcpTimeout (#39081)
Add get stored script and delete stored script to high level REST API (#31355)
 RoutingMissingException in more like this (#33974)
Fix Watcher NotificationService's secure settings (#35610)
Remove redundant method from RestClearScrollAction (#34268)
Relax remote check for bwc project checkouts (#28666)
[DOCS] Update doc links for ML APIs (elastic/x-pack-elasticsearch#1882)
Add dedicated retention lease exceptions (#38754)
Ensure logging is configured for CLI commands
HLRC: Adding Update datafeed API (#34882)
Upgrade forbiddenapis to 2.6 (#33809)
Merge branch 'master' into index-lifecycle
Merge branch 'master' into index-lifecycle
More refinement of version is compatible test
[ML][TEST] Increase timeout in MlDailyManagementServiceTests
Move generic http settings out of netty module (#26310)
Add parsing method for Top Hits aggregation (#24717)
SQL: fall back to using the field name for column label (#38842)
Revert "ingest: processor stats (#34202)"
[ML] Refactor DataStreamDiagnostics to use array (#30129)
Tasks: Only require task permissions (#35667)
Merge branch 'master' into feature/client_aggs_parsing
Merge remote-tracking branch 'elastic/master' into ccr
Add contains method to LocalCheckpointTracker (#33871)
replaces cause with boolean
[ML] Disallow creating a job against a closed results or state index (elastic/x-pack-elasticsearch#2186)
fix packages after merge
[ML] Fix compilation errors after Version changes
Add cors support to NioHttpServerTransport (#30827)
Split transport implementations into client/server
Add a multi-node test to sql (elastic/x-pack-elasticsearch#2136)
update AWS SDK for ECS Task IAM support in discovery-ec2 (#26479)
Change licence expiration date pattern (#39681)
Optimize Bulk Message Parsing and Message Length Parsing (#39634)
Introduce CCR container class
[DOCS] Added index-shared4 and index-shared5.asciidoc
Update context-suggest.asciidoc
[Monitoring] Remove support for setting interval -1 (elastic/x-pack-elasticsearch#4035)
Remove support for indices with multiple types
Move testToUtc test to DateFormattersTests (#38610)
Backport periodic flush count to v6.3.0
Prevent nodes from joining a non-TLS enabled cluster with a production license (elastic/x-pack-elasticsearch#2484)
Removes redundent NORELEASES and ObjectParserUtils (#32427)
Test: Fix test name (#33510)
Rename internal repository actions to be internal (#36244)
Introduce global checkpoint listeners (#32696)
Do not count shard changes tasks against REST tests (#33738)
Logging: Make ESLoggerFactory package private (#34199)
[TEST] Mute MlMigrationFullClusterRestartIT
Add elasticsearch-nio jar for base nio classes (#27801)
SQL: Add toXcontent test for SqlResponse (elastic/x-pack-elasticsearch#2726)
Do not test the ingest date processor against random locales.
Fix upgrading indices which use a custom similarity plugin. (#26985)
Backport wait_for_initialiazing_shards to cluster health API
SQL: Return error with ORDER BY on non-grouped. (#34855)
[TEST] fix flaky ILM tests (#36612)
Adds rollover step and implements RolloverAction.toSteps
Add ignore_malformed to geo_shape fields
Update version to 7.0.0-alpha1 (#25876)
Scripting: Remove search template actions (#25717)
Merge branch 'master' into feature/sql
SQL: Allow long literals (#31777)
All Translog inner closes should happen after tragedy exception is set (#32674)
[GEO] fix pointsOnly bug for MULTIPOINT
Temporarily disable SecurityIndexSearcherWrapperIntegrationTests
[DOCS] Update APIs grouping and ordering in REST high-level Client docs (#28497)
SQL: replace JDBC transport meta columns with SQL call (elastic/x-pack-elasticsearch#3740)
Add licensing enforcement for FIPS mode (#32437)
S3 Repository: Remove deprecated settings (#24445)
[CI] Fixes testQueryRandomGeoCollection failure again (#39275)
Add an option to split keyword field on whitespace at query time (#30691)
[Test] Remove duplicate method in TestShardRouting (#32815)
Move number of language analyzers to analysis-common module (#31143)
[CCR] Rename leaderClient variables and parameters to remoteClient (#35368)
Add beta label to MSI on install Elasticsearch page (#28126)
Bump Gradle heap to 2 GB (#30535)
Removed unused method, that accidentally got back in after merging master in yesterday.
Adds average document size to DocsStats (#27117)
Improve CloseWhileRelocatingShardsIT (#37348)
Make remote cluster resolution stricter (#40419)
[DOCS] Cleanup link for ec2 discovery (#26222)
TEST: Mute testMonitorClusterHealth
[Test] Fix DocumentLevelSecurityTests and FieldLevelSecurityTests to work with the new format of the parent-join field
Add get file chunk timeouts with listener timeouts (#38758)
Tests: Improve size regex in documentation test (#26879)
fix error with SecurityDocumentationIT#testGetUsers
[TEST] Test for shard failures, add debug to testProfileMatchesRegular
[WIP] Ingest Attachement: Upgrade tika to v1.19.1 (#33896)
ML allow aliased .ml-anomalies* index on PUT Job (#38821)
Add sanity interruption assertion
Fixed bug that mapper_parsing_exception is thrown for numeric field with ignore_malformed=true when inserting "NaN", "Infinity" or "-Infinity" values (#25967)
[ML] Rename log structure to file structure (#33421)
Require soft-deletes when access changes snapshot (#36446)
Add byte and Byte to Painless standard cast tests (#39415)
SQL: Fix multi-line CLI commands to join correctly (elastic/x-pack-elasticsearch#3516)
Core: Drop settings member from AbstractComponent (#35083)
Guard against null in email admin watches (#32923)
Tidies up unit tests
MINOR: Cleanup Dead Code in o.e.c.metadata Package (#36587)
Remove security filter, replaced by get index api call which returns filtered mappings
Allow ILM to stop if indices have nonexistent policies (#40820)
Remove two more NOCOMMITS from SQL
Remove newline from log message (#27425)
[ML] Support multiple rule actions and renames (elastic/x-pack-elasticsearch#3356)
Use fixture to test repository-url module (#29355)
Add support for switching distribution for all integration tests (#30874)
Adjust soft-deletes version after backport into 6.5
[ML] Reduce persistent tasks periodic reassignment interval in ... (#36845)
Ensure LuceneChangesSnapshot close once
Remove leftover mention of file-based scripts
TESTS: Remove Dead Code in Test Infra. (#34548)
AwaitsFix flaky integration test we should revisit
[Rollup] Remove builders from HistoGroupConfig (#32533)
percolator: Use QueryBuilder.rewriteQuery(...) to rewrite query builder instead of QueryBuilder.rewrite(...)
Merge branch 'master' into ccr
[DOCS] Correct over field usage for freq rare function (elastic/x-pack-elasticsearch#3435)
Merge remote-tracking branch 'upstream/master' into index-lifecycle
Add non-X-Pack centric rollup endpoints (#36383)
[Doc] Fixs typo in reverse-nested-aggregation.asciidoc (#28348)
[Kerberos] Find if port is available before using it for Kdc server (#36192)
LLREST: Add PreferHasAttributeNodeSelector (#36005)
Fixed page breaks for ICU Collation Keyword Fields
SQL: Verify GROUP BY ordering on grouped columns (#30585)
Add a scheduled translog retention check (#25622)
[ML] Get events for job and from all calendars (elastic/x-pack-elasticsearch#3401)
Merge remote-tracking branch 'elastic/master' into feature/sql
Replica start peer recovery with safe commit (#28181)
ActiveShardCount should not fail when closing the index (#35936)
Merge branch 'master' into close-index-api-refactoring
Remove the assemble task from projects not published (elastic/x-pack-elasticsearch#1721)
Mutes LicensingDocumentationIT due to #32580
[Test] Do not rely on MockZenPing for Azure tests (#27945)
Remove Hipchat support from Watcher (#39199)
[ML] Fix find_file_structure NPE with should_trim_fields (#35465)
[DOCS] Added forecast limitations (elastic/x-pack-elasticsearch#3503)
HLRC: Split ILM request converters (#34759)
Remove clusterAlias instance member from QueryShardContext (#37923)
Native roles store uses mget to retrieve roles (#33531)
Add support for merging multiple search responses into one (#37566)
Third party audit improovements (#36167)
Tasks: Document that status is not semvered (#34270)
Adds Eclipse config for xpack licence headers (#30299)
Introduce private settings (#33327)
Add intervals query (#36135)
log the existing indices instead of entire Metadata and
Upgrade to Joda 2.10.1 (#35410)
[ML] Data Frame HLRC Get API (#40209)
Verify Lucene version constants
Add MultiSearchTemplate support to High Level Rest client (#30836)
Painless: Clean up PainlessMethod (#32476)
REST high-level client: add get index API (#31703)
Merge branch 'master' into close-index-api-refactoring
[TEST] Adds mutate function to some tests (elastic/x-pack-elasticsearch#2263)
Persistent Tasks: remove listener from PersistentTasksExecutor#nodeOperation (#1032)
Remove date from rest resp for non-exp licenses (elastic/x-pack-elasticsearch#4149)
[DOCS] for audit filtering (elastic/x-pack-elasticsearch#3594)
Docs: Fix callouts after _parent removed
Watcher: Fix check for currently executed watches (#31137)
Core: Convert TransportAction.execute uses to client calls (#31487)
Only log one types warning per bulk search request. (#37446)
disallow deleting lifecycle policies that are referenced by existing indices (#3806)
[Tests] Change cluster scope in CorruptedFileIT and FlushIT (#37229)
Geo: Do not normalize the longitude with value -180 for Lucene shapes (#37299)
Improve message when JAVA_HOME not set (#32022)
Watcher: Hide credentials/secret data of integrations in toXContent (elastic/x-pack-elasticsearch#4162)
[Test] Prefer ArrayList over Vector (#30965)
Fix Two Races that Lead to Stuck Snapshots (#37686)
Collapse REST resize handlers (#30229)
Correct implemented interface of ParsedReverseNested (#35455)
LOGGING: Upgrade to Log4J 2.11.1 (#32616)
Remove InternalClient and InternalSecurityClient (elastic/x-pack-elasticsearch#3054)
[TEST] Fix HLRC using pre-rename endpoint for setting lifecycle policy
Remove usage of types in rank_eval endpoint
Require JDK 9 for compilation (#28071)
Add cluster UUID to Cluster Stats API response (#32206)
Handle deprecation warnings in a permissive manner
Tests: Ensure responses are closed in watch backwards compat tests
[ML] snapshot_id is required when reverting a model snapshot (elastic/x-pack-elasticsearch#2641)
Support changing name of core module to server (elastic/x-pack-elasticsearch#3532)
 Transition transport apis to use void listeners (#27440)
Add Get Settings API support to java high-level rest client (#29229)
Remove UpdateSettingsTestHelper class (#32557)
Fix NPE in InternalGeoCentroidTests#testReduceRandom (#29481)
Merge branch 'master' into index-lifecycle
Move repository-azure fixture test to QA project (#30253)
[ML] Require job to have explicit data_description (elastic/x-pack-elasticsearch#1411)
Do not optimize append-only if seen normal op with higher seqno (#28787)
Remove legacy help files (elastic/x-pack-elasticsearch#4343)
change default indices.lifecycle.poll_interval to something sane (#32521)
Add notice for bundled jdk (#40576)
Ensure sendBatch not called recursively (#39988)
ElasticsearchMergePolicy extend from MergePolicyWrapper (#29476)
[ML] Consistent pattern for strict/lenient parser names (#32399)
Remove deprecation warnings to prepare for Gradle 5 (sourceSets.main.output.classesDirs) (#30389)
[TEST] Fix testOpenWaitingForActiveShardsFailed
SQL: Refactor package names of sql-proto and sql-shared-proto projects (#31622)
Nitfix for SecurityDocumentationIT dad6f1c9fe
Core: Deprecate use of scientific notation in epoch time parsing (#36691)
Test: Mute failing SSL test
Fixes NPE in multi node qa testt
Fix composite aggregation when after term is missing in the shard (#27936)
Restore assertion on discount overlaps in SimilarityTests
Merge branch 'master' into index-lifecycle
[Zen2] Generate coordinationMetaData with different configs (#35991)
SCRIPTING: Move terms_set Context to its Own Class (#33602)
Merge commit '3522b9084b611c89ec4f06c1863542883840ed0e' into zen2
Security: don't call prepare index for reads (#34246)
RecoveryIT.testRecoveryWithConcurrentIndexing should check for 110 docs in an upgraded cluster
[Test] Change Elasticsearch startup timeout to 120s in packaging tests
Allow system privilege to execute proxied actions (#37508)
CRUD: AwaitsFix entire wait_for_refresh close test
Small improvement in InternalAggregationTestCase test setup after changes in master (#24675)
Silence SSL reload test that fails on JDK 11
Move more token filters to analysis-common module
Mute test CCRIT testIndexFollowing (#36339)
HLRC: add support for get license basic/trial status API (#33176)
Painless: Clean up FunctionRef (#32644)
[ML] Capitalize first letter in error message
SearchResponse#fromXContent to not require START_OBJECT as current token (#24794)
Upgrade to Jackson 2.9.2 (#27032)
Zen2: Persist cluster states the old way on non-master-eligible nodes (#36247)
INGEST: Tests for Drop Processor (#33430)
Deprecate the _type field in aggregations. (#37131)
ingest: grok remove duplicated patterns (#35886)
Make start/stop metods package protected
Send client headers from TransportClient (#30803)
REST Client: Add Request object flavored methods (#29623)
[ML] Allow dynamic updates to the xpack.ml.max_model_memory_limit setting (elastic/x-pack-elasticsearch#2503)
Clean up duplicate follow config parameter code (#37688)
Watcher: Fix hipchat message failure serialization (elastic/x-pack-elasticsearch#3939)
Adds code to help with IndicesRequestCacheIT failures (#33313)
Using ObjectParser in UpdateRequest (#29293)
Revert upgrade to Netty 4.1.25.Final (#31282)
Fix compilation
[DOCS] Added setup folder (elastic/x-pack-elasticsearch#2943)
Upgrade to lucene-7.0.0-snapshot-92b1783. (#25222)
Replace CAS loop by updateAndGet to improve readability
Update SSLReloadIntegTests to work with JDK11 (#34129)
Fallback to TransportMasterNodeAction for cluster health retries (#28195)
Add unreleased v6.1.1 version
Use date format in `date_range` mapping before fallback to default (#29310)
Mute failing test clusters test
Grant Netty necessary permissions
fix targetField randomization in JoinProcessorTests (#26206)
Move DocsStats into Engine (#33835)
Usability enhancements for certificate generation (elastic/x-pack-elasticsearch#2561)
[Monitoring] Allow Cluster Alerts to be disabled in LocalExporter (elastic/x-pack-elasticsearch#1808)
Java Api clean up: remove deprecated `isShardsAcked` (#28311)
Trim down usages of `ShardOperationFailedException` interface (#28312)
Fix audit index template upgrade loop (#30779)
Fix summary_count_field -> summary_count_field_name typo (elastic/x-pack-elasticsearch#2588)
Fix expectation on parsing exception (#31108)
Disable TestZenDiscovery in cloud providers integrations test
IndicesClusterStateService should replace an init. replica with an init. primary with the same aId (#32374)
Remove bwc logic for token invalidation (#36893)
Add a frozen engine implementation (#34357)
Merge branch 'master' into feature/sql
Improve error message for installing plugin (#28298)
Subclass NIOFSDirectory instead of using FileSwitchDirectory (#37140)
Switch ml basic tests to new style Requests (#32483)
Use RoleRetrievalResult for better caching (#34197)
Merge branch 'master' into ccr
Manage dependencies for test clusters (#35304)
Mute RareClusterStateIT.testDelayedMappingPropagationOnReplica (#38357)
TESTS: Set SO_LINGER = 0 for MockNioTransport (#32560)
[DOCS] Fixed xrefs to X-Pack content.
[ML] Add integration test for interim results after advancing bucket (#39447)
Promote common rest test utility methods to ESRestTestCase
First increment shard stats before notifing and potentially sending response (#25818)
Increase Timeout in #testSnapshotCanceled (#37890)
[TEST] remove endless wait in RestClientTests (#30776)
Merge remote-tracking branch 'elastic/master' into feature/sql
Fix IndexMetaData loads after rollover (#33394)
Merge branch 'master' into feature/sql
mute test, as this one is failing also per #35450 (#38132)
Expand index expressions against indices only when managing aliases (#23997)
Fix race between replica reset and primary promotion (#32442)
[CCR] Split cluster alias from leader index field into its own field in follow APIs (#34366)
Correct name of basic_date_time_no_millis (#39367)
Checkstyle PutRoleRequest
Scripting: Convert CompiledTemplate to a ScriptContext (#25032)
Test: speed up IndexPrivilegeTests (elastic/x-pack-elasticsearch#4348)
Reorganize license files
Fix a bug in FieldCapabilitiesRequest#equals and hashCode. (#30181)
IndexClosedException to return 400 rather than 403 (#25752)
Tests: Fix timezone conversion in DateTimeUnitTests
Put back lastSyncedGlobalCheckpoint in deletion policy
LLClient: Support host selection (#30523)
Loop replace with Collection.removeIf() (#36351)
[TEST] Add some ACL yaml tests for Rollup (#33035)
Remove link to oss-MSI (#31844)
[ML] fix test check as randomness allows for different hours (#40536)
Use soft-update to maintain document history (#29458)
[ML] Move consuming and closing results stream to result processor (#36314)
Remove deprecated createParser methods (#28697)
Scripting: Add default implementation of close() for ScriptEngine (#24851)
[ML] Log deprecation warning for jobs with delimited formats (elastic/x-pack-elasticsearch#3092)
[DOCS] Add Data Visualizer to the ML Getting Started tutorial (elastic/x-pack-elasticsearch#3171)
Set Lucene version upon index creation. (#36038)
Add realistic hlrc response serialization test base class (#39844)
Merge branch 'master' into zen2
Deprecate types in document delete requests. (#36087)
[Zen2] PersistedState interface implementation (#35819)
[DOCS] Fixed ml.machine_memory example testing
[Test] Use a common testing class for all XContent filtering tests (#25491)
[DOCS] Update doc links for security APIs (elastic/x-pack-elasticsearch#1883)
Rewrite search requests on the coordinating nodes (#25814)
Merge branch 'master' into index-lifecycle
Handle the 5.6.0 release
Prevent `can_match` requests from sending to incompatible nodes (#25705)
Merge branch 'master' into ccr
Fix FullClusterRestartIT.testHistoryUUIDIsAdded (#38098)
Watcher: Ensure trigger service pauses execution (#30363)
More unit tests
Lazy configure build tasks that require older JDKs (elastic/x-pack-elasticsearch#4376)
Move sql's server stuff into :x-pack-elasticsearch:sql:server
[DOCS] Move auditing settings to Elasticsearch Reference (elastic/x-pack-elasticsearch#3608)
Histogram aggs: add empty buckets only in the final reduce step (#35921)
[DOCS] Fixed broken Kibana link
TEST: Avoid triggering merges in FlushIT
Adds a new auto-interval date histogram (#28993)
TEST: use new nodes assumption in testUpdateSnapshotStatus
[DOCS] Added flow diagram for installation
[Test] Clean up some repository-s3 tests (#31601)
[CCR] Add qa test library (#34611)
Simplify analysis of `bool` queries. (#29430)
Ensure that field aliases cannot be used in multi-fields. (#32219)
Do not check for Azure container existence (#31617)
Fixes checkstyle error
Adding stack_monitoring_agent role (#34369)
Do not create directories if repository is readonly (#26909)
Apply settings filter to get cluster settings API (#33247)
Filter unsupported relation for range query builder (#26620)
[ML] Resolve 7.0.0 TODOs in ML code (#36842)
Deprecate xpack.watcher.history.cleaner_service.enabled (#37782)
Remove custom PeriodType formatting from TimeValue (#29433)
Use nio transport in test clusters (#25986)
[DOCS] Fixes section error
[Test] Fix IndicesClientDocumentationIT (#27899)
add new phase definition setting used for retrieving phase to execute (#33289)
Fix compilation errors in ML integration tests
Ingest Attachment: Upgrade Tika to 1.18 (#31252)
Watcher: Further preparations for source repo split (elastic/x-pack-elasticsearch#3006)
Fix potential NPE in `_cat/shards/` with partial CommonStats (#33858)
Take into account the return value of TcpTransport.readMessageLength(...) in Netty4SizeHeaderFrameDecoder
Skip Rollover step if next index already exists (#35168)
[ML] Unused state remover should also account for jobs in index (#37119)
Clean serialization for cli's CommandResponse
Merge branch 'master' into index-lifecycle
Muted tests.
[DOCS] Added limitation for time-based index patterns (elastic/x-pack-elasticsearch#1910)
[CI] Mute Ml rolling upgrade test for mixed cluster too
Rewrite multi search template api to delegate to multi search api instead of to search template api.
[ML] Fix wire BWC for JobUpdate (#30512)
Merge remote-tracking branch 'elastic/master' into zen2
Target only specific index in update settings test
TEST: Fix indentation in FullClusterRestartIT (#34420)
[DOCS] Replace CONFIG_DIR with ES_PATH_CONF (#31635)
Allowing {index}/_xpack/rollup/data to accept comma delimited list (#34115)
Core: Drop nodeName from AbstractComponent (#34487)
[Close Index API] Mark unavailable shard copy as stale during verification (#36755)
[BUILD] Make AWS error message more informative
Enable selecting adaptive selection stats
[DOCS] Add loopback to X-Pack install info (elastic/x-pack-elasticsearch#2237)
Unmute WildFly tests in FIPS JVM (#32814)
Add `coordinating_only` node selector (#30313)
 Migrate Streamable to Writeable for cluster block package (#37391)
refactor inner geogrid classes to own class files (#37596)
[DOCS] Added information about overall bucket scores (elastic/x-pack-elasticsearch#3333)
specify subdirs of lib, bin, modules in package (#32253)
[hlrc] add index templates exist API (#36132)
Fix Watcher stats class cast exception (#39821)
SQL: Enhance checks for inexact fields (#39427)
X-Pack-Security: Correct attribute_patterns regex in saml guide (elastic/x-pack-elasticsearch#4159)
Migrate muted auto follow rolling upgrade test and unmute this test (#38900)
[TEST] Improve diagnostics for ML interim results test failure
fix SplitProcessor targetField test (#26178)
Merge branch 'master' into index-lifecycle
[DOCS] Make clearer that xpack.xyz.enabled settings are node settings (elastic/x-pack-elasticsearch#2731)
Build: Fork javac to avoid GC overhead (#26047)
required changes after merge master branch into ccr branch.
Clarify using supported LTS versions of the Java
Fix compilation issues after merge with master
SQL: Shift sql-cli into its proper home
enable bwc tests and switch transport serialization version to 6.6.0 for CAS features
Bump jackson-databind version for ingest-geoip (#39182)
[ML][TEST] Scheduled events integration test (elastic/x-pack-elasticsearch#3555)
Remove client connections from TcpTransport (#31886)
Upgrade to Lucene-8.0.0-snapshot-aaa64d70159 (#36335)
[HLRC] Add Start/Stop Watch Service APIs. (#34317)
TransportResyncReplicationAction should not honour blocks (#35795)
[ML] Adjust file structure finder parser config (#35935)
Mute SharedClusterSnapshotRestoreIT#testSnapshotSucceedsAfterSnapshotFailure with @AwaitsFix.
Ignore failing test
Allow double aborts on bulk item requests
Watcher: Ensure emit_stacktraces parameter works in watcher stats (elastic/x-pack-elasticsearch#2399)
[Rollup] Remove builders from GroupConfig (#32614)
Clarify settings and template on create index
Merge branch 'master' into ccr
Tests: Fix TimeThrottleIntegrationTests to not rely on shard actions (elastic/x-pack-elasticsearch#2234)
Security: remove put privilege API (#32879)
Make limit on number of expanded fields configurable (#35284)
Fix an incorrect reference to 'zero_terms_docs' in match_phrase queries.
Move more token filters to analysis-common module
Removes FieldStats API (#25628)
Fail with a dedicated exception if remote connection is missing or (#37767)
Move DeleteByQuery and Reindex requests into core (#24578)
SQL: Relax StackOverflow circuit breaker for constants (#38572)
Java versions for ci (#29320)
[DOCS] Added monitoring PRs to 6.1.2 release notes (elastic/x-pack-elasticsearch#3548)
Support multiple system store types (#31650)
Fix snapshot getting stuck in INIT state (#27214)
Replaces testClassesDir with testClassesDirs in ccr build
Empty GetAliases authorization fix (#34444)
REST high-level client: add delete ingest pipeline API (#30865)
Replace Streamable w/ Writeable in BaseTasksResponse and subclasses (#36176)
Remove Deprecated Script Settings (#24756)
Always enforce cluster-wide shard limit (#34892)
Add information when master node left to DiscoveryNodes' shortSummary() (#28197)
Correctly enable _all for older 5.x indices
Switch x-pack full restart to new style Requests (#32294)
Simplify Translog#closeOnTragicEvent (#29413)
[ML] Create calendars with job groups (elastic/x-pack-elasticsearch#4308)
Fix get operations between test
Share common readFrom/writeTo code in AcknowledgeResponse (#30983)
[ML] Switch to typeless APIs in ML native multi-node tests (#39574)
Reverting change made for node group IDs (elastic/x-pack-elasticsearch#4069)
test: Do not use random index writer as test expects a single segment
Merge branch 'master' into ccr
Watcher: Fix watch history template for dynamic slack attachments (#30172)
Introduce Docker images build (#36246)
Merge branch 'master' into index-lifecycle
HLRC: Add delete watch action (#32337)
[TEST] Fix random test failure in GetWatchResponseTests
Enforce 140 char line lengths for packages action.bulk/delete/explain/get/index (#34885)
test: get upgrade status for all indices
Add log warnings for long running event handling (#39729)
[DOCS] Remove edit link from ML node
[DOCS] Fixed typo in calendar API
SQL: Make sure now() always uses milliseconds precision (#36877)
Tests: Add checks to GeoDistanceQueryBuilderTests (#34273)
Mark fail over on follower test as awaits fix
[Docs] Add rankEval method for Jva HL client
Fix SQL CLI tests in windows (elastic/x-pack-elasticsearch#2738)
`if_seq_no` and `if_primary_term` parameters aren't wired correctly in REST Client's CRUD API (#38411)
SQL: be lenient for tests involving comparison to H2 but strict for csv spec tests (#36498)
Add Ubuntu 18.04 to packaging tests (#34139)
[TEST] Fix SettingsFilterTests to also install the Security plugin
test: Run flush before upgrade and refresh after upgrade.
Remove deprecated PutIndexTemplateRequestBuilder#setTemplate (#37151)
ML: Add support for single bucket aggs in Datafeeds (#37544)
SQL: Switch JDBC to REST protocol (elastic/x-pack-elasticsearch#3543)
Remove legacy files from xpack split (elastic/x-pack-elasticsearch#3707)
Adjust bwc version for max_seq_no_of_updates
Improve exception reporting
Streamline skip_unavailable handling (#37672)
Allow to trim all ops above a certain seq# with a term lower than X, post backport fix (#31211)
Fix error message if an incompatible node connects (#24884)
Add NoOps to Lucene for failed delete ops (#33217)
[Docs] Extend common-grams-tokenfilter doctest example (#36807)
Add toString() implementation for UpdateRequest (#27997)
PkiAuthenticationTests & SslIntegrationTests should properly handle ipv6 addresses
SQL: Do not compile against matrix aggs module
Fix line length in org.elasticsearch.snapshots (#36646)
Use msearch instead of single search (#27520)
Merge branch 'master' into zen2
[TEST] Revert "Mute ForecastIT.testSingleSeries" (#37110)
Build: Set xpack to require keystore
[ML] Kill process after executor has shutdown (elastic/x-pack-elasticsearch#3958)
Add @AwaitsFix for #27890
Watcher: Reload properly on remote shard change (#33167)
[TEST] improve REST high-level client naming conventions check (#32244)
[CCR] Only auto follow indices when all primary shards have started (#35814)
Watcher: Use Bulkprocessor in HistoryStore/TriggeredWatchStore (#32490)
Tests: Fix WatchBackwardsCompatibilityIT temporarily
Rollup: Consolidate rollup cleanup for http tests (#34342)
Test: Use --illegal-access=warn for tests (#28437)
Merge branch 'master' into index-lifecycle
Add magic $_path stash key to docs tests (#24724)
[TEST] Fix flaky IndexServiceTests#testRefreshActuallyWorks
Docs: Fix typo in field name in aggregations (#34223)
[Painless] Add extensive tests for def to primitive casts (#36455)
Switch build-tools to latest target version (#34746)
Periodically try to reassign unassigned persistent tasks (#36069)
Provide useful error when a policy doesn't exist (#34206)
Refactor QueryStringQuery for 6.0 (#25646)
Remove 5x bwc in LocaleUtils#parse (#29417)
[HLRC][ML] Add delete expired data API (#35906)
Allow _update and upsert to read from the transaction log (#29264)
ingest: Add ignore_missing property to foreach filter (#22147) (#31578)
Decouple XContentGenerator and JsonXContentGenerator from BytesReference (elastic/x-pack-elasticsearch#4009)
REST client: hosts marked dead for the first time should not be immediately retried (#29230)
Fix nested _source retrieval with includes/excludes (#33180)
Fix serialization for HitExtractorProcessor
Move TimeValue into elasticsearch-core project (#29486)
Test fix - Graph vertices could appear in different orders based on map insertion sequence (#33709)
Mute testSplitFromOneToN and testCreateShrinkIndexToN on Windows
Harden periodically check to avoid endless flush loop (#29125)
test: avoid NPE
upgrade randomizedrunner to 2.7.0 (#33623)
ingest: date processor should not fail if timestamp is specified as json number
[ML] Use the correct timeout for the process context lock (elastic/x-pack-elasticsearch#2935)
[Test] Fix RepositoryURLClientYamlTestSuiteIT
Do not lose default mapper on metadata updates (#33153)
Test: remove hardcoded list of unconfigured ciphers (#30367)
HLRC: Implement get-user-privileges API (#36292)
Reenable MonitoringIT.testMonitoringService (#38332)
Build test: Thread linger
Expressions: Wrap at 140 columns (#34493)
[ML] The sort field on get records should default to the record_score (#33358)
Mute MatchPhrase*QueryBuilderTests
Update constructor for NumericAggregate classes
Add limits for ngram and shingle settings (#27211)
keep _parent field while updating child type mapping (#24407)
Fix environment-aware command tests
[CI] Mute DocumentSubsetReaderTests testSearch
Fix test after elastic/x-pack-elasticsearch#28919
Preserve `date_histogram` format when aggregating on unmapped fields (#35254)
[TEST] prevent yaml tests from using raw requests (#26044)
Removing erroneous repeat
Fix ILM Lifecycle Policy to allow unknown fields (#38041)
Correct long line length 
Skip rebalancing when cluster_concurrent_rebalance threshold reached (#33329)
[Docs] Fix parameter name (#27656)
Mute failing test on FIPS JVM (#39616)
Deprecate unicodeSetFilter in favour of unicode_set_filter  (#29215)
SQL: Fix incorrect AVG data type (#34948)
[ML] Add method to find the established memory use for a job (elastic/x-pack-elasticsearch#2449)
Add support for ccr follow info api to HLRC. (#39115)
Adds listeners to Lifecycle actions
Link to SYSTEM_JAVA_HOME on windows (#40806)
Mute SharedClusterSnapshotRestoreIT#testAbortedSnapshotDuringInitDoesNotStart (#38304)
SQL: Internal refactoring of operators as functions (#34097)
SQL: Adjust the precision and scale for drivers (#40467)
Remove assemble from build task when assemble removed
[ML] Add missing mappings on job open (elastic/x-pack-elasticsearch#1563)
Merge branch 'master' into feature/sql
[ML] Rename JobProvider to JobResultsProvider (#32551)
Painless: Move and Rename Several Methods in the lookup package (#32105)
Test: Allow merging mock secure settings (#25387)
Introduce Gradle wrapper
Removes minimum master nodes default number (#26803)
Make Fuzziness reject illegal values earlier (#33511)
Return cached segments stats if `include_unloaded_segments` is true (#39698)
Reduce recovery time with compress or secure transport (#36981)
[Monitoring] Align indices/index stats with local cluster state (elastic/x-pack-elasticsearch#4079)
Remove back compat layer with 2.x indices. (#26245)
Fix line length in org.elasticsearch.get (#37071)
[ML] log minimum diskspace setting if forecast fails due to insufficient d… (#37486)
Simplify BlobStoreRepository Constructor (#40653)
[ML] Allow datafeed to start when job is opening (elastic/x-pack-elasticsearch#1611)
[DOCS] Added ML calendar APIs (elastic/x-pack-elasticsearch#3328)
[CCR] Do not unnecessarily wrap fetch exception in a ElasticSearch exception and (#33777)
[DOCS] Minor updates to TLS/SSL docs (elastic/x-pack-elasticsearch#2069)
Fix `range` queries on `_type` field for singe type indices (#31756)
[ML] Impove mechanism for ignoring maintenance windows (elastic/x-pack-elasticsearch#1914)
Add support for field aliases. (#32172)
Ensure that security client is used in x-pack
Add char tests and fix String to char cast (#39725)
Work around JDK8 timezone bug in tests (#37968)
Move Tuple into elasticsearch-core (#29375)
Add option to force load term dict into memory (#39741)
SQL: Consolidate JDBC type handling (elastic/x-pack-elasticsearch#3761)
SQL: Fix BasicFormatter NPE (#37804)
Merge branch 'master' into ccr
Fix IndexOutOfBoundsException in histograms for NaN doubles (#26787) (#26856)
TEST: Update settings should go through cluster state (#29682)
[ML] Add lazy parsing for DatafeedConfig:Aggs,Query (#36117)
SQL: Rename SQL type DATE to DATETIME (#37395)
SQL: Fix ANTL4 Grammar ambiguities. (#33854)
Painless: Update More Methods to New Naming Scheme (#32305)
Liberalize StreamOutput#writeStringList (#37768)
Fix http request round trip tests
[ILM] fix retry so it picks up latest policy and executes async action (#35406)
[ML] Add secondary sort to ML events (#31063)
Set analyzer version in PreBuiltAnalyzerProviderFactory (#31202)
AwaitsFix testCreateShrinkIndexToN
Node selector per client rather than per request (#31471)
Make persistent task persist full cluster restart
Fix some checkstyles
Trivial refactorings after elastic/elasticsearch#25627
Improve testTransportStatsWithException test (#28554)
SQL: Fix long lines in querydsl package (elastic/x-pack-elasticsearch#3454)
SAML: Support multiple decryption keys for SP (elastic/x-pack-elasticsearch#4289)
[RCI] Add IndexShardOperationPermits.asyncBlockOperations(ActionListener<Releasable>) (#34902)
Mark Log4j API dependency as non-optional
[ML] Fix gaps in reserved roles tests (#37772)
[TESTS] Refactor yml test suite classes (elastic/x-pack-elasticsearch#3145)
[DOCS] Adapt indices exists docs after recent listener changes
Grant `getProxySelector` permission to rest client (elastic/x-pack-elasticsearch#2059)
SQL: Move away internally from JDBCType to SQLType (#33913)
Introduce FollowersChecker (#33917)
Renew retention leases while following (#39335)
Introducing a translog deletion policy (#24950)
Add HLRC docs for Delete Lifecycle Policy (#35664)
APM server monitoring (#32515)
ML: changing JobResultsProvider.getForecastRequestStats to support > 1 index (#37157)
SQL: Move shared REST client methods to shared-client (elastic/x-pack-elasticsearch#3428)
Refactors steps and adds some execution logic
[ML] Unclutter failed job assignment explanations (elastic/x-pack-elasticsearch#4179)
Do not log unsuccessful join attempt each time (#39756)
HLRC: Standardize access in *RequestConverters (#34768)
Fixed CCR stats api serialization issues and (#33983)
[DOCS] Add missing ML create job API options (elastic/x-pack-elasticsearch#2268)
[TEST] increase await timeout in RemoteClusterConnectionTests
Clarify pure wilcard matching with `query_string` (#26814)
SQL: Show/desc commands now support table ids (#33363)
Add Painless cast tests for int and Integer (#39813)
S3 Repository: Add back repository level credentials (#24609)
Mute failing test
[DOCS] Clarify ML node settings re transport requests (elastic/x-pack-elasticsearch#1641)
Watcher: Remove the BWC compatible old watcher stats (elastic/x-pack-elasticsearch#2323)
[Tests] Rename DocumentMapperMergeTests (#34121)
Settings: Remove support for yaml and json config files (#24664)
[CCR] Made leader cluster required in shard follow task.
[CCR] Refactor stats APIs (#34912)
Invalid value in the docs for transport.profiles...client_authentication (elastic/x-pack-elasticsearch#3091)
Merge branch 'master' into feature/rank-eval
fix incorrect column info returned by metadata
Fixed bug when non percolator docs end up in the search hits.
Tests: Use different watch ids per test in smoke test (#30331)
Fix typo in max number of threads check docs (#29469)
Mute MonitoringIT.testMonitoringService (#39295)
Painless: Add whitelist extensions (#28161)
REST high-level client: add flush API (#28852)
Merge branch 'master' into feature/sql
Update to AWS SDK 1.11.223 (#27278)
Logging: tests: clean up logging (#34606)
[TEST] Renamed ccr qa module.
Search: Simply SingleFieldsVisitor (#34052)
Fixed test failure.
[Zen2] Introduce LeaderChecker (#33024)
Make hits.total an object in the search response (#35849)
Check presence of multi-types before validating new mapping (#29316)
Change CCR stats endpoint to be index-centric (#34169)
Remove creating keystore on package install
Mute ClusterClientIT#testClusterHealthYellowSpecificIndex (#38343)
AwaitsFix testRestoreMinmal
Change file descriptor limit to 65535 (#37537)
add start trial API to HLRC (#33406)
[Security] handle null values when attempting to parse as DN when mapping roles (elastic/x-pack-elasticsearch#3791)
Add Checks for Closed Channel in Selector Loop (#39096)
Merge remote-tracking branch 'upstream/master' into index-lifecycle
Revert "[ML] Missing validations in analysis config (elastic/x-pack-elasticsearch#2103)"
Log response entity when submitting IDP form
Reenable LiveVersionMapTests.testRamBytesUsed on Java 9. (#29063)
Consolidate spec testing
[TEST] Adds mutate method to more tests (#26094)
 SQL: Add more error integration tests (elastic/x-pack-elasticsearch#3134)
Test: add setting to change request timeout for rest client (#25201)
Merge branch 'master' into index-lifecycle
ingest: support default pipeline through an alias (#36231)
Move resync request serialization assertion
Logging: Configure the node name when we have it (#32983)
Fix synonym phrase query expansion for cross_fields parsing (#28045)
Upgrade to Lucene-7.4.0-snapshot-cc2ee23050 (#30778)
Add more contexts to painless execute api (#30511)
Make AbstractQueryBuilder.declareStandardFields to be protected (#27894)
Handle completion suggestion without contexts
Tests: Mute more monitoring upgrade tests
Merge remote-tracking branch 'elastic/master' into feature/sql
Sync retention leases on expiration (#37902)
ingest: compile mustache template only if field includes '{{'' (#37207)
[Close Index API] Propagate tasks ids between Freeze, Close and Verify Shard actions (#36630)
Merge branch 'master' into feature/client_aggs_parsing
Test: Make mixed cluster bwc test per wire compat version (#24780)
Never return null from Strings.tokenizeToStringArray (#28224)
Add YAML REST tests for filters bucket agg (#27128)
Add lower bound for translog flush threshold (#28382)
More license file corrections
Do not fail snapshot when deleting a missing snapshotted file (#30332)
Improve query string docs (#28882)
Skip some logging tests on JDK 9
Build: Omit dependency licenses check for elasticsearch deps (#28304)
ML: update .ml-state actions to support > 1 index (#37307)
HLRC: Adding ML Job stats (#33183)
Update logstash-management.json to use typeless template (#38653)
Remove deprecated exceptions (#28059)
Adds the ability to specify a format on composite date_histogram source (#28310)
Remove SYS CATALOGS leftover
[CCR] Change response classes to not use from Streamable. (#35085)
Test query builder bwc against previous supported versions instead of just the current version.
Test: Re-enable upgrade integ tests (elastic/x-pack-elasticsearch#3917)
Docs: DRY up indices docs (#35971)
Watcher: Simplify finding next date in cron schedule (#33015)
Persistent Tasks: remove task restart on failure (#815)
Fix line length for monitor and remove suppressions (#37456)
Move tribe to a module (#25778)
SQL: Allow look-ahead resolution of aliases for WHERE clause (#38450)
[ML] Improve naming of flush related methods (elastic/x-pack-elasticsearch#1872)
[Rollup] Update serialization version after backport
add qa project for running ILM tests against security (#32218)
Make sure to use the resolved type in DocumentMapperService#extractMappings. (#37451)
Simplify IndexShard indexing and deletion methods (#25249)
fix tests
Core: Convert FormatDateTimeFormatter to DateFormatter (#36396)
Fix CCR stats assertions
[CCR] Resume follow Api should not require a request body (#37217)
Merge branch 'master' into feature/sql
Move CharArrays to core lib (#32851)
Security: Add index template permissions for system user (elastic/x-pack-elasticsearch#1937)
Rename SearchRequest#withLocalReduction (#39108)
Modify cluster state callback in recovery land
[TEST] Fix typo in MovAvgIT test
Fix jvm-example assertions in packaging tests
Fixing 503 Service Unavailable errors during fetch phase  (#39086)
Correct arg names when update mapping/settings from leader (#38063)
Cherry pick tests and seqNo recovery hardning from #27580
removed hack
Adapt bwc version after backport
Update version in SearchHits transport serialization
Mute IndexShardRetentionLeaseTests.testCommit #37420
moar changes
fix sort and string processor tests around targetField (#25358)
Fix test, more than one node may be connected.
Merge branch 'master' into index-lifecycle
Fix the MapperFieldType.rangeQuery API. (#26552)
Provide explanation of dangling indices, fixes #26008 (#26999)
[TEST] Added more logging
[Painless] Add instance bindings (#34410)
Deprecate Empty Templates (#30194)
Persistent Tasks: require correct allocation id for status updates (#923)
Fix a test bug around nested aggregations and field aliases. (#32287)
wait for shard to be allocated before executing a resume follow api
Silence SplitIndexIT.testSplitIndexPrimaryTerm test failure. (#30432)
Avoid side-effect in VersionMap when assertion enabled (#29585)
Merge remote-tracking branch 'origin/master' into feature/sql_2
[DOCS] Update links in X-Pack Reference for Reporting info (elastic/x-pack-elasticsearch#1584)
Introduce secure security manager to project
Allow `_doc` as a type. (#27816)
Fail _search request with trailing tokens (#29428)
Watcher: Load for watch for execution as late as possible (elastic/x-pack-elasticsearch#2151)
Refactor children aggregator into a generic ParentJoinAggregator (#34845)
Allow reader wrappers to have different live docs but the same cache key.
AwaitsFix testCorruptFileThenSnapshotAndRestore
[ML] Refactor filters API to not use _type (elastic/x-pack-elasticsearch#1483)
Make index.lifecycle.name setting internal (#32518)
[DOCS] Skeleton for the sql plugin docs.
SQL: have LIKE/RLIKE use wildcard and regexp queries (#40628)
Revert "Revert "Fix IndexSearcherWrapper visibility (#39071)""
percolator: fixed issue where in indices created before 6.1 if minimum should match has been specified on a disjunction,
Docs: Add note about which secure settings are valid (#25212)
[Docs] Grammatical fix in bootstrap-checks.asciidoc (#27655)
HLRC: create base timed request class (#33216)
SQL: Fix null handling for AND and OR in SELECT (#35277)
SQL: Remove a package (elastic/x-pack-elasticsearch#2837)
Test: Fix a second case of bad watch creation
Mute PKI REST authentication failure test
Add reserved dashboards_only_user role (elastic/x-pack-elasticsearch#2250)
[Rollup] Validate timezone in range queries (#30338)
Update bwc version for rank_eval rest tests
Add PersistentTasksClusterService::unassignPersistentTask method (#37576)
Increases iterations on step equality tests
Date: Add DateFormatters class that uses java.time (#31856)
Reverse runAs user setup to store authenticated user inside runAs user (elastic/x-pack-elasticsearch#1371)
Merge branch 'master' into index-lifecycle
Refactor/to x content fragments2 (#2329)
Upgrade randomizedrunner to 2.5.2 (#25533)
Mute TransportChangePasswordActionTests#testIncorrectPasswordHashingAlgorithm with an @AwaitsFix.
[DOCS] Removed Homebrew installation section (#34011)
Remove http status code maps (#31350)
test: also inspect the upgrade api response to check whether the upgrade really ran
Painless: Fix Bug with Duplicate PainlessClasses (#32110)
Improve error message for parse failures of completion fields (#27297)
Introduce a History UUID as a requirement for ops based recovery  (#26577)
reduce the number of indices to be auto followed
Rest test fixes (#27354)
[DOCS] Added certutil command (elastic/x-pack-elasticsearch#3294)
Add a cluster block that allows to delete indices that are read-only (#24678)
Test: Guard deprecation check when 0 nodes created
[DOCS] Explain possible values for IDP EntityID (elastic/x-pack-elasticsearch#3875)
Test: fix kibana write rolling upgrade test
Bad regex in CORS settings should throw a nicer error (#34035)
SQL: Break long lines in planner package (elastic/x-pack-elasticsearch#3457)
[DOCS] Fixed calendar API titles
Remove unused imports
Use Azure upload method instead of our own implementation (#26751)
Update query-dsl.asciidoc (#27669)
Make SearchCursor limit aware
SQL: Document a few functions (elastic/x-pack-elasticsearch#3390)
Remove Painless Type in favor of Java Class in FunctionRef. (#28429)
Fix HLRC docs
When creating wildcard queries, use MatchNoDocsQuery when the field type doesn't exist. (#34093)
Add analyze API to high-level rest client (#31577)
Merge branch 'master' into index-lifecycle
Fix merge
Versions: Add 6.1.4/5.6.8 snapshot versions
[Docs] Fix wrong math in overview.asciidoc (#37209)
Tests: Fix mockwebserver to parse incoming http bodies as UTF8
ML having delayed data detection create annotations (#36796)
SQL: Make INTERVAL millis optional (#36043)
Fix CoordinatorTests (#34002)
Model memory has increased so we need to update some integration test thresholds (elastic/x-pack-elasticsearch#4033)
Enable reading auto-follow patterns from x-content (#40130)
[Monitoring] Remove Dedicated IndicesStatsCollector (elastic/x-pack-elasticsearch#2192)
[Monitoring] Remove unhelpful Monitoring tests (#30144)
Deprecate unused Zen1 settings (#38289)
Muted testListenersThrowingExceptionsDoNotCauseOtherListenersToBeSkipped
[CI] Mute HttpSecretsIntegrationTests#testWebhookAction test
[ML] Wait for autodetect to be ready in the datafeed (#37349)
SQL: Fix translation of math functions to painless (#35910)
Scripting: Add instance and compiled classes to script contexts (#24868)
Remove extra checks from HdfsBlobContainer (#31126)
[TEST] Certificate NONE not allowed in FIPS JVM (#32753)
Deprecate the index thread pool (#29540)
Fix typo in name of test
Exists template needs a template name (#25988)
Watcher: Ensure that execution triggers properly on initial setup (#33360)
Test: use trial license for security core rest tests
[ML] Adjust BWC version following backport of #30125
Painless: Clean Up Painless Cast Object (#27794)
Remove HTTP max content length leniency (#29337)
Spelling: replace uknown with unknown (#37056)
Applying changes required for ILM after merge
Remove AcknowledgedRestListener in favour of RestToXContentListener (#28724)
update rollover to leverage write-alias semantics (#32216)
Remove unused User class from protocol (#33137)
Prevent licenses to be upgraded to production unless TLS is configured (elastic/x-pack-elasticsearch#2502)
Validate a joining node's version with version of existing cluster nodes (#25770)
Merge branch 'master' into ccr
[TEST] Enhance failure message when bulk updates have failures
Mute testIndexDeletionWhenNodeRejoins
Grant .tasks access to kibana_system role (#35573)
Reinstate AwaitsFix
Fixes ReplicasActionTests
Remove special handling for ingest plugins (#36967)
Fix DissectParserTests expecting unique keys (#39262)
[ML] Fix search that fetches results for renormalization (elastic/x-pack-elasticsearch#1556)
Switch remaining x-pack tests to new style Requests (#33108)
Automatically close releasables after test (#24687)
Remove unnecessary logger creation for doc values field data
Fix build
Change ScriptException status to 400 (bad request) (#30861)
Build: Fix meta modules to not install as plugin in tests (#29150)
SQL: Allow min/max aggregates on date fields (#34699)
[TEST] Minor refactorings in BasicDistributedJobsIT
Fix SnapshotDisruptionIT Race Condition (#37358)
Settings: Cut over to affix settings where filters are needed (elastic/x-pack-elasticsearch#3685)
FIx testReplicaIgnoresOlderRetentionLeasesVersion (#38246)
[DOCS] Clarified model snapshot retention (elastic/x-pack-elasticsearch#4000)
[ML] Allow model_memory_limit to be reduced (elastic/x-pack-elasticsearch#3998)
Ignore tabs in sql test keystore files (elastic/x-pack-elasticsearch#2544)
[TEST]Split transport verification mode none tests (#32488)
[DOCS] Creates redirects for role management APIs page
Remove unneeded listener on MoveToNextStepUpdateTask (#33725)
Merge branch 'master' into index-lifecycle
Initialize primary term for shrunk indices
Remove BWC layer for rejected execution exception
Add additional null check in _cat/shards
Mute DateTimeUnitTests.testConversion
Merge remote-tracking branch 'es/master' into ccr
Support roles with application privileges against wildcard applications (#40398)
Mute NodeSubclassTests#testReplaceChildren while we await a fix.
[CCR] Add an internal api to read translog operations between a sequence number range (#2563)
Handle deprecation header-AbstractUpgradeTestCase (#38396)
Add @AwaitsFix for #32673
Package ingest-user-agent as a module (#36956)
[ML] Data Frame HLRC start & stop APIs (#40154)
Validate `transport.profiles.*` settings (#25508)
Merge branch 'master' into close-index-api-refactoring
Watcher: Make settings reloadable (#31746)
SQL: Describe aliases as views (#37496)
Add back one line removed by mistake regarding java version check and
[Docs] improved description for fs.total.available_in_bytes (#26657)
Add CcrRestoreSourceService to track sessions (#36578)
[ML] Remove "8" prefixes from file structure finder timestamp formats (#38016)
Fix using relative custom config path
tal-temp migration to not use settings for the lifecycle policy
Re-enable single node tests (#38852)
Do not expose hard-deleted docs in Lucene history (#32333)
Ensure only parent breaker trips in unit test
Avoid SecurityException in repository-S3 on DefaultS3OutputStream.flush() (#25254)
[TEST] Check accounting breaker is equal to segment stats rather than 0
INGEST: Simplify IngestService (#33008)
Adds documentation about defining rollover action in ILM (#33243)
Added more parameter to PersistentTaskPlugin#getPersistentTasksExecutor(...)
Integrate retention leases to recovery from remote (#38829)
Rest HL client: Add put watch action (#32026)
[Test] Fix InstallPluginCommandTests failure on Windows (#28447)
Merge branch 'master' into ccr
Tests: Ensure watcher is enabled/disabled during tests (elastic/x-pack-elasticsearch#2392)
Disable CCR REST endpoints if CCR disabled (#33619)
Adds more missing equality tests
Drop parameterized type from SQL's exception messages (elastic/x-pack-elasticsearch#2540)
percolator: Do not take duplicate query extractions into account for minimum_should_match attribute
X-Pack-Security: Improve error messaging during setup password (elastic/x-pack-elasticsearch#3809)
Add built-in user and role for code plugin (#37030)
Adapt bwc after the backport of replicated closed indices (#39566)
Remove use of AbstractComponent in xpack (#35394)
Test: use trial license for qa/rolling-upgrade
[Tests] Simplify GceDiscoverTests (#28726)
ClusterClientIT refactor (#38872)
Merge branch 'master' into index-lifecycle
Fix off-by-one error in chunks coordinator (#31147)
[GEO] Fork Lucene's LatLonShape Classes to local lucene package (#36794)
migrate step tests to extend AbstractStepTestCase
Set minimum_master_nodes on rolling-upgrade test
Fix broken link for 6.2
Upgrade to Gradle 5.1 (#36767)
Bubble-up exceptions from scheduler (#38317)
Address license state update/read thread safety (#33396)
Different handling for security specific errors in the CLI. Fix for https://github.com/elastic/elasticsearch/issues/33230 (#33255)
SQL: allow LEFT and RIGHT as function names (#32066)
Adopt to network settings cleanup in elastic/elasticsearch#25489
Modify Abstract transport tests to use impls (#28270)
[ML] Add Missing data checking class (#35310)
Apply `ignore_throttled` also to concrete indices (#35335)
[TESTS] Pin MockWebServer to TLS1.2 (#33127)
Wrap stream passed to createParser in try-with-resources (elastic/x-pack-elasticsearch#4055)
HLRC: ML Add Job to Calendar API (#35666)
[DOCS] Reformatted security troubleshooting pages (elastic/x-pack-elasticsearch#2799)
[ML] Add trace logging for when search response is obtained (elastic/x-pack-elasticsearch#3669)
Merge branch 'master' into feature/sql
Replace 0L with an UNASSIGNED_PRIMARY_TERM constant (#36819)
MINOR: Remove Dead Code in Routing (#35074)
Support concurrent refresh of refresh tokens (#38382)
[Zen2] Introduce gossip-like discovery of master nodes (#32246)
Fix checkstyle violation
Merge branch 'master' into ccr
[ML] Data Frame HLRC Preview API (#40206)
Extract message serialization from `TcpTransport` (#37034)
Move update and delete by query to use seq# for optimistic concurrency control (#37857)
Correct documentation for number of salt generation rounds (elastic/x-pack-elasticsearch#4322)
Expand on #37058
Always use DisjunctionMaxQuery to build cross fields disjunction (#25115)
Security: Remove SecurityLifecycleService (#30526)
fix PolicyStatsTests mutateInstance (#34835)
add notion of version and modified_date to LifecyclePolicyMetadata (#33450)
Use readFully() to read bytes from CipherInputStream (#28515)
[ML] Add an ingest pipeline definition to structure finder (#34350)
Add antlr to qa tests for IDE execution
Ensure that local cluster alias is never treated as remote (#37121)
[Zen2] Respect the no_master_block setting (#36478)
Removes typed calls from YAML REST tests (#37611)
[TEST] Changed how stash dumps are logged in yaml tests in case of failures
Mute full cluster restart test recovery test
Use separate searchers for "search visibility" vs "move indexing buffer to disk (#26972)
[Rollup] Remove builders from DateHistogramGroupConfig (#32555)
[ML] Further validate calendar_id and add calendar description (elastic/x-pack-elasticsearch#3624)
WIP: Edits to upgrade docs (#26155)
Merge branch 'master' into feature/sql
Migrate actions to plugin core (elastic/x-pack-elasticsearch#3424)
[ML] Specify ML_ORIGIN when batch scrolling results (elastic/x-pack-elasticsearch#3125)
SQL: Fix getTime() methods in JDBC (#40484)
Scripting: Convert script fields to use script context (#34164)
BulkProcessor to retry based on status code (#29329)
Add segment attributes to the `_segments` API. (#26157)
[Tests] Fix flakiness by ensuring stable cluster (#39300)
[DOCS] Added QA notes about scheduled events (elastic/x-pack-elasticsearch#3641)
MINOR: Some Cleanups in Snapshots (#37175)
Merge branch 'master' into ccr
Logging: Make node name consistent in logger (#31588)
Update versions for start_trial after backport (#30218)
Always destroy Vagrant boxes before tests (#28813)
Expose retries for CCR fetch failures (#33694)
[TEST] Fix bit indexing in test mutator
Fail start of non-data node if node has data (#37347)
Add scroll parameter to _reindex API (#28041)
add some stuff
Fix line length for org.elasticsearch.action.* files (#35607)
Merge branch 'master' into index-lifecycle
[Zen2] Remove duplicate discovered peers (#35505)
Allow affix settings to specify dependencies (#27161)
testCreateSplitIndexToN: do not set `routing_partition_size` to >= `number_of_routing_shards`
Testclusters: start using it  for testing some plugins  (#39693)
Watcher: Ensure no template deletion race in mixed cluster environment (elastic/x-pack-elasticsearch#1964)
Remove hacky node version check in NodeInfo
[Zen2] Randomized testing of CoordinationState (#32242)
[Monitoring] Fix HttpExporterIT (elastic/x-pack-elasticsearch#2702)
SQL: Added SSL configuration options tests (#37875)
Tests: Fix line endings to match mock terminal line endings
Remove deprecated type and slop field in MatchQueryBuilder (#26720)
Fix performance of RoutingNodes#assertShardStats
Fix test reproducability in AbstractBuilderTestCase setup (#32403)
Promote replica on the highest version node (#25277)
Fixes test after replicas removal
Update global checkpoint with permit after recovery
HLRC: Add support for XPack Post Start Basic Licence API (#33606)
[Monitoring] Enable read-only access for kibana_system user (elastic/x-pack-elasticsearch#1851)
Convert Version to Java - clusterformation part1 (#32009)
Formal support for "password_hash" in Put User (#35242)
[Docs] Remove misleading comment
Remove `delimited_payload_filter` (#27705)
[CCR] Fixed follow and unfollow api url path according to design.
Remove test only SearchShardTarget constructor (#37912)
QA: Create xpack yaml features (#31403)
Add version 5.6 to versions (#25084)
Enable Bulk-Merge if all source remains (#37269)
Unmute testFollowIndexAndCloseNode
[Docs] Fix some typos in comments (#28098)
Fix UpdateMappingIntegrationIT test failures
Expose indexing plans
[ML] Improve error on get calendar when ml-meta index is missing (elastic/x-pack-elasticsearch#3576)
SQL: Fix SSL for JDBC and CLI for real this time (elastic/x-pack-elasticsearch#3277)
Add x-opaque-id to search slow logs (#31539)
Remove extraneous references to 'tokenized' in the mapper code. (#31010)
Add nio-transport as option for http smoke tests (#31162)
Disable dynamic mapping update in testTransportBulkTasks (#38073)
Geo: Fix Empty Geometry Collection Handling (#37978)
Remove Sort enum from Painless Definition (#26179)
Remove _xpack from CCR APIs (#32563)
migrate allocate action pojo/xcontent to xpack.protocol (#32853)
[CCR] Change resume follow api to be a master node action (#35249)
Add get stored script and delete stored script to high level REST API - post backport fix
Force kill testcluster nodes (#37353)
Fix IndexShardTestCase.recoverReplica(IndexShard, IndexShard, boolean) (#37414)
Publish to masters first (#37673)
Add a smoke test sql option to the ci script (elastic/x-pack-elasticsearch#2101)
Move RestGetSettingsAction to RestToXContentListener (#31101)
Relax fault detector in some disruption tests (#38101)
Expose CCR stats to monitoring (#33617)
Completion suggestions to be reduced once instead of twice (#39255)
Adjust BWC version on client features
TESTS: Check for Netty resource leaks (#31861)
REST hl client: cluster health to default to cluster level (#31268)
 SQL: Refactor args verification of In & conditionals (#40916)
upgrade to a new snapshot of Lucene 8 (7d0a7782fa) (#33812)
[DOCS] Clarify document level security (elastic/x-pack-elasticsearch#3701)
Allow set section in setup section of REST tests (#34678)
#26870 change bwc version for fuzzy_transpositions to 6.1 after backport
Move ReindexAction class to core (#24684)
Delete Redundant RoutingServiceTests (#37750)
Merge remote-tracking branch 'origin/master' into index-lifecycle
[DOCS] Added link to TLS docker content (elastic/x-pack-elasticsearch#2959)
Force evaluation order between sub-plugins and core
[DOCS] Add upgrade details about stopping ML (elastic/x-pack-elasticsearch#2982)
Register ResyncTask.Status as a NamedWriteable (#36610)
Bulk processor#awaitClose to close scheduler (#29263)
Move connection profile into connection manager (#32858)
HLRC: Add Put Lifecycle Policy API to HLRC (#33250)
Core: Fix epoch millis java time formatter (#33302)
Deprecate use of `htmlStrip` as name for HtmlStripCharFilter (#27429)
HLRC: Add ML get influencers API (#33389)
remove stale comment in IndexShard
Deprecate the Tribe node
Add support for IS NOT? NULL
[ML] Fix permissions for field caps in scroll data extractor
Use ParseField constants in ParsedGeoBounds (#24849)
Merge branch 'master' into ccr
Mute PutRoleRequestTests.testSerializationBetweenV63AndV70
BWC changes for x-pack (elastic/x-pack-elasticsearch#3841)
 REST high-level client: add force merge API (#28896)
Main response should not have status 503 when okay (#29045)
Fix from_range in search_after in changes snapshot (#33335)
Create skeleton for plugin split (elastic/x-pack-elasticsearch#3233)
Fix ILM explain response to allow unknown fields (#38054)
[ML-Dataframe] Move dataframe actions into core (#39463)
Remove static import from HLRC doc snippet (#34834)
Mute TestClustersPluginIT and BuildExamplePluginsIT
Add stricter geohash parsing (#30376)
Merge remote-tracking branch 'es/master' into ccr
SQL: Proper handling of nested fields at the beginning of the columns list (#35068)
flush job to ensure all results have been written (#31187)
[HLRC] AcknowledgedResponse should not extend from ToXContentObject (#35372)
Core: Add backcompat for joda time formats (#36531)
[TEST] QA resources should not need vagrant provision (elastic/x-pack-elasticsearch#3851)
Enable rest tests via IDEs (#29439)
Build: Change bwc java home check to new signature (elastic/x-pack-elasticsearch#4392)
[DOCS] Fixes monitor privilege description (elastic/x-pack-elasticsearch#4403)
Moved `keyword_marker`, `trim`, `snowball` and `porter_stemmer` tokenfilter factories from core to common-analysis module.
upgrade to lucene-8.0.0-snapshot-6d9c714052 (#35428)
SQL: Improve correctness of SYS COLUMNS & TYPES (#30418)
[Security] Include an empty json object in an json array when FLS filters out all fields (#30709)
Left over from merging
SQL: Check null in processor (elastic/x-pack-elasticsearch#3494)
SQL: Reorganize the translate action (elastic/x-pack-elasticsearch#2841)
Deprecate types in search and multi search templates. (#35669)
Remove deprecated names for string distance algorithms (#27640)
Increase logging level for testStressMaybeFlush
Remove undocumented action.master.force_local setting (#29351)
Fix PreConfiguredTokenFilters getSynonymFilter() implementations (#38839)
Prefer mapped aggs to lead reductions (#33528)
Fix byte size value equals/hash code test (#29643)
[DOCS] Added link to upgrade guide and bumped the upgrade topic up to the top level (#27621)
[DOCS] improve encrypted communication example in java REST low-level client docs (#26705)
[HLRC] Add support for get application privileges API (#35556)
Add parsing method for binary range aggregation (#24706)
AwaitsFix RecoveryIT#testHistoryUUIDIsGenerated
[DOCS] Format X-Pack migration APIs (elastic/x-pack-elasticsearch#2378)
[Test] LocalExporterTests should wait for exporters to terminate in a finally block (elastic/x-pack-elasticsearch#1581)
[Docs] Fix explanation for `from` and `size` example (#28320)
Allow engine to recover from translog upto a seqno (#33032)
Decouple TimeValue from Elasticsearch server classes (#29454)
Watcher: Remove test-only setting (#34377)
SQL: Introduce CSV and TSV tabular output (elastic/x-pack-elasticsearch#4190)
SQL: Enable accurate hit tracking on demand (#39527)
Fix FullClusterRestartIT#testRollupIDSchemeAfterRestart by adding a missing expected warning.
remove unused import
Inner hits fail to propagate doc-value format. (#36310)
Mute FullClusterRestartIT#testWatcher
CONSOLEify extended_stats docs
[ML] More advanced post-test cleanup of ML indices (#39049)
renamed test class
[ML] improve logging for autodetect crashes (elastic/x-pack-elasticsearch#2866)
Handle MatchNoDocsQuery in span query wrappers (#34106)
fix typo in xpack-rest test plugin->module
[DOCS] Rewrite low-level REST client docs and verify snippets compile (#25559)
Core: Default node.name to the hostname (#33677)
Tests: Do not delete index templates on bwc tests
SNAPSHOT+TESTS: Stabilize SnapshotDisruptionIT (#37289)
[DOCS] Fixed cross doc links.
Remove `MockTcpTransport` for ESIntegTestCase (#36089)
Fix the documentation to state that the `_id` field is indexed. (#25540)
Correct doc reference tag (#36262)
Scripting: Remove native scripts (#24726)
Replace javax activation with jakarta activation (#40247)
Remove TranslogRecoveryPerformer (#24858)
Tests: Handle epoch date formatters edge cases (#34437)
Fix CCR API specification (#34963)
Use fixture to test repository-azure plugin (#29347)
Limit the number of expanded fields it query_string and simple_query_string (#26541)
Merge branch 'master' into feature/rank-eval
use shell with JAVA_HOME for starting archive (#40118)
Fix fetch source option in expand search phase (#37908)
Mute test NetworkDisruptionIT.testJobRelocation
Fix Gradle >=4.2 compatibility (#27591)
Add support for "authorization_realms" (#33262)
Trim the JSON source in indexing slow logs (#38081)
Mark failing exporter template test as awaits fix
[DOCS] Fixed broken cross doc links to security settings.
Added keyed response to pipeline percentile aggregations 22302 (#36392)
[DOCS] Remove ML CCS limitation (elastic/x-pack-elasticsearch#4082)
HLRC: Drop extra level from user parser (#34932)
[CCR] Add get auto follow pattern api (#33849)
Add parent-join module (#24638)
[TEST] fix security template version check in rest tests (elastic/x-pack-elasticsearch#2506)
Adapt to core Strings method rename
[DOCS] CCS no longer needs local *:* permission (elastic/x-pack-elasticsearch#2445)
Adds GraphExploreRequest as a remote index request (elastic/x-pack-elasticsearch#1836)
Fixing line length for EnvironmentTests and RecoveryTests (#36657)
Docs: Fix link to current smtp java documentation
[DOCS] Modify ML analytical functions (elastic/x-pack-elasticsearch#1467)
Add get field mappings to High Level REST API Client (#31423)
Do not allow negative variances (#37384)
Remove the _all metadata field (elastic/x-pack-elasticsearch#2356)
Rebuild step on PolicyStepsRegistry.getStep (#33780)
Avoid NPE in `more_like_this` when field has zero tokens (#30365)
HLRC: ML Delete Forecast API (#33526)
Remove IndicesOptions bwc serialization layer (#29281)
MINOR: Remove `IndexTemplateFilter` (#32841)
SQL: Reflow package-info.java (elastic/x-pack-elasticsearch#3448)
Use SPI in High Level Rest Client to load XContent parsers (#25098)
Watcher: Create two index ugprade checks for watcher upgrade (elastic/x-pack-elasticsearch#2298)
Use proper Java version for BWC builds (#29493)
Update MSI installer images (#25414)
Fix random failure on SearchQueryIT#testTermExpansionExceptionOnSpanFailure
add Rest tests to index-lifecycle (#30159)
Merge branch 'master' into index-lifecycle
Fixed test after merging in master branch.
MetaDataIndexAliasesService wrong get type (#28614)
Enable installing plugins from snapshots.elastic.co (#30765)
initial api reference docs for ILM (#33866)
Fix rolling upgrade test dependency
Strengthen FilterRoutingTests (#33149)
SQL: Add javadoc and package description (elastic/x-pack-elasticsearch#3406)
Fix some code smells in equals methods (#29348)
[ML] Move job group validation after parsing (elastic/x-pack-elasticsearch#2207)
Fix resync request serialization
Upgrade to Gradle 4.7 (#29644)
SQL: Optimizer tests (elastic/x-pack-elasticsearch#3518)
initial attempt towards an ordered execution plan for timeseries phases (#3248)
Avoid NPE in follower stats when no tasks metadata (#35802)
Refactor GeoHashGrid to be abstract and re-usable (#37742)
[Zen2] Add HandshakingTransportAddressConnector (#32643)
HLRC: Clear ML data after client tests (#33023)
Fix unused import checktyle issue
Do not set up NodeAndClusterIdStateListener in test (#38110)
XPack/HLRC request/response compatibility tests (#34547)
Introduce Mapping ActionListener (#39538)
Move ML tests to be sub-projects of ML (#33026)
Mitigate date histogram slowdowns with non-fixed timezones. (#30534)
[TEST] Don't expect acks when isolating nodes
Merge branch 'master' into feature/sql
[DOCS] Updated installation pages with X-Pack indices (#29077)
SQL: Fix test for UnresolvedRelation
[Test] Fix MigrationDocumentationIT.testClusterHealth (#27774)
Fix index filtering in follow info api. (#37752)
[ML] Kill autodetect on error writing headers (elastic/x-pack-elasticsearch#1730)
Fix file reading in ccr restore service (#38117)
Disallow "enabled" attribute change for types in mapping update (#33933)
Mute DataFrameFeatureSetTests#testUsage test (#40023)
Merge remote-tracking branch 'elastic/master' into feature/sql_2
(refactor) some opportunities to use diamond operator (#25585)
Deprecate `_type` in simulate pipeline requests (#37949)
Painless: Add an Ingest Script Processor Example (#32302)
SQL: Improve compatibility with MS query (#30516)
TEST: Mute testPrimaryRelocationWhileIndexing
Cross Cluster Search: make remote clusters optional (#27182)
Remove config prompting for secrets and text (#27216)
Core: Remove some logging constructors (#32513)
[Test] Add test for custom requests in High Level Rest Client (#25106)
Fix for Issue elastic/x-pack-elasticsearch#3403 - Predictable ordering of security realms (elastic/x-pack-elasticsearch#3533)
Add check for invalid index in WildcardExpressionResolver (#26409)
[CI] Muting  method testFollowIndex in IndexFollowingIT
Add read-only repository verification (#35731)
Enable setting client path prefix to / (#30119)
Fix repository-hdfs plugin packaging test
[ML] Write null instead of false for optional boolean that was removed
Painless: Clean Up PainlessField (#32525)
Add debug log for flush for IndicesRequestCacheIT (#39475)
Reinsert paragraph about heap size
Collapse pipeline aggs into single package (#34658)
Add parsing method to GeoHashGrid aggregation (#24589)
Randomize the time zone properly for the current date test. (#38670)
[Test] Fix scores for dcg in RankEvalRequestIT and RankEvalYamlIT
Remove old unused test script files (#32970)
[DOCS] Modify SSL settings in Kibana security
Rest HL client: Add put license action (#32214)
Build: Quiet naming convention logging (#37244)
Fix BulkWithUpdatesIT and CloseIndexIT
Minor housekeeping of tests (#34315)
Remove `index.mapping.single_type=false` from core/tests (#25331)
Add a `_freeze` / `_unfreeze` API (#35592)
Mute testCorruptFileThenSnapshotAndRestore
[DOCS] Add xpack.ml.max_open_jobs setting (elastic/x-pack-elasticsearch#2303)
Configure heap dump path for archive packages (#29130)
Remove immediate operation retry after mapping update (#38873)
Promote common rest test utility methods to ESRestTestCase
Painless: Separate PainlessLookup into PainlessLookup and PainlessLookupBuilder (#32054)
Move more things
Store the reason of noop in its document tombstone (#30570)
Tests: Fix array out of bounds exception in TemplateUpgradeServiceIT
SQL: Use underlying exact field for LIKE/RLIKE (#39443)
SQL: Fix up docs around score
[test] mute QueryProfilerIT.testProfileMatchesRegular
Tests: Change rest test extension from .yaml to .yml (#24659)
Fix floating-point error when DateProcessor parses UNIX (#24947)
Bump Gradle to version 4.5
Change `has_child`, `has_parent` queries and `childen` aggregation to work with the new join field type and
Add proper longitude validation in geo_polygon_query (#30497)
Use cancel instead of timeout for aborting publications (#37670)
Upgrade to Lucene-8.0.0-snapshot-ef61b547b1 (#36450)
Avoid sending duplicate remote failed shard requests (#31313)
Reindex: Fix headers in reindex action (#26937)
Add concurrent deprecation logger test
Muting test related to #40537 (#40538)
[DOCS] Update doc links for graph API (elastic/x-pack-elasticsearch#1884)
Introduce resizable inbound byte buffer (#27551)
Propagate ignore_unmapped to inner_hits (#29261)
Implement xpack.monitoring.elasticsearch.collection.enabled setting (#33474)
[DOCS] Add custom URL instructions (elastic/x-pack-elasticsearch#2215)
Fix _cluster/state to always return cluster_uuid (#30656)
percolator: handle point queries with 2 or more dimensions correctly
Cleanup the handling for bootstrap passwords (elastic/x-pack-elasticsearch#3470)
Introduce mapping version to index metadata (#33147)
Choose JVM options ergonomically
Merge branch 'master' into index-lifecycle
Override the JVM DNS cache policy (#36570)
use generated license in qa test, see elastic/x-pack-elasticsearch#3878
Clean up TransportMasterNodeAction (#34076)
Fix NDCG for empty search results (#29267)
Replace custom reloadable Key/TrustManager (#30509)
SQL: Preserve field order in response again
Mute IndexFollowingIT.testDeleteLeaderIndex (#39309)
Use proper Java version for BWC builds (elastic/x-pack-elasticsearch#4365)
Replace usages RandomizedTestingTask with built-in Gradle Test (#40564)
ignore 409 conflict in reindex responses (#39543)
Fix broken SQL security test
Fix broke bwc test in sql
SQL: Add multi_value_field_leniency inside FieldHitExtractor (#40113)
add INDEX_LIFECYCLE_ORIGIN to run as xpack
Remove the index thread pool (#29556)
Merge branch 'master' into index-lifecycle
Merge branch 'master' into ccr
Logging: server: clean up logging (#34593)
RecoveryIT up client time out to 40s to see response in a 30s time
Security: fix dynamic mapping updates with aliases (#30787)
Remove Dead Code Test Infrastructure (#39192)
SQL: Remove more ANTLR4 grammar ambiguities (#34074)
IndexShard should not return null stats (#31528)
Add helper classes to determine if aggs have a value (#36020)
Remove deprecated created and found from index, delete and bulk (#25516)
[Docs] Specify function score logarithm modifiers (#28821)
Add write*Blob option to replace existing blob (#31729)
[DOCS] Add SSL info to setup-passwords (elastic/x-pack-elasticsearch#2734)
Fix test bug from #26166
Merge remote-tracking branch 'elastic/master' into feature/sql_2
Fix docs for MappingUpdatedAction
[TEST] Mute ChangePolicyForIndexIT#testChangePolicyForIndex
Fix PutRoleRequestTests
Merge branch 'master' into ccr
SQL: Preserve DateTime as a type internally (elastic/x-pack-elasticsearch#3493)
Merge branch 'master' into feature/sql
Clarify slow cluster-state log messages (#38302)
Do not renew sync-id if all shards are sealed (#29103)
Allow using distance measure in the geo context precision (#29273)
Set watermarks in single-node test cases
REST high-level client: add synced flush API (2) (#30650)
SQL: Fix esType for DATETIME/DATE and INTERVALS (#38179)
TEST: Avoid merges in testSeqNoAndCheckpoints
Watcher: Make start/stop cycle more predictable and synchronous (#30118)
[DOCS] Added note to high level client docs on version
[ML] add min_version field to machine learning results index mapping (#37115)
Remove the suggest metric from stats APIs (#29635)
HLRC: Add xpack usage api (#31975)
Test: get the rest-api-spec from the correct location
SQL: Proper errors on set qualifiers (elastic/x-pack-elasticsearch#3377)
Introduce soft-deletes retention policy based on global checkpoint (#30335)
Muting test testExtractIndexCheckpointsInconsistentGlobalCheckpoints (#40371)
 Support PKCS#11 tokens as keystores and truststores  (#34063)
Add support for percentile and percentile ranks aggs
Upgrade the bouncycastle dependency to 1.61 (#40017)
Sql should run in ci (elastic/x-pack-elasticsearch#2080)
Add double and Double standard casts tests to Painless (#40324)
[ML] Avoid spurious logging when deleting lookback job from the UI (elastic/x-pack-elasticsearch#3193)
REST high-level client: Fix parsing of script fields (#28395)
SQL: Fix query translation of GroupBy with Having (#34010)
Enable TLSv1.3 by default for JDKs with support (#38103)
Fix packaging tests after breaking up x-pack
SQL: Remove ThreadLocal (elastic/x-pack-elasticsearch#3370)
Refactor IndicesOptions to not be byte-based (#30586)
[ML-Dataframe] Add Data Frame client to the Java HLRC (#39921)
HLRC: Fix strict setting exception handling (#37247)
Build: Drop missing checkstyle suppressions (#34490)
Run Third party audit with forbidden APIs CLI  (part3/3) (#33052)
Merge branch 'master' into index-lifecycle
Fix Version based BWC and set correct minCompatVersion (#24732)
LLREST: Wrap at 140 columns (#34489)
fix: Sort Processor does not have proper behavior with targetField (#25237)
SQL: Fix classpath discovery on Java 10+ (#40420)
SQL: Lowercase es data type (mapping) returned from SQL Commands (#37531)
[ML] Ensure immutability of MlMetadata (#31957)
Merge branch 'master' into ccr
Rename static Zen1 settings (#38333)
Adopt core that `_flush` and `_force_merge` doesn't refresh anymore (elastic/x-pack-elasticsearch#2752)
Remove BytesRef usage from XContentParser and its subclasses (#28792)
Simplify selector close method (#25838)
Drop node if asymmetrically partitioned from master (#39598)
Rename saml-metadata
AwaitsFix XPackUsageIT#testXPackCcrUsage.
Adds trace logging to IndicesRequestCache (#34180)
Remove Obsolete BwC Serialization Logic (#39883)
[Rollup] Add scaled_float to allowed metric mapper types (elastic/x-pack-elasticsearch#4423)
Keep CCR REST API specification with all of X-Pack (#33743)
Add better authorization for scroll requests and remove signing (elastic/x-pack-elasticsearch#1416)
Merge branch 'master' into index-lifecycle
Painless: Fix errors allowing void to be assigned to def. (#27460)
[HLRC][ML] Add ML delete model snapshot API (#35537)
Merge remote-tracking branch 'origin/master' into index-lifecycle
[ML] Add ability to assign groups to jobs (elastic/x-pack-elasticsearch#2155)
TEST: AwaitsFix assertSameSyncIdSameDocs
[HLRC] Add GetRollupIndexCaps API (#35102)
Remove usages of CharSequence in Sets (#35501)
Invalid JSON request body caused endless loop (#26680)
Update MSI documentation (#31950)
Don't break allocation if resize source index is missing (#29311)
HLRC: ML Add preview datafeed api (#34284)
[TEST] Mute tests that will need updating following an ML C++ change
[TEST] Make filestructurefinder.TimeoutCheckerTests more robust
Scripting: Remove "inline script enabled" on script engines (#24815)
[Painless] Generate Bridge Methods (#36097)
HLRC: Ban LoggingDeprecationHandler (#32756)
[TEST] Fix MlBasicMultiNodeIT after changing flush response
[TEST] Fix ChunkingConfigTests due to time value randomization
Short-circuit rebalancing when disabled (#40966)
Revert "Revert "Sense for VirtualBox and $HOME when deciding to turn on vagrant testing. (#24636)""
drop elasticsearch-translog for 7.0 (#33373)
Unmute test
Fix test usage of PluginInfo in xpack
[TEST] Add ReindexPlugin to AutodetectResultProcessorIT
Add support for parsing inline script (#23824) (#26846)
Disallow dynamic mapping updated in follow shards
Merge remote-tracking branch 'es/master' into ccr
Do not set timeout for IndexRequests in GatewayIndexStateIT (#38147)
Switch to non-deprecated ParseField.match method for o.e.search (#28526)
Increase max compilations per minute in tests
HLRC: PutUserRequest should not be closeable (#34196)
Switch to parametric CI jobs (#34179)
[TEST] reset subAggregationsSupplier in AggregationsTests to empty sub-aggs once the maxDepth is reached
Revert "Merge branch 'feature/sql'"
Upgrade to Log4j 2.9.1
[Rollup] Remove builders from RollupJobConfig (#32669)
Zen2: Update PeerFinder term on term bump (#33992)
Reduce synchronization on field data cache
Handle installing X-Pack
SQL: Fix issue with getting DATE type in JDBC (#40207)
[HLRC][ML] Add ML put datafeed API to HLRC (#33603)
[ML] Rename SpecialEvents -> ScheduledEvents (elastic/x-pack-elasticsearch#3485)
Adds tests for AllocateAction and its steps
[ML] More informative logging for condition that prevents job creation (elastic/x-pack-elasticsearch#1811)
Decouple XContentType from StreamInput/Output (elastic/x-pack-elasticsearch#4065)
SQL: Concat should be always not nullable (#36601)
Scripting: Fix painless compiler loader to know about context classes (#32385)
Mute CronEvalToolTests.testEnsureDateIsShownInRootLocale
[ML] Use String rep of Version in map for serialisation (#37416)
Reindex: Shore up rethrottle test
Add max file size bootstrap check
Migrate x-pack-elasticsearch source to elasticsearch
Merge branch 'master' into index-lifecycle
Backported the translog files age stats to v6.3.0
[ML-Dataframe] Data frame config HLRC objects (#39691)
Allow indices.get_mapping response parsing without types (#37492)
Merge remote-tracking branch 'es/master' into ccr
Deprecate types in update_by_query and delete_by_query (#36365)
[CCR] Adjust list of dynamic index settings that should be replicated (#35195)
Docs: HighLevelRestClient#multiGet (#29095)
add _retry API to index lifecycle policies (#30769)
HLRC: Add ML get categories API (#33465)
Remove `Tracer` from `MockTransportService` (#40237)
Fold RestGetAllSettingsAction in RestGetSettingsAction (#30561)
Add support for providing absolute start time to SearchRequest (#37142)
[ML] Add notification for job updates coming from a user action (elastic/x-pack-elasticsearch#3890)
Deprecate types in get_source and exist_source (#36426)
Remove deprecated methods from QueryStringQueryBuilder (#35912)
Remove token passphrase setting (elastic/x-pack-elasticsearch#2318)
Remove unnecessary callback interface
Adjust bwc version for exists query tests
Fix Concurrent Snapshot Ending And Stabilize Snapshot Finalization (#38368)
Remove 6.1.5 version constant
Provide a message for callers of the EmptyTrustManager (elastic/x-pack-elasticsearch#2052)
Merge branch 'master' into ccr
Switch default time format for ingest from Joda to Java for v7 (#37934)
Correct wording in log message (#30336)
Coerce decimal strings for whole number types by truncating the decimal part (#25835)
[DOCS] Fixed typos and broken attribute.
New plugin - Annotated_text field type (#30364)
ML: Add support for rollup Indexes in Datafeeds (#34654)
fix explainlifecyclerequesttest
[Zen2] Fix some rarely-failing tests (#35198)
[DOCS] replace '+' with `+`
move replicas action functionality into AllocateAction (#32523)
Disable bwc tests in preparation of backporting #26931
Move `UNASSIGNED_SEQ_NO` and `NO_OPS_PERFORMED` to SequenceNumbers (#26494)
[Test] Add unit tests for Range aggregations (#24569)
Simplify SSL server configuratin validation (elastic/x-pack-elasticsearch#1826)
Use TAR instead of DOCKER build type before 6.7.0 (#40723)
cd ES_HOME in elasticsearch-env (#39937)
Reuse expiration date of trial licenses (#30950)
HLRC: add change password API support (#33509)
SQL: Extend the multi dot field notation extraction to lists of values (#39823)
Decouple Text and Geopoint from XContentBuilder (#29119)
Introduce pluggable engine factory for CCR
Fix up merge of master
[DOCS] Build Elasticsearch Reference from elasticsearch repo (#28469)
Don't omit default values when updating routing exclusions (#33638)
Stop exporting HOSTNAME from scripts
re-enable ILM integration tests and fix policyRegistry update bug (#32108)
Print output when the name checker IT fails (#31660)
[ML] Specify ML_ORIGIN when calling the job update endpoint internally (elastic/x-pack-elasticsearch#3110)
Scripting: Rework joda time backcompat (#33486)
Docs: Document refresh for reindex and friends
Fixes Rendering of after in Phase (#33304)
Fix BWC issue of the translog last modified age stats
Make internal Rounding fields final (#28532)
Add nio http transport to security plugin (#32018)
Unify transport settings naming (#36623)
Test: remove awaitsfix incorrectly added in #34148
[CCR] Retry when no index shard stats can be found (#34852)
[ML] Rate limit established model memory updates (#31768)
Fix testCacheWithFilteredAlias failure (#39401)
Add support for replicating closed indices (#39499)
[Monitoring] Disable Monitoring Collection by Default (elastic/x-pack-elasticsearch#3962)
Build: forked compiler max memory matches jvmArgs (#33138)
Make sure KeywordFieldMapper#clone preserves split_queries_on_whitespace. (#31049)
Use original settings on full-cluster restart (#30780)
[ML] Frequency in datafeeds with aggs must be multiple of hist interval (elastic/x-pack-elasticsearch#3205)
Upgrade to Lucene-7.4.0-snapshot-2b27dd846a (#29398)
Apply publishing to genreate pom (#33094)
Move XContent generation to HasPrivilegesResponse (#35616)
Silence sleep based watcher test
Merge remote-tracking branch 'es/master' into ccr
SQL: Move `sql:server` to `plugin:sql` (elastic/x-pack-elasticsearch#3604)
Make http pipelining support mandatory (#30695)
[Tests] Fix GetResultTests and DocumentFieldTests failures (#29083)
[DOCS] Updates Elasticsearch monitoring tasks (#34339)
High-level client: list tasks failure to not lose nodeId (#31001)
Short-circuit rebalancing when disabled (#40942)
[CCR] Enforce auto follow pattern name restrictions (#35197)
Add more script contexts (#30721)
Move allocation awareness attributes to list setting (#30626)
Move the CLI into its own subproject (elastic/x-pack-elasticsearch#3032)
[Monitoring] Add Shard-level Details to Index Stats Collection (elastic/x-pack-elasticsearch#2817)
Add stopword support to IntervalBuilder (#39637)
Move more tests to integration tests
HLRC - add support for source exists API (#34519)
Increase Gradle heap space to 1536m
QueryBuilders should implement ToXContentObject (#25530)
SQL: Move all SQL projects into org.elasticsearch.sql package (elastic/x-pack-elasticsearch#3069)
[X-Pack] Beats centralized management: security role + licensing (#30520)
Remove execute mode bit from source files
Merge branch 'master' into ccr
Merge remote-tracking branch 'remotes/upstream/master' into feature/sql
Clean up double semicolon code typos (#31687)
[DOCS] Update model_memory_limit (elastic/x-pack-elasticsearch#1928)
Mute BasicWatcherTests.testConditionSearchWithIndexedTemplate (#39307)
[ML] addressing test failure (#40701)
Merge branch 'master' into zen2
Fix merging conflicts
muting failing test for internal auto date histogram to avoid failure before fix is merged
Add 6.6.0 version to master (#34847)
Allow efficient can_match phases on frozen indices (#35431)
Fix msearch rest test using typed_keys
Grammar: "by geographically" → "geographically" (#28595)
Delete temporary blobs before creating index file (#30528)
Replace usages RandomizedTestingTask with built-in Gradle Test (#40978)
Merge branch 'master' into ccr
Use the 6.6.1 Lucene version constant. (#26768)
Distance measures for dense and sparse vectors (#37947)
Tweak reindex cancel logic and add many debug logs (#25256)
Test: Change randomValueOtherThan(null, supplier) (#27901)
Make credentials mandatory when launching xpack/migrate (#36197)
MINOR: Some Cleanups around Store (#36139)
fix merge conflicts with latest master
Cleanup suppressed overlength line for action.support package (#34889)
[DOCS] Expanding  Graph API reference content here & removing it from x-pack-kibana.
HLRC: Add delete template API (#36320)
[ML] Ensure internal client is used where appropriate (elastic/x-pack-elasticsearch#2415)
[ML] Adjust the name of the ML C++ repo (elastic/x-pack-elasticsearch#4020)
[HLRC] Add support for put privileges API (#35679)
[TEST] Use `ensureYellowAndNoInitializingShards` in monitoring test (elastic/x-pack-elasticsearch#3768)
Fixture for Minio testing (#31688)
Disallow lang to specified in requests where a stored script is used. (elastic/x-pack-elasticsearch#1949)
In the field capabilities API, deprecate support for providing fields in the request body. (#30157)
[DOCS] Removed extraneous callout number.
Avoid duplicate types deprecation messages in search-related APIs. (#36802)
[TEST] Set 'index.unassigned.node_left.delayed_timeout' to 0 in ccr tests
Bump Gradle to version 4.5
SQL: Upgrade JDBC CSV library (elastic/x-pack-elasticsearch#2907)
Mute FullClusterRestartIT#testRollupIDSchemeAfterRestart as we await a fix.
SQL: Enhance message for PERCENTILE[_RANK] with field as 2nd arg (#36933)
Fix some inconsistencies in the types deprecation code. (#36517)
Move watcher's Cron into x-pack core (elastic/x-pack-elasticsearch#3716)
Introduce retention lease state file (#39004)
[TEST] Mute SlackMessageTests.testTemplateRender
[Monitoring] Make Exporters Async (#35765)
Reworking javadocs, minor changes in some implementation classes
XContentTests : Insert random fields at random positions (#30867)
update cluster-state task execution to halt on new phase (#32886)
Audit logging for SQL (elastic/x-pack-elasticsearch#2210)
fix timeout assertion in requestconvertertests
SQL: Make ShowColumns async (elastic/x-pack-elasticsearch#2638)
Add proxy support to RemoteClusterConnection (#33062)
Reload secure settings for plugins (#31383)
CCR: Following primary should process operations once (#34288)
SQL: Ignore the _default_ type
Add ability to mute and mute flaky fixture (#40630)
Logging: Drop Settings from security logger get calls (#33940)
Selectors operate on channel contexts (elastic/x-pack-elasticsearch#3803)
Merge branch 'master' into index-lifecycle
Copy retention leases when trim unsafe commits (#37995)
Use SPI to provide named XContent parsers for ranking evaluation
TESTS: More Logging in LongGcDisruptionTests (#35702)
Maintain step order for ILM trace logging (#39522)
Fix JarHell on X-Pack protocol
Fail shard if IndexShard#storeStats runs into an IOException (#32241)
JDBC metadata integration with security (elastic/x-pack-elasticsearch#2806)
forbid ICU Collator creation with default locale (#26476)
RestAPI: Reject forcemerge requests with a body (#30792)
SQL: Fix null handling for IN => painless script (#35124)
Add link to community Rust Client (#22897)
remove Ingest's Internal Template Service (#25085)
Added unit tests for MatrixStatsAggregator
Scripting: Remove getDate methods from ScriptDocValues (#30690)
[Test] Fix AggregationsTests#testFromXContentWithRandomFields
HLREST: AwaitsFix ML Test
 HLRC: Add ability to put user with a password hash (#35844)
With .monitoring-data-N index gone, we no longer want to wait for it
Make custom index metadata completely immutable (#33735)
test: single type defaults to true since alpha1 and not alpha3
Avoid double decrement on current query counter
Add script filter to intervals (#36776)
Java high-level REST client : minor fixes (#28467)
add integration test to indexlifecyclemanagement
HLRC: Add document _count API (#34267)
Remove Joda usage from ILM (#35220)
SQL: do not ignore all fields whose names start with underscore (#36214)
Fix line length for aliases and remove suppression (#37455)
[Test] Remove redundant assertions in SearchIT
[TEST] AwaitsFix/Skip REST test "qa/rolling_upgrade/60_monitoring"
Logger: Merge ESLoggerFactory into Loggers (#35146)
Do not close bad indices on startup (#39500)
added docs for `wrapper` query.
Consolidate locale parsing. (#26400)
[Monitoring] Remove monitoring resolvers (elastic/x-pack-elasticsearch#2566)
Tests: Fix convert error tests to use fixed value (#32415)
TESTS: Mute testSnapshotCanceledOnRemovedShard
ML: ignore unknown fields for JobTaskState (#37982)
add `index.lifecycle.date` setting (#3545)
SETTINGS: Correctly Identify Noop Updates (#36560)
fix ilm rest-tests to reflect latest get_policy changes
Fix unsafe publication in opt-out query cache (#40957)
[DOCS] Add supported token filters
Remove unused index.ttl.disable_purge setting (#29527)
[ML] Yml rolling upgrade tests (elastic/x-pack-elasticsearch#1555)
AwaitsFix IntegTestZipClientYamlTestSuiteIT#indices.split tests
Improves snapshot logging and snapshoth deletion error handling (#25264)
fix dangling tag in TasksClientDocumentationIT (#39157)
Unify the result interfaces from get and search in Java client (#25361)
Switch distribution to new style Requests (#30595)
Introduce elasticsearch-env for Windows
Introduce a `search_throttled` threadpool (#33732)
[Docs]Corrected spelling errors. (#28976)
[Rollup] Better error message when trying to set non-rollup index (#32965)
Remove wait for cluster state step in peer recovery (#40004)
Fix and enable datetime tests (elastic/x-pack-elasticsearch#2680)
[HLRC] Fix issue in equals impl for GlobalOperationPrivileges (#35721)
[TEST] Fix side effects of elastic/x-pack-elasticsearch#2975 on build servers with very little RAM
Merge branch 'master' into rankeval
SQL: Handle the bwc Joda ZonedDateTime scripting class in Painless (#37024)
[DOCS] Add release notes script that merges two repos
Refactor Token Service (#39808)
[Tests] Fix failure due to changes exception message (#32036)
Split the ingest processor docs into multiple files (#36887)
SQL: Make `FULL` non-reserved keyword in the grammar (#37377)
fixed typo in ConstructingObjectParse (#27129)
Build: Add git hashes used as build metadata (#26397)
Delete unneeded nio client (#27408)
Remove some dead code (#31993)
Merge remote-tracking branch 'elastic/master' into feature/sql_2
[Zen2] Implement state recovery (#36013)
Catch up with renamings in `TcpTransport`
Ensure joda compatibility in custom date formats (#38171)
 Add integration tests to verify CCS output (#40038)
Adjust fast forward for token expiration test  (#30668)
Parse EvluationMetrics as named Objects
Add public key header/footer (#30877)
Add runAfter and notifyOnce wrapper to ActionListener (#37331)
Watcher: Return useful error message when no accounts are found (elastic/x-pack-elasticsearch#2897)
Fix put mappings java API documentation (#31955)
Mute IndexMasterFailoverIT.testMasterFailoverDuringIndexingWithMappingChanges
Refactors lifecycle type to its own class (#3381)
[ML] Use auto_expand_replicas (elastic/x-pack-elasticsearch#3375)
Upgrade to Lucene-7.4-snapshot-1cbadda4d3 (#30928)
Fix global checkpoint listeners test
Fix FullClusterRestartIT#testRollupIDSchemeAfterRestart
Remove unnecessary method from index shard
Adjust BWC version on client features
Add the ability to bundle multiple plugins into a meta plugin (#28022)
Replace Ingest ScriptContext with Custom Interface (#32003)
SQL: Add support for object/inner/dotted fields (elastic/x-pack-elasticsearch#3368)
Remove Custom Listeners from SnapshotsService (#37629)
Remove MapperService#types(). (#29617)
Update the default for include_type_name to false. (#37285)
Automatically early terminate search query based on index sorting (#24864)
Adds nodes usage action to known actions list (elastic/x-pack-elasticsearch#1111)
Enable global checkpoint listeners to timeout (#33620)
[CCR] Auto follow pattern APIs adjustments (#34518)
SQL: Refactor the type handling (elastic/x-pack-elasticsearch#3694)
Use IndexWriter.getFlushingBytes() rather than tracking it ourselves (#33582)
[ML] Scrolling datafeed should clear scroll contexts on error (#40773)
SQL: Introduce IsNull node to simplify expressions (#35206)
Disable merges in testReuseInFileBasedPeerRecovery
Add test coverage for Painless general casting of boolean and Boolean (#37780)
Don't load global state when only restoring indices (#29239)
Harmonize include_defaults tests (#30700)
[ML] Move ML classes from core (elastic/x-pack-elasticsearch#3780)
Upgrade Netty 4.3.32.Final (#36102)
Upgrade API: Add end-to-end bwc test for watcher upgrade (elastic/x-pack-elasticsearch#1939)
[DOCS] Create certgen command reference (elastic/x-pack-elasticsearch#2456)
mute tests, see 37117
[GEO] Fix points_only indexing failure for GeoShapeFieldMapper
Merge branch 'master' into index-lifecycle
Add DirectByteBuffer strategy for transport-nio (#36289)
Push build.snapshot to BWC builds too
[TEST] Ensure a well-defined cleanup order for YAML tests (elastic/x-pack-elasticsearch#1585)
Remove many NOCOMMITs from cli protocol
[TEST] Fix RemoteClusterClientTests#testEnsureWeReconnect
SQL: Move top level sql directory into plugin/sql (elastic/x-pack-elasticsearch#3618)
[TEST] AggregationsIntegrationIT#testScroll can timeout
Watcher: Ensure reloading happens based on watch index instead of alias (elastic/x-pack-elasticsearch#1544)
Testing conventions now checks for tests in main (#37321)
HLRC: Add InvalidateToken security API (#35114)
Remove initial_master_nodes on node restart (#37580)
SQL: Basic REST spec and tests (elastic/x-pack-elasticsearch#3128)
[Docs] Fix note in bucket_selector
Bubble exceptions when closing compressible streams
Merge branch 'master' into index-lifecycle
Build: allow the amount of time we wait for a node to be configured (#28403)
Adds upgrade API functionality for security (elastic/x-pack-elasticsearch#2012)
Renaming rank-eval smoke test
[TEST] add test to verify that no aggs have been forgotten in AggregationsTests
Persistent Tasks: Merge NodePersistentTask and RunningPersistentTask (#842)
moving SQL into X-Pack
Move pipeline APIs to ingest namespace (#31027)
TopHitsAggregator must propagate calls to `setScorer`. (#27138)
add a test case to ensure NaN's aren't accepted (elastic/x-pack-elasticsearch#2395)
Remove Redundant RestoreRequest Class (#37535)
REST spec: Validate that api name matches file name that contains it (#27366)
Scripting: Actually add joda time back to whitelist (#35965)
Fix SSL renegoation test (elastic/x-pack-elasticsearch#4273)
Un-hardcode SecurityIndexManager to handle generic indices (#40064)
[DOCS] Add link to Graph Explore API
ingest: support default pipelines + bulk upserts (#36618)
Add core coordination algorithm for cluster state publishing  (#32171)
removed unused fields
Fix the names of CCR stats endpoints in usage API (#35438)
[DOCS] Add details about using aggregations with machine learning (elastic/x-pack-elasticsearch#1446)
Create nio-transport plugin for NioTransport (#27949)
SQL: Move special joda time handling into DocValueExtractor (elastic/x-pack-elasticsearch#2758)
Introduce Application Privileges with support for Kibana RBAC (#32309)
Split RolloverStep into Wait and Action steps (#35524)
[DOCS] Add Kerberos troubleshooting documentation (#32803)
Change step execution flow to be deliberate about type (#34126)
[DOCS] Role Mapping API improvements (elastic/x-pack-elasticsearch#3951)
SQL: Suppress testShowTablesWorksAsAdmin() tests
Introduce elasticsearch-core jar (#28191)
Use LF line endings in Painless generated files (#26822)
HLREST: add update by query API (#32760)
re-enabled test with added logging to have more info when it fails.
[Docs] Correct javadoc of GetIndexRequest (#29364)
Avoid shutting down the only master (#36272)
Fixed compile errors after merge.
[Analysis] Deprecate Standard Html Strip Analyzer in master (#26719)
HLRC GraphClient and associated tests (#32366)
[Docs] Fix incomplete URLs (#28528)
SQL: Parse all multi_match options from request (elastic/x-pack-elasticsearch#3361)
Avoid double term construction in DfsPhase (#38716)
Fix compilation
Switch test framework to new style requests (#31939)
Fix compiling sql after merge
Expand SQL client support
Added "validate.properties" property to JDBC's list of allowed properties. (#39050)
Security: remove wrapping in put user response (#33512)
Followup for elastic/elasticsearch#25885
Only notify ready global checkpoint listeners (#33690)
Set maxScore for empty TopDocs to Nan rather than 0 (#32938)
SCRIPTING: Move sort Context to its Own Class (#33717)
[DOCS] Fix cleaning up ML resources after tests 
Mute test #38949
Pass the task to broadcast actions (#29672)
Fix coerce validation_method in GeoBoundingBoxQueryBuilder (#31747)
Fix north pole overflow error in GeoHashUtils.bbox() (#32891)
GEO: More robust handling of ignore_malformed in geoshape parsing (#35603)
Make finalize step of recovery source non-blocking (#37388)
TEST: Access cluster state directly in assertSeqNos (#33277)
Adds an explain API endpoint (#31005)
[HLRC] Add support for Delete role mapping API (#34531)
Remove requiresKeystore when not actually required (elastic/x-pack-elasticsearch#3697)
Fix inadvertent rename of systemd tests
Merge branch 'master' into feature/sql
[ML] Remove record_count from ML mappings (elastic/x-pack-elasticsearch#2183)
Upgrade to latest Lucene snapshot (#33505)
Move Watcher versioning setting to meta field (#30832)
Fix bad link for Nexus OSS
Remove some redundant 140 character checkstyle suppressions
Extract a common base class for scroll executions (#24979)
Fix docs build.
Fix eclipse issues related to rest client shading (#25874)
[DOCS] Adds anchor for SAML Kibana basic info
Use zen2 with testclusters (#37352)
Build: Add pom generation to meta plugins (#28321)
Add start rollup job support to HL REST Client (#34623)
[SAML] Handle ACS URL with existing query params (elastic/x-pack-elasticsearch#4060)
update version on ILM setting updates
Do not zero out pages for bytes output stream (#36523)
Context suggester should filter doc values field (#25858)
Collapses package structure for some bucket aggs (#25579)
NETWORKING: Fix Portability of SO_LINGER=0 in Tests (#33895)
Test: Remove specifying zip distribution in qa tests (#28805)
[DOCS] Added SSL settings to X-Pack installation (elastic/x-pack-elasticsearch#2733)
Avoid failing install if system-sysctl is masked
Update getting-started.asciidoc (#28145)
Watcher: Add ssl.trust email account setting (#31684)
Fix thread context handling of headers overriding (#26068)
[DOCS] Updates to make GS minidoc build.
[DOCS] Added exporter details (elastic/x-pack-elasticsearch#4171)
Expose external refreshes through the stats API (#38643)
Add Gradle attributes to CI jobs (#34178)
Set processors on audit remote client
Use ephemeral ports in Wildfly tests
[ML] Account for gaps in data counts after job is reopened (#30294)
SQL: Cleanup of Cursor wrappers
Rename no-master-block setting (#38350)
[Test] Fix slow rollup job task test
Fix setting by time unit (#37192)
Refactor script context generic types (elastic/x-pack-elasticsearch#1547)
XContent: Factor deprecation handling into callback (#28449)
Merge branch 'master' into ccr
[ML] add auditor to data frame plugin (#40012)
add is-write-index flag to aliases (#30942)
Remove Zen1 (#39466)
In NumberFieldType equals and hashCode, make sure that NumberType is taken into account. (#31514)
Avoid NPE on shard changes action (#32630)
[DOCS] Clarify certgen deprecation (elastic/x-pack-elasticsearch#4099)
[DOCS] Updated links to the ES Ref for the X-Pack ref.
Sql: Consistent terminal setup for CLI
Only auto-update license signature if all nodes ready (#30859)
Fix SSLConfigurationReloaderTests failure tests (#39408)
Add GET Repository High Level REST API (#30362)
Inc store reference before refresh (#28656)
Revert long lines
Remove production from the message about license installation without TLS (elastic/x-pack-elasticsearch#3666)
Switch internal security index to ".security-7" (#39337)
Add simple method to write collection of writeables (#37448)
Upgrade to lucene-7.3.0-snapshot-98a6b3d. (#29298)
[GEO] Add support to ShapeBuilders for building Lucene geometry (#35707)
Remove tribe node support (#28443)
ML: update set_upgrade_mode, add logging (#38372)
Modifies the JavaAPI docs related to AggregationBuilder
Watcher: Use joda method to get local TZ (#35608)
[HLRC][ML] Add ML find file structure API (#35833)
add version 6.4.4
Security: reduce memory usage of DnRoleMapper (#34250)
Cross Cluster Search: do not use dedicated masters as gateways (#30926)
REST test for typeless APIs. (#33934)
Fix NPE when CumulativeSum agg encounters null/empty bucket (#29641)
Make setting index.translog.sync_interval be dynamic (#37382)
Fix extractjar task  ci  (#33272)
Fix Mockito trying to mock IOException that isn't thrown by method (#31433) (#31527)
SQL: Fix test when random JDK TZ doesn't exist in Joda (elastic/x-pack-elasticsearch#2903)
Add missing tag for get-privileges Docs
re-enable categorization IT (elastic/x-pack-elasticsearch#2534)
SNAPSHOT: Repo Creation out of ClusterStateTask (#36157)
[DOCS] restructure java clients docs pages (#25517)
Add parsing for String/Long/Double Terms aggregations (#24521)
[TEST][Monitoring] Remove check for requires_keystore (elastic/x-pack-elasticsearch#4108)
TEST: reduce blob size #testExecuteMultipartUpload
Serialize top-level pipeline aggs as part of InternalAggregations (#40177)
Deprecate accepting malformed requests in stored script API (#28939)
Add note on plugin distributions in plugins folder
Enforce cluster UUIDs (#37775)
SQL: Clean up unused calls in CLI (elastic/x-pack-elasticsearch#2593)
Fix missing comma in examples (#27904)
Upgrade bundled JDK and Docker images to JDK 12 (#40229)
[Close Index API] Add TransportShardCloseAction for pre-closing verifications (#36249)
Only enable modules to have native controllers
Remove TLSv1.2 pinning in ssl reload tests (#38651)
Fix references to vm.max_map_count in Docker docs
Fix index template tests
Merge branch 'master' into ccr
New mapping signature and mapping string source fixed. (#37401)
HLRC: Add activate watch action (#33988)
Remove testMappingsPropagatedToMasterNodeImmediately
SCRIPTING: Terms set query expression (#33856)
TEST: Skip asserting Lucene history for an empty index
XContent: Check for bad parsers (#34561)
Removes un-needed licence files
Make sure to reject mappings with type _doc when include_type_name is false. (#38270)
mute test while I work on #32215
Tests: Various watcher test improvements
Add remaining security tests (elastic/x-pack-elasticsearch#2797)
Adding short description for experimental status in docs
Expand migration note regarding default paths
ingest: doc: move Dot Expander Processor doc to correct position (#31743)
Remove index mapper dynamic settings (#25734)
Reduce connections used by MockNioTransport (#32620)
Ensure we don't use a remote profile if cluster name matches (#31331)
[Docs] Update ingest.asciidoc (#26599)
Watcher: Create templates on nodes newer than the master (elastic/x-pack-elasticsearch#2950)
Mute watcher SingleNodeTests
Merge remote-tracking branch 'elastic/master' into feature/sql_2
remove FullClusterRestartIT.testMonitoring
Merge branch 'master' into feature/rank-eval
Remove some checkstyle suppressions
[TEST] changed naming of test methods to not refer to old api names.
REST: Clear Indices Cache API remove deprecated url params (#29068)
drop `index.shard.check_on_startup: fix` (#32279)
[TEST] Use different name for remote cluster connection
Deprecate _type from LeafDocLookup (#37491)
[ML][DOCS] Correct path for get-stats for all jobs/datafeeds (elastic/x-pack-elasticsearch#4280)
Use Java 9 FilePermission model (#26302)
[Docs] Document Bulk API for Java High Level REST Client (#25532)
Adds rollover action to index lifecycle plugin (#3266)
Remove "best_compression" option from the ForceMergeAction (#32373)
Remove version from license file name for GCS SDK (#31221)
Fix sporadic failure in CompositeValuesCollectorQueueTests
Initialize startup `CcrRepositories` (#36730)
Plugins: Use one confirmation of all meta plugin permissions (#28366)
[TEST] Catch ISE instead of IAE for illegal array size
Start switching to non-deprecated ParseField.match method (#28488)
Merge branch 'master' into zen2
Painless: Rename *Binding classes to *ClassBinding. (#33865)
Improve explanation in rescore (#30629)
[ML] Adding audits when deprecation warnings occur with datafeed start (#36233)
Tests: Fix test assertion in execution service test
Remove dead methods from ChainIT
Mark field_data as deprecated in /_cache/clear
SQL: Add version to cursor serialization (elastic/x-pack-elasticsearch#3064)
Test: Add internalClusterTest to xpack modules (elastic/x-pack-elasticsearch#3730)
Epoch millis and second formats parse float implicitly (Closes #14641) (#26119)
SQL: rewrite ROUND and TRUNCATE functions with a different optional parameter handling method (#40242)
 Prevent cause from being null in ShardOperationFailedException  (#32640)
RestClient uses system properties and system default SSLContext (#25757)
Fixed asciidoc formatting
DOCS: Correct mapping tags in put-template api
HLRC: migration get assistance API (#32744)
Merge remote-tracking branch 'origin/master' into index-lifecycle
Mute PrimaryAllocationIT.testForceStaleReplicaToBePromotedToPrimaryOnWrongNode
SQL: Improve generics usage inside Parser (elastic/x-pack-elasticsearch#3417)
Add a CHANGELOG file for release notes. (#29450)
Handle throws on tasks submitted to thread pools
Consolidate version numbering semantics (elastic/x-pack-elasticsearch#3078)
Deprecate the transport client in favour of the high-level REST client (#27085)
Augment audit authz event with role names data (elastic/x-pack-elasticsearch#3100)
Add to CSV infra plus some refactoring of the JDBC one
[DOCS] Adds placeholder for start and stop data frame transform APIs (#40278)
Enable trace log in FollowerFailOverIT (#38148)
[DOCS] Fixed link to docker content
Test framework fall cleaning (#33423)
Add dedicated step for checking shrink allocation status (#35161)
[TEST] packaging: enable trial license
Update version check for CCS optional remote clusters
Updating test assertion (#34040)
Merge branch 'master' into index-lifecycle
convert FilePermissionsTask.groovy to .java (#34674)
Build: Add build metadata generation and usage to xpack (elastic/x-pack-elasticsearch#2368)
[Monitoring] Add missing mapping for interval_ms (elastic/x-pack-elasticsearch#3339)
Remove CONF_FILE check
Started writing/reading phase and action settings
Recover peers from translog, ignoring soft deletes (#38904)
Docs: Remove note about running watches with elevated privileges
fix checkstyle after script engine rename
Mute failing test
Detach Transport from TransportService (#31727)
Handle failure to release retention leases in ILM (#39281)
Deprecate types in termvector and mtermvector requests. (#36182)
Adds PUT/GET/DELETE lifecycle APIs
Merge branch 'master' into feature/sql_2
Fix handling of spaces in plugin script on Windows
Fix double semicolon in import statement
Merge branch 'master' into ccr
Allow removing multiple fields in ingest processor (#24750)
[ML] Add force delete datafeed action (elastic/x-pack-elasticsearch#1623)
[Docs] Explain incomplete dates in range queries (#30689)
SQL: Implement GREATEST and LEAST functions (#35879)
[Zen2] Elect freshest master in upgrade (#37122)
Change ObjectParser exception (#31030)
Completion types with multi-fields support (#34081)
[ML] Allowing _close to accept body payloads for options (#32989) (#33000)
inner_hits: Return an empty _source for nested inner hit when filtering on a field that doesn't exist.
Watcher: Properly find next valid date in cron expressions (#32734)
Tests: Mute test in KerberosRealmTests
DISCOVERY: Cleanup AbstractDisruptionTestCase (#34808)
renamed module
Un-assign persistent tasks as nodes exit the cluster (#37656)
SQL: fix COUNT DISTINCT filtering (#37176)
Fix content type detection with leading whitespace (#32632)
Merge branch 'master' into ccr
Upgrade to Lucene-8.0.0-snapshot-61e448666d (#36518)
HLRC: ML Close Job (#32943)
Make the 'get templates' types deprecation message consistent. (#38533)
Document how to import Lucene Snapshot libs when elasticsearch clients (#26113)
Fix syntax errors in get-snapshots docs (#31656)
Unmute and fix testSubParserArray (#40626)
Adapting to merging GetField and SearchHitField to DocumentField (elastic/x-pack-elasticsearch#1860)
[test] packaging: use shell when running commands (#30852)
Adjust number of files assertion in packaging tests
Tests: Add @AwaitsFix to failing test
Minor ShapeBuilder cleanup
Core: Remove index name resolver from base TransportAction (#31002)
Fix percolator highlight sub fetch phase to not highlight query twice (#26622)
SecureSettings ignored by customAuditIndexSettings (elastic/x-pack-elasticsearch#2748)
Watcher: Refactoring of TriggeredWatchStore (elastic/x-pack-elasticsearch#1848)
Validate regular expressions in dynamic templates. (#29013)
Change serialization version of doc-value fields.
Ensure remote connection established and
Fix settings serialization to not serialize secure settings or not take the total size into account (#25323)
parent/child: Support parent id being specified as number in the _source
Disallow the new parent join field on indices with multiple types
[Watcher] Remove line that accidentally sneaked in
Mute failing tests for backporting #39647 (#39668)
Refactor: Remove settings from transport action CTOR (#35208)
Test: bound number of requests in IndexLifecycleManagerIntegTests
Add refresh stats tracking for realtime get (#25052)
SQL: Preserve original source for each expression (#36912)
[DOCS] Adjust high-level client x-pack docs (#32747)
Scripting: Remove support for deprecated StoredScript contexts (#31394)
Deprecate types in validate query requests. (#35575)
Index ids in binary form. (#25352)
Fix RealmInteg test failures
Rewrite SourceToParse with resolved docType (#36921)
Address handling of OS pretty name on some OS (#35451)
Trim translog when safe commit advanced (#32967)
Switch security to new style Requests (#32290)
Add adding ability to associate an ID with tasks.
Add support for AWS session tokens (#30414)
Watcher: Fix compilation issue
[ML] Retry after SearchPhaseExecutionException in ScrollDataExtractor (elastic/x-pack-elasticsearch#1788)
SQL: Implement NULLIF(expr1, expr2) function (#35826)
Docs: Update HighLevelRestClient migration docs (#30544)
SQL: Improve validation of unsupported fields (#35675)
Document ssl.verification_mode (elastic/x-pack-elasticsearch#4253)
SQL: Fix the name of the indices lookup action (elastic/x-pack-elasticsearch#2840)
Move NodeRemovalClusterStateTaskExecutor out of ZenDiscovery (#34147)
Protect against the leader index being removed (#39351)
Mute test (#39248)
TEST: Lower num of shards in testShrinkIndexPrimaryTerm
Fixed incorrect test try-catch statement
Adapt bwc version after backport (bis)
MINOR+CORE: Remove Dead Methods ClusterService (#33346)
[DOCS] Add documentation for adaptive replica selection
Clear Realm Caches on role mapping health change (elastic/x-pack-elasticsearch#3782)
Default to no http read timeout (#27879)
docs: Replaces indexed script java api docs with stored script api docs
Acquire seacher on closing engine should throw ACE (#33331)
 Enhance parsing of StatusCode in SAML Responses (#38628)
Remove BytesArray and BytesReference usage from XContentFactory (elastic/x-pack-elasticsearch#4158)
Delete custom index if the only contained job is deleted (#33788)
Merge branch 'master' into index-lifecycle
Un-mute and fix BuildExamplePluginsIT (#38899)
Adds rewrite phase to aggregations (#25495)
Make PKI BootstrapCheck work with SecureSettings (elastic/x-pack-elasticsearch#3993)
Changed the shard changes api to use get threadpool instead of management threadpool.
[CCR] Introduce leader index name & last fetch time stats to stats api response (#33155)
SQL: Fix metric aggs on date/time to not return double (#40377)
Expose `search.throttled` on `_cat/indices` (#37073)
move qa yaml tests to inside the ILM plugin (#32693)
remove index.lifecycle.skip setting (#34823)
Upgrade API: add common upgrade check method (elastic/x-pack-elasticsearch#1970)
Use explicit test classes output dir for configuring test task
Plugins: Allow modules to spawn controllers (#28968)
Remove discovery-file plugin (#33257)
Rollup add default metrics to histo groups (#34534)
HLRC XPack Protocol clean up: Licence, Misc (#34469)
SQL: Tests cleanup (elastic/x-pack-elasticsearch#2252)
Merge remote-tracking branch 'elastic/master' into zen2
HLRC: split migration request converters (#33436)
Add ability to index prefixes on text fields (#28290)
Revert "HLRC: Add ILM Status to HLRC"
[Painless] Allow statically imported methods without whitelist class. (#34370)
Adds single node allocation to shrink (#30206)
Test: use System.lineseperator instead of `\n` in SamlSpMetadataBuilderTests
Use ILM for Watcher history deletion (#37443)
Switch SAML QA test to use a standalone cluster (elastic/x-pack-elasticsearch#3743)
Moved more token filters to analysis-common module.
[Tests] #24638 Fix rest high level client docs build by restoring hasChild and hasParent in the tests
Remove ElasticsearchQueryCachingPolicy (#27190)
CCR/TEST: AwaitsFix testFailOverOnFollower
[TEST] Enable DEBUG logging on testAutoQueueSizingWithMax
SQL: Add `CAST` and `CONVERT` to `SHOW FUNCTIONS` (#34940)
[ML] Order GET job stats response by job id (#36841)
Clean Up Snapshot Create Rest API (#31779)
TEST: Unmute testPrimaryRelocationWhileIndexing
SQL: Improve CircuitBreaker logic for SqlParser (#35300)
SQL: Randomize fetch size in tests (elastic/x-pack-elasticsearch#2626)
HLRC: split indices request converters (#33433)
Build: Ensure build metadata is written (#26427)
Merge branch 'master' into feature/client_aggs_parsing
Remove single shard optimization when suggesting shard_size (#37041)
[ML] Notify job memory status changes (elastic/x-pack-elasticsearch#4187)
Replace failure.get().addSuppressed with failure.accumulateAndGet() (#37649)
Fix line length for IndexLifecycleActionIT
Allow plugins to validate cluster-state on join (#26595)
[DOCS] Split TLS instructions for HTTP and transport layers (elastic/x-pack-elasticsearch#3895)
Use GatewayMetaState in CoordinatorTests rarely (#36897)
Fix Parsing Bug with Update By Query for Stored Scripts (#29039)
Move deprecated Rounding classes into test (#39064)
Throw useful error on bad docs snippets (#25389)
[Docs] Update Copyright notices to 2018 (#29404)
Watcher: Ensure correct method is used to read secure settings (#31753)
Add New Security Script Settings (#24637)
Adjust bwc for resync request (#33964)
Merge remote-tracking branch 'elastic/master' into feature/sql
[Rollup] improve handling of failures on first search (#35269)
SNAPSHOT: Improve Resilience SnapshotShardService (#36113)
Remove FutureExecutor interface (#32713)
Type removal - added deprecation warnings to _bulk apis (#36549)
Remove unnecessary license files
[ML] Avoid all overhead when renormalization window is zero (elastic/x-pack-elasticsearch#3255)
Allow field types to optimize phrase prefix queries (#37436)
HLRC: split watcher request converters (#33442)
[DOCS] Fixed typo.
Set global checkpoint before open engine from store (#27972)
Fixes SecurityIntegTestCase so it always adds at least one alias (#33296)
Rename testcluster extension to align with plugin name (#34751)
Merge branch 'master' into ccr
Replace Streamable w/ Writeable in BaseTasksRequest and subclasses (#35854)
Move the initialization of persistent tasks from the machine learning level to xpack level.
Fix merging of _meta field (#27352)
[Docs] Add sorting and source filtering section to client docs (#25767)
Remove dead logger prefix code
TEST: Correct the assertion arguments order (#31540)
SQL: Whitelist SQL utility class for better scripting (#30681)
Mute FollowerFailOverIT.testFollowIndexAndCloseNode
Remove unnecessary throws IOException in CompressedXContent.string() (#35821)
Upgrade to Jackson 2.8.10 (#27230)
[TEST] Reduce number of buckets created in InternalDateHistogramTests
Fixes ExplainLifecycleRequestTests
Adds check for negative search request size (#25397)
Indices.rollover/10_basic should refresh to make the doc visible in lucene stats
Fix put/resume follow request parsing (#34913)
update ingest-attachment to use Tika 1.17 and newer deps (#27824)
[DOCS] Clarify built-in and internal uses/roles (elastic/x-pack-elasticsearch#1269)
Remove leftover tests.rest.spec property from docs (#29279)
Enable soft-deletes in v6.4
convert modules to use testclusters (#40804)
Make TransportClusterStateAction abide to our style (#30697)
Tests: Ensure waiting time between stopping and starting watcher (elastic/x-pack-elasticsearch#2008)
DOC: Enhance SQL Functions documentation
SQL: Fix issue timezone issues with JDBC getDate/getTime (#40360)
[DOCS] Add ML cross cluster search limitation (elastic/x-pack-elasticsearch#1314)
Remove invalid use of XPackPlugin class (elastic/x-pack-elasticsearch#3700)
Merge branch 'master' into ccr
Rest High Level client: Add List Tasks (#29546)
Allow not configure logging without config
Changed versions in serialization code after backporting #35535
Add releaseTest option to CI script (elastic/x-pack-elasticsearch#2482)
Make AllocatedPersistentTask members volatile (elastic/x-pack-elasticsearch#2297)
Merge remote-tracking branch 'remotes/upstream/master' into feature/sql
Mute MinimumMasterNodesIT.testThreeNodesNoMasterBlock()
[DOCS] Clarify null behaviour in ML resources (elastic/x-pack-elasticsearch#2090)
Make recovery source partially non-blocking (#37291)
Mark NamedDateTimeProcessorTests as @AwaitsFix
[HLRC] Ignore unknown fields in responses of CCR APIs (#36821)
[CCR] Make leader cluster a required argument. (#34580)
Merge branch 'master' into ccr
[TEST] Pass a clientSSLContext in LdapTestCase
Allow to change bwc refspec in xpack (elastic/x-pack-elasticsearch#2311)
[CCR] Add auto follow stats api (#33801)
Remove `randomDynamicTemplates` usage.
SQL: Reuse a registry meant to be shared (elastic/x-pack-elasticsearch#2838)
TEST: Add bwc recovery tests with synced-flush index
Upgrade to lucene-7.0.0-snapshot-ad2cb77. (#25349)
Enable forbiddenapis server java9 (#33245)
[Monitoring] Use ctx.metadata.xpack not just ctx.metadata (elastic/x-pack-elasticsearch#1974)
[Scripting] Make Max Script Length Setting Dynamic (#35184)
[CCR] Added auto_follow_exception.timestamp field to auto follow stats (#36947)
[Tests] Fix slowness of AutoDateHistogramAggregatorTests (#35072)
Use consistent view of realms for authentication (#38815)
Remove uses of unnecessary callback interface
Remove double space in BaseTranslogReader (#29400)
Introduce client feature tracking (#31020)
Backported synced-flush PR to v5.6.8 and v6.2.2
Calculate sum in Kahan summation algorithm in aggregations (#27807) (#27848)
Merge branch 'master' into index-lifecycle
[DOCS] Moves X-Pack settings to docs folder (#31120)
Add GetRollupCaps API to high level rest client (#32880)
Silence SplitIndexIT.testSplitIndexPrimaryTerm test failure. (#30432)
SQL: [tests] Remove AbstractBuilderTestCase dep (#35099)
Clarify context suggestions filtering and boosting (#33601)
fix smoke test with security reference to renamed ilm
Watcher: Remove handling of _status field (elastic/x-pack-elasticsearch#1701)
Apply Renames from split shards (elastic/x-pack-elasticsearch#2716)
Upgrade to Netty 4.1.11.Final
ingest: Upgraded the geolite2 databases.
Add a `feature_vector` field. (#31102)
[Security] Add 'read_cross_cluster' privilege for .monitoring indices (elastic/x-pack-elasticsearch#2111)
Add randomScore function in script_score query (#40186)
Bump master version to 7.0.0-alpha1 (elastic/x-pack-elasticsearch#2135)
Use Writeable for TransportReplAction derivatives (#40894)
Unmute SecurityDocumentationIT test
[TEST] fix SearchIT assertion to also accept took set to 0
Enforce translog access via engine (#29542)
SQL: Replace blanket checkstyle suppression (elastic/x-pack-elasticsearch#3449)
Replace fixtures with docker-compose (#35651)
Restrict Document list access in ParseContext (#29463)
Tests: Fix JiraIssueTests to not hide secrets
Close Index API should force a flush if a sync is needed (#37961)
Propagate a doc-value `format` with inner hits. (#36068)
Fail Stale Primary Alloc. Req. without Data (#37226)
INGEST: Cleanup Redundant Put Method (#33034)
[Tests] Muting RatedRequestsTests#testXContentParsingIsNotLenient
Logging: Use settings when building daemon threads (#32751)
[Security] Cross cluster wildcard security (elastic/x-pack-elasticsearch#1290)
[ML-DataFrame] Dataframe access headers (#39289)
Revert "Upgrade to Jackson 2.9.2 (#27032)"
Scripting: Remove file scripts (#24627)
Remove extraneous quotes from Windows env script
Move creation of temporary directory to Java (#36002)
Docs: Fix release-state check for oss repositories (#36120)
Mute failing tests
INGEST: Implement Drop Processor (#32278)
Only enforce password hashing check if FIPS enabled (#32383)
Use stronger write-once semantics for Azure repository (#30437)
Merge branch 'master' into feature/sql_2
Mute test
Merge branch 'master' into index-lifecycle
Remove FastStringReader in favor of vanilla StringReader (#28944)
Add wait_for_no_initializing_shards to cluster health API (#27489)
[DOCS] Auto create required for ML indices (elastic/x-pack-elasticsearch#1858)
[ML] Fix broken backwards compatibility of field names (elastic/x-pack-elasticsearch#3463)
[CCR] Improve error when operations are missing (#35179)
Revert "Security: don't call prepare index for reads (#34246)"
Fix packaging scripts references to /etc/elasticsearch
Randomize the timezone for equals and hashcode tests (#39353)
Core: Remove RequestBuilder from Action (#30966)
Move InnerHitBuilder queries BWC version to 5.5 after the backport
 Move language analyzers from server to analysis-common module. (#31300)
Synchronize pendingOutgoingJoins (#39900)
Add additional low-level logging handler ()
Use elasticsearch-env
SQL: Implement FIRST/LAST aggregate functions (#37936)
Always return false from `refreshNeeded` on ReadOnlyEngine (#35837)
REST: Clear Indices Cache API simplify param parsing (#29111)
[Security] Add SAML authentication support  (elastic/x-pack-elasticsearch#3646)
Use InputStreamStreamInputs validation to limit size of tokens (elastic/x-pack-elasticsearch#2537)
[DOCS] fix put_mapping snippet (#28814)
Test: disable monitoring for security spi qa project
[ML] Data Frame HLRC Get Stats API (#40327)
Merge branch 'master' into ccr
Use fixture to test the repository-gcs plugin (#28788)
Fix nested query highlighting (#26305)
Mute tests in SSLConfigurationReloaderTests (#38248)
Do not return all indices if a specific alias is requested via get aliases api. (#29538)
Adding node_count to ML Usage (#33850) (#33863)
Use task builder instead of creating persistent tasks directly.
Don't test corruption detection within CFS checksum (#33911)
[Docs] Fix typo in Min Aggregation reference (#30899)
Move file-based discovery to core (#33241)
Scripting: Conditionally use java time api in scripting (#31441)
SQL: Be more careful with break and eof (elastic/x-pack-elasticsearch#4092)
Merge remote-tracking branch 'origin/master' into index-lifecycle
Update transport docs and settings for changes (#36786)
Zen2: Move most integration tests to Zen2 (#35678)
[CCR] Changed AutoFollowCoordinator to keep track of certain statistics (#33684)
Docs: Cut down on high level rest client copy-and-paste-ness (#34125)
Scripting: Remove ExecutableScript (#34154)
Move BWC version to 5.5 after backport
Painless: Clean Up Whitelist Names (#32791)
more changes + updated api
Replace Streamable w/ Writeable in RoleDescriptor (#34544)
reduce maximum number of writes to speed up test
add more tests
[TEST] Add validate query tests for empty and malformed queries (#33862)
Enable grok processor to support long, double and boolean (#27896)
Extend testing of build method in ScriptSortBuilder (#26520)
Switch x-pack:core to new style Requests (#32252)
Introduce Gradle wrapper
Upgrade to lucene-7.0.0-snapshot-00142c9. (#25641)
Remove `operationThreaded` from Java API (#27836)
[CCR] Make auto follow patterns work with security (#33501)
SQL: Implement sorting and retrieving score (elastic/x-pack-elasticsearch#3340)
Use generic AcknowledgedResponse instead of extended classes (#32859)
Tidies up some of the unit tests
Update the version compatibility for zero_terms_query in match_phrase.
fix guice and plugin initialization after split (#3677)
Mute TranslogTests#testFatalIOExceptionsWhileWritingConcurrently
expose simple pattern tokenizers (#25159)
Adapt bwc serialization in FieldSortBuilder (#40095)
CCR: Add NodeClosedException to retryable list (#35191)
More detailed tracing when writing metadata (#31319)
Allow query caching by default again (#33328)
Fix cluster state persistence for single-node discovery (#36825)
Replace `delimited_payload_filter` by `delimited_payload` (#26625)
Build: Guard adding project substitution for bwc zip with snapshot check (elastic/x-pack-elasticsearch#1485)
Ignore numeric shard count if waiting for ALL (#31265)
Ensure fully deleted segments are accounted for correctly (#33757)
Removed Unused Version Parameters in DocumentParser (#39863)
Make InternalComposite key comparable
Core: Add java time xcontent serializers (#33120)
Rename retention lease setting (#39719)
CCR: replicates max seq_no of updates to follower (#34051)
Update version for signing scrolls after backport
Add test for low-level client round-robin behaviour (#31616)
[Zen2] Implement Tombstone REST APIs (#36007)
[Rollup] Add more diagnostic stats to job (#35471)
Fail start on invalid index metadata (#37748)
Improve parsing of Limit
Adds deprecation logging to ScriptDocValues#getValues. (#34279)
Remove unsupported group_shard_failures parameter (#33208)
Remove legacy mapping code. (#29224)
[DOCS] Adds links to release notes and highlights
Core: Combine doExecute methods in TransportAction (#31517)
[DOCS] Fix typo
SQL: Wrap ZonedDateTime parameters inside scripts (#39911)
Relax remote check for bwc project checkouts (elastic/x-pack-elasticsearch#3924)
Fail rollover if duplicated alias found in template (#28110)
Insert ephemeral IDs + correct pipeline event stats into the logstash_stats document (elastic/x-pack-elasticsearch#1747)
Make primary-replica resync failures less lenient (#28534)
 Add tool elasticsearch-node unsafe-bootstrap (#37696)
Fix node ID reported by ThrottlingAllocationDecider (#28779)
Add type parameter to start_trial api (elastic/x-pack-elasticsearch#4102)
SQL: Enable tests for shared-proto
SQL: Bring SQL Version in line with ES Version (elastic/x-pack-elasticsearch#3308)
Adds more tests
Use explicit version for build-tools in example plugin integ tests (#37792)
resolveHasher defaults to NOOP (#31723)
[ML] Fix master node deadlock during ML daily maintenance (#31836)
Inject Unfollow before Rollover and Shrink (#37625)
Allow excluding folder names when scanning for dangling indices (#34349)
Ingest: Support integer and long hex values in convert (#32213)
Simplify MultiSnapshot#SeqNoset (#27547)
[ML] Retrieve model snapshot via search (elastic/x-pack-elasticsearch#1376)
Deprecate old transport settings (#40821)
Painless: add tests for cached boxing (#24163)
Make Ccr recovery file chunk size configurable (#38370)
Required changes after merging in master.
Remove QUERY_AND_FETCH BWC for pre-5.3.0 nodes (#25223)
[TEST] wrong bugUrl...
Default to one shard (#30539)
Bulk operation fail to replicate operations when a mapping update times out (#30244)
Change BroadcastResponse from ToXContentFragment to ToXContentObject (#28878)
[CCR] Clean followed leader index UUIDs in auto follow metadata (#36408)
SQL: Implement IN(value1, value2, ...) expression. (#34581)
Rename TCPTransportTests to TcpTransportTests (#26954)
Make randomVersionBetween work with unreleased versions (#25042)
Avoid blocking non-reproducible randomness in test (#36561)
Mute FullClusterRestartIT#testClosedIndices (#39600)
Test: be more careful while flushing
SQL: Proper handling of COUNT(field_name) and COUNT(DISTINCT field_name) (#37254)
fix shrunken index source name metadata usage
Fixes UpdateSettingsRequestStreamableTests mutate bug
Ensure threadcontext is preserved when refresh listeners are invoked (#27565)
Creates a new X-Pack feature for index lifecycle
[DOCS] Add documentation build info to README
percolator: Avoid TooManyClauses exception if number of terms / ranges is exactly equal to 1024
Force Refresh Listeners when Acquiring all Operation Permits (#36835)
ML refactor DatafeedsConfig(Update) so defaults are not populated in queries or aggs (#38822)
Merge branch 'master' into index-lifecycle
add ILM ShrinkAction IT (#32176)
Security: IndexLifecycleManager provides a consistent view of index state (elastic/x-pack-elasticsearch#3008)
Remove remaining `index.mapping.single_type=false` (#25369)
Add Expected Reciprocal Rank metric (#31891)
IndexShardOperationPermits: shouldn't use new Throwable to capture stack traces (#28598)
[DOCS] Fix edit_url for Elasticsearch Ref (elastic/x-pack-elasticsearch#1814)
Build: Fix reproduce info for methods with ( or ) (#35712)
HLRC: Add get users action (#36332)
Fix handling of invalid error trace parameter
NETWORKING: Fix Netty Leaks by upgrading to 4.1.28 (#32511)
Add awaits fix for HasChildQueryBuilderTests
Introduce index settings version (#34429)
SAML: Process only signed data (#30420)
CCE when re-throwing "shard not available" exception in TransportShardMultiGetAction (#32185)
Set forbidden APIs target compatibility to compiler java version   (#32935)
Mute ML upgrade test (#30458)
Source additional files correctly in elasticsearch-cli (#40890)
Collapse retention lease integration tests (#38483)
Squashed commit of the following: (#39836)
Add Index UUID to `/_stats` Response (#31871)
TEST: Rewrite GeoPointParsingTests#testEqualsHashCodeContract (#27634)
Add support for indexed shape routing in geo_shape query (#30760)
Increase InternalHistogramTests coverage (#36004)
TEST:  Retry synced-flush if ongoing ops on primary (#30978)
Maybe die before failing engine (#28973)
remove `type` config from LifecyclePolicy JSON (#32660)
Remove unnecessary imports
Fix licenses in server
Port most snapshot/restore static bwc tests to qa:full-cluster-restart (#25296)
SQL: Extend the ODBC metric by differentiating between 32 and 64bit platforms (#36753)
[TEST] wait for no initializing shards
Refactor simple_query_string to handle text part like multi_match and query_string (#26145)
Merge remote-tracking branch 'es/master' into ccr
Add pluggable XContentBuilder writers and human readable writers (#29120)
[docs] explainer for java packaging tests (#30825)
Fix line lengths in misc other files (#35650)
Merge branch 'master' into ccr
Merge branch 'master' into ccr
SQL: Add ability to close cursors (elastic/x-pack-elasticsearch#3249)
Check for closed connection while opening
Re-enable FlushIT tests
Fix rounding of time values near to overlapping days (#28151)
Fix test failures when using the `termvectors` endpoint with a type name.
Remove //norelease and cleans up somet aggregations tests (#24789)
Format CLI error message when es.path.conf not set
SQL: Added support for string manipulating functions with more than one parameter (#32356)
[DOCS] Adds enabled parameter to user management API (elastic/x-pack-elasticsearch#4364)
Convert native script uses to mock scripts (elastic/x-pack-elasticsearch#1465)
fix PolicyStatsTests: mutate kept same indicesManaged
Merge branch 'master' into index-lifecycle
SQL: Add support for explicit types in CsvSpecTests (elastic/x-pack-elasticsearch#2306)
Rename simple pattern tokenizers (#25300)
Handle missing values in painless (#32207)
SQL: Implement null handling for `IN(v1, v2, ...)` (#34750)
[DOCS] Update X-Pack installation instructions (elastic/x-pack-elasticsearch#4110)
[ML] Improve comment on why task is marked completed on kill process
Merge branch 'master' into feature/sql
[ML] Avoid assertions on empty Optional in DF usage test (#40043)
Watcher: migrate PagerDuty v1 events API to v2 API (#32285)
[ML] Rename event filter params (elastic/x-pack-elasticsearch#3525)
Clean GatewayAllocator when stepping down as master (#38885)
[ML-DataFrame] fix wire serialization issues in data frame response objects (#39790)
Fixes DocStats to not report index size < -1 (#27863)
Update index mappings when ccr restore complete (#36879)
Block older operations on primary term transition
[ML] Add missing job Ids to log messages
[Monitoring] Remove Beats Support until wanted (elastic/x-pack-elasticsearch#2592)
Do not report negative free bytes for DiskThresholdDecider#canAllocate (#33641)
Stop filtering on `_type`.
Revert translog changes introduced for CCR (#31947)
[TEST] add integration test that ensures we reject license upgrades if TLS is not enabled
SQL: Move Exception classes to follow ES format (elastic/x-pack-elasticsearch#3721)
HLRC: ML Forecast Job (#33506)
Increase gradle heap to 2048m
Test: randomly assign the superuser role in RunAsIntegTests
Ensure we protect Collections obtained from scripts from self-referencing (#28335)
AbstractQueryBuilder to no longer extend ToXContentBytes (#25948)
Fix typo in ExceptionSerializationTests
Expose external refreshes through the stats API (#38643)
Reenable Checkstyle's unused import rule (#31270)
Introduce a new Rewriteable interface to streamline rewriting (#25788)
Added msearch api to high level client
Fix startup
[TEST] Force a stop to save rollup state before continuing (#32787)
Remove RowSetCursor (elastic/x-pack-elasticsearch#2624)
Persistent Tasks: remove unused isCurrentStatus method (elastic/x-pack-elasticsearch#2076)
[ML] Allow asynchronous job deletion (#34058)
[Rollup] Job deletion should be invoked on the allocated task (#34574)
Tests: Disable all watcher BWC tests until fixed correctly
Archive unknown or invalid settings on updates (#28888)
Make the persistent task status available to PersistentTasksExecutor.nodeOperation(...) method
INGEST: Fix ThreadWatchDog Throwing on Shutdown (#32578)
Fix issues after merging in master
[TEST] packaging: add debug logging (elastic/x-pack-elasticsearch#3892)
Merge remote-tracking branch 'upstream/master'
[CCR] Add `ccr.auto_follow_coordinator.wait_for_timeout` setting (#36714)
Avoid deadlocks in cache (#30461)
Add ILM plugin for MonitoringIT tests (#39271)
SQL: Drop Node superclass from Query  (elastic/x-pack-elasticsearch#3414)
[ML] Write model_memory_limit with units into the cluster state (elastic/x-pack-elasticsearch#1934)
Tests: Disable watcher in ServerTransportFilterIntegrationTests
Ground work to start up the docker image in the build (#37754)
Fix build.snapshot bug in version collection (#28641)
[DOCS] Enabled more ML code snippet testing (elastic/x-pack-elasticsearch#3764)
Prepare ShardFollowNodeTask to bootstrap when it fall behind leader shard (#37562)
Add documentation about disabling `_field_names`. (#26813)
Fix compilation with Lucene 6.2.
Make the README use a single type in examples. (#26098)
[DOCS] Add ML high_median and low_median functions (elastic/x-pack-elasticsearch#1370)
Adjust versions for resize copy settings (#30578)
Watcher: Validate email adresses when storing a watch (#34042)
Rename some version constants to handle changes in core (elastic/x-pack-elasticsearch#1575)
Register the TCP_CONNECT_TIMEOUT setting (#36663)
Expand "NO" decision message in NodeVersionAllocationDecider (#26542)
SQL: Extend HAVING support (elastic/x-pack-elasticsearch#3155)
SQL: Fix merging of incompatible multi-fields (#39560)
Build: Replace provided configuration with compileOnly (elastic/x-pack-elasticsearch#3868)
Mute testRelocationWithConcurrentIndexing
SQL: fix LIKE function equality by considering its pattern as well (#40260)
Add periodic flush count to flush stats (#29360)
Merge remote-tracking branch 'elastic/master' into zen2
Merge branch 'master' into index-lifecycle
re-enabled java integration tests
[DOCS] Add script_fields to ML data feed documentation (elastic/x-pack-elasticsearch#1372)
Export HOSTNAME environment variable
SQL: Prevent grouping over grouping functions (#38649)
Don't swallow exceptions on replication (#31179)
Unify nio read / write channel contexts (#28160)
Handle 5.6.6 and 6.1.2 release
Sense for VirtualBox and $HOME when deciding to turn on vagrant testing. (#24636)
Revert change that does not return all indices if a specific alias is requested via get alias api. (#28294)
Fix handling of bad requests (#29249)
fix typo in AuthorizationService comment
SQL: Introduce MAD (MedianAbsoluteDeviation) aggregation (#40048)
[DOCS] Updated titles of ML APIs
Mute SmokeTestWatcherWithSecurityIT testsi
Refactor bootstrap check results and error messages
[DOCS] Reorganizes RBAC documentation
Rename  security audit.log to _audit.json (#37916)
Fix as many busted tests as I can
[DOCS] revise high level client Search Scroll API docs (#25599)
Replicate index settings to followers (#35089)
Remove the index type from internal watcher indexes (#39761)
Use lastSyncedGlobalCheckpoint in deletion policy (#27826)
TEST: Use non-zero number for #testCompareUnits
SQL: Improve painless script generated from `IN` (#35055)
RecoveryIT.testHistoryUUIDIsGenerated should reduce unassigned shards delay instead of ensure green.
extend is-write-index serialization support to 6.4 (#31415)
[HLRC][ML] Add ML revert model snapshot API (#35750)
Core: Remove ThreadPool from base TransportAction (#31492)
Rename test from `.yaml` to `yml`
Add support for search templates to the high-level REST client. (#30473)
Changed ReindexRequest to use Writeable.Reader (#32401)
Make CCR resilient against missing remote cluster connections (#36682)
Fix java time formatters that round up (#37604)
Painless: Cleanup Cache (#33963)
Add backwards compatibility indices
Revert "Make http pipelining support mandatory (#30695)" (#30813)
add index checks (elastic/x-pack-elasticsearch#1938)
Refactor an ambigious TermVectorsRequest constructor. (#35614)
Reduce global checkpoint sync interval in disruption tests (#38931)
[DOCS] Remove redundant certgen info (elastic/x-pack-elasticsearch#2542)
Scripts: Fix security for deprecation warning (#28485)
[TEST] Improve ML security tests (elastic/x-pack-elasticsearch#2417)
Set up ILM docs. (#32823)
Painless Context Doc: Add filter context example (#35305)
Clarify index operations for create privilege (elastic/x-pack-elasticsearch#4337)
Handle empty input in AddStringKeyStoreCommand (#39490)
Merge branch 'master' into index-lifecycle
Build: allow building snapshot of release branches (elastic/x-pack-elasticsearch#1582)
HLRC: Add ML Get Buckets API (#33056)
Step down as master when configured out of voting configuration (#37802)
Allow copying source settings on resize operation (#30255)
Fix sporadic failures in testCorruptedShards (#27613)
[ML] Add ML info endpoint providing defaults and limits (elastic/x-pack-elasticsearch#4154)
Retry errors when fetching follower global checkpoint. (#34019)
Introduce plugin-specific env scripts
Upgrade API: fix excessive logging and unnecessary template updates (#26698)
HTML5ify Javadoc for core and test framework (#30234)
Do not return all indices if a specific alias is requested via get aliases api.
Merge branch 'master' into feature/sql
More cleanup
Add packaging assertions for new scripts
Adding new queue metric fields to mapping (elastic/x-pack-elasticsearch#3949)
[ML] Reverse engineer Grok patterns from categorization results (#30125)
added missing serialization tests
[Docs] Java high-level REST client : clean up (#28703)
Add needs methods for specific variables to Painless script context factories. (#25267)
[TEST] Start non ML node in BasicDistributedJobsIT.testMlIndicesNotAvailable
Add an index setting to control TieredMergePolicy#deletesPctAllowed (#32907)
Watcher: Make watch history use doc type instead of watch_record (elastic/x-pack-elasticsearch#1311)
Merge remote-tracking branch 'es/master' into ccr
ML: Fix testMigrateConfigs  (#37373)
Allow TokenFilterFactories to rewrite themselves against their preceding chain (#33702)
Remove unneeded weak reference from prefix logger
[DOCS] Fixed link text
CCR: Stop FollowExistingIndexAction after report failure (#4111)
TEST: Add bwc recovery tests with synced-flush index
MINOR: Remove Deadcode in  ExpressionTermSetQuery (#34442)
Test: Filter out deprecated joda tzs in tests (#34868)
Enable command extensions
Test: Expect extra Exception in die_with_dignity (#29138)
Add Kibana application privileges for monitoring and ml reserved roles (#40651)
ML: Adding XContentObjectTransformer class (#35957)
rename CRUD api REST path prefix _ilm to _ilm/policy (#35056)
Watcher: Mark watcher as started only after loading watches (#30403)
Specialize pre-closing checks for engine implementations (#38702)
Fix checkstyle
Do not check for S3 blob to exist before writing (#31128)
SQL: Extract H2 initialization logic (elastic/x-pack-elasticsearch#4260)
Mute ML rolling upgrade tests. Awaits fix elastic/x-pack-elasticsearch#1760
[ML][TEST] Refresh after indexing docs
Replicate max seq_no of updates to replicas (#33967)
Fix exit code in certutil packaging test (#38393)
Add read-only Engine (#33563)
Allow single digit milliseconds in strict date parsing (#40676)
Enable soft-deletes by default on 7.0.0 or later (#36141)
Use OptionalInt instead of Optional<Integer> (#34220)
Make sure to use _doc for the type in SQL REST tests. (#36806)
[Docs] Fix typo in pattern-tokenizer.asciidoc (#25626)
Aggregations bug: Significant_text fails on arrays of text. (#25030)
Mute test #35365
Add Support for S3 Intelligent Tiering (#39376)
Graph - reinstate correct Graph REST endpoint implementationof the form `_xpack/graph/_explore`. (elastic/x-pack-elasticsearch#1589)
Mute failing full-cluster-restart tests
Upgrade to Lucene-7.4-snapshot-6705632810 (#30519)
[Tests] Wait for shards to be active in FullClusterRestartIT.testWatcher()
SQL: Allow CSV tests to look more like the CLI (elastic/x-pack-elasticsearch#3640)
Fix custom AUTO issue with Fuzziness#toXContent (#35807)
[Monitoring] Update template version to 6.0.0 beta1 version (elastic/x-pack-elasticsearch#1948)
Fixes test to support BytesSizeValue changes (elastic/x-pack-elasticsearch#3321)
Be lenient when parsing build flavor and type on the wire (#40734)
ingest: date_index_name processor template resolution (#31841)
Reload SSL context on file change for LDAP (#36937)
Added unit tests for InternalMatrixStats.
[CCR] Sync mappings between leader and follow index (#30115)
Spelling: replace substract with subtract (#37055)
Remove BWC conditions after backport of #35731
[Monitoring] Thread _xpack/monitoring/_bulk (elastic/x-pack-elasticsearch#4393)
Small improvements related to types deprecation. (#36328)
Do not wait for advancement of checkpoint in recovery (#39006)
Move tribe to a module (elastic/x-pack-elasticsearch#2088)
Switch MetaDataStateFormat to Lucene directory abstraction (#33989)
Reindex: Fold "with all deps" project into reindex (#30154)
Add support for local cluster alias to SearchRequest (#36997)
Settings: Move keystore creation to plugin installation (#26329)
Remove watcher as a security test dependency
SQL: Introduce support for NULL values (#34573)
Watcher: Support setting of markdown in attachments (elastic/x-pack-elasticsearch#1492)
Improve reproducability of RestControllerTests
Fix security tests
HLRC: split graph request converters (#33429)
SQL: Fix parsing of dates with milliseconds (#30419)
Leftover from https://github.com/elastic/elasticsearch/pull/35964 (#36030)
Minor spelling and grammar fix (#32931)
Remove all instances of the deprecated `ParseField.match` method (#28586)
SQL: Implement `::` cast operator (#38774)
More build fixes
[DOCS] Add configuration information for population analysis (elastic/x-pack-elasticsearch#1653)
[ML] Make job closing robust against crashes in autodetect and other misbehavior (elastic/x-pack-elasticsearch#1480)
Fix the version ID for v5.6.10. (#29570)
Optimize the composite aggregation for match_all and range queries (#28745)
Throw exception if setting during dynamic settings update isn't recognized (#26569)
Rename elasticsearch-nio to nio (#31186)
Merge remote-tracking branch 'es/master' into ccr
Unify http channels and exception handling (#31379)
Use more targeted muting of failing SQL spec tests
Add low-level bootstrap implementation (#34345)
Remove canSetPolicy, canUpdatePolicy, and canRemovePolicy (#33037)
Expose sequence number and primary terms in search responses (#37639)
Do not add noop from local translog to translog again (#29637)
Merge branch 'master' into rankeval
[Zen2] Minor logging improvements (#36818)
Scripting: Simplify ScriptContext (#24818)
[TEST] Do not call RandomizedTest.scaledRandomIntBetween from multiple threads
Merge branch 'master' into ccr
Merge branch 'master' into feature/sql
SQL: Match naming conventions for asciidoc files (elastic/x-pack-elasticsearch#3471)
Creates index-lifecycle gradle module
Merge branch 'master' into feature/sql
SQL: Docs for basic aggregations
Fix the casing in the names of some CCR classes
Merge remote-tracking branch 'es/master' into ccr
Remove Watcher Account "unsecure" settings (#36736)
Testclusters links (#39831)
Merge branch 'master' into ccr
Adjust serialization versions after backport
Ensure intended key is selected in SamlAuthenticatorTests (#30993)
Use versionless alias to ES rest client codebase (elastic/x-pack-elasticsearch#2441)
Fix composite agg serialization error
Merge branch 'master' into ccr
All logging audit settings updateable (elastic/x-pack-elasticsearch#4227)
Make fields optional in multi_match query and rely on index.query.default_field by default (#27380)
Move ReindexAction class to core (elastic/x-pack-elasticsearch#1426)
ML: creating ML State write alias and pointing writes there (#37483)
[Docs] Adding suggestion sections to high level client docs (#25724)
Build: Group archive and package distribution projects (#28673)
Add ReplicaAction for Index Lifecycle (#3535)
Painless: allow doubles to be casted to longs. (#25936)
[HLRC] Support for role mapper expression dsl (#33745)
[TEST] packaging: function to collect debug info (#28608)
Update documentation to reflect the latest TLS changes and licensing (elastic/x-pack-elasticsearch#2508)
fix test
Fix failure in test code ClusterPrivilegeTests
Upgrade to Lucene-7.5.0-snapshot-608f0277b0 (#32390)
Add rank-eval module to transport client and HL client dependencies
TEST: Randomize soft-deletes settings (#31585)
Cleanup Duplication in Netty4 Module (#40148)
mute SplitIndexIT due to https://github.com/elastic/elasticsearch/issues/30416
Tests: Fix timeout in watcher history template test
Add missing entries to conffiles  (#35810)
[Test] Fix high-level-rest SearchIT so that quick responses don't fail the test
Fixed test bug, lastFollowTime is null if there are no follower indices.
Mute MlDistributedFailureIT#testFullClusterRestart()
Moved keyword tokenizer to analysis-common module (#30642)
Disallow negative query boost (#34486)
Improve robustness of geo shape parser for malformed shapes (#31449)
[Rollup] Make Rollup a Basic license feature (elastic/x-pack-elasticsearch#4246)
Fixed NPEs caused by requests without content. (#23497)
[Tests] Nudge wait time in RemoteClusterServiceTests (#33853)
X-Pack: Remove deprecated handlers, remove watcher restart action (elastic/x-pack-elasticsearch#2133)
Revert "Integrates soft-deletes into Elasticsearch (#33222)"
Handle missing values in painless (#30975)
Merge remote-tracking branch 'es/master' into ccr
SQL: fix object extraction from sources (#37502)
[TEST] Update strings in ML categorization test (elastic/x-pack-elasticsearch#3959)
[Test] Remove obsolete job/cluster cleanup code
Check index under the store metadata lock (#27768)
Prevent cluster internal `ClusterState.Custom` impls to leak to a client (#26232)
Adds Steps for ReplicasAction
Watcher: Allow to defer startup for tests (elastic/x-pack-elasticsearch#3903)
Never block on scheduled refresh if a refresh is running (#39462)
[ML] Refactor control message writer to allow reuse for other processes (#36070)
Adjusts logging levels to be more realistic
[Tests] Remove QueryStringQueryBuilderTests#toQuery class assertions (#32236)
Update httpclient for JDK 11 TLS engine (#37994)
CCR/TEST: Limit indexing docs in FollowerFailOverIT (#35228)
testHlrcFromXContent() should respect assertToXContentEquivalence() (#38232)
Make sure to accept empty unnested mappings in create index requests. (#37089)
Search: Validate script query is run with a single script (#29304)
[TEST] fix typo in get-watch documentation (bis)
HLRC: Add ML get overall buckets API (#33297)
[DOCS] Fixed cross cluster search docs issue (elastic/x-pack-elasticsearch#3113)
[DOCS] Create X-Pack installation and introduction for Elasticsearch Ref (elastic/x-pack-elasticsearch#1698)
Watcher: Return proper GetWatchResponse if watcher index is missing (elastic/x-pack-elasticsearch#1462)
Make index APIs work without types. (#29479)
[Tests] Remove unnecessary condition check (#28559)
Use MockNioTransport in MockTransportService (#36346)
[Docs] Add note on limitation for significant_text with nested objects (#28052)
Revert "[Docs] Update Java Low-Level documentation to reflect shaded deps (#25882)" (#26411)
Wait for mapping in testReadRequestsReturnLatestMappingVersion (#37886)
Scripting: Remove unnecessary generic type from ScriptContext (#24877)
Disregard comments in XML documents (elastic/x-pack-elasticsearch#4047)
Ignore zen2 discovery task in waitForPendingTasks (#36381)
Do not keep 5.x commits once having 6.x commits (#28188)
Deprecate the transport client in favour of the high-level REST client (elastic/x-pack-elasticsearch#2779)
Switch monitoring to new style Requests (#32255)
Add missed action to KnownActionsTests (elastic/x-pack-elasticsearch#1633)
Reduce the overhead of timeouts and low-level search cancellation. (#25776)
[Test] Remove leftover in InternalRangeTests
Ensure task metadata not null in follow test (#37993)
Fixes query_string query equals timezone check (#29406)
move ESLoggerFactory usage to LogManager (#33043)
Do not set data paths on no local storage required
add tests for ExecuteStepsUpdateTask
Core: Rework epoch time parsing for java time (#36914)
SQL: Handle aggregation for null group (#34916)
Do not update number of replicas on no indices (#34481)
Tests: Use buildDir as base for generated-resources (#30191)
Watcher: Ignore if template is missing when upgrade is running (elastic/x-pack-elasticsearch#2199)
HLRC: Get SSL Certificates API (#34135)
More lenient socket binding in LDAP tests (#39864)
SQL: Fix query translation for scripted queries (#35408)
[CCR] AutoFollowCoordinator and follower index already created (#36540)
Merge branch 'master' into feature/sql
Remove deprecated methods in MoreLikeThisQueryBuilder (#36340)
Advance max_seq_no before add operation to Lucene (#38879)
Merge FunctionScoreQuery and FiltersFunctionScoreQuery (#25889)
plugin install: don't print download progress in batch mode (#36361)
Upgrade to Netty 4.1.25.Final (#31232)
Merge branch 'master' into ccr
Fix failing tests due to xContent changes
Tests: Use script.max_compilations_rate for BWC tests
Merge remote-tracking branch 'es/master' into ccr
Avoid NPE when getting build information
Spelling: replace respositories with repositories (#37053)
Merge branch 'master' into rankeval
Fix PTCMDT#testMinVersionSerialization
[TEST] Cleanup FileUserPasswdStoreTests (#35329)
Tests: Fix failure in InternalGeoBoundsTests (#26112)
Upgrade to Lucene-7.4-snapshot-330fd18f20 (#29562)
Multiplexing token filter (#31208)
Add Kibana upgrade procedure to Upgrade API (elastic/x-pack-elasticsearch#1498)
[ML] Allow overrides for some file structure detection decisions (#33630)
HLRC: Move ML protocol classes into client ml package (#33203)
Improve similarity integration. (#29187)
[Docs] Adding highlighting section to high level client docs (#25751)
Merge remote-tracking branch 'es/master' into ccr
Add the ability to the follow index to follow an index in a remote cluster.
Security tests for SQL's CLI and JDBC (elastic/x-pack-elasticsearch#2770)
Rename client artifacts (elastic/x-pack-elasticsearch#1985)
SQL: Extract SQL request and response classes (#30457)
Renamed remaining leader_cluster_alias / cluster_alias to leader_cluster
Removing unused methods in Numbers (#37186)
SQL: Fix IDE build after shading (elastic/x-pack-elasticsearch#3026)
Track deletes only in the tombstone map instead of maintaining as copy (#27868)
[Data Frame] Refactor PUT transform to not create a task (#39934)
Modify pipelining handlers to require full requests (#31280)
Merge branch 'master' into feature/client_aggs_parsing
Remove all tribe related code, comments and documentation (elastic/x-pack-elasticsearch#3784)
Add test for index with two types (elastic/x-pack-elasticsearch#2194)
Add indices options support to _rank_eval (#29386)
Build: Add check on lucene version in docs (#25407)
Fix some documentation typos
Fsync directory after cleanup (#28604)
Merge branch 'master' into index-lifecycle
[Tests] Fix edge case in SimpleQueryStringBuilderTests (#36611)
Use new wireCompatVersions property instead of bwcVersion (elastic/x-pack-elasticsearch#1466)
Relax TranslogWriter#assertNoSeqNumberConflict (#31569)
Fix validation of username and password in CreateTokenRequest (elastic/x-pack-elasticsearch#2145)
[Tests] Harden InternalExtendedStatsTests (#24934)
[DOCS] Adds links to Getting Started with Security (elastic/x-pack-elasticsearch#4349)
Show SSL usage when security is not disabled (#40672)
[Docs] Add quickstart and limitation documentation for Rollups
Include realm type in Security Realm setting keys (#30241)
Required changes after merging in master branch.
Enable logs for intermittent test failure (#38426)
[ML] Label anomalies with  multi_bucket_impact (#34233)
moar refactor for steps
Make SignificantTerms.Bucket an interface rather than an abstract class (#24670)
Streamline S3 Repository- and Client-Settings (#37393)
Merge branch 'master' into index-lifecycle
add copyright/scope configuration for intellij to Contributing Guide (#29688)
INGEST: Fix Deprecation Warning in Script Proc. (#32407)
Support concurrent refresh of refresh tokens (#39631)
Types removal - fix FullClusterRestartIT warning expectations (#38310)
[HLRC] Added support for CCR Get Auto Follow Pattern apis (#36049)
Fixes ByteSizeValue to serialise correctly (#27702)
Authorize on shard requests for bulk actions (elastic/x-pack-elasticsearch#2369)
Fix test concurrent remote connection updates
Add shard ID to failed global checkpoint messages
Remove AtomiFieldData#getLegacyFieldValues (#38087)
Merge branch 'master' into ccr
Use the XContentRegistry provided by the parser
[ML] Tighten up use of aliases rather than concrete indices (#37874)
Tests: Add noop test to prevent test failures
[TEST] Ensure shard follow tasks have really stopped.
Limit the number of nested documents (#27405)
[DOCS] Added index-shared4 and index-shared5.asciidoc
Keep commits and translog up to the global checkpoint (#27606)
Merge branch 'master' into feature/sql
Don't close caches while there might still be in-flight requests. (#38958)
Add realm information for Authenticate API (#35648)
CORE: Upgrade to Jackson 2.8.11 (#32670)
Merge remote-tracking branch 'origin/master' into feature/sql_2
Replace Bits with new abstract class to respresent documents that have a value (#24088) (#28334)
Mute IndexShardIT#testMaybeFlush
Increase timeout for ensureGreen in testShrinkIndexPrimaryTerm
Fix embarrassing NPE in audit trail.
SQL: Prevent StackOverflowError when parsing large statements (#33902)
Checkstyle PutRoleRequestTests
Move ScoreAccessor to test-framework (#35766)
Remove the ability to index or query context suggestions without context (#31007)
Fix merging of text field mapper (#40627)
A replica can be promoted and started in one cluster state update (#32042)
Merge branch 'master' into ccr
Changes to enable the build to run
[ML] Remove types from datafeed (#36538)
Add set_priority action to ILM (#37397)
Upgrade to Lucene-7.5.0-snapshot-b9e064b935 (#31839)
[ML] fix test, should account for async nature of audit (#40637)
Merge branch 'master' into ccr
Cleanup leftover tribe references in the plugin build.gradle file (elastic/x-pack-elasticsearch#2987)
Remove colons from task and configuration names
Enable removal of retention leases (#38751)
[Issue-27716]: CONTRIBUTING.md IntelliJ configurations settings are confusing. (#27717)
Fix put script calls in script tests with watcher
Removes experimental tag from scripted_metric aggregation (#31298)
Fix `_exists_` in query_string on empty indices. (#25993)
[TEST] Add SAML Redirect Signing test (#34562)
[DOCS] Update screenshots in ML tutorial (elastic/x-pack-elasticsearch#3492)
Copy Lucene IOUtils (#29012)
Add a base security rest handler (elastic/x-pack-elasticsearch#1239)
[Rollup] Replace RollupIT with a ESRestTestCase version (#31977)
CCR: Requires soft-deletes on the follower (#34725)
Require acknowledgement to start_trial license (#30135)
[DOCS] Fix licensing API details (#31667)
`manage_token` privilege for `kibana_system`
Change default value to true for transpositions parameter of fuzzy query (#26901)
Make persistent tasks work.
Merge branch 'master' into close-index-api-refactoring
Closer to compiling
Deprecate not copy settings and explicitly disallow (#30404)
Add a new "contains" feature (#34738)
Fix ShardFollowNodeTask.Status equals and hash code (#33189)
Remove import from InstallPluginCommandTests
Test: Fix last reference to SearchScript (#34731)
[CCR] Add validation checks that were left out of #30120 (#30463)
fixed compile error after merge
Unwrap causes when maybe dying
Mute failing WatchStatusIntegrationTests (#38621)
Add unreleased v6.2.3 version
Upgrade to Gradle 5.0  (#34263)
[ILM] Add null check to CopyExecutionStateStep (#34619)
[Security] Fix concrete security index name  (elastic/x-pack-elasticsearch#2905)
Ensure `InternalEngineTests.testConcurrentWritesAndCommits` doesn't pile up commits (#25367)
Merge branch 'master' into index-lifecycle
Build: Fix hadoop integ test error on windows (#24885)
Add version 6.0.0-beta2 after release
Register ERR metric with NamedXContentRegistry (#32320)
Fixes shrunk shards allocation check step
Core: Combine messageRecieved methods in TransportRequestHandler (#31519)
Ensure relocation occur in testRelocationWithConcurrentIndexing (#40801)
Merge branch 'master' into index-lifecycle
Remove the deprecated _termvector endpoint. (#36131)
convert more request objects to writeable (elastic/x-pack-elasticsearch#2457)
Use the primary_term field to identify parent documents (#27469)
Try if tombstone is eligable for pruning before locking on it's key (#28767)
Update security tests
SQL: Add some Javadocs (elastic/x-pack-elasticsearch#3816)
Add test for `PutFollowAction` on a closed index (#38236)
Renames lifecycle to policy in rest-api-spec (#33507)
Add license checks for auto-follow implementation (#33496)
Align docs etc with new discovery setting names (#38492)
Preserve the order of nested documents in the Lucene index (#34225)
Use file-based discovery not MockUncasedHostsProvider (#33554)
Fix testRefreshingMultipleTimesWithinWindowSucceeds (#39701)
Fixing template rendering after changes in master
Mute CharArraysTests#testCharsBeginsWith while we await a fix.
Use a single method to update shard state
Add unreleased v5.6.6 version
Remove setting index.optimize_auto_generated_id (#27600)
Add migration check for deprecated `delimited_payload_filter` (elastic/x-pack-elasticsearch#4310)
Simplify Snapshot Create Request Handling (#37464)
[Test] GoogleCloudStorageFixture command line is too long on Windows (#28991)
Applying changes required for ccr after moving ccr code to elasticsearch
HLRC: Add ILM Status to HLRC
SQL: Provide null-safe scripts for Not and Neg (#34877)
Cleanup network / transport related settings (#25489)
Persistent Tasks: refactor PersistentTasksService to use ActionListener (#937)
Selectors operate on channel contexts (#28468)
Fixed references to Multi Index Syntax (#27283)
REST high-level client: add put ingest pipeline API (#30793)
changed versionAdded now that #37767 is backedported
[DOCS] Fixed broken link to Monitoring Logstash.
Remove path.conf setting
DISCOVERY: Use Realistic Num. of Min Master Nodes (#34854)
Fix compilation due to upstream change
Make version field names more meaningful  (#35334)
Fix RangeFieldMapper rangeQuery to properly handle relations
Add translog file age to Translog Stats (#28613)
Ingest node - user agent, move device to an object (#38115)
Fix up tests now that GeoDistance.*.calculate works (#27541)
DOCS: Make ellipsis optional in /cat/thread_pool (#33186)
TEST: testDocStats should always use forceMerge (#32450)
Remove max script compilation settings in tests
Merge remote-tracking branch 'es/master' into ccr
[ML] Ignore IndexNotFoundException when deleting quantiles (elastic/x-pack-elasticsearch#1507)
Merge branch 'master' into feature/sql_2
Remove some legacy code from when indices could have multiple types. (#35815)
Add "request.id" to file audit logs  (#35536)
Reenable MonitoringIT#testMonitoringService.
Merge branch 'master' into feature/sql_2
SQL: Add all MATCH() query options (elastic/x-pack-elasticsearch#3387)
Merge branch 'master' into index-lifecycle
[ML] Data Frame minor tidy ups (#40548)
Plugins: Add backcompat for sha1 checksums (#26748)
Add Delete Privileges API to HLRC (#35454)
SQL: introduce the columnar option for REST requests (#39287)
[TEST] Use the test's Settings.Builder in the test rather than Settings.EMPTY
[TEST] Double write alias fault (#30942)
[ML] Add log structure finder functionality (#32788)
Template upgrades should happen in a system context (#30621)
Fix race condition in queue size test
Decouple XContentGenerator and JsonXContentGenerator from BytesReference (#28772)
Merge branch 'master' of github.com:elastic/elasticsearch
Use CountedBitSet in LocalCheckpointTracker (#27793)
[Geo] Integrate Lucene's LatLonShape (BKD Backed GeoShapes) as default `geo_shape` indexing approach (#35320)
Make PainlessScript an interface (#24966)
Add Snapshots Status API to High Level Rest Client (#31515)
[ML] Respect max_result_window setting in result APIs (elastic/x-pack-elasticsearch#4380)
Remove uncommitted ops assertion in shouldFlush
Enforce that java.io.tmpdir exists on startup (#28217)
Add HLRC docs for Explain Lifecycle (#35803)
[ML] Add integrations tests for memory limit compliance
[TESTS] Fix potential for negative sleep (elastic/x-pack-elasticsearch#1818)
Use PEM files for PkiOptionalClientAuthTests (#37683)
Painless: Fixes a null pointer exception in certain cases of for loop usage (#28506)
[Style] Fix line lengths in action.admin.indices (#34890)
Preserve index_uuid when creating QueryShardException (#32677)
add json-processor support for non-map json types (#27335)
Test: Remove leftover static bwc test case (#26584)
Verify that _bulk and _msearch requests are terminated by a newline (#25740)
Improve error message when aliases are not supported (#25728)
Logging: Further clean up logging ctors (#33378)
Use a `_recovery_source` if source is omitted or modified (#31106)
Implement ccr file restore (#37130)
Fix MetaTableRequest constructor
Avoid deprecated API usage in TaskOperationFailure (#39303)
[ML] Implement new rules design (#31110)
HLRC: Add get watch API (#35531)
Adapt bwc version after backport
test: expose error message on failure
add ILM rolling upgrade tests (#32828)
Cleanup split strings by comma method
Move precommit task implementation to java (#33407)
Merge remote-tracking branch 'es/master' into ccr
meta-plugin should install bin and config at the top level (#28162)
Rename ranking evaluation response section (#32166)
Fix usages of XContentParserUtils.ensureExpectedToken() (#35530)
Remove silent batch mode from install plugin (#29359)
copy LifecyclePolicy to protocol.xpack (#32915)
wildcard query on _index (#27334)
Migrate systemd packaging tests from bats to java (#39954)
docs: Remove incorrect warning
Ignore module-info in jar hell checks (#33011)
[TEST] Fix ML node attribute test
Do not mutate engine during planning step (#39571)
Ignore shard started requests when primary term does not match (#37899)
Make Transport Shard Bulk Action Async (#39793)
Merge branch 'master' into index-lifecycle
Support scrolling in SQL's CLI (elastic/x-pack-elasticsearch#2494)
Modify x-pack to for `TransportChannel` changes (elastic/x-pack-elasticsearch#3013)
Merge branch 'master' into index-lifecycle
Spelling: replace interruptable with interruptible (#37049)
[Zen2] Hide not recovered state (#36224)
Organize soft_deletes settings into a single group
SMB: Wrap at 140 columns (#34492)
Remove bulk fallback for write thread pool (#29609)
Painless: Add public member read/write access test. (#28156)
Use PlainListenableActionFuture for CloseFuture (#26242)
Adjust RestHighLevelClient method modifiers (#27238)
[DOCS] Check for Windows and *nix file paths (#31648)
Merge branch 'master' into ccr
Token API supports the client_credentials grant (#33106)
Remove the need for _UNRELEASED suffix in versions (#24798)
Remove Netty logging hack (#24653)
Support distance units in GeoHashGrid aggregation precision (#26291)
ML: Fix error race condition on stop _all datafeeds and close _all jobs (#38113)
Bootstrap a Zen2 cluster once quorum is discovered (#37463)
Default to basic license at startup (elastic/x-pack-elasticsearch#3878)
Delete shard store files before restoring a snapshot (#27476)
Restore a noop _all metadata field for 6x indices (#37808)
Control max size and count of warning headers (#28427)
Make accounting circuit breaker settings dynamic (#34372)
Remove remaining line length violations in o.e.cluster (#34941)
Rename ILM, ILM endpoints and drop _xpack (#32564)
Adjust copy settings on resize BWC version
enable debug logging for testHistoryUUIDIsGenerated (+1 squashed commit)
SNAPSHOTS: Upgrade GCS Dependencies to 1.55.0 (#36634)
Merge remote-tracking branch 'upstream/master'
Add logging to index commit deletion policy (#28448)
Enable convert processor to support Long and Double. (#27957)
Ensure query resources are fetched asynchronously during rewrite (#25791)
[Test] restore BWC for parent-join now that the new mapping format is in 5.x
Watcher: Restore old WatcherStatsAction for BWC (elastic/x-pack-elasticsearch#2022)
mute Failing tests related to logging and joda-java migration (#38704)
Types removal security index template (#39705)
[DOCS] Clarify behaviour of scripted-metric arg with empty parent buckets
Merge branch 'master' into ccr
Adjust to Streams.copy moving into elasticsearch-core (elastic/x-pack-elasticsearch#4263)
Remove the use of AbstracLifecycleComponent constructor #37488 (#37488)
[DOCS] Removed beta warning from ML tutorial
[GEO] Add WKT Support to GeoBoundingBoxQueryBuilder
Name the log tail thread and mark it as a daemon
Disabled integtest in core, because there are no *IT tests anymore.
Mute SpecificMasterNodesIT#testElectOnlyBetweenMasterNodes (#38334)
[ML] Add overall buckets api (elastic/x-pack-elasticsearch#2713)
Modify x-pack to support elasticsearch-core jar (elastic/x-pack-elasticsearch#3544)
Clarify the error message when a pipeline agg is used in the 'order' parameter. (#32522)
Disable testDeleteCreateInOneBulk on Zen2
[Test] Fix DiscoveryNodesTests.testDeltas() (#28361)
HLRC: Use Optional in validation logic (#33104)
[ML] Add meta information to all ML indices (#37964)
[Feature] Adding a char_group tokenizer (#24186)
[SQL] Clean up LogicalPlanBuilder#doJoin (#34048)
Synced-flush should not seal index of out of sync replicas (#28464)
[ML][DOCS] Remove empty rules from docs
SQL: Replace String.format() with LoggerMessageFormat.format() (#37216)
percolator: Also support IndexOrDocValuesQuery
Refactoring of Gateway*** classes (#26706)
cleanup ILM qa structure (#35110)
Ingest: Enable Templated Fieldnames in Rename (#31690)
XPack changes for: https://github.com/elastic/elasticsearch/pull/25456
Improve IndexNotFoundException's default error message (#34649)
Fields are declared at the top of the class. (#35891)
Merge branch 'master' into index-lifecycle
Highlight the "hidden" REST API test suite (#28381)
Rename seq# powered optimistic concurrency control parameters to ifSeqNo/ifPrimaryTerm  (#36757)
Propagate max_auto_id_timestamp in peer recovery (#33693)
Make RepositoriesMetaData contents unmodifiable (#30361)
Watcher: Set index and type dynamically in index action (elastic/x-pack-elasticsearch#3264)
Introduce NioTransport into framework for testing (#24262)
[TESTS] Mute SSLDriverTests in JDK11
Remove BytesRef usage from WatcherXContentParser (elastic/x-pack-elasticsearch#4024)
[CCR] Added history uuid validation (#33546)
Merge remote-tracking branch 'origin/master' into feature/client_aggs_parsing
Remove XPackExtension break from 7.0 it's ported to 6.3
[Build] Simplify testclusters configuration (#34334)
muted test (#40686)
Zen2: Add infrastructure for integration tests (#34365)
[ML] Make datafeeds run-as the user who created/updated them (elastic/x-pack-elasticsearch#3254)
Merge branch 'master' into ccr
Introduce retention lease syncing (#37398)
Fix certgen script usage of ES_HOME
Wait for index following is active for auto followed index (#39175)
Adds explain lifecycle API to the Rest Client (#32606)
X-Pack side of elastic/elasticsearch#27469 (elastic/x-pack-elasticsearch#3071)
Support Multiple Collapse Inner Hits
Add azure storage endpoint suffix #26432 (#26568)
Use Lucene soft-deletes in peer recovery (#30522)
[INGEST] Interrupt the current thread if evaluation grok expressions take too long (#31024)
Add stop rollup job support to HL REST Client (#34702)
[DOCS] Added transport client info for X-Pack (elastic/x-pack-elasticsearch#2737)
Update Execute Watch to allow unknown fields (#37498)
Add parsing for InternalFilters aggregation (#24648)
HLRest: model role and privileges (#35128)
Remove trial status info from start trial doc (#31365)
ReadOnlyEngine should update translog recovery state information (#39238)
[TEST] test that low level REST client leaves path untouched (#25193)
Remove deprecated CardinalityAggregationBuilder#rehash method (#37154)
Fix comment regarding removal of requiresKeystore
Update LicenseMetadata version check to be 6.1
CRUD: Disable wait for refresh tests with delete
[ML][HLRC] Replace REST-based ML test cleanup with the ML client (#34109)
In the internal highlighter APIs, use the field type as opposed to the mapper. (#31039)
Fix kerberos setting registration (#35986)
Move repository-gcs fixture test to QA project (#30208)
A constant can be used outside aggregation only queries (#34576)
Client: Wrap synchronous exceptions (#28919)
SQL: Fix bug with JDBC timezone setting and DATE type (#39978)
[ILM] refactor ExplainLifecycleRequest to enforce indices (#35753)
Testing conventions task part 2 (#36107)
Fix test base class that disables ML autodetect
Register data node stats from info carried back in search responses (#25430)
[ML] Special events calendar CRUD endpoints (elastic/x-pack-elasticsearch#3267)
Fix exporter tests to have reasonable dates (#38436)
Revert "[TEST] Muted TokenBackwardsCompatibilityIT.*"
Adapt SyncedFlushService (#37691)
SQL: HAVING clause should accept only aggregates (#31872)
Add exclusion option to `keep_types` token filter (#32012)
Wait for Netty threads after Security tests (elastic/x-pack-elasticsearch#4390)
[Kerberos] Use canonical host name (#32588)
[DOCS] Added xpack.watcher.history.cleaner_service_enabled
MINOR: Drop Redundant Ctx. Check in ScriptService (#33782)
Add explain API to high-level REST client (#31387)
SNAPSHOT: Make Atomic Blob Writes Mandatory (#37168)
Add persistent tasks
Reject the `index_options` parameter for numeric fields (#26668)
Reindex: Use request flavored methods (#30317)
Remove Redundant Request Wrappers from RepositoryService (#40192)
Add hook to skip asserting x-content equivalence (#33114)
[DOCS] Added setup-passwords command parameters (elastic/x-pack-elasticsearch#2735)
Revert "Deprecate X-Pack centric rollup endpoints (#35962)"
Makes all step tests use `randomStepKey()`
Use the global doc id to generate a random score (#33599)
Remove timeout task after completing cluster state publication (#40411)
Add Create Snapshot to High-Level Rest Client (#31215)
Merge branch 'master' into feature/sql
HLRC: Fix Compile Error From Missing Throws (#33083)
Start moving tests to integration tests
Release operation permit on thread-pool rejection (#25930)
[TEST] Remove unreliable scoring check on Graph API (elastic/x-pack-elasticsearch#918)
Remove broken @link in Javadoc
[ML][TEST] Add BWC tests for rules syntax change
SQL: Fix issue with always false filter involving functions (#36830)
Plugins: Consolidate plugin and module loading code (#28815)
Introduce ability to minimize round-trips in CCS (#37828)
Add composite aggregator (#26800)
Add accounting circuit breaker and track segment memory usage (#27116)
[ML] Use scaling thread pool and xpack.ml.max_open_jobs cluster-wide dynamic (#39320)
[ML] Create the ML annotations index (#36731)
SQL: Fix checkstyle / add missing hashCode (elastic/x-pack-elasticsearch#3323)
Copy and validatie soft-deletes setting on resize (#33517)
Improves doc values format deprecation message (#33576)
[Test] Wait for no relocating shards in indices.stats/13_fields tests
Move ensureAtomicMoveSupported to NodeEnvironment (#36975)
Introduce retention lease background sync (#38262)
Primary send safe commit in file-based recovery (#28038)
Merge branch 'master' into feature/sql
Merge remote-tracking branch 'elastic/master' into feature/sql
copy more actions to protocol.xpack (#32892)
Clarify IDE versions
Fix script field sort returning Double.MAX_VALUE for all documents (#24942)
Add API for SSL certificate information (elastic/x-pack-elasticsearch#3088)
Close xcontent parsers (partial) (#31513)
HLRC: fix uri encode bug when url path starts with '/' (#34436)
Add beta tag to MSI Windows Installer (#26616)
Merge branch 'master' into feature/rank-eval
Remove RepositoriesMetaData variadic constructor (#29569)
Fix JsonLoggerTests.testJsonInStacktraceMessageIsSplitted (#39830)
Merge remote-tracking branch 'upstream/master' into index-lifecycle
Build: add aggs-matrix-stats to license mapping and ignore sha list (elastic/x-pack-elasticsearch#2932)
Stop invoking non-existant syscall
Parse synonyms with the same analysis chain (#8049)
add MoveToStepAction and RetryAction to the XPackClient Actions
[DOCS] Add ML categorization of messages (elastic/x-pack-elasticsearch#1666)
Make the `type` parameter optional when percolating existing documents. (#39987)
Remove extraneous test from Painless lambda tests (#38111)
CCR/TEST: Adjust testFailOverOnFollower
Fail snapshot operations early on repository corruption (#30140)
Move composite aggregation to core (#27474)
[Docs] Update aggregations.asciidoc (#29265)
Upgrade to lucene-7.2.0-snapshot-8c94404. (#27619)
SQL: Fix running `gradle run` from top-level directory (elastic/x-pack-elasticsearch#3329)
[ML] fix x-pack usage regression caused by index migration (#36936)
Merge remote-tracking branch 'elastic/master' into feature/sql_2
Create keystore on package install (#28928)
SQL: Fix incorrect merging of #35852
[CCR] Restructured QA modules (#36404)
Fix AliasMetaData parsing (#30866)
Remove (deprecated) support for '+' in index expressions (elastic/x-pack-elasticsearch#1749)
Testing conventions: add support for checking base classes (#36650)
Rename ClusterBlocks.hasGlobalBlock methods (#36941)
mute TasksClientDocumentationIT testCancelTasks
Respect cluster alias in `_index` aggs and queries (#25885)
Add conditional token filter to elasticsearch (#31958)
[Test] Make sure the same exception is thrown for every test run. Fixes #25952
percolator: Hint what clauses are important in a conjunction query based on fields
Adjust to Nullable moving into core (elastic/x-pack-elasticsearch#4275)
Remove empty @return from JavaDoc
Multi-level Nested Sort with Filters
Fix line length for `node` and remove suppresion (#37454)
Watcher: Store username on watch execution (#31873)
Remove unused Netty-related settings (#26161)
Ensure that ip_range aggregations always return bucket keys. (#30701)
[DOCS] Move sql to docs (#31474)
Mute failing API key integration test (#38409)
Remove http pipelining from integration test case (#30788)
Add versioned DataInput and DataOutput to SQL (elastic/x-pack-elasticsearch#2600)
Add X-Forwarded-For to the logfile audit (#36427)
Unmute CreateIndexIT testCreateAndDeleteIndexConcurrently CI failures (#40960)
Test fix - Graph HLRC test was missing field name to be excluded from randomisation logic
Ensure we protect Collections obtained from scripts from self-referencing (elastic/x-pack-elasticsearch#3681)
Allow User/Password realms to disable authc (#34033)
Refactor Sniffer and make it testable (#29638)
Fix PrimaryAllocationIT Race Condition (#37355)
Watcher: Add transform input for chained input (elastic/x-pack-elasticsearch#2861)
[Logstash] New mapping for pipeline viewer (elastic/x-pack-elasticsearch#573)
Deprecate types in rollover index API (#38039)
Guard accessDeclaredMembers for Tika on JDK 10
Merge branch 'master' into feature/sql
Fix setting openldap realm ssl config
Switch x-pack/plugin to new style Requests (#32327)
Move bracket
Remove no existing commits assertion in onInit()
Add a new query type - ScriptScoreQuery (#34533)
[Docs] Convert remaining code snippets in docs (#26422)
Include translog path in error message when translog is corrupted (#32251)
Fix rollup on date fields that don't support epoch_millis (#31890)
Move non duplicated actions back into xpack core (#32952)
Renames AliasStep to ShrinkSetAliasStep
Fixed quote_field_suffix in query_string (#29332)
Always Accumulate Transport Exceptions (#25017)
[DOCS] Identify informational ML properties (elastic/x-pack-elasticsearch#3773)
Merge branch 'master' into ccr
Add support for username and password in SQL CLI (elastic/x-pack-elasticsearch#2718)
Do not swallow fail to convert exceptions (#29043)
Retry ILM steps that fail due to SnapshotInProgressException (#37624)
Add setting to bypass Rollover action (#36235)
Test: fix min value being greater than max value in IndexLifecycleManagerIntegTests
MINOR: Remove Deadcode in aggregtions.support (#34323)
Add  `use_field` option to intervals query (#40157)
[TEST] Expand failure message for wildfly integration tests
Set acking timeout to 0 on dynamic mapping update (#31140)
Merge remote-tracking branch 'elastic/master' into ccr
[CCR] Make cross cluster replication work with security (#30239)
[Docs] Clarify `html` encoder in highlighting.asciidoc (#27766)
Update docs regarding SHA-512 checksums
Fix compilation in eclipse (#25107)
Fix race condition in RemoteClusterConnection node supplier (#25432)
remove await fix from FullClusterRestartIT.testRecovery
Add a java level freeze/unfreeze API (#35353)
Update bootstrap security details (elastic/x-pack-elasticsearch#2430)
HLRC support for getTask (#35166)
Bumping version to v6.0.0-alpha2
Add apm_user reserved role (#38206)
Expose retention leases in shard stats (#37991)
Reflect renaming of bulk thread pool (elastic/x-pack-elasticsearch#4414)
Duplicate Protocol classes into Core
[TEST] Replaces flaky breaker IT test with unit test (#28418)
Fail if reading from closed KeyStoreWrapper (#30394)
Remove sizing from `Recycler#obtain` (#39975)
X-Pack: Add index.internal.format index setting (elastic/x-pack-elasticsearch#1700)
security: Always allow access to a rootdoc's nested documents if access to rootdoc is allowed
 #25601 Add pipeline support for REST API bulk upsert (#27075)
Switch to hardcoding Smile as the state format (#28610)
Revert "Fix IndexSearcherWrapper visibility (#39071)"
LDAP calls that create a new connection use privilegedConnect (elastic/x-pack-elasticsearch#2018)
Resilience page - Remove 6.0.0 as a target for the discovery refactoring. (#26311)
Merge branch 'master' into index-lifecycle
Zen2: Integrate publication pipeline into Coordinator (#33771)
Remove use of ES_INCLUDE
Merge branch 'master' into ccr
ingest: processor stats (#34202)
Fix runtime class cast exception in TRA
silence InstallPluginCommandTests, see https://github.com/elastic/elasticsearch/issues/30900
SQL: Add protocol tests and remove jdbc_type from drivers response (#37516)
Handle "current" being dropped from the list of released versions
Mute CorruptedFileIT in CCR
Add Seq# based optimistic concurrency control to UpdateRequest (#37872)
Integ test snapshot and restore for native realm (#39123)
Adapt to upstream changes made to AbstractStreamableXContentTestCase (#2117)
SQL: Update docs (elastic/x-pack-elasticsearch#3386)
Adapt transport tests for the extra byte introduced in #31020
Clean up PutLicenseResponse (#35689)
SQL: Fix bug caused by empty composites (#30343)
Fix node tool cleanup (#39389)
Test fixtures krb5 (#40297)
Add comments about need for explicit cast
[TEST] Muted TokenBackwardsCompatibilityIT.*
[test] add java packaging test project (#30161)
Update index-modules.asciidoc
Migrate RecoveryFromGatewayIT to Zen2 (#37520)
Open engine should keep only starting commit (#28228)
Fix toString
Tests: Remove unneeded classes, fix AwaitsFix watcher tests (elastic/x-pack-elasticsearch#2139)
Plugins: Remove intermediate "elasticsearch" directory within plugin zips (#28589)
Make PreConfiguredTokenFilter harder to misuse (#24572)
Merge branch 'master' into feature/sql
SQL: Rename DebugCsvSpec to match test naming convention
Enable security automaton caching (#34028)
[DOCS] Fix ML latency definition (elastic/x-pack-elasticsearch#2091)
Remove Obsolete BWC Serialization Logic (#39879)
Rollback primary before recovering from translog  (#27804)
Merge branch 'master' into feature/sql_2
[DOCS] Replace X-Pack terms with attributes
Geo: better handling of malformed geo_points (#35554)
Remove deprecated QueryStringQueryBuilder#splitOnWhiteSpace (#35763)
Add useful message when no input from terminal (#29369)
Fix anaylze NullPointerException when AnalyzeTokenList tokens is null (#39332)
[DOCS] Updated doc info in readme
Prepare to make send translog of recovery non-blocking (#37458)
CCS: don't proxy requests for already connected node (#31273)
SQL: Add missing indices:data/read/sql/tables known handler and action
[ML][TEST] Add integ test for categorical rule (elastic/x-pack-elasticsearch#3739)
Deprecate HLRC security methods (#37883)
Move DNS cache docs to system configuration docs
Don't detect source's XContentType in DocumentParser.parseDocument() (#26880)
Remove timezone validation on rollup range queries (#40647)
Index shard should roll generation via the engine
fixing typo in nested-aggregation.asciidoc (#26481)
Add link to script score query in the top level docs (#36416)
Fix authentication forward compatibility (elastic/x-pack-elasticsearch#1481)
Switch many QA projects to use new style requests (#30574)
Docs: Add Upgrade API documentation (elastic/x-pack-elasticsearch#2063)
[CCR] Removed custom follow and unfollow api's reponse classes with AcknowledgedResponse (#33260)
Removes unused imports
Logging: Unify log rotation for index/search slow log (#27298)
Aggregations: bucket_sort pipeline aggregation (#27152)
Merge branch 'master' into feature/sql
[Docs] Update tophits-aggregation.asciidoc (#28273)
Fix message content in users tool (#30293)
Create snapshot role (#35820)
Revert "Mute test for #35361"
Muted testEmptyAuthorizedIndicesSearchForAllDisallowNoIndices
Do not compute cardinality if the `terms` execution mode does not use `global_ordinals` (#38169)
[Monitoring] Email actions for Cluster Alerts (elastic/x-pack-elasticsearch#1879)
[TEST] Allow to run in FIPS JVM (#32607)
[ML] Avoid creating spurious 0 "actual" values for model plot documents (elastic/x-pack-elasticsearch#2535)
Switch security spi example to new style Requests (#32341)
Handle missing user in user privilege APIs (#34575)
[Test] Modify assert statement for ssl handshake (#32072)
Lift error finding utility to exceptions helpers
Ignore .DS_Store files on macOS
Handle removing log4j dependency from elasticsearch-core jar (elastic/x-pack-elasticsearch#3976)
Add ranking evaluation API to High Level Rest Client (#28357)
[ML] Adjust memory limit test to account for greater accuracy (elastic/x-pack-elasticsearch#3047)
[TEST] Enforce skip headers when needed (#34735)
Add missing tests for CcrRequestConverters (#39228)
SQL: Ignore H2 comparative tests for uppercasing/lowercasing string functions (#32604)
Fix handling of empty keyword in terms aggregation (#34457)
Change HLRC CCR response tests to use AbstractResponseTestCase base class. (#40257)
Protect ScriptedMetricIT test cases against failures on 0-doc shards (#32959) (#32968)
Fix erroneous docstrings for abstract bulk by scroll request (#37517)
HLRC: ML Flush job (#33187)
add user authentication test for ILM (#32826)
[Docs] Fixed typo of *configuration* (#25058)
Merge branch 'master' into index-lifecycle
Rename index_prefix to index_prefixes (#30932)
Merge branch 'master' into ccr
Scripting: Simplify search method on script service (#24817)
Zen2: Trigger join when active master detected (#34008)
Remove support for ES_INCLUDE
Docs: Update generating test coverage reports (#29255)
Ensure that _exists queries on keyword fields use norms when they're available. (#33006)
Docs: Fix secure settings link
Refactor Netty4Utils#maybeDie (#33021)
Merge remote-tracking branch 'upstream/master' into index-lifecycle
[Docs] Fix Java Api index administration usage (#28133)
[ML] Return error when process cause has been killed (elastic/x-pack-elasticsearch#4211)
Mute testFilterCacheStats
Upgrade to Lucene-7.4.0-snapshot-59f2b7aec2 (#30726)
[ML] Don't serialise the detector_index field to cluster state (elastic/x-pack-elasticsearch#1628)
Add REST tests for value_count, stats, extended_stats and cardinality aggs (#26239)
Add an example of dynamic field names (#27255)
 Combine accepting selector and socket selector (#31115)
Add Punjabi to unsupported Kerberos locales list (#34440)
SQL: Small code improvements of Pipes & Processors (#40909)
Re-enable bwc tests
Enforce limitations on ILM policy names (#35104)
Geo: replace intermediate geo objects with libs/geo (#37721)
Watcher: Execute Watch API returns better error message (elastic/x-pack-elasticsearch#4228)
SQL: Switch CLI to core-cli's Command and make it testable (elastic/x-pack-elasticsearch#3232)
Add ccr follow info api (#37408)
Introduce specific types of index lifecycle policies (#3157)
SQL: Move qa directory into sql directory (#34496)
Support changes in nio channel contexts (elastic/x-pack-elasticsearch#3609)
[ML] Refactor [Bucket|Record]QueryBuilder classes (elastic/x-pack-elasticsearch#2684)
Fix javadoc warning in Strings for missing parameter description
Add failing test for core cache deadlock
Reject all requests that have an unconsumed body (#37504)
Scripting: Remove SearchScript (#34730)
[TEST] Fix RolloverActionTests.mutateInstance
Introduce transport API for cluster bootstrapping (#34961)
Remove tests and branches that will never execute (#38772)
move phase-after steps to have the previous phase's phase in its key (#4387)
[CCR] Fix follow stats API's follower index filtering feature (#36647)
add support for is_write_index in put-alias body parsing (#31674)
HLRC: Delete ML calendar (#33775)
[DOCS] Rename index-all.asciidoc to index.asciidoc
Upgrade to lucene 8.0.0-snapshot-ff9509a8df (#39350)
Fix assertion at end of forceRefreshes (#37559)
Use simplified ScriptContext (elastic/x-pack-elasticsearch#1502)
[DOCS] Move migration APIs to docs (#31473)
Handle scheduler exceptions (#38014)
[TEST] increases testDataFileCorruptionDuringRestore logging to TRACE to
 Use settings from the context in BootstrapChecks (#32908)
[ML] Interrupt Grok in file structure finder timeout (#36588)
Add float and Float standard casting tests to Painless. (#40221)
Fix edge case in PutMappingRequestTests (#37665)
Disable console logging in the Windows service
test: Stop using the `mapping.single_type` setting in percolator tests.
LLRest: Add equals and hashcode tests for Request (#30584)
Add remote cluster client (#29495)
Validate top-level keys for create index request (#23755) (#23869)
[Monitoring] Fix MonitoringIT on Windows
Enforce retention leases require soft deletes (#39922)
SQL: Generate relevant error message when grouping functions are not used in GROUP BY (#38017)
Remove implicit index monitor privilege (#37774)
Remove interning from prefix logger (#29031)
Upgrade to Log4j 2.9.0
Check that delete index request succeeded in test teardown (#38903)
Factor UnknownNamedObjectException into its own class (#28931)
Remove unused class MemoryCircuitBreaker
Merge remote-tracking branch 'origin/master' into index-lifecycle
Fix SAMLRealmTests#testReadIdpMetadataFromHttps failures
Fix GeoShapeQueryBuilder serialization after backport
Use Netty ByteBuf Bulk Operations for Faster Deserialization (#40158)
Migrate IndicesExistsIT to Zen2 (#37526)
Build: Fail if any libs depend on non-core libs (#29336)
[Monitoring] Cleaner Service should be able to cleanup .watcher-history* (elastic/x-pack-elasticsearch#2696)
Merge remote-tracking branch 'es/master' into ccr
[Tests] Mute failing SearchDocumentationIT#testSearchRequestAggregations
[Docs] Add documentation for search queries in high-level rest client (#25984)
[ML] Map new fields as keywords in results index (elastic/x-pack-elasticsearch#1387)
Mute SmokeTestWatcherTestSuiteIT.testMonitorClusterHealth()
HLRC XPack Protocol clean up: Migration; Graph; Watcher (#34639)
Fix intermittent failure in ApiKeyIntegTests (#38627)
Remote 6.x transport BWC Layer for `_shrink` (#33236)
Introduce Kerberos Test Fixture for Repository HDFS Security Tests (#24493)
Abstract GeoHashGridAggregatorFactory creation, renamed geohash -> hash (#37836)
[ML] Fix fallout from bulk action requiring newlines (elastic/x-pack-elasticsearch#2205)
Mute testReopenDuringCloseOnMultipleIndices
Improves handling of exceptions in Index Lifecycle (#3511)
HLRC: split tasks request converters (#33441)
fix infinite loop in test and correct logic in timeseries type
Abort early on finding duplicate snapshot name in internal structures (#29634)
[TEST] Mute MlMappingsUpgradeIT testMappingsUpgrade
Add an `include_type_name` option. (#29453)
Fix error message when package install fails due to missing Java (#36077)
Fix AwaitsFix issue number
[Test] Add unit test for XContentParserUtilsTests.parseStoredFieldsValue (#25288)
Use nio driven http client for testing (#32621)
Use shaded rest client dependencies
Improve error message for deleting in-use policy (#36457)
Cleanup sql build
Unmute BuildExamplePluginsIT
Always return metadata version if metadata is requested (#37674)
Scripting: Properly support no-offset date formatting (#36316)
[DOCS] Fixed hardcoded link to ES ref.
revamp TransportRequest handlers to support Writeable (#26315)
SQL: Optimizer rule for folding nullable expressions (#35080)
Changes to support removal of Field stats API (elastic/x-pack-elasticsearch#1953)
Merge branch master into zen2
Fix dynamic mapping update generation. (#27467)
Deprecate Fine Grain Settings for Scripts (#24573)
Number of utilities for writing gradle integration tests (#32282)
Merge branch 'master' into index-lifecycle
Remove note about Azure ARM plugin (#40219)
Remove use of AbstractComponent in security (#35186)
TEST: Corrupt some translog files used in recovery (#27887)
Suppress DeadHostStateTests on Windows
SQL: Remove time threshold for rule executor (elastic/x-pack-elasticsearch#2750)
Begin moving XContent to a separate lib/artifact (#29300)
[TEST] Fixes docs tests
Add api to upgrade from basic to trial license (elastic/x-pack-elasticsearch#2419)
uninherit from AbstractComponent in IndexLifecycleService
ML: fix delayed data annotations on secured cluster (#37193)
Add 6.2.1 version constant
Scripting: Fix expressions to temporarily support filter scripts (#26824)
[ML-Dataframe] Use standard string constant for mapping type (#39453)
Merge branch 'master' into index-lifecycle
[DOCS] Fixing formatting issues in breaking changes
[Contradictory type checks](https://lgtm.com/projects/g/elastic/elasticsearch/snapshot/dist-1916470085-1548143539391/files/x-pack/plugin/sql/jdbc/src/main/java/org/elasticsearch/xpack/sql/jdbc/debug/Debug.java#xe223478b74721d35:1) (#38154)
Add WeightedAvg metric aggregation (#31037)
Tests: Replace http input integration test with REST test (elastic/x-pack-elasticsearch#3215)
Add infrastructure to upgrade settings (#33536)
search as you type fieldmapper (#35600)
No longer unidle shard during recovery
Guarantee that translog generations are seqNo conflict free (#24825)
Tie-break shard path decision based on total number of shards on path (#27039)
Watcher: Reenable email property settings (elastic/x-pack-elasticsearch#4319)
SQL: Fix display size for DATE/DATETIME (#40669)
Drop SQL's Session features (elastic/x-pack-elasticsearch#2639)
turn GetFieldMappingsResponse to ToXContentObject (#31544)
Fix EsAbortPolicy to conform to API (#29075)
Persistent Tasks: switch from long task ids to string task ids (#1035)
Fixed NumberFormatException in the rest layer by only setting batch_size if it has been specified.
Amazon: Wrap at 140 columns (#34495)
SQL: Provide hex version of toString for SQL's byte array (elastic/x-pack-elasticsearch#2469)
TEST: Update logging for testAckedIndexing
Stop returning cluster state size by default (#40016)
This implementation lazily (on 1st forecast request) checks for available
[Docs] Fix missing closing block in cluster/misc.asciidoc
Replace joda time in ingest-common module (#38088)
Fix scripts when launching from bin
Replace Vagrant with Docker for idp-fixture (#39948)
Extend JVM options to support multiple versions
Merge branch 'master' into index-lifecycle
Merge branch 'master' into close-index-api-refactoring
[TEST] bump timeout in testFetchShardsSkipUnavailable to 5s
[ML][TEST] Clean up jobs after SE test
store the doc type in the internal index (#39824)
Switch remaining LLREST usage to new style Requests (#33171)
Ignore null value for range field (#27845) (#28116)
Adds API to assign or change the policy for an index (#31277)
Fix ClusterBlock serialization and Close Index API logic after backport to 6.x (#37360)
Painless: Use LocalMethod Map For Lookup at Runtime (#32599)
Fix field mapping updates with similarity (#33634)
Mute ReplicationTrackerRetentionLeaseTests#testAddOrRenewRetentionLease (#38275)
Fixing line lengths in murmur3 and hdfs plugins (#34603)
Correct CRUDDocumentationIT.java
SQL: Make schema optional in RowSet (elastic/x-pack-elasticsearch#2834)
Scripts: Convert template script engines to return String instead of BytesReference (#24447)
Fix version parsing in SQL
Add roles and cluster privileges for data frame transforms (#39661)
[TEST] Fix failure due to exception message in java11 (#32321)
Revert "add ILM rolling upgrade tests (#32828)"
Move test classes to test root in Painless (#40873)
[HLRC] Added support for CCR Delete Auto Follow Pattern API (#35981)
Support client-only mode for NioTransport (#25839)
Require elastic password be bootstrapped (elastic/x-pack-elasticsearch#1962)
[ML] Prevent submit after autodetect worker is stopped (#37700)
Enforce that responses in docs are valid json (#26249)
Watcher: Improvements on the rolling restart tests (elastic/x-pack-elasticsearch#2286)
Remove no-op test (#33861)
Fix Rollup's metadata parser (#36791)
Removes two unused AnalysisConfig options (#35645)
Merge branch 'master' into ccr
Propagate Errors in executors to uncaught exception handler (#36137)
Zen2: Fail fast on disconnects (#34503)
Fix merging logic of Suggester Options (#29514)
[CCR] FollowingEngine should fail with 403 if operation has no seqno assigned (#37213)
Make RestHighLevelClient Closeable and simplify its creation (#26180)
Fix script setting names in script security docs
Merge branch 'master' into feature/rank-eval
ListenableFuture should preserve ThreadContext (#34394)
Add SSL Configuration Library (#37287)
SQL: Fix translation of LIKE/RLIKE keywords (#36672)
Introduce ElectionScheduler (#32846)
Change CCR API request classes to use Writeable serialization instead of Streamable (#34911)
Update version after client credentials backport
Move more token filters to analysis-common module
Rename croneval
Integrates soft-deletes into Elasticsearch (#33222)
Merge branch 'master' into ccr
Replace version with reader cache key in IndicesRequestCache (#34189)
Java api: Remove unneeded getTookInMillis method (#23923)
Preliminary support for ARM
Deprecate `_source_include` and `_source_exclude` url parameters (#33475)
[TEST] Mute WatchMetadataTests.testWatchMetadata
Use serializable exception in GCP listeners (#33657)
Enable MockHttpTransport in ShardChangsIT
Merge remote-tracking branch 'elastic/master' into ccr
[CCR] AutoFollowCoordinator should tolerate that auto follow patterns may be removed (#35945)
Enable engine factory to be pluggable
Remove AllocatedPersistentTask.getState() (#30858)
Relax Overly Strict Assertion in TransportShardBulkAction (#40940)
[TEST] Wait for index to be green before searching (elastic/x-pack-elasticsearch#4034)
Serialize ignore_throttled also to 6.6 after backport
Switch indices read-only if a node runs out of disk space (#25541)
Zen2: Move all mixed-version REST tests to Zen2 (#36398)
Add 5.5.2 Version and 5.5.1 BWC indices
Merge branch 'master' into close-index-api-refactoring
[DOCS] Added licensing APIs (elastic/x-pack-elasticsearch#4026)
Move JdbcTemplate
TEST: Avoid deletion in FlushIT
SQL: Fix incorrect message for aliases (#31792)
SQL: fix the security index name in audit tests
stop throwing an IllegalStateException for unrecognized steps (#32212)
Move DeleteByQuery and Reindex requests into core (#24578)
Merge remote-tracking branch 'origin/master' into index-lifecycle
SQL: NOCOMMIT cleanup
Avoid hardcoded error message that depends on the current version in tests. (#26391)
[DOCS] Omit shard failures assertion for incompatible responses  (#31430)
CCR: Make AutoFollowMetadata immutable (#33977)
Watcher: Ensure secrets integration tests also run triggered watch (#30478)
Reverse logic for CCR license checks (#33549)
Move to Error step if ClusterState* steps throw (#35069)
Fix multi level nested sort (#32204)
Support merge nested Map in list for JIRA configurations (#37634)
Watcher: Improve upgrade API logging message to include index names
Adapt changes in PersistentTaskParams
SQL: Introduce HISTOGRAM grouping function (#36510)
Build: Use environment variables for credentials (elastic/x-pack-elasticsearch#4058)
Merge branch 'master' into ccr
[TEST] wait until reindex tasks ready for rethrottle (#26250)
SQL: restore support for timezones in the DateTimeProcessor (elastic/x-pack-elasticsearch#2450)
Remove unused *Commit* classes (#27714)
Watcher accounts constructed lazily (#36656)
Remove MovingAverage pipeline aggregation (#39328)
Removed persistent tasks framework from xpack-elasticsearch repository, because it now part of the elasticsearch repository.
Correct bug in ScriptDocValues (#40488)
Remove unregistered `transport.netty.*` settings (#25476)
Revert "Do NOT allow termvectors on nested fields (#32728)"
Fix AD / vagrant based tests for #30953
Watcher: Fix encoding of UTF8 data in HttpClient (elastic/x-pack-elasticsearch#3398)
HLRC: Fixing bug when getting a missing pipeline (#34286)
Watcher: Ensure all templates exist before starting watcher (elastic/x-pack-elasticsearch#2765)
[Monitoring] Update Beats Template with Metrics (elastic/x-pack-elasticsearch#2902)
Enable Wildfly tests on JDK 9 and JDK 10
Feature/hlrc ml docs cleanup (#34316)
Testing fixes
HLRC: add support for the clear realm cache API (#35163)
Allow `ClusterState.Custom` to be created on initial cluster states (#26144)
Use final fields in UnicastZenPing request/response objects (#28406)
[DOCS] add docs for high level client get method (#25538)
Geo: Adds a set of no dependency geo classes for JDBC driver (#36477)
Fix AutoIntervalDateHistogram.testReduce random failures (#32301)
[ingest] geo-ip performance improvements (#33029)
SCRIPTING: Move Aggregation Scripts to their own context (#32068)
Forbid negative field boosts in analyzed queries (#37930)
Add stricter geohash parsing (#30376)
Fix handling of percent-encoded spaces in Windows batch files (#31034)
[Tests] Fix creating ExplainLifecycleRequest with no indices (#35828)
SQL: TRUNCATE and ROUND functions (#33779)
Update outdated java version reference (#28870)
Remove heuristics that enable security on trial licenses (#38075)
[ML] Preserve _meta on results index mapping update (elastic/x-pack-elasticsearch#2274)
SQL: Fix more JDK vs Joda TZ issues (elastic/x-pack-elasticsearch#3137)
[DOCS] Moves commands to docs folder (#31114)
Security Audit includes HTTP method for requests (#37322)
HLRC: DRY up remaining CRUD docs (#34925)
[CCR] Added write buffer size limit (#34797)
Build: use built-in support for keystore files (elastic/x-pack-elasticsearch#4353)
Test: Quiet failing java 9 test due to log4j upgrade
Immediately flush channel after writing to buffer (#31301)
Limits num hits when reading lucene changes
Remove the `update_all_types` option. (#28288)
Mute FilterAggregatorTests#testRandom
[ML] Refactor aggregation response handling to make more flexible (elastic/x-pack-elasticsearch#1795)
[CCR] Make index.xpack.ccr.following_index an internal setting (#33768)
Clear responsibilities for PublishClusterStateAction and ZenDiscovery (#24772)
Add trace log of the request for the query and fetch phases (#34479)
Azure repository: Accelerate the listing of files (used in delete snapshot) (#25710)
[ML] Refactor GET Transforms API (#40015)
Update docs about `script` parameter (#27010)
Cross Cluster Search: preserve remote status code (#30976)
Watcher: Ensure mail message ids are unique per watch action (#30112)
Dependencies: Update joda time to 2.9.9 (#28261)
Check self references in metric agg after last doc collection (#33593) (#34001)
Explain why Elasticsearch doesn't support incremental resharding. (#29082)
Enable BWC testing against other remotes
Correct deprec log in RestGetFieldMappingAction (#37843)
[TEST] AwaitsFix testTriggerUpdatesConcurrently
re-enable SmokeTestWatcherWithSecurityIT (#38814)
Merge remote-tracking branch 'elastic/master' into zen2
Merge remote-tracking branch 'elastic/master' into feature/sql_2
Introduce StepListener (#37327)
Docs enhancement: added reference to cluster-level setting `search.default_allow_partial_results` (#32810)
Fix Source filtering in new field collapsing feature 
Only flush Watcher's bulk processor if Watcher is enabled (#38803)
Search: Test deprecated field in mixed cluster
Fix typo in percolate-query.asciidoc (#29155)
Allow index settings to be reset by wildcards (#27671)
Reduce refresh when lookup term in FollowingEngine (#39184)
Merge branch 'master' into index-lifecycle
[TEST] add missing doc tests for HLRC GetRollupIndexCaps API
Build: Print warn logs from cluster on failure (#28401)
[DOCS] Add FAQ for ML rolling upgrade issue (elastic/x-pack-elasticsearch#1390)
[DOCS] Added sysgenkey command and watcher encryption settings (elastic/x-pack-elasticsearch#3043)
Add early termination support to BucketCollector (#33279)
Remove warn-date from warning headers (#37622)
Security: reorder realms based on last success (#36878)
Mute PutMappingRequestTests.testSerialization
Do not use system properties when building the HttpAsyncClient (#27829)
Fix handling of exceptions thrown on HEAD requests
Bump token service BWC version to 6.0.0-beta2
Fix kuromoji default stoptags (#26600)
Add notion of internal index settings (#31286)
Small refactoring
Mute ClusterPrivilegeTests#testThatSnapshotAndRestore
SQL: Soften some more NOCOMMITs
Make sure that BWC tests run successfully, even with types deprecation messages. (#36511)
Only turn to follower when term bumping on follower check (#36449)
Register remote cluster compress setting (#35464)
Fix plugin build test on Windows (#33078)
MINOR: Remove Deadcode in NioTransport CORS (#34324)
Watcher: Mark watcher as started only after loading watches (#30403)
Ensure that gcs client creation is privileged (#25938)
Tests: Remove watcher ensureWachterStarted/Stopped methods (elastic/x-pack-elasticsearch#3798)
Ensure nested documents have consistent version and seq_ids (#27455)
Fix line length violation in cache tests
Stop clearing all watches in watcher integration tests. (#39724)
[Monitoring/Cluster Alerts] Fix the email message when cluster license expiration is resolved (elastic/x-pack-elasticsearch#2557)
[DOCS] Fixed typo in count function
Fallback to `keystore.seed` as a bootstrap password if actual password is not present (elastic/x-pack-elasticsearch#2295)
[Security] Check auth scheme case insensitively (#31490)
_cluster/state should always return cluster_uuid (#30143)
Move getType to Aggregation interface (#24822)
Tests: Fix edge case in InternalSimpleValueTests (#26084)
Add search window parameter k to MRR and DCG metric (#27595)
Scripting: Add back joda to whitelist (#35915)
Tests: Fix DateFormatter equals tests with locale (#34435)
fixed codestyle violation
Validate xContentType in PutWatchRequest. (#31088)
SQL: Fix MOD() for long and integer arguments (#36599)
Watcher: Remote WatcherClientProxy/ClientProxy class (elastic/x-pack-elasticsearch#1561)
Use default discovery implementation for single-node discovery (#40036)
Remove XPackExtension in favor of SecurityExtensions (elastic/x-pack-elasticsearch#3734)
Add more detailed OS name on Linux (#35352)
fix repository update with the same settings but different type (#31458)
Make AllocatedPersistentTask members volatile (#2297)
HLRC: split cluster request converters (#33400)
SQL: [Test] Fix and enable test with randomness (#34850)
MINOR: Remove Dead Code from Netty4Transport (#34134)
Plugins can register pre-configured char filters (#25000)
Add seq no powered optimistic locking support to the index and delete transport actions (#36619)
[ML] Include message in field_stats for text log files (#34861)
Move CCR REST tests to a sub-project of ccr
Address some CCR REST test case flakiness (#38975)
[ML] Refactor delimited file structure detection (#33233)
Handle pre-6.x time fields (#34373)
Add a new `_ignored` meta field. (#29658)
Make PreBuiltAnalyzerProviderFactory plugable via AnalysisPlugin and
Fix license on AcitveDirectorySIDUtil (#30972)
[Tests] Reduce randomization in CloseWhileRelocatingShardsIT (#36694)
Make prepare engine step of recovery source non-blocking (#37573)
Add Restore Snapshot High Level REST API
Converts ILM HLRC APIs to use client Ack response (#35492)
Mute two tests in FlushIT with @AwaitsFix.
[ML-DataFrame] Add _preview endpoint (#38924)
[TEST] Fix assumeFalse -> assumeTrue in SSLReloadIntegTests
Mute HttpExporterTests#testHttpExporterShutdown test
Preserve cluster settings on full restart tests (#33590)
Remove action request builders.
Merge branch 'master' into index-lifecycle
Update to lucene-8.0.0-snapshot-c78429a554 (#36212)
Allow inclusion of unloaded segments in stats (#39512)
[ML] making test more determinate (#40374)
[DOCS] Add secure versions of SSL passphrases (elastic/x-pack-elasticsearch#2478)
Fix serialization of the `_all` field. (#26143)
SQL: Support multi-index format as table identifier (#33278)
Mute ShrinkIndexIT suite
introduce refactored ShrinkAction
ingest: correctly measure chained pipeline stats (#33912)
[ML] Update process when filters or calendars are updated (elastic/x-pack-elasticsearch#3385)
[ML] Account for the possibility of C++ log messages being UTF-16 (elastic/x-pack-elasticsearch#2952)
Document removal of forced versioning for update API (#28834)
Merge branch 'master' into index-lifecycle
Reset replica engine to global checkpoint on promotion (#33473)
Geo: Adds a name of the field to geopoint parsing errors (#36529)
Early termination with index sorting should not set terminated_early in the response (#26597)
Docs: Add note about missing mapping for doc values field (#29036)
Merge branch 'master' into feature/client_aggs_parsing
[DOCS] Add forecasting to ML tutorial (elastic/x-pack-elasticsearch#3489)
SQL: Fix wrong appliance of StackOverflow limit for IN (#36724)
Introduce retention lease serialization (#37447)
Unmute AbstractQueryTestCase#testToQuery.
Rename CCR stats implementation (#34300)
Build: add client jar for aggs-matrix-stats (#24827)
Un-mute NoMasterNodeIT.testNoMasterActionsWriteMasterBlock
Validate a joining node's version with version of existing cluster nodes (#25808)
Remove the single argument Environment constructor (#27235)
Enhance Parent circuit breaker error message (#32056)
Remove the distinction between query and filter context in QueryBuilders (#35354)
scripted_metric _agg parameter disappears if params are provided (#27159)
SQL: Fix issue with complex expression as args of PERCENTILE/_RANK (#37102)
Remove string usages of old transport settings (#40818)
Build: Merge xpack checkstyle config into core (#33399)
Remove Obsolete BwC Serialization Code (#40032)
Fix non-REST doc snippet
[ML] Accept more varied Datafeed Aggregations  (elastic/x-pack-elasticsearch#2038)
Mute failing test
Make certain ML node settings dynamic (#33565) (#33961)
Scripting: Rename CompiledType to FactoryType in ScriptContext (#24897)
moar changes from Tal
Upgrading HDFS Repository Plugin to use HDFS 2.8.1 Client (#25497)
SQL: Return Intervals in SQL format for CLI (#37602)
Adds test name to MockPageCacheRecycler exception (#28359)
Optimize warning header de-duplication (#37725)
[ML] Set established model memory on job open for pre-6.1 jobs (elastic/x-pack-elasticsearch#3222)
[TEST] Fix RemoteClusterConnectionTests
 Adjust serialization versions after backport
Adjust to ObjectParser moving into the x-content lib (elastic/x-pack-elasticsearch#4297)
Merge branch 'master' into ccr
[TEST] Convert SearchHitsTests to AbstractStreamableXContentTestCase (#36313)
 SQL: Move CLI into plugin/sql directory (elastic/x-pack-elasticsearch#3606)
[Ml] Prevent config snapshot failure blocking migration (#37493)
[ML] Make it easier to add various ml data removal (elastic/x-pack-elasticsearch#3048)
Replace exact numDocs by soft-del count in SegmentInfo (#31086)
SQL: Fix RLIKE bug and improve testing for RLIKE statement (#40354)
Make sure test don't use Math.random for reproducability (#36241)
[ML] Clean left behind model state docs (#30659)
[ML-FC] do not allow durations below the bucket span (elastic/x-pack-elasticsearch#3166)
[Docs] Fix order of nodes usage example  (#27611)
More test changes
SQL: Introduce support for IP fields (#34758)
Make _id terms optional in segment containing only noop (#30409)
Make SourceToParse immutable (#36971)
Mute FullClusterRestartIT#testSqlFailsOnIndexWithTwoTypes while we await a fix.
Monitoring: Ensure all monitoring watches filter by timestamp (elastic/x-pack-elasticsearch#3238)
Zen2: Add DisruptableMockTransport (#33713)
Track accurate total hits in CloseIndexIT
Mute DateTimeUnitTests.testConversion (#40086)
SQL: Preserve original source for cast/convert function (#40271)
Add validation for empty PutPrivilegeRequest (#37569)
Add test for HTTP and Transport TLS on basic license (#40714)
Fail `span_multi` queries that exceeds boolean max clause limit (#30913)
Adapt LLRest warning exception in FullClusterRestartIT (#38253)
TESTS:Debug Log. IndexStatsIT#testFilterCacheStats
Move range field mapper back to core
Test fix - GraphExploreResponse HLRC xContent ordering was unreliable(#34473)
fix compile error after merge
Add version 5.4.3 after release
SQL: Introduce Coalesce function (#35253)
SQL: Remove exceptions from Analyzer (#38260)
Rename setting to enable mmap
Extend testing of build method in GeoDistanceSortBuilder (#26498)
Rewrite multi search template api to delegate to multi search api instead of to search template api.
HLRC: Add delete by query API (#32782)
Fix place-holder in allocation decider messages (#27436)
Docs: Support triple quotes (#28915)
[CCR] Renamed leader_cluster to remote_cluster (#34776)
Added wait_for_metadata_version parameter to cluster state api. (#35535)
Update start_trial version compatibility (elastic/x-pack-elasticsearch#4122)
Fix testCannotShrinkLeaderIndex (#38529)
Merge branch 'master' into feature/sql
Fix Netty 4 multi-port test
HLRC ML Add Event To Calendar API (#35704)
Correctly encode warning headers
[DOCS] Add ML tribe node limitation (elastic/x-pack-elasticsearch#1947)
Fix version tests for release tests
Move sql rest test into qa (elastic/x-pack-elasticsearch#2149)
Fix quoted _exists_ query (#33019)
[ML] Delete forecast API (#31134) (#33218)
Fix ClusterDisruptionIT#testAckedIndexing (#37853)
Add following engine implementation
TEST: stop assertSeqNos if shards movement (#33875)
HLRC: Move ML request converters into their own class (#32906)
Introduce SqlSettings for handling per-client configuration
Remove remaining line length violations for o.e.action.admin.cluster (#35156)
SQL: Prepare JDBC for release (elastic/x-pack-elasticsearch#4341)
Switch testClusterJoinDespiteOfPublishingIssues to Zen2 (#36979)
re-mutes SmokeTestWatcherWithSecurityIT (#38995)
[DOCS] Split out X-Pack installation substeps (elastic/x-pack-elasticsearch#4125)
Fixing Grok pattern for Apache 2.4 (#26635)
Do not allow put mapping on follower (#37675)
Store phase steps for index in PolicyStepsRegistry (#32926)
Introduce long polling for changes (#33683)
Switch sql audit tests from index to the log file (elastic/x-pack-elasticsearch#2753)
Documentation: Add username/password parameters for basic auth (elastic/x-pack-elasticsearch#4126)
 HLRC: Add support for reindex rethrottling (#33832)
SQL: Switch to the standard way of cursor serialization (elastic/x-pack-elasticsearch#3197)
Improves AbstractWireSerializingTestCase equals test (#25910)
Fix checkstyle
Merge remote-tracking branch 'elastic/master' into feature/sql
Revert "[TEST] mute CoreWithSecurityClientYamlTestSuiteIT"
[TEST] Add test for *_range fields in query_string queries (#27756)
Upgrade to Lucene 7.2.0. (#27910)
Use correct script name in docs for Windows
Merge branch 'master' into 2018-11-08-merge-master
Add a number of auxiliary methods to persistent tasks classes.
[DOCS] Remove http.ssl.enabled step from installation (elastic/x-pack-elasticsearch#3065)
Continue registering pipelines after one pipeline parse failure. (#28752)
Clean up StartBasicResponse (#35688)
SQL: Reduce number of ranges generated for comparisons (#30267)
Add additional explanations around discovery.zen.ping_timeout (#27231)
Simplify Engine.Searcher creation (#28728)
Adds nodes usage API to monitor usages of actions (#24169)
Correctly handle PKCS#11 tokens for system keystore (#33460)
Test: Remove broken yml test feature (#31255)
Fix two unreleased percolator query analyze bugs
Adds shrink check that original index is deleted
Search - add allow_partial_search_results flag with default setting false (#28440)
Simplify RankEvalResponse output (#28266)
Fix get certificates HLRC API (#36198)
Update signature for getScriptEngine method of script plugins
Adjust .DS_Store test assertions on Windows
Machine Permission update on Google Compute
Core: Abstract DateMathParser in an interface (#33905)
Make ChannelActionListener a top-level class (#37797)
[DOCS] Fixes formatting of dynamic settings links
Fixes suggestion generics (#32706)
Adds SpanGapQueryBuilder in the query DSL (#28636)
Painless: Remove extraneous INLINE constant. (#29340)
Fix line separators in JSON logging tests (#38771)
Fix tribe node cluster state version increments (#25629)
SQL: Allow sorting of groups by aggregates (#38042)
Skips to next available action on missing step (#32283)
[Docs] Fix an error in painless-types.asciidoc (#28221)
Zen2: Cluster state publication pipeline (#32584)
add reason to DataFrameTransformState and add hlrc protocol tests (#40736)
Remove TransportSingleItemBulkWriteAction as replication action (#40424)
[HLRC] Added support for CCR Stats API (#36213)
Upgrade to lucene-7.0.0-snapshot-d94a5f0. (#26441)
[Docs] remove reference to the deprecated  in the  docs
[ML] Prevent stack overflow while copying ML jobs and datafeeds (#36370)
Track total hits up to 10,000 by default (#37466)
[DOCS] Copy RN script from Elasticsearch (elastic/x-pack-elasticsearch#2163)
Add usage indicators for the bundled JDK (#40616)
Remove deprecated Graph endpoints (#35956)
Replace the TreeMap in the composite aggregation (#36675)
Simplify the return type of FieldMapper#parse. (#32654)
Introduce abstract security transport testcase (#33878)
Merge branch 'master' into index-lifecycle
Fix license messaging for Logstash functionality (elastic/x-pack-elasticsearch#3268)
Invalidate Token API enhancements - HLRC (#36362)
Modify `BigArrays` to take name of circuit breaker (#36461)
[Tests] Add debug information to CorruptedFileIT
SQL: Update CLI logo
[Rollup] Add new capabilities endpoint for concrete rollup indices (#30401)
aggs: Add a method that is invoked before the `getLeafCollector(...)` of children aggregators is invoked.
[TEST] test logging for reindex RethrottleTests #26192
[Docs] Add definitions to glossary  (#29127)
Scripting: Replace Update Context (#32096)
[CCR] Expose auto follow stats to monitoring (#33886)
Moved Grok helper code to a separate Gradle module and let ingest-common module depend on it.
Drop current from the list of released versions (#25187)
build: enhance check task instead of overwriting it.
Track max seq_no of updates or deletes on primary (#33842)
Register HTTP read timeout setting
Label required scripts in Scripted Metric Agg docs (#35051)
Remove type casts in logging in server component (#28807)
Remove remaining tribe node references (#29574)
Add version to handshake requests (#36171)
Core: Create java time based DateMathParser (#32131)
Merge branch 'master' into close-index-api-refactoring
Recover retention leases during peer recovery (#38435)
ingest: Introduce the dissect processor (#32884)
Remove AcknowledgedRestListener in favour of RestToXContentListener (elastic/x-pack-elasticsearch#3985)
Adds step info to ClusterStateWaitSteps (#30609)
[DOCS] Fixed typo
Collapse package structure for metrics aggs (#33463)
Merge remote-tracking branch 'elastic/master' into feature/sql
Removes redundant test method in SQL tests (#33498)
`query_string` should use indexed prefixes (#36895)
[DOCS] Expanded conceptual information about datafeeds  (elastic/x-pack-elasticsearch#3849)
Merge AzureStorageService and AzureStorageServiceImpl and clean up tests (#31607)
Fix compilation.
Core: Combine doExecute methods in TransportAction (#31517)
Painless: Clean up PainlessCast (#32754)
Ensure ILM policies run safely on leader indices  (#38140)
TESTS: Remove Dead Code in Disruption Tests (#35768)
Remove checkstyle suppressions for sql/jdbc* (elastic/x-pack-elasticsearch#2379)
Mute JobResultsProviderIT.testMultipleSimultaneousJobCreations
Test fix - removed superfluous assertion (#25247)
Look up connection using the right cluster alias when releasing contexts (#38570)
[Zen2] Change MetaDataStateFormat write semantics (#34709)
Merge branch 'master' into feature/client_aggs_parsing
Add AwaitsFix to failing test - see #32546
Catch InvalidPathException in IcuCollationTokenFilterFactory (#27202)
Update the persistent task status in the background.
Release requests in cors handler (#32364)
[DOCS] Add X-Pack release notes to Elasticsearch Reference (elastic/x-pack-elasticsearch#2642)
[TEST] Add test for retrying replica operations with real network
[TEST] fixing ClusterApplierService#testClusterStateUpdateLogging() (#35714)
Timed runnable should delegate to abstract runnable
Add support for ignore_unmapped to geo sort (#31153)
[ML] Make get_job_stats robust to missing results indices (elastic/x-pack-elasticsearch#1662)
[TEST] Mute failing InternalEngineTests#testSeqNoAndCheckpoints
Add tests for Painless casting from short and Short (#39587)
INGEST: Extend KV Processor (#31789) (#32232)
[ML] Fix NullPointerException when deleting a job with state "opening" (elastic/x-pack-elasticsearch#1769)
Upgrade to a Lucene 8 snapshot (#33310)
Move repository-s3 fixture tests to QA test project (#29372)
Migrate wait for pending tasks helper to server (#34675)
Switch WritePipelineResponse to AcknowledgedResponse (#32722)
Restore tiebreaker for cross fields query (#28935)
Introduce elasticsearch-env for Windows
Watcher: fix metric stats names (#34951)
Renamed `WHITE_LISTED_SETTINGS` to `NON_REPLICATED_SETTINGS`
Fixes compile errors from TimeValue serialisation
[ML] Remove Watcher middleman from ML dependency on core (elastic/x-pack-elasticsearch#2926)
Use TestEnvironment factory method to create test Environment objects (elastic/x-pack-elasticsearch#2860)
Localhost check: check if addr bound to interface (elastic/x-pack-elasticsearch#1901)
[ML] Update ML results mappings on process start (#37706)
Remove redundant modifier.
Fix threshold frequency computation in Suggesters (#34312)
SQL: Bug fix for the optional "start" parameter usage inside LOCATE function (#32576)
SQL: Remove dependency for server's version from JDBC driver (#30631)
Remove obsolete security settings (#40496)
Move TransportMessageListener to TransportService (#40284)
Override gateway.recover_after_master_nodes in test
Replace group map settings with affix setting (#26819)
Test: fix AuthenticationService tests timeouts due to incorrect stream sizes
_cat/indices with Security, hide names when wildcard (#38824)
SQL: Improve alias vs index resolution (#33393)
Moved tokenizers to analysis common module (#30538)
Fix logic in dockerComposeSupported (#36125)
Enhance Invalidate Token API (#35388)
Rename setup-passwords
NETWORKING: Upgrade Netty to 4.1.30 (#34417)
[Security] Reset IndexAuditTrail to INITIALISED before start (elastic/x-pack-elasticsearch#3807)
Remove `nGram` and  `edgeNGram` token filter names (#38911)
Leniently parse ml persistent task parameters (#33950)
[Monitoring] Remove `include_type_name` parameter from GET _template request (#38818)
Rename logstash management index template (#36626)
ingest: fix on_failure with Drop processor (#36686)
[test] packaging: gradle tasks for groovy tests (#29046)
Add k parameter to PrecisionAtK metric (#27569)
[ML] Remove unused code from the JIndex project (#37477)
Scripting: Add StatefulFactoryType as optional intermediate factory in script contexts (#24974)
Mute CcrRepositoryIT#testFollowerMappingIsUpdated
Merge branch 'master' into ccr
Move more XContent.createParser calls to non-deprecated version (#28670)
[TEST] Synchronize searcher list in IndexShardTests
Mark synonym_graph as beta in the docs (#28496)
Correct typos
percolator: Store the QueryBuilder's Writable representation instead of its XContent representation.
Fix spelling error
Make ranking evaluation details accessible for client
Wipe security index using its concrete name (elastic/x-pack-elasticsearch#2011)
QA: Switch xpack rolling upgrades to three nodes (#31112)
Ensure `index.mapping.single_type` can only be set on 5.x indices (#25375)
Migrate SpecificMasterNodesIT to Zen2 (#37532)
Adapting to changes in https://github.com/elastic/elasticsearch/pull/25448 (elastic/x-pack-elasticsearch#1887)
Build: Fix Java9 MR build (#29312)
Skip Shrink when numberOfShards not changed (#37953)
[DOCS] Fixes links (#31011)
Merge branch 'master' into index-lifecycle
reflect core change to method signature in sourceAsMap (elastic/x-pack-elasticsearch#1862)
Add tool to setup passwords for internal users (elastic/x-pack-elasticsearch#1434)
Return the index name on a create index response
Update x-pack packaging tests to work with meta plugins (elastic/x-pack-elasticsearch#3683)
Removes the old handler for shard snapshot status
Allow custom authorization with an authorization engine  (#38358)
SQL: Introduce PreAnalyze phase to resolve catalogs async (elastic/x-pack-elasticsearch#2962)
Scripting: Remove deprecated params.ctx (#36848)
Trigger log4j loading prior to context classloader (elastic/x-pack-elasticsearch#4355)
Add Writeable.Reader support to TransportResponseHandler (#28010)
[ML] Fix ML datafeed CCS with wildcarded cluster name (#37470)
Scripting: Make ScriptEngine.compile generic on the script context (#24873)
Rename RealmConfig.globalSettings() to settings() (#35330)
upgraded jna from 4.4.0-1 to 4.5.1 (#28183)
[ML-FC] Branch landing feature/ml (elastic/x-pack-elasticsearch#2500)
Decouple more classes from XContentBuilder and make builder strict (#29197)
[Tests] Use mock storage in repository-gcs unit tests (#29397)
Get node ID from nodes info in REST tests (#40052)
SQL: Fix result column names for CAST (#33604)
SQL: update support for nested docs (elastic/x-pack-elasticsearch#3546)
SQL: Fix compilation after move
Remove NioNotEnabledBootstrapCheck bootstrap check (#28901)
Adjust PreSyncedFlushResponse bwc versions
Docs: Note feature missing from reindex
Add no-jdk distributions (#39882)
Fix AutoQueueAdjustingExecutorBuilder settings validation (#33922)
Watcher: Reenable HttpSecretsIntegrationTests#testWebhookAction test (#32456)
Add Get Aliases API to the high-level REST client (#28799)
[Monitoring/Cluster Alerts] default admin email is snake_case (elastic/x-pack-elasticsearch#2177)
Upgrade beats templates that we use for bwc testing. (#27929)
Move validation to server for put user requests (#32471)
version set in ingest pipeline (#27573)
Adds `index.lifecycle.step_info` setting and uses it on ERROR and incomplete steps (#30465)
Mute test
Fixed missed stopping of SchedulerEngine (#39193)
TEST: Index diff num docs in rolling upgrade tests (#34191)
Search option terminate_after does not handle post_filters and aggregations correctly (#28459)
Add sort and collapse info to SearchHits transport serialization (#36555)
Mute failing test ChildQuerySearchIT
[Painless] Add tests for boxed return types (#36747)
Graph: Move qa into plugin (#34517)
[TEST] Fix issue with HttpInfo passed invalid parameter
Rename clsuterformation -> testclusters (#34299)
Merge branch 'master' into feature/sql_2
Painless Context Doc: Add field context example (#35130)
[DOCS] Added Kibana CCS section from x-pack-kibana.
[Zen2] Introduce auto_shrink_voting_configuration setting (#35217)
reindex: automatically choose the number of slices (#26030)
ML: Adds set_upgrade_mode API endpoint (#37837)
Parse composite patterns using ClassicFormat.parseObject (#40100)
[ML] Add categorical exclude condition (elastic/x-pack-elasticsearch#4326)
Adding index refresh (#33647)
[Rollup] Move toAggCap() methods out of rollup config objects (#32583)
Move parent_id query to the parent-join module (#25072)
Build: Add warning when bwc tests are disabled (#28585)
Remove fromXContent from IndexUpgradeInfoResponse (#35934)
changed persistent task name to be of similar structure as the others
Realm along the principal in audit authz events (elastic/x-pack-elasticsearch#3260)
Remove RolloverIndexTestHelper (#32559)
Fix comment formatting in EvilLoggerTests
Mute MlMigrationFullClusterRestartIT#testMigration (#38315)
Make self-generated license type configurable (elastic/x-pack-elasticsearch#2000)
RandomDocumentPicks#randomFieldName can produce invalid field name (#28419)
Upgrade to Lucene-7.4.0-snapshot-bcf9f5c36b (#29536)
Add fields to `.logstash`'s mapping in template (elastic/x-pack-elasticsearch#3872)
Script: Convert uses of CompiledTemplate to TemplateScript (elastic/x-pack-elasticsearch#1630)
Add info about the running threads in case of failure.
Move remaining pre-configured token filters into analysis-common (#24716)
[TEST] improve validation of yaml suites (#34957)
Add documentation about configuring an enterprise Nexus instance (elastic/x-pack-elasticsearch#1301)
[DOCS] Moves X-Pack setup to docs (#31145)
 Cleanup: Move tests calling external services into QA projects (elastic/x-pack-elasticsearch#3869)
[Zen2] Update default for USE_ZEN2 to true (#35998)
test: added not null assertion
Add Docker build type (#39378)
delete `operation_threading` from the rest specs (#27940)
[DOCS] Fixed broken link to java transport client
Profiler: Don’t profile NEXTDOC for ConstantScoreQuery. (#33196)
[DOCS] Fixes title capitalization in security content
clean up PhaseTests
Watcher: Remove index template configuration via cluster settings (elastic/x-pack-elasticsearch#1680)
TEST: fix index template without index patterns
[CCR] Validate follower index historyUUIDs (#34078)
HLREST: add reindex API (#32679)
Always compress based on the settings (#36522)
[ML] Choose seconds to fix intermittent DatafeeedConfigTest failure
Mark testMonitoringService as @AwaitsFix
Merge branch 'master' into close-index-api-refactoring
Minor logging improvements (#38084)
Add api to start basic license (elastic/x-pack-elasticsearch#4083)
Allow terms query in _rollup_search (#30973)
Improve CcrRepositoryIT mappings tests (#38817)
Adjust ldap timeout for idp fixture (#40102)
[Tests] Remove accidental logger usage
Make CCR QA tests build again (#33113)
Moving xpack.plugin.core ml response to use new base class (#35157)
[Rollup] Fix bad await in tests
Whitelisting / from Circuit Breaker Exception (#32325) (#32666)
[DOCS] Fixed broken link to Logstash monitoring
Merge remote-tracking branch 'origin/master' into index-lifecycle
Move more token filters to analysis-common module
Remove line length supressions from plugins (#36708)
Repository GCS plugin new client library (#30168)
HLRC: Adding ML Update Filter API (#35522)
HLRC: Add remove index lifecycle policy (#34204)
Add second level of field collapsing (#31808)
SQL: Add BinaryMathProcessor to named writeables list (#30127)
Move indices field from RankEvalSpec to RankEvalRequest (#28341)
percolator: Also support query extraction for queries wrapped inside a ESToParentBlockJoinQuery
Add check for feature aware implementations (#31081)
Merge branch 'master' into index-lifecycle
[CCR] Fail with a descriptive error if leader index does not exist (#33797)
[TEST] Increased timeout for verifying ccr monitoring.
Docs: DRY up HLRC index docs (#34157)
Test: use trial license for full cluster restart tests
isHeldByCurrentThread should return primitive bool
Move IndexLifecycleMetadata installation to put-lifecycle-action (#31346)
Azure repository: Move to named configurations as we do for S3 repository
[DOC] SAML documentation (elastic/x-pack-elasticsearch#3657)
Fix typos (#33499)
XContentBuilder to handle BigInteger and BigDecimal (#32888)
ScriptService: Replace max compilation per minute setting with max compilation rate (#26399)
REST high-level client: add get ingest pipeline API (#30847)
Fix primary term in testAddOrRenewRetentionLease (#38239)
Tests: Dont check for execution speed, only that field exists
Remove animal sniffer from REST client sniffer (#30260)
Merge remote-tracking branch 'elastic/master' into zen2
Remove parameterization from TcpTransport (#27407)
[ML][TEST] Add integ test for memory redution in population analysis
Fix compilation in unfollow action tests
Hack docs so we can build them without modifying core
Merge remote-tracking branch 'upstream/master' into index-lifecycle
Simplify names of PersistentTasks-related classes
Added note to cross cluster search docs to specify minimum node version of 5.5
[Kerberos] Add debug log statement for exceptions (#32663)
Adapt bwc versions after backporting #30983 to 6.4
Do not ignore request analysis/similarity on resize (#30216)
[Authz] Allow update settings action for system user (#34030)
Add validation of keystore setting names (#27626)
Fix meta plugin installation that contains plugins with dependencies
Only allow x-pack metadata if all nodes are ready (#30743)
Stop exporting HOSTNAME from scripts
[CCR] Move api parameters from url to request body. (#31949)
Fix retrieve roles and users tests
Add qa module that tests reindex-from-remote against pre-5.0 versions of Elasticsearch (#24561)
Painless: Only allow Painless type names to be the same as the equivalent Java class. (#27264)
Decouple XContentType from StreamInput/Output (#28927)
[Zen2] Only bootstrap a single node (#36119)
Improve watcher smoke test stability
Deprecate minimum_master_nodes (#37868)
make operation mode YAML test more robust
Adding unreleased 5.6.3 version number to Version.java (#26794)
Filter mappings fields when field level security is configured (elastic/x-pack-elasticsearch#3173)
Merge remote-tracking branch 'origin/master' into index-lifecycle
Include size of snapshot in snapshot metadata (#29602)
[TEST] Mute failing test
Merge branch 'master' into index-lifecycle
Mute DateProcessorTests#testJodaPatternLocale (#38265)
Tests: Allow to run BWC in isolation
Cleanup script packaging
SQL: enforce JDBC driver - ES server version parity (#38972)
[TEST] Close additional clients created while running yaml tests (#31575)
[Test] Extending parsing checks for SearchResponse (#25148)
Core: Fix Java Time DateFormatter printers (#32592)
Remove the postings highlighter and make unified the default highlighter choice (#25028)
SQL: Extend grammar to allow wildcard in the grammar without quotes (elastic/x-pack-elasticsearch#3501)
Merge remote-tracking branch 'es/master' into ccr
Cross-cluster search: preserve cluster alias in shard failures (#32608)
[TEST] Stabilise UpdateInterimResultsIT
Tests: Replace script with search transform to remove plugin in test code (elastic/x-pack-elasticsearch#2470)
Add version v5.4.2 after release
Avoid uid creation in ParsedDocument (#27241)
Mute MlConfigMigratorIT.testMigrateConfigs (#37374)
Mute TasksIT#testTransportBulkTasks
ML: Add upgrade mode docs, hlrc, and fix bug (#37942)
Add more info logging when loading roles.yml (elastic/x-pack-elasticsearch#3992)
percolator: Use correct version for bwc checking now that the change has been backported to 6.0 branch
Port support for commercial GeoIP2 databases from Logstash. (#24889)
[TEST] disable Upgrade YAML tests
[TEST] Add additional assert logging
[CCR] Move ccr tests in core module back to ccr module (#33711)
Enable license header exclusions (#29379)
SNAPSHOT+TESTS: Rem. Mock Atomic Writes Randomness (#37011)
Auto-expand replicas when adding or removing nodes (#30423)
Mute CloseWhileRelocatingShardsIT.testCloseWhileRelocatingShards
Run forbidden api checks with runtimeJavaVersion (#32947)
Remove `_index` fielddata hack if cluster alias is present (#26082)
Core: Fix IndicesSegmentResponse.toXcontent() serialization (#33414)
[Rollup] Remove builders from TermsGroupConfig (#32507)
Merge branch 'master' into index-lifecycle
[CCR] Get all auto follow patterns and no auto follow metadata (#35381)
Ensure we rewrite common queries to `match_none` if possible (#25650)
REST : Split `RestUpgradeAction` into two actions (#29124)
Prevent throttled indices to be searched through wildcards by default (#34354)
Fix broke test for ComposeProcessor
Add logging output when starting Wildfly
Use ephemeral ports for idp-fixture (#40333)
[DOCS] Build docs from elasticsearch (elastic/x-pack-elasticsearch#3638)
Only connect to new nodes on new cluster state (#39629)
Do not override named S3 client credentials (#33793)
Adapt tests to package keystore creation (elastic/x-pack-elasticsearch#4068)
Watcher: Reduce logging noise when watcher might be stopped (elastic/x-pack-elasticsearch#1685)
Moved ccr source code to its own gradle module after xpack split.
Merge remote-tracking branch 'origin/master' into feature/client_aggs_parsing
SQL: prevent duplicate generation for repeated aggs (#33252)
FullClusterRestartIT.testRecovery - add more info on failure
[TEST] Mute failing testConvertLongHexError
Add 7.1 and 8.0 version constants to master (#38514)
SQL: Fix bug regarding alias fields with dots (#37279)
Core: Move IndexNameExpressionResolver to java time (#34507)
[DOCS] Fixes security example (#31082)
Removed deprecated template query.
[TEST] Fix issue parsing response out of order
Fix Failing to Handle Ex. in TransportShardBulkAction (#40923)
[Docs] Fixes a bug in the rest-client watcher docs related to
[HLRC][ML] Add ML update model snapshot API (#35537) (#35694)
Updated docs for cross-cluster search (elastic/x-pack-elasticsearch#1478)
Upgrade to Lucene-7.4.0-snapshot-518d303506 (#31360)
Another fix for security tribe tests when ssl is disabled
[TEST] allow test to start an additional node even if max number of random nodes is reached
Validate source of an index in LuceneChangesSnapshot (#32288)
[ML] Better handling of errors if native controller dies (elastic/x-pack-elasticsearch#2141)
Simplify Azure blobStore method signatures (#26752)
Disable `HipChatServiceTests` integration tests
[test] mute testSearchWithSignificantTermsAgg
[DOCS] Removed ML GA limitation (elastic/x-pack-elasticsearch#2751)
Scroll queries asking for rescore are considered invalid (#32918)
Merge branch 'master' into index-lifecycle
HLRC: ML Get Calendar Events (#35747)
[ML] Minor improvements to categorization Grok pattern creation (#33353)
Include internal refreshes in refresh stats (#27615)
Followup for elastic/elasticsearch#25658 (elastic/x-pack-elasticsearch#1984)
Merge branch 'master' into index-lifecycle
Add the Shrink Action to Index Lifecycle Management (#3491)
Separate acquiring safe commit and last commit (#28271)
Fix error handling in SQL's CLI (elastic/x-pack-elasticsearch#2730)
Match phrase queries against non-indexed fields should throw an exception (#31060)
Unmuted testCannotFollowLeaderInUpgradedCluster test.
Do not create the missing index when invoking getRole (#39039)
Test: Revert pinning MockWebServer to TLSv1.2 (#34148)
Painless: Decouple PainlessLookupBuilder and Whitelists (#32346)
Merge branch 'master' into ccr
Added multi get api to the high level rest client.
SQL: [Tests] Fix and enable internalClusterTests (#37300)
Upgrade gradle wrapper to 4.8 (#31525)
Add equals/hashCode to SeqNoStats (#35223)
User/role names can be longer with more characters (elastic/x-pack-elasticsearch#1745)
Add searchScroll method to high level REST client (#24938)
REST Client: NodeSelector for node attributes (#31296)
SQL: Refactor Literals serialization method (#40058)
More of precommit
Test: update TokenAuthIntegTests to modify document to test expiration
Add linearizability checker for coordination layer (#36943)
Merge branch 'master' into feature/sql
Mute failing GetResultTests and DocumentFieldTests
Fix SQL's DatabaseMetaData (elastic/x-pack-elasticsearch#2214)
Adapt timeouts in UpdateMappingIntegrationIT
Fix link to perl docs (#24842)
Use List instead of priority queue for stable sorting in bucket sort aggregator (#36748)
HLRest: refactor put_user to utilize `User` object (#35188)
Core: Migrating from joda to java.time. Monitoring plugin (#36297)
Simplify deprecation issue levels (#36326)
SNAPSHOT: Deterministic ClusterState Tests (#36644)
Call ensureNoSelfReferences() on _agg state variable after scripted metric agg script executions (#31044)
[TEST] Use deprecated form of rollup endpoint in mixed cluster (#36000)
Merge branch 'master' into index-lifecycle
Rename ScriptEngineService to ScriptEngine (elastic/x-pack-elasticsearch#1374)
[DOCS] update maxRetryTimeout in java REST client usage page
Add x-pack-env.bat
Fix more query extraction bugs. (#29388)
Improve Precision for scaled_float (#37169)
Copy missing segment attributes in getSegmentInfo (#32396)
Mute CreateIndexIT.testCreateAndDeleteIndexConcurrently
SQL: Fix issue with IN not resolving to underlying keyword field (#38440)
[TEST] logging for update by query test #27820
fix UpdateSettingsRequestStreamableTests.mutateInstance (#39386)
 Ensure local addresses aren't null (#31440)
Deguice ActionFilter (elastic/x-pack-elasticsearch#2533)
Adjust minRetainedSeqNo asssertion in CombinedDeletionPolicyTests
Implement ConcatFilesTask from Groovy to Java issues#34459 (#37497)
Require JDK 11 for compilation (#34103)
Tests: Muting OpenLDAP tests due to network issues
Update Put Watch to allow unknown fields (#37494)
Use LF line endings in SQL generated files (elastic/x-pack-elasticsearch#26822) (elastic/x-pack-elasticsearch#2706)
[ML] Ensure BWC between old and new rules syntax (elastic/x-pack-elasticsearch#3738)
[Rollup] Histo group config should support scaled_floats (#32048)
Merge branch 'master' into index-lifecycle
Add data frame feature (#38934)
Rename folder x-pack-core -> core (elastic/x-pack-elasticsearch#3305)
Ensure we never read from a closed MockSecureSettings object (#25322)
Reduce number of raw types warnings (#31523)
Remove parse field deprecations in query builders (#26711)
Remove more checkstyle suppressions (#36735)
refresh audit index before searching (#40401)
Remove the _all metadata field (#26356)
HLRC: Convert xpack methods to client side objects (#40705)
Prevent excessive disk consumption by log files
[ML] Expect an array of events in request (elastic/x-pack-elasticsearch#3537)
[Zen2] Introduce ClusterBootstrapService (#35488)
[DOCS] Fixed link to Analyze API
Fix size blocking queue to not lie about its weight
[MUTE] SmokeTestWatcherWithSecurityIT flaky tests
TEST: Mute testRetentionPolicyChangeDuringRecovery
TEST: Disable soft-deletes in ParentChildTestCase
[DOCS] Significantly improve SQL docs
add URL-Decode Processor to Ingest (#26045)
Arithmetic
Fix docs build
Use typeName() to check field type in GeoShapeQueryBuilder (#27730)
Ensure map keys cannot be self referencing (#34569)
Provide a clearer error message on keystore add (#39327)
[Zen2] Only elect master-eligible nodes (#35996)
Update Rollup Caps to allow unknown fields (#38339)
Core: Add java time version of rounding classes (#32641)
[DOCS] Moves ml folder from x-pack/docs to docs (#33248)
Adds REST client support for starting and stopping ILM (#32609)
Add ingest-attachment support for per document `indexed_chars` limit (#28977)
Remove es.cluster_state.size hard failure (#40111)
SQL: Make extract work for any datetime function (elastic/x-pack-elasticsearch#3756)
[Monitoring] Use index.auto_expand_replicas: 0-1 (elastic/x-pack-elasticsearch#3282)
Adds JavaDocs and comments and small refactoring
Disable reindex from old tests on JDK 10
Deprecate types in explain requests. (#35611)
Size lists in advance when known
Remove deprecated methods in SimpleQueryStringBuilder (#36341)
Limit num hits when reading Lucene changes (#30908)
Prune only gc deletes below local checkpoint (#28790)
[Rollup] Move getMetadata() methods out of rollup config objects (#32579)
Update Netty to 4.1.11.Final
HLRC: Add "_has_privileges" API to Security Client (#35479)
Do not mutate RecoveryResponse (#37204)
[ML] Use try-with-resources for InputStream (elastic/x-pack-elasticsearch#2182)
Adds mutate function to various tests (#25999)
Add nanosecond field mapper (#37755)
Speed up rejected execution contains node name test
Update the scroll example in the docs (#37394)
Mark default password migration test as awaits fix
CCR: Fix incorrect read request completion condition (#32266)
Change zone formatting for all printers (#39568)
SQL: Fix issue with optimization on queries with ORDER BY/LIMIT (#40256)
[CCR] Change AutofollowCoordinator to use wait_for_metadata_version (#36264)
Remove overrides of isInlineScriptEnabled (elastic/x-pack-elasticsearch#1500)
[ML] fixing sort order (#40119)
Add some missing toString() implementations (#39124)
Expose Lucene's FeatureField. (#30618)
Watcher: Fix BWC tests, disable test requiring upgrade API
Fixing compilation issues and tests after merging in master
Mute testReadRequestsReturnLatestMappingVersion (#38438)
Fix settings names for script.allowed_types and script.allowed_contexts. (#24831)
SNAPSHOT: Fix Leaking Snapshot Task in IT (#35657)
 Add "client-api-objects" dependency for xpack plugin and transport-client (elastic/x-pack-elasticsearch#2995)
Watcher: Do not start, if index meta data version is wrong (elastic/x-pack-elasticsearch#1770)
SQL: Forbid multi field groups (elastic/x-pack-elasticsearch#3199)
Remove obsolete deprecation checks (#37510)
Add sni name to SSLEngine in netty transport (#33144)
Backout IcuTokenizerFactory change
Fix rest test to not specify zip distribution
[ML] Check licence when datafeeds use cross cluster search  (#31247)
Do not set fatal exception when shard follow task is stopped. (#37603)
Add a test for sub-aggregations rewrite (#28491)
[Geo] Decouple geojson parse logic from ShapeBuilders
Remove a dependency cycle in the build (elastic/x-pack-elasticsearch#2122)
[test] packaging: add windows boxes (#30402)
Update audit trail filter policy settings (elastic/x-pack-elasticsearch#3984)
Elasticsearch support to JSON logging  (#36833)
Support mustache templates in role mappings (#39984)
Replace XPacks delete_by_query impl with the core impl (elastic/x-pack-elasticsearch#1378)
Expose the Lucene Korean analyzer module in a plugin (#30397)
Allow unmapped fields in composite aggregations (#35331)
[Test] Fix allowed delta for calculated scores in DiscountedCumulativeGainTests
Zen2: Move disruption tests to Zen2 (#35724)
Fixes SOTP docs test to restart ILM after
[ML][TEST] Use java 11 valid time format in DataDescriptionTests (#31817)
SQL: Fix simplification of boolean expressions. (elastic/x-pack-elasticsearch#3422)
Format X-Pack Info API reference (elastic/x-pack-elasticsearch#2376)
[ML] Limit ML filter items to 10K (#31731)
Add support for indices exists to REST high level client (#27384)
[Security] BulkShardRequest may have multiple indices (elastic/x-pack-elasticsearch#2742)
Test: use TLS for plugin integ tests
Change ScriptContexts to use needs instead of uses$. (#25036)
Fix remote cluster seeds fallback (#34090)
[CCR] Change unfollow API's privilege scheme. (#34175)
Merge branch 'master' into ccr
Remove deprecated pipeline request contructors (#37366)
Mute failing date index name processor test
Update version for authenticate API responses
NETWORKING: Fix IpFiltering Test (#35730)
add HLRC protocol tests for transform state and stats (#40766)
Fix Incorrect Transport Response Handler Type (#38264)
ingest: better support for conditionals with simulate?verbose (#34155)
Add high-level REST client API for `_freeze` and `_unfreeze` (#35723)
Teach SQL to parse Elasticsearch's standard error responses (elastic/x-pack-elasticsearch#2764)
Adds concept of a safe action (#31971)
Tests: suppress testIndexUpgradeInfoLicense on release builds (elastic/x-pack-elasticsearch#3930)
(Minor) Fix some typos (#36180)
Increase logging testRetentionPolicyChangeDuringRecovery
Move all sql integration tests into qa (elastic/x-pack-elasticsearch#2432)
Async Snapshot Repository Deletes (#40144)
Adapt to compile and runtime Java home distinction
[DOCS] Split ML overview topics (elastic/x-pack-elasticsearch#3262)
Merge remote-tracking branch 'elastic/master' into feature/sql
Update serialization versions for custom IndexMetaData backport
[CCR] Only normalize -1 seqno in shard changes request. (#30238)
Merge branch 'master' into ccr
Fix ArrayIndexOutOfBoundsException when no ranges are specified in the query (#23241)
Implement basic `CcrRepository` restore (#36287)
Move max_unsafe_auto_id_timestamp constant to Engine (#34025)
Revert "[Docs] Fix Java Api index administration usage (#28133)"
Add support for rest_total_hits_as_int (#36051)
[CCR] Auto follow Coordinator fetch cluster state in system context (#35120)
[TEST] fix SecurityDocumentationIT#testGetUsers (#36622)
Remove build qualifier from server's Version  (#35172)
Preserve REST client auth despite 401 response (#30558)
Rename sql-cli
Improve REST error handling when endpoint does not support HTTP verb, add OPTIONS support (#24437)
Security: make native realm usage stats accurate (#30824)
Scripting: Move context definitions to instance type classes (#24883)
Add compatibility versions to main action response (#25799)
Fix ReservedRealm test for failed authentication
Tests: Remove QUERY_AND_FETCH BWC actions from the list of known handlers
Removes erroreously added file
Add random fetchSize
CRUDDocumentationIT fix documentation references
Mute testRelocationWithConcurrentIndexing
[TESTS] Disable specific locales for RestrictedTrustManagerTest (#33299)
Avoid deprecation warning when running the ML datafeed extractor. (#31463)
[DOCS] Remove reference to field stats in security limitations
Added painless execute api. (#29164)
Pass TranslogRecoveryRunner to engine from outside (#33449)
Add missing newline at end of SetsTests.java
Deprecate types in `_graph/explore` calls. (#40466)
Remove out-of-date projectile file
Re-enable OpenLDAP tests and run against vagrant instance (elastic/x-pack-elasticsearch#2121)
blacklist two license rest tests when build.snapshot=false (elastic/x-pack-elasticsearch#2559)
Create security bootstrap checks early to access secure settings safely (elastic/x-pack-elasticsearch#2282)
Increase Gradle heap space to 1536m
Fix multi fields empty query (#33017)
Remove unused import from AliasResolveRoutingIT
Migrate some *ResponseTests to AbstractStreamableXContentTestCase (#28749)
Fix AntFixture waiting condition (#31272)
Fix calculation of orientation of polygons (#27967)
turn GetFieldMappingsResponse to ToXContentObject (#31544)
Add test for dying with dignity (#28987)
Switch more tests to zen2 (#36367)
Migrate RestHttpResponseHeadersIT to ESRestTestCase (#25675)
Add additional shards routing info in ShardSearchRequest (#29533)
HLRC: Add ILM Status to HLRC (#33283)
Fix snapshot restore logging on fresh restore (#40252)
Added release notes for 6.0.0-alpha2
Add storage-layer disruptions to CoordinatorTests (#34347)
[TEST] Create checkout directory on Windows before trimming path
REST high-level client: add support for Rollover Index API (#28698)
Use remote client in TransportFieldCapsAction (#30838)
[Geo] Add Well Known Text (WKT) Parsing Support to ShapeBuilders
reenable the test with more debugging info (#38721)
Register CcrRepository based on settings update (#36086)
Add start and stop time to cat recovery API (#40378)
Mute testAddOrRenewRetentionLease (#38240)
Switch remaining ml tests to new style Requests (#33107)
Add Delete Index API support to high-level REST client (#27019)
[ML] Improve error when no available field exists for rule scope (#32550)
serialize suggestion responses as named writeables (#30284)
Expose lucene's RemoveDuplicatesTokenFilter (#31275)
Merge branch 'master' into index-lifecycle
Introduce forget follower API (#39718)
Fix an off-by-one error in the vector field dimension limit. (#40489)
Add overlapping, before, after filters to intervals query (#38999)
Parse PEM Key files leniantly (#33173)
Docs: HighLevelRestClient#multiSearch (#29144)
Use master flag for disabling BWC tests
Introduce a Hashing Processor (#31087)
[ML] Add created_by info to usage stats (#40518)
Fix index with unknown setting test
Mute failing IndexerUtilsTests
Log warnings when cluster state publication failed to some nodes (#31233)
Watcher: Add refresh parameter to index action (elastic/x-pack-elasticsearch#3350)
Decouple BulkProcessor from ThreadPool (#26727)
Docs: Use correct field name in Field Value factor docs. (#26104)
Revert "Improve error message for installing plugin (#28298)"
[ML] Increase default limit on ML jobs per node from 10 to 20 (elastic/x-pack-elasticsearch#3141)
[TEST] Remove auto follow pattern at the end of the test,
Fix some query extraction bugs. (#29283)
[ML] Removing old per-partition normalization code (#32816)
Merge branch 'master' into feature/sql
[ILM] Convert Explain request to new HLRC classes (#34922)
HLRC: split license request converters (#33438)
Build: Allow deps to be a direct jar (#28096)
update ingest-user-agent regexes.yml (#25608)
ShardFollowNodeTask should fetch operation once (#32455)
Security: Simplify security index listeners (#30466)
Ensure flush happen before closing an index (#40184)
CountedBitSet doesn't need to extend BitSet. (#28239)
Remove QueryParseContext (elastic/x-pack-elasticsearch#1895)
Don't emit deprecation warnings on calls to the monitoring bulk API. (#39805)
Mute ShrinkIndexIT.testCreateShrinkIndexToN on Windows
Add InboundHandler for inbound message handling (#40430)
SQL: improve validation of properties (both names and values) (elastic/x-pack-elasticsearch#2759)
HLRC: split xpack request converters (#33444)
Make SearchStats implement Writeable (#29258)
Stop using basic license in put license test
[Docs] Correct typo in pipeline.asciidoc (#29431)
Remove workaround in translog rest test (#27530)
enable rest of await-fix index-lifecycle integ tests. all green
Remove copy-pasted code (elastic/x-pack-elasticsearch#4298)
Fix silly monitoring test checking exact output
SQL: Implement CAST between STRING and IP (#34949)
Fix typo in ScriptDocValues deprecation warnings (#25672)
Allow an AuthenticationResult to return metadata (#34382)
Scripting: Add optional context parameter to put stored script requests (#25014)
Changes update replica and alllocation to async steps
Add retention leases replication tests (#38857)
Merge branch 'master' into index-lifecycle
[DOCS] Clarify title for X-Pack install
Fix mutator in GetRolesRequestTests (#35932)
Scripting: Add back params._source access in scripted metric aggs (#34777)
Add implicit this for class binding in Painless (#40285)
 Deprecate types in the put mapping API. (#37280)
[HLRC] Add support for get roles API (#35787)
Disable IndexUpgradeIT.testIndexUpgradeInfo and testIndexUpgradeInfoLicense for now.
SQL: SYS TABLES ordered according to *DBC specs (#30530)
Build: Add back explicit exclusions and remove gradle exclusions (#24879)
Don't refresh on `_flush` `_force_merge` and `_upgrade` (#27000)
Ignore date ranges containing 'now' when pre-processing a percolator query (#35160)
Fix secure repository-hdfs tests on JDK 9
Bump the minimum Java version to Java 11 (#40754)
Muting watcher tests for issue #35503 (#40526)
[ML] Rename input_fields to column_names in file structure (#33568)
Override indexing plans
[DOCS] Fix tag in SecurityDocumentationIT
TEST: Fix range issue in ShardChangesActionTests
INGEST: Rename Pipeline Processor Param. (#34733)
Rewrite shard follow node task logic (#31581)
Merge branch 'master' into index-lifecycle
Fix handling of dirty PID file
Clean up XPackInfoResponse class and related tests (#35547)
SecuritySettingsSource license.self_generated: trial (#38233)
Track Lucene operations in engine explicitly (#29357)
[DOCS] Temporarily added info.asciidoc to the test exclude list. Failing due to missing LS output from _xpack.
[ML] Refactor job deletion logic into the transport action (#33891)
Remove Dead Code in Transport Package (#39885)
[Zen2] Introduce vote withdrawal (#35446)
Migrate scripted metric aggregation scripts to ScriptContext design (#30111)
[CI] Mute Ml rolling upgrade tests
Adapt to resync rename and add assertion for missing user when sending a request (elastic/x-pack-elasticsearch#2345)
[Tests] Add more time to start with X-Pack
Allow XPack user read-only access to index audit log (elastic/x-pack-elasticsearch#2906)
Merge branch 'master' into index-lifecycle
Avoid copying the field alias lookup structure unnecessarily. (#39726)
Never corrupt fully deleted segments in tests (#36741)
[Close Index API] Refactor MetaDataIndexStateService (#36354)
AbstractQueryTestCase should run without type less often (#28936)
Add OS/architecture classifier to distributions (#37881)
[Docs] Remove first person "I" from getting started (#27155)
Always Accumulate Transport Exceptions (elastic/x-pack-elasticsearch#1619)
[ML] Validate ML filter_id (#31535)
In MatchQuery, remove a check for fragile search analyzers. (#33927)
Decouple XContentBuilder from BytesReference (#28972)
Soft-deletes policy should always fetch latest leases (#37940)
Fix typo in unitTest task (#36930)
[Painless] Add def to boxed type casts (#36506)
S3 repo plugin populate SettingsFilter (#30652)
Include stack trace with ILM error in explain output (#35512)
SQL: Don't allow inexact fields for MIN/MAX (#39563)
Scripting: Make contexts available to ScriptEngine construction (#24896)
Replace superfluous usage of Counter with Supplier (#39048)
Add docs on full_id parameter in cat nodes API
Index stale operations to Lucene to have complete history (#29679)
Watcher: Slack message empty text (#31596)
[TEST] Fix YAML tests for single type and new id changes
muted tests that will be replaced by the shard follow task refactoring:
Merge remote-tracking branch 'es/master' into ccr
Mute test. (#38696)
Reuse FollowParameters' parse fields. (#38508)
[ML] Fix line width violation
[CCR] Delay auto follow license check (#33557)
Accept ingest simulate params as ints or strings (#23885)
Add copy constructor to SearchRequest (#36641)
Let primary own its replication group (#25692)
#27189 Fixed rounding of bounds in scaled float comparison (#27207)
[DOCS] Enable read-only access for kibana_system user (elastic/x-pack-elasticsearch#2465)
Add new fields to monitoring template for Beats state (#32085)
Watcher: Fix chain input toXcontent serialization (#31721)
Merge branch 'master' into ccr
Improve grammar so keywords have priority over identifiers
Fix testAutoFollowing test to use createLeaderIndex() helper method.
Remove DocumentFieldMappers#smartNameFieldMapper, as it is no longer needed. (#31018)
Tests: Increase logging in watcher upgrade tests to debug test failures
[ML] Check influencer names are valid (elastic/x-pack-elasticsearch#2073)
Add up-to-date javadocs on Translog#syncNeeded
Inline global checkpoints
Treat ack timeout more like a publish timeout (#31303)
[Rollup] Return empty response when aggs are missing (#32796)
FullClusterRestartIT.testRecovery should wait for all initializing shards
Reject updates to the `_default_` mapping. (#29165)
Do not check for object existence when deleting repository index files (#31680)
Encapsulate Client as class variable for PolicyStepsRegistry (#33529)
Skip sibling pipeline aggregators reduction during non-final reduce (#40101)
Correct wording in log message (#30336)
INGEST: Move all Pipeline State into IngestService (#32617)
[DOCS] Moves the info API to docs (#31121)
Adds mutate function for all pipeline aggregation tests (#26058)
Align cat thread pool info to thread pool config (#29195)
Forbid negative values for index.unassigned.node_left.delayed_timeout (#26828)
Update InternalEngine tests on ccr side for #30121
Handles exists query in composite aggs (#35758)
add APIs to Maintenance Mode in ILM (#31410)
[CCR] Update es monitoring mapping and (#33635)
Ensure realtime `_get` and `_termvectors` don't run on the network thread (#33814)
Remove transport name from tcp channel (#40074)
Allow PkiRealm to use truststore.password setting (elastic/x-pack-elasticsearch#2727)
Upgrade API: remove kibana upgraders (elastic/x-pack-elasticsearch#1963)
Fixes silly issues created by me
Fix phrase_slop in query_string query (#35533)
Zen2: Add test that checks that CoordinatorTests are reproducible (#37225)
test: wait for index to be green before running all checks
Setup debug logging for qa.full-cluster-restart
Handle malformed license signatures (#37137)
Mute SearchWithRandomIOExceptionsIT testRandomDirectoryIOExceptions
Generalize remote license checker (#32971)
Use armored input stream for reading public key (#31229)
Removing some deprecated methods (#36829)
Use StringBuilder to construct a String instead of relying on appending where possible (#24753)
HLRC: Add put stored script support to high-level rest client (#31323)
[TEST] use true unique transport address in test to prevent address collision
Add the ability to define custom inner hit sub context builder (#24676)
Expose Sequence Number based Optimistic Concurrency Control in the rest layer (#36721)
SQL: Skip the nested and object field types in case of an ODBC request (#37948)
[DOCS] Subdivided getting started with ML pages (elastic/x-pack-elasticsearch#3167)
HLRC: ML Delete event from Calendar (#35760)
Define constants for REST requests endpoints in tests (#37610)
[ILM] Avoid NullPointerException in CopyExecutionStateStep (#35568)
Merge remote-tracking branch 'origin/master' into index-lifecycle
Only enable soft-deletes in 6.5 or later
Remove RuntimeClass from Painless Definition in favor of just Painless Struct. (#28486)
Make Watcher validation message copy/pasteable
Fill LocalCheckpointTracker with Lucene commit (#34474)
[Rollup] Fix Caps Comparator to handle calendar/fixed time (#33336)
Adapt rest test BWC version after backport
Make specifying java home mandatory for testclusters (#37864)
Add Delete Snapshot High Level REST API
Use custom index metadata for ILM state (#33783)
[ML][DOCS] Fix bucket_span type in results resources (elastic/x-pack-elasticsearch#2714)
Fix synchronization in LocalCheckpointTracker#contains (#38755)
[Docs] Add profile section to the Search API documentation (#25880)
ingest: upgraded ingest geoip's geoip2's dependencies.
Merge branch 'master' into index-lifecycle
Adjust SSLDriver behavior for JDK11 changes (#32145)
HLRC: Add ILM Retry (#33990)
Handle long paths on Windows for standalone tests
Update BWC to v7.1 for templated role mappings (#40673)
Minor cleanup in NodeInfo.groovy
Rename CCR APIs (#34027)
Reindex: Fold "from old" tests into reindex module (#30142)
Update the version checks around range bucket keys, now that the change was backported.
Maintain order of operations semantics on follower
[Monitoring] Add "collection_enabled" to usage (elastic/x-pack-elasticsearch#4128)
SQL: the SSL default configuration shouldn't override the https protocol if used (#34635)
ingest: dot_expander_processor prevent null add/append to source document (#35106)
Revert "[TEST] Mute failing tests in NativeRealmInteg and ReservedRealmInteg"
Merge remote-tracking branch 'elastic/master' into feature/sql_2
Convert server javadoc to html5 (#30279)
Add NioGroup for use in different transports (#27737)
Docs: Remove mentions of file based script in watcher
TEST: Enable debug log testValidateFollowingIndexSettings
[Kerberos] Avoid vagrant update on precommit (#32416)
Merge branch 'master' into ccr
MINOR: Remove unused `IndexDynamicSettings` (#32237)
[Test] Fix POI version in packaging tests
Security: cache users in PKI realm (elastic/x-pack-elasticsearch#4428)
SQL: Make Literal a NamedExpression (#33583)
Rename x-pack-common -> x-pack-core (elastic/x-pack-elasticsearch#3272)
Upgrade to Lucene-7.4.0-snapshot-0a7c3f462f (#31073)
SQL: Better handling of number parsing exceptions (#33776)
Add get-user-privileges API (#33928)
Use a dedicated ConnectionManger for RemoteClusterConnection (#32988)
Add released major logic to version utils (#28644)
Fix threading issue on listener notification (#28730)
Typo
SQL: Upgrade h2 library to 1.4.197 (elastic/x-pack-elasticsearch#4251)
HLRC: ML Post Data (#33443)
[DOCS] Add links to Beats security pages (elastic/x-pack-elasticsearch#3514)
Watcher: Ensure usage stats work properly in distributed environment (elastic/x-pack-elasticsearch#4094)
[Monitoring] Stop checking for old alerts in upgraded version (elastic/x-pack-elasticsearch#1992)
Fix beidermorse phonetic token filter for unspecified `languageset` (#27112)
test: verify `size_to_upgrade_in_bytes` in assertBusy(...)
Remove QueryParseContext from parsing QueryBuilders (#25448)
[TEST] fix invalid ExplainLifecycleRequest in tests (#35804)
Fixed bad asciidoc file name
Build: Use correct data node in test
Suppress CachedTimeThread in hot threads output (#35558)
Fix compilation in audit-tests
Mute failing tests #35173
Fix log message when virtual lock not possible (#28829)
Stop forking groovyc (#30471)
Add more logging to testCorruptedShards to help investigate sporadic failures
Re-instate link in StringFunctionUtils javadocs
Mute failing ML datafeed docs code snippet
Merge branch 'master' into index-lifecycle
[ML] refactoring lazy query and agg parsing (#39776)
Remove lenient boolean handling
Remove Jython hacks
[ML] Report index unavailable instead of waiting for lazy node (#38423)
Fix classpath security checks for external tests. (#33066)
[ML] Skip index health checks for remote indices on datafeed node sel (elastic/x-pack-elasticsearch#3301)
Performance fix. Reduce deprecation calls for the same bulk request (#37415)
[ML] Don't treat stale FAILED jobs as OPENING in job allocation (#31800)
[CCR] Remove ccr related metadata between tests for single node tests too
REST high-level Client: remove deprecated API methods (#31200)
Merge branch 'master' into index-lifecycle
Allow retention lease operations under blocks (#39089)
Mute SingleNodeTests (#39156)
Xpack side of elastic/elasticsearch#27161 (elastic/x-pack-elasticsearch#2851)
removed unused import
[DOCS] Further doc build clarifications in README
Fix serialization bug in ShardFollowTask after cutting this class over to
Checkstyle and license headers in plugin
Tidy up after elastic/x-pack-elasticsearch#3078 (elastic/x-pack-elasticsearch#3099)
SQL: Improve handling of invalid args for PERCENTILE/PERCENTILE_RANK (#37803)
Merge branch 'master' into index-lifecycle
Zen2: Turn to follower on follower check when no state accepted yet from new leader (#37003)
Docs: Fix reference to legacy tribe section
Merge branch 'master' into index-lifecycle
Add delete rollup job support to HL REST Client (#34066)
SQL: Fix issue with date columns returned always in UTC (#40163)
[Rollup] Remove builders from MetricConfig (#32536)
[M] Clean noisy error message in Yaml tests (elastic/x-pack-elasticsearch#3923)
Check term earlier in publication process (#39909)
Switch reindex tests to new style requests (#31941)
Fix a typo in the similarity docs (#26970)
[DOCS] Fixing cross doc link to Stack Overview security topic.
The default _parent field should not try to load global ordinals (#25851)
Merge branch 'master' into zen2
Move compression config to ConnectionProfile (#35357)
Configurable distance limit with the AUTO fuzziness. (#25731)
Tests: reenable ShardReduceIT#testIpRange.
[TEST] Add "ne" as an unsupported SimpleKdc locale (#32700)
Move non-core mappers to a module. (#26549)
HLRC: Add delete user action (#35294)
Tests - fix incorrect test assumption that zero-doc buckets will be returned by the adjacency matrix aggregation. Closes #29159 (#29167)
remove extraneous CreateIndexRequest context in ShrinkAction (#32893)
Document settings for the token service (elastic/x-pack-elasticsearch#1381)
Fix xpack test using deprecated setting
Remove index.mapper.dynamic from watcher and security templates
Watcher: Add thread pool rejection to execution state (elastic/x-pack-elasticsearch#2805)
Remove kibana_user and kibana_dashboard_only_user index privileges (#37441)
Removed custom naming for DISTINCT COUNT (#39537)
Cross Cluster Search: optionally skip disconnected clusters (elastic/x-pack-elasticsearch#2823)
[Docs] Update code snippet in has-child-query.asciidoc (#30510)
Remove throws IOException from PipelineAggregationBuilder#create (#40222)
Deprecate HLRC EmptyResponse used by security (#37540)
Update verify repository to allow unknown fields (#37619)
Update IndexTemplateMetaData to allow unknown fields (#38448)
[ML] Prevent notifications on deletion of a non existent job (#35337)
[Tests] Add testToXContent() RankEvalResponseTests
add phase execution info to ILM Explain API (#33488)
Fail command-line client's auto-URL detection with helpful message (#40151)
Adding ML HLRC wrapper and put_job API call (#32726)
Improve error if Indices Permission is too complex (elastic/x-pack-elasticsearch#4239)
[DOCS] Splits auditing.asciidoc into smaller files
Geo: Don't flip longitude of envelopes crossing dateline (#34535)
Make security tests transport agnostic (#39411)
Rename elasticsearch-core to core (#31185)
NETWORKING: http.publish_host Should Contain CNAME (#32806)
Fix handling of points_only with term strategy in geo_shape (#31766)
Replace exception catching with fancy returns (elastic/x-pack-elasticsearch#2454)
Bootstrap a new history_uuid when force allocating a stale primary (#33432)
Revert "Mark NamedDateTimeProcessorTests as @AwaitsFix"
Move leftover aliases test from core/ to server/ (#28463)
Remove special handling for _all in nodes info
Merge branch 'master' into zen2
Remove some duplicate request conversion methods. (#33538)
Merge branch 'master' into index-lifecycle
Test out of order delivery of append only index and retry with an intermediate delete
Revert "Move DeleteByQuery and Reindex requests into core (#24578)"
Add BlobContainer.writeBlobAtomic() (#30902)
Move OldIndexBackwardsCompatibilityIT#assertBasicSearchWorks over to full cluster restart qa module.
SQL: Lock down JDBC driver (#35798)
Fix PrimaryAllocationIT#testForceStaleReplicaToBePromotedToPrimary (#35728)
HLRC: Get ML calendars (#33760)
Ensure that a non static top docs is created during the search phase
When removing an AutoFollower also mark it as removed. (#37402)
Fix snippets in upgrade docs
Account translog location to ram usage in version map
Fixed test after merging master
Adjust CCR Actions after RequestBuilder is removed
Pass main class by environment variable (#31149)
SQL: Enhance Verifier to prevent aggregate or grouping functions from (#36799)
[TEST] mute watcher test failure that is being tracked in elastic/x-pack-elasticsearch#1517
Scripting: Add watcher script contexts (#34059)
[DOCS] Add watcher and elevated privilege info (elastic/x-pack-elasticsearch#2632)
Fixes IndiceOptionsTests to serialise correctly (#30644)
TEST: Always enable soft-deletes in ShardChangesTests
Persistent Tasks: remove retries on notification failures (#977)
TemplateUpgradeService should only run on the master (#27294)
Add Refresh API for RestHighLevelClient (#27799)
Add BWC packaging distributions
[Style] Fix line length violations for threadpool, indexing, and script packages (#37205)
TEST: Add engine log to testCorruptFileThenSnapshotAndRestore
[HLRC][ML] Add ML delete datafeed API to HLRC (#33667)
Separate out validation of groups of settings (#34184)
Find CCR QA sub-projects automatically (#33027)
LLRC: Make warning behavior pluggable per request (#36345)
Fix excessive increments in soft delete policy (#38813)
Remove an @AwaitsFix on test in SQL (elastic/x-pack-elasticsearch#2719)
Fix the clock resolution to millis in GetWatchResponseTests (#38405)
Update ingest jdocs that a null return value will drop the current document. (#40359)
Fix RestGetAction name typo
Allows failing shards without marking as stale (#28054)
remove Catalog abstraction and rename its package from catalog to index
update Lucene version for 6.0-RC2 version
conditionally update CS only if StepInfo changes (#33004)
Add soft-deletes upgrade tests (#36286)
Script: Convert script query to a dedicated script context (#26003)
[CCR] Don't auto follow follow indices in the same cluster. (#33944)
Update Painless to Allow Augmentation from Any Class (#25360)
Removing unused ML parameters (#34159)
[CCR] Improve shard follow task's retryable error handling (#33371)
Test: fix check for security version after template updater change
Revert "[Geo] Integrate Lucene's LatLonShape (BKD Backed GeoShapes) as default `geo_shape` indexing approach (#35320)"
Replace PhaseAfterStep with PhaseCompleteStep (#33398)
Remove the unused SignificantTerms.compareTerm() method (#24714)
[TEST] Expand assert to mention which files are not deleted
[DATA-FRAME] Sort `GET` transforms and stats by ID (#39365)
 TEST: Reenable RemoveCorruptedShardDataCommandIT.testCorruptIndex 
Mute QueryProfilerIT#testProfileMatchesRegular()
[DOCS] add comment to clarify cluster name resolution (#34014)
[DOCS] Moves security reference to docs folder (#33643)
Don't disable tasks based on the plugin (#36045)
[rest-api-spec] update doc link for /_rank_eval
Moved test to its rightful place.
SQL: Add filtering to SYS TYPES (#35852)
Adds more tests in IndexLifecycleServiceTests
[CI] AllocationIdIT testFailedRecoveryOnAllocateStalePrimaryRequiresAnotherAllocateStalePrimary failure
Begin migrating SQL's next page (elastic/x-pack-elasticsearch#2271)
Update ignore_unmapped serialization after backport
More Verbose Assertion in testSnapshotWithStuckNode (#39893)
Added unit test coverage for SignificantTerms (#24904)
Merge branch 'master' into ccr
Add test coverage for global checkpoint listeners
SQL: Remove whenClause from grammar (elastic/x-pack-elasticsearch#3378)
Prepare for bump to 6.0.1 on the master branch (#27391)
Merge branch 'master' into index-lifecycle
Add scroll support for cross cluster search (elastic/x-pack-elasticsearch#1706)
[ML] Refactor method to process model size stats (elastic/x-pack-elasticsearch#4175)
Unmute, fix, refactor and zen2ify NetworkDisruptionIT (#38351)
Correct backport replica rollback to 6.2 (#28181)
Change small typo in shards_allocation.asciidoc (#25643)
Move BWC Version to 7.1.0 after backport
Respond to rename random ASCII helper methods
ML: Add reason field in JobTaskState (#38029)
[ml] Don’t open failed jobs after restart (elastic/x-pack-elasticsearch#3997)
SNAPSHOTS+TESTS: Correctly Wait for Clean State (#36801)
Use RestoreSnapshotRequest in CcrRepositoryIT
[Docs] Improve tuning for speed advice (#33315)
Add tests for fractional epoch parsing (#38162)
Require HTTP::Tiny 0.070 for release notes script
Merge remote-tracking branch 'es/master' into ccr
Merge branch 'master' into rankeval
Fix explain lifecycle REST API test failure
Merge branch 'master' into close-index-api-refactoring
Make slop optional when parsing `span_near` query (#25677)
Shuffle SQL's integration tests some (elastic/x-pack-elasticsearch#2403)
[ML] Return the updated calendar after removing a job (elastic/x-pack-elasticsearch#3690)
Testclusters logging improovements (#37354)
SQL: Remove instanceof checks for field retrieval (elastic/x-pack-elasticsearch#3402)
AuditTrail correctly handle ReplicatedWriteRequest (#39925)
fix RethrottleTests retry (#38978)
Merge branch 'master' into 'zen2'
[Docs] Document limitations around rolling up heterogeneous schemas
Re-add member mistakenly removed
Integrate FollowerChecker with Coordinator (#34075)
Enable IndexActionTests and WatcherIndexingListenerTests (#38738)
Make yaml test runner stricter by enforcing `required` for paths and parameters (#27035)
Expose CommonStatsFlags directly in IndicesStatsRequest. (#30163)
Do not swallow node lock failed exception
Fix reference to painless inside expression engine (#26528)
Fix LDAP Authc connections deadlock (elastic/x-pack-elasticsearch#2587)
Add null_value support to geo_point type (#29451)
fix state left over by spec test
Migrate remaining compare tests to IT
[Zen2] Allow Setting a List of Bootstrap Nodes to Wait for (#35847)
INGEST: Add Configuration Except. Data to Metdata (#32322)
Store offsets in index prefix fields when stored in the parent field (#29067)
Consistently use loopback address for ssl profile (#37487)
Reduce the scope of `QueryRewriteContext` (#25787)
Remove redundant and broken MD5 checksum from repository-s3 (#25270)
Deprecate the _termvector endpoint. (#36098)
Limit the number of concurrent shard requests per search request (#25632)
SQL: Fix queries with filter resulting in NO_MATCH (#34812)
[Security] Support anon-bind without pooling (elastic/x-pack-elasticsearch#1491)
Networking: Deprecate http.enabled setting (#29591)
Tests: Increase logging for GetWatchTests
Remove license information from README.textile (#29198)
Handle release of 5.6.1
Fix MatchPhrasePrefixQueryBuilderTests#testPhraseOnFieldWithNoTerms
XContent: Adapt to new method on parser (elastic/x-pack-elasticsearch#3797)
Fix exit code for Security CLI tools  (#37956)
[ML] Switch native QA tests to a 3 node cluster (#31757)
keep plugin up to date with structure changes (#3702)
fix a few versionAdded values in ElasticsearchExceptions (#37877)
Watcher: Add support for actions in slack attachments (elastic/x-pack-elasticsearch#3355)
Uncouple persistent task state and status (#31031)
[Rollup] Update wire version check after backport
[ML] Extract persistent task methods from MlMetadata (#32319)
Test: Relax jarhell gradle test (#33787)
Bulk Api support for global parameters (#34528)
Use more precise does S3 bucket exist method (#34123)
Upgrade to lucene-7.2.0-snapshot-8c94404. (#27496)
Test: Fix unpredictive merges in DocumentSubsetReaderTests
Makes brnach compile
Test fix - reenable BWC tests and lower version checks now that PR 28440 for allowPartialSearchResults flag backported to 6.x (#28482)
Revert "Validate a joining node's version with version of existing cluster nodes (#25770)"
Add Tests for findSamlRealm (#35905)
[ML] Remove extra quotes in field config
Teach the build about betas and rcs (#26066)
Moved ccr integration to the package with other ccr integration tests.
deprecate types for watcher (#37594)
Core: Pick inner most parse exception as root cause (#30270)
Add nio http server transport (#29587)
[ML] Move analyzer dependencies out of categorization config (#32123)
tests: when do not generate random unicode strings for field names, but instead random alpha ascii strings
Switch x-pack rolling restart to new style Requests (#32339)
HLRest: Add get index templates API (#31161)
Merge branch 'master' into index-lifecycle
Rename core module to server (#28180)
Deprecate types in get, exists, and multi get. (#35930)
Merge branch 'master' into feature/sql
[DOCS] add docs for REST high level client index method (#25501)
[ML] Add random offset to the maintenance task execution time (elastic/x-pack-elasticsearch#2483)
[Test] Converts LocalExporterTests.testLocalExporterFlush() as REST test (elastic/x-pack-elasticsearch#969)
Merge branch 'master' into feature/sql
Fix several NOCOMMITS (elastic/x-pack-elasticsearch#2968)
remove mention of old maintenance mode setting
Build: Add back setting artifact id of pom for rest high level client (#32731)
security: Fail search request if profile is used and DLS is active.
Update security policy to use versionless codebase properties (elastic/x-pack-elasticsearch#2602)
Remove ILM specific gradle extra args (#35296)
Stricter validation for min/max values for whole numbers (#26137)
Simplify integ test distribution types (#37618)
Handle leniency for cross_fields type in multi_match query (#27045)
Include fallback settings when checking dependencies (#33522)
REST high-level client: parse back _ignored meta field (#32362)
Docs: Remove references to elasticsearch directory in plugins (#28647)
Use the same format when comparing the error messages containing date fields (#37006)
Scripting: Use type aware script contexts (elastic/x-pack-elasticsearch#1538)
adds index_lifecycle to ignored API conventions
Fix incorrect class name in deleteByQuery docs (#26151)
[Tests] Extract the testing logic for Google Cloud Storage (#28576)
Merge branch 'master' into index-lifecycle
Unzip quietly while provisioning virtual machines
Avoid stack overflow on search phases
Introduce http and tcp server channels (#31446)
When actions complete the next action is now run
[Security] Support PKCSelastic/x-pack-elasticsearch#12 keystores (elastic/x-pack-elasticsearch#2066)
Update lucene to snapshot-7e4555a2fd (#36563)
SQL: Introduce NotEquals node to simplify expressions (#35234)
Add Get Snapshots High Level REST API (#31537)
Fix expected next step being incorrect when executing async action (#34313)
[TEST] Wait a little longer for named pipes to open in unit tests (elastic/x-pack-elasticsearch#2712)
Remove some abstractions from `TransportReplicationAction` (#40706)
add support for write index resolution when creating/updating documents (#31520)
Enable soft-deletes by default for 7.0+ indices (#38929)
SQL: JLine upgrade and polishing (#40321)
Painless: Move More Logic to PainlessLookup (#32689)
Upgrade: Remove watcher/security upgrade checks (elastic/x-pack-elasticsearch#2338)
[ML] Correctly ignore extra aggregation buckets (elastic/x-pack-elasticsearch#2530)
[ML] Add description to ML filters (#31330)
[HLRC] Added support for CCR Resume Follow API (#35638)
[DOCS] Removed prerelease footnote from upgrade table.
Fix compilation of test framework tests
Add purge option to remove plugin CLI
HLRC: Documentation examples cleanup (#34009)
Migrating from joda to java.time. Watcher plugin  (#35809)
[ML] Improve logging while removing expired data (elastic/x-pack-elasticsearch#1554)
Enable run task for CCR
HLRC: ML Update Job (#33392)
SQL: Move the jdbc directory into plugin/sql (elastic/x-pack-elasticsearch#3617)
Concurrent file chunk fetching for CCR restore (#38495)
Merge remote-tracking branch 'upstream/master' into index-lifecycle
[Monitoring] Add cluster metadata to cluster_stats docs (#33860)
[DOCS] Update type for category_id (elastic/x-pack-elasticsearch#2197)
Add missing 's' to tmpdir name (#27721)
Improved percolator candidate query tests.
Mute PartitionedRoutingIT#testShrinking on Windows
Upgrade to Gradle 5.3! (#40346)
TEST: add log testDoNotRenewSyncedFlushWhenAllSealed
Create retention leases file during recovery (#39359)
Make PersistentAction independent from TransportActions (#742)
[Tests] Reenable MonitoringIT
Change required version for Get Settings transport API changes to 6.4.0 (#30706)
Increment settings version when upgrading index (#34566)
Store: keep IndexFormatTooOldException and IndexFormatTooNewException in corruption marker (#33920)
Merge branch 'master' into ccr
TESTS: Fix IndexStatsIT#testFilterCacheStats (#36143)
[ML] Fix calendar and filter updates from non-master nodes (#31804)
TEST: Adjust min_retained_seq_no expectation
[cleanup] remove deprecated references to dataWithClusterFiles (#36574)
HLRC: Add security Create Token API (#34791)
SQL: Move the SQL ODBC client applications pages from the ODBC section into the general ES SQL Client Applications page (#37004)
Remote cluster license checker and no license info. (#36837)
AwaitsFix testAbortedSnapshotDuringInitDoesNotStart (#38227)
made load method private and add another static getter that users of Grok can use to get the builtin patterns.
MINOR: Remove Dead Code in QueryCache (#36147)
Remove S3 output stream (#27280)
test: Replace OldIndexBackwardsCompatibilityIT#testOldClusterStates with a full cluster restart qa test
Upgrade to latest Gradle 4.10  (#32801)
Use non-ILM template setting up watch history template & ILM disabled (#39325)
Fix cache compute if absent for expired entries
[Docs] Add migration notes for the high-level rest client (#25911)
Build: Mostly silence warning about html4 javadoc (#30220)
Test: increase the wait for green cluster health calls (elastic/x-pack-elasticsearch#1703)
Remove `flatSettings` support from request classes (#29560)
Docs: Add http timeout configuration parameters
Add a section named "relations" in the ParentJoinFieldMapper (#25248)
Remove custom QueryBuilder#analyzeGraphPhrase (#35983)
Scripting: Remove "service" from ScriptEngine interface name (#24574)
Rework ILM build to separate integration tests (#34617)
Obeys the after parameter on phases excpet the first
[Rollup] Select best jobs then execute msearch-per-job (elastic/x-pack-elasticsearch#4152)
Unmuted testAutoFollowManyIndices() test and added more logging,
[DOCS] Add X-Pack license settings (elastic/x-pack-elasticsearch#2833)
Support 'string'-style queries on metadata fields when reasonable. (#34089)
Remove empty @param from Javadoc
docs: added percolator script query limitation
Adjust bwc version for put mapping requests
[ML] fix updating opened jobs scheduled events (#31651) (#32881)
Never leave stale delete tombstones in version map (#29619)
[Zen2] Remove initial master node count setting (#37150)
Goodbye, Translog Views (#25962)
[DOCS] Remove rawtypes suppressions and fix violations in REST high-level client docs tests
HLRC: add enable and disable user API support (#33481)
Discovery EC2: Utilize Amazon SDK to resolve EC2 metadata server (#35246)
SQL: Polish parsing of CAST expression (#40428)
Limit token expiry to 1 hour maximum (#38244)
[Zen2] Add warning if cluster fails to form fast enough (#35993)
[TEST] AwaitsFix QueryRescorerIT.testRescoreAfterCollapse
Merge AwsS3Service and InternalAwsS3Service in a S3Service class (#31580)
Reduce garbage from allocations in deprecation logger (#38780)
[DOCS] Add monitoring overview (elastic/x-pack-elasticsearch#4148)
Remove unused MeterMetric and specialized EWMA (#24975)
Merge branch 'master' into feature/sql
Test: update the branch logic for BWC tests
Build: Fix third party audit task for xpack core (elastic/x-pack-elasticsearch#3656)
IndexMetaData#mappingOrDefault doesn't need to take a type argument. (#37480)
Remove legacy checks for config file settings
Merge remote-tracking branch 'es/master' into ccr
ingest: Don't allow circular referencing of named patterns in the grok processor.
TEST: Skip assertSeqNos for closed shards (#33130)
Add Indices Aliases API to the high level REST client (#27876)
Clean up commits when global checkpoint advanced (#28140)
Update x-pack for change to channel tracking (elastic/x-pack-elasticsearch#3261)
HLRC: Move commercial clients from XPackClient (#32596)
Fix NullPointerException in MockUncasedHostProvider (#28424)
Add analysis-common as test dependency to xpack plugin module.
Introduce translog size and age based retention policies (#25147)
Increase IO direct byte buffers to 256KB (#37283)
SQL: ignore UNSUPPORTED fields for JDBC and ODBC modes in 'SYS COLUMNS' (#39518)
Move outbound message handling to OutboundHandler (#40336)
Moved Grok helper code to a separate Gradle module and
Minor fix for javadoc (applicable for java 11). (#32573)
Add BWC compatible processing to ingest date processors (#37407)
Remove custom PeriodType for watcher PeriodThrottler (elastic/x-pack-elasticsearch#4327)
Painless: Fix variable scoping issue in lambdas not including captured variables. (#27571)
Fixed compile and test errors after merging in master
Enable testing in FIPS140 JVM (#31666)
Remove unused variable (#40468)
Test improvements
[TEST] Address rejected execution in SearchAsyncActionTests (#37028)
Tests: Add ability to generate random new fields for xContent parsing test (#23437)
Migrate ZenDiscoveryIT to Zen2 (#37465)
refactors code to allow better testing
[ML] Deprecate X-Pack centric ML endpoints (#36315)
ML: removing unnecessary upgrade code (#37879)
Fix IndexTemplateMetaData parsing from xContent (#30917)
Watcher: Remove REST hijacking operations (elastic/x-pack-elasticsearch#2132)
[DOCS] Added tip in users command
Fix RareClusterStateIT on MacOS (#40203)
Adjust to decoupling TimeValue from Writeable (elastic/x-pack-elasticsearch#4338)
Watcher: Ensure watcher thread pool size is reasonably bound (elastic/x-pack-elasticsearch#3056)
Require translogUUID when reading global checkpoint (#28587)
Ensure date parsing BWC compatibility (#37929)
Merge branch 'master' into index-lifecycle
Unit tests static methods in IndeexLifecycleRunner
SQL: Upgrade to Joda 2.9.9 (sync with master)
Merge branch 'mattweber-multiple_collapse_inner_hits'
Make XContentBuilder in AliasActions build `is_write_index` field (#35071)
Packaging: Add vagrant tests for windows service (#33729)
[ML] Rework ScrollDataExtractorTests to make scroll clearing more robust (elastic/x-pack-elasticsearch#3150)
Ingest Attachment: Upgrade Tika to 1.18 (#31252)
Node should start up despite of a lingering `.es_temp_file` (#21210)
[ML] Wait for closing jobs in a close request (elastic/x-pack-elasticsearch#1398)
Date/Time parsing: Use java time API instead of exception handling (#37222)
Watcher: Ignore system locale/timezone in croneval CLI tool (#33215)
Merge branch 'master' into ccr
[DOCS] Move X-Pack-specific Docker content (#27333)
Fix failing ICU tests (#35207)
[TEST] Split tests and skip file permission test on Windows (#32781)
[DOCS] Move migrate tool reference (elastic/x-pack-elasticsearch#3011)
test: added extra log line
[DOCS] Edited documentation for ML categorization_analyzer (elastic/x-pack-elasticsearch#3587)
SQL: Fix CLI tests with security on Windows
remove lang url parameter from stored script requests (#25779)
Fix build on sles with new docker version (#36707)
[Zen2] Support rolling upgrades from Zen1 (#35737)
Drop deprecationLogger from AbstractComponent (#34859)
TEST: Avoid merges in testRecoveryWithOutOfOrderDelete
Allow `InputStreamStreamInput` array size validation where applicable (#26692)
Remove X-Pack centric graph endpoints (#36010)
HLRC: Delete role API (#34620)
[ML] Fix thread leak when waiting for job flush (#32196) (#32541)
Added 6.2 version
Add parsing for InternalScriptedMetric aggregation (#24738)
Adapt to upstream changes made to AbstractStreamableXContentTestCase (elastic/x-pack-elasticsearch#2117)
Merge branch 'master' into index-lifecycle
Fix race condition in scheduler engine test
[TEST] handle failed search requests differently
SQL: Implement CURRENT_TIME/CURTIME functions (#40662)
Handle null retention leases in WaitForNoFollowersStep (#40477)
SQL: Remove restriction for single column grouping (#31818)
Merge branch 'master' into index-lifecycle
Correct spelling of AnalysisPlugin#requriesAnalysisSettings (#32025)
Responses can use Writeable.Reader interface (#34655)
Painless: Complete Removal of Painless Type (#31699)
Merge branch 'master' into index-lifecycle
Scripting: Change keys for inline/stored scripts to source/id (#25127)
DOCS: Fix broken link in the put index template api
[Zen2] Move ClusterState fields to be persisted to ClusterState.MetaData (#35625)
Extract TransportRequestDeduplication from ShardStateAction (#37870)
Move Streams.copy into elasticsearch-core and make a multi-release jar (#29322)
Move LoggedExec to minimumRuntime source set (#36453)
HLREST: Add Clear Roles Cache API (#34187)
SQL: Move metrics tracking inside PlanExecutor (#38259)
Persistent tasks: require allocation id on task completion (#1107)
Deprecate slicing on `_uid`. (#29353)
Merge remote-tracking branch 'elastic/master' into zen2
Rename methods in PersistentTasksService (#30837)
[DOCS] fix HLRC ILM doc misreferenced tag
Create specific exception for when snapshots are in progress (#37550)
Zen2: Add leader-side join handling logic (#33013)
Add details section for dcg ranking metric (#31177)
Scripting: Switch watcher to use joda bwc time objects (#35966)
SQL: Add licensing support (elastic/x-pack-elasticsearch#2213)
Correct errors - HRLC TermVectorRequest (#35705)
[Painless] Add boxed type to boxed type casts for method/return (#36571)
Use only default type in rank_eval API (#38530)
[Zen2] Simulate scheduling delays (#34181)
Migrate Streamable to Writeable for WatchStatus (#37390)
Expand `/_cat/nodes` to return information about hard drive (#21775)
Mute SplitIndexIT (#40945)
Watcher: Reduce script cache churn by checking for mustache tags (#33978)
Fix lock accounting in releasable lock
Minor improvements to docs for numeric types (#27553)
Remove some line length supressions (#31209)
Replace Request#setHeaders with addHeader (#30588)
[CCR] Add time since last auto follow fetch to auto follow stats (#36542)
Allow noop PutUser updates (#35843)
Handle OS pretty name on old OS without OS release (#35453)
[Tests] Fix self-referencing tests
Add a `format` option to `docvalue_fields`. (#29639)
Add awaits fix for a query analyzer test
[test] java tests for archive packaging (#30734)
Fix GeoDistance query example (#28355)
HLRC: Add throttling for update & delete-by-query (#33951)
make DateMathIndexExpressionsIntegrationIT more resilient (#38473)
Build: Set bwc builds to always set snapshot (#26704)
[Rollup] Disallow index patterns that match the rollup index (#30491)
[ML] Fix unit test deadlock problem (#34174)
Modify security transport to take PageCacheRecycler (elastic/x-pack-elasticsearch#3251)
[ML] Add integration test for model plots (#30359)
Changed CCR internal integration tests to use a leader and follower cluster instead of a single cluster (#34344)
Bug fix for AnnotatedTextHighlighter - port of 39525 (#39747)
Test bi-directional index following during a rolling upgrade. (#38962)
[DOCS] Add docs for Application Privileges (#32635)
Security: upgrade unboundid ldapsdk to 4.0.8 (#34247)
ccr: Added maximum translog limit that a single shard changes response can return.
SQL: Fix issue with wrong data type for scripted Grouping keys (#35969)
Fix handling of fractional byte size value settings (#37172)
fixes broken build for third-party-tests (#32353)
Add nested and object fields to field capabilities response (#33803)
Move primary term from ReplicationRequest to ConcreteShardRequest (#25822)
Refactor AutoFollowCoordinator to track leader indices per remote cluster (#36031)
Merge remote-tracking branch 'origin/master' into index-lifecycle
Merge branch 'master' into index-lifecycle
Merge remote-tracking branch 'elastic/master' into feature/sql
Core: Converge FormatDateTimeFormatter and DateFormatter apis (#36390)
Avoid NPE in `more_like_this` when field has zero tokens (#30365)
Remove extra spaces from changelog
fix IndexLifecycleService setting member
[ML] Add field stats to log structure finder (#33351)
Add start_basic action to x-pack client actions
Report terms and version if cluster does not form (#37473)
Merge branch 'master' into index-lifecycle
Small corrections to HLRC doc for _termvectors (#35221)
Tests: Add support for custom contexts to mock scripts (#34100)
Fix usage of PluginInfo
Merge branch 'master' into zen2
Compilation fix for #29067
Allow Integ Tests to run in a FIPS-140 JVM (#31989)
Merge branch 'master' of https://github.com/elastic/elasticsearch
[ILM] Add unfollow action (#36970)
Rename feature, feature_vector and feature_query (#37794)
HasPrivilegesResponse use TreeSet for fields (#36329)
Add high level rest client support for SetIndexLifecyclePolicy (#32443)
Deprecate X-Pack centric license endpoints (#35959)
Build: Move gradle wrapper jar to a dot dir (#30146)
Account for election duration (#34362)
Ensure external refreshes will also refresh internal searcher to minimize segment creation (#27253)
Support for accessing Azure repositories through a proxy (#23518)
Move more token filters to analysis-common module
Fix potential IllegalCapacityException in LLRC when selecting nodes (#37821)
[TEST] call yaml client close method from test suite (#31591)
[DOCS] [Security] Templates do not use bind_dn (elastic/x-pack-elasticsearch#1979)
Fix race in clear scroll (#31259)
mute CreateSnapshotRequestTests
Moves Actions and related to plugin:core
Painless: Fix Semicolon Regression (#33212)
[ML] Increase tokenization flexibility for categorization (elastic/x-pack-elasticsearch#3372)
[ML] Extract common native process base class (#34856)
Trying to get the test working
Fix BytesReferenceStreamInput#skip with offset (#25634)
High-level client: fix clusterAlias parsing in SearchHit (#32465)
[Rollup] Fix duplicate field names in test (#32075)
Freezing an index should increase its index settings version (#37813)
Zen2: Extract JoinTaskExecutor (#32911)
Mute ForecastIT.testSingleSeries
Fix flaky gradle integration test
Log document id when MapperParsingException occurs (#37800)
[ML] adds support for non-numeric mapped types (#40220)
SQL: Adds MONTHNAME, DAYNAME and QUARTER functions (#33411)
add elasticsearch-shard tool (#32281)
Mute SharedClusterSnapshotRestoreIT#testSnapshotCanceledOnRemovedShard
Reindex: don't duplicate _source parameter (#24629)
Added Bengali Analyzer to Elasticsearch with respect to the lucene update(PR#238)
[ML] Allow jobs in the "closing" state to be killed (elastic/x-pack-elasticsearch#2026)
SQL: Use declared source for error messages (#37161)
Support include_type_name in the field mapping and index template APIs. (#37210)
Set minimum_master_nodes on rolling-upgrade test (#26911)
HLRC: Add ML API PUT filter (#35175)
Support script context stateful factory in Painless. (#25233)
Analysis: Wrap at 140 columns (#34494)
Don't Ping on Handshake Connection (#39076)
Simplify calculation in AwarenessAllocationDecider (#38091)
Fix DeleteRequest / GetRequest / UpdateRequest / ExplainRequest validation for null and/or empty id/type (#35314)
[Rollup] Metric config parser must use builder so validation runs (#31159)
Security: use default scroll keepalive (#33639)
SQL: remove all remaining NOCOMMITs
Use more descriptive task names for ILM cluster state updates (#34161)
[ML] Fix datafeed skipping first bucket after lookback when aggs are … (#39859)
Added ASN support for Ingest GeoIP plugin.
[TEST] Adds mutate function for all metric aggregation tests (#26056)
Register Azure max_retries setting (#35286)
Dedup translog operations by reading in reverse (#27268)
Remove unnecessary "acknowledge: true" statements in REST tests
catch-up to percentile ranks agg change in es master
HLRC: Create/Update role mapping API (#34171)
mute test
percolator: Rename map_unmapped_fields_as_string setting to map_unmapped_fields_as_text
Migrates ToXContent classes (elastic/x-pack-elasticsearch#2024)
[DOCS] Added SSL certificates API (elastic/x-pack-elasticsearch#3136)
testPrimaryFailureIncreasesTerm should use assertBusy to wait for yellow
Remove `Settings,put(Map<String,String>)` (#26785)
Use internal searcher for all indexing related operations in the engine
Always fail engine if delete operation fails (#40117)
[Kerberos] Add Kerberos authentication support (#32263)
Merge branch 'master' into ccr
TEST: avoid merge in testSegmentMemoryTrackedInBreaker
Add support for inlined user dictionary in Nori (#36123)
Security: switch to IllegalArgumentException if request cannot be serialized
Fix full cluster restart test recovery (#29545)
mute testDelayedMappingPropagationOnReplica
Plugins: Store elasticsearch and java versions in PluginInfo (#28556)
Merge branch 'master' into ccr
Fix Replace function. Adds more tests to all string functions. (#33478)
Update security info in X-Pack installation (elastic/x-pack-elasticsearch#2389)
When stopping via systemd only kill the JVM, not its control group (#25195)
Refactor internal engine
Changed the chunk coordinator to process the chunks concurrently. (#3256)
[DOCS] Fix formatting error in Slack action
Remove Painless Type from MethodWriter in favor of Java Class. (#28346)
Add API JAR task to x-pack-core
[ML-FC] implement endpoint parameter that takes a duration (elastic/x-pack-elasticsearch#3027)
[Docs] Fix Date Math example descriptions (#28125)
[ML] Also revert quantiles and model_size_stats (elastic/x-pack-elasticsearch#1369)
HLRC: Add ML Get Records API (#33085)
Docs: Fixed a grammatical mistake: 'a HTTP ...' -> 'an HTTP ...' (#33744)
Merge branch 'master' into ccr
Fix HistoryIntegrationTests timestamp comparsion (#38505)
Rebuild remote connections on profile changes (#37678)
Fix building AD URL from domain name (#31849)
QA: Add xpack tests to rolling upgrade (#30795)
Upgrade to lucene-8.0.0-snapshot-31d7dfe6b1 (#35224)
[ML][TEST] Add integ test for elastic/x-pack-elasticsearch#2519
Move GlobalCheckpointTracker and remove SequenceNumbersService (#27837)
[HLRC] Add support for get role mappings API (#34637)
Remove remaining line length violations for o.e.index (#35652)
Get snapshot rest client cleanups (#31740)
Implemented XContent serialisation for GetIndexResponse (#31675)
LoggingAuditTrail emit events before local address available (elastic/x-pack-elasticsearch#3061)
relax the assertion about the existence of MAX_UNSAFE_AUTO_ID_TIMESTAMP_COMMIT_ID in the user commit data
[Monitoring] Remove 202 responses in favor of 200 responses (elastic/x-pack-elasticsearch#4213)
Zen2: Add node id to log output of CoordinatorTests (#33929)
Watcher: Only trigger a watch if new or schedule/changed (#35908)
fix timeout usage in _bulk to `timeout` from `master_timeout` (elastic/x-pack-elasticsearch#3796)
Add unit tests for ShardStateAction's ShardStartedClusterStateTaskExecutor (#37756)
Ensure TokenFilters only produce single tokens when parsing synonyms (#34331)
Tests: Ensure correct client is picked when security is enabled
Enable IPv6 URIs in reindex from remote (#36874)
TESTS: Fix Concurent Remote Connection Updates (#33707)
Core: Remove plain execute method on TransportAction (#30998)
[ML] Adding info logging to POST set_upgrade_mode (#40457)
[Test] Update test in SharedClusterSnapshotRestoreIT (#30200)
[HLRC] Added support for CCR Unfollow API (#35693)
CLI: Close subcommands in MultiCommand (#28954)
[Zen2] Add lag detector (#35685)
Fix LocalIndexFollowingIT#testRemoveRemoteConnection() test (#38709)
Merge branch 'master' into feature/sql
Upgrade security index to use only one (the default) index type (elastic/x-pack-elasticsearch#1780)
[CCR] Add metadata to keep track of the index uuid of the leader index in the follow index (#33367)
Add unit test for MetaDataMappingService with typeless put mapping. (#40578)
[Test] Mute FullClusterRestartIT.testShrink() until test is fixed
Use client settings in repository-gcs (#28575)
Docs: Add note to contributing docs warning against tool based refactoring (#26936)
[TEST] Wait for license metadata to be installed
Merge branch 'master' into index-lifecycle
Rename certgen
[CCR] Add more unit tests for shard follow task (#32121)
Small fixes to the HLRC watcher documentation. (#34306)
Re-enable TasksClientDocumentationIT.testCancelTasks (#38234)
Clean up allowPartialSearchResults serialization (#37911)
[Docs] Update method setSource(byte[] source) (#26561)
Docs: Remove unnecessary qualifier from wildcard import note (#34419)
Moves Index-Lifecycle classes over to new module
[test] generate unique user names (#36179)
Remove support for maxRetryTimeout from low-level REST client (#38085)
Add byte array pooling to nio http transport (#31349)
Adding ml_settings entry to HLRC and Docs for deprecation_info (#38118)
Mute failing discovery disruption tests
[CCR] Added auto follow patterns feature (#33118)
Merge remote-tracking branch 'elastic/master' into feature/sql
SQL: Replace calendar in H2 tests if a non-Gregorian calendar is detected
[Security] Don't apply local restrictions on remote cluster search (elastic/x-pack-elasticsearch#1609)
Cleanup .gitignore (#30145)
[DOCS] Enabled code snippet testing for start datafeed API (elastic/x-pack-elasticsearch#3055)
Refactors ClientHelper to combine header logic (#30620)
Fix index-lifecycle build
Rest HL client: Add watcher stats API (#35185)
Revert "Upgrade to Lucene-7.4.0-snapshot-0a7c3f462f (#31073)"
Merge branch 'master' into index-lifecycle
Add Ingest-Processor specific Rest Endpoints & Add Grok endpoint (#25059)
Reject regex search if regex string is too long (#28542)
SQL: wrap remaining long lines (elastic/x-pack-elasticsearch#3458)
Fix context suggester to read values from keyword type field (#24200)
Merge remote-tracking branch 'origin/master' into feature/sql_2
Fix alias resolution runtime complexity. (#40263)
Revert "Build: Move gradle wrapper jar to a dot dir (#30146)"
Add check when trying to reroute a shard to a non-data discovery node (#28886)
Adds ILMClient for use with transport client (#33357)
Split third party audit exclusions by type  (#36763)
[Painless] Add a Map for java names to classes for use in the custom classloader (#34424)
 Fix binary doc values fetching in _search (#29567)
Make Persistent Tasks implementations version and feature aware (#31045)
Fix the building of the default URL for the setup password tool (elastic/x-pack-elasticsearch#2176)
Add target_field parameter to gsub, join, lowercase, sort, split, trim, uppercase (#24133)
Merge remote-tracking branch 'upstream/master'
Add support for auto_generate_synonyms_phrase_query in match_query, multi_match_query, query_string and simple_query_string (#26097)
Relax TermVectors API to work with textual fields other than TextFieldType (#31915)
Fix TransportChangePasswordActionTests
Use ByteBuffer#slice in BytesReference wrapper (#36862)
[GCE Discovery] Automatically set project-id and zone (#33721)
 Remove dangerous `ByteBufStreamInput` methods (#27076)
Exit Windows scripts promptly on failure
Fix Like/RLike signature
Tests: Make $_path support dots in paths (#28917)
Mute DynamicMappingIT testMappingsPropagatedToMasterNodeImmediately
Merge branch 'master' of github.com:elastic/elasticsearch
Fix incorrect template name in test case
Do not fail snapshot when deleting a missing snapshotted file (#30332)
[ML] refactoring start task a bit, removing unused code (#40798)
Merge branch 'master' into index-lifecycle
Introduce ssl settings to reindex from remote (#37527)
[ILM] change remove-policy-from-index http method from DELETE to POST (#35268)
Remove unused assertions enabled method
Remove version conditionals from InternalAggregations (#40193)
Deprecate fallback to java on PATH (#37990)
Merge branch 'master' into ccr
Allow to trim all ops above a certain seq# with a term lower than X (#30176)
Settings: Introduce settings updater for a list of settings (#28338)
[Docs] Update links to java9 docs (#28750)
Expose proximity boosting (#39385)
Painless Context Doc: Add min should match example (#35423)
Adjust serialization version in IndicesOptions
Create keystore on RPM and Debian package install
[ML] Calendar jobs endpoints (elastic/x-pack-elasticsearch#3320)
[DOCS] Split long lines in Docker TLS getting-started snippet
SQL: Fix grammar for `*` in arithm expressions (#34176)
Handle core's shading and fix some licenses
Merge branch 'master' into ccr
Mute DataFrameTaskFailedStateIT.testFailureStateInteraction (#40544)
Test: print cluster state xcontent on security index check failures
Fix NOOP bulk updates (#32819)
Modify state of VerifyRepositoryResponse for bwc (#30762)
Remove PipelineExecutionService#executeIndexRequest (#29537)
Replace deprecated API usage in Netty4HttpChannel
muted test
Adds more unit tests for IndexLifecycleRunner
SQL: Add remaining matrix aggregations (elastic/x-pack-elasticsearch#3330)
Leverage scorerSupplier when applicable. (#25109)
Fix random params in testSoftDeletesRetentionLock (#38114)
Build: Assert jar LICENSE and NOTICE files match
Remove implementations of `TransportChannel` (#27388)
Adjust testGetSslCertificates to run in FIPS (#40046)
Limit the scope of BouncyCastle dependency (#30358)
[DOCS] Update ml.enabled description (elastic/x-pack-elasticsearch#2148)
add split index reference in indices.asciidoc
Upgrade to Lucene-7.4.0-snapshot-bcf9f5c36b (#29490)
Docs: Fix broken watcher example using multi line strings
HLRC: reindex API with wait_for_completion false (#35202)
Several internal improvements to internal test cluster infra (#26214)
[DOCS] Updated terms re wildcard support
Update Painless to Use New Script Contexts (#25015)
Move CompletionStats into the Engine (#33847)
[CCR] Forgot missing return statement,
Assume that rollover datemath tests run on the same day. (#34527)
Move ObjectParser into the x-content lib (#29373)
[Tests] Improve error message for failed xContentEquivalent() tests (#24828)
Fixed compile errors and test failures after merging master into ccr.
[Monitoring] Removing unused version.* fields (#33584)
NETWORK: Remove Dead Code from Netty4CorsConfig (#34947)
Refactor realm tests to use single settings (#35362)
Add note to low-level client docs for DNS caching (#29213)
Use a secure setting for the watcher encryption key (elastic/x-pack-elasticsearch#1831)
Moves more classes over to ToXContentObject/Fragment (#26234)
percolator: Deprecate `document_type` parameter.
Fix toString() in SnapshotStatus (#26852)
[DOCS] Added Dev Tools settings
[CCR] Validate index privileges prior to following an index (#33758)
Remove NPE from IndexFollowingIT (#35717)
enable bwc testing
Core: Remove parseDefaulting from DateFormatter (#36386)
Backport changes from stand-alone repo:
Build: Line up IDE detection logic
Mute failing IndexShardIT#testPendingRefreshWithIntervalChange
Require Gradle 4.9  as minimum version (#32200)
Mute failing SearchQueryIT test
inner hits: Only access stored fields when needed
Push primary term to replication tracker (#38044)
[DOCS] Added ML forecast API (elastic/x-pack-elasticsearch#2745)
Merge branch 'master' into feature/sql
Null completion field should not throw IAE (#33268)
Fix packaging tests
Mute MachineLearningIT#testStartDatafeed
Merge branch 'master' into zen2
Tests- added helper methods to ESRestTestCase for checking warnings (#36443)
Further tweak AutoFollowIT#testAutoFollowManyIndices:
[DOCS] Model plot updates (elastic/x-pack-elasticsearch#1803)
Docs: DRY up CRUD docs (#34203)
[Docs] Correct link target for datatype murmur3 (#27143)
Docs: Remove invalid configuration options
Merge remote-tracking branch 'elastic/master' into ccr
Cleans up warnings
Use DocumentField#toXContent and parsing in SearchHit (#25469)
[ML] Add scheduled_events field to bucket (elastic/x-pack-elasticsearch#3513)
Refactor TransportShardBulkAction.executeUpdateRequest and add tests
[DOCS] Added X-Pack monitoring to Elasticsearch Reference (elastic/x-pack-elasticsearch#2831)
[Zen2] Migrate no-master-block integration tests (#36502)
[ML] Periodically persist data-frame running statistics to internal index (#40650)
Move CCR REST tests to ccr sub-project (#33731)
Stores security headers with the LifecyclePolicy and uses them for AsyncSteps (#30657)
[TEST] address testCollectNodes rare failure (#38559)
Switch high level rest tests to new style requests (#31937)
Forbidden APIs in JDBC
[Rollup] Register FeatureSetUsage with xpack, add tests (elastic/x-pack-elasticsearch#4040)
Run core's full cluster restart tests with x-pack (elastic/x-pack-elasticsearch#2433)
Remove BouncyCastle dependency from runtime (#32193)
Unify Settings xcontent reading and writing (#26739)
Mute testPersistJobOnGracefulShutdown_givenTimeAdvancedAfterNoNewData
SQL: DATABASE() and USER() system functions (#35946)
High level rest client : minor code clean up (#28386)
Fixes X-Pack loaded YAML test
Fix failing CLI tests
[test] port linux package packaging tests (#31943)
Update test script engines to use generic compile method (elastic/x-pack-elasticsearch#1546)
HLRC for _mtermvectors (#35266)
Mute testRecoverMissingAnalyzer
[ML] make source and dest objects in the transform config (#40337)
Revert transport.port change for tests (#36809)
Move persistent task registrations to core (#30755)
[TEST] fix NPE when generating random query (#26023)
SQL: Doc on syntax (identifiers in particular) (#38662)
Remove assert statements from field caps documentation. (#30601)
Add Composite to AggregationBuilders (#38207)
SQL: add folding to BinaryComparison (elastic/x-pack-elasticsearch#3529)
Fix some dependency licenses
Pre-configured shingle filter should disable graph analysis (#25853)
add phase and action timestamps to cluster-state (#3726)
Merge branch 'master' into ccr
Upgrade to Lucene release 8.0.0 (#39992)
Mute testCloseWhileRelocatingShards (#39589)
Painless: Change fqn_only to no_import (#32817)
Logging: Drop remaining Settings log ctor (#34149)
Forbid trappy methods from java.time (#28476)
Use a dedicated ThreadGroup in rest sniffer (#26897)
SQL: Grammar tweak for number declarations (#33767)
Add adding ability to associate an ID with tasks (elastic/x-pack-elasticsearch#3500)
Handle terms query when detecting if a query can match nested docs (#34072)
Removed reference to file-based scripts
Upgrade Painless from ANTLR 4.5.1-1 to  ANTLR 4.5.3. (#27153)
[ML] Correct small inconsistencies in ml APIs spec and docs (#39801)
[ML] Test ML with the Transport Client (elastic/x-pack-elasticsearch#1440)
remove requirement for shards/replicas in allocation check steps (#30855)
Expose master version in REST test context (#30623)
Merge branch 'master' into ccr
Remove Dead Code + Duplication in o.e.c.routing (#36678)
Persistent Tasks: PersistentTaskRequest -> PersistTaskParams (#1057)
Logging: Fix test on windows
Remove uses of Strings.cleanPath (elastic/x-pack-elasticsearch#1709)
Remove unused index store in directory service
Upgrade to Lucene-7.4.0-snapshot-0a7c3f462f (#31073)
SQL: Teach the CLI to ignore empty commands (#30265)
Re-enable testTriggeredWatchLoading
Bubble up exception when processing NoOp (#39338)
Remove logging from elasticsearch-nio jar (#30761)
[CCR] Cleanup pause follow action (#34183)
[DOCS] Disable monitoring for the docs tests (elastic/x-pack-elasticsearch#3143)
SQL: Fix bug regarding histograms usage in scripting (#36866)
[test] package pre-install java check (#32259)
Stop automatically nesting mappings in index creation requests. (#36924)
[Test] Remove unused imports
Watcher: Fix NPE in watcher index template registry (elastic/x-pack-elasticsearch#3571)
Replace java mail with jakarta mail (#40088)
Fix suite scope random initializaation (#37163)
Merge branch 'master' into feature/rank-eval
Build: Move test files from plugin/src to appropriate other projects (elastic/x-pack-elasticsearch#3653)
[ML] Include closing jobs in node capacity check (elastic/x-pack-elasticsearch#2034)
Tests: Remove use of joda time in some tests (#31922)
Security: remove password hash bootstrap check (#32440)
Update Tika version to 1.15
Follow engine should not fill gaps upon promotion and recovery (#31751)
Ensure remote cluster is connected before fetching `_field_caps` (#24845)
Merge remote-tracking branch 'elastic/master' into ccr
Unify blob store compress setting (#39346)
Settings: Fix secure settings by prefix (#25064)
Use soft deletes to maintain doc history (#29549)
[ML] Use default request durability for .ml-state index (#32233)
Fix bugs in fixLag() (#34346)
Adapt FullClusterRestartIT on master (#38856)
Tests: Remove platform specific assertion in NioSocketChannelTests
Perform precise check for types warnings in cluster restart tests. (#37944)
Lists are now represented as actual lists in Settings
TESTS: Enable DEBUG Logging in Flaky Test (#34091)
Update shrink's bwc version to 6.1.0 and enabled bwc tests
Add hack to run internal test cluster if needed
Improve testcluster distribution artifact handling (#38933)
Remove SearchHit#internalHits (#25653)
Protect scheduler engine against throwing listeners (#32998)
Fix location of AbstractHttpServerTransport (#30888)
Validate metdata on `_msearch` (#35938)
[ML] Followup to annotations index creation (#36824)
Checkstyle: Catch wide snippets (#34163)
Forbid direct usage of ContentType.create() methods (#26457)
reset me
[CCR] added rest specs and simple rest test for follow and unfollow apis (#30123)
Fix upgrading of list settings (#33589)
Exit immediately if shell scripts encounter error
Integrates soft-deletes into Elasticsearch (#33222)
add a comment explaining the need for RetryOnReplicaException on missing mappings
CCR: Optimize indexing ops using seq_no on followers (#34099)
Add term and config to cluster state (#32100)
Add read timeouts to http module (#27713)
Register ip_range aggregation with the high level client (#26383)
Stop auto-followers on shutdown (#40124)
ingest: processor stats (#34724)
Renames XPackField.INDEX _LIFCYCLE value to "ilm" (#33270)
Suppress LicensingDocumentationIT.testPutLicense in release builds (#32613)
Mute WatchAckTests.testAckAllActions
[Tests] Improve testing of FieldSortBuilder (#26437)
Add some deprecation optimizations (#37597)
SQL: improve exception when error can't be parsed (elastic/x-pack-elasticsearch#3024)
Mute KerberosAuthenticationIT
Mute failing DateMathExpressionResolverTests tests
Raise a 404 exception when document source is not found (#33384) (#34083)
[Docs] Add reindex.remote.whitelist example (#30828)
Enable the Gradle daemon (#34545)
[ML] Parse model_memory_limit both as number and string with units (elastic/x-pack-elasticsearch#1921)
Adding additional tests for agg parsing in datafeedconfig (#36261)
no need to resolve index name as only concrete index names are used
Merge remote-tracking branch 'upstream/master'
Fix third-party audit tasks on JDK 8
Muting  SnapshotDisruptionIT
Move icu4j and super-csv version numbers to versions file (#32769)
[ML] Move JobProvider and the Batched*Iterators out of core (elastic/x-pack-elasticsearch#3712)
[Test] Fix SnapshotShardsServiceIT.testRetryPostingSnapshotStatusMessages
[CCR] Validate remote cluster license as part of put auto follow pattern api call (#35364)
Move score script context from SearchScript to its own class (#30816)
Modify self-generated basic licenses to not expire (elastic/x-pack-elasticsearch#3952)
SQL: Move IT tests sql plugin project
Fix merging of search_as_you_type field mapper (#40593)
Tests: Fix VersionTests after version bump
muted tests due to #31940
[Monitoring] Add Cluster Alert for X-Pack License Expiration (elastic/x-pack-elasticsearch#1998)
HLRC: Add ML delete filter action (#35382)
Move logstash-states template into the main logstash template (elastic/x-pack-elasticsearch#1490)
Remove retention leases when unfollowing (#39088)
general indexlifecycle cleanup, rest tests, reintroduce integ-test (#3243)
Remove ExceptionsHelper#detailedMessage in tests (#37921)
Build DocStats from SegmentInfos in ReadOnlyEngine (#34079)
[Docs] Fix Java Api index administration usage (#28260)
[TEST] Wait for replicas to be allocated before shrinking
Reduce flaxiness of ccr recovery timeouts test (#38035)
Make purely negative queries return scores of 0. (#26015)
Honor RUNTIME_JAVA_HOME for benchmarks (#28962)
Filter current version from compatible versions
Update version of TaskInfo header serialization after backport
Allow AD realm to perform 'run-as' lookups (elastic/x-pack-elasticsearch#2531)
Add test for global checkpoint sync with security
Don't replace forbidden pattern failures when found (#40710)
Remove ILM constructor hacks (#32597)
HLRC: adding machine learning delete job (#32820)
[ML][TEST] Disable other plugins for internal cluster integ tests (elastic/x-pack-elasticsearch#4285)
Mute failing  ApiKeyIntegTests (#38614)
re-enables awaitsfixed datemath tests (#38376)
Merge branch 'feature/sql'
[Style] Remove line length violations from ingest actions (#34886)
Make sure that field aliases count towards the total fields limit. (#32222)
Rollup adding support for date field metrics (#34185) (#34200)
Fix line length for org.elasticsearch.common.* files (#34888)
Revert "Mute ML upgrade test (#30458)"
Remove usage of `index.shrink.source.*` in 7.x (#33271)
enable bwc tests and bump versions after backporting https://github.com/elastic/elasticsearch/pull/37639
Fix the rest client
Allow TrimFilter to be used in custom normalizers (#27758)
Update docs structure
Allow word_delimiter_graph_filter to not adjust internal offsets (#36699)
Moves registing of NamedWriteables to plugin:core
Pass config path as a system property
Add more yaml tests for get alias API (#29513)
Mute DynamicMappingIT#testConflictingDynamicMappings
Add QA project and fixture based test for discovery-ec2 plugin (#31107)
XPack: core/ccr/Security-cli migration to java-time (#38415)
Core: Deguice RepositoriesService (#36016)
Fixes for a few randomized agg tests that fail hasValue() checks
[DOCS] Explain mapping explosion (#25654)
Merge branch 'master' into ccr
[ML] [DOCS] Clean up ML jobs after each docs test (elastic/x-pack-elasticsearch#2825)
Make generated passwords shell safe (elastic/x-pack-elasticsearch#3253)
[ML] Autodetect should receive events from the earliest valid timestamp (elastic/x-pack-elasticsearch#3570)
Switch to painless style regen task
Never block on key in `LiveVersionMap#pruneTombstones` (#28736)
HLRC: close job refactor (#33031)
Lift retention lease expiration to index shard (#38380)
HLRC: ML PUT Calendar (#33362)
[Security] Handle cache expiry in token service (elastic/x-pack-elasticsearch#3565)
Rename migrate
fix silly serialization test
Make remote ping and compress settings dynamic (#37200)
[Docs] Document Scroll API for Java High Level REST Client (#25554)
SQL: Implement null safe equality operator `<=>` (#35873)
test: make sure analysis-common is also installed as a plugin
[ML] Add document type to ID (elastic/x-pack-elasticsearch#1525)
Fix line length offenders in the o.e.search package. (#36223)
Implement CCR licensing (#33002)
Merge branch 'master' into index-lifecycle
Logging: Drop another deprecated Loggers method (#34520)
Resync fails to notify on unavaiable exceptions (#33615)
Merge branch 'master' into index-lifecycle
Resolve JAVA_HOME at windows service install time (#39714)
Disable security for trial licenses by default (elastic/x-pack-elasticsearch#4120)
[ML] Add integration tests to check persistence (#40272)
[TEST] Fix possible identical mutation in SearchHitTests#mutate
HLRC: ML %s/Boolean is/Boolean get/g (#34641)
[ML] Refactor common utils out of ML plugin to XPack.Core (#39976)
Merge branch 'master' into feature/sql
Pass the host name on as `server_name` if proxy mode is on (#34559)
fixed not returning response instance
Mute MigrationDocumentationIT#testClusterHealth()
Adapt bwc version after backport #28310
Move watcher to use seq# and primary term for concurrency control (#37977)
Merge branch 'master' into index-lifecycle
Use exact numDocs in synced-flush and metadata snapshot (#30228)
More phase tests
Remove wrong assert in LocalCheckpointTrackerTests
Persistent Tasks: Remove unused stopped and removeOnCompletion flags (#853)
Scripting: Remove dead code from painless module (#32064)
Decouple XContentBuilder from BytesReference (elastic/x-pack-elasticsearch#4119)
[Test] Fix RenameProcessorTests.testRenameExistingFieldNullValue() (#29655)
For msearch templates, make sure to use the right name for deprecation logging. (#36344)
SQL: Scripting support for casting functions CAST and CONVERT (#36640)
Remove ALL shard check in CheckShrinkReadyStep (#35346)
SQL: Fix constant folding of datetime functions (elastic/x-pack-elasticsearch#3637)
Support both typed and typeless 'get mapping' requests in the HLRC. (#37796)
Obey lock order if working with store to get metadata snapshots (#24787)
Add utility method to get the latest version of the previous minor
[ML] Shave off DeleteExpiredDataIT runtime (#39557)
[CCR] Add unfollow API (#34132)
Core: Add methods to get locale/timezone in DateFormatter (#34113)
lazy snapshot repository initialization (#31606)
Avoid background sync on relocated primary (#40800)
Allow to clear the fielddata cache per field
Add Bulk Delete Api to BlobStore (#40322)
Merge branch 'master' into ccr
Merge remote-tracking branch 'elastic/master' into zen2
Remove AbstractComponent from AbstractLifecycleComponent (#35560)
Fix serialisation bug
GCS Repository: Remove specifying credential file on disk (#24727)
introduce random timeseries lifecycle policy util method (#32852)
HLRest: Allow caller to set per request options (#30490)
[Docs] Fix typo in ClusterChangedEvent javadoc (#39964)
Merge branch 'master' into feature/sql
Add get mappings support to high-level rest client (#30889)
Avoid blocking on channel close on network thread (#25521)
Add ICUCollationFieldMapper (#24126)
Merge branch 'master' into feature/sql
Tests: Added trace logging for more debug information
Merge branch 'master' into ccr
[TEST] Awaits tasks termination in the RestHighLevelClient tests (#37302)
[ML] generate unique doc ids for data frame (#40382)
Provide a lower and upper bound when internally reading translog operations (#26708)
ILM: use node _id attribute when allocating to one node (#35061)
Compliant SAML Response destination check (#31175)
Do not search locally if remote index pattern resolves to no indices (#25436)
[Security] Handle non-existent user in native realm (elastic/x-pack-elasticsearch#2044)
Upgrade master to lucene-8.0.0-snapshot-a1c6e642aa (#37091)
[TEST] Fix compilation for XContent parser
Docs: Add all JDKs to CONTRIBUTING.md
[Docs] Fix asciidoc style in composite agg docs
[CCR] move tests that modify test cluster from the main test class to
fix syntax error in info.asciidoc
Support RequestedAuthnContext (#31238)
GEO: Add support for z values to libs/geo classes (#38921)
Tests: Add ElasticsearchAssertions.awaitLatch method (#36777)
[ML][TEST] Use condition_type instead of type in rule bwc test
[Monitoring] Remove BWC Layer for Marvel (2.3 - 2.4) in 6.0 (elastic/x-pack-elasticsearch#1990)
TEST: decrease logging level in the flush test
Changes PhaseAfterStep to take the name of the previous phase (#30756)
Remove Dead Code from o.e.action (#39884)
Reject long regex in query_string (#31136)
Build: Configure the license/notice file for xpack (elastic/x-pack-elasticsearch#2357)
LLREST: Introduce a strict mode (#33708)
Zen2: Add Cluster State Applier (#34257)
Move cli sub-project out of server to libs (#31184)
Use different pipeline id in test.
Fix qa build.gradle to gradle assemble works correctly
Bump Gradle heap to 1792m (#30484)
Move SoraniNormalizationFilterFactory to the common analysis plugin (#33892)
Shows how to disable CCS from dedicated master/data (#26860)
Remove deprecated `useDisMax` from MultiMatchQuery (#36488)
SNAPSHOT+TESTS: Relax Assertion in DisruptionIT (#37144)
SQL: Move internals from TimeZone to ZoneId (#36651)
Make RestHighLevelClient's Request class public (#26627)
Added support to the percolate query to percolate multiple documents
Limit user to single concurrent auth per realm (#30794)
[ML] Remove unused member in NativeAutodetectProcessFactory (elastic/x-pack-elasticsearch#2629)
MINOR: Remove Deadcode in X-Pack Tests (#34511)
Java versions for ci (elastic/x-pack-elasticsearch#4268)
[TEST] Comment out account breaker assertion while diagnosing
REST high-level client: add support for Indices Update Settings API [take 2] (#29327)
Allow plugins to plug rescore implementations (#26368)
Plugins: Remove meta plugins (#30670)
Use CoveringQuery to select percolate candidate matches and
Fix assertIngestDocument wrongfully passing (#31913)
Disable bwc tests in preparation of merging #25512 & #25511
Remove deprecated RealmConfig constructor (#35327)
[CCR] Report error if auto follower tries auto follow a leader index with soft deletes disabled (#36886)
[Rollup] Specialize validation exception for easier management (#30339)
Increase max chunk size to 256Mb for repo-azure (#32101)
[Docs] REST high-level client: Fix code for most basic search request (#28916)
Allow build to directly run under JDK 9 (elastic/x-pack-elasticsearch#2320)
Revert "Replace usages RandomizedTestingTask with built-in Gradle Test (#40564)"
Updates the build to gradle 4.9 (#32087)
Ensure LuceneChangesSnapshot reads in leaf order (#31246)
Updated "string" datatype in docs & tests to "text" (#27629)
[DOCS] Removed  and  params from MLT. Closes #28128 (#31370)
LLClient: Add setJsonEntity (#30447)
[DOCS] Moves ML node info to docs (#31142)
Test: increase time to wait for tribe tests with security
Relax testAckedIndexing to allow document updating
Docs: Allow snippets to have line continuation (#32649)
Settings: Reimplement keystore format to use FIPS compliant algorithms (#28255)
[TEST] ClientYamlSuiteRestApiParser to parse spec without path parts (#33720)
Documentation: Fix checksum link to point to sha512 link
mute IndicesOptionsTests.testSerialization
Remove BytesArray and BytesReference usage from XContentFactory (#29151)
Clean codebase from empty statements (#37822)
Tie-break completion suggestions with same score and surface form (#39564)
Security: minimize automatons as they are combined (elastic/x-pack-elasticsearch#4300)
Remove an unused constant in PutMappingRequest.
REST high-level client: remove index suffix from indices client method names (#28263)
Remove all dependencies from XContentBuilder (#29225)
Move top-level pipeline aggs out of QuerySearchResult (#40319)
Add BootstrapContext to expose settings and recovered state to bootstrap checks (#26628)
Merge branch 'master' into ccr
More "normalization" to es-norms
Side-step pending deletes check (#30571)
Painless: Add Bindings (#33042)
Adapt to yaml test client upstream changes (elastic/x-pack-elasticsearch#2172)
Painless: Modify Loader to Load Classes Directly from Definition (#28088)
Revert "Support concurrent refresh of refresh tokens (#38382)"
[TEST] Use correct StreamInput version to deserialize in testSnapshotDeletionsInProgressSerialization
Include size of snapshot in snapshot metadata #18543, bwc clean up (#30890)
[TEST] Add more exclusions to ML security tests
Test: disable locale parsing test that is broken with some randomized
Fix creating keystore when upgrading (#29121)
Merge remote-tracking branch 'es/master' into ccr
Move inputs and outputs before action (#36539)
Small code cleanups and refactorings in persistent tasks (#29109)
[DOCS] Added info about snapshotting your data before an upgrade.
User proper write-once semantics for GCS repository (#30438)
Add raw sort values to SearchSortValues transport serialization (#36617)
add more tests
SQL: Fix issue with field names containing "." (#37364)
Handle 6.4.0+ BWC for Application Privileges (#32929)
fix checkstyle error in SearchDocumentationIT
Move more XContent.createParser calls to non-deprecated version (#28672)
Tests: Fail if test watches could not be triggered (#30392)
[Tests] Make testEngineGCDeletesSetting deterministic (#38942)
Adds infrastructure for dealing with errors in step execution (#30341)
Skip unsupported languages for tests (#38328)
Deprecate X-Pack centric watcher endpoints (#36218)
Rename ParameterMap to DeprecationMap (#37317)
Remove types from internal monitoring templates and bump to api 7 (#39888)
Delete index API to work only against concrete indices (#25268)
[ML] Handle simultaneous force delete datafeed and stop datafeed (elastic/x-pack-elasticsearch#2243)
[DOCS] Enabled code snippet testing in stop datafeed API (elastic/x-pack-elasticsearch#3127)
Vector field (#33022)
Introduce ParentJoinFieldMapper, a field mapper that creates parent/child relation within documents of the same index (#24978)
[CCR] Add auto follow pattern APIs to transport client. (#33629)
SQL: Minor fixes
Fixes randomDateTimeZone method (#35145)
Remove BlobContainer.move() method (#31100)
Merge branch 'master' into index-lifecycle
Forbid negative scores in functon_score query (#35709)
Deprecate `nGram` and `edgeNGram` names for ngram filters (#30209)
Upgrade to Netty 4.1.13.Final
Fix NPE for /_cat/indices when no primary shard (#26953)
Fix translog bwc serialization (#36676)
Adjust to XContentBuilder decoupling (elastic/x-pack-elasticsearch#4212)
Tie break search shard iterator comparisons on cluster alias (#38853)
Replace more deprecated ParseField.match calls with non-deprecated call (#28525)
[ML] Fix ML memory tracker for old jobs (#37311)
Add OneStatementPerLineCheck to Checkstyle rules (#33682)
Do not load global state when deleting a snapshot (#29278)
Cleanup Duplication in `PainlessScriptEngine` (#31991)
[TEST] Use better REST endpoints for testing watch actions
SQL: handle wildcard expansion on incorrect fields (#35134)
[CCR] Muted tests
REST high-level client: add support for Indices Update Settings API (#28892)
[TEST] Mock getVersion on channel for ServerTransportFilterTests
Remove global checkpoint constraint
Remove index audit output type (#37707)
Introduce `TransportLogger` for common logging (#32725)
Remove some unused code (#27792)
Change ShardFollowTask to reuse common serialization logic (#39094)
Search: Wrap lucene classes at 140 columns (#34491)
[CCR] Add random shard follow task test (#32188)
Revert "Mute ML rolling upgrade tests. Awaits fix elastic/x-pack-elasticsearch#1760"
Move all repository-azure classes under one single package (#26624)
Fix BWC for query_and_fetch
[DOCS] Added job ID requirements (elastic/x-pack-elasticsearch#3727)
[ML] Addressing bug streaming DatafeedConfig aggs from (<= 6.5.4) -> 6.7.0 (#40610) (#40660)
Fix checkpoints advance test
Test: Fix package name
[DOCS] Augmented security configuration steps (elastic/x-pack-elasticsearch#4316)
Remove the AbstracLifecycleComponent constructor with Settings (#37523)
Fixes libs:dissect when in eclipse
Update BWC checks in HasPrivilegesResponse (#35929)
Add sni name to SSLEngine in nio transport (#35920)
Implement follower rate limiting for file restore (#37449)
[DOCS] Add aggregation limitation details (elastic/x-pack-elasticsearch#4143)
Watcher: Ensure TriggerEngine start replaces existing watches (#33157)
Register primary context handoff as known handler
Fix warn that fails compile
Add Verify Repository High Level REST API (#30934)
SignificantText aggregation - like significant_terms, but for text (#24432)
Preserve thread context when connecting to remote cluster (#31574)
SQL: switch from _sql/ endpoint to _xpack/sql endpoint (elastic/x-pack-elasticsearch#3270)
Cleanup IndexFieldData visibility (#25900)
Don't load global ordinals with the `map` execution_hint (#37833)
[ML] Prevent time_field and control field name in analysis_config (elastic/x-pack-elasticsearch#1729)
Merge branch 'master' into feature/sql
Rename "after" to "minimum_age" in lifecycle definition (#33530)
Merge remote-tracking branch 'elastic/master' into feature/sql_2
Adjust BWC version for token/API key service (#38917)
Docs: Change port to be an integer in htttp input docs
Build: Use md5 to determine whether ml snapshot needs downloading (elastic/x-pack-elasticsearch#3612)
Docs: Use single-node discovery.type for dev example
[TEST] Temporarily disable the secure fixture for hdfs tests (#24643)
Update shas after Lucene upgrade.
[DOCS] Moves machine learning APIs to docs folder (#31118)
Throw AssertionError when no master (#38432)
Add a soft limit to the field name length (#40309)
Extend allowed characters for grok field names (#21745) (#31653)
Fix line length for VersionTests
Use a non default port range in MockTransportService
Revert "AwaitsFix the RecoveryIT suite - see #35597"
Mute failing test
[test] remove Streamable serde assertions (#29307)
Add get field mappings to High Level REST API Client (#31423)
[Rollup] Use composite's missing_bucket (#31402)
Exit Windows scripts promptly on failure
Mute failing SQL spec suites
Fix daitch_mokotoff phonetic filter to use the dedicated Lucene filter (#28225)
fix MultiValuesSourceFieldConfig toXContent (#36525)
median absolute deviation agg (#34482)
Mute FlushIT tests
Correcting some minor typos in comments
Switch url repository rest tests to new style requests (#31944)
Fix some links in Painless method reference
Renames endpoints for setting and deleting ILM policies# (#31552)
Deprecate X-Pack centric rollup endpoints (#35962)
Maintain ordering in X-Pack project substitutions
Added fatal_exception field for ccr stats in monitoring mapping. (#37563)
Add the ability to set eager_global_ordinals in the new parent-join field (#25019)
Makes IndexLifecycleMetadata feature aware
Mute testCannotShrinkLeaderIndex (#38374)
Watcher: Fix ack watch documentation (elastic/x-pack-elasticsearch#1695)
Security index expands to a single replica (#33131)
Types removal - deprecate include_type_name with index templates (#37484)
docs: Use stackexchange based example to make documentation easier to understand
[Tests] Fix occasional test failure due to two random values being the same
[ML] Display integers without .0 in file structure field stats (#33947)
PkiAuthenticationTests & SslIntegrationTests shouldn't hard code local host
Init global checkpoint after copy commit in peer recovery (#40823)
Disable dynamic mapping in testSimpleGetFieldMappingsWithDefaults (#38045)
Clients: Switch to new performRequest (#30543)
Increase time to wait for green in rolling upgrade tests (#26781)
Fixes compilation issue in test
[ML] Ensure total hits are tracked (#36374)
Merge branch 'master' into feature/sql
Fix BWC versions on plugin info
Switch SqlGetIndicesAction after merge
Mute ClusterDisruptionIT#testSendingShardFailure
Ensure that index_prefixes settings cannot be changed (#30967)
Pass the task to broadcast actions (#29672)
Move SearchHit and SearchHits to Writeable (#37931)
Remove deprecated script settings. (elastic/x-pack-elasticsearch#1469)
[DOCS] Adding shared x-pack-settings file.
Merge branch 'master' into ccr
Painless: Move Some Lookup Logic to PainlessLookup (#32565)
Completely remove Painless Type from AnalyzerCaster in favor of Java Class. (#28329)
Speed up converting of temporal accessor to zoned date time (#37915)
Add Create Repository High Level REST API (#30501)
Restore date aggregation performance in UTC case (#38221)
Merge branch 'master' into feature/sql_2
Throw a parsing exception when boost is set in span_or query (#28390) (#34112)
Unmute test after fix
[CCR] Change get autofollow patterns API response format (#36203)
Merge branch 'master' into ccr
SQL: Introduce ODBC mode, similar to JDBC (#34825)
Add Close Index API to the high level REST client (#27734)
Fix Java 9 & 10 test failures comparing ZonedDateTimes
Introducing took time for _msearch
[ML] Add ML result classes to protocol library (#32587)
[DOCS] Move watcher APIs to Elasticsearch Ref (elastic/x-pack-elasticsearch#1869)
Merge branch 'master' into index-lifecycle
Catch exceptions and inform handler in RemoteClusterConnection#collectNodes (#26725)
[TEST] Rename remaining yaml tests to yml
Add parsing methods to Range aggregations (#24583)
SQL: Run fewer tests against multiple nodes (elastic/x-pack-elasticsearch#3625)
 Add support to match_phrase query for zero_terms_query. (#29598)
fix retryrequest test
Revert "Sense for VirtualBox and $HOME when deciding to turn on vagrant testing. (#24636)"
Allow plugins to register pre-configured tokenizers (#24751)
HLRC: Adding ml get filters api (#35502)
Upgrade to Gradle 5.2.1 (#38880)
Merge remote-tracking branch 'es/master' into ccr
Fix limit on retaining sequence number (#37992)
test: updates DocsStats with totalSizeInBytes
Move build integration tests out of :buildSrc project (#31961)
Clean up "unused variable" warnings (#31876)
[ML] Wait for job deletion if it is in the deleting state (elastic/x-pack-elasticsearch#1651)
[ML] Separate read from write index for results (elastic/x-pack-elasticsearch#1397)
Capture stack traces while issuing IndexShard operations permits to easy debugging (#28567)
Notify affixMap settings when any under the registered prefix matches (#28317)
Remove uses of single argument Environment constructor from production code (elastic/x-pack-elasticsearch#2852)
Merge branch 'master' into ccr
SQL: Support aliases and indices pattern (elastic/x-pack-elasticsearch#3438)
HLRC: Add Lifecycle Policy delete to the HLRC (#33142)
Only create final MatrixStatsResults on final reduction (#38130)
Remove remaining references to tribe node (elastic/x-pack-elasticsearch#4407)
Painless: Add spi jar that will be published for extending whitelists (#28302)
[Test] Re-Add integer_range and date_range field types for query builder tests (#28171)
Enforce a [skip] when using [contains] (#34840)
Harden global checkpoint tracker
[DOCS] Move monitoring to docs folder (#31477)
Fix failures in SessionFactoryLoadBalancingTests (#39154)
Support for remote path in reindex api - post backport fix
[ML] Add a detector_index field to detectors, and use it for updates (elastic/x-pack-elasticsearch#1613)
Fix checkpoints in assertion
[CCR] Fix request serialization bug (#34917)
[ML] Add setting for job max model memory limit (elastic/x-pack-elasticsearch#2460)
[TEST] Silence LocalExporterIntegTests.testExport
Preserve ILM operation mode when creating new lifecycles (#38134)
Removes AbstractComponent from several classes (#35566)
Add failing test for core cache deadlock
Allow plugins to build pre-configured token filters (#24223)
Merge branch 'rankeval'
Watcher: Fix put watch action (#31524)
Remove allocation id from replica replication response (#25488)
[Monitoring] Add Mapping for cfs_quota_micros field (elastic/x-pack-elasticsearch#1710)
Mute MigrateToolIT::testRunMigrateTool
Increase coverage in SearchSortValuesTests (#36597)
[TEST] Fix internalMatrixStatsTests failure
Add HLRC docs for Get Lifecycle Policy (#35612)
Revert changing the InternalSampler type constant (#24667)
Add docs regarding setting logging levels
Simulate BWC tests that start with the current version (#39102)
Fix plugin docs for using custom config dir
[CCR] Read changes from Lucene instead of translog (#30120)
Explicitly reject duplicate data paths
Switch indices.get rest after backport of `include_type_name` (#37351)
Log close_notify during handshake at debug level (#39715)
[Docs] Docs tests should wait for async execution to complete (#28481)
Consistent updates of IndexShardSnapshotStatus (#28130)
ingest: Fix bug that prevent date_index_name processor from accepting timestamps specified as a json number
move security ingest processors to a sub ingest directory (#31306)
Painless: Fix Bindings Bug (#33274)
[DOCS] Security disabled by default (elastic/x-pack-elasticsearch#4288)
Add whitelist to watcher HttpClient (#36817)
Introduce retention lease actions (#38756)
Merge branch 'master' into rankeval
[ML] New JobState enum values needs to be bwc with 5.4 (elastic/x-pack-elasticsearch#1444)
[Tests] Mutualize fixtures code in BaseHttpFixture (#31210)
Fix testSnapshotFileFailureDuringSnapshot (#39362)
[Security] Apply validation when parsing certgen input (elastic/x-pack-elasticsearch#2711)
Checkstyle: Package declarations (#33784)
Consolidate testclusters tests into a single project (#37362)
Add disk threshold settings validation
[ML] Add some ML config classes to protocol library (#32502)
Get jdbc tests passing
Mute CcrRollingUpgradeIT#testCannotFollowLeaderInUpgradedCluster
[ML] changing bwc serialization versions after backports (#39889)
Adapt branch to changes on master
HLRC: Add parameters to stopRollupJob API (#35545)
Monitoring: Fix cluster monitoring watches to prevent compilations (elastic/x-pack-elasticsearch#1944)
Ignore warnings related to types deprecation in REST tests. (#35395)
Core: Don't rely on java time for epoch seconds formatting (#34086)
ML: changing automatic check_window calculation (#35643)
SQL: Break long lines in expression package (elastic/x-pack-elasticsearch#3456)
Painless: Remove caching of Painless scripts in GenericElasticsearchScript (#34116)
Revert "Rescore collapsed documents (#28521)"
Update config files docs
Expanding the JDBC testing framework
remove testUnassignedShardAndEmptyNodesInRoutingTable
test: Port the remaining old indices search tests to full cluster restart qa module
Fix checkstyle violation in ShardFollowNodeTask
Add Open Index API to the high level REST client (#27574)
Resolve unchecked cast warnings introduced with #28892
Fix TcpTransport compression test (#35396)
Run active directory tests against a samba4 fixture (elastic/x-pack-elasticsearch#4067)
Upgrade to JMH 1.19
Merge branch 'master' into feature/sql
Mute ClusterDisruptionIT testAckedIndexing
[ML] Preview of datafeed with aggs should respect chunking config (elastic/x-pack-elasticsearch#4241)
Use dedicated ML APIs in tests (#30941)
Mute NoMasterNodeIT testNoMasterActionsWriteMasterBlock
Node repurpose tool (#39403)
[ML] Do not write JSON records when metric value is not finite (elastic/x-pack-elasticsearch#1849)
Fix NPE on composite aggregation with sub-aggregations that need scores (#28129)
Update versions in SearchSortValues transport serialization
SQL: Fix edge case: `<field> IN (null)` (#34802)
Reduce more raw types warnings (#31780)
Merge branch 'master' into close-index-api-refactoring
Fix Gradle wrapper usage on Windows when building BWC (elastic/x-pack-elasticsearch#3509)
REST hl client: adjust wait_for_active_shards param in cluster health (#31266)
This adds max_concurrent_searches to multi-search-template endpoint.
Split disruption test suite
Move java version checker back to its own jar (#30708)
ObjectParser: Replace IllegalStateException with ParsingException (#27302)
Update REST client deps license and notice files (#25573)
Removed field-stats docs
Add ability to split shards (#26931)
Remove legacy mapping code. (elastic/x-pack-elasticsearch#4258)
[ML] Add missing param description in GetOverallBucketsRequest
CCR: Replicate existing ops with old term on follower (#34412)
Upgrade to lucene-7.0.0-snapshot-ad2cb77. (elastic/x-pack-elasticsearch#1820)
Geo Point parse error fix (#40447)
Add elasticsearch-node detach-cluster command (#37979)
Fold EngineSearcher into Engine.Searcher (#34082)
Fully encapsulate LocalCheckpointTracker inside of the engine (#31213)
Change signature of Get Repositories Response (#30333)
HLRest: add security authenticate API (#33552)
 Use m_m_nodes from Zen1 master for Zen2 bootstrap (#37701)
reroute API: log messages from commands (#25955)
Merge branch 'master' into index-lifecycle
Enable avoiding mmap bootstrap check (#32421)
upgrade to lucene 7.2.1 (#28218)
Remove types from Monitoring plugin "backend" code (#37745)
Synch more functionality
INGEST: Enable default pipelines (#32286)
SQL: Trivial gradle files cleanups (elastic/x-pack-elasticsearch#2447)
ML: better handle task state race condition (#38040)
Introduce fips_mode setting and associated checks (#32326)
Add high-level client methods that accept RequestOptions (#31069)
Add expected mapping type to `MapperException` (#31564)
Enable customizing REST tests blacklist (#31074)
[Painless] Casting Tests for Object and Number (#36804)
Set the elasticsearch-nio codebase for tests (#28067)
Introduce the dissect library (#32297)
Fix analyzed prefix query in query_string (#35756)
Replace jvm-example by two plugin examples (#28339)
Fix LineLength Check Suppressions: index.mapper (#35087)
Do not fail requests on exceptions from native roles store (elastic/x-pack-elasticsearch#2857)
[ML] Datafeed deprecation checks (#38026)
[ML] Fix race condition when creating multiple jobs (#40049)
Disallow logger methods with Object parameter (#28969)
Improve docs for index_prefixes option (#35778)
Scripting: Use ParameterMap for deprecated ctx var in update scripts (#34065)
QA: Switch rolling upgrade to 3 nodes (#30728)
Change ShardFollowTask defaults (#34793)
[Test] Add full cluster restart test for Rollup (#31533)
Upgrade to lucene-7.3.0 (elastic/x-pack-elasticsearch#4305)
[ML] Migrate unallocated jobs and datafeeds (#37430)
Merge branch 'master' into feature/rank-eval
Use port 0 InternalTestCluster nodes (#27859)
percolator: Take `matchAllDocs` and `verified` of the sub result into account when analyzing a function_score query.
Simplify the Translog constructor by always expecting an existing translog (#28676)
Javadoc: ThreadPool doesn't reject while shutdown (#23678)
[Test] #27342 Fix SearchRequests#testValidate
Rank-Eval: Reduce scope of an unchecked supression
Respect accept header on no handler (#30383)
Enable BWC testing against other remotes
Fix branch logic for bwc tests in the same major version (#25134)
Fix doc link for HLRC async Put Lifecycle API (#35656)
REST: Include suppressed exceptions on failures (#29115)
[ML] Avoid stack traces in the log when deleting jobs (elastic/x-pack-elasticsearch#1615)
HLRC: ML start data feed API (#33898)
Use follower primary term when applying operations (#31113)
Rollups for Elasticsearch (elastic/x-pack-elasticsearch#4002)
Use SPI to glean reserved roles (elastic/x-pack-elasticsearch#3012)
Forbid empty testing tasks (#36259)
[Tests] Relax allowed delta in extended_stats aggregation (#30569)
Adds phase and action change times on state transition
Add information about nio channels in logs (#26806)
Test: Convert test script engine impls to use MockScriptEngine (#24854)
remove _primary and _replica shard preferences (#26791)
HLRC API for _termvectors (#33447)
fixed compile error
Watcher: Remove unneeded index deletion in tests
Remove all unused imports and fix CRLF (#31207)
Fix handling of fractional time value settings (#37171)
Untangle Engine Constructor logic (#28245)
Add intake option to CI script
refactor CompositeValuesSourceParserHelper for reusage by making it public (#33945)
SQL: Fix NPE thrown if HAVING filter evals to null (#35108)
Merge remote-tracking branch 'origin/master' into feature/client_aggs_parsing
[Docs] Restore section about multi-level parent/child relation in parent-join (#27392)
Fix the clock resolution to millis in ScheduledEventTests (#38506)
Add secure setting for watcher email password (#31620)
[DOCS] Update multivariate_by_fields (elastic/x-pack-elasticsearch#2147)
Fix profiling of ordered terms aggs (#31814)
Remove log traces in AzureStorageServiceImpl and fix test (#30924)
Handle UTF-8 values in the keystore (#39496)
[Zen2] Reconfigure cluster as its membership changes (#34592)
Merge remote-tracking branch 'es/master' into ccr
Universal cluster bootstrap method for tests with autoMinMasterNodes=false (#38038)
Merge branch 'master' into index-lifecycle
[TEST] Update TransportSearchActionTests#testShouldMinimizeRoundtrips
Fix AdaptiveSelectionStats serialization bug (#28718)
ingest: Introduction of a bytes processor (#31733)
Test fixtures improovements (#36037)
[Zen2] Do not probe non-master nodes back (#36160)
CRUD: Fix wait for refresh tests (#33973)
Add migration note for remote cluster settings (#33632)
Introduced class reuses follow parameter code between ShardFollowTasks (#38910)
Fixes Eclipse build for sql jdbc project (#30114)
Fix java time epoch date formatters (#37829)
Fix timezone fallback in ingest processor (#38407)
Update get users to allow unknown fields (#37593)
Rename upgrade.* client methods to migration.* (elastic/x-pack-elasticsearch#1881)
Fix handling of paths containing parentheses
[ML] Marginal gains in slow multi node QA tests (#37825)
Test that transient settings beat persistent ones (#33818)
Spelling: correct wrong spellings of "input" (#37048)
Fix HasChildQueryBuilderTests to not use the `classic` similarity.
Encapsulate Translog in Engine (#31220)
[ML] Transition to typeless (mapping) APIs (#39256)
deubg logging to TruncateTranslogIT
Refactor create index service to be unit testable
Move x-pack-core to core package (elastic/x-pack-elasticsearch#3678)
Add Painless cast tests for long and Long (#40007)
Bump version to 6.0.0-beta1
SQL: Fix issue with complex HAVING and GROUP BY ordinal (#36594)
[Tests] Relax assertion in SuggestStatsIT (#28544)
Build global ordinals terms bucket from matching ordinals (#30166)
SQL: Improve grammar to better handle quotes (elastic/x-pack-elasticsearch#3051)
[TEST] Fix ML licensing tests following change in core test framework (elastic/x-pack-elasticsearch#2152)
Docs: Add note about removing prepareExecute from the java client (#31401)
[DOCS] Removes redundant role examples
:check yourself greeny
Fix compilation errors in ML integration tests
Only make indexes read-only on Shrink and ForceMerge actions (#33907)
Docs: Remove remaining references to file and native scripts (#26580)
fix javadoc usage
Fixed test
Fix typo re: bootstrap.memory_lock in Docker docs. (#26265)
Introduce shard history retention leases (#37167)
Remove -Xlint exclusions in the ingest-common module. (#40505)
update RolloverAction to utilize an index-setting for rollover_alias (#30158)
Test fix - Graph connections could appear in different orders
Add search method to high level REST client (#24796)
remove recommended junit intellij setting change (#28274)
SQL: add "fuzziness" option to QUERY and MATCH function predicates (#40529)
Zen2ify testMasterFailoverDuringIndexingWithMappingChanges (#38178)
Rename the bulk thread pool to write thread pool (#29593)
Pass Directory instead of DirectoryService to Store (#33466)
Replace several try-finally statements (#30880)
[Painless] Add String Casting Tests (#36945)
Merge branch 'master' into index-lifecycle
Rename SQL's net-client project to shared-client (elastic/x-pack-elasticsearch#2756)
Support 'include_type_name' in RestGetIndicesAction (#37149)
Improve logging in ClusterFormationTasks#configureWaitTask (#28637)
[DOCS] Defined es-test-dir and plugins-examples-dir in index.asciidoc.  (#25232)
Watcher comparisons don't deal with NaN correctly (elastic/x-pack-elasticsearch#4133)
Fix another typo in comment in RemovePluginCommand
iter
Merge remote-tracking branch 'es/master' into ccr
Merge tsa with ts (#26369)
Convert script uses to use source/id keys (elastic/x-pack-elasticsearch#1670)
Watcher: cleanup ensureWatchExists use (#31926)
Enforce Completion Context Limit (#38675)
cleanup tests
Upgrade to Lucene 7.1 (#27225)
Mute LocalIndexFollowingIT#testRemoveRemoteConnection
Check stemmer language setting early (#34601)
Throw if two inner_hits have the same name (#37645)
Merge branch 'master' into ccr
Remove unused imports from EnvironmentAwareCommand
Scripting: Replace advanced and native scripts with ScriptEngine docs (#24603)
Fix QueryAnalyzerTests.
Remove path.conf setting
Modify password tool to pull password from keystore (elastic/x-pack-elasticsearch#1951)
[ILM] reduce time restriction on IndexLifecycleExplainResponse (#35954)
Tests: Disable NIO transport mechanism in tests
Removes unused and unneeded code
Enhancements to IndicesQueryCache. (#39099)
SQL: Break long lines in execution package (elastic/x-pack-elasticsearch#3453)
[ML] Account for the possibility of no ML metadata existing (elastic/x-pack-elasticsearch#1648)
Ensure total nanosecond time for tasks is at least 1 nanosecond
Deprecate X-Pack centric Migration endpoints (#35976)
Fix (simple)_query_string to ignore removed terms (#28871)
Always return the after_key in composite aggregation response (#28358)
SQL: Add all QUERY() query options (elastic/x-pack-elasticsearch#3389)
Docs: Fix deprecation notices and typo to build docs
Fix a typo in a warning message in TestFixturesPlugin (#37631)
Adjust version check for TokensInvalidationResult (#39720)
Inline TransportReplAction#registerRequestHandlers (#40762)
Prevent CCR recovery from missing documents (#38237)
Ensure KeyStoreWrapper decryption exceptions are handled (#32464)
Default include_type_name to false in the yml test harness. (#38058)
Fix the ability to remove old plugin
Support realm validation when Keystore is closed (elastic/x-pack-elasticsearch#3096)
Log send failure at debug level if channel closed (#39807)
Watcher: Fix TransformInput toXContent serialization (elastic/x-pack-elasticsearch#4061)
Add interval response parameter to AutoDateInterval histogram (#33254)
Make keepalive pings bidirectional and optimizable (#35441)
SQL: Fix rest endpoint names in node stats (#31371)
Add CoordinatorTests for empty unicast hosts list (#38209)
Zen2: Add diff-based publishing (#35290)
SQL: Fix fulltext CSV spec tests (elastic/x-pack-elasticsearch#2608)
Detect old trial licenses and mimic behaviour (#32209)
[Zen2] Best-effort cluster formation if unconfigured (#36215)
HLRC: split snapshot request converters (#33439)
[Monitoring] Add "cluster_state.nodes_hash" to document (elastic/x-pack-elasticsearch#2798)
[TEST] Temporarily silence MovAvgIT tests due to change in double comparisons
Switch some watcher tests to new style Requests (#33044)
Security: don't call prepare index for reads (#34568)
[Rollup] Add `wait_for_completion` option to StopRollupJob API (#34811)
Share common parser in some AcknowledgedResponses (#31169)
[Test] Rolling Upgrade should preserve templates (elastic/x-pack-elasticsearch#1687)
Replace global checkpoint sync test
Separate Painless Whitelist Loading from the Painless Definition (#26540)
Add nio transport to security plugin (#31942)
Allow unstashing values into keys (#24685)
Fix simple_query_string on invalid input (#28219)
Adds settings, phase and action objects which control how and when things are executed
CCR: Expose the operation primary term
Log [initial_master_nodes] on formation failure (#36466)
[DOCS] Moves securing-communications to docs (#33640)
SQL: Remove test-utils project (elastic/x-pack-elasticsearch#3583)
Migrates more ToXContentClasses (#26321)
Fix SSLContext pinning to TLSV1.2 in reload tests (#38341)
Merge remote-tracking branch 'upstream/master' into index-lifecycle
Implement adaptive replica selection (#26128)
Raise IllegalArgumentException if query validation failed (#26811)
SQL: new SQL CLI logo (#35261)
Monitoring: Disable security for integration tests (elastic/x-pack-elasticsearch#3174)
update retry-action to be in line with indices requests (#31042)
Honor masking of systemd-sysctl.service
[TEST] disable ML when ML is not installed
Watcher: Remove all traces from execution on master node (elastic/x-pack-elasticsearch#2383)
* Made ChunkCoordinator unittest testable
[Docs] Fix small typo in ranking evaluation docs
Fix division by zero in phrase suggester that causes assertion to fail
Muting ClusterClientITT#testClusterHealthYellowClusterLevel
Make AllocatedPersistentTask.isCompleted() protected (#30949)
Add minimal sanity checks to custom/scripted similarities. (#33564)
Docs/windows installer (#27369)
Deprecate X-Pack centric SQL endpoints (#35964)
Merge branch 'master' into ccr
[Test] Fix FullClusterRestartIT.testShrink() with copy_settings param (#34853)
Several changes that were required after merging master into the ccr branch.
SQL: Remove empty interface (elastic/x-pack-elasticsearch#3564)
[ML] Rename the json file structure to ndjson (#34901)
Additional settings for SAML NameID policy (elastic/x-pack-elasticsearch#3969)
Mutes IndexLifecycleInitialisationIT.testMasterFailover
Fix Licenses values for CDDL and Custom URL (#27999)
Make primary terms fields private in index shard (#38036)
Remove line length violations in o.e.indices package (#35647)
[ML] Fix close job when the process has not launched yet (elastic/x-pack-elasticsearch#2616)
[TEST][ML] Reinstate date parsing test (#34634)
BulkProcessor flush runnable preserves the thread context from creation time (#26718)
The nexus.png image should not be inline - was creating a folder called ":images"
Define structure for docs and improve grammar
[Docs] Change indexes -> indices in datafeed config example (elastic/x-pack-elasticsearch#2227)
[CCR] Add create_follow_index privilege (#33559)
MINOR: Remove some deadcode in NodeEnv and Related (#34133)
[TEST] SearchDocumentationIT#testSearch to sort on _uid instead of _id
[TEST] Unit test that ML handles configs with brackets in field names (elastic/x-pack-elasticsearch#1395)
Mark the composite aggregation as a beta feature (#28431)
Core: Rework multi date formatter merging (#36447)
REST high-level client: add validate query API (#31077)
Make KeyedLock reentrant (#27920)
Add parsing for single bucket aggregations (#24564)
[Docs] add deprecation warning for `delimited_payload_filter` renaming
[DOC] Miscellaneous security doc updates (elastic/x-pack-elasticsearch#1908)
[ML] Improve error for functions with limited rule condition support (#32548)
[ILM] Check shard and relocation status in AllocationRoutedStep (#35316)
Remove unnecessary directory push/pop from scripts
SQL: Break long lines in the analyzer package (elastic/x-pack-elasticsearch#3455)
[Doc] Remove mention of generated fields in get/mget docs (#25492)
SQL: More tests and docs for permissions (elastic/x-pack-elasticsearch#3679)
Add skip versions for rank_eval yaml tests
Merge branch 'master' into index-lifecycle
rest-high-level: added get cluster settings (#31706)
Refactor CachingUsernamePassword realm (#32646)
[docs] Line breaks for High-level REST Client (#28825)
Merge pull request #24824 from elastic/feature/client_aggs_parsing
Remove Dead Code in o.e.util package (#39717)
Add test logging for #35644
Ensure phase_time is set when in the "new" phase (#34280)
Revert "Stop automatically nesting mappings in index creation requests. (#36924)"
SNAPSHOTS: Allow Parallel Restore Operations (#36397)
Merge branch 'master' into index-lifecycle
[TEST] Add test for Aggregations#fromXContent (#24524)
Merge branch 'master' into index-lifecycle
Update Google Cloud Storage Library for Java (#32940)
mute test #32737
fix writeIndex evaluation for aliases (#31562)
Watcher's ExecutionService is not thread-safe. (elastic/x-pack-elasticsearch#3861)
Stop disabling explicit GC
[ML] Avoid timeout if ML persistent task assignment fails on master node (elastic/x-pack-elasticsearch#4236)
Reduce logging for reserved realm authc failures (elastic/x-pack-elasticsearch#1711)
Docs: Explain watcher security integration/limitations (elastic/x-pack-elasticsearch#3106)
[ML] Adjust BWC for categorization analyzer config after backporting elastic/x-pack-elasticsearch#3372
[TEST] Prevent duplicate key in XContent test (#36581)
Add build utility to check cluster health over ssl (#40573)
Remove `discovery.type` BWC layer from the EC2/Azure/GCE plugins #25080
Watcher: Ensure state is cleaned properly in watcher life cycle service (elastic/x-pack-elasticsearch#3770)
[Logstash][Monitoring] Fix Registered Usage and Add Tests (elastic/x-pack-elasticsearch#4075)
[ML] Flush job even when datafeed retrieves no data (elastic/x-pack-elasticsearch#1786)
Access SSL contexts using names instead of Settings (#30953)
[Test] Remove unused test resources in core (#25011)
Remove redundant argument for buildConfiguration of s3 plugin (#28281)
[DOCS] Add xpack.ml.max_model_memory_limit (elastic/x-pack-elasticsearch#2787)
Painless: Add PainlessConstructor (#32447)
Format Watcher.status.lastChecked and lastMetCondition (#38626)
Introduce primary context (#25122)
Deprecate types in count and msearch. (#35421)
[ML] Put ML filter API response should contain the filter (#31362)
TEST: Increase timeout testFollowIndexAndCloseNode (#33333)
Add safety phase to CoordinatorTests (#34241)
Fix failing ML test after bucket count change (elastic/x-pack-elasticsearch#2351)
Limit the number of tokens produced by _analyze (#27529)
Mute DataFrameAuditorIT#testAuditorWritesAudits
Add Delete Repository High Level REST API (#30666)
Merge remote-tracking branch 'upstream/master' into index-lifecycle
Move up acquireSearcher logic to Engine (#33453)
SQL: Switch attribute resolution to OO (elastic/x-pack-elasticsearch#3433)
[CCR] Clear fetch exceptions if an empty but successful shard changes response returns (#34256)
Switch rolling restart to new style Requests (#32147)
[ML] Add ML filter update API (#31437)
Docs: HLRC: refactor bulk, migrate and reindex apis (#35413)
SQL: day and month name functions tests locale providers enforcement (#33653)
Re-enable bwc tests now that #29538 has been backported and 6.x intake
SQL: Use core's jna version
Add support for 'ack watch' to the HLRC. (#33962)
Fix incomplete sentences in parent-join docs (#26623)
Expose XPackExtensions via SPI (elastic/x-pack-elasticsearch#3530)
Adjust status on bad allocation explain requests
Search: Fairer balancing when routing searches by session ID (#24671)
adapt testDoubleDeliveryReplicaAppendingOnly to #25827
Primary replica resync should not send ops without seqno (#40433)
[TEST] Fix error if named pipe already connected (elastic/x-pack-elasticsearch#2423)
Remove Accountable interface from BytesReference (#34900)
Upgrade remote cluster settings (#33537)
Remove request type parameter from CCR actions
Enable TLS trust restrictions by subject alternative name  (elastic/x-pack-elasticsearch#1919)
TEST: write ops should execute under shard permit (#28966)
Add ability to associate an ID with tasks  (#27764)
Add permission checks before reading from HDFS stream (#26716)
Create a WatchStatus class for the high-level REST client. (#33527)
move assertBusy to use CheckException (elastic/x-pack-elasticsearch#1727)
Disable nio test transport (#28028)
Use accurate total hits in IndexPrimaryRelocationIT
Refactor CLI commands as logging-aware commands
Add `_source`-only snapshot repository (#32844)
[Zen2] Implement basic cluster formation (#33668)
Merge branch 'master' into index-lifecycle
Handle IndexOrDocValuesQuery in composite aggregation (#35392)
Painless: Simplify Naming in Lookup Package (#32177)
Watcher: Properly url encode room names (elastic/x-pack-elasticsearch#2896)
Simplify NioChannel creation and closing process (#25504)
Upgrade to lucene snapshot 774e9aefbc (#36637)
[DOCS] Added X-Pack bootstrap checks (elastic/x-pack-elasticsearch#2747)
Remove unused ThreadBarrier class (#37666)
[ML] Refactor ProcessCtrl into Autodetect and Normalizer builders (#32720)
Add cgroup memory usage/limit to OS stats on Linux (elastic/x-pack-elasticsearch#2614)
Update get.asciidoc (#31084)
Rename users
[Docs] "The the" is a great band, but ... (#26644)
Add scrolling support to jdbc (elastic/x-pack-elasticsearch#2524)
Add size-based condition to the index rollover API (#27160)
Fix AIOOB on indexed geo_shape query (#28458)
[ML] Enable overall buckets aggregation at a custom bucket span (elastic/x-pack-elasticsearch#2782)
Removes Set Policy API in favour of setting index.lifecycle.name directly (#34304)
Revert " Add "client-api-objects" dependency for xpack plugin and transport-client (elastic/x-pack-elasticsearch#2995)" (elastic/x-pack-elasticsearch#3083)
Fix line length in org.elasticsearch.routing (#37253)
SQL: Rename testing class
Disable testClusterJoinDespiteOfPublishingIssues for Zen2
Fix the assertion message for an incorrect current version. (#29572)
Stabilize RareClusterState (#38671)
has_parent builder: exception message/param fix (#31182)
SQL: Consolidate more type information into DataType (elastic/x-pack-elasticsearch#3850)
Painless Spec Documentation Clean Up (#29441)
Require Gradle 4.3
Fixing test after merging in master
[DOCS] Fix ML post_data docs (elastic/x-pack-elasticsearch#2689)
Update README.asciidoc
Deprecate types in get field mapping API (#37667)
test: Make many percolator integration tests real integration tests
Core: Revert back to joda's multi date formatters (#36814)
Structured audit logging (#31931)
docs: Updated reference docs that `document_type` is deprecated
Merge remote-tracking branch 'origin/master' into index-lifecycle
Add validation for all `transport.profile.*` settings (elastic/x-pack-elasticsearch#1909)
 Stabilise testStaleMasterNotHijackingMajority (#40253)
[DOCS] Split index-shared.asciidoc into multiple smaller files (#25302)
Add cause to assert_no_failure when replay translog (#39333)
Only compress responses if request was compressed (#36867)
Use mappings to format doc-value fields by default. (#30831)
Introduce retention lease expiration (#37195)
Extract RunOnce into a dedicated class (#35489)
[Docs] Add term query with normalizer example
WrapperQueryBuilder should also rewrite the parsed query.
No refresh on shard activation needed (#28013)
Clarify S3 repository storage class parameter (#35400)
SQL: Fix build
Fix incorrect assertions and javadoc
Tests: don't wait for completion while trying to get completed task
SQL: Implement data type verification for conditionals (#35916)
Refactor ZonedDateTime.now in millis resolution (#38577)
Revert "Fix elasticsearch-cli dependency"
Docs: match between snippet to its description (#28296)
Forbid negative `weight` in Function Score Query (#33390)
Adds HLRC docs for put lifecycle policy (#35457)
Remove deprecated options for query_string (#29203)
Fix ByteSizeValue serialisation test
Move validation from FieldTypeLookup to MapperMergeValidator. (#39814)
Some internal refactorings in AnalysisRegistry (#40609)
Enhance error for out of bounds byte size settings (#29338)
Upgrade to Netty 4.1.13.Final
fix test
Document woes between auto-expand-replicas and allocation filtering (#30531)
SQL: Implement CURRENT_DATE (#38175)
[ML] Add high level REST client docs for ML put job endpoint (#32843)
Merge branch 'master' into close-index-api-refactoring
SQL: Handle null literal for AND and OR in `WHERE` (#35236)
Fix test failure on Windows (#35047)
[Monitoring] Add additional metric fields to Beats template (elastic/x-pack-elasticsearch#3337)
SQL: Fix function args verification and error msgs (#34926)
test: Always issue a refresh after we have indexed, otherwise subsequent searches may return different results.
Use RunOnce when appropriate (#35553)
[ML] Make datafeed types optional (elastic/x-pack-elasticsearch#1690)
Use ivy pattern for elasticsearch artifacts download (#37557)
Watcher: Never return credentials after watch creation... (elastic/x-pack-elasticsearch#3581)
Merge branch 'master' into index-lifecycle
Merge remote-tracking branch 'upstream/master' into index-lifecycle
Merge branch 'master' into index-lifecycle
muted test
[ML] Re-enable tests muted in #30982
HLRC: Get Deprecation Info API (#36279)
Add TcpChannel to unify Transport implementations (#27132)
Mute test for #35295
Allow shrinking of indices from a previous major (#28076)
Do not set SO_LINGER to 0 when not shutting down (#26871)
[ML] Improve DeleteExpiredDataIT failure message (#39298)
Cancel GetDiscoveredNodesAction when bootstrapped (#36423)
Ignore type-removal warnings in XPackRestTestHelper (#38431)
Remove license key leniency (elastic/x-pack-elasticsearch#4277)
Remove unused params from SSource and Walker (#31935)
Improve test times for tests using `RandomObjects::addFields` (#31556)
[Rollup] Add support for date histo `format` (#34537)
Fix InternalAutoDateHistogram reproducible failure (#32723)
Loggers: Drop last deprecated logger function (#35082)
SQL: Support pattern against compatible indices (#34718)
Watcher: Fix JIRA tests (elastic/x-pack-elasticsearch#4271)
[Tests] temporary disable meta plugin rest tests #28163
Refactor bootstrap check results and error messages
[TEST] Reenable RareClusterStateIt#testDeleteCreateInOneBulk
[TEST] pause index following after test
[Zen2] Change unsafe bootstrap nodes count to nodes list in tests (#36559)
Override and mute InternalAutoDateHistogramTests#testReduceRandom() (#39536)
Mutes MachineLearningTests.testNoAttributes_givenSameAndMlEnabled
Repsect indices options on _msearch (#35887)
muted test
add move-to-step endpoint for lifecycles (#30636)
Mark failing test AwaitsFix
[CCR] Add extra validation to unfollow api (#35245)
Add ECS schema for user-agent ingest processor (#37727) (#37984)
Remove RELOCATED index shard state (#29246)
Handle the fact that `ShardStats` instance may have no commit or seqno stats (#38782)
Remove finicky exception message assertion
Watcher: Allow JIRA path to be custom chosen (elastic/x-pack-elasticsearch#2682)
Add a new cluster setting to limit the total number of buckets returned by a request (#27581)
Merge branch 'master' into ccr
Scripting: Rename SearchScript.needsScores to needs_score (#25235)
Include the _index, _type and _id to nested search hits in the top_hits and inner_hits response.
[TEST] Fix MlMappingsUpgradeIT testMappingsUpgrade (#37769)
Cat apis: Fix index creation time to use strict date format (#32510)
Adapt to removal of XContentHelper#toString(ToXContent) (elastic/x-pack-elasticsearch#2072)
Re-enable bwc tests after #27881 was backported
Close translog writer if exception on write channel (#29401)
Move the CLI into its own subproject (#27114)
[ML] Switch from max_running_jobs to xpack.ml.max_open_jobs (elastic/x-pack-elasticsearch#2232)
Allow nested fields in the composite aggregation (#37178)
Catches more that just ElasticsearchException
Fix more tests
Fixup build after opening x-pack
Move PainlessExecuteAction into action package (#40752)
Fix compilation for CreateIndexResponse
Skip final reduction if SearchRequest holds a cluster alias (#37000)
REST high-level Client: add missing final modifiers (#28572)
Fix global aggregation that requires breadth first and scores (#27942)
Add version 5.3.3 constant
Remove licenses missed by the migration (#30128)
Tests: If dpkg fails try and log failure (#35551)
[ML] Remove confusing datafeed log message (elastic/x-pack-elasticsearch#3202)
Enable custom credentials for core REST tests (#31235)
Reindex from Remote allow date math (#40303)
Protect against NPE in RestNodesAction (#29059)
Ensure index commit released when testing timeouts (#39273)
[ML] Fix streaming the process update request (elastic/x-pack-elasticsearch#2928)
Set ACK timeout on indices service test
Fix CCR concurrent file chunk fetching bug (#38736)
[ML] Call initialising constructor of BaseTasksRequest (elastic/x-pack-elasticsearch#1771)
correct expected thrown exception in mappingMetaData to ElasticsearchParseException (#25410)
Opened x-pack ccr code
Fix compilation failure in :qa:vagrant (#40083)
Ensure no scheduled refresh in testPendingRefreshWithIntervalChange
Merge branch 'master' into zen2
Allow license installation with TLS disabled and single-node discovery (elastic/x-pack-elasticsearch#3427)
For filters aggs, make sure that rewrites preserve other_bucket. (#32921)
[DOCS] Fix broken link to security API
Merge remote-tracking branch 'elastic/master' into zen2
Added AllocatedPersistentTask#waitForPersistentTaskStatus(...) that delegates to PersistentTasksService#waitForPersistentTaskStatus(...)
Fix cluster health wait conditions in rolling restart tests
Remove `TcpChannel#setSoLinger` method (#35924)
 Reduce composite references at network level (#36400)
Mute testCreatedWhenAfterOtherMlIndex
Remove parameters on HandshakeResponseHandler (#27444)
SQL: make CliAction transport friendly (elastic/x-pack-elasticsearch#2198)
Ingest: Add conditional per processor (#32398)
Decouple MultiValueMode. (#31075)
[ML-FC] add expires_in parameter and change forecast_start_timestamp to timestamp (elastic/x-pack-elasticsearch#3073)
All jdbc client escaping is done on the server
Initialize sequence numbers on a shrunken index
[ML] Modify thresholds for normalization triggers (#33663)
convert more admin requests to writeable (#26566)
Bump BWC version to 6.1.0 for #27469
Allow built-in monitoring_user role to call GET _xpack API (#38060)
[CCR] Added more validation to follow index api. (#31068)
Forbid expensive query parts in ranking evaluation (#30151)
[ML] Remove record_count from bucket results (elastic/x-pack-elasticsearch#1568)
Fix name of CCR stats transport action
Add missing runtime permission to TikaImpl (#28602)
Make plugin loading stricter
Make licensing FIPS-140 compliant (#30251)
[TEST] Wait for merging to complete before testing breaker
Store Pending Deletions Fix (#40345)
Fix task ordering in rolling upgrade tests
Prevent NPE parsing the stop datafeed request. (#33347)
Fix #38623 remove xpack namespace REST API (#38625)
Introduce durability of circuit breaking exception
Deprecate types in update requests. (#36181)
Align RolloverStep's name with other step names (#35655)
Only ack cluster state updates successfully applied on all nodes (#30672)
[DOCS] Fix typo (elastic/x-pack-elasticsearch#2211)
Watcher: Muting failing BootStrapTests.testTriggeredWatchLoading test
Require JDK 12 for compilation (#40231)
Merge branch 'master' into feature/rank-eval
Remove unused query methods from MappedFieldType. (#30987)
Return List instead of an array from settings (elastic/x-pack-elasticsearch#2694)
Client: Wrap SSLHandshakeException in sync calls
[refactor] add Environment in BootstrapContext (#36573)
toString tests
Revert "Rollup add default metrics to histo groups (#34534)" (#34815)
RecoveryIT should wait for green when in mixed cluster to avoid unassigned shards
Merge branch 'master' into close-index-api-refactoring
[TEST] share code between streamable/writeable/xcontent base test classes (#28785)
Add local session timeouts to leader node (#37438)
Decouple XContentBuilder classes for strict building (elastic/x-pack-elasticsearch#4188)
Engine.close should only return when resources are freed (#25852)
Add comment explaining lazy declared versions
Use correct primary term for replicating NOOPs (#25128)
Watcher: Only load active watches on load (elastic/x-pack-elasticsearch#2408)
Introduce PreVoteCollector (#32847)
Do not resolve addresses in remote connection info (#36671)
Enable GC logs by default
Update Delete Watch to allow unknown fields (#37435)
SQL: Fix incorrect merging of #35852
Merge branch 'master' into index-lifecycle
Use shadow plugin in ccr/qa
Mutes GatewayIndexStateIT.testRecoverBrokenIndexMetadata
Only fetch mapping updates when necessary (#33182)
[ML] Validate job configs before transport (elastic/x-pack-elasticsearch#1375)
Use unwrapped cause to determine if node is closing (#39723)
Watcher: Run tests without security enabled (elastic/x-pack-elasticsearch#3060)
SQL: Remove log4j and joda from JDBC dependencies (#30938)
Merge branch 'master' into index-lifecycle
Use simpler write-once semantics for FS repository (#30435)
Return List instead of an array from settings (#26903)
Fix shard follow task startup error handling (#39053)
Enable SSL in reindex with security QA tests (#37600)
[DOCS] Move rollup APIs to docs (#31450)
Watcher: use same value of watcher state (elastic/x-pack-elasticsearch#4430)
Revert "Revert "Merge branch 'feature/sql'""
Security: Rename IndexLifecycleManager to SecurityIndexManager (#30442)
Extract the snapshot/restore full cluster restart tests from the translog full cluster restart tests (#25204)
HLRest: Fix test for explain API
Moves deferring code into its own subclass (#26421)
Add helper methods to TransportActionProxy to identify proxy actions and requests (#25124)
Remove RestGetAllAliasesAction (#31308)
Remove JDK 9 flag on CI builds
Merge branch 'master' into index-lifecycle
slight changes
Fix testCorruptedIndex (#38161)
Mute FollowerFailOverIT testFailOverOnFollower (#38634)
Mute testSyncerOnClosingShard
Merge branch 'master' into feature/client_aggs_parsing
[TEST] Make test more tolerant to slow VMs (elastic/x-pack-elasticsearch#3783)
Unit test for very large percentile aggs (#36122)
SQL: Add jdbc mode to REST API (elastic/x-pack-elasticsearch#3499)
Add version 6.0.0-rc2
Testclusters support for multi node clusters (#40699)
[Tests] Fix alias names in PutIndexTemplateRequestTests (#30960)
Change the milliseconds precision to 3 digits for intervals. (#38297)
Watcher: Do not update watch status state during execution (elastic/x-pack-elasticsearch#2204)
[Test] Add ckb to the list of unsupported languages (#32611)
HLRC/TEST: Fix document IT for delete template API
IndexLifecycleManager checks for index existense and up to date mappings (elastic/x-pack-elasticsearch#3515)
Tighten mapping syncing in ccr remote restore (#38071)
ML: Remove unneeded and empty lifecycle listener (elastic/x-pack-elasticsearch#3710)
Update by Query is modified to accept short `script` parameter. (#26841)
Throw UOE from compressible bytes stream reset
top_hits doc example description update (#30676)
Build: Add gradle plugin for configuring meta plugin (#28276)
Use geohash cell instead of just a corner in geo_bounding_box (#30698)
Add JDK11 support and enable in CI (#31644)
Add missing full stop in Bootstrap checks doc (#35078)
Huge protocol refactor
Remove duplicated test (#27091)
Fix not Recognizing Disabled Object Mapper (#39862)
[DOCS] Clarify model snapshots (elastic/x-pack-elasticsearch#1447)
migrate master branch for xpack
Docs: HighLevelRestClient#exists (#29073)
Added Put Mapping API to high-level Rest client (#27869)
INGEST: Clean up Java8 Stream Usage (#32059)
[Docs] Mark Rollup as Experimental instead of Beta
 Reduce channels in AbstractSimpleTransportTestCase (#34863)
Adjust SHA-512 supported format on plugin install
Add TLS/SSL channel close timeouts (#37246)
Migrate migration docs from 6.0 to 7.0 (#26227)
Small simplifications to mapping validation. (#39777)
[Rollup] Re-factor Rollup Indexer into a generic indexer for re-usability   (#32743)
Core: Deprecate negative epoch timestamps (#36793)
mute NamedDateTimeProcessorTests
addressing (#36891)(#36888)(#36889) (#37080)
[ML] Wait for updates to established memory usage
[TEST] test against scaled value instead of fixed epsilon in MovAvgIT
Revert shading for the low level rest client (#26367)
Add user-defined cluster metadata (#33325)
fixed issues after merging in master
[Zen2] Fix test failures in diff-based publishing (#35684)
separate out IndexLifecycleService cluster-state change concerns (#33033)
SQL: Fix deserialisation issue of TimeProcessor (#40776)
Tests: Only restart watcher on watcher tests
Fix missing get-snapshots docs reference #31645
Adjust log and unmute testFailOverOnFollower (#38762)
Watcher: Remove unused local variable in doExecute (#36655)
[TEST] Fixes PageParamsTests to no underflow from and size
Reduce the default number of cached queries. (#26949)
Update packages
SQL: Fix testJdbcActionLicense test
Copy checkpoint atomically when rolling generation (#35407)
Add a usage example of the JLH score (#28905)
Enable Docstats with totalSizeInBytes for 6.1.0
lower fielddata circuit breaker's default limit (#27162)
Fix illegal cast of the "low cardinality" optimization of the `terms` aggregation. (#27543)
Add an OpenID Connect authentication realm (#40674)
Testclusters: implement starting, waiting for and stopping single cluster nodes  (#35599)
Fix edge cases in CompositeKeyExtractorTests (#30175)
Get Aliases with wildcard exclusion expression (#34230)
inner hits: Do not allow inner hits that use _source and have a non nested object field as parent
[ILM] HLRC-ILM  Retry Lifecycle Policy docs (#35715)
Merge branch 'master' into index-lifecycle
Fix serialization of empty field capabilities response (#33263)
Revert "Cleanup: Remove HaltedClock (elastic/x-pack-elasticsearch#3664)"
Reduce max javac memory to 512mb (#28783)
[TEST] Fix seed-specific failure in ML node allocation test
[DOCS] Add HTTP and local explorer settings (elastic/x-pack-elasticsearch#1961)
QA: Merge query-builder-bwc to restart test (#30979)
Reformat elasticsearch-node messages (#39811)
Merge remote-tracking branch 'es/master' into ccr
Remove stale awaits fix on azure master nodes test
[TEST] Mute failing test suite: HttpExporterIT
Update tests using http.enabled (elastic/x-pack-elasticsearch#4413)
Merge branch 'master' into ccr
SQL: Spec tests now use classpath discovery (#40388)
Add tests for ranking evaluation with aliases (#29452)
[TEST] Add additional logging to test
[DOCS] Move docker files to x-pack repo (elastic/x-pack-elasticsearch#2942)
parent/child: Removed ParentJoinFieldSubFetchPhase
Enable FIPS JVM in CI (#32330)
SQL: CAST supports both SQL and ES types (#40365)
#26800: Fix docs rendering
[DOCS] expand examples on providing mappings for create index and put mapping (#28483)
Introducing testing conventions task (#35861)
Add rest test for rank_eval with security (elastic/x-pack-elasticsearch#4185)
Muting test #40368 (#40541)
Fix Lucene version expectation
Adapt to RecoveryResponse change upstream
Docs: restore now fails if it encounters incompatible settings (#26933)
Merge branch 'master' into index-lifecycle
[ML] Partition-wise maximum scores (#32748)
Drop upgrade from full cluster restart tests (#26224)
Remove Settings#getAsMap() (#26845)
Grammar matters.. (#29462)
Fix build-tools unit test on windows (#39986)
RFC: Test that example plugins build stand-alone (#32235)
Do not serialize common stats flags using ordinal (#29600)
Use holder pattern for lazy deprecation loggers
Fixes checkstyle error
Remove deprecated url parameters `_source_include` and `_source_exclude` (#35097)
Generate Painless Factory for Creating Script Instances (#25120)
Introduce an `include_type_name` constant (#37155)
[DOCS] Add info about configuring ML (elastic/x-pack-elasticsearch#1497)
Use disassociate in preference to deassociate (#37704)
[TEST][Monitoring] Also set StreamInput version
fix merge with master
Remove internal channel tracking in transports (#27711)
Apply missing request options to the expand phase (#27118)
SQL: Ban PrintWriter#println in CLI (elastic/x-pack-elasticsearch#4118)
Remove underscore from auto-follow API (#33550)
Initialise empty lists in BaseTaskResponse constructor (#25290)
HLRestClient: Follow-up for put index template api (#30592)
Adds missing SAML Realm Settings (elastic/x-pack-elasticsearch#4221)
SQL: Fix casting from date to numeric type to use millis (#37869)
Introduce deterministic task queue (#32197)
Add DEBUG/TRACE logs for LDAP bind (#36028)
Docs: Use task_id in examples of tasks (#30436)
[TEST] Remove leftover ES temp directories before Vagrant tests (#27722)
[DOCS] Refresh screenshots in ML single metric job tutorial (elastic/x-pack-elasticsearch#3172)
Use LRU set to reduce repeat deprecation messages
Use Sequence number powered OCC for processing updates (#37308)
Add the `include_type_name` option to the search and document APIs. (#29506)
Add enabled status for token and api key service (#38687)
SQL CSV test cleanup
SQL: Fix issue with options for QUERY() and MATCH(). (#33828)
Introduce templating support to timezone/locale in DateProcessor (#27089)
Remove use of deprecated methods to perform request (#31117)
Add date and date_nanos conversion to the numeric_type sort option (#40199)
Removes parent child fielddata specialization (#24737)
[ML] Move open job failure explanation out of root cause (#31925)
Check for existing x-pack directory when running the `users` CLI tool (elastic/x-pack-elasticsearch#3271)
Make typeless APIs usable with indices whose type name is different from `_doc` (#35790)
SQL: Replace joda with java time (#38437)
Add typless client side GetIndexRequest calls and response class (#37778)
Fix some forbiddens in cli
Deprecate `jarowinkler` in favor of `jaro_winkler` (#27526)
[ML] Mute test failing due to Java 11 date time format parsing bug (#31899)
Fix NPE when `values` is omitted on percentile_ranks agg (#26046)
Merge branch 'master' into ccr
HLRC: execute watch API (#35868)
SQL: SYS COLUMNS returns ODBC specific schema (#35870)
[Test] Mute DiscountedCumulativeGainTests on ARM
Merge branch 'master' into ccr
Bat scripts to work with JAVA_HOME with parentheses (#39712)
Disallow lang to be used with Stored Scripts (#25610)
Remove version argument in RangeFieldType (#30411)
[Docs] Spelling and grammar changes to reindex.asciidoc (#29232)
Fix SocketPermission in test framework for alpha2 bump
Fix ordering problem in add or renew lease test (#38280)
Use SearchRequest copy constructor in ExpandSearchPhase (#36772)
Changes required for elastic/elasticsearch#28588
Fix static / version based BWC tests (elastic/x-pack-elasticsearch#1456)
moar changes
SQL: Expose WEEK function and document datetime functions (elastic/x-pack-elasticsearch#3680)
Zen2: Add basic Zen1 transport-level BWC (#35443)
Use private directory for temporary files
Revert "Revert "Change HLRC CCR response tests to use AbstractResponseTestCase base class. (#40257)"" (#40971)
Auditing requests with null indices (elastic/x-pack-elasticsearch#4016)
Verify signatures on official plugins (#30800)
Provide a better error message for the case when all shards failed (#28333)
SQL: protocol returns ISO 8601 String formatted dates instead of Long for JDBC/ODBC requests (#36800)
Mute testHttpInput
Tests: Decrease log level for adding a header value (#28246)
Remove `mapping.single_type` from parent join test (#25391)
Revert "Fix version parsing in SQL"
[ML] Add more trace logging around job task cancelling
[ML] Fix bug initialising ML Metadata (elastic/x-pack-elasticsearch#1377)
Add unit test for PathHierarchyTokenizerFactory (#24984)
Dump recovery if fail to get doc count with preference (#40168)
Add parent-aggregation to parent-join module (#34210)
Plugins: Add plugin extension capabilities (#27881)
[TEST] Add AwaitsFix for FullClusterRestartIT.testRecovery
Remove `indexing_complete` when removing policy (#36620)
Docs: Wrap expert script example to fit in docs (#34201)
Use new context constants for SearchScript and ExecutableScript (elastic/x-pack-elasticsearch#1550)
Painless: Clean up add methods in PainlessLookup (#32258)
Merge remote-tracking branch 'elastic/master' into feature/sql
Fix description of die with dignity plugin
[Kerberos] Move tests based on SimpleKdc to evil-tests (#33492)
Tests: Add Fedora-27 to packaging tests
Spelling: replace cachable with cacheable (#37047)
[Docs] Add snippets for POS stop tags default value
Increase await timeouts in RemoteClusterServiceTests
Merge branch 'master' into ccr
Deprecate uses of _type as a field name in queries (#36503)
Add support for field capabilities to the high-level REST client. (#29664)
SCRIPTING: Support BucketAggScript return null (#32811)
[Docs] All Rollup docs experimental, agg limitations, clarify DeleteJob (#31299)
Lock down Engine.Searcher (#34363)
awaitsfix SSLConfigurationReloaderTests
[ML] ensure the ml-config index (#36792) (#36832)
Scripting: Convert domainSplit function for ML to whitelist (#34426)
Docs: Tiny typo to Painless dispatch justification (#24588)
Simplify SyncedFlushService flow with StepListener (#37383)
Update x-pack to support TcpChannel (elastic/x-pack-elasticsearch#2983)
Fix a variety of typos and misspelled words (#32792)
Docs: Add ccr to the cat thread pool doc test (#31442)
Add support for clear scroll to high level REST client (#25038)
Enhance security for alias and resize operations (elastic/x-pack-elasticsearch#3302)
Zen2: Add join validation (#37203)
CORE: Make Pattern Exclusion Work with Aliases (#33518)
Update SSLDriver for JDK 11 changes (#34398)
Tests: Add @AwaitsFix annotation to flaky tests
Remove license state listeners on closables (#36308)
Fix weighted_avg parser not found for RestHighLevelClient (#37027)
tracked at
Remove log4j dependency from elasticsearch-core (#28705)
IntervalQueryBuilderTests#testNonIndexedFields test fix (#40418)
[Test] Fix QueryStringQueryBuilderTests.testExistsFieldQuery
Fixes checkstyle error
Only bootstrap and elect node in current voting configuration (#37712)
[DOCS] Polish
[TEST] Improve validation of do sections (#34734)
Add basic full cluster restart tests for x-pack (elastic/x-pack-elasticsearch#1743)
Merge branch 'master' into ccr
Die with dignity while merging
SQL: Return proper NUM_PREC_RADIX for non-numeric types (elastic/x-pack-elasticsearch#3086)
Skip rest tests that use mutiple types in pure 6.x clusters (#24965)
Adding `Job` and `AnalysisConfig` for HLRC (#32687)
Switch non-x-pack to new style requests (#32106)
Mute NoMasterNodeIT.testNoMasterActionsWriteMasterBlock test (#39689)
[test] Introduce strict deprecation mode for REST tests (#34338)
Merge remote-tracking branch 'upstream/master' into index-lifecycle
[DOCS] Fixed troubleshooting titles
REST high-level client: add Cluster Health API (#29331)
Auto-expand replicas only after failing nodes (#30553)
Add parsing to Significant Terms aggregations (#24682)
Temporarily disabled ML BWC tests for backporting
Avoid race when shutting down controller processes (#24579)
Add pipeline parent validation for auto date histogram (#35670)
Add tombstone document into Lucene for Noop (#30226)
Add getZone to JodaCompatibleZonedDateTime (#37084)
[Scripting] Use Number as a return value for BucketAggregationScript (#35653)
Convert FieldCapabilitiesResponse to a ToXContentObject. (#30182)
Splits nio project into two for eclipse build only (#27939)
step by step
Introduce CCR stats endpoint (#32350)
[TEST] Put options that enable assertions earlier on command line (#29395)
Adjust BWC version on settings upgrade test (#33650)
[HLRC] Update Stop & Start ILM APIs to use Validatable (#34242)
Default copy settings to true and deprecate on the REST layer (#30598)
Expose duplicate removal in the completion suggester (#26496)
Add docs for cluster.remote.*.proxy setting (#40281)
Make sure shard is not closed when updating local checkpoint
Build: Convert rolling upgrade test to create tasks per bwc version (elastic/x-pack-elasticsearch#1477)
Fix  docs
HLRC: split ingest request converters (#33435)
[ML] Fix exception categorising an empty string (elastic/x-pack-elasticsearch#3870)
fix grok's pattern parsing to validate pattern names in expression (#25063)
Use EnumMap in ClusterBlocks (#29112)
Break out clear scroll logic from TransportClearScrollAction (#25125)
Fix name of SettingsBasedHostsProviderIT (#36778)
Fix logic detecting unreleased versions
SQL: Drop embedded qa mode (elastic/x-pack-elasticsearch#3602)
Fix closing/stopping unassigned jobs/datafeeds (elastic/x-pack-elasticsearch#1672)
Clarify systemd overrides
Reintroduce mandatory http pipelining support (#30820)
HLRC: ML Delete job from calendar (#35713)
Merge branch 'master' into close-index-api-refactoring
Make sure that field collapsing supports field aliases. (#32648)
Generalize search.remote settings to cluster.remote (#33413)
[Tests] Add tests for TermSuggestionBuilder#build() (#25558)
Add a helper method to get a random java.util.TimeZone (#29487)
CCR: Do not follow if leader does not have soft-deletes (#34767)
[ML] Fix categorization integration test following fix to C++ code (elastic/x-pack-elasticsearch#3483)
Add details about what acquired the shard lock last (#38807)
Fix String concatenation within a StringBuilder append chain
GCS Repository: Add secure storage of credentials (#24697)
Opened x-pack ILM code
Fix date and ip sources in the composite aggregation (#29370)
Added unit test for FollowParameters class (#38500)
Make get all app privs requires "*" permission (#32460)
Test: fix null failure in watcher test (#31968)
Generate Painless Factory for Creating Script Instances. (elastic/x-pack-elasticsearch#1667)
[DOCS] Update example for default model memory limit (elastic/x-pack-elasticsearch#2312)
ccr: use indices stats api to fetch global checkpoint of the follower shards and
Fixing assertions in integration test (#33833)
Removes warnings from ILM code
SQL: Align SYS TABLE for ODBC SQL_ALL_* args (#33364)
Use any index specified by .watches for Watcher (#39541)
watcher: Fix integration tests to ensure correct start/stop of Watcher (#35271)
SQL: Functions enhancements (OCTET_LENGTH function, order functions alphabetically, RANDOM function docs) (#34101)
Reduce the number of callouts to 15 in docs
MapperService to wrap a single DocumentMapper. (#29511)
Deprecate /_xpack/security/* in favor of /_security/* (#36293)
Merge branch 'master' into index-lifecycle
[ML] Reject put datafeed for job that is marked as deleted (elastic/x-pack-elasticsearch#1537)
Pass InputStream when creating XContent parser (#28754)
[DOCS] Fixed broken TLS links
Add a Painless Context REST API (#39382)
Merge branch 'master' into ccr
Fix race in global checkpoint listeners test
Check channel i open before setting SO_LINGER (#26857)
Merge remote-tracking branch 'elastic/master' into zen2
[Kerberos] Add realm name & UPN to user metadata (#33338)
Use ESBlobStoreRepositoryIntegTestCase to test the repository-s3 plugin (#29315)
Remove XContentHelper#toString(ToXContent) in favour of Strings#toString(ToXContent) (#25866)
Test: ensure char[] doesn't being with prefix (#34816)
Remove version read/write logic in Verify Response (#30879)
Implement byte array reusage in `NioTransport` (#27696)
Merge remote-tracking branch 'upstream/master' into index-lifecycle
Rest spec fixes (elastic/x-pack-elasticsearch#2965)
[DOCS] Remove X-Pakc installation page (elastic/x-pack-elasticsearch#4416)
Fix test bug in DynamicMappingsIT. (#37906)
Fix Painless def [char] to String casts (#39759)
add timeseries policy action stubs (#3214)
[ML] Refactor doc value format into ExtractedField (#35053)
REST high-level client: add support for split and shrink index API (#28425)
Support unknown fields in ingest pipeline map configuration (#38352)
Rename syskeygen
Security: add manage_index_templates to the kibana_system role (elastic/x-pack-elasticsearch#3009)
Fix global checkpoint sync test
[CCR] Initial replication group based tests (#32024)
[ML] add version information in case of crash of native ML process (#30674)
Watcher: Fix equals/hashcode for WatchStatus (elastic/x-pack-elasticsearch#3105)
Make soft-deletes settings final (#33172)
Remove extra check for object existence in repository-gcs read object (#31661)
Configure heap dump path out of the box
Forbid granting the all permission in production
[CCR] Handle leader index with no mapping correctly (#33770)
Add discovery types to cluster stats (#36442)
SQL: Allow H2-based tests to run only with Gregorian calendar (elastic/x-pack-elasticsearch#3170)
LLRC: Test for warnings behavior (#34143)
Add XContentHelper shim for move to passing in deprecation handler (#28684)
CCR: Following primary should process NoOps once (#34408)
Test: increase search logging for LicensingTests
[DOCS] update index, type and id for indexed documents in high level client docs (#25546)
Initial docs for SQL (elastic/x-pack-elasticsearch#2810)
[Rollup] Only allow aggregating on multiples of configured interval (#32052)
Optimize version map for append-only indexing (#27752)
HLRC: Deactivate Watch API (#34192)
[TESTS] Mute SmokeTestWatcherWithSecurityIT tests
make tribe-node-license validation assume snapshot context (elastic/x-pack-elasticsearch#2589)
Loosen setup mode restrictions for upgrade tests (elastic/x-pack-elasticsearch#1927)
Scripting: Deprecate index lookup (#24691)
[ML] Only clear scroll whan a scroll id exists (elastic/x-pack-elasticsearch#3148)
Add docs for bundled jdk (#40487)
Removed LocalCheckpointTracker usage.
SQL: Ignore directory made by text editor (elastic/x-pack-elasticsearch#3391)
Merge branch 'master' into rankeval
Adding unreleased 5.6.4 version number to Version.java
Fix elasticsearch-cli dependency
add index.lifecycle.skip setting for skipping policy execution (#30766)
Merge remote-tracking branch 'elastic/master' into feature/sql_2
Update uses of script factory types to new names (elastic/x-pack-elasticsearch#1560)
Extend duration of fixLag() (#34364)
[ML] Use unique and predictable IDs for result docs (elastic/x-pack-elasticsearch#1521)
[CCR] Rename idle_shard_retry_delay to poll_timout in auto follow patterns (#33821)
Integrate LeaderChecker with Coordinator (#34049)
Add distribution type to startup scripts
Merge branch 'master' into ccr
Using DocValueFormat::parseBytesRef for parsing missing value parameter (#27855)
Fix geo points missing test (#40704)
Fix defaults in GeoShapeFieldMapper output (#31302)
Painless: Restructure Definition/Whitelist (#31879)
Send clear session as routable remote request (#36805)
Merge branch 'master' into ccr
[Docs] Document Bulk Processor for Java High Level REST Client (#25572)
Ensure all Steps have Javadoc (#35757)
Fix missing active IDs prevent advance test
Remove useless checks from evil JNA tests
[DOCS] Adding index file for GS "mini book".
Extending `_rank_eval` documentation
[Docs] Add community analysis plugin (#29612)
Trim down usages of `ShardOperationFailedException` interface (elastic/x-pack-elasticsearch#3662)
Remove (deprecated) support for '+' in index expressions (#25274)
Pin TLS1.2 in SSLConfigurationReloaderTests
Mute test
Painless: Special Case def (#32871)
Remove `index.mapping.single_type=false` from reindex tests (#25365)
Fixing typo in param name: values => sources (#28016)
Log primary-replica resync failures
Tests: Muted FullClusterRestartIT.testMonitoring
Add cluster-wide shard limit warnings (#34021)
Improve painless docs for score, similarity, weight and sort (#35629)
SQL: Fix issue with wrong NULL optimization (#37124)
Rename LDAP setting meta_data to metadata (elastic/x-pack-elasticsearch#1455)
Fix highlighting on a keyword field that defines a normalizer (#27604)
Emit settings deprecation logging at most once
[ML] Hold ML filter items in sorted set (#31338)
Combine overriddenOps and skippedOps in translog (#39771)
NETWORK: Align Behaviour of NettyChan setSoLinger (#34870)
RestoreService should update primary terms when restoring shards of existing indices (#38177)
Add fromXContent method to SearchResponse (#24720)
Return transport addresses from UnicastHostsProvider (#31426)
Ignore empty completion input (#30713)
Make Geo Context Mapping Parsing More Strict (#32821)
[DOCS] Clarified xpack.monitoring.enabled setting (elastic/x-pack-elasticsearch#4384)
[Security] Correct DN matches in role-mapping rules (elastic/x-pack-elasticsearch#3704)
Decreased time out in test
Painless: modify grammar to allow more statement delimiters (#29566)
Switch mapping/aggregations over to java time (#36363)
[Ml-Dataframe] Register Data Frame named writables and xcontents (#39569)
Fix ILM status to allow unknown fields (#38043)
SQL: correct index name invocation
Adapt to AbstractQueryBuilder upstream changes
ShardBulkAction ignore primary response on primary (#38901)
Fix branch logic for bwc tests in the same major version
ILM setPriority corrections for a 0 value (#38001)
[HLRC] Put Role (#36209)
[TEST] Mute SlackMessageTests.testTemplateRender
Update joda compat methods to use compat class (#36654)
HLRC+MINOR: Remove Unused Private Method (#33165)
Revert "Disable BWC tests for build issues"
Add max_children limit to nested sort (#33587)
Minor search controller changes (#36479)
Remove type from VersionConflictEngineException. (#37490)
Merge branch 'master' into feature/client_aggs_parsing
Fix LineLength Check Suppressions: index.fielddata (#34891)
Merge branch 'master' into ccr
Merge remote-tracking branch 'elastic/master' into feature/sql_2
Remove QueryCachingPolicy#ALWAYS_CACHE (#31451)
Fixed compile errors and test failures after merging master into ccr.
[TEST] Enable DEBUG logging on testCreateShrinkIndexToN
fix TimeseriesLifecycle ordering behavior
Fix pom for build-tools (#33300)
[HLRC][ML] Add ML get datafeed API to HLRC (#33715)
Update the full cluster restart tests to be more generic (elastic/x-pack-elasticsearch#2107)
Adds some unit tests
Configurable password hashing algorithm/cost (#31234)
Remove cluster state initial customs (#32501)
[ML] Do not download the ml-cpp zip when building it locally (elastic/x-pack-elasticsearch#2262)
Changed inner_hits to work with the new join field type and
Move Nullable into core (#29341)
SQL: Fix translation to painless for conditionals (#36636)
Update plugin-related output in reference docs (#25897)
SQL: Remove the last remaining server dependencies from jdbc (#30771)
Remove hand-coded XContent duplicate checks
SQL: change the default precision for CURRENT_TIMESTAMP function (#39391)
[TEST] Mute WebhookHttpsIntegrationTests.testHttps
Let primary own its replication group
Fix inner hits retrieval when stored fields are disabled (_none_) (#33018)
CCR/TEST: Add debug log to testFailOverOnFollower
Support for remote path in reindex api (#31290)
Upgrade to 7.4.0-snapshot-1ed95c097b (#30357)
[DOCS] Fixed callout reference error.
mute RemoveCorruptedShardDataCommandTests.testCorruptedIndex
docs: use `doc_value_fields` fields as alternative for nested inner hits _source fetching
SQL: Remove reflection from constructing Functions (elastic/x-pack-elasticsearch#3442)
Adds docs for how to set up a policy (#32987)
Do not ignore shard not-available exceptions in replication (#28571)
Disable specific locales for tests in fips mode (#38938)
Simplify connection closing and cleanups in TcpTransport (#25250)
[Tests] Fix ReopenWhileClosingIT with correct min num shards
SQL: Remove cli.debug system parameter (elastic/x-pack-elasticsearch#3722)
Watcher: Move watcher-only packages into watcher hierarchy (elastic/x-pack-elasticsearch#2933)
QA: Remove mistaken timeout
Security: fix joining cluster with production license (#31341)
[DOCS] Fix typo in get role mappings API (#34952)
Add lower bound on poll_interval (#39593)
SQL: Support for escape sequences (#31884)
Remove leftover debugging from PTCMDT
Make various LifecycleSettings Settings internal (#32381)
Fix use of spaces on Windows if JAVA_HOME not set
upgrade to Lucene 7.1.0 snapshot version
[TEST] Mute failing FlushIT test
 Share XContent rendering code in significant terms aggregations (#24677)
HLRest: Move xPackInfo() to xPack().info() (#31905)
Mute testRecoveryWithConcurrentIndexing
[DOCS] Change standalone node to dedicated node (elastic/x-pack-elasticsearch#1708)
[DOCS] Plugin Installation for Windows (#21671)
Upgrade to lucene 7.3.0 (#29387)
Lower version on full cluster restart settings test
Introduce limit to the number of terms in Terms Query (#27968)
[DOCS] Replaces InetSocketTransportAddress in code samples (elastic/x-pack-elasticsearch#4404)
SQL: Preserve scoring in bool queries (#30730)
Fix get mappings HEAD requests
[CI] Fix bogus ScheduleWithFixedDelayTests.testRunnableRunsAtMostOnceAfterCancellation
[Docs] Fix broken bulleted lists (#27470)
Upgrade API: fix parent task propagation for upgrade (elastic/x-pack-elasticsearch#1986)
TESTS: Fix overly long lines (#33240)
Use manifest file for version info
Fix ASN.1 encoding of "cn" OtherName in CertGen/CertUtil (elastic/x-pack-elasticsearch#2858)
Add a shallow copy method to aggregation builders (#28430)
Switch remaining tests to new style Requests (#33109)
Create new handlers for every new request in GoogleCloudStorageService (#27339)
Upgrade to forbiddenapis 2.4.1  (#26874)
Use index-prefix fields for terms of length min_chars - 1 (#36703)
HLRC: Use nonblocking entity for requests (#32249)
cleanup tests
Add parsing method for Matrix Stats (#24746)
#28745: remove extra option in the composite rest tests
Use nio transport in x-pack tests (elastic/x-pack-elasticsearch#2159)
Throw a better error message for empty field names (#26543)
Add additional test for sequence-number recovery
Document JVM option MaxFDLimit for macOS ()
Add TLS/SSL enabled SecurityNioTransport (elastic/x-pack-elasticsearch#3519)
Move ESIndexLevelReplicationTestCase to test framework (#31243)
Allow for the Painless Definition to have multiple instances (#27096)
Removes deprecated usage of the FieldStats API in a test that verifies
Tidied up the breaking changes docs
Logging: Drop two deprecated methods (#34055)
Enable smoke-test-watcher with logging (#39169)
Add an option to force the numeric type of a field sort (#38095)
Additional engine refactoring
TEST: Avoid invalid ranges in ShardChangesActionTests (#33976)
[CCR] Change max_read_request_size default (#35247)
Reduce retention lease sync intervals (#40302)
Fix Fuzziness#asDistance(String) (#39643)
Bump laster 6.x version in VersionTests (#36851)
Disable ClusterStatsMonitoringDocTests test
Merge remote-tracking branch 'elastic/master' into feature/sql_2
Adapt x-pack after the parent/child modularisation (elastic/x-pack-elasticsearch#1407)
Accept an array of field names and boosts in the index.query.default_field setting (#26320)
Ensure that azure stream has socket privileges (#28751)
Allow snapshotting replicated closed indices (#39644)
Merge remote-tracking branch 'elastic/master' into feature/sql
SQL: non ISO 8601 versions of DAY_OF_WEEK and WEEK_OF_YEAR functions (#36358)
Improve error message for absence of indices (#39789)
test
Fix RollupDocumentation test to wait for job to stop
[TEST] Mute ConvertProcessortTests.testConvertIntHexError
Add types deprecation to script contexts (#37554)
Retry on wait_for_metada_version timeout (#38521)
Refactor/to x content fragments2 (elastic/x-pack-elasticsearch#2329)
Tidy up GroupedActionListener (#39633)
unmuted test
Improve CliFixture messages and Win behavior
Reduce single node test cleanup logging (#39060)
Delegate wildcard query creation to MappedFieldType. (#34062)
Move connection listener to ConnectionManager (#32956)
SQL: skip uppercasing/lowercasing function tests for AZ locales as well (#32910)
Remove reference to field-stats docs.
Merge branch 'master' into feature/sql
Plugins: Fix meta plugins to install bundled plugins with their real name (#28285)
Merge remote-tracking branch 'es/master' into ccr
Infer KeyStore type from pathname (elastic/x-pack-elasticsearch#2514)
Do not allow Sampler to allocate more than maxDoc size, better CB accounting (#39381)
Upgrade to lucene-7.0.0-snapshot-a0aef2f
Adds an API to remove ILM from an index completely (#31358)
[DOCS] Replace mention of string field type with text and keyword
[Monitoring] Add "apm" to "stack_stats" for Phone Home (elastic/x-pack-elasticsearch#2848)
add a note regarding rescore and sort (#28251)
Fix use of time zone in date_histogram rewrite (#31407)
Remove Migration Upgrade and Assistance APIs (#40075)
Remove versionType from translog (#31945)
Remove Discovery.AckListener.onTimeout() (#30514)
Remove Painless Type From Locals, Variables, Params, and ScriptInfo (#28471)
[HLRC] Added support for CCR Put Auto Follow Pattern API (#35780)
Format Watcher APIs (elastic/x-pack-elasticsearch#2382)
TESTS: Make score Float#NaN when there is no max score (#33997)
[ILM] make IndexLifecycleExplainResponse more resilient to null values (#35800)
ML: add migrate anomalies assistant (#36643)
Convert put_template uses to put_script in rest tests
[CCR] Make shard follow tasks more resilient for restarts (#37239)
Enable CronEvalToolTest.testEnsureDateIsShownInRootLocale (#38394)
[TEST] Increase processing delay in LDAP tests (#33410)
[DOCS] delete index no longer supports specifying aliases
Tasks: Retry if task can't be written (#35054)
Painless: Clean Up PainlessClass Variables (#32380)
add debug info for intermittent test failure
Fix non existing javadocs link in RestClientTests
Add a MovingFunction pipeline aggregation, deprecate MovingAvg agg (#29594)
[Rollup] Don't persist state if aborting
[TEST] share code between streamable/writeable/xcontent base test classes (elastic/x-pack-elasticsearch#4021)
Revert "Change HLRC CCR response tests to use AbstractResponseTestCase base class. (#40257)"
[TEST] Fix more side effects of elastic/x-pack-elasticsearch#2975 on machines with < 16GB RAM
Cascading primary failure lead to MSU too low (#40249)
Create ISO8601 joda compatible java time formatter (#38434)
Merge branch 'master' into index-lifecycle
Adds ToXContentFragment (#25771)
rename pre-phase/pre-action to new/init (#32996)
Implement Iterator#remove for Cache values iter (#29633)
TEST: Increase timeout for testPrimaryReplicaResyncFailed
add docs example for Ingest scripts manipulating document metadata (#24875)
[ML] Return both Joda and Java formats from structure finder (#33900)
Exit batch files explictly using ERRORLEVEL (#29583)
ICU plugin: use root locale by default for collators (#26413)
remove lang url parameter from stored script requests (elastic/x-pack-elasticsearch#2029)
[ML][TEST] Improve RevertModelSnapshotIT (elastic/x-pack-elasticsearch#2954)
Add HLRC docs for ILM Start/Stop/Status (#35672)
[TEST] extend wait_for_active_shards randomization to include 'all' value
[Docs] Light edit to info about docker images (#32376)
test: use a single primary shard to workaround an edge case with the phrase suggester
GET aliases should 404 if aliases are missing
[ML] Fix timestamp comparison in scroll extractor cancellation logic
remove ingest.new_date_format (#25583)
Increase logging on qa:mixed-cluster tests
Add v5_5_1 constant
[CI] Log response entity in correct level
Fix Painless void return bug (#38046)
Fix libs:ssl-config project setup (#39074)
Begin replacing static index tests with full restart tests (#24846)
Muting XContentParserTests#testSubParserArray
Change BWC version for VerifyRepositoryResponse (#30796)
Deleting a document from a non-existing index creates the should not auto create it, unless using EXTERNAL* versioning (#24518)
SQL: make JdbcAction transport friendly (elastic/x-pack-elasticsearch#2200)
Add Debug/Trace logging to token service (#34022)
Remove version.qualified from MainResponse (#35412)
[ML] Change forecast_id to UUid, add create_time and start_time (elastic/x-pack-elasticsearch#3095)
SQL: Correct error message (#30138)
move ILM client objects from protocol to client (#33532)
Generalize BWC logic (#28505)
Cleanup: removing unused class (#34541)
Mute ShrinkIndexIT
[ML] Stop datafeeds running when their jobs are stale (#37227)
More JDBC improvements
fix DateIndexNameProcessorTests offset pattern (#38069)
REST: No strict warning testing for head body test
Upgrade to Lucene 7.0.0
Revert "Adjust CombinedDeletionPolicy for multiple commits (#27456)"
testCorruptTranslogTruncation: add logging
Build: introduce keystoreFile for cluster config (#29491)
refactor onStart and onFinish to take runnables and executed them guarded by state (#40855)
SQL: Fix bug in transforming Expression properties (elastic/x-pack-elasticsearch#4373)
Update docs to reflect date changes
Reformat some classes in the index universe
Adding a refresh listener to a recovering shard should be a noop (#26055)
Watcher: Remove extraneous auth classes (#32300)
Zen2: Deterministic MasterService (#32493)
[ML] Increase close job timeout and lower the max number (#37770)
Fix generics in ScriptPlugin#getContexts() (#33426)
[Zen2] Calculate optimal cluster configuration (#33924)
[Close Index API] Add unique UUID to ClusterBlock (#36775)
Make ObjectParser support string to boolean conversion (#24668)
Upgrade to Lucene-7.5.0-snapshot-13b9e28f9d
Allow rollup job creation only if cluster is x-pack ready (#30963)
Add an underscore to flood stage setting
Fix ML upgrade tests
Create weights lazily in filter and filters aggregation (#26983)
Fix SecurityException when HDFS Repository used against HA Namenodes (#27196)
Change missing authn message to not mention tokens (#36750)
Package ingest-geoip as a module (#36898)
SQL: Implement IFNULL variant of COALESCE (#35762)
Add support for rest_total_hits_as_int in watcher (#36035)
Removing poor randomization for node name (#33918)
SQL: Switch CLI to REST protocol (elastic/x-pack-elasticsearch#3342)
Add finalReduce flag to SearchRequest (#38104)
Revert "Use shaded rest client dependencies" (elastic/x-pack-elasticsearch#2352)
[ML] Avoid masses of log spam/stack traces on shutdown (elastic/x-pack-elasticsearch#1495)
REST: Remove GET support for clear cache indices (#29525)
Rework StringUtilsTest from plain JUnit to ESTestCase
SQL: Unknown filter type [pattern_capture] warning in SQL IT Tests (elastic/x-pack-elasticsearch#2746)
Deprecate types in create index requests. (#37134)
[CCR] Move headers from auto follow pattern to auto follow metadata (#33846)
[Rollup] Move toBuilders() methods out of rollup config objects (#32585)
[DOCS] Moves security config file info (#36232)
Lowercase static final DeprecationLogger instance names (#34887)
Fix bad version check writing Repository nodes (#30846)
[DOCS] Fix JDBC Maven client group/artifact ID
TextFieldMapper defaults can be final (#28313)
[test] use randomized runner in packaging tests (#32109)
Tighten the CountedBitSet class
INGEST: Make a few Processors callable by Painless (#32170)
Allow only a fixed-size receive predictor (#26165)
Tests: Make secure settings available from settings builder for tests (#25037)
SQL: Polish grammar for intervals (#35853)
Merge branch 'master' into index-lifecycle
CCR: Add TransportService closed to retryable errors (#34722)
Add strict parsing of aggregation ranges (#25769)
Quote version value in Docker Compose file
Un-mute test
Merge branch 'master' into ccr
Improving and cleaning up tests
Remove Painless Type From Painless Method/Field (#28466)
Core: Less settings to AbstractComponent (#35140)
[ML] Merge the Jindex master feature branch (#36702)
Remove the xpack plugin's dependency on the tribe module (elastic/x-pack-elasticsearch#2901)
[DOCS] Describe how to identify active ML model snapshot (elastic/x-pack-elasticsearch#1677)
Move ObjectPath and XContentUtils to libs/x-content (#34803)
Use Lucene history in primary-replica resync (#33178)
Allow specifying shard changes batch sizes in bytes (#34168)
Shrunk indices should ignore templates
Merge branch 'master' into index-lifecycle
[TEST] Remove duplicated main response unit test (#25855)
Disable failing query in QueryBuilderBWCIT.
Remove redundant checkstyle LineLength suppressions
Fix MetaStateFormat tests
HLRC: Add ML Get Job (#32960)
Fix AggregationFactories.Builder equality and hash regarding order (#34005)
SQL: Polish behavior of SYS TABLES command (#40535)
Fix problematic chars in javadoc
Remove PrefixAnalyzer, because it is no longer used.
Fix overflow error in parsing of long geohashes (#29418)
Add missing_bucket option in the composite agg (#29465)
Update version in SearchRequest and related test
[ML] Also adjust bwc version in job serialization
SQL: Fix precedence of `::` psql like CAST operator (#40665)
Add doc's sequence number + primary term to GetResult and use it for updates (#36680)
Tests: disable testRandomGeoCollectionQuery on tiny polygons (#37579)
[ML] Write updated model snapshot to its original index (elastic/x-pack-elasticsearch#1415)
Only configure publishing if it's applied externally (#32351)
Upgrade to lucene-8.0.0-snapshot-67cdd21996 (#35816)
ingest: support simulate with verbose for pipeline processor (#33839)
Java high-level REST : minor code clean up (#28409)
Clarify RemoteClusterService#groupIndices behaviour (#33899)
Add the ability to set the number of hits to track accurately (#36357)
Send only ops after checkpoint in file-based recovery with soft-deletes (#33190)
Mute testToQuery test
Fix InternalIndexLifecycleContext to update state in memory (#3505)
Tests: Increase timeout to wait to monitoring watches being created
Persist created keystore on startup unless keystore is present (#26253)
Add ILM-specific security privileges (#36493)
Make JDBC driver throw only SQLException (elastic/x-pack-elasticsearch#2708)
Plugins: Fix native controller confirmation for non-meta plugin (#29434)
Cleanup: Remove HaltedClock (elastic/x-pack-elasticsearch#3664)
Adds loggic for TerminalPolicyStep
Security: IndexAuditTrail updates mappings when indexing locally (elastic/x-pack-elasticsearch#3944)
[TEST] Increase InternalDateHistogramTests coverage (#36064)
change internal index to index doc_type, id, source and dest (#39913)
TEST: Correct the assertion arguments order (#31540)
HLRC: Fix Reindex from remote query logic (#36908)
Handle deprecation warnings in a permissive manner.
Mute GeoWKTShapeParserTests#testParseGeometryCollection
Live primary-replica resync (no rollback) (#24841)
[TEST] Fix logic in one branch of random mutate test
[ML] Add a file structure determination endpoint (#33471)
Use external version type for history ops from Lucene (#31568)
Security: revert to old way of merging automata (#32254)
Adds ForceMerge action to Index Lifecycle (#3309)
Test fix, wait for auto follower to have stopped in the background
Build: Fix meta plugin integ test installation (#28286)
InitialSearchPhase minor cleanups (#35864)
Rename deleteLocalTranslog to createNewTranslog
Merge remote-tracking branch 'upstream/master'
SQL: Fix long lines in tests (elastic/x-pack-elasticsearch#3450)
Merge branch 'master' into ccr
Ingest: Add ignore_missing option to RemoveProc (#31693)
[ML] Randomize default datafeed query delay (elastic/x-pack-elasticsearch#2475)
[CCR] Add create and follow api (#30602)
Enable engine factory to be pluggable (#31183)
Fix CLI test
Core: Parse floats in epoch millis parser (#34504)
Move TokenService to seqno powered cas (#38311)
Get more information when reindex test fails
[DOCS] Update passphrase security setting (elastic/x-pack-elasticsearch#2431)
RankEvalRequest should implement IndicesRequest (#29188)
[DOCS] Moves graph to docs folder (#33472)
Fix IndexSearcherWrapper visibility (#39071)
Add opening state to Job states (elastic/x-pack-elasticsearch#2317)
Revert "Use serializable exception in GCP listeners (#33657)"
Add PeerFinder#onFoundPeersUpdated (#32939)
[Test] Extend parsing checks for DocWriteResponses (#25257)
Types removal fix FullClusterRestartIT warnings (#38445)
Do not swallow exceptions in TimedRunnable (#39856)
Fix path.conf usage on Windows
[Kerberos] Add support for Kerberos V5 Oid (#35764)
add `exclude_keys` option to KeyValueProcessor (#24876)
SQL: values in datetime script aggs should be treated as long (#39773)
Fix location of sql cli jar
Merge branch 'master' into index-lifecycle
Watcher: Clear usage stats when execution is paused (elastic/x-pack-elasticsearch#4132)
[ML] Calendar event actions (elastic/x-pack-elasticsearch#3365)
Clarify that number of threads is set by packages
Applied @colings86 changes to the build in order to make new module work in Eclipse too.
Build: Move and simplify ml cpp snapshot (elastic/x-pack-elasticsearch#3762)
Un-@AwaitsFix ExplainIT
Move the multi-get response tests to server
Aggregations/HL Rest client fix: missing scores (#32774)
inner_hits: Reuse inner hit query weight
SQL: GROUP BY use composite instead of terms aggregation (elastic/x-pack-elasticsearch#4282)
SQL: equality on analyzed through TermQuery on not-analyzed (elastic/x-pack-elasticsearch#3524)
[Monitoring] Upgrade Indices to remove usage of _type (elastic/x-pack-elasticsearch#1616)
Remove unused search plugin extension (#27943)
Remove XLatLonShape classes (#37094)
Merge remote-tracking branch 'es/master' into ccr
Add assertion on removing copy_settings (#30748)
Move page size constants to PageCacheRecycler (#36524)
Rest HL client: Add get license action (#32438)
Add distribution flavor to startup scripts
Consolidate watcher setting update registration (#31762)
Settings: Update settings deprecation from yml to yaml (#24663)
Core: Combine Action and GenericAction (#31405)
cluster formation DSL - Gradle integration -  part 2 (#32028)
[CCR] Fail with a better error if leader index is red (#35298)
Resolve concurrency with watcher trigger service (#39092)
Add missing catch arguments to the rest api spec (#26536)
Add secure_bind_password to LDAP realm (elastic/x-pack-elasticsearch#4192)
Force depth_first mode execution for terms aggregation under a nested context (#28421)
ccr: Added apis and persistent tasks for following an index and log changes instead of indexing.
Merge remote-tracking branch 'origin/master' into index-lifecycle
Fix KnownActionTests after removing jdbc transport action
[ZEN2] Use Zen2 in REST Tests (#36300)
Changing bucket length and data indexed timestamps (#33995)
Ensure latch is counted down in ssl reload test (#37313)
[CCR] Add total fetch time leader stat (#34577)
Close xcontent parsers (partial) (#31513)
Merge remote-tracking branch 'es/master' into ccr
TemplateUpgraders should be called during rolling restart (#25263)
SQL: Fix version loading in JDBC (elastic/x-pack-elasticsearch#4425)
Remove feature parsing for GetIndicesAction (#28535)
Revert "REST high-level client: add support for Indices Update Settings API (#28892)" (#29323)
Disable the Netty recycler in the client
[ML] Rename id to forecast_id in forecast API response (elastic/x-pack-elasticsearch#3074)
[DOCS] Fix licensing documentation links (elastic/x-pack-elasticsearch#2108)
remove old doc placeholder and migrate ilm docs to top-level (#34615)
Add an authentication cache for API keys (#38469)
[Monitoring] Add Cluster Alert for Nodes Changed (elastic/x-pack-elasticsearch#3504)
Upgrade to Gradle 5.1.1 (#37410)
Filter out upgraded version index settings when starting index following (#38838)
Test: add additional logging to SslMultiPortTests
Add create rollup job api to high level rest client (#33521)
SQL: Improve error message when unable to translate to ES query DSL (#37129)
Geo: enables coerce support in WKT polygon parser (#35414)
Merge branch 'master' into index-lifecycle
add version compatibility from 6.4.0 after backport, see #30319 (#30390)
[ML] Add data frame task state object and field (#40169)
[Docs] Mention ip_range datatypes on ip type page (#31416)
Switch testclusters to use nio (#37365)
Propagate auto_id_timestamp in primary-replica resync (#33964)
[ML] Let core ES stop the native controller when ML is disabled (elastic/x-pack-elasticsearch#1704)
[Logstash] Add new reserved role for managing LS configs (elastic/x-pack-elasticsearch#1531)
Adopt settings cleanups from core (elastic/x-pack-elasticsearch#2605)
[HLRC][ML] Add ML get model snapshots API (#35487)
[DOCS] Added ML add and delete calendar event APIs (elastic/x-pack-elasticsearch#3394)
NETWORKING: Add SSL Handler before other Handlers (#34636)
Wrap stream passed to createParser in try-with-resources (#28897)
Compound order for histogram aggregations. (#22343)
Reenable SecurityIndexSearcherWrapperIntegrationTests (elastic/x-pack-elasticsearch#1894)
Make totalHits a long in CollapseTopFieldDocs.
Build: Remove public license key and inject it during release builds (elastic/x-pack-elasticsearch#3916)
Core: Minor size reduction for AbstractComponent (#32509)
CONSOLEify scripted-metric agg docs
Add path sensitivity annotations (#37762)
Adds usage data for ILM (#33377)
#24638 Add the parent-join plugin in the prebuilt transport client by default
[HLRC] Added support for CCR Put Follow API (#35409)
Shade external dependencies in the rest client jar
Add a shard filter search phase to pre-filter shards based on query rewriting (#25658)
Add javadocs about expected exceptions to RestHighLevelClient (#36216)
Fix FAIL_ON_METHOD in MetaDataStateFormatTests
TEST: Fix Assertion for Shard Allocation Counts (#36685)
Adapt `SearchIT#testSearchWithParentJoin` to new join field (#25379)
high level REST api: cancel task (#30745)
Revert accidentally pushed changes in NoriAnalysisTests
[TEST] Fix minor random bug from #30794
[Security] has_privileges.has_all_requested should respect cluster privileges (elastic/x-pack-elasticsearch#3379)
ICUCollationKeywordFieldMapper use SortedSetDocValuesField (#26267)
Fix markdown formatting (#28392)
Force stable file modes for built packages (#30823)
Remove Throwable usage from transport modules (#30845)
Fix sporadic failure in NestedObjectMapperTests
CURRENT should not be a -SNAPSHOT version if build.snapshot is false (#27512)
Removes unused imports
Call onClose listener in a finally block
Move more XContent.createParser calls to non-deprecated version (elastic/x-pack-elasticsearch#3927)
percolator: also extract match_all queries
Remove remains of 'auto_generate_phrase_queries' (#35735)
Use Gradle wrapper when building BWC
SQL: Replace ListTable transport with SQL command (elastic/x-pack-elasticsearch#3675)
[Docs] Improvements in script-fields.asciidoc (#28174)
SQL: Make error msg for validation of 2nd arg of PERCENTILE[_RANK] consistent (#37937)
Docs: fix typo in datehistogram (#31972)
Remove dead write checkpoint method in translog (#29402)
Test fix - Graph HLRC tests needed another field adding to randomisation exception list
Adjust CombinedDeletionPolicy for multiple commits (#27456)
Test: Enable strict deprecation on all tests (#36558)
[Test] @AwaitsFix on BootStrapTests.testMixedTriggeredWatchLoading
[DOCS] Add job groups to ML create/update job APIs (elastic/x-pack-elasticsearch#2290)
Mute FullClusterRestartSettingsUpgradeIT
[DOCS] Clarify audit index settings when remote indexing (#30923)
SQL: Switch is aggs only to OO (elastic/x-pack-elasticsearch#3432)
Test: update missing body tests to run against versions >= 5.5.0
HLRC: Create server agnostic request and response (#32912)
[Tests] Check that parsing aggregations works in a forward compatible way (#25219)
Tests: Increase logging to see requests
[DOCS] Enabled code snippet testing for more ML APIs (elastic/x-pack-elasticsearch#3990)
Fix TokenBackwardsCompatibility tests (#39252)
Mute testGetSslCertificates in FIPS (#40042)
Merge branch 'master' into index-lifecycle
[ML] Special Events (elastic/x-pack-elasticsearch#2930)
[DOCS] Add documentation for ML categorization_analyzer (elastic/x-pack-elasticsearch#3554)
Throws ElasticsearchException from cluster state tasks if something
Better message text for ResponseException
Painless: Add method type to method. (#32441)
SQL: Implement `CONVERT`, an alternative to `CAST` (#34660)
Remove LongTuple
[ML] Return statistics about forecasts as part of the jobsstats and usage API (#31647)
Upgrade to lucene-8.0.0-snapshot-83f9835. (#37668)
[DOCS] Fixed bad link
[DOCS] Fix principal access_granted attribute (elastic/x-pack-elasticsearch#2257)
More nocommits and some checkstyle suppressions
Merge branch 'master' into index-lifecycle
Protect shard splitting from illegal target shards (#27468)
Plugins: Separate plugin semantic validation from properties format validation (#28581)
HLRC: ML Stop datafeed API (#33946)
Add full cluster restart base class (#33577)
Merge branch 'master' into ccr
HLRest: add put user API (#32332)
Disc: Move AbstractDisruptionTC to filebased D. (#34461)
Build: Fix test logger NPE when no tests are run (#28929)
Mark periodically failing test as AwaitsFix
Make `TcpTransport#openConnection` fully async (#36095)
Fix a type check that is always false (#27726)
Tests: Mute SnapshotDisruptionIT.testDisruptionOnSnapshotInitialization
TEST: Add engine is closed as expected failure msg
[TEST] Minor updates to rest api spec tests (#34551)
Properly mute test involving JDK11 closes #31739
Clarify reproduce info on Windows
Add 5.6.9 snapshot version
Merge branch 'master' into feature/sql
AwaitFix FullClusterRestartIT#testRollupIDSchemeAfterRestart.
Ensure flush happens on shard idle
MetaData Builder doesn't properly prevent an alias with the same name as an index (#26804)
TESTS: Real Coordinator in SnapshotServiceTests (#37162)
Add settings updater for 2 affix settings (#33050)
HLRC: Add rollup search (#36334)
Fix cross fields mode of the query_string query (#34216)
[ML] Disable security audit trail in native integ tests suite (#39683)
REST high-level client: add simulate pipeline API (#31158)
[CCR] set minimum version to 6.5.0
Throw an exception when unable to read Certificate (#40092)
[ILM] Add Freeze Action (#36910)
Move list tasks under Tasks namespace (#30906)
SQL: clear the cursor if nested inner hits are enough to fulfill the query required limits (#35398)
[ML] Don't install empty ML metadata on startup (#30751)
Tests: Replace YAML tests with ESTestRestCase to be able to wait for … (elastic/x-pack-elasticsearch#3252)
Don't count metadata fields towards index.mapping.total_fields.limit (#33386)
[CCR] Adjust list retryable errors (#33985)
SQL: Fix function resolution (#34137)
[Tests] Ensure that Watcher templates are created before creating alias (elastic/x-pack-elasticsearch#3956)
Java Time: Fix timezone parsing (#37262)
Changes required for elastic/elasticsearch#28531
Security: move User to protocol project (#32367)
[ML] Stop datafeed when job fails (elastic/x-pack-elasticsearch#3107)
Implement leader rate limiting for file restore (#37677)
AwaitsFix testCreateShrinkIndexToN
Followup for elastic/elasticsearch#25791
Simplify rejected execution exception
Introduce index store plugins (#32375)
Add follower index to CCR monitoring and status (#33645)
Fix update_by_query's default size parameter (#26784)
Remove support for lenient booleans.
Removed flaky test. Looks like randomisation makes these assertions unreliable.
[DOCS] Move monitoring to docs folder (#31477)
Fix retention lease commit test
Allow abort of bulk items before processing (#26434)
[TEST] RecoveryWithConcurrentIndexing test (#40733)
Move trimming unsafe commits from engine ctor to store (#29260)
fix GeoHashGridTests precision parsing error
Gets the scheduler to use poll_interval
SQL: fix compilation after merging master
SCRIPTING: Move Aggregation Script Context to its own class (#33820)
Scripting: Deprecate file script settings (#24555)
ML: Fix build after HLRC change
Deprecate filtering on `_type`. (#29468)
Do not swallow exception when relocating
REST high-level client: encode path parts (#28663)
[ML] Audit all errors during job deletion (#37933)
[Rollup] Fix FullClusterRestart test
Adds a check to only fail policy update if unsafe action is changed (#32002)
Reorganize docs of global ordinals. (#24982)
fix compilation changes
Fix leftover reference to scripts path in packaging test
Merge branch 'master' into ccr
[Geo] Integrate Lucene's LatLonShape (BKD Backed GeoShapes) as default `geo_shape` indexing approach (#36751)
Enables security to work with index aliases (elastic/x-pack-elasticsearch#1496)
[Test] Fix CRUDDocumentationIT (#28457)
Ensure remote cluster alias is preserved in inner hits aggs (#25627)
Remove AbstractComponent usage in x-pack core (#35187)
Revert "Expose external refreshes through the stats API (#38643)"
Deprecate reference to _type in lookup queries (#37016)
Sql security take 1 (elastic/x-pack-elasticsearch#2106)
Disable cache on QueryProfilerIT (#38583)
Remove include_type_name from the relevant APIs. (#35192)
[Security] Support "type" field in role-mappings (elastic/x-pack-elasticsearch#2681)
Fix routing with leading or trailing whitespace
Compute the took time of the query after the expand phase (#24902)
Remove copy-pasted code (#29409)
Add Netty channel information on write and flush failure
Merge branch 'master' into index-lifecycle
docs: document work around for the percolator if query time text analysis is expensive.
Remove now-unused createParser that uses BytesReference (#28926)
Merge branch 'master' into index-lifecycle
Fix line length violation in cache tests
Merge branch 'master' into index-lifecycle
Expose CCR to the transport client (#33608)
percolator: remove deprecated map_unmapped_fields_as_string setting
Deprecate the document create endpoint. (#36863)
Remove deprecated Plugin#onModule extension points (#37866)
Remove Join utility class (#34037)
Move pre-configured "keyword" tokenizer to the analysis-common module (#24863)
Cache the score of the parent document in the nested agg (#36019)
Correct ILM metadata minimum compatibility version (#40569)
[ML] Make GetJobStats work with arbitrary wildcards and groups (#36683)
SQL: Lowercase the datatypes in validation error msgs (#37524)
[Docs] Add "Using Java Builders" section (#26517)
Don’t ack if unable to remove failing replica (#39584)
Merge remote-tracking branch 'es/master' into ccr
ShardSearchFailure#readFrom to set index and shardId (#33161)
[ML] Expand detector function shortcuts (elastic/x-pack-elasticsearch#3789)
Migrate Search requests to use Writeable reading strategies (#26428)
Introduce `zen2` discovery type (#36298)
Add await busy loop for SimpleKdcLdapServer initialization (#39221)
Removes Cause stuff
[DOCS] Move monitoring security and configuration information to Elasticsearch Reference (elastic/x-pack-elasticsearch#4370)
Watcher: Remove TriggerEngine.getJobCount() (#30395)
Handle TokenizerFactory  TODOs (#32063)
Fix not waiting for Netty ThreadDeathWatcher in IT (#31758)
Merge branch 'master' into ccr
Log flush_stats and commit_stats in testMaybeFlush
SAML: Make alias for signing key optional (elastic/x-pack-elasticsearch#4248)
SQL: clean unused Exceptions and replace Util functions with core versions (elastic/x-pack-elasticsearch#2654)
Test: allow setting socket timeout for rest client (#25221)
[ILM] TEST: fix long overflow in TimeValueScheduleTests (#36384)
[CCR] Move leader_index and leader_cluster parameters from resume follow to put follow api (#34638)
Mark failing password migration test as skipped
Use soft-deleted docs to resolve strategy for engine operation (#35230)
SQL: ConstantProcessor can now handle NamedWriteable (#39876)
[ML] Stop the ML memory tracker before closing node (#39111)
Add rollover-creation-date setting to rolled over index (#31144)
Switch low level rest tests to new style Requests (#31938)
Add support for selecting percolator query candidate matches containing range queries.
[ML] Move ML action unit tests into same package as the classes (elastic/x-pack-elasticsearch#3772)
Fix broken OpenLDAP Vagrant QA test
move verification so that test is in order (elastic/x-pack-elasticsearch#1504)
Add latch countdown on failure in CCR license tests (#33548)
REST: deprecate `field_data` in Clear Cache API (#28943)
Add validation for retention lease construction (#37312)
`gradle check -xforbiddenPatterns` passes!
Fix the default pom file name (#33063)
Watcher: Allow unmet action conditions to reset action status (elastic/x-pack-elasticsearch#1859)
Reindex: Wait for deletion in test
Testclusters: convert plugin repository-s3  (#40399)
Add new setting to disable persistent tasks allocations (#29137)
SQL: Add support for single parameter text manipulating functions (#31874)
Removed redundant JSON object from Put Mapping docs (#28514)
Merge branch 'zen2'
Tweak AggregatorBase.addRequestCircuitBreakerBytes
Merge branch 'master' into feature/client_aggs_parsing
[Docs] Add date math examples to api-conventions.asciidoc (#25217)
Add early termination support for min/max aggregations (#33375)
SQL: Add missing handling of IP field in JDBC (#40384)
Split CircuitBreaker-related tests (#31659)
Adjust SearchRequest version checks (#38181)
Avoid setting connection request timeout (#30384)
[SECURITY] Set Auth-scheme preference (#33156)
Adds test for TimeValueSchedule
`MockTcpTransport` to connect asynchronously (#28203)
Merge changes related to moving persistent tasks to elasticsearch repo into master branch.
Fix test which still uses default type (#39997)
Add doc_count to ParsedMatrixStats (#24952)
SQL: move requests' parameters to requests JSON body (#36149)
Decouple NamedXContentRegistry from ElasticsearchException (#29253)
Use non deprecated xcontenthelper (#28503)
Add put index template api to high level rest client (#30400)
[DOC] Fix mathematical representation on interval (range) (#27450)
Merge branch 'master' into index-lifecycle
Merge remote-tracking branch 'origin/master' into feature/client_aggs_parsing
[TEST] Mute failing tests in NativeRealmInteg and ReservedRealmInteg
[ML] Allow categorical conditions to use all analysis fields (elastic/x-pack-elasticsearch#3615)
[TEST] Instead of ignoring the ccr downgrade to basic license qa test
INGEST: Allow Repeated Invocation of Pipeline (#33419)
Add analysis modes to restrict token filter use contexts (#36103)
Access build tools resources (#32201)
Removing indices privileges from the reporting_user (elastic/x-pack-elasticsearch#1806)
SQL: Prefer resultSets over exceptions in metadata (#40641)
Watcher: Improve cluster state listener behaviour (elastic/x-pack-elasticsearch#3538)
Follow stats api should return a 404 when requesting stats for a non existing index (#37220)
Decouple nio constructs from the tcp transport (#27484)
refactor a collection of step-related things + shrink_step
Scripts: Convert template uses to return String instead of BytesReference (elastic/x-pack-elasticsearch#1279)
Reindex: Use request flavored methods (#30317)
[ML] Remove unused last_data_time member from Job (#34262)
Allow to enable pings for specific remote clusters (#34753)
Painless: Replace Painless Type with Java Class during Casts (#27847)
Fix Java 11 javadoc compile problem
[Close Index API] Adapt MetaDataIndexStateServiceTests after merge
Docs: HighLevelRestClient#ping (#29070)
Add 6.3 version constant to master
Add parsing for InternalAdjacencyMatrix aggregation (#24700)
[TEST] Consistent algorithm usage (#32077)
[ML] Extract base class for integ tests with native processes (#38850)
Ensure to release translog snapshot in primary-replica resync (#32045)
Limit number of documents indexed in CloseIndexIT test
Track fetch exceptions for shard follow tasks (#33047)
Mute IndexShardTests#testRelocatedShardCanNotBeRevivedConcurrently
Docs: Fix missing example script quote (#32010)
[Monitoring] Add Rolling Upgrade Tests (elastic/x-pack-elasticsearch#2832)
Add an example of including sql from docs
Tests: Increase loglevel, deactivate ML/monitoring to unclutter logs
Merge branch 'master' into ccr
testConcurrentWriteViewsAndSnapshot shouldn't flush concurrently
Allow build to directly run under JDK 9 (#25859)
Fix eclipse build. (#28236)
Small refactorings to analysis components (#40745)
[Painless] Removes extraneous compile method (#35323)
[DOCS] Move sql to docs (#31474)
Add hybridfs store type
Watcher: Increase HttpClient parallel sent requests (#30130)
Merge branch 'master' into index-lifecycle
[DOCS] Move licensing APIs to docs (#31445)
Upgrade to Lucene 7.4.0. (#31529)
[Zen2] Storage layer WriteStateException propagation (#36052)
Move CCR monitoring tests to ccr sub-project (#33730)
SQL: update percentile tests to reflect the t-digest upgrade
IndexShard should not return null stats (#31528)
change policy logs to be DEBUG
Revert adding bin to .gitignore (elastic/x-pack-elasticsearch#2346)
Rescore collapsed documents (#28521)
Fix rollup search statistics (#36674)
[Tests] Add unit tests for InternalFilters (#24624)
[ML] Improve the way ML jobs are allocated to nodes (elastic/x-pack-elasticsearch#2975)
[SAML] add security permission to get the classloader (elastic/x-pack-elasticsearch#3720)
Require combine and reduce scripts in scripted metrics aggregation (#33452)
Fix/30904 cluster formation part2 (#32877)
Ensure only 1 in-flight request to create each watcher index template (elastic/x-pack-elasticsearch#1660)
Adapt indices resolution to new ignoreAliases index option (elastic/x-pack-elasticsearch#1622)
SQL: Introduce INTERVAL support (#35521)
Security for _field_names field should not override field statistics (#33261)
[Kerberos] Remove Kerberos bootstrap checks (#32451)
SQL: Mimick Elasticsearch defaults for sql action (elastic/x-pack-elasticsearch#4398)
[TEST] adapt test: delete index doesn't resolve to aliases anymore (elastic/x-pack-elasticsearch#1735)
Upgrade to lucene-7.0.0-snapshot-a128fcb. (#26090)
[HLRC] XPack ML info action (#35777)
[ML] Add compatibility checks while opening a job (elastic/x-pack-elasticsearch#1458)
Add a scripted similarity. (#25831)
[TEST] Lower deleteInterval in TokenAuthIntegTests
[ML][TEST] Fix failing test testPersistJobOnGracefulShutdown_givenTimeAdvancedAfterNoNewData (#40363)
Reindex: Fixed typo in assertion failure message (#30619)
Tests: Simplify VersionUtils released version splitting (#30322)
Fix duplicate phrase in shrink/split error message (#36734)
INGEST: Document Processor Conditional (#33388)
Make sure PutMappingRequest accepts content types other than JSON. (#37720)
getMinGenerationForSeqNo should acquire read lock (#29126)
ILM integration test with full policy (#33402)
Core: Replace deprecated Loggers calls with LogManager. (#34691)
Add note on how to avoid Jar Hell in IntelliJ 2017.3 to contributing guide (#27614)
Mute FollowerFailOverIT testReadRequestsReturnsLatestMappingVersion
Revert "Short-circuit rebalancing when disabled (#40942)"
Adds support for persistent actions
Remove Painless Type from e-nodes in favor of Java Class (#28364)
Use removeTask instead of finishTask in PersistentTasksClusterService (#29055)
[DOCS] Update screenshots for population job (elastic/x-pack-elasticsearch#3334)
[TEST] Ensure interrupted flag reset after test that sets it (#37230)
SQL: Re-add removed CI script behavior
[TEST] fixes tests that attempt to delete documents from missing
Fix CloseWhileRelocatingShardsIT (#38728)
Mute failing test
Circuit-break based on real memory usage
Introduce retention leases versioning (#37951)
Replace manual copying an array or collection with static methods calls (#24657)
Fix role query that can match nested documents (#32705)
Move TransportStats accounting into TcpTransport (#25251)
[DOCS] Update documentation for SAML metadata signing  (elastic/x-pack-elasticsearch#4356)
SQL: Verifier allows aliases aggregates for sorting (#34773)
Replace log4j.Supplier by jdk’s in non-logging usage (#28812)
Mute SpecificMasterNodesIT.testElectOnlyBetweenMasterNodes()
[TEST] fix float comparison in RandomObjects#getExpectedParsedValue
Refactored GeoHashGrid unit tests (#37832)
unmuted test, this has been fixed by #27397
Fix error in documentation for activete watch
Test: tests that use security index should not delete template
Delete deprecated getValues from ScriptDocValues (#36183)
TransportUnfollowAction should increase settings version (#37859)
Merge branch 'close-index-api-refactoring'
Support only string `format` in date, root object & date range (#28117)
Test: Fix how packaging test generates expected plugins
Require a field when a `seed` is provided to the `random_score` function. (#25594)
Merge remote-tracking branch 'es/master' into ccr
Introduce build qualifier parameter (#35155)
Allow multiple unicast host providers (#31509)
Fix comments causing errors with Java 11
CCR/TEST: Enable soft-deletes in ShardChangesActionTests
Skip shard refreshes if shard is `search idle` (#27500)
SQL support for field level security (elastic/x-pack-elasticsearch#2162)
Remove special-casing of Synonym filters in AnalysisRegistry (#34034)
Fix newlines in retention lease sync action tests
[ML-DataFrame] Dataframe REST cleanups (#39451)
Mute ShardChangesIT#testFollowIndex
[Docs] Improve Redindex/Update/Delete By Query. (#35127)
Update cli to work on windows
INGEST: Remove Outdated TODOs (#33458)
Use AmazonS3.doesObjectExist() method in S3BlobContainer (#27723)
Add a doc value format to binary fields. (#30860)
LLREST: Drop deprecated methods (#33223)
Consider multi release jars when running third party audit (#33206)
Merge branch 'master' into feature/sql
[ML] Adjust structure finder for Joda to Java time migration (#37306)
Remove default passwords from reserved users (elastic/x-pack-elasticsearch#1665)
Remove duplicated javadoc `fieldType` param
Truncate tlog cli should assign global checkpoint (#28192)
Remove DiscoveryPlugin#getDiscoveryTypes (#38414)
Remove LocalCheckpointTracker#resetCheckpoint (#34667)
[ML] Extract parent field when job has text multi-field (elastic/x-pack-elasticsearch#1705)
Merge branch 'master' into ccr
Adjust bwc for recovery request (#33693)
Use hostname instead of IP with SPNEGO test (#32514)
Fixes Checkstyle
[ML] Remove multiple_bucket_spans (#32496)
Monitoring: Clean up MonitoringIT
Merge branch 'master' into zen2
Merge remote-tracking branch 'elastic/master' into sql-remove-no-commits
[ML] Check calendar exists before deleting event (elastic/x-pack-elasticsearch#3659)
[Docs] Improve rendering of ranking evaluation docs
Merge branch 'index-lifecycle' into index-lifecycle-steps
Fix the packer cache script (#38023)
Minor polishing
Introduce global checkpoint background sync
Remove -Xlint exclusions in all plugins. (#40721)
Remove tcp profile from low level nio channel (#27441)
Add migration note on thread pool API changes (#29192)
Add bad_request to the rest-api-spec catch params (#26539)
Fix peer recovery flushing loop (#28350)
Open node connections asynchronously (#35144)
Optimize volatile flags for logging audit (elastic/x-pack-elasticsearch#4265)
Rename CONF_DIR to ES_PATH_CONF
[test] packaging: renamed packaging configuration (elastic/x-pack-elasticsearch#4112)
geotile_grid implementation (#37842)
Clean up ShardSearchLocalRequest (#38574)
Change user cache TTL to be based on write not access time (elastic/x-pack-elasticsearch#1373)
Adding basic search request documentation for high level client (#25651)
Split up xpack plugins into their own modules (elastic/x-pack-elasticsearch#3643)
Security: remove SSL settings fallback (#36846)
[DOCS] Moves monitoring pages to docs folder (#33324)
Add timeout for ccr recovery action (#37840)
Replace empty index block checks with global block checks in get/put license actions (elastic/x-pack-elasticsearch#2766)
[DOCS] Fix typo and add [float]
begin making sense of types
Remove legacy files from license tools (elastic/x-pack-elasticsearch#3747)
Fixed a msm accounting error that can occur during analyzing a percolator query.
SQL: Fix result column names for arithmetic functions (#33500)
Add ability to listen to group of affix settings (#37679)
[Zen2] Introduce VotingTombstone class (#35832)
Settings: Deprecate settings in .yml and .json (#24059)
Update apache httpclient to version 4.5.8 (#40875)
Introduce Delegating ActionListener Wrappers (#40129)
Extend nextDoc to delegate to the wrapped doc-value iterator for date_nanos (#39176)
Remove RestGetAllMappingsAction (#31129)
[HLRC] Added support for Follow Stats API (#36253)
Mock connections more accurately in DisruptableMockTransport (#37296)
Disallow multiple parent-join fields per mapping (#25002)
Update packaging tests to work with meta plugins (#28336)
Remove unsupported Version.V_5_* (#32937)
CCS: Drop http address from remote cluster info (#29568)
Tests: Do not set number of replicas for watcher index (elastic/x-pack-elasticsearch#3882)
Merge branch 'master' into index-lifecycle
Add support for filtering mappings fields (#27603)
SQL: Introduce NOW/CURRENT_TIMESTAMP function (#36562)
Docs: Clarify constraints on scripted similarities. (#31076)
[TEST] Unmute ML categorization tests
Merge remote-tracking branch 'es/master' into ccr
[CCR] Moved integration test
Share `NioGroup` between http and transport impls (#37396)
Added ccr to xpack usage infrastructure (#37256)
Remove line length violations for o.e.cluster (mostly) (#34923)
rename ILM Phase "minimum_age" to "min_age" (#35058)
Limit analyzed text for highlighting (improvements) (#28808)
Fixed es_release_notes.pl script to work with the new github labels
Remove QueryParseContext (#25486)
Tests: Fix Typo Causing Flaky Settings Test (#32665)
Fix missing option serialization after backport
Move away from `Settings#getAsMap()` (elastic/x-pack-elasticsearch#2661)
testRelocationWithConcurrentIndexing: wait for green (on relevan index) and shard initialization to settle down before starting relocation
Refactor TransportShardBulkAction to better support retries (#31821)
In the field capabilities API, remove support for providing fields in the request body. (#30185)
Add predicate_token_filter (#33431)
Fix user copied in SecurityContext.executeAfterRewritingAuthentication (elastic/x-pack-elasticsearch#1391)
Unmute FollowerFailOverIT#testFailOverOnFollower
Tighten which classes can exit
SQL: Fix error message on bad index (elastic/x-pack-elasticsearch#3312)
Merge branch 'master' into close-index-api-refactoring
add more force-merge related steps and tests
Test: Only sniff host metadata for node_selectors (#32750)
Use epoch millis for token expiration instead of ZonedDateTime (elastic/x-pack-elasticsearch#1417)
do not update mapping if it is newer than the current version (elastic/x-pack-elasticsearch#1971)
Fold EngineDiskUtils into Store, for better lock semantics (#29156)
Merge remote-tracking branch 'es/master' into ccr
Find and use non local IPv4 address while testing IP filtering (#40234)
Move PkiRealm checks for SSL and client authentication to a bootstrap check (elastic/x-pack-elasticsearch#1442)
HLRC: Fix the tags to be in sync with docs. (#34501)
Help Eclipse with type inference for functions (#36301)
Blob store compression fix (#39073)
SQL: Fix long lines in function package (elastic/x-pack-elasticsearch#3452)
Test: add a basic rest test for CCS with non-matching remote index patterns (elastic/x-pack-elasticsearch#1866)
Fix string terms get key as number to see integers
Optimise rejection of out-of-range `long` values (#40325)
Merge branch 'master' into feature/sql_2
Merge elasticsearch master into ccr
Fixup after merge
INGEST: Add Pipeline Processor (#32473)
Bypass highlight query terms extraction on empty fields (#32090)
SQL: Remove unneeded licenses, notices, and shas
Fix compile error introduced by conflict in previous two commits
NOCONSOLE -> NOTCONSOLE in removal-of-types
fix line length in RolloverStep
Add a prebuilt ICU Analyzer (#34958)
Add Log4j to SLF4J binding for repository-hdfs
Rename handoff primary context transport handler
Add @AwaitsFix for failing InstallPluginCommandTests
[ILM] Fix Move To Step API causing ILM to hang (#34618)
Merge remote-tracking branch 'es/master' into ccr
Add sequence numbers based optimistic concurrency control support to Engine (#36467)
[Test] Mute testAbortedSnapshotDuringInitDoesNotStart()
Register ParsedTopHits aggregation with the rest high level client (#26370)
[ILM][TEST] increase assertBusy timeout (#36864)
[Test] Fix S3BlobStoreContainerTests.testNumberOfMultiparts()
fix `GET _ilm` response with uninitialized ILM metadata (#34881)
Add licenses for transport-nio (#31218)
Adapt minimum versions for seq# powered operations in Watch related requests and UpdateRequest (#38231)
percolator: Fix range queries with date range based on current time.
Spelling: correct wrong spellings of likelihood (#37052)
Add rolling upgrade multi cluster test module (#38277)
`cli`'s `gradle run` works!
SQL: Introduce SQL DATE data type (#37693)
[ML] Add a timeout option to file structure finder (#34117)
Watcher: Refactor/Fix TransportWatcherServiceAction (elastic/x-pack-elasticsearch#4240)
Mute DataTypeConversionTests.testConversionToDate
Fix PutRoleRequestTests
hanges to accompany agg package structure change in ES
SQL: Break long lines in parse tree walker (elastic/x-pack-elasticsearch#3451)
Merge branch 'master' into index-lifecycle
Security: fix TokenMetaData equals and hashcode (#30347)
Merge branch 'master' into ccr
Fix security Netty 4 transport tests
Add transport ssl enabled value back to security usage (elastic/x-pack-elasticsearch#2695)
Improve assertions in testStaleMasterNotHijackingMajority (#36658)
Remove unneeded Throwable handling in nio (#27412)
[ML] Filter undefined job groups from update calendar actions (#30757)
Remove file scripts (elastic/x-pack-elasticsearch#1399)
Increase discovery log level in NetworkDisruptionIT
Put a fake allocation id on allocate stale primary command (#34140)
Fix ingest-attachment yaml REST test
[TESTS] Set SO_LINGER and SO_REUSEADDR on the mock socket (#34211)
Mute ClusterDisruptionIT.testSendingShardFailure
SQL: Fix build on Java 10
Build: Simplify rest spec hack configuration (#29149)
Fix compilation error peculiar to eclipse2018-09 (#34798)
SECURITY: Fix Compile Error in ReservedRealmTests (#33166)
Add delayed datacheck to the datafeed job runner (#35387)
CCS: Disable minimizing round-trips when dfs is requested (#40044)
Make sure _forcemerge respects `max_num_segments`. (#32291)
Revert "Mute FullClusterRestartSettingsUpgradeIT"
Document that highlighting `terms` queries is best-effort. (#28371)
Painless: Optimize instance creation in LambdaBootstrap (#24618)
[ML] Changes default destination index field mapping and adds scripted_metric agg (#40750)
Un-AwaitsFix SQL's jdbc integration tests (elastic/x-pack-elasticsearch#2217)
[CCR] Don't fail shard follow tasks in case of a non-retryable error (#34404)
[Docs] Adding aggregation sections to high level client docs (#25707)
Tests: Add rolling upgrade tests for watcher (#32428)
Tests: Silence test under windows as it fails
Testclusters: implement support to install plugins (#39116)
[Security] Multi Index Expression alias wildcard exclusion (#34144)
Fire global checkpoint sync under system context
Added Create Index support to high-level REST client (#27351)
Limit the number of concurrent requests per node (#31206)
NETWORKING: Make RemoteClusterConn. Lazy Resolve DNS (#32764)
Adds checks to ensure index metadata exists when we try to use it (#33455)
Implement VersionCollection in Java (#34050)
Simple verification of the format of the language tag used in DateProcessor. (#25513)
[DOCS] Add X-Pack node settings for Elasticsearch Reference (elastic/x-pack-elasticsearch#1688)
Watcher: Improve error messages for CronEvalTool (#32800)
[DOCS] Add info about ML sum functions (elastic/x-pack-elasticsearch#1347)
HLRC: Forbid all Elasticsearch logging infra (#32784)
Make sure to use the type _doc in the REST documentation. (#34662)
Fix Eclipse build.
Support content type `application/x-ndjson` in DeprecationRestHandler (#36025)
[ML] Tolerate InternalAssumptionViolatedException in overridden test (elastic/x-pack-elasticsearch#1657)
Run Node deprecation checks locally (#38065) (#38250)
SQL: Register missing processors (#35121)
Deprecate types in index API (#36575)
Fix CoordinatorTests some more (#34039)
Settings: Remove shared setting property (#24728)
Fix a mappings update test (#33146)
Logging: Drop Settings from some logging ctors (#33332)
Remove passphrase support from reload settings API (#32889)
Removed unused Terminal param (elastic/x-pack-elasticsearch#2854)
[test] add fix for rare virtualbox error (#31212)
Fix duplicate removal when merging completion suggestions (#36996)
update ILM integ test cluster poll interval to 1s (#35113)
SQL: Move internals from Joda to java.time (#35649)
Enable BWC after backport recovering leases (#38485)
Deprecate /_xpack/monitoring/* in favor of /_monitoring/* (#36130)
HLRC: Add get rollup job (#33921)
[DOCS] Add link to ML aggregations page
HLRC: adding machine learning open job (#32860)
[ML] Lookback one extra bucket for histograms (elastic/x-pack-elasticsearch#2084)
Mute test for #35361
[ML] Rename Condition member valueFilter -> value (elastic/x-pack-elasticsearch#3599)
Fix possible missing class error (#36491)
Core: Require all actions have a Task (#31627)
Suppress lease background sync failures if stopping (#40902)
Fix BWC issue for PreSyncedFlushResponse
Assert job is not null in FullClusterRestartIT (#38218)
Start on round trip tests
Fix index prefixes to work with span_multi (#31066)
Modify x-pack to for `TcpTransport` changes
[TEST] Move test skip/blacklist assumptions out of @Before method (#25100)
test: added logging and don't use replicas
Logging: Drop Settings from some logger lookups (#33859)
Add primary term to translog header (#29227)
[DOCS] Change `detector_rules` to `rules` in ML docs
Docs: Remove s3 repository integ test documentation (#26005)
Remove deprecated AnalysisPlugin#requriesAnalysisSettings method (#32037)
Sibling of enforce access to translog via engine
SQL: Throw exceptions on errors (elastic/x-pack-elasticsearch#3066)
Rename confusing variable holding name of Logstash index template (#36840)
AwaitsFix the RecoveryIT suite - see #35597
Make RemoteClusterConnectionTests more robust against cancelable threads aborts
Docs: Test examples that recreate lang analyzers  (#29535)
[Rollup] Proactively resolve index patterns in RollupSearch endoint (#34930)
Fixed byte buffer leak in Netty4 request handler
[TEST] Fix testRecoveryAfterPrimaryPromotion
Load bootstrap elastic user password from keystore (elastic/x-pack-elasticsearch#1942)
[Zen2] Write manifest file (#35049)
[DOCS] Wrapping up distribution of X-Pack settings reference info.
Change ScriptFieldsFetchSubPhase to create search scripts once per segment (#26808)
Optimize the order of bytes in uuids for better compression. (#24615)
Update rest-api-spec to use bad_request (elastic/x-pack-elasticsearch#2507)
[Test] Minor changes to rank_eval tests (#29577)
Fix CompositeBytesReference#slice to not throw AIOOBE with legal offsets. (#35955)
Removes AwaitsFix on IndicesOptionsTests
[DOCS] Add X-Pack monitoring details for Elasticsearch (elastic/x-pack-elasticsearch#4328)
CCR: Do not minimization requesting range on leader (#30980)
Fix BWC check after backport
[ILM] make alias swapping atomic (#35972)
Remove wrong link in index phrases doc
Rollup ignores time_zone on date histogram (#40844)
Removes Painless Type in favor of Java Class from the expression nodes related to function references and lambdas. (#28433)
[BUILD] Change ordering of Java compilation and ML C++ notice extraction
[DOCS] Adds new lazy ml node setting (#34600)
Core: Add DateFormatter interface for java time parsing (#33467)
Pass DiscoveryNode to initiateChannel (#32958)
Remove deprecated constructor from failure handler (#35565)
Remove PersistentTask#isCurrentStatus() usages
SQL: Check connection on CLI startup (elastic/x-pack-elasticsearch#3278)
Build: Split distributions into oss and default
Add the ability to store objects with a ScrollContext (#24777)
Muted test. This test expose an issue inside the auto follower coordinator,
test: Index more docs, so that it is less likely the search request
Add “took” timing info to response for _msearch/template API (#30961)
Painless: Add Imported Static Method (#33440)
[ML] Align aggregated data extraction to histogram interval (elastic/x-pack-elasticsearch#2553)
Relax testStressMaybeFlushOrRollTranslogGeneration (#38918)
Automatically prepare indices for splitting (#27451)
Watcher: Fold two smoke test projects into smoke-test-watcher (#30137)
Fix publication of elasticsearch-cli to Maven
Fix elvis operator documentation
Extract the first value in an array when looking at the returned values (#40318)
Makes sure creation date garentees execution in tests
Network: Remove http.enabled setting (#29601)
Support TLS/SSL renegotiation (elastic/x-pack-elasticsearch#3600)
Improve NodeVersionAllocationDecider messages (#29356)
[DOCS] Splits the token APIs into separate pages (#32865)
Mute testFollowIndexAndCloseNode (#38360)
Merge branch 'master' into close-index-api-refactoring
HLREST: Add x-pack-info API (#31870)
Merge branch 'master' into ccr
ML: Adding support for lazy nodes (#29991) (#34538)
make the lifecycle poll-interval configurable (#3319)
Fix interoperability with < 6.3 transport clients (#30971)
[ML] Add explanation so far to file structure finder exceptions (#38191)
Add packaging tests for keystore creation
Fix template _msearch with extra tokens
Merge branch 'master' into index-lifecycle
Fix completion suggester's score tie-break (#34508)
Refactor the REST actions to clarify what endpoints are deprecated. (#36869)
[TEST] increased the number of index and delete ops to make it less likely that all ops exist as soft delete docs.
[ML] Allow stop unassigned datafeed and relax unset upgrade mode wait (#39034)
Use Elasticsearch IOUtils (elastic/x-pack-elasticsearch#4105)
Deprecate type exists requests. (#34663)
Tests: Fix VersionUtilsTests after version bump
[Zen2] Remove AbstractComponent usage (#35483)
Merge branch 'master' into index-lifecycle
Remove the `MockTcpTransport` (#36628)
Reinstate recommendation for ≥ 3 master-eligible nodes. (#27204)
Merge branch 'master' into index-lifecycle
Some more tests
inherit [index.lifecycle.date] from rolled-over time (#30853)
Upgrade t-digest to 3.2 (#28295) (#28305)
[ML] Adjust migration full cluster restart tests based on old cluster version #37118
Persistent Tasks: force writeable name of params and status to be the same as their task (#1072)
SQL: generalize the use of ? for STRING (elastic/x-pack-elasticsearch#4359)
Merge branch 'master' into index-lifecycle
[TESTS] Mute SNI tests on FIPS 140 JVMs
Use simpler write-once semantics for HDFS repository (#30439)
[Rollup] Improve ID scheme for rollup documents (#32558)
[ML] Get job stats request should filter non-ML job tasks (#33516)
Calculate changed roles on roles.yml reload (#33525)
Mute DeleteExpiredDataIT.testDeleteExpiredData
AwaitsFix failing RethrottleTests
Fix missing columns to be a 400 error (elastic/x-pack-elasticsearch#2123)
Increase the length of randomly generated field (#34857)
Extract common http logic to server (#31311)
Make sure that we don't detect files as maven coordinate when installing a plugin (#28163)
Core: Handle security manager permission for deprecation log rolling (#37281)
Switch some x-pack tests to new style Requests (#32500)
TEST: Mute testEnsureWeReconnect
Fix security index auto-create and state recovery race (#39582)
[ML-FC] Forecast status message rebase (elastic/x-pack-elasticsearch#2936)
[ML] Exclude failed jobs from node allocation decision (elastic/x-pack-elasticsearch#4395)
Deprecate `isShardsAcked()` in favour of `isShardsAcknowledged()` (#27819)
HLRC: migration api - upgrade (#34898)
Makes some fields in Index Lifecycle API optional (#3687)
Include shared/attributes.asciidoc directly from docs master
Deprecate `levenstein` in favor of `levenshtein` (#27409)
REST high-level client: add support for exists alias (#28332)
Add version 6.0.0
Expose timeout of acknowledged requests in REST layer (elastic/x-pack-elasticsearch#2259)
Fix conventions
Mute failing RolloverIT#testRolloverWithDateMath
SQL: [tests] Fix select csv spec and enable it (#35239)
Fixes shrink action to remove single ndoe allocation (#33091)
Watcher: Fix pagerduty action to send context data (elastic/x-pack-elasticsearch#3185)
throw exception when ilm-rollover-step runs on index without rollover alias (#35065)
Fixing occasional test failure in RankEvalSpecTests
Change `rational` to `saturation` in script_score (#37766)
fix setting version on deleting unmaanged indices with wildcard
Fix verify versions (#39624)
Merge remote-tracking branch 'elastic/master' into feature/sql
increase watcher logging when delegating to trigger service
Fix queries in cross-cluster search docs
test: Ported more OldIndexBackwardsCompatibilityIT tests to full cluster restart qa tests. (#25173)
Reject illegal flush parameters (#40213)
Add console appender to deprecated settings test
[DOCS] Update doc build info in README
Remove unused variable in QueryContainer
[DOCS] Mute failing test snippet
stop using illegal logging of Object
Muting AutoFollowIT.testAutoFollowManyIndices (#39264)
Fix compilation
[Security] Include doc-type in _id for tokens (elastic/x-pack-elasticsearch#1473)
Auto-expand replicas when adding or removing nodes (#30423)
Add support for API keys to access Elasticsearch (#38291)
Allow date math for naming newly-created snapshots (#7939) (#30479)
Snapshot/Restore: Ensure that shard failure reasons are correctly stored in CS (#25941)
fix merge messup
Persist generated public keys unencrypted (#34626)
CCR: Translog op on primary should have versionType
[ILM] add HLRC docs to remove-policy-from-index (#35759)
Rename ranking evaluation `quality_level` to `metric_score` (#32168)
[Logstash] Add new component to x-pack to handle LS features (elastic/x-pack-elasticsearch#1530)
Do not add index event listener if CCR disabled (#37432)
[ML] Refactoring scheduled event to store instant instead of zoned time zone (#39380)
Revert "Increase the REST test timeout. (#28640)"
Bubble exceptions up in ClusterApplierService (#37729)
[DOCS] Renamed X-Pack release notes
[SAML] Saml metadata signing (elastic/x-pack-elasticsearch#4184)
Update removal_of_types.asciidoc
Bumping version to v6.0.0-alpha3 (#25077)
Add Z value support to geo_shape
[TEST] Redirect links to new locations (#30179)
Bundle java in distributions (#38013)
[Docs] Document Update API for Java High Level REST Client (#25536)
Fix problem with MatchNoDocsQuery in disjunction queries (#35726)
REST high-level client: add clear cache API (#28866)
Decouple ClusterStateTaskListener & ClusterApplier (#30809)
Permission for restricted indices (#37577)
Move ML Optimistic Concurrency Control to Seq No (#38278)
Revisit deletion policy after release the last snapshot (#28627)
Build: Extract all ES versions into gradle properties (#24748)
TransportShardBulkAction: remove hard version assertion and improve todo comment
Moved HtmlStripCharFilterFactory to analyis.common package like the other factories.
Cleanup TcpChannelFactory and remove classes (#28102)
CCR: Rename follow-task parameters and stats (#34836)
Fix test failures related to file corruption (#36530)
Test: fix kibana user role works in mixed cluster on older versions
Documentation: Fix watcher script condition using params
test: Added a full cluster restart test for index shrinking
Merge branch 'master' into index-lifecycle
Tweaked Elasticsearch Service links for SEO
Remove unnecessary warning supressions (#32250)
Adds Allocate lifecycle action (#3484)
Fsync state file before exposing it (#30929)
Mute broken test on MacOS
[analysis-icu] Allow setting unicodeSetFilter (#20814)
Testclusters: Refactor and fix for newly added tests (#34818)
Expose `max_concurrent_shard_requests` in `_msearch` (#33016)
Merge remote-tracking branch 'es/master' into ccr
Do not preallocate bytes for channel buffer (#31400)
[Docs] Use capital letters in section headings (#31678)
fix StartRecoveryRequestTests.testSerialization
Merge remote-tracking branch 'elastic/master' into feature/sql
Make SignificantTerms.Bucket an interface rather than an abstract class
Test fix - ensure forceMerged to single segment to avoid scoring variations in tests.
Change query field expansion (#33020)
Add sql folder for upcoming migration (elastic/x-pack-elasticsearch#3307)
Watcher: Fix wrong logging in reporting attachment parser (elastic/x-pack-elasticsearch#1900)
